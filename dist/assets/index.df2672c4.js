(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerpolicy&&(rt.referrerPolicy=nt.referrerpolicy),nt.crossorigin==="use-credentials"?rt.credentials="include":nt.crossorigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();const App$1="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(o){return o===null||typeof o!="object"?null:(o=z$3&&o[z$3]||o["@@iterator"],typeof o=="function"?o:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$2(o,s,et){this.props=o,this.context=s,this.refs=D$1,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(o,s){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,s,"setState")};E$2.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(o,s,et){this.props=o,this.context=s,this.refs=D$1,this.updater=et||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$1(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(o,s,et){var tt,nt={},rt=null,it=null;if(s!=null)for(tt in s.ref!==void 0&&(it=s.ref),s.key!==void 0&&(rt=""+s.key),s)J$1.call(s,tt)&&!L$2.hasOwnProperty(tt)&&(nt[tt]=s[tt]);var st=arguments.length-2;if(st===1)nt.children=et;else if(1<st){for(var ot=Array(st),at=0;at<st;at++)ot[at]=arguments[at+2];nt.children=ot}if(o&&o.defaultProps)for(tt in st=o.defaultProps,st)nt[tt]===void 0&&(nt[tt]=st[tt]);return{$$typeof:l$2,type:o,key:rt,ref:it,props:nt,_owner:K$2.current}}function N$2(o,s){return{$$typeof:l$2,type:o.type,key:s,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape$1(o){var s={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(et){return s[et]})}var P$2=/\/+/g;function Q$2(o,s){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):s.toString(36)}function R$1(o,s,et,tt,nt){var rt=typeof o;(rt==="undefined"||rt==="boolean")&&(o=null);var it=!1;if(o===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch(o.$$typeof){case l$2:case n$2:it=!0}}if(it)return it=o,nt=nt(it),o=tt===""?"."+Q$2(it,0):tt,I$2(nt)?(et="",o!=null&&(et=o.replace(P$2,"$&/")+"/"),R$1(nt,s,et,"",function(at){return at})):nt!=null&&(O$1(nt)&&(nt=N$2(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+o)),s.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$2(o))for(var st=0;st<o.length;st++){rt=o[st];var ot=tt+Q$2(rt,st);it+=R$1(rt,s,et,ot,nt)}else if(ot=A$3(o),typeof ot=="function")for(o=ot.call(o),st=0;!(rt=o.next()).done;)rt=rt.value,ot=tt+Q$2(rt,st++),it+=R$1(rt,s,et,ot,nt);else if(rt==="object")throw s=String(o),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return it}function S$2(o,s,et){if(o==null)return o;var tt=[],nt=0;return R$1(o,tt,"","",function(rt){return s.call(et,rt,nt++)}),tt}function T$2(o){if(o._status===-1){var s=o._result;s=s(),s.then(function(et){(o._status===0||o._status===-1)&&(o._status=1,o._result=et)},function(et){(o._status===0||o._status===-1)&&(o._status=2,o._result=et)}),o._status===-1&&(o._status=0,o._result=s)}if(o._status===1)return o._result.default;throw o._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(o,s,et){S$2(o,function(){s.apply(this,arguments)},et)},count:function(o){var s=0;return S$2(o,function(){s++}),s},toArray:function(o){return S$2(o,function(s){return s})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(o,s,et){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var tt=C$1({},o.props),nt=o.key,rt=o.ref,it=o._owner;if(s!=null){if(s.ref!==void 0&&(rt=s.ref,it=K$2.current),s.key!==void 0&&(nt=""+s.key),o.type&&o.type.defaultProps)var st=o.type.defaultProps;for(ot in s)J$1.call(s,ot)&&!L$2.hasOwnProperty(ot)&&(tt[ot]=s[ot]===void 0&&st!==void 0?st[ot]:s[ot])}var ot=arguments.length-2;if(ot===1)tt.children=et;else if(1<ot){st=Array(ot);for(var at=0;at<ot;at++)st[at]=arguments[at+2];tt.children=st}return{$$typeof:l$2,type:o.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$1,_context:o},o.Consumer=o};react_production_min.createElement=M$2;react_production_min.createFactory=function(o){var s=M$2.bind(null,o);return s.type=o,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$4,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$2}};react_production_min.memo=function(o,s){return{$$typeof:x$2,type:o,compare:s===void 0?null:s}};react_production_min.startTransition=function(o){var s=V$2.transition;V$2.transition={};try{o()}finally{V$2.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,s){return U$2.current.useCallback(o,s)};react_production_min.useContext=function(o){return U$2.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$2.current.useDeferredValue(o)};react_production_min.useEffect=function(o,s){return U$2.current.useEffect(o,s)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(o,s,et){return U$2.current.useImperativeHandle(o,s,et)};react_production_min.useInsertionEffect=function(o,s){return U$2.current.useInsertionEffect(o,s)};react_production_min.useLayoutEffect=function(o,s){return U$2.current.useLayoutEffect(o,s)};react_production_min.useMemo=function(o,s){return U$2.current.useMemo(o,s)};react_production_min.useReducer=function(o,s,et){return U$2.current.useReducer(o,s,et)};react_production_min.useRef=function(o){return U$2.current.useRef(o)};react_production_min.useState=function(o){return U$2.current.useState(o)};react_production_min.useSyncExternalStore=function(o,s,et){return U$2.current.useSyncExternalStore(o,s,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(o){o.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function s(Tt,Pt){var Rt=Tt.length;Tt.push(Pt);e:for(;0<Rt;){var Vt=Rt-1>>>1,Ot=Tt[Vt];if(0<nt(Ot,Pt))Tt[Vt]=Pt,Tt[Rt]=Ot,Rt=Vt;else break e}}function et(Tt){return Tt.length===0?null:Tt[0]}function tt(Tt){if(Tt.length===0)return null;var Pt=Tt[0],Rt=Tt.pop();if(Rt!==Pt){Tt[0]=Rt;e:for(var Vt=0,Ot=Tt.length,Xt=Ot>>>1;Vt<Xt;){var Kt=2*(Vt+1)-1,fn=Tt[Kt],Nt=Kt+1,vn=Tt[Nt];if(0>nt(fn,Rt))Nt<Ot&&0>nt(vn,fn)?(Tt[Vt]=vn,Tt[Nt]=Rt,Vt=Nt):(Tt[Vt]=fn,Tt[Kt]=Rt,Vt=Kt);else if(Nt<Ot&&0>nt(vn,Rt))Tt[Vt]=vn,Tt[Nt]=Rt,Vt=Nt;else break e}}return Pt}function nt(Tt,Pt){var Rt=Tt.sortIndex-Pt.sortIndex;return Rt!==0?Rt:Tt.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;o.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();o.unstable_now=function(){return it.now()-st}}var ot=[],at=[],ut=1,ht=null,ft=3,dt=!1,vt=!1,gt=!1,_t=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Tt){for(var Pt=et(at);Pt!==null;){if(Pt.callback===null)tt(at);else if(Pt.startTime<=Tt)tt(at),Pt.sortIndex=Pt.expirationTime,s(ot,Pt);else break;Pt=et(at)}}function xt(Tt){if(gt=!1,yt(Tt),!vt)if(et(ot)!==null)vt=!0,Ft(bt);else{var Pt=et(at);Pt!==null&&It(xt,Pt.startTime-Tt)}}function bt(Tt,Pt){vt=!1,gt&&(gt=!1,pt(Et),Et=-1),dt=!0;var Rt=ft;try{for(yt(Pt),ht=et(ot);ht!==null&&(!(ht.expirationTime>Pt)||Tt&&!zt());){var Vt=ht.callback;if(typeof Vt=="function"){ht.callback=null,ft=ht.priorityLevel;var Ot=Vt(ht.expirationTime<=Pt);Pt=o.unstable_now(),typeof Ot=="function"?ht.callback=Ot:ht===et(ot)&&tt(ot),yt(Pt)}else tt(ot);ht=et(ot)}if(ht!==null)var Xt=!0;else{var Kt=et(at);Kt!==null&&It(xt,Kt.startTime-Pt),Xt=!1}return Xt}finally{ht=null,ft=Rt,dt=!1}}var wt=!1,Ct=null,Et=-1,kt=5,Dt=-1;function zt(){return!(o.unstable_now()-Dt<kt)}function Wt(){if(Ct!==null){var Tt=o.unstable_now();Dt=Tt;var Pt=!0;try{Pt=Ct(!0,Tt)}finally{Pt?Ht():(wt=!1,Ct=null)}}else wt=!1}var Ht;if(typeof mt=="function")Ht=function(){mt(Wt)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,$t=Gt.port2;Gt.port1.onmessage=Wt,Ht=function(){$t.postMessage(null)}}else Ht=function(){_t(Wt,0)};function Ft(Tt){Ct=Tt,wt||(wt=!0,Ht())}function It(Tt,Pt){Et=_t(function(){Tt(o.unstable_now())},Pt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Tt){Tt.callback=null},o.unstable_continueExecution=function(){vt||dt||(vt=!0,Ft(bt))},o.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kt=0<Tt?Math.floor(1e3/Tt):5},o.unstable_getCurrentPriorityLevel=function(){return ft},o.unstable_getFirstCallbackNode=function(){return et(ot)},o.unstable_next=function(Tt){switch(ft){case 1:case 2:case 3:var Pt=3;break;default:Pt=ft}var Rt=ft;ft=Pt;try{return Tt()}finally{ft=Rt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Tt,Pt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Rt=ft;ft=Tt;try{return Pt()}finally{ft=Rt}},o.unstable_scheduleCallback=function(Tt,Pt,Rt){var Vt=o.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?Vt+Rt:Vt):Rt=Vt,Tt){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=Rt+Ot,Tt={id:ut++,callback:Pt,priorityLevel:Tt,startTime:Rt,expirationTime:Ot,sortIndex:-1},Rt>Vt?(Tt.sortIndex=Rt,s(at,Tt),et(ot)===null&&Tt===et(at)&&(gt?(pt(Et),Et=-1):gt=!0,It(xt,Rt-Vt))):(Tt.sortIndex=Ot,s(ot,Tt),vt||dt||(vt=!0,Ft(bt))),Tt},o.unstable_shouldYield=zt,o.unstable_wrapCallback=function(Tt){var Pt=ft;return function(){var Rt=ft;ft=Pt;try{return Tt.apply(this,arguments)}finally{ft=Rt}}}})(scheduler_production_min$2);(function(o){o.exports=scheduler_production_min$2})(scheduler$2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca$1=scheduler$2.exports;function p$2(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,et=1;et<arguments.length;et++)s+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,s){ha(o,s),ha(o+"Capture",s)}function ha(o,s){for(ea[o]=s,o=0;o<s.length;o++)da.add(s[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,s,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,s,et,tt){if(s===null||typeof s>"u"||pa(o,s,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$3(o,s,et,tt,nt,rt,it){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=o,this.type=s,this.sanitizeURL=rt,this.removeEmptyString=it}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$2[o]=new v$3(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];z$2[s]=new v$3(s,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$2[o]=new v$3(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$2[o]=new v$3(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$2[o]=new v$3(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$2[o]=new v$3(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$2[o]=new v$3(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$2[o]=new v$3(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$2[o]=new v$3(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(ra,sa);z$2[s]=new v$3(s,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(ra,sa);z$2[s]=new v$3(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(ra,sa);z$2[s]=new v$3(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$2[o]=new v$3(o,1,!1,o.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$2[o]=new v$3(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,s,et,tt){var nt=z$2.hasOwnProperty(s)?z$2[s]:null;(nt!==null?nt.type!==0:tt||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,et,nt,tt)&&(et=null),tt||nt===null?oa(s)&&(et===null?o.removeAttribute(s):o.setAttribute(s,""+et)):nt.mustUseProperty?o[nt.propertyName]=et===null?nt.type===3?!1:"":et:(s=nt.attributeName,tt=nt.attributeNamespace,et===null?o.removeAttribute(s):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?o.setAttributeNS(tt,s,et):o.setAttribute(s,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A$2=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(et){var s=et.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+o}var Na=!1;function Oa(o,s){if(!o||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(at){var tt=at}Reflect.construct(o,[],s)}else{try{s.call()}catch(at){tt=at}o.call(s.prototype)}else{try{throw Error()}catch(at){tt=at}o()}}catch(at){if(at&&tt&&typeof at.stack=="string"){for(var nt=at.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,st=rt.length-1;1<=it&&0<=st&&nt[it]!==rt[st];)st--;for(;1<=it&&0<=st;it--,st--)if(nt[it]!==rt[st]){if(it!==1||st!==1)do if(it--,st--,0>st||nt[it]!==rt[st]){var ot=`
`+nt[it].replace(" at new "," at ");return o.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",o.displayName)),ot}while(1<=it&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return s=o.displayName||null,s!==null?s:Qa(o.type)||"Memo";case Ha:s=o._payload,o=o._init;try{return Qa(o(s))}catch{}}return null}function Ra(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(o){var s=Ta(o)?"checked":"value",et=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),tt=""+o[s];if(!o.hasOwnProperty(s)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty(o,s,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var et=s.getValue(),tt="";return o&&(tt=Ta(o)?o.checked?"true":"false":o.value),o=tt,o!==et?(s.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,s){var et=s.checked;return A$2({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et!=null?et:o._wrapperState.initialChecked})}function Za(o,s){var et=s.defaultValue==null?"":s.defaultValue,tt=s.checked!=null?s.checked:s.defaultChecked;et=Sa(s.value!=null?s.value:et),o._wrapperState={initialChecked:tt,initialValue:et,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(o,s){s=s.checked,s!=null&&ta(o,"checked",s,!1)}function bb(o,s){ab(o,s);var et=Sa(s.value),tt=s.type;if(et!=null)tt==="number"?(et===0&&o.value===""||o.value!=et)&&(o.value=""+et):o.value!==""+et&&(o.value=""+et);else if(tt==="submit"||tt==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?cb$1(o,s.type,et):s.hasOwnProperty("defaultValue")&&cb$1(o,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function db(o,s,et){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var tt=s.type;if(!(tt!=="submit"&&tt!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,et||s===o.value||(o.value=s),o.defaultValue=s}et=o.name,et!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,et!==""&&(o.name=et)}function cb$1(o,s,et){(s!=="number"||Xa(o.ownerDocument)!==o)&&(et==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+et&&(o.defaultValue=""+et))}var eb=Array.isArray;function fb(o,s,et,tt){if(o=o.options,s){s={};for(var nt=0;nt<et.length;nt++)s["$"+et[nt]]=!0;for(et=0;et<o.length;et++)nt=s.hasOwnProperty("$"+o[et].value),o[et].selected!==nt&&(o[et].selected=nt),nt&&tt&&(o[et].defaultSelected=!0)}else{for(et=""+Sa(et),s=null,nt=0;nt<o.length;nt++){if(o[nt].value===et){o[nt].selected=!0,tt&&(o[nt].defaultSelected=!0);return}s!==null||o[nt].disabled||(s=o[nt])}s!==null&&(s.selected=!0)}}function gb(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$2({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,s){var et=s.value;if(et==null){if(et=s.children,s=s.defaultValue,et!=null){if(s!=null)throw Error(p$2(92));if(eb(et)){if(1<et.length)throw Error(p$2(93));et=et[0]}s=et}s==null&&(s=""),et=s}o._wrapperState={initialValue:Sa(et)}}function ib(o,s){var et=Sa(s.value),tt=Sa(s.defaultValue);et!=null&&(et=""+et,et!==o.value&&(o.value=et),s.defaultValue==null&&o.defaultValue!==et&&(o.defaultValue=et)),tt!=null&&(o.defaultValue=""+tt)}function jb(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return o(s,et,tt,nt)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function ob(o,s){if(s){var et=o.firstChild;if(et&&et===o.lastChild&&et.nodeType===3){et.nodeValue=s;return}}o.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),pb[s]=pb[o]})});function rb(o,s,et){return s==null||typeof s=="boolean"||s===""?"":et||typeof s!="number"||s===0||pb.hasOwnProperty(o)&&pb[o]?(""+s).trim():s+"px"}function sb(o,s){o=o.style;for(var et in s)if(s.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb(et,s[et],tt);et==="float"&&(et="cssFloat"),tt?o.setProperty(et,nt):o[et]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,s){if(s){if(tb[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$2(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$2(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$2(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$2(62))}}function vb(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$2(280));var s=o.stateNode;s&&(s=Db(s),yb(o.stateNode,o.type,s))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,s=Ab;if(Ab=zb=null,Bb(o),s)for(o=0;o<s.length;o++)Bb(s[o])}}function Gb(o,s){return o(s)}function Hb(){}var Ib=!1;function Jb(o,s,et){if(Ib)return o(s,et);Ib=!0;try{return Gb(o,s,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,s){var et=o.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(o=o.type,tt=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!tt;break e;default:o=!1}if(o)return null;if(et&&typeof et!="function")throw Error(p$2(231,s,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,s,et,tt,nt,rt,it,st,ot){var at=Array.prototype.slice.call(arguments,3);try{s.apply(et,at)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,s,et,tt,nt,rt,it,st,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,s,et,tt,nt,rt,it,st,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var at=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=at)}}function Vb(o){var s=o,et=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(et=s.return),o=s.return;while(o)}return s.tag===3?et:null}function Wb(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$2(188))}function Yb(o){var s=o.alternate;if(!s){if(s=Vb(o),s===null)throw Error(p$2(188));return s!==o?null:o}for(var et=o,tt=s;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb(nt),o;if(rt===tt)return Xb(nt),s;rt=rt.sibling}throw Error(p$2(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,st=nt.child;st;){if(st===et){it=!0,et=nt,tt=rt;break}if(st===tt){it=!0,tt=nt,et=rt;break}st=st.sibling}if(!it){for(st=rt.child;st;){if(st===et){it=!0,et=rt,tt=nt;break}if(st===tt){it=!0,tt=rt,et=nt;break}st=st.sibling}if(!it)throw Error(p$2(189))}}if(et.alternate!==tt)throw Error(p$2(190))}if(et.tag!==3)throw Error(p$2(188));return et.stateNode.current===et?o:s}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=$b(o);if(s!==null)return s;o=o.sibling}return null}var ac=ca$1.unstable_scheduleCallback,bc=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec=ca$1.unstable_getCurrentPriorityLevel,fc=ca$1.unstable_ImmediatePriority,gc=ca$1.unstable_UserBlockingPriority,hc=ca$1.unstable_NormalPriority,ic=ca$1.unstable_LowPriority,jc=ca$1.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,s){var et=o.pendingLanes;if(et===0)return 0;var tt=0,nt=o.suspendedLanes,rt=o.pingedLanes,it=et&268435455;if(it!==0){var st=it&~nt;st!==0?tt=tc(st):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=et&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if(s!==0&&s!==tt&&(s&nt)===0&&(nt=tt&-tt,rt=s&-s,nt>=rt||nt===16&&(rt&4194240)!==0))return s;if((tt&4)!==0&&(tt|=et&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=tt;0<s;)et=31-oc(s),nt=1<<et,tt|=o[et],s&=~nt;return tt}function vc(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,s){for(var et=o.suspendedLanes,tt=o.pingedLanes,nt=o.expirationTimes,rt=o.pendingLanes;0<rt;){var it=31-oc(rt),st=1<<it,ot=nt[it];ot===-1?((st&et)===0||(st&tt)!==0)&&(nt[it]=vc(st,s)):ot<=s&&(o.expiredLanes|=st),rt&=~st}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),o}function zc(o){for(var s=[],et=0;31>et;et++)s.push(o);return s}function Ac(o,s,et){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-oc(s),o[s]=et}function Bc(o,s){var et=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var tt=o.eventTimes;for(o=o.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;s[nt]=0,tt[nt]=-1,o[nt]=-1,et&=~rt}}function Cc(o,s){var et=o.entangledLanes|=s;for(o=o.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&s|o[tt]&s&&(o[tt]|=s),et&=~nt}}var C=0;function Dc(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,s){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(o,s,et,tt,nt,rt){return o===null||o.nativeEvent!==rt?(o={blockedOn:s,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),o):(o.eventSystemFlags|=tt,s=o.targetContainers,nt!==null&&s.indexOf(nt)===-1&&s.push(nt),o)}function Uc(o,s,et,tt,nt){switch(s){case"focusin":return Lc=Tc(Lc,o,s,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,o,s,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,o,s,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,o,s,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,o,s,et,tt,nt)),!0}return!1}function Vc(o){var s=Wc(o.target);if(s!==null){var et=Vb(s);if(et!==null){if(s=et.tag,s===13){if(s=Wb(et),s!==null){o.blockedOn=s,Ic(o.priority,function(){Gc(et)});return}}else if(s===3&&et.stateNode.current.memoizedState.isDehydrated){o.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var et=Yc(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(et===null){et=o.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return s=Cb(et),s!==null&&Fc(s),o.blockedOn=et,!1;s.shift()}return!0}function Zc(o,s,et){Xc(o)&&et.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,s){o.blockedOn===s&&(o.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c)))}function bd(o){function s(nt){return ad(nt,o)}if(0<Kc.length){ad(Kc[0],o);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===o&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(s),Pc.forEach(s),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===o&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,s,et,tt){var nt=C,rt=cd.transition;cd.transition=null;try{C=1,fd(o,s,et,tt)}finally{C=nt,cd.transition=rt}}function gd(o,s,et,tt){var nt=C,rt=cd.transition;cd.transition=null;try{C=4,fd(o,s,et,tt)}finally{C=nt,cd.transition=rt}}function fd(o,s,et,tt){if(dd){var nt=Yc(o,s,et,tt);if(nt===null)hd(o,s,tt,id$4,et),Sc(o,tt);else if(Uc(nt,o,s,et,tt))tt.stopPropagation();else if(Sc(o,tt),s&4&&-1<Rc.indexOf(o)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc(o,s,et,tt),rt===null&&hd(o,s,tt,id$4,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd(o,s,tt,null,et)}}var id$4=null;function Yc(o,s,et,tt){if(id$4=null,o=xb(tt),o=Wc(o),o!==null)if(s=Vb(o),s===null)o=null;else if(et=s.tag,et===13){if(o=Wb(s),o!==null)return o;o=null}else if(et===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return id$4=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,s=ld,et=s.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for(o=0;o<et&&s[o]===nt[o];o++);var it=et-o;for(tt=1;tt<=it&&s[et-tt]===nt[rt-tt];tt++);return md=nt.slice(o,1<tt?1-tt:void 0)}function od(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function s(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var st in o)o.hasOwnProperty(st)&&(et=o[st],this[st]=et?et(rt):rt[st]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Od[o])?!!s[o]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(o){if(o.key){var s=Md[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(o,s){switch(o){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie$1=!1;function je$1(o,s){switch(o){case"compositionend":return he$1(s);case"keypress":return s.which!==32?null:(fe$1=!0,ee$1);case"textInput":return o=s.data,o===ee$1&&fe$1?null:o;default:return null}}function ke$1(o,s){if(ie$1)return o==="compositionend"||!ae$1&&ge$1(o,s)?(o=nd(),md=ld=kd=null,ie$1=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de$1&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!le[o.type]:s==="textarea"}function ne$1(o,s,et,tt){Eb(tt),s=oe$1(s,"onChange"),0<s.length&&(et=new td("onChange","change",null,et,tt),o.push({event:et,listeners:s}))}var pe$1=null,qe$1=null;function re$1(o){se$1(o,0)}function te$1(o){var s=ue$1(o);if(Wa(s))return o}function ve$1(o,s){if(o==="change")return s}var we$1=!1;if(ia){var xe$1;if(ia){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe$1=ye}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(o){if(o.propertyName==="value"&&te$1(qe$1)){var s=[];ne$1(s,qe$1,o,xb(o)),Jb(re$1,s)}}function Ce$1(o,s,et){o==="focusin"?(Ae$1(),pe$1=s,qe$1=et,pe$1.attachEvent("onpropertychange",Be$1)):o==="focusout"&&Ae$1()}function De$1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te$1(qe$1)}function Ee$1(o,s){if(o==="click")return te$1(s)}function Fe(o,s){if(o==="input"||o==="change")return te$1(s)}function Ge$1(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie(o,s){if(He$1(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var et=Object.keys(o),tt=Object.keys(s);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(s,nt)||!He$1(o[nt],s[nt]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,s){var et=Je(o);o=0;for(var tt;et;){if(et.nodeType===3){if(tt=o+et.textContent.length,o<=s&&tt>=s)return{node:et,offset:s-o};o=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Le(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Me$1(){for(var o=window,s=Xa();s instanceof o.HTMLIFrameElement;){try{var et=typeof s.contentWindow.location.href=="string"}catch{et=!1}if(et)o=s.contentWindow;else break;s=Xa(o.document)}return s}function Ne$1(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function Oe(o){var s=Me$1(),et=o.focusedElem,tt=o.selectionRange;if(s!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne$1(et)){if(s=tt.start,o=tt.end,o===void 0&&(o=s),"selectionStart"in et)et.selectionStart=s,et.selectionEnd=Math.min(o,et.value.length);else if(o=(s=et.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!o.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&(o.rangeCount!==1||o.anchorNode!==nt.node||o.anchorOffset!==nt.offset||o.focusNode!==it.node||o.focusOffset!==it.offset)&&(s=s.createRange(),s.setStart(nt.node,nt.offset),o.removeAllRanges(),rt>tt?(o.addRange(s),o.extend(it.node,it.offset)):(s.setEnd(it.node,it.offset),o.addRange(s)))}}for(s=[],o=et;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<s.length;et++)o=s[et],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(o,s,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te$1||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne$1(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se$1&&Ie(Se$1,tt)||(Se$1=tt,tt=oe$1(Re$1,"onSelect"),0<tt.length&&(s=new td("onSelect","select",null,s,et),o.push({event:s,listeners:tt}),s.target=Qe)))}function Ve$1(o,s){var et={};return et[o.toLowerCase()]=s.toLowerCase(),et["Webkit"+o]="webkit"+s,et["Moz"+o]="moz"+s,et}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var s=We[o],et;for(et in s)if(s.hasOwnProperty(et)&&et in Ye$1)return Xe[o]=s[et];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,s){df.set(o,s),fa(s,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,s,et){var tt=o.type||"unknown-event";o.currentTarget=et,Ub(tt,s,void 0,o),o.currentTarget=null}function se$1(o,s){s=(s&4)!==0;for(var et=0;et<o.length;et++){var tt=o[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(s)for(var it=tt.length-1;0<=it;it--){var st=tt[it],ot=st.instance,at=st.currentTarget;if(st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}else for(it=0;it<tt.length;it++){if(st=tt[it],ot=st.instance,at=st.currentTarget,st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,s){var et=s[of];et===void 0&&(et=s[of]=new Set);var tt=o+"__bubble";et.has(tt)||(pf(s,o,2,!1),et.add(tt))}function qf(o,s,et){var tt=0;s&&(tt|=4),pf(et,o,tt,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,o),qf(et,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(o,s,et,tt){switch(jd(s)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,s,et,o),nt=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(nt=!0),tt?nt!==void 0?o.addEventListener(s,et,{capture:!0,passive:nt}):o.addEventListener(s,et,!0):nt!==void 0?o.addEventListener(s,et,{passive:nt}):o.addEventListener(s,et,!1)}function hd(o,s,et,tt,nt){var rt=tt;if((s&1)===0&&(s&2)===0&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var st=tt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var ot=it.tag;if((ot===3||ot===4)&&(ot=it.stateNode.containerInfo,ot===nt||ot.nodeType===8&&ot.parentNode===nt))return;it=it.return}for(;st!==null;){if(it=Wc(st),it===null)return;if(ot=it.tag,ot===5||ot===6){tt=rt=it;continue e}st=st.parentNode}}tt=tt.return}Jb(function(){var at=rt,ut=xb(et),ht=[];e:{var ft=df.get(o);if(ft!==void 0){var dt=td,vt=o;switch(o){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":vt="focus",dt=Fd;break;case"focusout":vt="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var gt=(s&4)!==0,_t=!gt&&o==="scroll",pt=gt?ft!==null?ft+"Capture":null:ft;gt=[];for(var mt=at,yt;mt!==null;){yt=mt;var xt=yt.stateNode;if(yt.tag===5&&xt!==null&&(yt=xt,pt!==null&&(xt=Kb(mt,pt),xt!=null&&gt.push(tf(mt,xt,yt)))),_t)break;mt=mt.return}0<gt.length&&(ft=new dt(ft,vt,null,et,ut),ht.push({event:ft,listeners:gt}))}}if((s&7)===0){e:{if(ft=o==="mouseover"||o==="pointerover",dt=o==="mouseout"||o==="pointerout",ft&&et!==wb&&(vt=et.relatedTarget||et.fromElement)&&(Wc(vt)||vt[uf]))break e;if((dt||ft)&&(ft=ut.window===ut?ut:(ft=ut.ownerDocument)?ft.defaultView||ft.parentWindow:window,dt?(vt=et.relatedTarget||et.toElement,dt=at,vt=vt?Wc(vt):null,vt!==null&&(_t=Vb(vt),vt!==_t||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(dt=null,vt=at),dt!==vt)){if(gt=Bd,xt="onMouseLeave",pt="onMouseEnter",mt="mouse",(o==="pointerout"||o==="pointerover")&&(gt=Td,xt="onPointerLeave",pt="onPointerEnter",mt="pointer"),_t=dt==null?ft:ue$1(dt),yt=vt==null?ft:ue$1(vt),ft=new gt(xt,mt+"leave",dt,et,ut),ft.target=_t,ft.relatedTarget=yt,xt=null,Wc(ut)===at&&(gt=new gt(pt,mt+"enter",vt,et,ut),gt.target=yt,gt.relatedTarget=_t,xt=gt),_t=xt,dt&&vt)t:{for(gt=dt,pt=vt,mt=0,yt=gt;yt;yt=vf(yt))mt++;for(yt=0,xt=pt;xt;xt=vf(xt))yt++;for(;0<mt-yt;)gt=vf(gt),mt--;for(;0<yt-mt;)pt=vf(pt),yt--;for(;mt--;){if(gt===pt||pt!==null&&gt===pt.alternate)break t;gt=vf(gt),pt=vf(pt)}gt=null}else gt=null;dt!==null&&wf(ht,ft,dt,gt,!1),vt!==null&&_t!==null&&wf(ht,_t,vt,gt,!0)}}e:{if(ft=at?ue$1(at):window,dt=ft.nodeName&&ft.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ft.type==="file")var bt=ve$1;else if(me$1(ft))if(we$1)bt=Fe;else{bt=De$1;var wt=Ce$1}else(dt=ft.nodeName)&&dt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(bt=Ee$1);if(bt&&(bt=bt(o,at))){ne$1(ht,bt,et,ut);break e}wt&&wt(o,ft,at),o==="focusout"&&(wt=ft._wrapperState)&&wt.controlled&&ft.type==="number"&&cb$1(ft,"number",ft.value)}switch(wt=at?ue$1(at):window,o){case"focusin":(me$1(wt)||wt.contentEditable==="true")&&(Qe=wt,Re$1=at,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ht,et,ut);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ht,et,ut)}var Ct;if(ae$1)e:{switch(o){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ie$1?ge$1(o,et)&&(Et="onCompositionEnd"):o==="keydown"&&et.keyCode===229&&(Et="onCompositionStart");Et&&(de$1&&et.locale!=="ko"&&(ie$1||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ie$1&&(Ct=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),wt=oe$1(at,Et),0<wt.length&&(Et=new Ld(Et,o,null,et,ut),ht.push({event:Et,listeners:wt}),Ct?Et.data=Ct:(Ct=he$1(et),Ct!==null&&(Et.data=Ct)))),(Ct=ce$1?je$1(o,et):ke$1(o,et))&&(at=oe$1(at,"onBeforeInput"),0<at.length&&(ut=new Ld("onBeforeInput","beforeinput",null,et,ut),ht.push({event:ut,listeners:at}),ut.data=Ct))}se$1(ht,s)})}function tf(o,s,et){return{instance:o,listener:s,currentTarget:et}}function oe$1(o,s){for(var et=s+"Capture",tt=[];o!==null;){var nt=o,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb(o,et),rt!=null&&tt.unshift(tf(o,rt,nt)),rt=Kb(o,s),rt!=null&&tt.push(tf(o,rt,nt))),o=o.return}return tt}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,s,et,tt,nt){for(var rt=s._reactName,it=[];et!==null&&et!==tt;){var st=et,ot=st.alternate,at=st.stateNode;if(ot!==null&&ot===tt)break;st.tag===5&&at!==null&&(st=at,nt?(ot=Kb(et,rt),ot!=null&&it.unshift(tf(et,ot,st))):nt||(ot=Kb(et,rt),ot!=null&&it.push(tf(et,ot,st)))),et=et.return}it.length!==0&&o.push({event:s,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,s,et){if(s=zf(s),zf(o)!==s&&et)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,s){var et=s,tt=0;do{var nt=et.nextSibling;if(o.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){o.removeChild(nt),bd(s);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd(s)}function Lf(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var et=o.data;if(et==="$"||et==="$!"||et==="$?"){if(s===0)return o;s--}else et==="/$"&&s++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var s=o[Of];if(s)return s;for(var et=o.parentNode;et;){if(s=et[uf]||et[Of]){if(et=s.alternate,s.child!==null||et!==null&&et.child!==null)for(o=Mf(o);o!==null;){if(et=o[Of])return et;o=Mf(o)}return s}o=et,et=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue$1(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$2(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E$1(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(o,s){Tf++,Sf[Tf]=o.current,o.current=s}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,s){var et=o.type.contextTypes;if(!et)return Vf;var tt=o.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===s)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=s[rt];return tt&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(o,s,et){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,s),G$1(Wf,et)}function bg(o,s,et){var tt=o.stateNode;if(s=s.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in s))throw Error(p$2(108,Ra(o)||"Unknown",nt));return A$2({},et,tt)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,o),G$1(Wf,Wf.current),!0}function dg(o,s,et){var tt=o.stateNode;if(!tt)throw Error(p$2(169));et?(o=bg(o,s,Xf),tt.__reactInternalMemoizedMergedChildContext=o,E$1(Wf),E$1(H$1),G$1(H$1,o)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,s=C;try{var et=eg;for(C=1;o<et.length;o++){var tt=et[o];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),nt}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,s){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=s}function ug(o,s,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var tt=rg;o=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc(s)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc(s)+nt|et<<nt|tt,sg=rt+o}else rg=1<<rt|et<<nt|tt,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(o,s){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=s,et.return=o,s=o.deletions,s===null?(o.deletions=[et],o.flags|=16):s.push(et)}function Cg(o,s){switch(o.tag){case 5:var et=o.type;return s=s.nodeType!==1||et.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,xg=o,yg=Lf(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,xg=o,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(et=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:s,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=s,et.return=o,o.child=et,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I$1){var s=yg;if(s){var et=s;if(!Cg(o,s)){if(Dg(o))throw Error(p$2(418));s=Lf(et.nextSibling);var tt=xg;s&&Cg(o,s)?Ag(tt,et):(o.flags=o.flags&-4097|2,I$1=!1,xg=o)}}else{if(Dg(o))throw Error(p$2(418));o.flags=o.flags&-4097|2,I$1=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I$1)return Fg(o),I$1=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!Ef(o.type,o.memoizedProps)),s&&(s=yg)){if(Dg(o))throw Hg(),Error(p$2(418));for(;s;)Ag(o,s),s=Lf(s.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$2(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var et=o.data;if(et==="/$"){if(s===0){yg=Lf(o.nextSibling);break e}s--}else et!=="$"&&et!=="$!"&&et!=="$?"||s++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,s){if(o&&o.defaultProps){s=A$2({},s),o=o.defaultProps;for(var et in o)s[et]===void 0&&(s[et]=o[et]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var s=Mg.current;E$1(Mg),o._currentValue=s}function Sg(o,s,et){for(;o!==null;){var tt=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,tt!==null&&(tt.childLanes|=s)):tt!==null&&(tt.childLanes&s)!==s&&(tt.childLanes|=s),o===et)break;o=o.return}}function Tg(o,s){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&s)!==0&&(Ug=!0),o.firstContext=null)}function Vg(o){var s=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return s}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,s,et,tt){var nt=s.interleaved;return nt===null?(et.next=et,Xg(s)):(et.next=nt.next,nt.next=et),s.interleaved=et,Zg(o,tt)}function Zg(o,s){o.lanes|=s;var et=o.alternate;for(et!==null&&(et.lanes|=s),et=o,o=o.return;o!==null;)o.childLanes|=s,et=o.alternate,et!==null&&(et.childLanes|=s),et=o,o=o.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(o,s,et){var tt=o.updateQueue;if(tt===null)return null;if(tt=tt.shared,(K$1&2)!==0){var nt=tt.pending;return nt===null?s.next=s:(s.next=nt.next,nt.next=s),tt.pending=s,Zg(o,et)}return nt=tt.interleaved,nt===null?(s.next=s,Xg(tt)):(s.next=nt.next,nt.next=s),tt.interleaved=s,Zg(o,et)}function eh(o,s,et){if(s=s.updateQueue,s!==null&&(s=s.shared,(et&4194240)!==0)){var tt=s.lanes;tt&=o.pendingLanes,et|=tt,s.lanes=et,Cc(o,et)}}function fh(o,s){var et=o.updateQueue,tt=o.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=s:rt=rt.next=s}else nt=rt=s;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},o.updateQueue=et;return}o=et.lastBaseUpdate,o===null?et.firstBaseUpdate=s:o.next=s,et.lastBaseUpdate=s}function gh(o,s,et,tt){var nt=o.updateQueue;$g=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var ot=st,at=ot.next;ot.next=null,it===null?rt=at:it.next=at,it=ot;var ut=o.alternate;ut!==null&&(ut=ut.updateQueue,st=ut.lastBaseUpdate,st!==it&&(st===null?ut.firstBaseUpdate=at:st.next=at,ut.lastBaseUpdate=ot))}if(rt!==null){var ht=nt.baseState;it=0,ut=at=ot=null,st=rt;do{var ft=st.lane,dt=st.eventTime;if((tt&ft)===ft){ut!==null&&(ut=ut.next={eventTime:dt,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var vt=o,gt=st;switch(ft=s,dt=et,gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){ht=vt.call(dt,ht,ft);break e}ht=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,ft=typeof vt=="function"?vt.call(dt,ht,ft):vt,ft==null)break e;ht=A$2({},ht,ft);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(o.flags|=64,ft=nt.effects,ft===null?nt.effects=[st]:ft.push(st))}else dt={eventTime:dt,lane:ft,tag:st.tag,payload:st.payload,callback:st.callback,next:null},ut===null?(at=ut=dt,ot=ht):ut=ut.next=dt,it|=ft;if(st=st.next,st===null){if(st=nt.shared.pending,st===null)break;ft=st,st=ft.next,ft.next=null,nt.lastBaseUpdate=ft,nt.shared.pending=null}}while(1);if(ut===null&&(ot=ht),nt.baseState=ot,nt.firstBaseUpdate=at,nt.lastBaseUpdate=ut,s=nt.shared.interleaved,s!==null){nt=s;do it|=nt.lane,nt=nt.next;while(nt!==s)}else rt===null&&(nt.shared.lanes=0);hh|=it,o.lanes=it,o.memoizedState=ht}}function ih(o,s,et){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var tt=o[s],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$2(191,nt));nt.call(tt)}}}var jh=new aa.Component().refs;function kh(o,s,et,tt){s=o.memoizedState,et=et(tt,s),et=et==null?s:A$2({},s,et),o.memoizedState=et,o.lanes===0&&(o.updateQueue.baseState=et)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,s,et){o=o._reactInternals;var tt=L$1(),nt=lh(o),rt=ch(tt,nt);rt.payload=s,et!=null&&(rt.callback=et),s=dh(o,rt,nt),s!==null&&(mh(s,o,nt,tt),eh(s,o,nt))},enqueueReplaceState:function(o,s,et){o=o._reactInternals;var tt=L$1(),nt=lh(o),rt=ch(tt,nt);rt.tag=1,rt.payload=s,et!=null&&(rt.callback=et),s=dh(o,rt,nt),s!==null&&(mh(s,o,nt,tt),eh(s,o,nt))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var et=L$1(),tt=lh(o),nt=ch(et,tt);nt.tag=2,s!=null&&(nt.callback=s),s=dh(o,nt,tt),s!==null&&(mh(s,o,tt,et),eh(s,o,tt))}};function oh(o,s,et,tt,nt,rt,it){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(tt,rt,it):s.prototype&&s.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,rt):!0}function ph(o,s,et){var tt=!1,nt=Vf,rt=s.contextType;return typeof rt=="object"&&rt!==null?rt=Vg(rt):(nt=Zf(s)?Xf:H$1.current,tt=s.contextTypes,rt=(tt=tt!=null)?Yf(o,nt):Vf),s=new s(et,rt),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,o.stateNode=s,s._reactInternals=o,tt&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=nt,o.__reactInternalMemoizedMaskedChildContext=rt),s}function qh(o,s,et,tt){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(et,tt),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(et,tt),s.state!==o&&nh.enqueueReplaceState(s,s.state,null)}function rh(o,s,et,tt){var nt=o.stateNode;nt.props=et,nt.state=o.memoizedState,nt.refs=jh,ah(o);var rt=s.contextType;typeof rt=="object"&&rt!==null?nt.context=Vg(rt):(rt=Zf(s)?Xf:H$1.current,nt.context=Yf(o,rt)),nt.state=o.memoizedState,rt=s.getDerivedStateFromProps,typeof rt=="function"&&(kh(o,s,rt,et),nt.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(s=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),s!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(o,et,nt,tt),nt.state=o.memoizedState),typeof nt.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,s,et){if(o=et.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$2(309));var tt=et.stateNode}if(!tt)throw Error(p$2(147,o));var nt=tt,rt=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===rt?s.ref:(s=function(it){var st=nt.refs;st===jh&&(st=nt.refs={}),it===null?delete st[rt]:st[rt]=it},s._stringRef=rt,s)}if(typeof o!="string")throw Error(p$2(284));if(!et._owner)throw Error(p$2(290,o))}return o}function th(o,s){throw o=Object.prototype.toString.call(s),Error(p$2(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function uh(o){var s=o._init;return s(o._payload)}function vh$1(o){function s(pt,mt){if(o){var yt=pt.deletions;yt===null?(pt.deletions=[mt],pt.flags|=16):yt.push(mt)}}function et(pt,mt){if(!o)return null;for(;mt!==null;)s(pt,mt),mt=mt.sibling;return null}function tt(pt,mt){for(pt=new Map;mt!==null;)mt.key!==null?pt.set(mt.key,mt):pt.set(mt.index,mt),mt=mt.sibling;return pt}function nt(pt,mt){return pt=wh(pt,mt),pt.index=0,pt.sibling=null,pt}function rt(pt,mt,yt){return pt.index=yt,o?(yt=pt.alternate,yt!==null?(yt=yt.index,yt<mt?(pt.flags|=2,mt):yt):(pt.flags|=2,mt)):(pt.flags|=1048576,mt)}function it(pt){return o&&pt.alternate===null&&(pt.flags|=2),pt}function st(pt,mt,yt,xt){return mt===null||mt.tag!==6?(mt=xh(yt,pt.mode,xt),mt.return=pt,mt):(mt=nt(mt,yt),mt.return=pt,mt)}function ot(pt,mt,yt,xt){var bt=yt.type;return bt===ya?ut(pt,mt,yt.props.children,xt,yt.key):mt!==null&&(mt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&uh(bt)===mt.type)?(xt=nt(mt,yt.props),xt.ref=sh(pt,mt,yt),xt.return=pt,xt):(xt=yh(yt.type,yt.key,yt.props,null,pt.mode,xt),xt.ref=sh(pt,mt,yt),xt.return=pt,xt)}function at(pt,mt,yt,xt){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==yt.containerInfo||mt.stateNode.implementation!==yt.implementation?(mt=zh(yt,pt.mode,xt),mt.return=pt,mt):(mt=nt(mt,yt.children||[]),mt.return=pt,mt)}function ut(pt,mt,yt,xt,bt){return mt===null||mt.tag!==7?(mt=Ah(yt,pt.mode,xt,bt),mt.return=pt,mt):(mt=nt(mt,yt),mt.return=pt,mt)}function ht(pt,mt,yt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return mt=xh(""+mt,pt.mode,yt),mt.return=pt,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return yt=yh(mt.type,mt.key,mt.props,null,pt.mode,yt),yt.ref=sh(pt,null,mt),yt.return=pt,yt;case wa:return mt=zh(mt,pt.mode,yt),mt.return=pt,mt;case Ha:var xt=mt._init;return ht(pt,xt(mt._payload),yt)}if(eb(mt)||Ka(mt))return mt=Ah(mt,pt.mode,yt,null),mt.return=pt,mt;th(pt,mt)}return null}function ft(pt,mt,yt,xt){var bt=mt!==null?mt.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return bt!==null?null:st(pt,mt,""+yt,xt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return yt.key===bt?ot(pt,mt,yt,xt):null;case wa:return yt.key===bt?at(pt,mt,yt,xt):null;case Ha:return bt=yt._init,ft(pt,mt,bt(yt._payload),xt)}if(eb(yt)||Ka(yt))return bt!==null?null:ut(pt,mt,yt,xt,null);th(pt,yt)}return null}function dt(pt,mt,yt,xt,bt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return pt=pt.get(yt)||null,st(mt,pt,""+xt,bt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return pt=pt.get(xt.key===null?yt:xt.key)||null,ot(mt,pt,xt,bt);case wa:return pt=pt.get(xt.key===null?yt:xt.key)||null,at(mt,pt,xt,bt);case Ha:var wt=xt._init;return dt(pt,mt,yt,wt(xt._payload),bt)}if(eb(xt)||Ka(xt))return pt=pt.get(yt)||null,ut(mt,pt,xt,bt,null);th(mt,xt)}return null}function vt(pt,mt,yt,xt){for(var bt=null,wt=null,Ct=mt,Et=mt=0,kt=null;Ct!==null&&Et<yt.length;Et++){Ct.index>Et?(kt=Ct,Ct=null):kt=Ct.sibling;var Dt=ft(pt,Ct,yt[Et],xt);if(Dt===null){Ct===null&&(Ct=kt);break}o&&Ct&&Dt.alternate===null&&s(pt,Ct),mt=rt(Dt,mt,Et),wt===null?bt=Dt:wt.sibling=Dt,wt=Dt,Ct=kt}if(Et===yt.length)return et(pt,Ct),I$1&&tg(pt,Et),bt;if(Ct===null){for(;Et<yt.length;Et++)Ct=ht(pt,yt[Et],xt),Ct!==null&&(mt=rt(Ct,mt,Et),wt===null?bt=Ct:wt.sibling=Ct,wt=Ct);return I$1&&tg(pt,Et),bt}for(Ct=tt(pt,Ct);Et<yt.length;Et++)kt=dt(Ct,pt,Et,yt[Et],xt),kt!==null&&(o&&kt.alternate!==null&&Ct.delete(kt.key===null?Et:kt.key),mt=rt(kt,mt,Et),wt===null?bt=kt:wt.sibling=kt,wt=kt);return o&&Ct.forEach(function(zt){return s(pt,zt)}),I$1&&tg(pt,Et),bt}function gt(pt,mt,yt,xt){var bt=Ka(yt);if(typeof bt!="function")throw Error(p$2(150));if(yt=bt.call(yt),yt==null)throw Error(p$2(151));for(var wt=bt=null,Ct=mt,Et=mt=0,kt=null,Dt=yt.next();Ct!==null&&!Dt.done;Et++,Dt=yt.next()){Ct.index>Et?(kt=Ct,Ct=null):kt=Ct.sibling;var zt=ft(pt,Ct,Dt.value,xt);if(zt===null){Ct===null&&(Ct=kt);break}o&&Ct&&zt.alternate===null&&s(pt,Ct),mt=rt(zt,mt,Et),wt===null?bt=zt:wt.sibling=zt,wt=zt,Ct=kt}if(Dt.done)return et(pt,Ct),I$1&&tg(pt,Et),bt;if(Ct===null){for(;!Dt.done;Et++,Dt=yt.next())Dt=ht(pt,Dt.value,xt),Dt!==null&&(mt=rt(Dt,mt,Et),wt===null?bt=Dt:wt.sibling=Dt,wt=Dt);return I$1&&tg(pt,Et),bt}for(Ct=tt(pt,Ct);!Dt.done;Et++,Dt=yt.next())Dt=dt(Ct,pt,Et,Dt.value,xt),Dt!==null&&(o&&Dt.alternate!==null&&Ct.delete(Dt.key===null?Et:Dt.key),mt=rt(Dt,mt,Et),wt===null?bt=Dt:wt.sibling=Dt,wt=Dt);return o&&Ct.forEach(function(Wt){return s(pt,Wt)}),I$1&&tg(pt,Et),bt}function _t(pt,mt,yt,xt){if(typeof yt=="object"&&yt!==null&&yt.type===ya&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:e:{for(var bt=yt.key,wt=mt;wt!==null;){if(wt.key===bt){if(bt=yt.type,bt===ya){if(wt.tag===7){et(pt,wt.sibling),mt=nt(wt,yt.props.children),mt.return=pt,pt=mt;break e}}else if(wt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&uh(bt)===wt.type){et(pt,wt.sibling),mt=nt(wt,yt.props),mt.ref=sh(pt,wt,yt),mt.return=pt,pt=mt;break e}et(pt,wt);break}else s(pt,wt);wt=wt.sibling}yt.type===ya?(mt=Ah(yt.props.children,pt.mode,xt,yt.key),mt.return=pt,pt=mt):(xt=yh(yt.type,yt.key,yt.props,null,pt.mode,xt),xt.ref=sh(pt,mt,yt),xt.return=pt,pt=xt)}return it(pt);case wa:e:{for(wt=yt.key;mt!==null;){if(mt.key===wt)if(mt.tag===4&&mt.stateNode.containerInfo===yt.containerInfo&&mt.stateNode.implementation===yt.implementation){et(pt,mt.sibling),mt=nt(mt,yt.children||[]),mt.return=pt,pt=mt;break e}else{et(pt,mt);break}else s(pt,mt);mt=mt.sibling}mt=zh(yt,pt.mode,xt),mt.return=pt,pt=mt}return it(pt);case Ha:return wt=yt._init,_t(pt,mt,wt(yt._payload),xt)}if(eb(yt))return vt(pt,mt,yt,xt);if(Ka(yt))return gt(pt,mt,yt,xt);th(pt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,mt!==null&&mt.tag===6?(et(pt,mt.sibling),mt=nt(mt,yt),mt.return=pt,pt=mt):(et(pt,mt),mt=xh(yt,pt.mode,xt),mt.return=pt,pt=mt),it(pt)):et(pt,mt)}return _t}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$2(174));return o}function Ih(o,s){switch(G$1(Gh,s),G$1(Fh,o),G$1(Eh,Dh),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=lb(s,o)}E$1(Eh),G$1(Eh,s)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(o){Hh(Gh.current);var s=Hh(Eh.current),et=lb(s,o.type);s!==et&&(G$1(Fh,o),G$1(Eh,et))}function Lh(o){Fh.current===o&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(o){for(var s=o;s!==null;){if(s.tag===13){var et=s.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$2(321))}function Wh(o,s){if(s===null)return!1;for(var et=0;et<s.length&&et<o.length;et++)if(!He$1(o[et],s[et]))return!1;return!0}function Xh(o,s,et,tt,nt,rt){if(Rh=rt,N$1=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=et(tt,nt),Th){rt=0;do{if(Th=!1,Uh=0,25<=rt)throw Error(p$2(301));rt+=1,P$1=O=null,s.updateQueue=null,Ph.current=$h,o=et(tt,nt)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P$1=O=N$1=null,Sh=!1,s)throw Error(p$2(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=o:P$1=P$1.next=o,P$1}function di(){if(O===null){var o=N$1.alternate;o=o!==null?o.memoizedState:null}else o=O.next;var s=P$1===null?N$1.memoizedState:P$1.next;if(s!==null)P$1=s,O=o;else{if(o===null)throw Error(p$2(310));O=o,o={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P$1===null?N$1.memoizedState=P$1=o:P$1=P$1.next=o}return P$1}function ei(o,s){return typeof s=="function"?s(o):s}function fi(o){var s=di(),et=s.queue;if(et===null)throw Error(p$2(311));et.lastRenderedReducer=o;var tt=O,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var st=it=null,ot=null,at=rt;do{var ut=at.lane;if((Rh&ut)===ut)ot!==null&&(ot=ot.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),tt=at.hasEagerState?at.eagerState:o(tt,at.action);else{var ht={lane:ut,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};ot===null?(st=ot=ht,it=tt):ot=ot.next=ht,N$1.lanes|=ut,hh|=ut}at=at.next}while(at!==null&&at!==rt);ot===null?it=tt:ot.next=st,He$1(tt,s.memoizedState)||(Ug=!0),s.memoizedState=tt,s.baseState=it,s.baseQueue=ot,et.lastRenderedState=tt}if(o=et.interleaved,o!==null){nt=o;do rt=nt.lane,N$1.lanes|=rt,hh|=rt,nt=nt.next;while(nt!==o)}else nt===null&&(et.lanes=0);return[s.memoizedState,et.dispatch]}function gi(o){var s=di(),et=s.queue;if(et===null)throw Error(p$2(311));et.lastRenderedReducer=o;var tt=et.dispatch,nt=et.pending,rt=s.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=o(rt,it.action),it=it.next;while(it!==nt);He$1(rt,s.memoizedState)||(Ug=!0),s.memoizedState=rt,s.baseQueue===null&&(s.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function hi(){}function ii(o,s){var et=N$1,tt=di(),nt=s(),rt=!He$1(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,o),[o]),tt.getSnapshot!==s||rt||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,nt,s),void 0,null),R===null)throw Error(p$2(349));(Rh&30)!==0||ni(et,s,nt)}return nt}function ni(o,s,et){o.flags|=16384,o={getSnapshot:s,value:et},s=N$1.updateQueue,s===null?(s={lastEffect:null,stores:null},N$1.updateQueue=s,s.stores=[o]):(et=s.stores,et===null?s.stores=[o]:et.push(o))}function mi(o,s,et,tt){s.value=et,s.getSnapshot=tt,oi(s)&&pi(o)}function ki(o,s,et){return et(function(){oi(s)&&pi(o)})}function oi(o){var s=o.getSnapshot;o=o.value;try{var et=s();return!He$1(o,et)}catch{return!0}}function pi(o){var s=Zg(o,1);s!==null&&mh(s,o,1,-1)}function qi(o){var s=ci();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},s.queue=o,o=o.dispatch=ri.bind(null,N$1,o),[s.memoizedState,o]}function li(o,s,et,tt){return o={tag:o,create:s,destroy:et,deps:tt,next:null},s=N$1.updateQueue,s===null?(s={lastEffect:null,stores:null},N$1.updateQueue=s,s.lastEffect=o.next=o):(et=s.lastEffect,et===null?s.lastEffect=o.next=o:(tt=et.next,et.next=o,o.next=tt,s.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,s,et,tt){var nt=ci();N$1.flags|=o,nt.memoizedState=li(1|s,et,void 0,tt===void 0?null:tt)}function ui(o,s,et,tt){var nt=di();tt=tt===void 0?null:tt;var rt=void 0;if(O!==null){var it=O.memoizedState;if(rt=it.destroy,tt!==null&&Wh(tt,it.deps)){nt.memoizedState=li(s,et,rt,tt);return}}N$1.flags|=o,nt.memoizedState=li(1|s,et,rt,tt)}function vi(o,s){return ti(8390656,8,o,s)}function ji(o,s){return ui(2048,8,o,s)}function wi(o,s){return ui(4,2,o,s)}function xi(o,s){return ui(4,4,o,s)}function yi(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function zi(o,s,et){return et=et!=null?et.concat([o]):null,ui(4,4,yi.bind(null,s,o),et)}function Ai(){}function Bi(o,s){var et=di();s=s===void 0?null:s;var tt=et.memoizedState;return tt!==null&&s!==null&&Wh(s,tt[1])?tt[0]:(et.memoizedState=[o,s],o)}function Ci(o,s){var et=di();s=s===void 0?null:s;var tt=et.memoizedState;return tt!==null&&s!==null&&Wh(s,tt[1])?tt[0]:(o=o(),et.memoizedState=[o,s],o)}function Di(o,s,et){return(Rh&21)===0?(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=et):(He$1(et,s)||(et=yc(),N$1.lanes|=et,hh|=et,o.baseState=!0),s)}function Ei(o,s){var et=C;C=et!==0&&4>et?et:4,o(!0);var tt=Qh.transition;Qh.transition={};try{o(!1),s()}finally{C=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi(o,s,et){var tt=lh(o);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(s,et);else if(et=Yg(o,s,et,tt),et!==null){var nt=L$1();mh(et,o,tt,nt),Ji(et,s,tt)}}function ri(o,s,et){var tt=lh(o),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(s,nt);else{var rt=o.alternate;if(o.lanes===0&&(rt===null||rt.lanes===0)&&(rt=s.lastRenderedReducer,rt!==null))try{var it=s.lastRenderedState,st=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=st,He$1(st,it)){var ot=s.interleaved;ot===null?(nt.next=nt,Xg(s)):(nt.next=ot.next,ot.next=nt),s.interleaved=nt;return}}catch{}finally{}et=Yg(o,s,nt,tt),et!==null&&(nt=L$1(),mh(et,o,tt,nt),Ji(et,s,tt))}}function Hi(o){var s=o.alternate;return o===N$1||s!==null&&s===N$1}function Ii(o,s){Th=Sh=!0;var et=o.pending;et===null?s.next=s:(s.next=et.next,et.next=s),o.pending=s}function Ji(o,s,et){if((et&4194240)!==0){var tt=s.lanes;tt&=o.pendingLanes,et|=tt,s.lanes=et,Cc(o,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,s){return ci().memoizedState=[o,s===void 0?null:s],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,s,et){return et=et!=null?et.concat([o]):null,ti(4194308,4,yi.bind(null,s,o),et)},useLayoutEffect:function(o,s){return ti(4194308,4,o,s)},useInsertionEffect:function(o,s){return ti(4,2,o,s)},useMemo:function(o,s){var et=ci();return s=s===void 0?null:s,o=o(),et.memoizedState=[o,s],o},useReducer:function(o,s,et){var tt=ci();return s=et!==void 0?et(s):s,tt.memoizedState=tt.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},tt.queue=o,o=o.dispatch=Gi.bind(null,N$1,o),[tt.memoizedState,o]},useRef:function(o){var s=ci();return o={current:o},s.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),s=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,et){var tt=N$1,nt=ci();if(I$1){if(et===void 0)throw Error(p$2(407));et=et()}else{if(et=s(),R===null)throw Error(p$2(349));(Rh&30)!==0||ni(tt,s,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:s};return nt.queue=rt,vi(ki.bind(null,tt,rt,o),[o]),tt.flags|=2048,li(9,mi.bind(null,tt,rt,et,s),void 0,null),et},useId:function(){var o=ci(),s=R.identifierPrefix;if(I$1){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,s=":"+s+"R"+et,et=Uh++,0<et&&(s+="H"+et.toString(32)),s+=":"}else et=Vh++,s=":"+s+"r"+et.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var s=di();return Di(s,O.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],s=di().memoizedState;return[o,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var s=di();return O===null?s.memoizedState=o:Di(s,O.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],s=di().memoizedState;return[o,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,s){try{var et="",tt=s;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:o,source:s,stack:nt,digest:null}}function Li(o,s,et){return{value:o,source:null,stack:et!=null?et:null,digest:s!=null?s:null}}function Mi(o,s){try{console.error(s.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,s,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=s.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi(o,s)},et}function Ri(o,s,et){et=ch(-1,et),et.tag=3;var tt=o.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=s.value;et.payload=function(){return tt(nt)},et.callback=function(){Mi(o,s)}}var rt=o.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Mi(o,s),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=s.stack;this.componentDidCatch(s.value,{componentStack:it!==null?it:""})}),et}function Ti(o,s,et){var tt=o.pingCache;if(tt===null){tt=o.pingCache=new Ni;var nt=new Set;tt.set(s,nt)}else nt=tt.get(s),nt===void 0&&(nt=new Set,tt.set(s,nt));nt.has(et)||(nt.add(et),o=Ui.bind(null,o,s,et),s.then(o,o))}function Vi(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function Wi(o,s,et,tt,nt){return(o.mode&1)===0?(o===s?o.flags|=65536:(o.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(s=ch(-1,1),s.tag=2,dh(et,s,1))),et.lanes|=1),o):(o.flags|=65536,o.lanes=nt,o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,s,et,tt){s.child=o===null?Ch(s,null,et,tt):Bh(s,o.child,et,tt)}function Zi(o,s,et,tt,nt){et=et.render;var rt=s.ref;return Tg(s,nt),tt=Xh(o,s,et,tt,rt,nt),et=bi(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~nt,$i(o,s,nt)):(I$1&&et&&vg(s),s.flags|=1,Yi(o,s,tt,nt),s.child)}function aj(o,s,et,tt,nt){if(o===null){var rt=et.type;return typeof rt=="function"&&!bj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(s.tag=15,s.type=rt,cj(o,s,rt,tt,nt)):(o=yh(et.type,null,tt,s,s.mode,nt),o.ref=s.ref,o.return=s,s.child=o)}if(rt=o.child,(o.lanes&nt)===0){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&o.ref===s.ref)return $i(o,s,nt)}return s.flags|=1,o=wh(rt,tt),o.ref=s.ref,o.return=s,s.child=o}function cj(o,s,et,tt,nt){if(o!==null){var rt=o.memoizedProps;if(Ie(rt,tt)&&o.ref===s.ref)if(Ug=!1,s.pendingProps=tt=rt,(o.lanes&nt)!==0)(o.flags&131072)!==0&&(Ug=!0);else return s.lanes=o.lanes,$i(o,s,nt)}return dj(o,s,et,tt,nt)}function ej(o,s,et){var tt=s.pendingProps,nt=tt.children,rt=o!==null?o.memoizedState:null;if(tt.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if((et&1073741824)===0)return o=rt!==null?rt.baseLanes|et:et,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,G$1(fj,gj),gj|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G$1(fj,gj),gj|=tt}else rt!==null?(tt=rt.baseLanes|et,s.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi(o,s,nt,et),s.child}function hj(o,s){var et=s.ref;(o===null&&et!==null||o!==null&&o.ref!==et)&&(s.flags|=512,s.flags|=2097152)}function dj(o,s,et,tt,nt){var rt=Zf(et)?Xf:H$1.current;return rt=Yf(s,rt),Tg(s,nt),et=Xh(o,s,et,tt,rt,nt),tt=bi(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~nt,$i(o,s,nt)):(I$1&&tt&&vg(s),s.flags|=1,Yi(o,s,et,nt),s.child)}function ij(o,s,et,tt,nt){if(Zf(et)){var rt=!0;cg(s)}else rt=!1;if(Tg(s,nt),s.stateNode===null)jj(o,s),ph(s,et,tt),rh(s,et,tt,nt),tt=!0;else if(o===null){var it=s.stateNode,st=s.memoizedProps;it.props=st;var ot=it.context,at=et.contextType;typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(et)?Xf:H$1.current,at=Yf(s,at));var ut=et.getDerivedStateFromProps,ht=typeof ut=="function"||typeof it.getSnapshotBeforeUpdate=="function";ht||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==tt||ot!==at)&&qh(s,it,tt,at),$g=!1;var ft=s.memoizedState;it.state=ft,gh(s,tt,it,nt),ot=s.memoizedState,st!==tt||ft!==ot||Wf.current||$g?(typeof ut=="function"&&(kh(s,et,ut,tt),ot=s.memoizedState),(st=$g||oh(s,et,st,tt,ft,ot,at))?(ht||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(s.flags|=4194308)):(typeof it.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=tt,s.memoizedState=ot),it.props=tt,it.state=ot,it.context=at,tt=st):(typeof it.componentDidMount=="function"&&(s.flags|=4194308),tt=!1)}else{it=s.stateNode,bh(o,s),st=s.memoizedProps,at=s.type===s.elementType?st:Lg(s.type,st),it.props=at,ht=s.pendingProps,ft=it.context,ot=et.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(et)?Xf:H$1.current,ot=Yf(s,ot));var dt=et.getDerivedStateFromProps;(ut=typeof dt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==ht||ft!==ot)&&qh(s,it,tt,ot),$g=!1,ft=s.memoizedState,it.state=ft,gh(s,tt,it,nt);var vt=s.memoizedState;st!==ht||ft!==vt||Wf.current||$g?(typeof dt=="function"&&(kh(s,et,dt,tt),vt=s.memoizedState),(at=$g||oh(s,et,at,tt,ft,vt,ot)||!1)?(ut||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,vt,ot),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,vt,ot)),typeof it.componentDidUpdate=="function"&&(s.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof it.componentDidUpdate!="function"||st===o.memoizedProps&&ft===o.memoizedState||(s.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===o.memoizedProps&&ft===o.memoizedState||(s.flags|=1024),s.memoizedProps=tt,s.memoizedState=vt),it.props=tt,it.state=vt,it.context=ot,tt=at):(typeof it.componentDidUpdate!="function"||st===o.memoizedProps&&ft===o.memoizedState||(s.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===o.memoizedProps&&ft===o.memoizedState||(s.flags|=1024),tt=!1)}return kj(o,s,et,tt,rt,nt)}function kj(o,s,et,tt,nt,rt){hj(o,s);var it=(s.flags&128)!==0;if(!tt&&!it)return nt&&dg(s,et,!1),$i(o,s,rt);tt=s.stateNode,Xi.current=s;var st=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return s.flags|=1,o!==null&&it?(s.child=Bh(s,o.child,null,rt),s.child=Bh(s,null,st,rt)):Yi(o,s,st,rt),s.memoizedState=tt.state,nt&&dg(s,et,!0),s.child}function lj(o){var s=o.stateNode;s.pendingContext?ag(o,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(o,s.context,!1),Ih(o,s.containerInfo)}function mj(o,s,et,tt,nt){return Ig(),Jg(nt),s.flags|=256,Yi(o,s,et,tt),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,s,et){var tt=s.pendingProps,nt=M$1.current,rt=!1,it=(s.flags&128)!==0,st;if((st=it)||(st=o!==null&&o.memoizedState===null?!1:(nt&2)!==0),st?(rt=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(nt|=1),G$1(M$1,nt&1),o===null)return Eg(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((s.mode&1)===0?s.lanes=1:o.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(it=tt.children,o=tt.fallback,rt?(tt=s.mode,rt=s.child,it={mode:"hidden",children:it},(tt&1)===0&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=qj(it,tt,0,null),o=Ah(o,tt,et,null),rt.return=s,o.return=s,rt.sibling=o,s.child=rt,s.child.memoizedState=oj(et),s.memoizedState=nj,o):rj(s,it));if(nt=o.memoizedState,nt!==null&&(st=nt.dehydrated,st!==null))return sj(o,s,it,tt,st,nt,et);if(rt){rt=tt.fallback,it=s.mode,nt=o.child,st=nt.sibling;var ot={mode:"hidden",children:tt.children};return(it&1)===0&&s.child!==nt?(tt=s.child,tt.childLanes=0,tt.pendingProps=ot,s.deletions=null):(tt=wh(nt,ot),tt.subtreeFlags=nt.subtreeFlags&14680064),st!==null?rt=wh(st,rt):(rt=Ah(rt,it,et,null),rt.flags|=2),rt.return=s,tt.return=s,tt.sibling=rt,s.child=tt,tt=rt,rt=s.child,it=o.child.memoizedState,it=it===null?oj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=o.childLanes&~et,s.memoizedState=nj,tt}return rt=o.child,o=rt.sibling,tt=wh(rt,{mode:"visible",children:tt.children}),(s.mode&1)===0&&(tt.lanes=et),tt.return=s,tt.sibling=null,o!==null&&(et=s.deletions,et===null?(s.deletions=[o],s.flags|=16):et.push(o)),s.child=tt,s.memoizedState=null,tt}function rj(o,s){return s=qj({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function tj(o,s,et,tt){return tt!==null&&Jg(tt),Bh(s,o.child,null,et),o=rj(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function sj(o,s,et,tt,nt,rt,it){if(et)return s.flags&256?(s.flags&=-257,tt=Li(Error(p$2(422))),tj(o,s,it,tt)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(rt=tt.fallback,nt=s.mode,tt=qj({mode:"visible",children:tt.children},nt,0,null),rt=Ah(rt,nt,it,null),rt.flags|=2,tt.return=s,rt.return=s,tt.sibling=rt,s.child=tt,(s.mode&1)!==0&&Bh(s,o.child,null,it),s.child.memoizedState=oj(it),s.memoizedState=nj,rt);if((s.mode&1)===0)return tj(o,s,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var st=tt.dgst;return tt=st,rt=Error(p$2(419)),tt=Li(rt,tt,void 0),tj(o,s,it,tt)}if(st=(it&o.childLanes)!==0,Ug||st){if(tt=R,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=(nt&(tt.suspendedLanes|it))!==0?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,Zg(o,nt),mh(tt,o,nt,-1))}return uj(),tt=Li(Error(p$2(421))),tj(o,s,it,tt)}return nt.data==="$?"?(s.flags|=128,s.child=o.child,s=vj.bind(null,o),nt._reactRetry=s,null):(o=rt.treeContext,yg=Lf(nt.nextSibling),xg=s,I$1=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=s),s=rj(s,tt.children),s.flags|=4096,s)}function wj(o,s,et){o.lanes|=s;var tt=o.alternate;tt!==null&&(tt.lanes|=s),Sg(o.return,s,et)}function xj(o,s,et,tt,nt){var rt=o.memoizedState;rt===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=s,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function yj(o,s,et){var tt=s.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Yi(o,s,tt.children,et),tt=M$1.current,(tt&2)!==0)tt=tt&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,et,s);else if(o.tag===19)wj(o,et,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}tt&=1}if(G$1(M$1,tt),(s.mode&1)===0)s.memoizedState=null;else switch(nt){case"forwards":for(et=s.child,nt=null;et!==null;)o=et.alternate,o!==null&&Mh(o)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=s.child,s.child=null):(nt=et.sibling,et.sibling=null),xj(s,!1,nt,et,rt);break;case"backwards":for(et=null,nt=s.child,s.child=null;nt!==null;){if(o=nt.alternate,o!==null&&Mh(o)===null){s.child=nt;break}o=nt.sibling,nt.sibling=et,et=nt,nt=o}xj(s,!0,et,null,rt);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(o,s){(s.mode&1)===0&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function $i(o,s,et){if(o!==null&&(s.dependencies=o.dependencies),hh|=s.lanes,(et&s.childLanes)===0)return null;if(o!==null&&s.child!==o.child)throw Error(p$2(153));if(s.child!==null){for(o=s.child,et=wh(o,o.pendingProps),s.child=et,et.return=s;o.sibling!==null;)o=o.sibling,et=et.sibling=wh(o,o.pendingProps),et.return=s;et.sibling=null}return s.child}function zj(o,s,et){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var tt=s.type._context,nt=s.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=s.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$1,M$1.current&1),s.flags|=128,null):(et&s.child.childLanes)!==0?pj(o,s,et):(G$1(M$1,M$1.current&1),o=$i(o,s,et),o!==null?o.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tt=(et&s.childLanes)!==0,(o.flags&128)!==0){if(tt)return yj(o,s,et);s.flags|=128}if(nt=s.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$1,M$1.current),tt)break;return null;case 22:case 23:return s.lanes=0,ej(o,s,et)}return $i(o,s,et)}var Aj,Bj,Cj,Dj;Aj=function(o,s){for(var et=s.child;et!==null;){if(et.tag===5||et.tag===6)o.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===s)break;for(;et.sibling===null;){if(et.return===null||et.return===s)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function(o,s,et,tt){var nt=o.memoizedProps;if(nt!==tt){o=s.stateNode,Hh(Eh.current);var rt=null;switch(et){case"input":nt=Ya(o,nt),tt=Ya(o,tt),rt=[];break;case"select":nt=A$2({},nt,{value:void 0}),tt=A$2({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb(o,nt),tt=gb(o,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&(o.onclick=Bf)}ub(et,tt);var it;et=null;for(at in nt)if(!tt.hasOwnProperty(at)&&nt.hasOwnProperty(at)&&nt[at]!=null)if(at==="style"){var st=nt[at];for(it in st)st.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?rt||(rt=[]):(rt=rt||[]).push(at,null));for(at in tt){var ot=tt[at];if(st=nt!=null?nt[at]:void 0,tt.hasOwnProperty(at)&&ot!==st&&(ot!=null||st!=null))if(at==="style")if(st){for(it in st)!st.hasOwnProperty(it)||ot&&ot.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in ot)ot.hasOwnProperty(it)&&st[it]!==ot[it]&&(et||(et={}),et[it]=ot[it])}else et||(rt||(rt=[]),rt.push(at,et)),et=ot;else at==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,st=st?st.__html:void 0,ot!=null&&st!==ot&&(rt=rt||[]).push(at,ot)):at==="children"?typeof ot!="string"&&typeof ot!="number"||(rt=rt||[]).push(at,""+ot):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea.hasOwnProperty(at)?(ot!=null&&at==="onScroll"&&D("scroll",o),rt||st===ot||(rt=[])):(rt=rt||[]).push(at,ot))}et&&(rt=rt||[]).push("style",et);var at=rt;(s.updateQueue=at)&&(s.flags|=4)}};Dj=function(o,s,et,tt){et!==tt&&(s.flags|=4)};function Ej(o,s){if(!I$1)switch(o.tailMode){case"hidden":s=o.tail;for(var et=null;s!==null;)s.alternate!==null&&(et=s),s=s.sibling;et===null?o.tail=null:et.sibling=null;break;case"collapsed":et=o.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:tt.sibling=null}}function S$1(o){var s=o.alternate!==null&&o.alternate.child===o.child,et=0,tt=0;if(s)for(var nt=o.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=o,nt=nt.sibling;else for(nt=o.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=o,nt=nt.sibling;return o.subtreeFlags|=tt,o.childLanes=et,s}function Fj(o,s,et){var tt=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(s),null;case 1:return Zf(s.type)&&$f(),S$1(s),null;case 3:return tt=s.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(o===null||o.child===null)&&(Gg(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,s),S$1(s),null;case 5:Lh(s);var nt=Hh(Gh.current);if(et=s.type,o!==null&&s.stateNode!=null)Cj(o,s,et,tt,nt),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!tt){if(s.stateNode===null)throw Error(p$2(166));return S$1(s),null}if(o=Hh(Eh.current),Gg(s)){tt=s.stateNode,et=s.type;var rt=s.memoizedProps;switch(tt[Of]=s,tt[Pf]=rt,o=(s.mode&1)!==0,et){case"dialog":D("cancel",tt),D("close",tt);break;case"iframe":case"object":case"embed":D("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D(lf[nt],tt);break;case"source":D("error",tt);break;case"img":case"image":case"link":D("error",tt),D("load",tt);break;case"details":D("toggle",tt);break;case"input":Za(tt,rt),D("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D("invalid",tt);break;case"textarea":hb(tt,rt),D("invalid",tt)}ub(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var st=rt[it];it==="children"?typeof st=="string"?tt.textContent!==st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,o),nt=["children",st]):typeof st=="number"&&tt.textContent!==""+st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,o),nt=["children",""+st]):ea.hasOwnProperty(it)&&st!=null&&it==="onScroll"&&D("scroll",tt)}switch(et){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,s.updateQueue=tt,tt!==null&&(s.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(et)),o==="http://www.w3.org/1999/xhtml"?et==="script"?(o=it.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof tt.is=="string"?o=it.createElement(et,{is:tt.is}):(o=it.createElement(et),et==="select"&&(it=o,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):o=it.createElementNS(o,et),o[Of]=s,o[Pf]=tt,Aj(o,s,!1,!1),s.stateNode=o;e:{switch(it=vb(et,tt),et){case"dialog":D("cancel",o),D("close",o),nt=tt;break;case"iframe":case"object":case"embed":D("load",o),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D(lf[nt],o);nt=tt;break;case"source":D("error",o),nt=tt;break;case"img":case"image":case"link":D("error",o),D("load",o),nt=tt;break;case"details":D("toggle",o),nt=tt;break;case"input":Za(o,tt),nt=Ya(o,tt),D("invalid",o);break;case"option":nt=tt;break;case"select":o._wrapperState={wasMultiple:!!tt.multiple},nt=A$2({},tt,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,tt),nt=gb(o,tt),D("invalid",o);break;default:nt=tt}ub(et,nt),st=nt;for(rt in st)if(st.hasOwnProperty(rt)){var ot=st[rt];rt==="style"?sb(o,ot):rt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(o,ot)):rt==="children"?typeof ot=="string"?(et!=="textarea"||ot!=="")&&ob(o,ot):typeof ot=="number"&&ob(o,""+ot):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?ot!=null&&rt==="onScroll"&&D("scroll",o):ot!=null&&ta(o,rt,ot,it))}switch(et){case"input":Va(o),db(o,tt,!1);break;case"textarea":Va(o),jb(o);break;case"option":tt.value!=null&&o.setAttribute("value",""+Sa(tt.value));break;case"select":o.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb(o,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb(o,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(o.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S$1(s),null;case 6:if(o&&s.stateNode!=null)Dj(o,s,o.memoizedProps,tt);else{if(typeof tt!="string"&&s.stateNode===null)throw Error(p$2(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(s)){if(tt=s.stateNode,et=s.memoizedProps,tt[Of]=s,(rt=tt.nodeValue!==et)&&(o=xg,o!==null))switch(o.tag){case 3:Af(tt.nodeValue,et,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,(o.mode&1)!==0)}rt&&(s.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=s,s.stateNode=tt}return S$1(s),null;case 13:if(E$1(M$1),tt=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hg(),Ig(),s.flags|=98560,rt=!1;else if(rt=Gg(s),tt!==null&&tt.dehydrated!==null){if(o===null){if(!rt)throw Error(p$2(318));if(rt=s.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$2(317));rt[Of]=s}else Ig(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;S$1(s),rt=!1}else zg!==null&&(Gj(zg),zg=null),rt=!0;if(!rt)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=et,s):(tt=tt!==null,tt!==(o!==null&&o.memoizedState!==null)&&tt&&(s.child.flags|=8192,(s.mode&1)!==0&&(o===null||(M$1.current&1)!==0?T$1===0&&(T$1=3):uj())),s.updateQueue!==null&&(s.flags|=4),S$1(s),null);case 4:return Jh(),Bj(o,s),o===null&&sf(s.stateNode.containerInfo),S$1(s),null;case 10:return Rg(s.type._context),S$1(s),null;case 17:return Zf(s.type)&&$f(),S$1(s),null;case 19:if(E$1(M$1),rt=s.memoizedState,rt===null)return S$1(s),null;if(tt=(s.flags&128)!==0,it=rt.rendering,it===null)if(tt)Ej(rt,!1);else{if(T$1!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(it=Mh(o),it!==null){for(s.flags|=128,Ej(rt,!1),tt=it.updateQueue,tt!==null&&(s.updateQueue=tt,s.flags|=4),s.subtreeFlags=0,tt=et,et=s.child;et!==null;)rt=et,o=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=o,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,o=it.dependencies,rt.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),et=et.sibling;return G$1(M$1,M$1.current&1|2),s.child}o=o.sibling}rt.tail!==null&&B$1()>Hj&&(s.flags|=128,tt=!0,Ej(rt,!1),s.lanes=4194304)}else{if(!tt)if(o=Mh(it),o!==null){if(s.flags|=128,tt=!0,et=o.updateQueue,et!==null&&(s.updateQueue=et,s.flags|=4),Ej(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$1)return S$1(s),null}else 2*B$1()-rt.renderingStartTime>Hj&&et!==1073741824&&(s.flags|=128,tt=!0,Ej(rt,!1),s.lanes=4194304);rt.isBackwards?(it.sibling=s.child,s.child=it):(et=rt.last,et!==null?et.sibling=it:s.child=it,rt.last=it)}return rt.tail!==null?(s=rt.tail,rt.rendering=s,rt.tail=s.sibling,rt.renderingStartTime=B$1(),s.sibling=null,et=M$1.current,G$1(M$1,tt?et&1|2:et&1),s):(S$1(s),null);case 22:case 23:return Ij(),tt=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==tt&&(s.flags|=8192),tt&&(s.mode&1)!==0?(gj&1073741824)!==0&&(S$1(s),s.subtreeFlags&6&&(s.flags|=8192)):S$1(s),null;case 24:return null;case 25:return null}throw Error(p$2(156,s.tag))}function Jj(o,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E$1(M$1),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(p$2(340));Ig()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(o,s){var et=o.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1(o,s,tt)}else et.current=null}function Nj(o,s,et){try{et()}catch(tt){W$1(o,s,tt)}}var Oj=!1;function Pj(o,s){if(Cf=dd,o=Me$1(),Ne$1(o)){if("selectionStart"in o)var et={start:o.selectionStart,end:o.selectionEnd};else e:{et=(et=o.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,st=-1,ot=-1,at=0,ut=0,ht=o,ft=null;t:for(;;){for(var dt;ht!==et||nt!==0&&ht.nodeType!==3||(st=it+nt),ht!==rt||tt!==0&&ht.nodeType!==3||(ot=it+tt),ht.nodeType===3&&(it+=ht.nodeValue.length),(dt=ht.firstChild)!==null;)ft=ht,ht=dt;for(;;){if(ht===o)break t;if(ft===et&&++at===nt&&(st=it),ft===rt&&++ut===tt&&(ot=it),(dt=ht.nextSibling)!==null)break;ht=ft,ft=ht.parentNode}ht=dt}et=st===-1||ot===-1?null:{start:st,end:ot}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:o,selectionRange:et},dd=!1,V$1=s;V$1!==null;)if(s=V$1,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,V$1=o;else for(;V$1!==null;){s=V$1;try{var vt=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var gt=vt.memoizedProps,_t=vt.memoizedState,pt=s.stateNode,mt=pt.getSnapshotBeforeUpdate(s.elementType===s.type?gt:Lg(s.type,gt),_t);pt.__reactInternalSnapshotBeforeUpdate=mt}break;case 3:var yt=s.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(xt){W$1(s,s.return,xt)}if(o=s.sibling,o!==null){o.return=s.return,V$1=o;break}V$1=s.return}return vt=Oj,Oj=!1,vt}function Qj(o,s,et){var tt=s.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&o)===o){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Nj(s,et,rt)}nt=nt.next}while(nt!==tt)}}function Rj(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var et=s=s.next;do{if((et.tag&o)===o){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==s)}}function Sj(o){var s=o.ref;if(s!==null){var et=o.stateNode;switch(o.tag){case 5:o=et;break;default:o=et}typeof s=="function"?s(o):s.current=o}}function Tj(o){var s=o.alternate;s!==null&&(o.alternate=null,Tj(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,s,et){var tt=o.tag;if(tt===5||tt===6)o=o.stateNode,s?et.nodeType===8?et.parentNode.insertBefore(o,s):et.insertBefore(o,s):(et.nodeType===8?(s=et.parentNode,s.insertBefore(o,et)):(s=et,s.appendChild(o)),et=et._reactRootContainer,et!=null||s.onclick!==null||(s.onclick=Bf));else if(tt!==4&&(o=o.child,o!==null))for(Wj(o,s,et),o=o.sibling;o!==null;)Wj(o,s,et),o=o.sibling}function Xj(o,s,et){var tt=o.tag;if(tt===5||tt===6)o=o.stateNode,s?et.insertBefore(o,s):et.appendChild(o);else if(tt!==4&&(o=o.child,o!==null))for(Xj(o,s,et),o=o.sibling;o!==null;)Xj(o,s,et),o=o.sibling}var X$1=null,Yj=!1;function Zj(o,s,et){for(et=et.child;et!==null;)ak(o,s,et),et=et.sibling}function ak(o,s,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,s);case 6:var tt=X$1,nt=Yj;X$1=null,Zj(o,s,et),X$1=tt,Yj=nt,X$1!==null&&(Yj?(o=X$1,et=et.stateNode,o.nodeType===8?o.parentNode.removeChild(et):o.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?(o=X$1,et=et.stateNode,o.nodeType===8?Kf(o.parentNode,et):o.nodeType===1&&Kf(o,et),bd(o)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,nt=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj(o,s,et),X$1=tt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&((rt&2)!==0||(rt&4)!==0)&&Nj(et,s,it),nt=nt.next}while(nt!==tt)}Zj(o,s,et);break;case 1:if(!U$1&&(Mj(et,s),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(st){W$1(et,s,st)}Zj(o,s,et);break;case 21:Zj(o,s,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Zj(o,s,et),U$1=tt):Zj(o,s,et);break;default:Zj(o,s,et)}}function bk(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var et=o.stateNode;et===null&&(et=o.stateNode=new Lj),s.forEach(function(tt){var nt=ck.bind(null,o,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function dk(o,s){var et=s.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=o,it=s,st=it;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Yj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X$1===null)throw Error(p$2(160));ak(rt,it,nt),X$1=null,Yj=!1;var ot=nt.alternate;ot!==null&&(ot.return=null),nt.return=null}catch(at){W$1(nt,s,at)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,o),s=s.sibling}function ek(o,s){var et=o.alternate,tt=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(s,o),fk(o),tt&4){try{Qj(3,o,o.return),Rj(3,o)}catch(gt){W$1(o,o.return,gt)}try{Qj(5,o,o.return)}catch(gt){W$1(o,o.return,gt)}}break;case 1:dk(s,o),fk(o),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(s,o),fk(o),tt&512&&et!==null&&Mj(et,et.return),o.flags&32){var nt=o.stateNode;try{ob(nt,"")}catch(gt){W$1(o,o.return,gt)}}if(tt&4&&(nt=o.stateNode,nt!=null)){var rt=o.memoizedProps,it=et!==null?et.memoizedProps:rt,st=o.type,ot=o.updateQueue;if(o.updateQueue=null,ot!==null)try{st==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb(st,it);var at=vb(st,rt);for(it=0;it<ot.length;it+=2){var ut=ot[it],ht=ot[it+1];ut==="style"?sb(nt,ht):ut==="dangerouslySetInnerHTML"?nb(nt,ht):ut==="children"?ob(nt,ht):ta(nt,ut,ht,at)}switch(st){case"input":bb(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var ft=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var dt=rt.value;dt!=null?fb(nt,!!rt.multiple,dt,!1):ft!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(gt){W$1(o,o.return,gt)}}break;case 6:if(dk(s,o),fk(o),tt&4){if(o.stateNode===null)throw Error(p$2(162));nt=o.stateNode,rt=o.memoizedProps;try{nt.nodeValue=rt}catch(gt){W$1(o,o.return,gt)}}break;case 3:if(dk(s,o),fk(o),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(gt){W$1(o,o.return,gt)}break;case 4:dk(s,o),fk(o);break;case 13:dk(s,o),fk(o),nt=o.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk(o);break;case 22:if(ut=et!==null&&et.memoizedState!==null,o.mode&1?(U$1=(at=U$1)||ut,dk(s,o),U$1=at):dk(s,o),fk(o),tt&8192){if(at=o.memoizedState!==null,(o.stateNode.isHidden=at)&&!ut&&(o.mode&1)!==0)for(V$1=o,ut=o.child;ut!==null;){for(ht=V$1=ut;V$1!==null;){switch(ft=V$1,dt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var vt=ft.stateNode;if(typeof vt.componentWillUnmount=="function"){tt=ft,et=ft.return;try{s=tt,vt.props=s.memoizedProps,vt.state=s.memoizedState,vt.componentWillUnmount()}catch(gt){W$1(tt,et,gt)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(ht);continue}}dt!==null?(dt.return=ft,V$1=dt):hk(ht)}ut=ut.sibling}e:for(ut=null,ht=o;;){if(ht.tag===5){if(ut===null){ut=ht;try{nt=ht.stateNode,at?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(st=ht.stateNode,ot=ht.memoizedProps.style,it=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,st.style.display=rb("display",it))}catch(gt){W$1(o,o.return,gt)}}}else if(ht.tag===6){if(ut===null)try{ht.stateNode.nodeValue=at?"":ht.memoizedProps}catch(gt){W$1(o,o.return,gt)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===o)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===o)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===o)break e;ut===ht&&(ut=null),ht=ht.return}ut===ht&&(ut=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:dk(s,o),fk(o),tt&4&&bk(o);break;case 21:break;default:dk(s,o),fk(o)}}function fk(o){var s=o.flags;if(s&2){try{e:{for(var et=o.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$2(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Vj(o);Xj(o,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,st=Vj(o);Wj(o,st,it);break;default:throw Error(p$2(161))}}catch(ot){W$1(o,o.return,ot)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function ik(o,s,et){V$1=o,jk(o)}function jk(o,s,et){for(var tt=(o.mode&1)!==0;V$1!==null;){var nt=V$1,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Kj;if(!it){var st=nt.alternate,ot=st!==null&&st.memoizedState!==null||U$1;st=Kj;var at=U$1;if(Kj=it,(U$1=ot)&&!at)for(V$1=nt;V$1!==null;)it=V$1,ot=it.child,it.tag===22&&it.memoizedState!==null?kk(nt):ot!==null?(ot.return=it,V$1=ot):kk(nt);for(;rt!==null;)V$1=rt,jk(rt),rt=rt.sibling;V$1=nt,Kj=st,U$1=at}lk(o)}else(nt.subtreeFlags&8772)!==0&&rt!==null?(rt.return=nt,V$1=rt):lk(o)}}function lk(o){for(;V$1!==null;){var s=V$1;if((s.flags&8772)!==0){var et=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:U$1||Rj(5,s);break;case 1:var tt=s.stateNode;if(s.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var nt=s.elementType===s.type?et.memoizedProps:Lg(s.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=s.updateQueue;rt!==null&&ih(s,rt,tt);break;case 3:var it=s.updateQueue;if(it!==null){if(et=null,s.child!==null)switch(s.child.tag){case 5:et=s.child.stateNode;break;case 1:et=s.child.stateNode}ih(s,it,et)}break;case 5:var st=s.stateNode;if(et===null&&s.flags&4){et=st;var ot=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&et.focus();break;case"img":ot.src&&(et.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var at=s.alternate;if(at!==null){var ut=at.memoizedState;if(ut!==null){var ht=ut.dehydrated;ht!==null&&bd(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||s.flags&512&&Sj(s)}catch(ft){W$1(s,s.return,ft)}}if(s===o){V$1=null;break}if(et=s.sibling,et!==null){et.return=s.return,V$1=et;break}V$1=s.return}}function hk(o){for(;V$1!==null;){var s=V$1;if(s===o){V$1=null;break}var et=s.sibling;if(et!==null){et.return=s.return,V$1=et;break}V$1=s.return}}function kk(o){for(;V$1!==null;){var s=V$1;try{switch(s.tag){case 0:case 11:case 15:var et=s.return;try{Rj(4,s)}catch(ot){W$1(s,et,ot)}break;case 1:var tt=s.stateNode;if(typeof tt.componentDidMount=="function"){var nt=s.return;try{tt.componentDidMount()}catch(ot){W$1(s,nt,ot)}}var rt=s.return;try{Sj(s)}catch(ot){W$1(s,rt,ot)}break;case 5:var it=s.return;try{Sj(s)}catch(ot){W$1(s,it,ot)}}}catch(ot){W$1(s,s.return,ot)}if(s===o){V$1=null;break}var st=s.sibling;if(st!==null){st.return=s.return,V$1=st;break}V$1=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K$1&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(o){return(o.mode&1)===0?1:(K$1&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o)}function mh(o,s,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(o,et,tt),((K$1&2)===0||o!==R)&&(o===R&&((K$1&2)===0&&(rk|=et),T$1===4&&Dk(o,Z$1)),Ek(o,tt),et===1&&K$1===0&&(s.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek(o,s){var et=o.callbackNode;wc(o,s);var tt=uc(o,o===R?Z$1:0);if(tt===0)et!==null&&bc(et),o.callbackNode=null,o.callbackPriority=0;else if(s=tt&-tt,o.callbackPriority!==s){if(et!=null&&bc(et),s===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){(K$1&6)===0&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,o))}o.callbackPriority=s,o.callbackNode=et}}function Hk(o,s){if(Bk=-1,Ck=0,(K$1&6)!==0)throw Error(p$2(327));var et=o.callbackNode;if(Ik()&&o.callbackNode!==et)return null;var tt=uc(o,o===R?Z$1:0);if(tt===0)return null;if((tt&30)!==0||(tt&o.expiredLanes)!==0||s)s=Jk(o,tt);else{s=tt;var nt=K$1;K$1|=2;var rt=Kk();(R!==o||Z$1!==s)&&(vk=null,Hj=B$1()+500,Lk(o,s));do try{Mk();break}catch(st){Nk(o,st)}while(1);Qg(),nk.current=rt,K$1=nt,Y$1!==null?s=0:(R=null,Z$1=0,s=T$1)}if(s!==0){if(s===2&&(nt=xc(o),nt!==0&&(tt=nt,s=Ok(o,nt))),s===1)throw et=qk,Lk(o,0),Dk(o,tt),Ek(o,B$1()),et;if(s===6)Dk(o,tt);else{if(nt=o.current.alternate,(tt&30)===0&&!Pk(nt)&&(s=Jk(o,tt),s===2&&(rt=xc(o),rt!==0&&(tt=rt,s=Ok(o,rt))),s===1))throw et=qk,Lk(o,0),Dk(o,tt),Ek(o,B$1()),et;switch(o.finishedWork=nt,o.finishedLanes=tt,s){case 0:case 1:throw Error(p$2(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,tt),(tt&130023424)===tt&&(s=gk+500-B$1(),10<s)){if(uc(o,0)!==0)break;if(nt=o.suspendedLanes,(nt&tt)!==tt){L$1(),o.pingedLanes|=o.suspendedLanes&nt;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),s);break}Qk(o,uk,vk);break;case 4:if(Dk(o,tt),(tt&4194240)===tt)break;for(s=o.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=s[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),tt);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(o,B$1()),o.callbackNode===et?Hk.bind(null,o):null}function Ok(o,s){var et=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,s).flags|=256),o=Jk(o,s),o!==2&&(s=uk,uk=et,s!==null&&Gj(s)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var s=o;;){if(s.flags&16384){var et=s.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He$1(rt(),nt))return!1}catch{return!1}}}if(et=s.child,s.subtreeFlags&16384&&et!==null)et.return=s,s=et;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(o,s){for(s&=~sk,s&=~rk,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var et=31-oc(s),tt=1<<et;o[et]=-1,s&=~tt}}function Fk(o){if((K$1&6)!==0)throw Error(p$2(327));Ik();var s=uc(o,0);if((s&1)===0)return Ek(o,B$1()),null;var et=Jk(o,s);if(o.tag!==0&&et===2){var tt=xc(o);tt!==0&&(s=tt,et=Ok(o,tt))}if(et===1)throw et=qk,Lk(o,0),Dk(o,s),Ek(o,B$1()),et;if(et===6)throw Error(p$2(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Qk(o,uk,vk),Ek(o,B$1()),null}function Rk(o,s){var et=K$1;K$1|=1;try{return o(s)}finally{K$1=et,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&(K$1&6)===0&&Ik();var s=K$1;K$1|=1;var et=pk.transition,tt=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=tt,pk.transition=et,K$1=s,(K$1&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(o,s){o.finishedWork=null,o.finishedLanes=0;var et=o.timeoutHandle;if(et!==-1&&(o.timeoutHandle=-1,Gf(et)),Y$1!==null)for(et=Y$1.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R=o,Y$1=o=wh(o.current,null),Z$1=gj=s,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(et=Wg[s],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}Wg=null}return o}function Nk(o,s){do{var et=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T$1=1,qk=s,Y$1=null;break}e:{var rt=o,it=et.return,st=et,ot=s;if(s=Z$1,st.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var at=ot,ut=st,ht=ut.tag;if((ut.mode&1)===0&&(ht===0||ht===11||ht===15)){var ft=ut.alternate;ft?(ut.updateQueue=ft.updateQueue,ut.memoizedState=ft.memoizedState,ut.lanes=ft.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var dt=Vi(it);if(dt!==null){dt.flags&=-257,Wi(dt,it,st,rt,s),dt.mode&1&&Ti(rt,at,s),s=dt,ot=at;var vt=s.updateQueue;if(vt===null){var gt=new Set;gt.add(ot),s.updateQueue=gt}else vt.add(ot);break e}else{if((s&1)===0){Ti(rt,at,s),uj();break e}ot=Error(p$2(426))}}else if(I$1&&st.mode&1){var _t=Vi(it);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Wi(_t,it,st,rt,s),Jg(Ki(ot,st));break e}}rt=ot=Ki(ot,st),T$1!==4&&(T$1=2),tk===null?tk=[rt]:tk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,s&=-s,rt.lanes|=s;var pt=Oi(rt,ot,s);fh(rt,pt);break e;case 1:st=ot;var mt=rt.type,yt=rt.stateNode;if((rt.flags&128)===0&&(typeof mt.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Si===null||!Si.has(yt)))){rt.flags|=65536,s&=-s,rt.lanes|=s;var xt=Ri(rt,st,s);fh(rt,xt);break e}}rt=rt.return}while(rt!==null)}Tk(et)}catch(bt){s=bt,Y$1===et&&et!==null&&(Y$1=et=et.return);continue}break}while(1)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R,Z$1)}function Jk(o,s){var et=K$1;K$1|=2;var tt=Kk();(R!==o||Z$1!==s)&&(vk=null,Lk(o,s));do try{Uk();break}catch(nt){Nk(o,nt)}while(1);if(Qg(),K$1=et,nk.current=tt,Y$1!==null)throw Error(p$2(261));return R=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc$1();)Vk(Y$1)}function Vk(o){var s=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,s===null?Tk(o):Y$1=s,ok.current=null}function Tk(o){var s=o;do{var et=s.alternate;if(o=s.return,(s.flags&32768)===0){if(et=Fj(et,s,gj),et!==null){Y$1=et;return}}else{if(et=Jj(et,s),et!==null){et.flags&=32767,Y$1=et;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T$1=6,Y$1=null;return}}if(s=s.sibling,s!==null){Y$1=s;return}Y$1=s=o}while(s!==null);T$1===0&&(T$1=5)}function Qk(o,s,et){var tt=C,nt=pk.transition;try{pk.transition=null,C=1,Xk(o,s,et,tt)}finally{pk.transition=nt,C=tt}return null}function Xk(o,s,et,tt){do Ik();while(xk!==null);if((K$1&6)!==0)throw Error(p$2(327));et=o.finishedWork;var nt=o.finishedLanes;if(et===null)return null;if(o.finishedWork=null,o.finishedLanes=0,et===o.current)throw Error(p$2(177));o.callbackNode=null,o.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc(o,rt),o===R&&(Y$1=R=null,Z$1=0),(et.subtreeFlags&2064)===0&&(et.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),rt=(et.flags&15990)!==0,(et.subtreeFlags&15990)!==0||rt){rt=pk.transition,pk.transition=null;var it=C;C=1;var st=K$1;K$1|=4,ok.current=null,Pj(o,et),ek(et,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=et,ik(et),dc(),K$1=st,C=it,pk.transition=rt}else o.current=et;if(wk&&(wk=!1,xk=o,yk=nt),rt=o.pendingLanes,rt===0&&(Si=null),mc(et.stateNode),Ek(o,B$1()),s!==null)for(tt=o.onRecoverableError,et=0;et<s.length;et++)nt=s[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return(yk&1)!==0&&o.tag!==0&&Ik(),rt=o.pendingLanes,(rt&1)!==0?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),s=pk.transition,et=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var tt=!1;else{if(o=xk,xk=null,yk=0,(K$1&6)!==0)throw Error(p$2(331));var nt=K$1;for(K$1|=4,V$1=o.current;V$1!==null;){var rt=V$1,it=rt.child;if((V$1.flags&16)!==0){var st=rt.deletions;if(st!==null){for(var ot=0;ot<st.length;ot++){var at=st[ot];for(V$1=at;V$1!==null;){var ut=V$1;switch(ut.tag){case 0:case 11:case 15:Qj(8,ut,rt)}var ht=ut.child;if(ht!==null)ht.return=ut,V$1=ht;else for(;V$1!==null;){ut=V$1;var ft=ut.sibling,dt=ut.return;if(Tj(ut),ut===at){V$1=null;break}if(ft!==null){ft.return=dt,V$1=ft;break}V$1=dt}}}var vt=rt.alternate;if(vt!==null){var gt=vt.child;if(gt!==null){vt.child=null;do{var _t=gt.sibling;gt.sibling=null,gt=_t}while(gt!==null)}}V$1=rt}}if((rt.subtreeFlags&2064)!==0&&it!==null)it.return=rt,V$1=it;else e:for(;V$1!==null;){if(rt=V$1,(rt.flags&2048)!==0)switch(rt.tag){case 0:case 11:case 15:Qj(9,rt,rt.return)}var pt=rt.sibling;if(pt!==null){pt.return=rt.return,V$1=pt;break e}V$1=rt.return}}var mt=o.current;for(V$1=mt;V$1!==null;){it=V$1;var yt=it.child;if((it.subtreeFlags&2064)!==0&&yt!==null)yt.return=it,V$1=yt;else e:for(it=mt;V$1!==null;){if(st=V$1,(st.flags&2048)!==0)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(bt){W$1(st,st.return,bt)}if(st===it){V$1=null;break e}var xt=st.sibling;if(xt!==null){xt.return=st.return,V$1=xt;break e}V$1=st.return}}if(K$1=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}tt=!0}return tt}finally{C=et,pk.transition=s}}return!1}function Yk(o,s,et){s=Ki(et,s),s=Oi(o,s,1),o=dh(o,s,1),s=L$1(),o!==null&&(Ac(o,1,s),Ek(o,s))}function W$1(o,s,et){if(o.tag===3)Yk(o,o,et);else for(;s!==null;){if(s.tag===3){Yk(s,o,et);break}else if(s.tag===1){var tt=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){o=Ki(et,o),o=Ri(s,o,1),s=dh(s,o,1),o=L$1(),s!==null&&(Ac(s,1,o),Ek(s,o));break}}s=s.return}}function Ui(o,s,et){var tt=o.pingCache;tt!==null&&tt.delete(s),s=L$1(),o.pingedLanes|=o.suspendedLanes&et,R===o&&(Z$1&et)===et&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(o,0):sk|=et),Ek(o,s)}function Zk(o,s){s===0&&((o.mode&1)===0?s=1:(s=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var et=L$1();o=Zg(o,s),o!==null&&(Ac(o,s,et),Ek(o,et))}function vj(o){var s=o.memoizedState,et=0;s!==null&&(et=s.retryLane),Zk(o,et)}function ck(o,s){var et=0;switch(o.tag){case 13:var tt=o.stateNode,nt=o.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=o.stateNode;break;default:throw Error(p$2(314))}tt!==null&&tt.delete(s),Zk(o,et)}var Wk;Wk=function(o,s,et){if(o!==null)if(o.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if((o.lanes&et)===0&&(s.flags&128)===0)return Ug=!1,zj(o,s,et);Ug=(o.flags&131072)!==0}else Ug=!1,I$1&&(s.flags&1048576)!==0&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var tt=s.type;jj(o,s),o=s.pendingProps;var nt=Yf(s,H$1.current);Tg(s,et),nt=Xh(null,s,tt,o,nt,et);var rt=bi();return s.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(tt)?(rt=!0,cg(s)):rt=!1,s.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(s),nt.updater=nh,s.stateNode=nt,nt._reactInternals=s,rh(s,tt,o,et),s=kj(null,s,tt,!0,rt,et)):(s.tag=0,I$1&&rt&&vg(s),Yi(null,s,nt,et),s=s.child),s;case 16:tt=s.elementType;e:{switch(jj(o,s),o=s.pendingProps,nt=tt._init,tt=nt(tt._payload),s.type=tt,nt=s.tag=$k(tt),o=Lg(tt,o),nt){case 0:s=dj(null,s,tt,o,et);break e;case 1:s=ij(null,s,tt,o,et);break e;case 11:s=Zi(null,s,tt,o,et);break e;case 14:s=aj(null,s,tt,Lg(tt.type,o),et);break e}throw Error(p$2(306,tt,""))}return s;case 0:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Lg(tt,nt),dj(o,s,tt,nt,et);case 1:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Lg(tt,nt),ij(o,s,tt,nt,et);case 3:e:{if(lj(s),o===null)throw Error(p$2(387));tt=s.pendingProps,rt=s.memoizedState,nt=rt.element,bh(o,s),gh(s,tt,null,et);var it=s.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},s.updateQueue.baseState=rt,s.memoizedState=rt,s.flags&256){nt=Ki(Error(p$2(423)),s),s=mj(o,s,tt,et,nt);break e}else if(tt!==nt){nt=Ki(Error(p$2(424)),s),s=mj(o,s,tt,et,nt);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I$1=!0,zg=null,et=Ch(s,null,tt,et),s.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){s=$i(o,s,et);break e}Yi(o,s,tt,et)}s=s.child}return s;case 5:return Kh(s),o===null&&Eg(s),tt=s.type,nt=s.pendingProps,rt=o!==null?o.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&(s.flags|=32),hj(o,s),Yi(o,s,it,et),s.child;case 6:return o===null&&Eg(s),null;case 13:return pj(o,s,et);case 4:return Ih(s,s.stateNode.containerInfo),tt=s.pendingProps,o===null?s.child=Bh(s,null,tt,et):Yi(o,s,tt,et),s.child;case 11:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Lg(tt,nt),Zi(o,s,tt,nt,et);case 7:return Yi(o,s,s.pendingProps,et),s.child;case 8:return Yi(o,s,s.pendingProps.children,et),s.child;case 12:return Yi(o,s,s.pendingProps.children,et),s.child;case 10:e:{if(tt=s.type._context,nt=s.pendingProps,rt=s.memoizedProps,it=nt.value,G$1(Mg,tt._currentValue),tt._currentValue=it,rt!==null)if(He$1(rt.value,it)){if(rt.children===nt.children&&!Wf.current){s=$i(o,s,et);break e}}else for(rt=s.child,rt!==null&&(rt.return=s);rt!==null;){var st=rt.dependencies;if(st!==null){it=rt.child;for(var ot=st.firstContext;ot!==null;){if(ot.context===tt){if(rt.tag===1){ot=ch(-1,et&-et),ot.tag=2;var at=rt.updateQueue;if(at!==null){at=at.shared;var ut=at.pending;ut===null?ot.next=ot:(ot.next=ut.next,ut.next=ot),at.pending=ot}}rt.lanes|=et,ot=rt.alternate,ot!==null&&(ot.lanes|=et),Sg(rt.return,et,s),st.lanes|=et;break}ot=ot.next}}else if(rt.tag===10)it=rt.type===s.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$2(341));it.lanes|=et,st=it.alternate,st!==null&&(st.lanes|=et),Sg(it,et,s),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===s){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Yi(o,s,nt.children,et),s=s.child}return s;case 9:return nt=s.type,tt=s.pendingProps.children,Tg(s,et),nt=Vg(nt),tt=tt(nt),s.flags|=1,Yi(o,s,tt,et),s.child;case 14:return tt=s.type,nt=Lg(tt,s.pendingProps),nt=Lg(tt.type,nt),aj(o,s,tt,nt,et);case 15:return cj(o,s,s.type,s.pendingProps,et);case 17:return tt=s.type,nt=s.pendingProps,nt=s.elementType===tt?nt:Lg(tt,nt),jj(o,s),s.tag=1,Zf(tt)?(o=!0,cg(s)):o=!1,Tg(s,et),ph(s,tt,nt),rh(s,tt,nt,et),kj(null,s,tt,!0,o,et);case 19:return yj(o,s,et);case 22:return ej(o,s,et)}throw Error(p$2(156,s.tag))};function Gk(o,s){return ac(o,s)}function al(o,s,et,tt){this.tag=o,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,s,et,tt){return new al(o,s,et,tt)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,s){var et=o.alternate;return et===null?(et=Bg(o.tag,s,o.key,o.mode),et.elementType=o.elementType,et.type=o.type,et.stateNode=o.stateNode,et.alternate=o,o.alternate=et):(et.pendingProps=s,et.type=o.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=o.flags&14680064,et.childLanes=o.childLanes,et.lanes=o.lanes,et.child=o.child,et.memoizedProps=o.memoizedProps,et.memoizedState=o.memoizedState,et.updateQueue=o.updateQueue,s=o.dependencies,et.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},et.sibling=o.sibling,et.index=o.index,et.ref=o.ref,et}function yh(o,s,et,tt,nt,rt){var it=2;if(tt=o,typeof o=="function")bj(o)&&(it=1);else if(typeof o=="string")it=5;else e:switch(o){case ya:return Ah(et.children,nt,rt,s);case za:it=8,nt|=8;break;case Aa:return o=Bg(12,et,s,nt|2),o.elementType=Aa,o.lanes=rt,o;case Ea:return o=Bg(13,et,s,nt),o.elementType=Ea,o.lanes=rt,o;case Fa:return o=Bg(19,et,s,nt),o.elementType=Fa,o.lanes=rt,o;case Ia:return qj(et,nt,rt,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$2(130,o==null?o:typeof o,""))}return s=Bg(it,et,s,nt),s.elementType=o,s.type=tt,s.lanes=rt,s}function Ah(o,s,et,tt){return o=Bg(7,o,tt,s),o.lanes=et,o}function qj(o,s,et,tt){return o=Bg(22,o,tt,s),o.elementType=Ia,o.lanes=et,o.stateNode={isHidden:!1},o}function xh(o,s,et){return o=Bg(6,o,null,s),o.lanes=et,o}function zh(o,s,et){return s=Bg(4,o.children!==null?o.children:[],o.key,s),s.lanes=et,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function bl(o,s,et,tt,nt){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(o,s,et,tt,nt,rt,it,st,ot){return o=new bl(o,s,et,st,ot),s===1?(s=1,rt===!0&&(s|=8)):s=0,rt=Bg(3,null,null,s),o.current=rt,rt.stateNode=o,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rt),o}function dl(o,s,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:o,containerInfo:s,implementation:et}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$2(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$2(171))}if(o.tag===1){var et=o.type;if(Zf(et))return bg(o,et,s)}return s}function fl(o,s,et,tt,nt,rt,it,st,ot){return o=cl(et,tt,!0,o,nt,rt,it,st,ot),o.context=el(null),et=o.current,tt=L$1(),nt=lh(et),rt=ch(tt,nt),rt.callback=s!=null?s:null,dh(et,rt,nt),o.current.lanes=nt,Ac(o,nt,tt),Ek(o,tt),o}function gl(o,s,et,tt){var nt=s.current,rt=L$1(),it=lh(nt);return et=el(et),s.context===null?s.context=et:s.pendingContext=et,s=ch(rt,it),s.payload={element:o},tt=tt===void 0?null:tt,tt!==null&&(s.callback=tt),o=dh(nt,s,it),o!==null&&(mh(o,nt,it,rt),eh(o,nt,it)),it}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var et=o.retryLane;o.retryLane=et!==0&&et<s?et:s}}function jl(o,s){il(o,s),(o=o.alternate)&&il(o,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(p$2(409));gl(o,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Sk(function(){gl(null,o,null,null)}),s[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var s=Hc();o={blockedOn:null,target:o,priority:s};for(var et=0;et<Qc.length&&s!==0&&s<Qc[et].priority;et++);Qc.splice(et,0,o),et===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,s,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var at=hl(it);rt.call(at)}}var it=fl(s,tt,o,0,null,!1,!1,"",ql);return o._reactRootContainer=it,o[uf]=it.current,sf(o.nodeType===8?o.parentNode:o),Sk(),it}for(;nt=o.lastChild;)o.removeChild(nt);if(typeof tt=="function"){var st=tt;tt=function(){var at=hl(ot);st.call(at)}}var ot=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=ot,o[uf]=ot.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(s,ot,et,tt)}),ot}function sl(o,s,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var st=nt;nt=function(){var ot=hl(it);st.call(ot)}}gl(s,it,o,nt)}else it=rl(et,s,o,nt,tt);return hl(it)}Ec=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var et=tc(s.pendingLanes);et!==0&&(Cc(s,et|1),Ek(s,B$1()),(K$1&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg(o,1);if(tt!==null){var nt=L$1();mh(tt,o,1,nt)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var s=Zg(o,134217728);if(s!==null){var et=L$1();mh(s,o,134217728,et)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var s=lh(o),et=Zg(o,s);if(et!==null){var tt=L$1();mh(et,o,s,tt)}jl(o,s)}};Hc=function(){return C};Ic=function(o,s){var et=C;try{return C=o,s()}finally{C=et}};yb=function(o,s,et){switch(s){case"input":if(bb(o,et),s=et.name,et.type==="radio"&&s!=null){for(et=o;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<et.length;s++){var tt=et[s];if(tt!==o&&tt.form===o.form){var nt=Db(tt);if(!nt)throw Error(p$2(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib(o,et);break;case"select":s=et.value,s!=null&&fb(o,!!et.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,s){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p$2(200));return dl(o,s,null,et)};reactDom_production_min.createRoot=function(o,s){if(!ol(o))throw Error(p$2(299));var et=!1,tt="",nt=ll;return s!=null&&(s.unstable_strictMode===!0&&(et=!0),s.identifierPrefix!==void 0&&(tt=s.identifierPrefix),s.onRecoverableError!==void 0&&(nt=s.onRecoverableError)),s=cl(o,1,!1,null,null,et,!1,tt,nt),o[uf]=s.current,sf(o.nodeType===8?o.parentNode:o),new ml(s)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(p$2(188)):(o=Object.keys(o).join(","),Error(p$2(268,o)));return o=Zb(s),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,s,et){if(!pl(s))throw Error(p$2(200));return sl(null,o,s,!0,et)};reactDom_production_min.hydrateRoot=function(o,s,et){if(!ol(o))throw Error(p$2(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=ll;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),s=fl(s,null,o,1,et!=null?et:null,nt,!1,rt,it),o[uf]=s.current,sf(o),tt)for(o=0;o<tt.length;o++)et=tt[o],nt=et._getVersion,nt=nt(et._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[et,nt]:s.mutableSourceEagerHydrationData.push(et,nt);return new nl(s)};reactDom_production_min.render=function(o,s,et){if(!pl(s))throw Error(p$2(200));return sl(null,o,s,!1,et)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$2(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,s,et,tt){if(!pl(et))throw Error(p$2(200));if(o==null||o._reactInternals===void 0)throw Error(p$2(38));return sl(o,s,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(o){function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(et){console.error(et)}}s(),o.exports=reactDom_production_min})(reactDom);var m$2=reactDom.exports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="144",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(s,et){this._listeners===void 0&&(this._listeners={});const tt=this._listeners;tt[s]===void 0&&(tt[s]=[]),tt[s].indexOf(et)===-1&&tt[s].push(et)}hasEventListener(s,et){if(this._listeners===void 0)return!1;const tt=this._listeners;return tt[s]!==void 0&&tt[s].indexOf(et)!==-1}removeEventListener(s,et){if(this._listeners===void 0)return;const nt=this._listeners[s];if(nt!==void 0){const rt=nt.indexOf(et);rt!==-1&&nt.splice(rt,1)}}dispatchEvent(s){if(this._listeners===void 0)return;const tt=this._listeners[s.type];if(tt!==void 0){s.target=this;const nt=tt.slice(0);for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].call(this,s);s.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const o=Math.random()*4294967295|0,s=Math.random()*4294967295|0,et=Math.random()*4294967295|0,tt=Math.random()*4294967295|0;return(_lut[o&255]+_lut[o>>8&255]+_lut[o>>16&255]+_lut[o>>24&255]+"-"+_lut[s&255]+_lut[s>>8&255]+"-"+_lut[s>>16&15|64]+_lut[s>>24&255]+"-"+_lut[et&63|128]+_lut[et>>8&255]+"-"+_lut[et>>16&255]+_lut[et>>24&255]+_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]).toLowerCase()}function clamp$2(o,s,et){return Math.max(s,Math.min(et,o))}function euclideanModulo(o,s){return(o%s+s)%s}function mapLinear(o,s,et,tt,nt){return tt+(o-s)*(nt-tt)/(et-s)}function inverseLerp(o,s,et){return o!==s?(et-o)/(s-o):0}function lerp(o,s,et){return(1-et)*o+et*s}function damp(o,s,et,tt){return lerp(o,s,1-Math.exp(-et*tt))}function pingpong(o,s=1){return s-Math.abs(euclideanModulo(o,s*2)-s)}function smoothstep(o,s,et){return o<=s?0:o>=et?1:(o=(o-s)/(et-s),o*o*(3-2*o))}function smootherstep(o,s,et){return o<=s?0:o>=et?1:(o=(o-s)/(et-s),o*o*o*(o*(o*6-15)+10))}function randInt(o,s){return o+Math.floor(Math.random()*(s-o+1))}function randFloat(o,s){return o+Math.random()*(s-o)}function randFloatSpread(o){return o*(.5-Math.random())}function seededRandom(o){o!==void 0&&(_seed=o);let s=_seed+=1831565813;return s=Math.imul(s^s>>>15,s|1),s^=s+Math.imul(s^s>>>7,s|61),((s^s>>>14)>>>0)/4294967296}function degToRad(o){return o*DEG2RAD}function radToDeg(o){return o*RAD2DEG}function isPowerOfTwo(o){return(o&o-1)===0&&o!==0}function ceilPowerOfTwo(o){return Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function floorPowerOfTwo(o){return Math.pow(2,Math.floor(Math.log(o)/Math.LN2))}function setQuaternionFromProperEuler(o,s,et,tt,nt){const rt=Math.cos,it=Math.sin,st=rt(et/2),ot=it(et/2),at=rt((s+tt)/2),ut=it((s+tt)/2),ht=rt((s-tt)/2),ft=it((s-tt)/2),dt=rt((tt-s)/2),vt=it((tt-s)/2);switch(nt){case"XYX":o.set(st*ut,ot*ht,ot*ft,st*at);break;case"YZY":o.set(ot*ft,st*ut,ot*ht,st*at);break;case"ZXZ":o.set(ot*ht,ot*ft,st*ut,st*at);break;case"XZX":o.set(st*ut,ot*vt,ot*dt,st*at);break;case"YXY":o.set(ot*dt,st*ut,ot*vt,st*at);break;case"ZYZ":o.set(ot*vt,ot*dt,st*ut,st*at);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+nt)}}function denormalize(o,s){switch(s.constructor){case Float32Array:return o;case Uint16Array:return o/65535;case Uint8Array:return o/255;case Int16Array:return Math.max(o/32767,-1);case Int8Array:return Math.max(o/127,-1);default:throw new Error("Invalid component type.")}}function normalize(o,s){switch(s.constructor){case Float32Array:return o;case Uint16Array:return Math.round(o*65535);case Uint8Array:return Math.round(o*255);case Int16Array:return Math.round(o*32767);case Int8Array:return Math.round(o*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$2,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize});class Vector2{constructor(s=0,et=0){Vector2.prototype.isVector2=!0,this.x=s,this.y=et}get width(){return this.x}set width(s){this.x=s}get height(){return this.y}set height(s){this.y=s}set(s,et){return this.x=s,this.y=et,this}setScalar(s){return this.x=s,this.y=s,this}setX(s){return this.x=s,this}setY(s){return this.y=s,this}setComponent(s,et){switch(s){case 0:this.x=et;break;case 1:this.y=et;break;default:throw new Error("index is out of range: "+s)}return this}getComponent(s){switch(s){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+s)}}clone(){return new this.constructor(this.x,this.y)}copy(s){return this.x=s.x,this.y=s.y,this}add(s){return this.x+=s.x,this.y+=s.y,this}addScalar(s){return this.x+=s,this.y+=s,this}addVectors(s,et){return this.x=s.x+et.x,this.y=s.y+et.y,this}addScaledVector(s,et){return this.x+=s.x*et,this.y+=s.y*et,this}sub(s){return this.x-=s.x,this.y-=s.y,this}subScalar(s){return this.x-=s,this.y-=s,this}subVectors(s,et){return this.x=s.x-et.x,this.y=s.y-et.y,this}multiply(s){return this.x*=s.x,this.y*=s.y,this}multiplyScalar(s){return this.x*=s,this.y*=s,this}divide(s){return this.x/=s.x,this.y/=s.y,this}divideScalar(s){return this.multiplyScalar(1/s)}applyMatrix3(s){const et=this.x,tt=this.y,nt=s.elements;return this.x=nt[0]*et+nt[3]*tt+nt[6],this.y=nt[1]*et+nt[4]*tt+nt[7],this}min(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this}max(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this}clamp(s,et){return this.x=Math.max(s.x,Math.min(et.x,this.x)),this.y=Math.max(s.y,Math.min(et.y,this.y)),this}clampScalar(s,et){return this.x=Math.max(s,Math.min(et,this.x)),this.y=Math.max(s,Math.min(et,this.y)),this}clampLength(s,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(s,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(s){return this.x*s.x+this.y*s.y}cross(s){return this.x*s.y-this.y*s.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(s){return Math.sqrt(this.distanceToSquared(s))}distanceToSquared(s){const et=this.x-s.x,tt=this.y-s.y;return et*et+tt*tt}manhattanDistanceTo(s){return Math.abs(this.x-s.x)+Math.abs(this.y-s.y)}setLength(s){return this.normalize().multiplyScalar(s)}lerp(s,et){return this.x+=(s.x-this.x)*et,this.y+=(s.y-this.y)*et,this}lerpVectors(s,et,tt){return this.x=s.x+(et.x-s.x)*tt,this.y=s.y+(et.y-s.y)*tt,this}equals(s){return s.x===this.x&&s.y===this.y}fromArray(s,et=0){return this.x=s[et],this.y=s[et+1],this}toArray(s=[],et=0){return s[et]=this.x,s[et+1]=this.y,s}fromBufferAttribute(s,et){return this.x=s.getX(et),this.y=s.getY(et),this}rotateAround(s,et){const tt=Math.cos(et),nt=Math.sin(et),rt=this.x-s.x,it=this.y-s.y;return this.x=rt*tt-it*nt+s.x,this.y=rt*nt+it*tt+s.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(s,et,tt,nt,rt,it,st,ot,at){const ut=this.elements;return ut[0]=s,ut[1]=nt,ut[2]=st,ut[3]=et,ut[4]=rt,ut[5]=ot,ut[6]=tt,ut[7]=it,ut[8]=at,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(s){const et=this.elements,tt=s.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],this}extractBasis(s,et,tt){return s.setFromMatrix3Column(this,0),et.setFromMatrix3Column(this,1),tt.setFromMatrix3Column(this,2),this}setFromMatrix4(s){const et=s.elements;return this.set(et[0],et[4],et[8],et[1],et[5],et[9],et[2],et[6],et[10]),this}multiply(s){return this.multiplyMatrices(this,s)}premultiply(s){return this.multiplyMatrices(s,this)}multiplyMatrices(s,et){const tt=s.elements,nt=et.elements,rt=this.elements,it=tt[0],st=tt[3],ot=tt[6],at=tt[1],ut=tt[4],ht=tt[7],ft=tt[2],dt=tt[5],vt=tt[8],gt=nt[0],_t=nt[3],pt=nt[6],mt=nt[1],yt=nt[4],xt=nt[7],bt=nt[2],wt=nt[5],Ct=nt[8];return rt[0]=it*gt+st*mt+ot*bt,rt[3]=it*_t+st*yt+ot*wt,rt[6]=it*pt+st*xt+ot*Ct,rt[1]=at*gt+ut*mt+ht*bt,rt[4]=at*_t+ut*yt+ht*wt,rt[7]=at*pt+ut*xt+ht*Ct,rt[2]=ft*gt+dt*mt+vt*bt,rt[5]=ft*_t+dt*yt+vt*wt,rt[8]=ft*pt+dt*xt+vt*Ct,this}multiplyScalar(s){const et=this.elements;return et[0]*=s,et[3]*=s,et[6]*=s,et[1]*=s,et[4]*=s,et[7]*=s,et[2]*=s,et[5]*=s,et[8]*=s,this}determinant(){const s=this.elements,et=s[0],tt=s[1],nt=s[2],rt=s[3],it=s[4],st=s[5],ot=s[6],at=s[7],ut=s[8];return et*it*ut-et*st*at-tt*rt*ut+tt*st*ot+nt*rt*at-nt*it*ot}invert(){const s=this.elements,et=s[0],tt=s[1],nt=s[2],rt=s[3],it=s[4],st=s[5],ot=s[6],at=s[7],ut=s[8],ht=ut*it-st*at,ft=st*ot-ut*rt,dt=at*rt-it*ot,vt=et*ht+tt*ft+nt*dt;if(vt===0)return this.set(0,0,0,0,0,0,0,0,0);const gt=1/vt;return s[0]=ht*gt,s[1]=(nt*at-ut*tt)*gt,s[2]=(st*tt-nt*it)*gt,s[3]=ft*gt,s[4]=(ut*et-nt*ot)*gt,s[5]=(nt*rt-st*et)*gt,s[6]=dt*gt,s[7]=(tt*ot-at*et)*gt,s[8]=(it*et-tt*rt)*gt,this}transpose(){let s;const et=this.elements;return s=et[1],et[1]=et[3],et[3]=s,s=et[2],et[2]=et[6],et[6]=s,s=et[5],et[5]=et[7],et[7]=s,this}getNormalMatrix(s){return this.setFromMatrix4(s).invert().transpose()}transposeIntoArray(s){const et=this.elements;return s[0]=et[0],s[1]=et[3],s[2]=et[6],s[3]=et[1],s[4]=et[4],s[5]=et[7],s[6]=et[2],s[7]=et[5],s[8]=et[8],this}setUvTransform(s,et,tt,nt,rt,it,st){const ot=Math.cos(rt),at=Math.sin(rt);return this.set(tt*ot,tt*at,-tt*(ot*it+at*st)+it+s,-nt*at,nt*ot,-nt*(-at*it+ot*st)+st+et,0,0,1),this}scale(s,et){const tt=this.elements;return tt[0]*=s,tt[3]*=s,tt[6]*=s,tt[1]*=et,tt[4]*=et,tt[7]*=et,this}rotate(s){const et=Math.cos(s),tt=Math.sin(s),nt=this.elements,rt=nt[0],it=nt[3],st=nt[6],ot=nt[1],at=nt[4],ut=nt[7];return nt[0]=et*rt+tt*ot,nt[3]=et*it+tt*at,nt[6]=et*st+tt*ut,nt[1]=-tt*rt+et*ot,nt[4]=-tt*it+et*at,nt[7]=-tt*st+et*ut,this}translate(s,et){const tt=this.elements;return tt[0]+=s*tt[2],tt[3]+=s*tt[5],tt[6]+=s*tt[8],tt[1]+=et*tt[2],tt[4]+=et*tt[5],tt[7]+=et*tt[8],this}equals(s){const et=this.elements,tt=s.elements;for(let nt=0;nt<9;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(s,et=0){for(let tt=0;tt<9;tt++)this.elements[tt]=s[tt+et];return this}toArray(s=[],et=0){const tt=this.elements;return s[et]=tt[0],s[et+1]=tt[1],s[et+2]=tt[2],s[et+3]=tt[3],s[et+4]=tt[4],s[et+5]=tt[5],s[et+6]=tt[6],s[et+7]=tt[7],s[et+8]=tt[8],s}clone(){return new this.constructor().fromArray(this.elements)}}function arrayNeedsUint32(o){for(let s=o.length-1;s>=0;--s)if(o[s]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(o,s){return new TYPED_ARRAYS[o](s)}function createElementNS(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}function SRGBToLinear(o){return o<.04045?o*.0773993808:Math.pow(o*.9478672986+.0521327014,2.4)}function LinearToSRGB(o){return o<.0031308?o*12.92:1.055*Math.pow(o,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(o){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(o,s,et){if(this.legacyMode||s===et||!s||!et)return o;if(FN[s]&&FN[s][et]!==void 0){const tt=FN[s][et];return o.r=tt(o.r),o.g=tt(o.g),o.b=tt(o.b),o}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(o,s){return this.convert(o,this.workingColorSpace,s)},toWorkingColorSpace:function(o,s){return this.convert(o,s,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(o,s,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?o+(s-o)*6*et:et<1/2?s:et<2/3?o+(s-o)*6*(2/3-et):o}function toComponents(o,s){return s.r=o.r,s.g=o.g,s.b=o.b,s}class Color{constructor(s,et,tt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,et===void 0&&tt===void 0?this.set(s):this.setRGB(s,et,tt)}set(s){return s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s),this}setScalar(s){return this.r=s,this.g=s,this.b=s,this}setHex(s,et=SRGBColorSpace){return s=Math.floor(s),this.r=(s>>16&255)/255,this.g=(s>>8&255)/255,this.b=(s&255)/255,ColorManagement.toWorkingColorSpace(this,et),this}setRGB(s,et,tt,nt=LinearSRGBColorSpace){return this.r=s,this.g=et,this.b=tt,ColorManagement.toWorkingColorSpace(this,nt),this}setHSL(s,et,tt,nt=LinearSRGBColorSpace){if(s=euclideanModulo(s,1),et=clamp$2(et,0,1),tt=clamp$2(tt,0,1),et===0)this.r=this.g=this.b=tt;else{const rt=tt<=.5?tt*(1+et):tt+et-tt*et,it=2*tt-rt;this.r=hue2rgb(it,rt,s+1/3),this.g=hue2rgb(it,rt,s),this.b=hue2rgb(it,rt,s-1/3)}return ColorManagement.toWorkingColorSpace(this,nt),this}setStyle(s,et=SRGBColorSpace){function tt(rt){rt!==void 0&&parseFloat(rt)<1&&console.warn("THREE.Color: Alpha component of "+s+" will be ignored.")}let nt;if(nt=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(s)){let rt;const it=nt[1],st=nt[2];switch(it){case"rgb":case"rgba":if(rt=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(255,parseInt(rt[1],10))/255,this.g=Math.min(255,parseInt(rt[2],10))/255,this.b=Math.min(255,parseInt(rt[3],10))/255,ColorManagement.toWorkingColorSpace(this,et),tt(rt[4]),this;if(rt=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(100,parseInt(rt[1],10))/100,this.g=Math.min(100,parseInt(rt[2],10))/100,this.b=Math.min(100,parseInt(rt[3],10))/100,ColorManagement.toWorkingColorSpace(this,et),tt(rt[4]),this;break;case"hsl":case"hsla":if(rt=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st)){const ot=parseFloat(rt[1])/360,at=parseFloat(rt[2])/100,ut=parseFloat(rt[3])/100;return tt(rt[4]),this.setHSL(ot,at,ut,et)}break}}else if(nt=/^\#([A-Fa-f\d]+)$/.exec(s)){const rt=nt[1],it=rt.length;if(it===3)return this.r=parseInt(rt.charAt(0)+rt.charAt(0),16)/255,this.g=parseInt(rt.charAt(1)+rt.charAt(1),16)/255,this.b=parseInt(rt.charAt(2)+rt.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,et),this;if(it===6)return this.r=parseInt(rt.charAt(0)+rt.charAt(1),16)/255,this.g=parseInt(rt.charAt(2)+rt.charAt(3),16)/255,this.b=parseInt(rt.charAt(4)+rt.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,et),this}return s&&s.length>0?this.setColorName(s,et):this}setColorName(s,et=SRGBColorSpace){const tt=_colorKeywords[s.toLowerCase()];return tt!==void 0?this.setHex(tt,et):console.warn("THREE.Color: Unknown color "+s),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(s){return this.r=s.r,this.g=s.g,this.b=s.b,this}copySRGBToLinear(s){return this.r=SRGBToLinear(s.r),this.g=SRGBToLinear(s.g),this.b=SRGBToLinear(s.b),this}copyLinearToSRGB(s){return this.r=LinearToSRGB(s.r),this.g=LinearToSRGB(s.g),this.b=LinearToSRGB(s.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(s=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),s),clamp$2(_rgb.r*255,0,255)<<16^clamp$2(_rgb.g*255,0,255)<<8^clamp$2(_rgb.b*255,0,255)<<0}getHexString(s=SRGBColorSpace){return("000000"+this.getHex(s).toString(16)).slice(-6)}getHSL(s,et=LinearSRGBColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),et);const tt=_rgb.r,nt=_rgb.g,rt=_rgb.b,it=Math.max(tt,nt,rt),st=Math.min(tt,nt,rt);let ot,at;const ut=(st+it)/2;if(st===it)ot=0,at=0;else{const ht=it-st;switch(at=ut<=.5?ht/(it+st):ht/(2-it-st),it){case tt:ot=(nt-rt)/ht+(nt<rt?6:0);break;case nt:ot=(rt-tt)/ht+2;break;case rt:ot=(tt-nt)/ht+4;break}ot/=6}return s.h=ot,s.s=at,s.l=ut,s}getRGB(s,et=LinearSRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),et),s.r=_rgb.r,s.g=_rgb.g,s.b=_rgb.b,s}getStyle(s=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),s),s!==SRGBColorSpace?`color(${s} ${_rgb.r} ${_rgb.g} ${_rgb.b})`:`rgb(${_rgb.r*255|0},${_rgb.g*255|0},${_rgb.b*255|0})`}offsetHSL(s,et,tt){return this.getHSL(_hslA),_hslA.h+=s,_hslA.s+=et,_hslA.l+=tt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(s){return this.r+=s.r,this.g+=s.g,this.b+=s.b,this}addColors(s,et){return this.r=s.r+et.r,this.g=s.g+et.g,this.b=s.b+et.b,this}addScalar(s){return this.r+=s,this.g+=s,this.b+=s,this}sub(s){return this.r=Math.max(0,this.r-s.r),this.g=Math.max(0,this.g-s.g),this.b=Math.max(0,this.b-s.b),this}multiply(s){return this.r*=s.r,this.g*=s.g,this.b*=s.b,this}multiplyScalar(s){return this.r*=s,this.g*=s,this.b*=s,this}lerp(s,et){return this.r+=(s.r-this.r)*et,this.g+=(s.g-this.g)*et,this.b+=(s.b-this.b)*et,this}lerpColors(s,et,tt){return this.r=s.r+(et.r-s.r)*tt,this.g=s.g+(et.g-s.g)*tt,this.b=s.b+(et.b-s.b)*tt,this}lerpHSL(s,et){this.getHSL(_hslA),s.getHSL(_hslB);const tt=lerp(_hslA.h,_hslB.h,et),nt=lerp(_hslA.s,_hslB.s,et),rt=lerp(_hslA.l,_hslB.l,et);return this.setHSL(tt,nt,rt),this}equals(s){return s.r===this.r&&s.g===this.g&&s.b===this.b}fromArray(s,et=0){return this.r=s[et],this.g=s[et+1],this.b=s[et+2],this}toArray(s=[],et=0){return s[et]=this.r,s[et+1]=this.g,s[et+2]=this.b,s}fromBufferAttribute(s,et){return this.r=s.getX(et),this.g=s.getY(et),this.b=s.getZ(et),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color.NAMES=_colorKeywords;let _canvas;class ImageUtils{static getDataURL(s){if(/^data:/i.test(s.src)||typeof HTMLCanvasElement>"u")return s.src;let et;if(s instanceof HTMLCanvasElement)et=s;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=s.width,_canvas.height=s.height;const tt=_canvas.getContext("2d");s instanceof ImageData?tt.putImageData(s,0,0):tt.drawImage(s,0,0,s.width,s.height),et=_canvas}return et.width>2048||et.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",s),et.toDataURL("image/jpeg",.6)):et.toDataURL("image/png")}static sRGBToLinear(s){if(typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap){const et=createElementNS("canvas");et.width=s.width,et.height=s.height;const tt=et.getContext("2d");tt.drawImage(s,0,0,s.width,s.height);const nt=tt.getImageData(0,0,s.width,s.height),rt=nt.data;for(let it=0;it<rt.length;it++)rt[it]=SRGBToLinear(rt[it]/255)*255;return tt.putImageData(nt,0,0),et}else if(s.data){const et=s.data.slice(0);for(let tt=0;tt<et.length;tt++)et instanceof Uint8Array||et instanceof Uint8ClampedArray?et[tt]=Math.floor(SRGBToLinear(et[tt]/255)*255):et[tt]=SRGBToLinear(et[tt]);return{data:et,width:s.width,height:s.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),s}}class Source{constructor(s=null){this.isSource=!0,this.uuid=generateUUID(),this.data=s,this.version=0}set needsUpdate(s){s===!0&&this.version++}toJSON(s){const et=s===void 0||typeof s=="string";if(!et&&s.images[this.uuid]!==void 0)return s.images[this.uuid];const tt={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let rt;if(Array.isArray(nt)){rt=[];for(let it=0,st=nt.length;it<st;it++)nt[it].isDataTexture?rt.push(serializeImage(nt[it].image)):rt.push(serializeImage(nt[it]))}else rt=serializeImage(nt);tt.url=rt}return et||(s.images[this.uuid]=tt),tt}}function serializeImage(o){return typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap?ImageUtils.getDataURL(o):o.data?{data:Array.from(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(s=Texture.DEFAULT_IMAGE,et=Texture.DEFAULT_MAPPING,tt=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,rt=LinearFilter,it=LinearMipmapLinearFilter,st=RGBAFormat,ot=UnsignedByteType,at=1,ut=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(s),this.mipmaps=[],this.mapping=et,this.wrapS=tt,this.wrapT=nt,this.magFilter=rt,this.minFilter=it,this.anisotropy=at,this.format=st,this.internalFormat=null,this.type=ot,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ut,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(s){this.source.data=s}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(s){return this.name=s.name,this.source=s.source,this.mipmaps=s.mipmaps.slice(0),this.mapping=s.mapping,this.wrapS=s.wrapS,this.wrapT=s.wrapT,this.magFilter=s.magFilter,this.minFilter=s.minFilter,this.anisotropy=s.anisotropy,this.format=s.format,this.internalFormat=s.internalFormat,this.type=s.type,this.offset.copy(s.offset),this.repeat.copy(s.repeat),this.center.copy(s.center),this.rotation=s.rotation,this.matrixAutoUpdate=s.matrixAutoUpdate,this.matrix.copy(s.matrix),this.generateMipmaps=s.generateMipmaps,this.premultiplyAlpha=s.premultiplyAlpha,this.flipY=s.flipY,this.unpackAlignment=s.unpackAlignment,this.encoding=s.encoding,this.userData=JSON.parse(JSON.stringify(s.userData)),this.needsUpdate=!0,this}toJSON(s){const et=s===void 0||typeof s=="string";if(!et&&s.textures[this.uuid]!==void 0)return s.textures[this.uuid];const tt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(s).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(tt.userData=this.userData),et||(s.textures[this.uuid]=tt),tt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(s){if(this.mapping!==UVMapping)return s;if(s.applyMatrix3(this.matrix),s.x<0||s.x>1)switch(this.wrapS){case RepeatWrapping:s.x=s.x-Math.floor(s.x);break;case ClampToEdgeWrapping:s.x=s.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(s.x)%2)===1?s.x=Math.ceil(s.x)-s.x:s.x=s.x-Math.floor(s.x);break}if(s.y<0||s.y>1)switch(this.wrapT){case RepeatWrapping:s.y=s.y-Math.floor(s.y);break;case ClampToEdgeWrapping:s.y=s.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(s.y)%2)===1?s.y=Math.ceil(s.y)-s.y:s.y=s.y-Math.floor(s.y);break}return this.flipY&&(s.y=1-s.y),s}set needsUpdate(s){s===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;class Vector4{constructor(s=0,et=0,tt=0,nt=1){Vector4.prototype.isVector4=!0,this.x=s,this.y=et,this.z=tt,this.w=nt}get width(){return this.z}set width(s){this.z=s}get height(){return this.w}set height(s){this.w=s}set(s,et,tt,nt){return this.x=s,this.y=et,this.z=tt,this.w=nt,this}setScalar(s){return this.x=s,this.y=s,this.z=s,this.w=s,this}setX(s){return this.x=s,this}setY(s){return this.y=s,this}setZ(s){return this.z=s,this}setW(s){return this.w=s,this}setComponent(s,et){switch(s){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;case 3:this.w=et;break;default:throw new Error("index is out of range: "+s)}return this}getComponent(s){switch(s){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+s)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w!==void 0?s.w:1,this}add(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z,this.w+=s.w,this}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this}addVectors(s,et){return this.x=s.x+et.x,this.y=s.y+et.y,this.z=s.z+et.z,this.w=s.w+et.w,this}addScaledVector(s,et){return this.x+=s.x*et,this.y+=s.y*et,this.z+=s.z*et,this.w+=s.w*et,this}sub(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this.w-=s.w,this}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this}subVectors(s,et){return this.x=s.x-et.x,this.y=s.y-et.y,this.z=s.z-et.z,this.w=s.w-et.w,this}multiply(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z,this.w*=s.w,this}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this}applyMatrix4(s){const et=this.x,tt=this.y,nt=this.z,rt=this.w,it=s.elements;return this.x=it[0]*et+it[4]*tt+it[8]*nt+it[12]*rt,this.y=it[1]*et+it[5]*tt+it[9]*nt+it[13]*rt,this.z=it[2]*et+it[6]*tt+it[10]*nt+it[14]*rt,this.w=it[3]*et+it[7]*tt+it[11]*nt+it[15]*rt,this}divideScalar(s){return this.multiplyScalar(1/s)}setAxisAngleFromQuaternion(s){this.w=2*Math.acos(s.w);const et=Math.sqrt(1-s.w*s.w);return et<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=s.x/et,this.y=s.y/et,this.z=s.z/et),this}setAxisAngleFromRotationMatrix(s){let et,tt,nt,rt;const ot=s.elements,at=ot[0],ut=ot[4],ht=ot[8],ft=ot[1],dt=ot[5],vt=ot[9],gt=ot[2],_t=ot[6],pt=ot[10];if(Math.abs(ut-ft)<.01&&Math.abs(ht-gt)<.01&&Math.abs(vt-_t)<.01){if(Math.abs(ut+ft)<.1&&Math.abs(ht+gt)<.1&&Math.abs(vt+_t)<.1&&Math.abs(at+dt+pt-3)<.1)return this.set(1,0,0,0),this;et=Math.PI;const yt=(at+1)/2,xt=(dt+1)/2,bt=(pt+1)/2,wt=(ut+ft)/4,Ct=(ht+gt)/4,Et=(vt+_t)/4;return yt>xt&&yt>bt?yt<.01?(tt=0,nt=.707106781,rt=.707106781):(tt=Math.sqrt(yt),nt=wt/tt,rt=Ct/tt):xt>bt?xt<.01?(tt=.707106781,nt=0,rt=.707106781):(nt=Math.sqrt(xt),tt=wt/nt,rt=Et/nt):bt<.01?(tt=.707106781,nt=.707106781,rt=0):(rt=Math.sqrt(bt),tt=Ct/rt,nt=Et/rt),this.set(tt,nt,rt,et),this}let mt=Math.sqrt((_t-vt)*(_t-vt)+(ht-gt)*(ht-gt)+(ft-ut)*(ft-ut));return Math.abs(mt)<.001&&(mt=1),this.x=(_t-vt)/mt,this.y=(ht-gt)/mt,this.z=(ft-ut)/mt,this.w=Math.acos((at+dt+pt-1)/2),this}min(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this.w=Math.min(this.w,s.w),this}max(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this.w=Math.max(this.w,s.w),this}clamp(s,et){return this.x=Math.max(s.x,Math.min(et.x,this.x)),this.y=Math.max(s.y,Math.min(et.y,this.y)),this.z=Math.max(s.z,Math.min(et.z,this.z)),this.w=Math.max(s.w,Math.min(et.w,this.w)),this}clampScalar(s,et){return this.x=Math.max(s,Math.min(et,this.x)),this.y=Math.max(s,Math.min(et,this.y)),this.z=Math.max(s,Math.min(et,this.z)),this.w=Math.max(s,Math.min(et,this.w)),this}clampLength(s,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(s,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(s){return this.normalize().multiplyScalar(s)}lerp(s,et){return this.x+=(s.x-this.x)*et,this.y+=(s.y-this.y)*et,this.z+=(s.z-this.z)*et,this.w+=(s.w-this.w)*et,this}lerpVectors(s,et,tt){return this.x=s.x+(et.x-s.x)*tt,this.y=s.y+(et.y-s.y)*tt,this.z=s.z+(et.z-s.z)*tt,this.w=s.w+(et.w-s.w)*tt,this}equals(s){return s.x===this.x&&s.y===this.y&&s.z===this.z&&s.w===this.w}fromArray(s,et=0){return this.x=s[et],this.y=s[et+1],this.z=s[et+2],this.w=s[et+3],this}toArray(s=[],et=0){return s[et]=this.x,s[et+1]=this.y,s[et+2]=this.z,s[et+3]=this.w,s}fromBufferAttribute(s,et){return this.x=s.getX(et),this.y=s.getY(et),this.z=s.getZ(et),this.w=s.getW(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(s,et,tt={}){super(),this.isWebGLRenderTarget=!0,this.width=s,this.height=et,this.depth=1,this.scissor=new Vector4(0,0,s,et),this.scissorTest=!1,this.viewport=new Vector4(0,0,s,et);const nt={width:s,height:et,depth:1};this.texture=new Texture(nt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=tt.generateMipmaps!==void 0?tt.generateMipmaps:!1,this.texture.internalFormat=tt.internalFormat!==void 0?tt.internalFormat:null,this.texture.minFilter=tt.minFilter!==void 0?tt.minFilter:LinearFilter,this.depthBuffer=tt.depthBuffer!==void 0?tt.depthBuffer:!0,this.stencilBuffer=tt.stencilBuffer!==void 0?tt.stencilBuffer:!1,this.depthTexture=tt.depthTexture!==void 0?tt.depthTexture:null,this.samples=tt.samples!==void 0?tt.samples:0}setSize(s,et,tt=1){(this.width!==s||this.height!==et||this.depth!==tt)&&(this.width=s,this.height=et,this.depth=tt,this.texture.image.width=s,this.texture.image.height=et,this.texture.image.depth=tt,this.dispose()),this.viewport.set(0,0,s,et),this.scissor.set(0,0,s,et)}clone(){return new this.constructor().copy(this)}copy(s){this.width=s.width,this.height=s.height,this.depth=s.depth,this.viewport.copy(s.viewport),this.texture=s.texture.clone(),this.texture.isRenderTargetTexture=!0;const et=Object.assign({},s.texture.image);return this.texture.source=new Source(et),this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,s.depthTexture!==null&&(this.depthTexture=s.depthTexture.clone()),this.samples=s.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(s=null,et=1,tt=1,nt=1){super(null),this.isDataArrayTexture=!0,this.image={data:s,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(s,et,tt){super(s,et),this.isWebGLArrayRenderTarget=!0,this.depth=tt,this.texture=new DataArrayTexture(null,s,et,tt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(s=null,et=1,tt=1,nt=1){super(null),this.isData3DTexture=!0,this.image={data:s,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(s,et,tt){super(s,et),this.isWebGL3DRenderTarget=!0,this.depth=tt,this.texture=new Data3DTexture(null,s,et,tt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(s,et,tt,nt={}){super(s,et,nt),this.isWebGLMultipleRenderTargets=!0;const rt=this.texture;this.texture=[];for(let it=0;it<tt;it++)this.texture[it]=rt.clone(),this.texture[it].isRenderTargetTexture=!0}setSize(s,et,tt=1){if(this.width!==s||this.height!==et||this.depth!==tt){this.width=s,this.height=et,this.depth=tt;for(let nt=0,rt=this.texture.length;nt<rt;nt++)this.texture[nt].image.width=s,this.texture[nt].image.height=et,this.texture[nt].image.depth=tt;this.dispose()}return this.viewport.set(0,0,s,et),this.scissor.set(0,0,s,et),this}copy(s){this.dispose(),this.width=s.width,this.height=s.height,this.depth=s.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,s.depthTexture!==null&&(this.depthTexture=s.depthTexture.clone()),this.texture.length=0;for(let et=0,tt=s.texture.length;et<tt;et++)this.texture[et]=s.texture[et].clone(),this.texture[et].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(s=0,et=0,tt=0,nt=1){this.isQuaternion=!0,this._x=s,this._y=et,this._z=tt,this._w=nt}static slerpFlat(s,et,tt,nt,rt,it,st){let ot=tt[nt+0],at=tt[nt+1],ut=tt[nt+2],ht=tt[nt+3];const ft=rt[it+0],dt=rt[it+1],vt=rt[it+2],gt=rt[it+3];if(st===0){s[et+0]=ot,s[et+1]=at,s[et+2]=ut,s[et+3]=ht;return}if(st===1){s[et+0]=ft,s[et+1]=dt,s[et+2]=vt,s[et+3]=gt;return}if(ht!==gt||ot!==ft||at!==dt||ut!==vt){let _t=1-st;const pt=ot*ft+at*dt+ut*vt+ht*gt,mt=pt>=0?1:-1,yt=1-pt*pt;if(yt>Number.EPSILON){const bt=Math.sqrt(yt),wt=Math.atan2(bt,pt*mt);_t=Math.sin(_t*wt)/bt,st=Math.sin(st*wt)/bt}const xt=st*mt;if(ot=ot*_t+ft*xt,at=at*_t+dt*xt,ut=ut*_t+vt*xt,ht=ht*_t+gt*xt,_t===1-st){const bt=1/Math.sqrt(ot*ot+at*at+ut*ut+ht*ht);ot*=bt,at*=bt,ut*=bt,ht*=bt}}s[et]=ot,s[et+1]=at,s[et+2]=ut,s[et+3]=ht}static multiplyQuaternionsFlat(s,et,tt,nt,rt,it){const st=tt[nt],ot=tt[nt+1],at=tt[nt+2],ut=tt[nt+3],ht=rt[it],ft=rt[it+1],dt=rt[it+2],vt=rt[it+3];return s[et]=st*vt+ut*ht+ot*dt-at*ft,s[et+1]=ot*vt+ut*ft+at*ht-st*dt,s[et+2]=at*vt+ut*dt+st*ft-ot*ht,s[et+3]=ut*vt-st*ht-ot*ft-at*dt,s}get x(){return this._x}set x(s){this._x=s,this._onChangeCallback()}get y(){return this._y}set y(s){this._y=s,this._onChangeCallback()}get z(){return this._z}set z(s){this._z=s,this._onChangeCallback()}get w(){return this._w}set w(s){this._w=s,this._onChangeCallback()}set(s,et,tt,nt){return this._x=s,this._y=et,this._z=tt,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(s){return this._x=s.x,this._y=s.y,this._z=s.z,this._w=s.w,this._onChangeCallback(),this}setFromEuler(s,et){const tt=s._x,nt=s._y,rt=s._z,it=s._order,st=Math.cos,ot=Math.sin,at=st(tt/2),ut=st(nt/2),ht=st(rt/2),ft=ot(tt/2),dt=ot(nt/2),vt=ot(rt/2);switch(it){case"XYZ":this._x=ft*ut*ht+at*dt*vt,this._y=at*dt*ht-ft*ut*vt,this._z=at*ut*vt+ft*dt*ht,this._w=at*ut*ht-ft*dt*vt;break;case"YXZ":this._x=ft*ut*ht+at*dt*vt,this._y=at*dt*ht-ft*ut*vt,this._z=at*ut*vt-ft*dt*ht,this._w=at*ut*ht+ft*dt*vt;break;case"ZXY":this._x=ft*ut*ht-at*dt*vt,this._y=at*dt*ht+ft*ut*vt,this._z=at*ut*vt+ft*dt*ht,this._w=at*ut*ht-ft*dt*vt;break;case"ZYX":this._x=ft*ut*ht-at*dt*vt,this._y=at*dt*ht+ft*ut*vt,this._z=at*ut*vt-ft*dt*ht,this._w=at*ut*ht+ft*dt*vt;break;case"YZX":this._x=ft*ut*ht+at*dt*vt,this._y=at*dt*ht+ft*ut*vt,this._z=at*ut*vt-ft*dt*ht,this._w=at*ut*ht-ft*dt*vt;break;case"XZY":this._x=ft*ut*ht-at*dt*vt,this._y=at*dt*ht-ft*ut*vt,this._z=at*ut*vt+ft*dt*ht,this._w=at*ut*ht+ft*dt*vt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+it)}return et!==!1&&this._onChangeCallback(),this}setFromAxisAngle(s,et){const tt=et/2,nt=Math.sin(tt);return this._x=s.x*nt,this._y=s.y*nt,this._z=s.z*nt,this._w=Math.cos(tt),this._onChangeCallback(),this}setFromRotationMatrix(s){const et=s.elements,tt=et[0],nt=et[4],rt=et[8],it=et[1],st=et[5],ot=et[9],at=et[2],ut=et[6],ht=et[10],ft=tt+st+ht;if(ft>0){const dt=.5/Math.sqrt(ft+1);this._w=.25/dt,this._x=(ut-ot)*dt,this._y=(rt-at)*dt,this._z=(it-nt)*dt}else if(tt>st&&tt>ht){const dt=2*Math.sqrt(1+tt-st-ht);this._w=(ut-ot)/dt,this._x=.25*dt,this._y=(nt+it)/dt,this._z=(rt+at)/dt}else if(st>ht){const dt=2*Math.sqrt(1+st-tt-ht);this._w=(rt-at)/dt,this._x=(nt+it)/dt,this._y=.25*dt,this._z=(ot+ut)/dt}else{const dt=2*Math.sqrt(1+ht-tt-st);this._w=(it-nt)/dt,this._x=(rt+at)/dt,this._y=(ot+ut)/dt,this._z=.25*dt}return this._onChangeCallback(),this}setFromUnitVectors(s,et){let tt=s.dot(et)+1;return tt<Number.EPSILON?(tt=0,Math.abs(s.x)>Math.abs(s.z)?(this._x=-s.y,this._y=s.x,this._z=0,this._w=tt):(this._x=0,this._y=-s.z,this._z=s.y,this._w=tt)):(this._x=s.y*et.z-s.z*et.y,this._y=s.z*et.x-s.x*et.z,this._z=s.x*et.y-s.y*et.x,this._w=tt),this.normalize()}angleTo(s){return 2*Math.acos(Math.abs(clamp$2(this.dot(s),-1,1)))}rotateTowards(s,et){const tt=this.angleTo(s);if(tt===0)return this;const nt=Math.min(1,et/tt);return this.slerp(s,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(s){return this._x*s._x+this._y*s._y+this._z*s._z+this._w*s._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let s=this.length();return s===0?(this._x=0,this._y=0,this._z=0,this._w=1):(s=1/s,this._x=this._x*s,this._y=this._y*s,this._z=this._z*s,this._w=this._w*s),this._onChangeCallback(),this}multiply(s){return this.multiplyQuaternions(this,s)}premultiply(s){return this.multiplyQuaternions(s,this)}multiplyQuaternions(s,et){const tt=s._x,nt=s._y,rt=s._z,it=s._w,st=et._x,ot=et._y,at=et._z,ut=et._w;return this._x=tt*ut+it*st+nt*at-rt*ot,this._y=nt*ut+it*ot+rt*st-tt*at,this._z=rt*ut+it*at+tt*ot-nt*st,this._w=it*ut-tt*st-nt*ot-rt*at,this._onChangeCallback(),this}slerp(s,et){if(et===0)return this;if(et===1)return this.copy(s);const tt=this._x,nt=this._y,rt=this._z,it=this._w;let st=it*s._w+tt*s._x+nt*s._y+rt*s._z;if(st<0?(this._w=-s._w,this._x=-s._x,this._y=-s._y,this._z=-s._z,st=-st):this.copy(s),st>=1)return this._w=it,this._x=tt,this._y=nt,this._z=rt,this;const ot=1-st*st;if(ot<=Number.EPSILON){const dt=1-et;return this._w=dt*it+et*this._w,this._x=dt*tt+et*this._x,this._y=dt*nt+et*this._y,this._z=dt*rt+et*this._z,this.normalize(),this._onChangeCallback(),this}const at=Math.sqrt(ot),ut=Math.atan2(at,st),ht=Math.sin((1-et)*ut)/at,ft=Math.sin(et*ut)/at;return this._w=it*ht+this._w*ft,this._x=tt*ht+this._x*ft,this._y=nt*ht+this._y*ft,this._z=rt*ht+this._z*ft,this._onChangeCallback(),this}slerpQuaternions(s,et,tt){return this.copy(s).slerp(et,tt)}random(){const s=Math.random(),et=Math.sqrt(1-s),tt=Math.sqrt(s),nt=2*Math.PI*Math.random(),rt=2*Math.PI*Math.random();return this.set(et*Math.cos(nt),tt*Math.sin(rt),tt*Math.cos(rt),et*Math.sin(nt))}equals(s){return s._x===this._x&&s._y===this._y&&s._z===this._z&&s._w===this._w}fromArray(s,et=0){return this._x=s[et],this._y=s[et+1],this._z=s[et+2],this._w=s[et+3],this._onChangeCallback(),this}toArray(s=[],et=0){return s[et]=this._x,s[et+1]=this._y,s[et+2]=this._z,s[et+3]=this._w,s}fromBufferAttribute(s,et){return this._x=s.getX(et),this._y=s.getY(et),this._z=s.getZ(et),this._w=s.getW(et),this}_onChange(s){return this._onChangeCallback=s,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(s=0,et=0,tt=0){Vector3.prototype.isVector3=!0,this.x=s,this.y=et,this.z=tt}set(s,et,tt){return tt===void 0&&(tt=this.z),this.x=s,this.y=et,this.z=tt,this}setScalar(s){return this.x=s,this.y=s,this.z=s,this}setX(s){return this.x=s,this}setY(s){return this.y=s,this}setZ(s){return this.z=s,this}setComponent(s,et){switch(s){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;default:throw new Error("index is out of range: "+s)}return this}getComponent(s){switch(s){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+s)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this}add(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z,this}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this}addVectors(s,et){return this.x=s.x+et.x,this.y=s.y+et.y,this.z=s.z+et.z,this}addScaledVector(s,et){return this.x+=s.x*et,this.y+=s.y*et,this.z+=s.z*et,this}sub(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this}subVectors(s,et){return this.x=s.x-et.x,this.y=s.y-et.y,this.z=s.z-et.z,this}multiply(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z,this}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this}multiplyVectors(s,et){return this.x=s.x*et.x,this.y=s.y*et.y,this.z=s.z*et.z,this}applyEuler(s){return this.applyQuaternion(_quaternion$4.setFromEuler(s))}applyAxisAngle(s,et){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(s,et))}applyMatrix3(s){const et=this.x,tt=this.y,nt=this.z,rt=s.elements;return this.x=rt[0]*et+rt[3]*tt+rt[6]*nt,this.y=rt[1]*et+rt[4]*tt+rt[7]*nt,this.z=rt[2]*et+rt[5]*tt+rt[8]*nt,this}applyNormalMatrix(s){return this.applyMatrix3(s).normalize()}applyMatrix4(s){const et=this.x,tt=this.y,nt=this.z,rt=s.elements,it=1/(rt[3]*et+rt[7]*tt+rt[11]*nt+rt[15]);return this.x=(rt[0]*et+rt[4]*tt+rt[8]*nt+rt[12])*it,this.y=(rt[1]*et+rt[5]*tt+rt[9]*nt+rt[13])*it,this.z=(rt[2]*et+rt[6]*tt+rt[10]*nt+rt[14])*it,this}applyQuaternion(s){const et=this.x,tt=this.y,nt=this.z,rt=s.x,it=s.y,st=s.z,ot=s.w,at=ot*et+it*nt-st*tt,ut=ot*tt+st*et-rt*nt,ht=ot*nt+rt*tt-it*et,ft=-rt*et-it*tt-st*nt;return this.x=at*ot+ft*-rt+ut*-st-ht*-it,this.y=ut*ot+ft*-it+ht*-rt-at*-st,this.z=ht*ot+ft*-st+at*-it-ut*-rt,this}project(s){return this.applyMatrix4(s.matrixWorldInverse).applyMatrix4(s.projectionMatrix)}unproject(s){return this.applyMatrix4(s.projectionMatrixInverse).applyMatrix4(s.matrixWorld)}transformDirection(s){const et=this.x,tt=this.y,nt=this.z,rt=s.elements;return this.x=rt[0]*et+rt[4]*tt+rt[8]*nt,this.y=rt[1]*et+rt[5]*tt+rt[9]*nt,this.z=rt[2]*et+rt[6]*tt+rt[10]*nt,this.normalize()}divide(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z,this}divideScalar(s){return this.multiplyScalar(1/s)}min(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this}max(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this}clamp(s,et){return this.x=Math.max(s.x,Math.min(et.x,this.x)),this.y=Math.max(s.y,Math.min(et.y,this.y)),this.z=Math.max(s.z,Math.min(et.z,this.z)),this}clampScalar(s,et){return this.x=Math.max(s,Math.min(et,this.x)),this.y=Math.max(s,Math.min(et,this.y)),this.z=Math.max(s,Math.min(et,this.z)),this}clampLength(s,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(s,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(s){return this.x*s.x+this.y*s.y+this.z*s.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(s){return this.normalize().multiplyScalar(s)}lerp(s,et){return this.x+=(s.x-this.x)*et,this.y+=(s.y-this.y)*et,this.z+=(s.z-this.z)*et,this}lerpVectors(s,et,tt){return this.x=s.x+(et.x-s.x)*tt,this.y=s.y+(et.y-s.y)*tt,this.z=s.z+(et.z-s.z)*tt,this}cross(s){return this.crossVectors(this,s)}crossVectors(s,et){const tt=s.x,nt=s.y,rt=s.z,it=et.x,st=et.y,ot=et.z;return this.x=nt*ot-rt*st,this.y=rt*it-tt*ot,this.z=tt*st-nt*it,this}projectOnVector(s){const et=s.lengthSq();if(et===0)return this.set(0,0,0);const tt=s.dot(this)/et;return this.copy(s).multiplyScalar(tt)}projectOnPlane(s){return _vector$c.copy(this).projectOnVector(s),this.sub(_vector$c)}reflect(s){return this.sub(_vector$c.copy(s).multiplyScalar(2*this.dot(s)))}angleTo(s){const et=Math.sqrt(this.lengthSq()*s.lengthSq());if(et===0)return Math.PI/2;const tt=this.dot(s)/et;return Math.acos(clamp$2(tt,-1,1))}distanceTo(s){return Math.sqrt(this.distanceToSquared(s))}distanceToSquared(s){const et=this.x-s.x,tt=this.y-s.y,nt=this.z-s.z;return et*et+tt*tt+nt*nt}manhattanDistanceTo(s){return Math.abs(this.x-s.x)+Math.abs(this.y-s.y)+Math.abs(this.z-s.z)}setFromSpherical(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta)}setFromSphericalCoords(s,et,tt){const nt=Math.sin(et)*s;return this.x=nt*Math.sin(tt),this.y=Math.cos(et)*s,this.z=nt*Math.cos(tt),this}setFromCylindrical(s){return this.setFromCylindricalCoords(s.radius,s.theta,s.y)}setFromCylindricalCoords(s,et,tt){return this.x=s*Math.sin(et),this.y=tt,this.z=s*Math.cos(et),this}setFromMatrixPosition(s){const et=s.elements;return this.x=et[12],this.y=et[13],this.z=et[14],this}setFromMatrixScale(s){const et=this.setFromMatrixColumn(s,0).length(),tt=this.setFromMatrixColumn(s,1).length(),nt=this.setFromMatrixColumn(s,2).length();return this.x=et,this.y=tt,this.z=nt,this}setFromMatrixColumn(s,et){return this.fromArray(s.elements,et*4)}setFromMatrix3Column(s,et){return this.fromArray(s.elements,et*3)}setFromEuler(s){return this.x=s._x,this.y=s._y,this.z=s._z,this}equals(s){return s.x===this.x&&s.y===this.y&&s.z===this.z}fromArray(s,et=0){return this.x=s[et],this.y=s[et+1],this.z=s[et+2],this}toArray(s=[],et=0){return s[et]=this.x,s[et+1]=this.y,s[et+2]=this.z,s}fromBufferAttribute(s,et){return this.x=s.getX(et),this.y=s.getY(et),this.z=s.getZ(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const s=(Math.random()-.5)*2,et=Math.random()*Math.PI*2,tt=Math.sqrt(1-s**2);return this.x=tt*Math.cos(et),this.y=tt*Math.sin(et),this.z=s,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(s=new Vector3(1/0,1/0,1/0),et=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=s,this.max=et}set(s,et){return this.min.copy(s),this.max.copy(et),this}setFromArray(s){let et=1/0,tt=1/0,nt=1/0,rt=-1/0,it=-1/0,st=-1/0;for(let ot=0,at=s.length;ot<at;ot+=3){const ut=s[ot],ht=s[ot+1],ft=s[ot+2];ut<et&&(et=ut),ht<tt&&(tt=ht),ft<nt&&(nt=ft),ut>rt&&(rt=ut),ht>it&&(it=ht),ft>st&&(st=ft)}return this.min.set(et,tt,nt),this.max.set(rt,it,st),this}setFromBufferAttribute(s){let et=1/0,tt=1/0,nt=1/0,rt=-1/0,it=-1/0,st=-1/0;for(let ot=0,at=s.count;ot<at;ot++){const ut=s.getX(ot),ht=s.getY(ot),ft=s.getZ(ot);ut<et&&(et=ut),ht<tt&&(tt=ht),ft<nt&&(nt=ft),ut>rt&&(rt=ut),ht>it&&(it=ht),ft>st&&(st=ft)}return this.min.set(et,tt,nt),this.max.set(rt,it,st),this}setFromPoints(s){this.makeEmpty();for(let et=0,tt=s.length;et<tt;et++)this.expandByPoint(s[et]);return this}setFromCenterAndSize(s,et){const tt=_vector$b.copy(et).multiplyScalar(.5);return this.min.copy(s).sub(tt),this.max.copy(s).add(tt),this}setFromObject(s,et=!1){return this.makeEmpty(),this.expandByObject(s,et)}clone(){return new this.constructor().copy(this)}copy(s){return this.min.copy(s.min),this.max.copy(s.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(s){return this.isEmpty()?s.set(0,0,0):s.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(s){return this.isEmpty()?s.set(0,0,0):s.subVectors(this.max,this.min)}expandByPoint(s){return this.min.min(s),this.max.max(s),this}expandByVector(s){return this.min.sub(s),this.max.add(s),this}expandByScalar(s){return this.min.addScalar(-s),this.max.addScalar(s),this}expandByObject(s,et=!1){s.updateWorldMatrix(!1,!1);const tt=s.geometry;if(tt!==void 0)if(et&&tt.attributes!=null&&tt.attributes.position!==void 0){const rt=tt.attributes.position;for(let it=0,st=rt.count;it<st;it++)_vector$b.fromBufferAttribute(rt,it).applyMatrix4(s.matrixWorld),this.expandByPoint(_vector$b)}else tt.boundingBox===null&&tt.computeBoundingBox(),_box$3.copy(tt.boundingBox),_box$3.applyMatrix4(s.matrixWorld),this.union(_box$3);const nt=s.children;for(let rt=0,it=nt.length;rt<it;rt++)this.expandByObject(nt[rt],et);return this}containsPoint(s){return!(s.x<this.min.x||s.x>this.max.x||s.y<this.min.y||s.y>this.max.y||s.z<this.min.z||s.z>this.max.z)}containsBox(s){return this.min.x<=s.min.x&&s.max.x<=this.max.x&&this.min.y<=s.min.y&&s.max.y<=this.max.y&&this.min.z<=s.min.z&&s.max.z<=this.max.z}getParameter(s,et){return et.set((s.x-this.min.x)/(this.max.x-this.min.x),(s.y-this.min.y)/(this.max.y-this.min.y),(s.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(s){return!(s.max.x<this.min.x||s.min.x>this.max.x||s.max.y<this.min.y||s.min.y>this.max.y||s.max.z<this.min.z||s.min.z>this.max.z)}intersectsSphere(s){return this.clampPoint(s.center,_vector$b),_vector$b.distanceToSquared(s.center)<=s.radius*s.radius}intersectsPlane(s){let et,tt;return s.normal.x>0?(et=s.normal.x*this.min.x,tt=s.normal.x*this.max.x):(et=s.normal.x*this.max.x,tt=s.normal.x*this.min.x),s.normal.y>0?(et+=s.normal.y*this.min.y,tt+=s.normal.y*this.max.y):(et+=s.normal.y*this.max.y,tt+=s.normal.y*this.min.y),s.normal.z>0?(et+=s.normal.z*this.min.z,tt+=s.normal.z*this.max.z):(et+=s.normal.z*this.max.z,tt+=s.normal.z*this.min.z),et<=-s.constant&&tt>=-s.constant}intersectsTriangle(s){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(s.a,_center),_v1$7.subVectors(s.b,_center),_v2$3.subVectors(s.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$3,_v1$7),_f2.subVectors(_v0$2,_v2$3);let et=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(et,_v0$2,_v1$7,_v2$3,_extents)||(et=[1,0,0,0,1,0,0,0,1],!satForAxes(et,_v0$2,_v1$7,_v2$3,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),et=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(et,_v0$2,_v1$7,_v2$3,_extents))}clampPoint(s,et){return et.copy(s).clamp(this.min,this.max)}distanceToPoint(s){return _vector$b.copy(s).clamp(this.min,this.max).sub(s).length()}getBoundingSphere(s){return this.getCenter(s.center),s.radius=this.getSize(_vector$b).length()*.5,s}intersect(s){return this.min.max(s.min),this.max.min(s.max),this.isEmpty()&&this.makeEmpty(),this}union(s){return this.min.min(s.min),this.max.max(s.max),this}applyMatrix4(s){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(s),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(s),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(s),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(s),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(s),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(s),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(s),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(s),this.setFromPoints(_points),this)}translate(s){return this.min.add(s),this.max.add(s),this}equals(s){return s.min.equals(this.min)&&s.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$3=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(o,s,et,tt,nt){for(let rt=0,it=o.length-3;rt<=it;rt+=3){_testAxis.fromArray(o,rt);const st=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),ot=s.dot(_testAxis),at=et.dot(_testAxis),ut=tt.dot(_testAxis);if(Math.max(-Math.max(ot,at,ut),Math.min(ot,at,ut))>st)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_toFarthestPoint=new Vector3,_toPoint=new Vector3;class Sphere{constructor(s=new Vector3,et=-1){this.center=s,this.radius=et}set(s,et){return this.center.copy(s),this.radius=et,this}setFromPoints(s,et){const tt=this.center;et!==void 0?tt.copy(et):_box$2.setFromPoints(s).getCenter(tt);let nt=0;for(let rt=0,it=s.length;rt<it;rt++)nt=Math.max(nt,tt.distanceToSquared(s[rt]));return this.radius=Math.sqrt(nt),this}copy(s){return this.center.copy(s.center),this.radius=s.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(s){return s.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(s){return s.distanceTo(this.center)-this.radius}intersectsSphere(s){const et=this.radius+s.radius;return s.center.distanceToSquared(this.center)<=et*et}intersectsBox(s){return s.intersectsSphere(this)}intersectsPlane(s){return Math.abs(s.distanceToPoint(this.center))<=this.radius}clampPoint(s,et){const tt=this.center.distanceToSquared(s);return et.copy(s),tt>this.radius*this.radius&&(et.sub(this.center).normalize(),et.multiplyScalar(this.radius).add(this.center)),et}getBoundingBox(s){return this.isEmpty()?(s.makeEmpty(),s):(s.set(this.center,this.center),s.expandByScalar(this.radius),s)}applyMatrix4(s){return this.center.applyMatrix4(s),this.radius=this.radius*s.getMaxScaleOnAxis(),this}translate(s){return this.center.add(s),this}expandByPoint(s){_toPoint.subVectors(s,this.center);const et=_toPoint.lengthSq();if(et>this.radius*this.radius){const tt=Math.sqrt(et),nt=(tt-this.radius)*.5;this.center.add(_toPoint.multiplyScalar(nt/tt)),this.radius+=nt}return this}union(s){return this.center.equals(s.center)===!0?_toFarthestPoint.set(0,0,1).multiplyScalar(s.radius):_toFarthestPoint.subVectors(s.center,this.center).normalize().multiplyScalar(s.radius),this.expandByPoint(_v1$6.copy(s.center).add(_toFarthestPoint)),this.expandByPoint(_v1$6.copy(s.center).sub(_toFarthestPoint)),this}equals(s){return s.center.equals(this.center)&&s.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(s=new Vector3,et=new Vector3(0,0,-1)){this.origin=s,this.direction=et}set(s,et){return this.origin.copy(s),this.direction.copy(et),this}copy(s){return this.origin.copy(s.origin),this.direction.copy(s.direction),this}at(s,et){return et.copy(this.direction).multiplyScalar(s).add(this.origin)}lookAt(s){return this.direction.copy(s).sub(this.origin).normalize(),this}recast(s){return this.origin.copy(this.at(s,_vector$a)),this}closestPointToPoint(s,et){et.subVectors(s,this.origin);const tt=et.dot(this.direction);return tt<0?et.copy(this.origin):et.copy(this.direction).multiplyScalar(tt).add(this.origin)}distanceToPoint(s){return Math.sqrt(this.distanceSqToPoint(s))}distanceSqToPoint(s){const et=_vector$a.subVectors(s,this.origin).dot(this.direction);return et<0?this.origin.distanceToSquared(s):(_vector$a.copy(this.direction).multiplyScalar(et).add(this.origin),_vector$a.distanceToSquared(s))}distanceSqToSegment(s,et,tt,nt){_segCenter.copy(s).add(et).multiplyScalar(.5),_segDir.copy(et).sub(s).normalize(),_diff.copy(this.origin).sub(_segCenter);const rt=s.distanceTo(et)*.5,it=-this.direction.dot(_segDir),st=_diff.dot(this.direction),ot=-_diff.dot(_segDir),at=_diff.lengthSq(),ut=Math.abs(1-it*it);let ht,ft,dt,vt;if(ut>0)if(ht=it*ot-st,ft=it*st-ot,vt=rt*ut,ht>=0)if(ft>=-vt)if(ft<=vt){const gt=1/ut;ht*=gt,ft*=gt,dt=ht*(ht+it*ft+2*st)+ft*(it*ht+ft+2*ot)+at}else ft=rt,ht=Math.max(0,-(it*ft+st)),dt=-ht*ht+ft*(ft+2*ot)+at;else ft=-rt,ht=Math.max(0,-(it*ft+st)),dt=-ht*ht+ft*(ft+2*ot)+at;else ft<=-vt?(ht=Math.max(0,-(-it*rt+st)),ft=ht>0?-rt:Math.min(Math.max(-rt,-ot),rt),dt=-ht*ht+ft*(ft+2*ot)+at):ft<=vt?(ht=0,ft=Math.min(Math.max(-rt,-ot),rt),dt=ft*(ft+2*ot)+at):(ht=Math.max(0,-(it*rt+st)),ft=ht>0?rt:Math.min(Math.max(-rt,-ot),rt),dt=-ht*ht+ft*(ft+2*ot)+at);else ft=it>0?-rt:rt,ht=Math.max(0,-(it*ft+st)),dt=-ht*ht+ft*(ft+2*ot)+at;return tt&&tt.copy(this.direction).multiplyScalar(ht).add(this.origin),nt&&nt.copy(_segDir).multiplyScalar(ft).add(_segCenter),dt}intersectSphere(s,et){_vector$a.subVectors(s.center,this.origin);const tt=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-tt*tt,rt=s.radius*s.radius;if(nt>rt)return null;const it=Math.sqrt(rt-nt),st=tt-it,ot=tt+it;return st<0&&ot<0?null:st<0?this.at(ot,et):this.at(st,et)}intersectsSphere(s){return this.distanceSqToPoint(s.center)<=s.radius*s.radius}distanceToPlane(s){const et=s.normal.dot(this.direction);if(et===0)return s.distanceToPoint(this.origin)===0?0:null;const tt=-(this.origin.dot(s.normal)+s.constant)/et;return tt>=0?tt:null}intersectPlane(s,et){const tt=this.distanceToPlane(s);return tt===null?null:this.at(tt,et)}intersectsPlane(s){const et=s.distanceToPoint(this.origin);return et===0||s.normal.dot(this.direction)*et<0}intersectBox(s,et){let tt,nt,rt,it,st,ot;const at=1/this.direction.x,ut=1/this.direction.y,ht=1/this.direction.z,ft=this.origin;return at>=0?(tt=(s.min.x-ft.x)*at,nt=(s.max.x-ft.x)*at):(tt=(s.max.x-ft.x)*at,nt=(s.min.x-ft.x)*at),ut>=0?(rt=(s.min.y-ft.y)*ut,it=(s.max.y-ft.y)*ut):(rt=(s.max.y-ft.y)*ut,it=(s.min.y-ft.y)*ut),tt>it||rt>nt||((rt>tt||tt!==tt)&&(tt=rt),(it<nt||nt!==nt)&&(nt=it),ht>=0?(st=(s.min.z-ft.z)*ht,ot=(s.max.z-ft.z)*ht):(st=(s.max.z-ft.z)*ht,ot=(s.min.z-ft.z)*ht),tt>ot||st>nt)||((st>tt||tt!==tt)&&(tt=st),(ot<nt||nt!==nt)&&(nt=ot),nt<0)?null:this.at(tt>=0?tt:nt,et)}intersectsBox(s){return this.intersectBox(s,_vector$a)!==null}intersectTriangle(s,et,tt,nt,rt){_edge1.subVectors(et,s),_edge2.subVectors(tt,s),_normal$1.crossVectors(_edge1,_edge2);let it=this.direction.dot(_normal$1),st;if(it>0){if(nt)return null;st=1}else if(it<0)st=-1,it=-it;else return null;_diff.subVectors(this.origin,s);const ot=st*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ot<0)return null;const at=st*this.direction.dot(_edge1.cross(_diff));if(at<0||ot+at>it)return null;const ut=-st*_diff.dot(_normal$1);return ut<0?null:this.at(ut/it,rt)}applyMatrix4(s){return this.origin.applyMatrix4(s),this.direction.transformDirection(s),this}equals(s){return s.origin.equals(this.origin)&&s.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(s,et,tt,nt,rt,it,st,ot,at,ut,ht,ft,dt,vt,gt,_t){const pt=this.elements;return pt[0]=s,pt[4]=et,pt[8]=tt,pt[12]=nt,pt[1]=rt,pt[5]=it,pt[9]=st,pt[13]=ot,pt[2]=at,pt[6]=ut,pt[10]=ht,pt[14]=ft,pt[3]=dt,pt[7]=vt,pt[11]=gt,pt[15]=_t,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(s){const et=this.elements,tt=s.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],et[9]=tt[9],et[10]=tt[10],et[11]=tt[11],et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],et[15]=tt[15],this}copyPosition(s){const et=this.elements,tt=s.elements;return et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],this}setFromMatrix3(s){const et=s.elements;return this.set(et[0],et[3],et[6],0,et[1],et[4],et[7],0,et[2],et[5],et[8],0,0,0,0,1),this}extractBasis(s,et,tt){return s.setFromMatrixColumn(this,0),et.setFromMatrixColumn(this,1),tt.setFromMatrixColumn(this,2),this}makeBasis(s,et,tt){return this.set(s.x,et.x,tt.x,0,s.y,et.y,tt.y,0,s.z,et.z,tt.z,0,0,0,0,1),this}extractRotation(s){const et=this.elements,tt=s.elements,nt=1/_v1$5.setFromMatrixColumn(s,0).length(),rt=1/_v1$5.setFromMatrixColumn(s,1).length(),it=1/_v1$5.setFromMatrixColumn(s,2).length();return et[0]=tt[0]*nt,et[1]=tt[1]*nt,et[2]=tt[2]*nt,et[3]=0,et[4]=tt[4]*rt,et[5]=tt[5]*rt,et[6]=tt[6]*rt,et[7]=0,et[8]=tt[8]*it,et[9]=tt[9]*it,et[10]=tt[10]*it,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromEuler(s){const et=this.elements,tt=s.x,nt=s.y,rt=s.z,it=Math.cos(tt),st=Math.sin(tt),ot=Math.cos(nt),at=Math.sin(nt),ut=Math.cos(rt),ht=Math.sin(rt);if(s.order==="XYZ"){const ft=it*ut,dt=it*ht,vt=st*ut,gt=st*ht;et[0]=ot*ut,et[4]=-ot*ht,et[8]=at,et[1]=dt+vt*at,et[5]=ft-gt*at,et[9]=-st*ot,et[2]=gt-ft*at,et[6]=vt+dt*at,et[10]=it*ot}else if(s.order==="YXZ"){const ft=ot*ut,dt=ot*ht,vt=at*ut,gt=at*ht;et[0]=ft+gt*st,et[4]=vt*st-dt,et[8]=it*at,et[1]=it*ht,et[5]=it*ut,et[9]=-st,et[2]=dt*st-vt,et[6]=gt+ft*st,et[10]=it*ot}else if(s.order==="ZXY"){const ft=ot*ut,dt=ot*ht,vt=at*ut,gt=at*ht;et[0]=ft-gt*st,et[4]=-it*ht,et[8]=vt+dt*st,et[1]=dt+vt*st,et[5]=it*ut,et[9]=gt-ft*st,et[2]=-it*at,et[6]=st,et[10]=it*ot}else if(s.order==="ZYX"){const ft=it*ut,dt=it*ht,vt=st*ut,gt=st*ht;et[0]=ot*ut,et[4]=vt*at-dt,et[8]=ft*at+gt,et[1]=ot*ht,et[5]=gt*at+ft,et[9]=dt*at-vt,et[2]=-at,et[6]=st*ot,et[10]=it*ot}else if(s.order==="YZX"){const ft=it*ot,dt=it*at,vt=st*ot,gt=st*at;et[0]=ot*ut,et[4]=gt-ft*ht,et[8]=vt*ht+dt,et[1]=ht,et[5]=it*ut,et[9]=-st*ut,et[2]=-at*ut,et[6]=dt*ht+vt,et[10]=ft-gt*ht}else if(s.order==="XZY"){const ft=it*ot,dt=it*at,vt=st*ot,gt=st*at;et[0]=ot*ut,et[4]=-ht,et[8]=at*ut,et[1]=ft*ht+gt,et[5]=it*ut,et[9]=dt*ht-vt,et[2]=vt*ht-dt,et[6]=st*ut,et[10]=gt*ht+ft}return et[3]=0,et[7]=0,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromQuaternion(s){return this.compose(_zero,s,_one)}lookAt(s,et,tt){const nt=this.elements;return _z.subVectors(s,et),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(tt,_z),_x.lengthSq()===0&&(Math.abs(tt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(tt,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply(s){return this.multiplyMatrices(this,s)}premultiply(s){return this.multiplyMatrices(s,this)}multiplyMatrices(s,et){const tt=s.elements,nt=et.elements,rt=this.elements,it=tt[0],st=tt[4],ot=tt[8],at=tt[12],ut=tt[1],ht=tt[5],ft=tt[9],dt=tt[13],vt=tt[2],gt=tt[6],_t=tt[10],pt=tt[14],mt=tt[3],yt=tt[7],xt=tt[11],bt=tt[15],wt=nt[0],Ct=nt[4],Et=nt[8],kt=nt[12],Dt=nt[1],zt=nt[5],Wt=nt[9],Ht=nt[13],Gt=nt[2],$t=nt[6],Ft=nt[10],It=nt[14],Tt=nt[3],Pt=nt[7],Rt=nt[11],Vt=nt[15];return rt[0]=it*wt+st*Dt+ot*Gt+at*Tt,rt[4]=it*Ct+st*zt+ot*$t+at*Pt,rt[8]=it*Et+st*Wt+ot*Ft+at*Rt,rt[12]=it*kt+st*Ht+ot*It+at*Vt,rt[1]=ut*wt+ht*Dt+ft*Gt+dt*Tt,rt[5]=ut*Ct+ht*zt+ft*$t+dt*Pt,rt[9]=ut*Et+ht*Wt+ft*Ft+dt*Rt,rt[13]=ut*kt+ht*Ht+ft*It+dt*Vt,rt[2]=vt*wt+gt*Dt+_t*Gt+pt*Tt,rt[6]=vt*Ct+gt*zt+_t*$t+pt*Pt,rt[10]=vt*Et+gt*Wt+_t*Ft+pt*Rt,rt[14]=vt*kt+gt*Ht+_t*It+pt*Vt,rt[3]=mt*wt+yt*Dt+xt*Gt+bt*Tt,rt[7]=mt*Ct+yt*zt+xt*$t+bt*Pt,rt[11]=mt*Et+yt*Wt+xt*Ft+bt*Rt,rt[15]=mt*kt+yt*Ht+xt*It+bt*Vt,this}multiplyScalar(s){const et=this.elements;return et[0]*=s,et[4]*=s,et[8]*=s,et[12]*=s,et[1]*=s,et[5]*=s,et[9]*=s,et[13]*=s,et[2]*=s,et[6]*=s,et[10]*=s,et[14]*=s,et[3]*=s,et[7]*=s,et[11]*=s,et[15]*=s,this}determinant(){const s=this.elements,et=s[0],tt=s[4],nt=s[8],rt=s[12],it=s[1],st=s[5],ot=s[9],at=s[13],ut=s[2],ht=s[6],ft=s[10],dt=s[14],vt=s[3],gt=s[7],_t=s[11],pt=s[15];return vt*(+rt*ot*ht-nt*at*ht-rt*st*ft+tt*at*ft+nt*st*dt-tt*ot*dt)+gt*(+et*ot*dt-et*at*ft+rt*it*ft-nt*it*dt+nt*at*ut-rt*ot*ut)+_t*(+et*at*ht-et*st*dt-rt*it*ht+tt*it*dt+rt*st*ut-tt*at*ut)+pt*(-nt*st*ut-et*ot*ht+et*st*ft+nt*it*ht-tt*it*ft+tt*ot*ut)}transpose(){const s=this.elements;let et;return et=s[1],s[1]=s[4],s[4]=et,et=s[2],s[2]=s[8],s[8]=et,et=s[6],s[6]=s[9],s[9]=et,et=s[3],s[3]=s[12],s[12]=et,et=s[7],s[7]=s[13],s[13]=et,et=s[11],s[11]=s[14],s[14]=et,this}setPosition(s,et,tt){const nt=this.elements;return s.isVector3?(nt[12]=s.x,nt[13]=s.y,nt[14]=s.z):(nt[12]=s,nt[13]=et,nt[14]=tt),this}invert(){const s=this.elements,et=s[0],tt=s[1],nt=s[2],rt=s[3],it=s[4],st=s[5],ot=s[6],at=s[7],ut=s[8],ht=s[9],ft=s[10],dt=s[11],vt=s[12],gt=s[13],_t=s[14],pt=s[15],mt=ht*_t*at-gt*ft*at+gt*ot*dt-st*_t*dt-ht*ot*pt+st*ft*pt,yt=vt*ft*at-ut*_t*at-vt*ot*dt+it*_t*dt+ut*ot*pt-it*ft*pt,xt=ut*gt*at-vt*ht*at+vt*st*dt-it*gt*dt-ut*st*pt+it*ht*pt,bt=vt*ht*ot-ut*gt*ot-vt*st*ft+it*gt*ft+ut*st*_t-it*ht*_t,wt=et*mt+tt*yt+nt*xt+rt*bt;if(wt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ct=1/wt;return s[0]=mt*Ct,s[1]=(gt*ft*rt-ht*_t*rt-gt*nt*dt+tt*_t*dt+ht*nt*pt-tt*ft*pt)*Ct,s[2]=(st*_t*rt-gt*ot*rt+gt*nt*at-tt*_t*at-st*nt*pt+tt*ot*pt)*Ct,s[3]=(ht*ot*rt-st*ft*rt-ht*nt*at+tt*ft*at+st*nt*dt-tt*ot*dt)*Ct,s[4]=yt*Ct,s[5]=(ut*_t*rt-vt*ft*rt+vt*nt*dt-et*_t*dt-ut*nt*pt+et*ft*pt)*Ct,s[6]=(vt*ot*rt-it*_t*rt-vt*nt*at+et*_t*at+it*nt*pt-et*ot*pt)*Ct,s[7]=(it*ft*rt-ut*ot*rt+ut*nt*at-et*ft*at-it*nt*dt+et*ot*dt)*Ct,s[8]=xt*Ct,s[9]=(vt*ht*rt-ut*gt*rt-vt*tt*dt+et*gt*dt+ut*tt*pt-et*ht*pt)*Ct,s[10]=(it*gt*rt-vt*st*rt+vt*tt*at-et*gt*at-it*tt*pt+et*st*pt)*Ct,s[11]=(ut*st*rt-it*ht*rt-ut*tt*at+et*ht*at+it*tt*dt-et*st*dt)*Ct,s[12]=bt*Ct,s[13]=(ut*gt*nt-vt*ht*nt+vt*tt*ft-et*gt*ft-ut*tt*_t+et*ht*_t)*Ct,s[14]=(vt*st*nt-it*gt*nt-vt*tt*ot+et*gt*ot+it*tt*_t-et*st*_t)*Ct,s[15]=(it*ht*nt-ut*st*nt+ut*tt*ot-et*ht*ot-it*tt*ft+et*st*ft)*Ct,this}scale(s){const et=this.elements,tt=s.x,nt=s.y,rt=s.z;return et[0]*=tt,et[4]*=nt,et[8]*=rt,et[1]*=tt,et[5]*=nt,et[9]*=rt,et[2]*=tt,et[6]*=nt,et[10]*=rt,et[3]*=tt,et[7]*=nt,et[11]*=rt,this}getMaxScaleOnAxis(){const s=this.elements,et=s[0]*s[0]+s[1]*s[1]+s[2]*s[2],tt=s[4]*s[4]+s[5]*s[5]+s[6]*s[6],nt=s[8]*s[8]+s[9]*s[9]+s[10]*s[10];return Math.sqrt(Math.max(et,tt,nt))}makeTranslation(s,et,tt){return this.set(1,0,0,s,0,1,0,et,0,0,1,tt,0,0,0,1),this}makeRotationX(s){const et=Math.cos(s),tt=Math.sin(s);return this.set(1,0,0,0,0,et,-tt,0,0,tt,et,0,0,0,0,1),this}makeRotationY(s){const et=Math.cos(s),tt=Math.sin(s);return this.set(et,0,tt,0,0,1,0,0,-tt,0,et,0,0,0,0,1),this}makeRotationZ(s){const et=Math.cos(s),tt=Math.sin(s);return this.set(et,-tt,0,0,tt,et,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(s,et){const tt=Math.cos(et),nt=Math.sin(et),rt=1-tt,it=s.x,st=s.y,ot=s.z,at=rt*it,ut=rt*st;return this.set(at*it+tt,at*st-nt*ot,at*ot+nt*st,0,at*st+nt*ot,ut*st+tt,ut*ot-nt*it,0,at*ot-nt*st,ut*ot+nt*it,rt*ot*ot+tt,0,0,0,0,1),this}makeScale(s,et,tt){return this.set(s,0,0,0,0,et,0,0,0,0,tt,0,0,0,0,1),this}makeShear(s,et,tt,nt,rt,it){return this.set(1,tt,rt,0,s,1,it,0,et,nt,1,0,0,0,0,1),this}compose(s,et,tt){const nt=this.elements,rt=et._x,it=et._y,st=et._z,ot=et._w,at=rt+rt,ut=it+it,ht=st+st,ft=rt*at,dt=rt*ut,vt=rt*ht,gt=it*ut,_t=it*ht,pt=st*ht,mt=ot*at,yt=ot*ut,xt=ot*ht,bt=tt.x,wt=tt.y,Ct=tt.z;return nt[0]=(1-(gt+pt))*bt,nt[1]=(dt+xt)*bt,nt[2]=(vt-yt)*bt,nt[3]=0,nt[4]=(dt-xt)*wt,nt[5]=(1-(ft+pt))*wt,nt[6]=(_t+mt)*wt,nt[7]=0,nt[8]=(vt+yt)*Ct,nt[9]=(_t-mt)*Ct,nt[10]=(1-(ft+gt))*Ct,nt[11]=0,nt[12]=s.x,nt[13]=s.y,nt[14]=s.z,nt[15]=1,this}decompose(s,et,tt){const nt=this.elements;let rt=_v1$5.set(nt[0],nt[1],nt[2]).length();const it=_v1$5.set(nt[4],nt[5],nt[6]).length(),st=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(rt=-rt),s.x=nt[12],s.y=nt[13],s.z=nt[14],_m1$2.copy(this);const at=1/rt,ut=1/it,ht=1/st;return _m1$2.elements[0]*=at,_m1$2.elements[1]*=at,_m1$2.elements[2]*=at,_m1$2.elements[4]*=ut,_m1$2.elements[5]*=ut,_m1$2.elements[6]*=ut,_m1$2.elements[8]*=ht,_m1$2.elements[9]*=ht,_m1$2.elements[10]*=ht,et.setFromRotationMatrix(_m1$2),tt.x=rt,tt.y=it,tt.z=st,this}makePerspective(s,et,tt,nt,rt,it){const st=this.elements,ot=2*rt/(et-s),at=2*rt/(tt-nt),ut=(et+s)/(et-s),ht=(tt+nt)/(tt-nt),ft=-(it+rt)/(it-rt),dt=-2*it*rt/(it-rt);return st[0]=ot,st[4]=0,st[8]=ut,st[12]=0,st[1]=0,st[5]=at,st[9]=ht,st[13]=0,st[2]=0,st[6]=0,st[10]=ft,st[14]=dt,st[3]=0,st[7]=0,st[11]=-1,st[15]=0,this}makeOrthographic(s,et,tt,nt,rt,it){const st=this.elements,ot=1/(et-s),at=1/(tt-nt),ut=1/(it-rt),ht=(et+s)*ot,ft=(tt+nt)*at,dt=(it+rt)*ut;return st[0]=2*ot,st[4]=0,st[8]=0,st[12]=-ht,st[1]=0,st[5]=2*at,st[9]=0,st[13]=-ft,st[2]=0,st[6]=0,st[10]=-2*ut,st[14]=-dt,st[3]=0,st[7]=0,st[11]=0,st[15]=1,this}equals(s){const et=this.elements,tt=s.elements;for(let nt=0;nt<16;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(s,et=0){for(let tt=0;tt<16;tt++)this.elements[tt]=s[tt+et];return this}toArray(s=[],et=0){const tt=this.elements;return s[et]=tt[0],s[et+1]=tt[1],s[et+2]=tt[2],s[et+3]=tt[3],s[et+4]=tt[4],s[et+5]=tt[5],s[et+6]=tt[6],s[et+7]=tt[7],s[et+8]=tt[8],s[et+9]=tt[9],s[et+10]=tt[10],s[et+11]=tt[11],s[et+12]=tt[12],s[et+13]=tt[13],s[et+14]=tt[14],s[et+15]=tt[15],s}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(s=0,et=0,tt=0,nt=Euler.DefaultOrder){this.isEuler=!0,this._x=s,this._y=et,this._z=tt,this._order=nt}get x(){return this._x}set x(s){this._x=s,this._onChangeCallback()}get y(){return this._y}set y(s){this._y=s,this._onChangeCallback()}get z(){return this._z}set z(s){this._z=s,this._onChangeCallback()}get order(){return this._order}set order(s){this._order=s,this._onChangeCallback()}set(s,et,tt,nt=this._order){return this._x=s,this._y=et,this._z=tt,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(s){return this._x=s._x,this._y=s._y,this._z=s._z,this._order=s._order,this._onChangeCallback(),this}setFromRotationMatrix(s,et=this._order,tt=!0){const nt=s.elements,rt=nt[0],it=nt[4],st=nt[8],ot=nt[1],at=nt[5],ut=nt[9],ht=nt[2],ft=nt[6],dt=nt[10];switch(et){case"XYZ":this._y=Math.asin(clamp$2(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-ut,dt),this._z=Math.atan2(-it,rt)):(this._x=Math.atan2(ft,at),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$2(ut,-1,1)),Math.abs(ut)<.9999999?(this._y=Math.atan2(st,dt),this._z=Math.atan2(ot,at)):(this._y=Math.atan2(-ht,rt),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$2(ft,-1,1)),Math.abs(ft)<.9999999?(this._y=Math.atan2(-ht,dt),this._z=Math.atan2(-it,at)):(this._y=0,this._z=Math.atan2(ot,rt));break;case"ZYX":this._y=Math.asin(-clamp$2(ht,-1,1)),Math.abs(ht)<.9999999?(this._x=Math.atan2(ft,dt),this._z=Math.atan2(ot,rt)):(this._x=0,this._z=Math.atan2(-it,at));break;case"YZX":this._z=Math.asin(clamp$2(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(-ut,at),this._y=Math.atan2(-ht,rt)):(this._x=0,this._y=Math.atan2(st,dt));break;case"XZY":this._z=Math.asin(-clamp$2(it,-1,1)),Math.abs(it)<.9999999?(this._x=Math.atan2(ft,at),this._y=Math.atan2(st,rt)):(this._x=Math.atan2(-ut,dt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+et)}return this._order=et,tt===!0&&this._onChangeCallback(),this}setFromQuaternion(s,et,tt){return _matrix$1.makeRotationFromQuaternion(s),this.setFromRotationMatrix(_matrix$1,et,tt)}setFromVector3(s,et=this._order){return this.set(s.x,s.y,s.z,et)}reorder(s){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,s)}equals(s){return s._x===this._x&&s._y===this._y&&s._z===this._z&&s._order===this._order}fromArray(s){return this._x=s[0],this._y=s[1],this._z=s[2],s[3]!==void 0&&(this._order=s[3]),this._onChangeCallback(),this}toArray(s=[],et=0){return s[et]=this._x,s[et+1]=this._y,s[et+2]=this._z,s[et+3]=this._order,s}_onChange(s){return this._onChangeCallback=s,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Euler.DefaultOrder="XYZ";Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers{constructor(){this.mask=1}set(s){this.mask=(1<<s|0)>>>0}enable(s){this.mask|=1<<s|0}enableAll(){this.mask=-1}toggle(s){this.mask^=1<<s|0}disable(s){this.mask&=~(1<<s|0)}disableAll(){this.mask=0}test(s){return(this.mask&s.mask)!==0}isEnabled(s){return(this.mask&(1<<s|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const s=new Vector3,et=new Euler,tt=new Quaternion,nt=new Vector3(1,1,1);function rt(){tt.setFromEuler(et,!1)}function it(){et.setFromQuaternion(tt,void 0,!1)}et._onChange(rt),tt._onChange(it),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:s},rotation:{configurable:!0,enumerable:!0,value:et},quaternion:{configurable:!0,enumerable:!0,value:tt},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DefaultMatrixWorldAutoUpdate,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(s){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(s),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(s){return this.quaternion.premultiply(s),this}setRotationFromAxisAngle(s,et){this.quaternion.setFromAxisAngle(s,et)}setRotationFromEuler(s){this.quaternion.setFromEuler(s,!0)}setRotationFromMatrix(s){this.quaternion.setFromRotationMatrix(s)}setRotationFromQuaternion(s){this.quaternion.copy(s)}rotateOnAxis(s,et){return _q1.setFromAxisAngle(s,et),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(s,et){return _q1.setFromAxisAngle(s,et),this.quaternion.premultiply(_q1),this}rotateX(s){return this.rotateOnAxis(_xAxis,s)}rotateY(s){return this.rotateOnAxis(_yAxis,s)}rotateZ(s){return this.rotateOnAxis(_zAxis,s)}translateOnAxis(s,et){return _v1$4.copy(s).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(et)),this}translateX(s){return this.translateOnAxis(_xAxis,s)}translateY(s){return this.translateOnAxis(_yAxis,s)}translateZ(s){return this.translateOnAxis(_zAxis,s)}localToWorld(s){return s.applyMatrix4(this.matrixWorld)}worldToLocal(s){return s.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(s,et,tt){s.isVector3?_target.copy(s):_target.set(s,et,tt);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),nt&&(_m1$1.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(s){if(arguments.length>1){for(let et=0;et<arguments.length;et++)this.add(arguments[et]);return this}return s===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",s),this):(s&&s.isObject3D?(s.parent!==null&&s.parent.remove(s),s.parent=this,this.children.push(s),s.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",s),this)}remove(s){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.remove(arguments[tt]);return this}const et=this.children.indexOf(s);return et!==-1&&(s.parent=null,this.children.splice(et,1),s.dispatchEvent(_removedEvent)),this}removeFromParent(){const s=this.parent;return s!==null&&s.remove(this),this}clear(){for(let s=0;s<this.children.length;s++){const et=this.children[s];et.parent=null,et.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(s){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),s.parent!==null&&(s.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(s.parent.matrixWorld)),s.applyMatrix4(_m1$1),this.add(s),s.updateWorldMatrix(!1,!0),this}getObjectById(s){return this.getObjectByProperty("id",s)}getObjectByName(s){return this.getObjectByProperty("name",s)}getObjectByProperty(s,et){if(this[s]===et)return this;for(let tt=0,nt=this.children.length;tt<nt;tt++){const it=this.children[tt].getObjectByProperty(s,et);if(it!==void 0)return it}}getWorldPosition(s){return this.updateWorldMatrix(!0,!1),s.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(s){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,s,_scale$2),s}getWorldScale(s){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,s),s}getWorldDirection(s){this.updateWorldMatrix(!0,!1);const et=this.matrixWorld.elements;return s.set(et[8],et[9],et[10]).normalize()}raycast(){}traverse(s){s(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverse(s)}traverseVisible(s){if(this.visible===!1)return;s(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverseVisible(s)}traverseAncestors(s){const et=this.parent;et!==null&&(s(et),et.traverseAncestors(s))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(s){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||s)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,s=!0);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];(rt.matrixWorldAutoUpdate===!0||s===!0)&&rt.updateMatrixWorld(s)}}updateWorldMatrix(s,et){const tt=this.parent;if(s===!0&&tt!==null&&tt.matrixWorldAutoUpdate===!0&&tt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),et===!0){const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt];st.matrixWorldAutoUpdate===!0&&st.updateWorldMatrix(!1,!0)}}}toJSON(s){const et=s===void 0||typeof s=="string",tt={};et&&(s={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},tt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON()));function rt(st,ot){return st[ot.uuid]===void 0&&(st[ot.uuid]=ot.toJSON(s)),ot.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON(s).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(nt.environment=this.environment.toJSON(s).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=rt(s.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const ot=st.shapes;if(Array.isArray(ot))for(let at=0,ut=ot.length;at<ut;at++){const ht=ot[at];rt(s.shapes,ht)}else rt(s.shapes,ot)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(rt(s.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let ot=0,at=this.material.length;ot<at;ot++)st.push(rt(s.materials,this.material[ot]));nt.material=st}else nt.material=rt(s.materials,this.material);if(this.children.length>0){nt.children=[];for(let st=0;st<this.children.length;st++)nt.children.push(this.children[st].toJSON(s).object)}if(this.animations.length>0){nt.animations=[];for(let st=0;st<this.animations.length;st++){const ot=this.animations[st];nt.animations.push(rt(s.animations,ot))}}if(et){const st=it(s.geometries),ot=it(s.materials),at=it(s.textures),ut=it(s.images),ht=it(s.shapes),ft=it(s.skeletons),dt=it(s.animations),vt=it(s.nodes);st.length>0&&(tt.geometries=st),ot.length>0&&(tt.materials=ot),at.length>0&&(tt.textures=at),ut.length>0&&(tt.images=ut),ht.length>0&&(tt.shapes=ht),ft.length>0&&(tt.skeletons=ft),dt.length>0&&(tt.animations=dt),vt.length>0&&(tt.nodes=vt)}return tt.object=nt,tt;function it(st){const ot=[];for(const at in st){const ut=st[at];delete ut.metadata,ot.push(ut)}return ot}}clone(s){return new this.constructor().copy(this,s)}copy(s,et=!0){if(this.name=s.name,this.up.copy(s.up),this.position.copy(s.position),this.rotation.order=s.rotation.order,this.quaternion.copy(s.quaternion),this.scale.copy(s.scale),this.matrix.copy(s.matrix),this.matrixWorld.copy(s.matrixWorld),this.matrixAutoUpdate=s.matrixAutoUpdate,this.matrixWorldNeedsUpdate=s.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=s.matrixWorldAutoUpdate,this.layers.mask=s.layers.mask,this.visible=s.visible,this.castShadow=s.castShadow,this.receiveShadow=s.receiveShadow,this.frustumCulled=s.frustumCulled,this.renderOrder=s.renderOrder,this.userData=JSON.parse(JSON.stringify(s.userData)),et===!0)for(let tt=0;tt<s.children.length;tt++){const nt=s.children[tt];this.add(nt.clone())}return this}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.DefaultMatrixWorldAutoUpdate=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(s=new Vector3,et=new Vector3,tt=new Vector3){this.a=s,this.b=et,this.c=tt}static getNormal(s,et,tt,nt){nt.subVectors(tt,et),_v0$1.subVectors(s,et),nt.cross(_v0$1);const rt=nt.lengthSq();return rt>0?nt.multiplyScalar(1/Math.sqrt(rt)):nt.set(0,0,0)}static getBarycoord(s,et,tt,nt,rt){_v0$1.subVectors(nt,et),_v1$3.subVectors(tt,et),_v2$2.subVectors(s,et);const it=_v0$1.dot(_v0$1),st=_v0$1.dot(_v1$3),ot=_v0$1.dot(_v2$2),at=_v1$3.dot(_v1$3),ut=_v1$3.dot(_v2$2),ht=it*at-st*st;if(ht===0)return rt.set(-2,-1,-1);const ft=1/ht,dt=(at*ot-st*ut)*ft,vt=(it*ut-st*ot)*ft;return rt.set(1-dt-vt,vt,dt)}static containsPoint(s,et,tt,nt){return this.getBarycoord(s,et,tt,nt,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(s,et,tt,nt,rt,it,st,ot){return this.getBarycoord(s,et,tt,nt,_v3$1),ot.set(0,0),ot.addScaledVector(rt,_v3$1.x),ot.addScaledVector(it,_v3$1.y),ot.addScaledVector(st,_v3$1.z),ot}static isFrontFacing(s,et,tt,nt){return _v0$1.subVectors(tt,et),_v1$3.subVectors(s,et),_v0$1.cross(_v1$3).dot(nt)<0}set(s,et,tt){return this.a.copy(s),this.b.copy(et),this.c.copy(tt),this}setFromPointsAndIndices(s,et,tt,nt){return this.a.copy(s[et]),this.b.copy(s[tt]),this.c.copy(s[nt]),this}setFromAttributeAndIndices(s,et,tt,nt){return this.a.fromBufferAttribute(s,et),this.b.fromBufferAttribute(s,tt),this.c.fromBufferAttribute(s,nt),this}clone(){return new this.constructor().copy(this)}copy(s){return this.a.copy(s.a),this.b.copy(s.b),this.c.copy(s.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(s){return s.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(s){return Triangle.getNormal(this.a,this.b,this.c,s)}getPlane(s){return s.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(s,et){return Triangle.getBarycoord(s,this.a,this.b,this.c,et)}getUV(s,et,tt,nt,rt){return Triangle.getUV(s,this.a,this.b,this.c,et,tt,nt,rt)}containsPoint(s){return Triangle.containsPoint(s,this.a,this.b,this.c)}isFrontFacing(s){return Triangle.isFrontFacing(this.a,this.b,this.c,s)}intersectsBox(s){return s.intersectsTriangle(this)}closestPointToPoint(s,et){const tt=this.a,nt=this.b,rt=this.c;let it,st;_vab.subVectors(nt,tt),_vac.subVectors(rt,tt),_vap.subVectors(s,tt);const ot=_vab.dot(_vap),at=_vac.dot(_vap);if(ot<=0&&at<=0)return et.copy(tt);_vbp.subVectors(s,nt);const ut=_vab.dot(_vbp),ht=_vac.dot(_vbp);if(ut>=0&&ht<=ut)return et.copy(nt);const ft=ot*ht-ut*at;if(ft<=0&&ot>=0&&ut<=0)return it=ot/(ot-ut),et.copy(tt).addScaledVector(_vab,it);_vcp.subVectors(s,rt);const dt=_vab.dot(_vcp),vt=_vac.dot(_vcp);if(vt>=0&&dt<=vt)return et.copy(rt);const gt=dt*at-ot*vt;if(gt<=0&&at>=0&&vt<=0)return st=at/(at-vt),et.copy(tt).addScaledVector(_vac,st);const _t=ut*vt-dt*ht;if(_t<=0&&ht-ut>=0&&dt-vt>=0)return _vbc.subVectors(rt,nt),st=(ht-ut)/(ht-ut+(dt-vt)),et.copy(nt).addScaledVector(_vbc,st);const pt=1/(_t+gt+ft);return it=gt*pt,st=ft*pt,et.copy(tt).addScaledVector(_vab,it).addScaledVector(_vac,st)}equals(s){return s.a.equals(this.a)&&s.b.equals(this.b)&&s.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(s){this._alphaTest>0!=s>0&&this.version++,this._alphaTest=s}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(s){if(s!==void 0)for(const et in s){const tt=s[et];if(tt===void 0){console.warn("THREE.Material: '"+et+"' parameter is undefined.");continue}const nt=this[et];if(nt===void 0){console.warn("THREE."+this.type+": '"+et+"' is not a property of this material.");continue}nt&&nt.isColor?nt.set(tt):nt&&nt.isVector3&&tt&&tt.isVector3?nt.copy(tt):this[et]=tt}}toJSON(s){const et=s===void 0||typeof s=="string";et&&(s={textures:{},images:{}});const tt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};tt.uuid=this.uuid,tt.type=this.type,this.name!==""&&(tt.name=this.name),this.color&&this.color.isColor&&(tt.color=this.color.getHex()),this.roughness!==void 0&&(tt.roughness=this.roughness),this.metalness!==void 0&&(tt.metalness=this.metalness),this.sheen!==void 0&&(tt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(tt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(tt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(tt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(tt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(tt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(tt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(tt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(tt.shininess=this.shininess),this.clearcoat!==void 0&&(tt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(tt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(tt.clearcoatMap=this.clearcoatMap.toJSON(s).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(tt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(s).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(tt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(s).uuid,tt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(tt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(tt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(tt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(tt.iridescenceMap=this.iridescenceMap.toJSON(s).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(tt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(s).uuid),this.map&&this.map.isTexture&&(tt.map=this.map.toJSON(s).uuid),this.matcap&&this.matcap.isTexture&&(tt.matcap=this.matcap.toJSON(s).uuid),this.alphaMap&&this.alphaMap.isTexture&&(tt.alphaMap=this.alphaMap.toJSON(s).uuid),this.lightMap&&this.lightMap.isTexture&&(tt.lightMap=this.lightMap.toJSON(s).uuid,tt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(tt.aoMap=this.aoMap.toJSON(s).uuid,tt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(tt.bumpMap=this.bumpMap.toJSON(s).uuid,tt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(tt.normalMap=this.normalMap.toJSON(s).uuid,tt.normalMapType=this.normalMapType,tt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(tt.displacementMap=this.displacementMap.toJSON(s).uuid,tt.displacementScale=this.displacementScale,tt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(tt.roughnessMap=this.roughnessMap.toJSON(s).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(tt.metalnessMap=this.metalnessMap.toJSON(s).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(tt.emissiveMap=this.emissiveMap.toJSON(s).uuid),this.specularMap&&this.specularMap.isTexture&&(tt.specularMap=this.specularMap.toJSON(s).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(tt.specularIntensityMap=this.specularIntensityMap.toJSON(s).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(tt.specularColorMap=this.specularColorMap.toJSON(s).uuid),this.envMap&&this.envMap.isTexture&&(tt.envMap=this.envMap.toJSON(s).uuid,this.combine!==void 0&&(tt.combine=this.combine)),this.envMapIntensity!==void 0&&(tt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(tt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(tt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(tt.gradientMap=this.gradientMap.toJSON(s).uuid),this.transmission!==void 0&&(tt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(tt.transmissionMap=this.transmissionMap.toJSON(s).uuid),this.thickness!==void 0&&(tt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(tt.thicknessMap=this.thicknessMap.toJSON(s).uuid),this.attenuationDistance!==void 0&&(tt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(tt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(tt.size=this.size),this.shadowSide!==null&&(tt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(tt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(tt.blending=this.blending),this.side!==FrontSide&&(tt.side=this.side),this.vertexColors&&(tt.vertexColors=!0),this.opacity<1&&(tt.opacity=this.opacity),this.transparent===!0&&(tt.transparent=this.transparent),tt.depthFunc=this.depthFunc,tt.depthTest=this.depthTest,tt.depthWrite=this.depthWrite,tt.colorWrite=this.colorWrite,tt.stencilWrite=this.stencilWrite,tt.stencilWriteMask=this.stencilWriteMask,tt.stencilFunc=this.stencilFunc,tt.stencilRef=this.stencilRef,tt.stencilFuncMask=this.stencilFuncMask,tt.stencilFail=this.stencilFail,tt.stencilZFail=this.stencilZFail,tt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(tt.rotation=this.rotation),this.polygonOffset===!0&&(tt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(tt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(tt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(tt.linewidth=this.linewidth),this.dashSize!==void 0&&(tt.dashSize=this.dashSize),this.gapSize!==void 0&&(tt.gapSize=this.gapSize),this.scale!==void 0&&(tt.scale=this.scale),this.dithering===!0&&(tt.dithering=!0),this.alphaTest>0&&(tt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(tt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(tt.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(tt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(tt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(tt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(tt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(tt.flatShading=this.flatShading),this.visible===!1&&(tt.visible=!1),this.toneMapped===!1&&(tt.toneMapped=!1),this.fog===!1&&(tt.fog=!1),JSON.stringify(this.userData)!=="{}"&&(tt.userData=this.userData);function nt(rt){const it=[];for(const st in rt){const ot=rt[st];delete ot.metadata,it.push(ot)}return it}if(et){const rt=nt(s.textures),it=nt(s.images);rt.length>0&&(tt.textures=rt),it.length>0&&(tt.images=it)}return tt}clone(){return new this.constructor().copy(this)}copy(s){this.name=s.name,this.blending=s.blending,this.side=s.side,this.vertexColors=s.vertexColors,this.opacity=s.opacity,this.transparent=s.transparent,this.blendSrc=s.blendSrc,this.blendDst=s.blendDst,this.blendEquation=s.blendEquation,this.blendSrcAlpha=s.blendSrcAlpha,this.blendDstAlpha=s.blendDstAlpha,this.blendEquationAlpha=s.blendEquationAlpha,this.depthFunc=s.depthFunc,this.depthTest=s.depthTest,this.depthWrite=s.depthWrite,this.stencilWriteMask=s.stencilWriteMask,this.stencilFunc=s.stencilFunc,this.stencilRef=s.stencilRef,this.stencilFuncMask=s.stencilFuncMask,this.stencilFail=s.stencilFail,this.stencilZFail=s.stencilZFail,this.stencilZPass=s.stencilZPass,this.stencilWrite=s.stencilWrite;const et=s.clippingPlanes;let tt=null;if(et!==null){const nt=et.length;tt=new Array(nt);for(let rt=0;rt!==nt;++rt)tt[rt]=et[rt].clone()}return this.clippingPlanes=tt,this.clipIntersection=s.clipIntersection,this.clipShadows=s.clipShadows,this.shadowSide=s.shadowSide,this.colorWrite=s.colorWrite,this.precision=s.precision,this.polygonOffset=s.polygonOffset,this.polygonOffsetFactor=s.polygonOffsetFactor,this.polygonOffsetUnits=s.polygonOffsetUnits,this.dithering=s.dithering,this.alphaTest=s.alphaTest,this.alphaToCoverage=s.alphaToCoverage,this.premultipliedAlpha=s.premultipliedAlpha,this.visible=s.visible,this.toneMapped=s.toneMapped,this.userData=JSON.parse(JSON.stringify(s.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(s){s===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(s){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.fog=s.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(s,et,tt){if(Array.isArray(s))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=s,this.itemSize=et,this.count=s!==void 0?s.length/et:0,this.normalized=tt===!0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(s){s===!0&&this.version++}setUsage(s){return this.usage=s,this}copy(s){return this.name=s.name,this.array=new s.array.constructor(s.array),this.itemSize=s.itemSize,this.count=s.count,this.normalized=s.normalized,this.usage=s.usage,this}copyAt(s,et,tt){s*=this.itemSize,tt*=et.itemSize;for(let nt=0,rt=this.itemSize;nt<rt;nt++)this.array[s+nt]=et.array[tt+nt];return this}copyArray(s){return this.array.set(s),this}applyMatrix3(s){if(this.itemSize===2)for(let et=0,tt=this.count;et<tt;et++)_vector2$1.fromBufferAttribute(this,et),_vector2$1.applyMatrix3(s),this.setXY(et,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyMatrix3(s),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(s){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyMatrix4(s),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(s){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyNormalMatrix(s),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(s){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.transformDirection(s),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(s,et=0){return this.array.set(s,et),this}getX(s){let et=this.array[s*this.itemSize];return this.normalized&&(et=denormalize(et,this.array)),et}setX(s,et){return this.normalized&&(et=normalize(et,this.array)),this.array[s*this.itemSize]=et,this}getY(s){let et=this.array[s*this.itemSize+1];return this.normalized&&(et=denormalize(et,this.array)),et}setY(s,et){return this.normalized&&(et=normalize(et,this.array)),this.array[s*this.itemSize+1]=et,this}getZ(s){let et=this.array[s*this.itemSize+2];return this.normalized&&(et=denormalize(et,this.array)),et}setZ(s,et){return this.normalized&&(et=normalize(et,this.array)),this.array[s*this.itemSize+2]=et,this}getW(s){let et=this.array[s*this.itemSize+3];return this.normalized&&(et=denormalize(et,this.array)),et}setW(s,et){return this.normalized&&(et=normalize(et,this.array)),this.array[s*this.itemSize+3]=et,this}setXY(s,et,tt){return s*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array)),this.array[s+0]=et,this.array[s+1]=tt,this}setXYZ(s,et,tt,nt){return s*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[s+0]=et,this.array[s+1]=tt,this.array[s+2]=nt,this}setXYZW(s,et,tt,nt,rt){return s*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[s+0]=et,this.array[s+1]=tt,this.array[s+2]=nt,this.array[s+3]=rt,this}onUpload(s){return this.onUploadCallback=s,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const s={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(s.name=this.name),this.usage!==StaticDrawUsage&&(s.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(s.updateRange=this.updateRange),s}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Int8Array(s),et,tt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Uint8Array(s),et,tt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Uint8ClampedArray(s),et,tt)}}class Int16BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Int16Array(s),et,tt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Uint16Array(s),et,tt)}}class Int32BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Int32Array(s),et,tt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Uint32Array(s),et,tt)}}class Float16BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Uint16Array(s),et,tt),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Float32Array(s),et,tt)}}class Float64BufferAttribute extends BufferAttribute{constructor(s,et,tt){super(new Float64Array(s),et,tt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(s){return Array.isArray(s)?this.index=new(arrayNeedsUint32(s)?Uint32BufferAttribute:Uint16BufferAttribute)(s,1):this.index=s,this}getAttribute(s){return this.attributes[s]}setAttribute(s,et){return this.attributes[s]=et,this}deleteAttribute(s){return delete this.attributes[s],this}hasAttribute(s){return this.attributes[s]!==void 0}addGroup(s,et,tt=0){this.groups.push({start:s,count:et,materialIndex:tt})}clearGroups(){this.groups=[]}setDrawRange(s,et){this.drawRange.start=s,this.drawRange.count=et}applyMatrix4(s){const et=this.attributes.position;et!==void 0&&(et.applyMatrix4(s),et.needsUpdate=!0);const tt=this.attributes.normal;if(tt!==void 0){const rt=new Matrix3().getNormalMatrix(s);tt.applyNormalMatrix(rt),tt.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection(s),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(s){return _m1.makeRotationFromQuaternion(s),this.applyMatrix4(_m1),this}rotateX(s){return _m1.makeRotationX(s),this.applyMatrix4(_m1),this}rotateY(s){return _m1.makeRotationY(s),this.applyMatrix4(_m1),this}rotateZ(s){return _m1.makeRotationZ(s),this.applyMatrix4(_m1),this}translate(s,et,tt){return _m1.makeTranslation(s,et,tt),this.applyMatrix4(_m1),this}scale(s,et,tt){return _m1.makeScale(s,et,tt),this.applyMatrix4(_m1),this}lookAt(s){return _obj.lookAt(s),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(s){const et=[];for(let tt=0,nt=s.length;tt<nt;tt++){const rt=s[tt];et.push(rt.x,rt.y,rt.z||0)}return this.setAttribute("position",new Float32BufferAttribute(et,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const s=this.attributes.position,et=this.morphAttributes.position;if(s&&s.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(s!==void 0){if(this.boundingBox.setFromBufferAttribute(s),et)for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];_box$1.setFromBufferAttribute(rt),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const s=this.attributes.position,et=this.morphAttributes.position;if(s&&s.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(s){const tt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(s),et)for(let rt=0,it=et.length;rt<it;rt++){const st=et[rt];_boxMorphTargets.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(tt);let nt=0;for(let rt=0,it=s.count;rt<it;rt++)_vector$8.fromBufferAttribute(s,rt),nt=Math.max(nt,tt.distanceToSquared(_vector$8));if(et)for(let rt=0,it=et.length;rt<it;rt++){const st=et[rt],ot=this.morphTargetsRelative;for(let at=0,ut=st.count;at<ut;at++)_vector$8.fromBufferAttribute(st,at),ot&&(_offset.fromBufferAttribute(s,at),_vector$8.add(_offset)),nt=Math.max(nt,tt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const s=this.index,et=this.attributes;if(s===null||et.position===void 0||et.normal===void 0||et.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const tt=s.array,nt=et.position.array,rt=et.normal.array,it=et.uv.array,st=nt.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*st),4));const ot=this.getAttribute("tangent").array,at=[],ut=[];for(let Dt=0;Dt<st;Dt++)at[Dt]=new Vector3,ut[Dt]=new Vector3;const ht=new Vector3,ft=new Vector3,dt=new Vector3,vt=new Vector2,gt=new Vector2,_t=new Vector2,pt=new Vector3,mt=new Vector3;function yt(Dt,zt,Wt){ht.fromArray(nt,Dt*3),ft.fromArray(nt,zt*3),dt.fromArray(nt,Wt*3),vt.fromArray(it,Dt*2),gt.fromArray(it,zt*2),_t.fromArray(it,Wt*2),ft.sub(ht),dt.sub(ht),gt.sub(vt),_t.sub(vt);const Ht=1/(gt.x*_t.y-_t.x*gt.y);!isFinite(Ht)||(pt.copy(ft).multiplyScalar(_t.y).addScaledVector(dt,-gt.y).multiplyScalar(Ht),mt.copy(dt).multiplyScalar(gt.x).addScaledVector(ft,-_t.x).multiplyScalar(Ht),at[Dt].add(pt),at[zt].add(pt),at[Wt].add(pt),ut[Dt].add(mt),ut[zt].add(mt),ut[Wt].add(mt))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:tt.length}]);for(let Dt=0,zt=xt.length;Dt<zt;++Dt){const Wt=xt[Dt],Ht=Wt.start,Gt=Wt.count;for(let $t=Ht,Ft=Ht+Gt;$t<Ft;$t+=3)yt(tt[$t+0],tt[$t+1],tt[$t+2])}const bt=new Vector3,wt=new Vector3,Ct=new Vector3,Et=new Vector3;function kt(Dt){Ct.fromArray(rt,Dt*3),Et.copy(Ct);const zt=at[Dt];bt.copy(zt),bt.sub(Ct.multiplyScalar(Ct.dot(zt))).normalize(),wt.crossVectors(Et,zt);const Ht=wt.dot(ut[Dt])<0?-1:1;ot[Dt*4]=bt.x,ot[Dt*4+1]=bt.y,ot[Dt*4+2]=bt.z,ot[Dt*4+3]=Ht}for(let Dt=0,zt=xt.length;Dt<zt;++Dt){const Wt=xt[Dt],Ht=Wt.start,Gt=Wt.count;for(let $t=Ht,Ft=Ht+Gt;$t<Ft;$t+=3)kt(tt[$t+0]),kt(tt[$t+1]),kt(tt[$t+2])}}computeVertexNormals(){const s=this.index,et=this.getAttribute("position");if(et!==void 0){let tt=this.getAttribute("normal");if(tt===void 0)tt=new BufferAttribute(new Float32Array(et.count*3),3),this.setAttribute("normal",tt);else for(let ft=0,dt=tt.count;ft<dt;ft++)tt.setXYZ(ft,0,0,0);const nt=new Vector3,rt=new Vector3,it=new Vector3,st=new Vector3,ot=new Vector3,at=new Vector3,ut=new Vector3,ht=new Vector3;if(s)for(let ft=0,dt=s.count;ft<dt;ft+=3){const vt=s.getX(ft+0),gt=s.getX(ft+1),_t=s.getX(ft+2);nt.fromBufferAttribute(et,vt),rt.fromBufferAttribute(et,gt),it.fromBufferAttribute(et,_t),ut.subVectors(it,rt),ht.subVectors(nt,rt),ut.cross(ht),st.fromBufferAttribute(tt,vt),ot.fromBufferAttribute(tt,gt),at.fromBufferAttribute(tt,_t),st.add(ut),ot.add(ut),at.add(ut),tt.setXYZ(vt,st.x,st.y,st.z),tt.setXYZ(gt,ot.x,ot.y,ot.z),tt.setXYZ(_t,at.x,at.y,at.z)}else for(let ft=0,dt=et.count;ft<dt;ft+=3)nt.fromBufferAttribute(et,ft+0),rt.fromBufferAttribute(et,ft+1),it.fromBufferAttribute(et,ft+2),ut.subVectors(it,rt),ht.subVectors(nt,rt),ut.cross(ht),tt.setXYZ(ft+0,ut.x,ut.y,ut.z),tt.setXYZ(ft+1,ut.x,ut.y,ut.z),tt.setXYZ(ft+2,ut.x,ut.y,ut.z);this.normalizeNormals(),tt.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const s=this.attributes.normal;for(let et=0,tt=s.count;et<tt;et++)_vector$8.fromBufferAttribute(s,et),_vector$8.normalize(),s.setXYZ(et,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function s(st,ot){const at=st.array,ut=st.itemSize,ht=st.normalized,ft=new at.constructor(ot.length*ut);let dt=0,vt=0;for(let gt=0,_t=ot.length;gt<_t;gt++){st.isInterleavedBufferAttribute?dt=ot[gt]*st.data.stride+st.offset:dt=ot[gt]*ut;for(let pt=0;pt<ut;pt++)ft[vt++]=at[dt++]}return new BufferAttribute(ft,ut,ht)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const et=new BufferGeometry,tt=this.index.array,nt=this.attributes;for(const st in nt){const ot=nt[st],at=s(ot,tt);et.setAttribute(st,at)}const rt=this.morphAttributes;for(const st in rt){const ot=[],at=rt[st];for(let ut=0,ht=at.length;ut<ht;ut++){const ft=at[ut],dt=s(ft,tt);ot.push(dt)}et.morphAttributes[st]=ot}et.morphTargetsRelative=this.morphTargetsRelative;const it=this.groups;for(let st=0,ot=it.length;st<ot;st++){const at=it[st];et.addGroup(at.start,at.count,at.materialIndex)}return et}toJSON(){const s={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),Object.keys(this.userData).length>0&&(s.userData=this.userData),this.parameters!==void 0){const ot=this.parameters;for(const at in ot)ot[at]!==void 0&&(s[at]=ot[at]);return s}s.data={attributes:{}};const et=this.index;et!==null&&(s.data.index={type:et.array.constructor.name,array:Array.prototype.slice.call(et.array)});const tt=this.attributes;for(const ot in tt){const at=tt[ot];s.data.attributes[ot]=at.toJSON(s.data)}const nt={};let rt=!1;for(const ot in this.morphAttributes){const at=this.morphAttributes[ot],ut=[];for(let ht=0,ft=at.length;ht<ft;ht++){const dt=at[ht];ut.push(dt.toJSON(s.data))}ut.length>0&&(nt[ot]=ut,rt=!0)}rt&&(s.data.morphAttributes=nt,s.data.morphTargetsRelative=this.morphTargetsRelative);const it=this.groups;it.length>0&&(s.data.groups=JSON.parse(JSON.stringify(it)));const st=this.boundingSphere;return st!==null&&(s.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),s}clone(){return new this.constructor().copy(this)}copy(s){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const et={};this.name=s.name;const tt=s.index;tt!==null&&this.setIndex(tt.clone(et));const nt=s.attributes;for(const at in nt){const ut=nt[at];this.setAttribute(at,ut.clone(et))}const rt=s.morphAttributes;for(const at in rt){const ut=[],ht=rt[at];for(let ft=0,dt=ht.length;ft<dt;ft++)ut.push(ht[ft].clone(et));this.morphAttributes[at]=ut}this.morphTargetsRelative=s.morphTargetsRelative;const it=s.groups;for(let at=0,ut=it.length;at<ut;at++){const ht=it[at];this.addGroup(ht.start,ht.count,ht.materialIndex)}const st=s.boundingBox;st!==null&&(this.boundingBox=st.clone());const ot=s.boundingSphere;return ot!==null&&(this.boundingSphere=ot.clone()),this.drawRange.start=s.drawRange.start,this.drawRange.count=s.drawRange.count,this.userData=s.userData,s.parameters!==void 0&&(this.parameters=Object.assign({},s.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_tempB=new Vector3,_tempC=new Vector3,_morphA=new Vector3,_morphB=new Vector3,_morphC=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(s=new BufferGeometry,et=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=s,this.material=et,this.updateMorphTargets()}copy(s,et){return super.copy(s,et),s.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=s.morphTargetInfluences.slice()),s.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},s.morphTargetDictionary)),this.material=s.material,this.geometry=s.geometry,this}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}raycast(s,et){const tt=this.geometry,nt=this.material,rt=this.matrixWorld;if(nt===void 0||(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$3.copy(tt.boundingSphere),_sphere$3.applyMatrix4(rt),s.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(rt).invert(),_ray$2.copy(s.ray).applyMatrix4(_inverseMatrix$2),tt.boundingBox!==null&&_ray$2.intersectsBox(tt.boundingBox)===!1))return;let it;const st=tt.index,ot=tt.attributes.position,at=tt.morphAttributes.position,ut=tt.morphTargetsRelative,ht=tt.attributes.uv,ft=tt.attributes.uv2,dt=tt.groups,vt=tt.drawRange;if(st!==null)if(Array.isArray(nt))for(let gt=0,_t=dt.length;gt<_t;gt++){const pt=dt[gt],mt=nt[pt.materialIndex],yt=Math.max(pt.start,vt.start),xt=Math.min(st.count,Math.min(pt.start+pt.count,vt.start+vt.count));for(let bt=yt,wt=xt;bt<wt;bt+=3){const Ct=st.getX(bt),Et=st.getX(bt+1),kt=st.getX(bt+2);it=checkBufferGeometryIntersection(this,mt,s,_ray$2,ot,at,ut,ht,ft,Ct,Et,kt),it&&(it.faceIndex=Math.floor(bt/3),it.face.materialIndex=pt.materialIndex,et.push(it))}}else{const gt=Math.max(0,vt.start),_t=Math.min(st.count,vt.start+vt.count);for(let pt=gt,mt=_t;pt<mt;pt+=3){const yt=st.getX(pt),xt=st.getX(pt+1),bt=st.getX(pt+2);it=checkBufferGeometryIntersection(this,nt,s,_ray$2,ot,at,ut,ht,ft,yt,xt,bt),it&&(it.faceIndex=Math.floor(pt/3),et.push(it))}}else if(ot!==void 0)if(Array.isArray(nt))for(let gt=0,_t=dt.length;gt<_t;gt++){const pt=dt[gt],mt=nt[pt.materialIndex],yt=Math.max(pt.start,vt.start),xt=Math.min(ot.count,Math.min(pt.start+pt.count,vt.start+vt.count));for(let bt=yt,wt=xt;bt<wt;bt+=3){const Ct=bt,Et=bt+1,kt=bt+2;it=checkBufferGeometryIntersection(this,mt,s,_ray$2,ot,at,ut,ht,ft,Ct,Et,kt),it&&(it.faceIndex=Math.floor(bt/3),it.face.materialIndex=pt.materialIndex,et.push(it))}}else{const gt=Math.max(0,vt.start),_t=Math.min(ot.count,vt.start+vt.count);for(let pt=gt,mt=_t;pt<mt;pt+=3){const yt=pt,xt=pt+1,bt=pt+2;it=checkBufferGeometryIntersection(this,nt,s,_ray$2,ot,at,ut,ht,ft,yt,xt,bt),it&&(it.faceIndex=Math.floor(pt/3),et.push(it))}}}}function checkIntersection(o,s,et,tt,nt,rt,it,st){let ot;if(s.side===BackSide?ot=tt.intersectTriangle(it,rt,nt,!0,st):ot=tt.intersectTriangle(nt,rt,it,s.side!==DoubleSide,st),ot===null)return null;_intersectionPointWorld.copy(st),_intersectionPointWorld.applyMatrix4(o.matrixWorld);const at=et.ray.origin.distanceTo(_intersectionPointWorld);return at<et.near||at>et.far?null:{distance:at,point:_intersectionPointWorld.clone(),object:o}}function checkBufferGeometryIntersection(o,s,et,tt,nt,rt,it,st,ot,at,ut,ht){_vA$1.fromBufferAttribute(nt,at),_vB$1.fromBufferAttribute(nt,ut),_vC$1.fromBufferAttribute(nt,ht);const ft=o.morphTargetInfluences;if(rt&&ft){_morphA.set(0,0,0),_morphB.set(0,0,0),_morphC.set(0,0,0);for(let vt=0,gt=rt.length;vt<gt;vt++){const _t=ft[vt],pt=rt[vt];_t!==0&&(_tempA.fromBufferAttribute(pt,at),_tempB.fromBufferAttribute(pt,ut),_tempC.fromBufferAttribute(pt,ht),it?(_morphA.addScaledVector(_tempA,_t),_morphB.addScaledVector(_tempB,_t),_morphC.addScaledVector(_tempC,_t)):(_morphA.addScaledVector(_tempA.sub(_vA$1),_t),_morphB.addScaledVector(_tempB.sub(_vB$1),_t),_morphC.addScaledVector(_tempC.sub(_vC$1),_t)))}_vA$1.add(_morphA),_vB$1.add(_morphB),_vC$1.add(_morphC)}o.isSkinnedMesh&&(o.boneTransform(at,_vA$1),o.boneTransform(ut,_vB$1),o.boneTransform(ht,_vC$1));const dt=checkIntersection(o,s,et,tt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(dt){st&&(_uvA$1.fromBufferAttribute(st,at),_uvB$1.fromBufferAttribute(st,ut),_uvC$1.fromBufferAttribute(st,ht),dt.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),ot&&(_uvA$1.fromBufferAttribute(ot,at),_uvB$1.fromBufferAttribute(ot,ut),_uvC$1.fromBufferAttribute(ot,ht),dt.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const vt={a:at,b:ut,c:ht,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,vt.normal),dt.face=vt}return dt}class BoxGeometry extends BufferGeometry{constructor(s=1,et=1,tt=1,nt=1,rt=1,it=1){super(),this.type="BoxGeometry",this.parameters={width:s,height:et,depth:tt,widthSegments:nt,heightSegments:rt,depthSegments:it};const st=this;nt=Math.floor(nt),rt=Math.floor(rt),it=Math.floor(it);const ot=[],at=[],ut=[],ht=[];let ft=0,dt=0;vt("z","y","x",-1,-1,tt,et,s,it,rt,0),vt("z","y","x",1,-1,tt,et,-s,it,rt,1),vt("x","z","y",1,1,s,tt,et,nt,it,2),vt("x","z","y",1,-1,s,tt,-et,nt,it,3),vt("x","y","z",1,-1,s,et,tt,nt,rt,4),vt("x","y","z",-1,-1,s,et,-tt,nt,rt,5),this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2));function vt(gt,_t,pt,mt,yt,xt,bt,wt,Ct,Et,kt){const Dt=xt/Ct,zt=bt/Et,Wt=xt/2,Ht=bt/2,Gt=wt/2,$t=Ct+1,Ft=Et+1;let It=0,Tt=0;const Pt=new Vector3;for(let Rt=0;Rt<Ft;Rt++){const Vt=Rt*zt-Ht;for(let Ot=0;Ot<$t;Ot++){const Xt=Ot*Dt-Wt;Pt[gt]=Xt*mt,Pt[_t]=Vt*yt,Pt[pt]=Gt,at.push(Pt.x,Pt.y,Pt.z),Pt[gt]=0,Pt[_t]=0,Pt[pt]=wt>0?1:-1,ut.push(Pt.x,Pt.y,Pt.z),ht.push(Ot/Ct),ht.push(1-Rt/Et),It+=1}}for(let Rt=0;Rt<Et;Rt++)for(let Vt=0;Vt<Ct;Vt++){const Ot=ft+Vt+$t*Rt,Xt=ft+Vt+$t*(Rt+1),Kt=ft+(Vt+1)+$t*(Rt+1),fn=ft+(Vt+1)+$t*Rt;ot.push(Ot,Xt,fn),ot.push(Xt,Kt,fn),Tt+=6}st.addGroup(dt,Tt,kt),dt+=Tt,ft+=It}}static fromJSON(s){return new BoxGeometry(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments)}}function cloneUniforms(o){const s={};for(const et in o){s[et]={};for(const tt in o[et]){const nt=o[et][tt];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?s[et][tt]=nt.clone():Array.isArray(nt)?s[et][tt]=nt.slice():s[et][tt]=nt}}return s}function mergeUniforms(o){const s={};for(let et=0;et<o.length;et++){const tt=cloneUniforms(o[et]);for(const nt in tt)s[nt]=tt[nt]}return s}function cloneUniformsGroups(o){const s=[];for(let et=0;et<o.length;et++)s.push(o[et].clone());return s}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(s){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,s!==void 0&&this.setValues(s)}copy(s){return super.copy(s),this.fragmentShader=s.fragmentShader,this.vertexShader=s.vertexShader,this.uniforms=cloneUniforms(s.uniforms),this.uniformsGroups=cloneUniformsGroups(s.uniformsGroups),this.defines=Object.assign({},s.defines),this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.fog=s.fog,this.lights=s.lights,this.clipping=s.clipping,this.extensions=Object.assign({},s.extensions),this.glslVersion=s.glslVersion,this}toJSON(s){const et=super.toJSON(s);et.glslVersion=this.glslVersion,et.uniforms={};for(const nt in this.uniforms){const it=this.uniforms[nt].value;it&&it.isTexture?et.uniforms[nt]={type:"t",value:it.toJSON(s).uuid}:it&&it.isColor?et.uniforms[nt]={type:"c",value:it.getHex()}:it&&it.isVector2?et.uniforms[nt]={type:"v2",value:it.toArray()}:it&&it.isVector3?et.uniforms[nt]={type:"v3",value:it.toArray()}:it&&it.isVector4?et.uniforms[nt]={type:"v4",value:it.toArray()}:it&&it.isMatrix3?et.uniforms[nt]={type:"m3",value:it.toArray()}:it&&it.isMatrix4?et.uniforms[nt]={type:"m4",value:it.toArray()}:et.uniforms[nt]={value:it}}Object.keys(this.defines).length>0&&(et.defines=this.defines),et.vertexShader=this.vertexShader,et.fragmentShader=this.fragmentShader;const tt={};for(const nt in this.extensions)this.extensions[nt]===!0&&(tt[nt]=!0);return Object.keys(tt).length>0&&(et.extensions=tt),et}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(s,et){return super.copy(s,et),this.matrixWorldInverse.copy(s.matrixWorldInverse),this.projectionMatrix.copy(s.projectionMatrix),this.projectionMatrixInverse.copy(s.projectionMatrixInverse),this}getWorldDirection(s){this.updateWorldMatrix(!0,!1);const et=this.matrixWorld.elements;return s.set(-et[8],-et[9],-et[10]).normalize()}updateMatrixWorld(s){super.updateMatrixWorld(s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(s,et){super.updateWorldMatrix(s,et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(s=50,et=1,tt=.1,nt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=s,this.zoom=1,this.near=tt,this.far=nt,this.focus=10,this.aspect=et,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(s,et){return super.copy(s,et),this.fov=s.fov,this.zoom=s.zoom,this.near=s.near,this.far=s.far,this.focus=s.focus,this.aspect=s.aspect,this.view=s.view===null?null:Object.assign({},s.view),this.filmGauge=s.filmGauge,this.filmOffset=s.filmOffset,this}setFocalLength(s){const et=.5*this.getFilmHeight()/s;this.fov=RAD2DEG*2*Math.atan(et),this.updateProjectionMatrix()}getFocalLength(){const s=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/s}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(s,et,tt,nt,rt,it){this.aspect=s/et,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=s,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const s=this.near;let et=s*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,tt=2*et,nt=this.aspect*tt,rt=-.5*nt;const it=this.view;if(this.view!==null&&this.view.enabled){const ot=it.fullWidth,at=it.fullHeight;rt+=it.offsetX*nt/ot,et-=it.offsetY*tt/at,nt*=it.width/ot,tt*=it.height/at}const st=this.filmOffset;st!==0&&(rt+=s*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(rt,rt+nt,et,et-tt,s,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(s){const et=super.toJSON(s);return et.object.fov=this.fov,et.object.zoom=this.zoom,et.object.near=this.near,et.object.far=this.far,et.object.focus=this.focus,et.object.aspect=this.aspect,this.view!==null&&(et.object.view=Object.assign({},this.view)),et.object.filmGauge=this.filmGauge,et.object.filmOffset=this.filmOffset,et}}const fov=90,aspect=1;class CubeCamera extends Object3D{constructor(s,et,tt){super(),this.type="CubeCamera",this.renderTarget=tt;const nt=new PerspectiveCamera(fov,aspect,s,et);nt.layers=this.layers,nt.up.set(0,-1,0),nt.lookAt(new Vector3(1,0,0)),this.add(nt);const rt=new PerspectiveCamera(fov,aspect,s,et);rt.layers=this.layers,rt.up.set(0,-1,0),rt.lookAt(new Vector3(-1,0,0)),this.add(rt);const it=new PerspectiveCamera(fov,aspect,s,et);it.layers=this.layers,it.up.set(0,0,1),it.lookAt(new Vector3(0,1,0)),this.add(it);const st=new PerspectiveCamera(fov,aspect,s,et);st.layers=this.layers,st.up.set(0,0,-1),st.lookAt(new Vector3(0,-1,0)),this.add(st);const ot=new PerspectiveCamera(fov,aspect,s,et);ot.layers=this.layers,ot.up.set(0,-1,0),ot.lookAt(new Vector3(0,0,1)),this.add(ot);const at=new PerspectiveCamera(fov,aspect,s,et);at.layers=this.layers,at.up.set(0,-1,0),at.lookAt(new Vector3(0,0,-1)),this.add(at)}update(s,et){this.parent===null&&this.updateMatrixWorld();const tt=this.renderTarget,[nt,rt,it,st,ot,at]=this.children,ut=s.getRenderTarget(),ht=s.toneMapping,ft=s.xr.enabled;s.toneMapping=NoToneMapping,s.xr.enabled=!1;const dt=tt.texture.generateMipmaps;tt.texture.generateMipmaps=!1,s.setRenderTarget(tt,0),s.render(et,nt),s.setRenderTarget(tt,1),s.render(et,rt),s.setRenderTarget(tt,2),s.render(et,it),s.setRenderTarget(tt,3),s.render(et,st),s.setRenderTarget(tt,4),s.render(et,ot),tt.texture.generateMipmaps=dt,s.setRenderTarget(tt,5),s.render(et,at),s.setRenderTarget(ut),s.toneMapping=ht,s.xr.enabled=ft,tt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(s,et,tt,nt,rt,it,st,ot,at,ut){s=s!==void 0?s:[],et=et!==void 0?et:CubeReflectionMapping,super(s,et,tt,nt,rt,it,st,ot,at,ut),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(s){this.image=s}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(s,et={}){super(s,s,et),this.isWebGLCubeRenderTarget=!0;const tt={width:s,height:s,depth:1},nt=[tt,tt,tt,tt,tt,tt];this.texture=new CubeTexture(nt,et.mapping,et.wrapS,et.wrapT,et.magFilter,et.minFilter,et.format,et.type,et.anisotropy,et.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=et.generateMipmaps!==void 0?et.generateMipmaps:!1,this.texture.minFilter=et.minFilter!==void 0?et.minFilter:LinearFilter}fromEquirectangularTexture(s,et){this.texture.type=et.type,this.texture.encoding=et.encoding,this.texture.generateMipmaps=et.generateMipmaps,this.texture.minFilter=et.minFilter,this.texture.magFilter=et.magFilter;const tt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),rt=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(tt.uniforms),vertexShader:tt.vertexShader,fragmentShader:tt.fragmentShader,side:BackSide,blending:NoBlending});rt.uniforms.tEquirect.value=et;const it=new Mesh(nt,rt),st=et.minFilter;return et.minFilter===LinearMipmapLinearFilter&&(et.minFilter=LinearFilter),new CubeCamera(1,10,this).update(s,it),et.minFilter=st,it.geometry.dispose(),it.material.dispose(),this}clear(s,et,tt,nt){const rt=s.getRenderTarget();for(let it=0;it<6;it++)s.setRenderTarget(this,it),s.clear(et,tt,nt);s.setRenderTarget(rt)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(s=new Vector3(1,0,0),et=0){this.isPlane=!0,this.normal=s,this.constant=et}set(s,et){return this.normal.copy(s),this.constant=et,this}setComponents(s,et,tt,nt){return this.normal.set(s,et,tt),this.constant=nt,this}setFromNormalAndCoplanarPoint(s,et){return this.normal.copy(s),this.constant=-et.dot(this.normal),this}setFromCoplanarPoints(s,et,tt){const nt=_vector1.subVectors(tt,et).cross(_vector2.subVectors(s,et)).normalize();return this.setFromNormalAndCoplanarPoint(nt,s),this}copy(s){return this.normal.copy(s.normal),this.constant=s.constant,this}normalize(){const s=1/this.normal.length();return this.normal.multiplyScalar(s),this.constant*=s,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(s){return this.normal.dot(s)+this.constant}distanceToSphere(s){return this.distanceToPoint(s.center)-s.radius}projectPoint(s,et){return et.copy(this.normal).multiplyScalar(-this.distanceToPoint(s)).add(s)}intersectLine(s,et){const tt=s.delta(_vector1),nt=this.normal.dot(tt);if(nt===0)return this.distanceToPoint(s.start)===0?et.copy(s.start):null;const rt=-(s.start.dot(this.normal)+this.constant)/nt;return rt<0||rt>1?null:et.copy(tt).multiplyScalar(rt).add(s.start)}intersectsLine(s){const et=this.distanceToPoint(s.start),tt=this.distanceToPoint(s.end);return et<0&&tt>0||tt<0&&et>0}intersectsBox(s){return s.intersectsPlane(this)}intersectsSphere(s){return s.intersectsPlane(this)}coplanarPoint(s){return s.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(s,et){const tt=et||_normalMatrix.getNormalMatrix(s),nt=this.coplanarPoint(_vector1).applyMatrix4(s),rt=this.normal.applyMatrix3(tt).normalize();return this.constant=-nt.dot(rt),this}translate(s){return this.constant-=s.dot(this.normal),this}equals(s){return s.normal.equals(this.normal)&&s.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(s=new Plane,et=new Plane,tt=new Plane,nt=new Plane,rt=new Plane,it=new Plane){this.planes=[s,et,tt,nt,rt,it]}set(s,et,tt,nt,rt,it){const st=this.planes;return st[0].copy(s),st[1].copy(et),st[2].copy(tt),st[3].copy(nt),st[4].copy(rt),st[5].copy(it),this}copy(s){const et=this.planes;for(let tt=0;tt<6;tt++)et[tt].copy(s.planes[tt]);return this}setFromProjectionMatrix(s){const et=this.planes,tt=s.elements,nt=tt[0],rt=tt[1],it=tt[2],st=tt[3],ot=tt[4],at=tt[5],ut=tt[6],ht=tt[7],ft=tt[8],dt=tt[9],vt=tt[10],gt=tt[11],_t=tt[12],pt=tt[13],mt=tt[14],yt=tt[15];return et[0].setComponents(st-nt,ht-ot,gt-ft,yt-_t).normalize(),et[1].setComponents(st+nt,ht+ot,gt+ft,yt+_t).normalize(),et[2].setComponents(st+rt,ht+at,gt+dt,yt+pt).normalize(),et[3].setComponents(st-rt,ht-at,gt-dt,yt-pt).normalize(),et[4].setComponents(st-it,ht-ut,gt-vt,yt-mt).normalize(),et[5].setComponents(st+it,ht+ut,gt+vt,yt+mt).normalize(),this}intersectsObject(s){const et=s.geometry;return et.boundingSphere===null&&et.computeBoundingSphere(),_sphere$2.copy(et.boundingSphere).applyMatrix4(s.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(s){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(s.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(s){const et=this.planes,tt=s.center,nt=-s.radius;for(let rt=0;rt<6;rt++)if(et[rt].distanceToPoint(tt)<nt)return!1;return!0}intersectsBox(s){const et=this.planes;for(let tt=0;tt<6;tt++){const nt=et[tt];if(_vector$7.x=nt.normal.x>0?s.max.x:s.min.x,_vector$7.y=nt.normal.y>0?s.max.y:s.min.y,_vector$7.z=nt.normal.z>0?s.max.z:s.min.z,nt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(s){const et=this.planes;for(let tt=0;tt<6;tt++)if(et[tt].distanceToPoint(s)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let o=null,s=!1,et=null,tt=null;function nt(rt,it){et(rt,it),tt=o.requestAnimationFrame(nt)}return{start:function(){s!==!0&&et!==null&&(tt=o.requestAnimationFrame(nt),s=!0)},stop:function(){o.cancelAnimationFrame(tt),s=!1},setAnimationLoop:function(rt){et=rt},setContext:function(rt){o=rt}}}function WebGLAttributes(o,s){const et=s.isWebGL2,tt=new WeakMap;function nt(at,ut){const ht=at.array,ft=at.usage,dt=o.createBuffer();o.bindBuffer(ut,dt),o.bufferData(ut,ht,ft),at.onUploadCallback();let vt;if(ht instanceof Float32Array)vt=5126;else if(ht instanceof Uint16Array)if(at.isFloat16BufferAttribute)if(et)vt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else vt=5123;else if(ht instanceof Int16Array)vt=5122;else if(ht instanceof Uint32Array)vt=5125;else if(ht instanceof Int32Array)vt=5124;else if(ht instanceof Int8Array)vt=5120;else if(ht instanceof Uint8Array)vt=5121;else if(ht instanceof Uint8ClampedArray)vt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ht);return{buffer:dt,type:vt,bytesPerElement:ht.BYTES_PER_ELEMENT,version:at.version}}function rt(at,ut,ht){const ft=ut.array,dt=ut.updateRange;o.bindBuffer(ht,at),dt.count===-1?o.bufferSubData(ht,0,ft):(et?o.bufferSubData(ht,dt.offset*ft.BYTES_PER_ELEMENT,ft,dt.offset,dt.count):o.bufferSubData(ht,dt.offset*ft.BYTES_PER_ELEMENT,ft.subarray(dt.offset,dt.offset+dt.count)),dt.count=-1)}function it(at){return at.isInterleavedBufferAttribute&&(at=at.data),tt.get(at)}function st(at){at.isInterleavedBufferAttribute&&(at=at.data);const ut=tt.get(at);ut&&(o.deleteBuffer(ut.buffer),tt.delete(at))}function ot(at,ut){if(at.isGLBufferAttribute){const ft=tt.get(at);(!ft||ft.version<at.version)&&tt.set(at,{buffer:at.buffer,type:at.type,bytesPerElement:at.elementSize,version:at.version});return}at.isInterleavedBufferAttribute&&(at=at.data);const ht=tt.get(at);ht===void 0?tt.set(at,nt(at,ut)):ht.version<at.version&&(rt(ht.buffer,at,ut),ht.version=at.version)}return{get:it,remove:st,update:ot}}class PlaneGeometry extends BufferGeometry{constructor(s=1,et=1,tt=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:s,height:et,widthSegments:tt,heightSegments:nt};const rt=s/2,it=et/2,st=Math.floor(tt),ot=Math.floor(nt),at=st+1,ut=ot+1,ht=s/st,ft=et/ot,dt=[],vt=[],gt=[],_t=[];for(let pt=0;pt<ut;pt++){const mt=pt*ft-it;for(let yt=0;yt<at;yt++){const xt=yt*ht-rt;vt.push(xt,-mt,0),gt.push(0,0,1),_t.push(yt/st),_t.push(1-pt/ot)}}for(let pt=0;pt<ot;pt++)for(let mt=0;mt<st;mt++){const yt=mt+at*pt,xt=mt+at*(pt+1),bt=mt+1+at*(pt+1),wt=mt+1+at*pt;dt.push(yt,xt,wt),dt.push(xt,bt,wt)}this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(vt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(_t,2))}static fromJSON(s){return new PlaneGeometry(s.width,s.height,s.widthSegments,s.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$g=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$g=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$g,background_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(o,s,et,tt,nt,rt){const it=new Color(0);let st=nt===!0?0:1,ot,at,ut=null,ht=0,ft=null;function dt(gt,_t){let pt=!1,mt=_t.isScene===!0?_t.background:null;mt&&mt.isTexture&&(mt=s.get(mt));const yt=o.xr,xt=yt.getSession&&yt.getSession();xt&&xt.environmentBlendMode==="additive"&&(mt=null),mt===null?vt(it,st):mt&&mt.isColor&&(vt(mt,1),pt=!0),(o.autoClear||pt)&&o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil),mt&&(mt.isCubeTexture||mt.mapping===CubeUVReflectionMapping)?(at===void 0&&(at=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),at.geometry.deleteAttribute("normal"),at.geometry.deleteAttribute("uv"),at.onBeforeRender=function(bt,wt,Ct){this.matrixWorld.copyPosition(Ct.matrixWorld)},Object.defineProperty(at.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),tt.update(at)),at.material.uniforms.envMap.value=mt,at.material.uniforms.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1,(ut!==mt||ht!==mt.version||ft!==o.toneMapping)&&(at.material.needsUpdate=!0,ut=mt,ht=mt.version,ft=o.toneMapping),at.layers.enableAll(),gt.unshift(at,at.geometry,at.material,0,0,null)):mt&&mt.isTexture&&(ot===void 0&&(ot=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ot.geometry.deleteAttribute("normal"),Object.defineProperty(ot.material,"map",{get:function(){return this.uniforms.t2D.value}}),tt.update(ot)),ot.material.uniforms.t2D.value=mt,mt.matrixAutoUpdate===!0&&mt.updateMatrix(),ot.material.uniforms.uvTransform.value.copy(mt.matrix),(ut!==mt||ht!==mt.version||ft!==o.toneMapping)&&(ot.material.needsUpdate=!0,ut=mt,ht=mt.version,ft=o.toneMapping),ot.layers.enableAll(),gt.unshift(ot,ot.geometry,ot.material,0,0,null))}function vt(gt,_t){et.buffers.color.setClear(gt.r,gt.g,gt.b,_t,rt)}return{getClearColor:function(){return it},setClearColor:function(gt,_t=1){it.set(gt),st=_t,vt(it,st)},getClearAlpha:function(){return st},setClearAlpha:function(gt){st=gt,vt(it,st)},render:dt}}function WebGLBindingStates(o,s,et,tt){const nt=o.getParameter(34921),rt=tt.isWebGL2?null:s.get("OES_vertex_array_object"),it=tt.isWebGL2||rt!==null,st={},ot=_t(null);let at=ot,ut=!1;function ht(Gt,$t,Ft,It,Tt){let Pt=!1;if(it){const Rt=gt(It,Ft,$t);at!==Rt&&(at=Rt,dt(at.object)),Pt=pt(Gt,It,Ft,Tt),Pt&&mt(Gt,It,Ft,Tt)}else{const Rt=$t.wireframe===!0;(at.geometry!==It.id||at.program!==Ft.id||at.wireframe!==Rt)&&(at.geometry=It.id,at.program=Ft.id,at.wireframe=Rt,Pt=!0)}Tt!==null&&et.update(Tt,34963),(Pt||ut)&&(ut=!1,Et(Gt,$t,Ft,It),Tt!==null&&o.bindBuffer(34963,et.get(Tt).buffer))}function ft(){return tt.isWebGL2?o.createVertexArray():rt.createVertexArrayOES()}function dt(Gt){return tt.isWebGL2?o.bindVertexArray(Gt):rt.bindVertexArrayOES(Gt)}function vt(Gt){return tt.isWebGL2?o.deleteVertexArray(Gt):rt.deleteVertexArrayOES(Gt)}function gt(Gt,$t,Ft){const It=Ft.wireframe===!0;let Tt=st[Gt.id];Tt===void 0&&(Tt={},st[Gt.id]=Tt);let Pt=Tt[$t.id];Pt===void 0&&(Pt={},Tt[$t.id]=Pt);let Rt=Pt[It];return Rt===void 0&&(Rt=_t(ft()),Pt[It]=Rt),Rt}function _t(Gt){const $t=[],Ft=[],It=[];for(let Tt=0;Tt<nt;Tt++)$t[Tt]=0,Ft[Tt]=0,It[Tt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$t,enabledAttributes:Ft,attributeDivisors:It,object:Gt,attributes:{},index:null}}function pt(Gt,$t,Ft,It){const Tt=at.attributes,Pt=$t.attributes;let Rt=0;const Vt=Ft.getAttributes();for(const Ot in Vt)if(Vt[Ot].location>=0){const Kt=Tt[Ot];let fn=Pt[Ot];if(fn===void 0&&(Ot==="instanceMatrix"&&Gt.instanceMatrix&&(fn=Gt.instanceMatrix),Ot==="instanceColor"&&Gt.instanceColor&&(fn=Gt.instanceColor)),Kt===void 0||Kt.attribute!==fn||fn&&Kt.data!==fn.data)return!0;Rt++}return at.attributesNum!==Rt||at.index!==It}function mt(Gt,$t,Ft,It){const Tt={},Pt=$t.attributes;let Rt=0;const Vt=Ft.getAttributes();for(const Ot in Vt)if(Vt[Ot].location>=0){let Kt=Pt[Ot];Kt===void 0&&(Ot==="instanceMatrix"&&Gt.instanceMatrix&&(Kt=Gt.instanceMatrix),Ot==="instanceColor"&&Gt.instanceColor&&(Kt=Gt.instanceColor));const fn={};fn.attribute=Kt,Kt&&Kt.data&&(fn.data=Kt.data),Tt[Ot]=fn,Rt++}at.attributes=Tt,at.attributesNum=Rt,at.index=It}function yt(){const Gt=at.newAttributes;for(let $t=0,Ft=Gt.length;$t<Ft;$t++)Gt[$t]=0}function xt(Gt){bt(Gt,0)}function bt(Gt,$t){const Ft=at.newAttributes,It=at.enabledAttributes,Tt=at.attributeDivisors;Ft[Gt]=1,It[Gt]===0&&(o.enableVertexAttribArray(Gt),It[Gt]=1),Tt[Gt]!==$t&&((tt.isWebGL2?o:s.get("ANGLE_instanced_arrays"))[tt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Gt,$t),Tt[Gt]=$t)}function wt(){const Gt=at.newAttributes,$t=at.enabledAttributes;for(let Ft=0,It=$t.length;Ft<It;Ft++)$t[Ft]!==Gt[Ft]&&(o.disableVertexAttribArray(Ft),$t[Ft]=0)}function Ct(Gt,$t,Ft,It,Tt,Pt){tt.isWebGL2===!0&&(Ft===5124||Ft===5125)?o.vertexAttribIPointer(Gt,$t,Ft,Tt,Pt):o.vertexAttribPointer(Gt,$t,Ft,It,Tt,Pt)}function Et(Gt,$t,Ft,It){if(tt.isWebGL2===!1&&(Gt.isInstancedMesh||It.isInstancedBufferGeometry)&&s.get("ANGLE_instanced_arrays")===null)return;yt();const Tt=It.attributes,Pt=Ft.getAttributes(),Rt=$t.defaultAttributeValues;for(const Vt in Pt){const Ot=Pt[Vt];if(Ot.location>=0){let Xt=Tt[Vt];if(Xt===void 0&&(Vt==="instanceMatrix"&&Gt.instanceMatrix&&(Xt=Gt.instanceMatrix),Vt==="instanceColor"&&Gt.instanceColor&&(Xt=Gt.instanceColor)),Xt!==void 0){const Kt=Xt.normalized,fn=Xt.itemSize,Nt=et.get(Xt);if(Nt===void 0)continue;const vn=Nt.buffer,on=Nt.type,bn=Nt.bytesPerElement;if(Xt.isInterleavedBufferAttribute){const cn=Xt.data,xn=cn.stride,tn=Xt.offset;if(cn.isInstancedInterleavedBuffer){for(let Yt=0;Yt<Ot.locationSize;Yt++)bt(Ot.location+Yt,cn.meshPerAttribute);Gt.isInstancedMesh!==!0&&It._maxInstanceCount===void 0&&(It._maxInstanceCount=cn.meshPerAttribute*cn.count)}else for(let Yt=0;Yt<Ot.locationSize;Yt++)xt(Ot.location+Yt);o.bindBuffer(34962,vn);for(let Yt=0;Yt<Ot.locationSize;Yt++)Ct(Ot.location+Yt,fn/Ot.locationSize,on,Kt,xn*bn,(tn+fn/Ot.locationSize*Yt)*bn)}else{if(Xt.isInstancedBufferAttribute){for(let cn=0;cn<Ot.locationSize;cn++)bt(Ot.location+cn,Xt.meshPerAttribute);Gt.isInstancedMesh!==!0&&It._maxInstanceCount===void 0&&(It._maxInstanceCount=Xt.meshPerAttribute*Xt.count)}else for(let cn=0;cn<Ot.locationSize;cn++)xt(Ot.location+cn);o.bindBuffer(34962,vn);for(let cn=0;cn<Ot.locationSize;cn++)Ct(Ot.location+cn,fn/Ot.locationSize,on,Kt,fn*bn,fn/Ot.locationSize*cn*bn)}}else if(Rt!==void 0){const Kt=Rt[Vt];if(Kt!==void 0)switch(Kt.length){case 2:o.vertexAttrib2fv(Ot.location,Kt);break;case 3:o.vertexAttrib3fv(Ot.location,Kt);break;case 4:o.vertexAttrib4fv(Ot.location,Kt);break;default:o.vertexAttrib1fv(Ot.location,Kt)}}}}wt()}function kt(){Wt();for(const Gt in st){const $t=st[Gt];for(const Ft in $t){const It=$t[Ft];for(const Tt in It)vt(It[Tt].object),delete It[Tt];delete $t[Ft]}delete st[Gt]}}function Dt(Gt){if(st[Gt.id]===void 0)return;const $t=st[Gt.id];for(const Ft in $t){const It=$t[Ft];for(const Tt in It)vt(It[Tt].object),delete It[Tt];delete $t[Ft]}delete st[Gt.id]}function zt(Gt){for(const $t in st){const Ft=st[$t];if(Ft[Gt.id]===void 0)continue;const It=Ft[Gt.id];for(const Tt in It)vt(It[Tt].object),delete It[Tt];delete Ft[Gt.id]}}function Wt(){Ht(),ut=!0,at!==ot&&(at=ot,dt(at.object))}function Ht(){ot.geometry=null,ot.program=null,ot.wireframe=!1}return{setup:ht,reset:Wt,resetDefaultState:Ht,dispose:kt,releaseStatesOfGeometry:Dt,releaseStatesOfProgram:zt,initAttributes:yt,enableAttribute:xt,disableUnusedAttributes:wt}}function WebGLBufferRenderer(o,s,et,tt){const nt=tt.isWebGL2;let rt;function it(at){rt=at}function st(at,ut){o.drawArrays(rt,at,ut),et.update(ut,rt,1)}function ot(at,ut,ht){if(ht===0)return;let ft,dt;if(nt)ft=o,dt="drawArraysInstanced";else if(ft=s.get("ANGLE_instanced_arrays"),dt="drawArraysInstancedANGLE",ft===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ft[dt](rt,at,ut,ht),et.update(ut,rt,ht)}this.setMode=it,this.render=st,this.renderInstances=ot}function WebGLCapabilities(o,s,et){let tt;function nt(){if(tt!==void 0)return tt;if(s.has("EXT_texture_filter_anisotropic")===!0){const Ct=s.get("EXT_texture_filter_anisotropic");tt=o.getParameter(Ct.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else tt=0;return tt}function rt(Ct){if(Ct==="highp"){if(o.getShaderPrecisionFormat(35633,36338).precision>0&&o.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Ct="mediump"}return Ct==="mediump"&&o.getShaderPrecisionFormat(35633,36337).precision>0&&o.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const it=typeof WebGL2RenderingContext<"u"&&o instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&o instanceof WebGL2ComputeRenderingContext;let st=et.precision!==void 0?et.precision:"highp";const ot=rt(st);ot!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",ot,"instead."),st=ot);const at=it||s.has("WEBGL_draw_buffers"),ut=et.logarithmicDepthBuffer===!0,ht=o.getParameter(34930),ft=o.getParameter(35660),dt=o.getParameter(3379),vt=o.getParameter(34076),gt=o.getParameter(34921),_t=o.getParameter(36347),pt=o.getParameter(36348),mt=o.getParameter(36349),yt=ft>0,xt=it||s.has("OES_texture_float"),bt=yt&&xt,wt=it?o.getParameter(36183):0;return{isWebGL2:it,drawBuffers:at,getMaxAnisotropy:nt,getMaxPrecision:rt,precision:st,logarithmicDepthBuffer:ut,maxTextures:ht,maxVertexTextures:ft,maxTextureSize:dt,maxCubemapSize:vt,maxAttributes:gt,maxVertexUniforms:_t,maxVaryings:pt,maxFragmentUniforms:mt,vertexTextures:yt,floatFragmentTextures:xt,floatVertexTextures:bt,maxSamples:wt}}function WebGLClipping(o){const s=this;let et=null,tt=0,nt=!1,rt=!1;const it=new Plane,st=new Matrix3,ot={value:null,needsUpdate:!1};this.uniform=ot,this.numPlanes=0,this.numIntersection=0,this.init=function(ht,ft,dt){const vt=ht.length!==0||ft||tt!==0||nt;return nt=ft,et=ut(ht,dt,0),tt=ht.length,vt},this.beginShadows=function(){rt=!0,ut(null)},this.endShadows=function(){rt=!1,at()},this.setState=function(ht,ft,dt){const vt=ht.clippingPlanes,gt=ht.clipIntersection,_t=ht.clipShadows,pt=o.get(ht);if(!nt||vt===null||vt.length===0||rt&&!_t)rt?ut(null):at();else{const mt=rt?0:tt,yt=mt*4;let xt=pt.clippingState||null;ot.value=xt,xt=ut(vt,ft,yt,dt);for(let bt=0;bt!==yt;++bt)xt[bt]=et[bt];pt.clippingState=xt,this.numIntersection=gt?this.numPlanes:0,this.numPlanes+=mt}};function at(){ot.value!==et&&(ot.value=et,ot.needsUpdate=tt>0),s.numPlanes=tt,s.numIntersection=0}function ut(ht,ft,dt,vt){const gt=ht!==null?ht.length:0;let _t=null;if(gt!==0){if(_t=ot.value,vt!==!0||_t===null){const pt=dt+gt*4,mt=ft.matrixWorldInverse;st.getNormalMatrix(mt),(_t===null||_t.length<pt)&&(_t=new Float32Array(pt));for(let yt=0,xt=dt;yt!==gt;++yt,xt+=4)it.copy(ht[yt]).applyMatrix4(mt,st),it.normal.toArray(_t,xt),_t[xt+3]=it.constant}ot.value=_t,ot.needsUpdate=!0}return s.numPlanes=gt,s.numIntersection=0,_t}}function WebGLCubeMaps(o){let s=new WeakMap;function et(it,st){return st===EquirectangularReflectionMapping?it.mapping=CubeReflectionMapping:st===EquirectangularRefractionMapping&&(it.mapping=CubeRefractionMapping),it}function tt(it){if(it&&it.isTexture&&it.isRenderTargetTexture===!1){const st=it.mapping;if(st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping)if(s.has(it)){const ot=s.get(it).texture;return et(ot,it.mapping)}else{const ot=it.image;if(ot&&ot.height>0){const at=new WebGLCubeRenderTarget(ot.height/2);return at.fromEquirectangularTexture(o,it),s.set(it,at),it.addEventListener("dispose",nt),et(at.texture,it.mapping)}else return null}}return it}function nt(it){const st=it.target;st.removeEventListener("dispose",nt);const ot=s.get(st);ot!==void 0&&(s.delete(st),ot.dispose())}function rt(){s=new WeakMap}return{get:tt,dispose:rt}}class OrthographicCamera extends Camera{constructor(s=-1,et=1,tt=1,nt=-1,rt=.1,it=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=s,this.right=et,this.top=tt,this.bottom=nt,this.near=rt,this.far=it,this.updateProjectionMatrix()}copy(s,et){return super.copy(s,et),this.left=s.left,this.right=s.right,this.top=s.top,this.bottom=s.bottom,this.near=s.near,this.far=s.far,this.zoom=s.zoom,this.view=s.view===null?null:Object.assign({},s.view),this}setViewOffset(s,et,tt,nt,rt,it){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=s,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const s=(this.right-this.left)/(2*this.zoom),et=(this.top-this.bottom)/(2*this.zoom),tt=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let rt=tt-s,it=tt+s,st=nt+et,ot=nt-et;if(this.view!==null&&this.view.enabled){const at=(this.right-this.left)/this.view.fullWidth/this.zoom,ut=(this.top-this.bottom)/this.view.fullHeight/this.zoom;rt+=at*this.view.offsetX,it=rt+at*this.view.width,st-=ut*this.view.offsetY,ot=st-ut*this.view.height}this.projectionMatrix.makeOrthographic(rt,it,st,ot,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(s){const et=super.toJSON(s);return et.object.zoom=this.zoom,et.object.left=this.left,et.object.right=this.right,et.object.top=this.top,et.object.bottom=this.bottom,et.object.near=this.near,et.object.far=this.far,this.view!==null&&(et.object.view=Object.assign({},this.view)),et}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(s){this._renderer=s,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(s,et=0,tt=.1,nt=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const rt=this._allocateTargets();return rt.depthBuffer=!0,this._sceneToCubeUV(s,tt,nt,rt),et>0&&this._blur(rt,0,0,et),this._applyPMREM(rt),this._cleanup(rt),rt}fromEquirectangular(s,et=null){return this._fromTexture(s,et)}fromCubemap(s,et=null){return this._fromTexture(s,et)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(s){this._lodMax=Math.floor(Math.log2(s)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let s=0;s<this._lodPlanes.length;s++)this._lodPlanes[s].dispose()}_cleanup(s){this._renderer.setRenderTarget(_oldTarget),s.scissorTest=!1,_setViewport(s,0,0,s.width,s.height)}_fromTexture(s,et){s.mapping===CubeReflectionMapping||s.mapping===CubeRefractionMapping?this._setSize(s.image.length===0?16:s.image[0].width||s.image[0].image.width):this._setSize(s.image.width/4),_oldTarget=this._renderer.getRenderTarget();const tt=et||this._allocateTargets();return this._textureToCubeUV(s,tt),this._applyPMREM(tt),this._cleanup(tt),tt}_allocateTargets(){const s=3*Math.max(this._cubeSize,112),et=4*this._cubeSize,tt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},nt=_createRenderTarget(s,et,tt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==s){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(s,et,tt);const{_lodMax:rt}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(rt)),this._blurMaterial=_getBlurShader(rt,s,et)}return nt}_compileMaterial(s){const et=new Mesh(this._lodPlanes[0],s);this._renderer.compile(et,_flatCamera)}_sceneToCubeUV(s,et,tt,nt){const st=new PerspectiveCamera(90,1,et,tt),ot=[1,-1,1,1,1,1],at=[1,1,1,-1,-1,-1],ut=this._renderer,ht=ut.autoClear,ft=ut.toneMapping;ut.getClearColor(_clearColor),ut.toneMapping=NoToneMapping,ut.autoClear=!1;const dt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),vt=new Mesh(new BoxGeometry,dt);let gt=!1;const _t=s.background;_t?_t.isColor&&(dt.color.copy(_t),s.background=null,gt=!0):(dt.color.copy(_clearColor),gt=!0);for(let pt=0;pt<6;pt++){const mt=pt%3;mt===0?(st.up.set(0,ot[pt],0),st.lookAt(at[pt],0,0)):mt===1?(st.up.set(0,0,ot[pt]),st.lookAt(0,at[pt],0)):(st.up.set(0,ot[pt],0),st.lookAt(0,0,at[pt]));const yt=this._cubeSize;_setViewport(nt,mt*yt,pt>2?yt:0,yt,yt),ut.setRenderTarget(nt),gt&&ut.render(vt,st),ut.render(s,st)}vt.geometry.dispose(),vt.material.dispose(),ut.toneMapping=ft,ut.autoClear=ht,s.background=_t}_textureToCubeUV(s,et){const tt=this._renderer,nt=s.mapping===CubeReflectionMapping||s.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=s.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const rt=nt?this._cubemapMaterial:this._equirectMaterial,it=new Mesh(this._lodPlanes[0],rt),st=rt.uniforms;st.envMap.value=s;const ot=this._cubeSize;_setViewport(et,0,0,3*ot,2*ot),tt.setRenderTarget(et),tt.render(it,_flatCamera)}_applyPMREM(s){const et=this._renderer,tt=et.autoClear;et.autoClear=!1;for(let nt=1;nt<this._lodPlanes.length;nt++){const rt=Math.sqrt(this._sigmas[nt]*this._sigmas[nt]-this._sigmas[nt-1]*this._sigmas[nt-1]),it=_axisDirections[(nt-1)%_axisDirections.length];this._blur(s,nt-1,nt,rt,it)}et.autoClear=tt}_blur(s,et,tt,nt,rt){const it=this._pingPongRenderTarget;this._halfBlur(s,it,et,tt,nt,"latitudinal",rt),this._halfBlur(it,s,tt,tt,nt,"longitudinal",rt)}_halfBlur(s,et,tt,nt,rt,it,st){const ot=this._renderer,at=this._blurMaterial;it!=="latitudinal"&&it!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ut=3,ht=new Mesh(this._lodPlanes[nt],at),ft=at.uniforms,dt=this._sizeLods[tt]-1,vt=isFinite(rt)?Math.PI/(2*dt):2*Math.PI/(2*MAX_SAMPLES-1),gt=rt/vt,_t=isFinite(rt)?1+Math.floor(ut*gt):MAX_SAMPLES;_t>MAX_SAMPLES&&console.warn(`sigmaRadians, ${rt}, is too large and will clip, as it requested ${_t} samples when the maximum is set to ${MAX_SAMPLES}`);const pt=[];let mt=0;for(let Ct=0;Ct<MAX_SAMPLES;++Ct){const Et=Ct/gt,kt=Math.exp(-Et*Et/2);pt.push(kt),Ct===0?mt+=kt:Ct<_t&&(mt+=2*kt)}for(let Ct=0;Ct<pt.length;Ct++)pt[Ct]=pt[Ct]/mt;ft.envMap.value=s.texture,ft.samples.value=_t,ft.weights.value=pt,ft.latitudinal.value=it==="latitudinal",st&&(ft.poleAxis.value=st);const{_lodMax:yt}=this;ft.dTheta.value=vt,ft.mipInt.value=yt-tt;const xt=this._sizeLods[nt],bt=3*xt*(nt>yt-LOD_MIN?nt-yt+LOD_MIN:0),wt=4*(this._cubeSize-xt);_setViewport(et,bt,wt,3*xt,2*xt),ot.setRenderTarget(et),ot.render(ht,_flatCamera)}}function _createPlanes(o){const s=[],et=[],tt=[];let nt=o;const rt=o-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let it=0;it<rt;it++){const st=Math.pow(2,nt);et.push(st);let ot=1/st;it>o-LOD_MIN?ot=EXTRA_LOD_SIGMA[it-o+LOD_MIN-1]:it===0&&(ot=0),tt.push(ot);const at=1/(st-2),ut=-at,ht=1+at,ft=[ut,ut,ht,ut,ht,ht,ut,ut,ht,ht,ut,ht],dt=6,vt=6,gt=3,_t=2,pt=1,mt=new Float32Array(gt*vt*dt),yt=new Float32Array(_t*vt*dt),xt=new Float32Array(pt*vt*dt);for(let wt=0;wt<dt;wt++){const Ct=wt%3*2/3-1,Et=wt>2?0:-1,kt=[Ct,Et,0,Ct+2/3,Et,0,Ct+2/3,Et+1,0,Ct,Et,0,Ct+2/3,Et+1,0,Ct,Et+1,0];mt.set(kt,gt*vt*wt),yt.set(ft,_t*vt*wt);const Dt=[wt,wt,wt,wt,wt,wt];xt.set(Dt,pt*vt*wt)}const bt=new BufferGeometry;bt.setAttribute("position",new BufferAttribute(mt,gt)),bt.setAttribute("uv",new BufferAttribute(yt,_t)),bt.setAttribute("faceIndex",new BufferAttribute(xt,pt)),s.push(bt),nt>LOD_MIN&&nt--}return{lodPlanes:s,sizeLods:et,sigmas:tt}}function _createRenderTarget(o,s,et){const tt=new WebGLRenderTarget(o,s,et);return tt.texture.mapping=CubeUVReflectionMapping,tt.texture.name="PMREM.cubeUv",tt.scissorTest=!0,tt}function _setViewport(o,s,et,tt,nt){o.viewport.set(s,et,tt,nt),o.scissor.set(s,et,tt,nt)}function _getBlurShader(o,s,et){const tt=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/s,CUBEUV_TEXEL_HEIGHT:1/et,CUBEUV_MAX_MIP:`${o}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:tt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(o){let s=new WeakMap,et=null;function tt(st){if(st&&st.isTexture){const ot=st.mapping,at=ot===EquirectangularReflectionMapping||ot===EquirectangularRefractionMapping,ut=ot===CubeReflectionMapping||ot===CubeRefractionMapping;if(at||ut)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let ht=s.get(st);return et===null&&(et=new PMREMGenerator(o)),ht=at?et.fromEquirectangular(st,ht):et.fromCubemap(st,ht),s.set(st,ht),ht.texture}else{if(s.has(st))return s.get(st).texture;{const ht=st.image;if(at&&ht&&ht.height>0||ut&&ht&&nt(ht)){et===null&&(et=new PMREMGenerator(o));const ft=at?et.fromEquirectangular(st):et.fromCubemap(st);return s.set(st,ft),st.addEventListener("dispose",rt),ft.texture}else return null}}}return st}function nt(st){let ot=0;const at=6;for(let ut=0;ut<at;ut++)st[ut]!==void 0&&ot++;return ot===at}function rt(st){const ot=st.target;ot.removeEventListener("dispose",rt);const at=s.get(ot);at!==void 0&&(s.delete(ot),at.dispose())}function it(){s=new WeakMap,et!==null&&(et.dispose(),et=null)}return{get:tt,dispose:it}}function WebGLExtensions(o){const s={};function et(tt){if(s[tt]!==void 0)return s[tt];let nt;switch(tt){case"WEBGL_depth_texture":nt=o.getExtension("WEBGL_depth_texture")||o.getExtension("MOZ_WEBGL_depth_texture")||o.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=o.getExtension("WEBGL_compressed_texture_s3tc")||o.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=o.getExtension("WEBGL_compressed_texture_pvrtc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=o.getExtension(tt)}return s[tt]=nt,nt}return{has:function(tt){return et(tt)!==null},init:function(tt){tt.isWebGL2?et("EXT_color_buffer_float"):(et("WEBGL_depth_texture"),et("OES_texture_float"),et("OES_texture_half_float"),et("OES_texture_half_float_linear"),et("OES_standard_derivatives"),et("OES_element_index_uint"),et("OES_vertex_array_object"),et("ANGLE_instanced_arrays")),et("OES_texture_float_linear"),et("EXT_color_buffer_half_float"),et("WEBGL_multisampled_render_to_texture")},get:function(tt){const nt=et(tt);return nt===null&&console.warn("THREE.WebGLRenderer: "+tt+" extension not supported."),nt}}}function WebGLGeometries(o,s,et,tt){const nt={},rt=new WeakMap;function it(ht){const ft=ht.target;ft.index!==null&&s.remove(ft.index);for(const vt in ft.attributes)s.remove(ft.attributes[vt]);ft.removeEventListener("dispose",it),delete nt[ft.id];const dt=rt.get(ft);dt&&(s.remove(dt),rt.delete(ft)),tt.releaseStatesOfGeometry(ft),ft.isInstancedBufferGeometry===!0&&delete ft._maxInstanceCount,et.memory.geometries--}function st(ht,ft){return nt[ft.id]===!0||(ft.addEventListener("dispose",it),nt[ft.id]=!0,et.memory.geometries++),ft}function ot(ht){const ft=ht.attributes;for(const vt in ft)s.update(ft[vt],34962);const dt=ht.morphAttributes;for(const vt in dt){const gt=dt[vt];for(let _t=0,pt=gt.length;_t<pt;_t++)s.update(gt[_t],34962)}}function at(ht){const ft=[],dt=ht.index,vt=ht.attributes.position;let gt=0;if(dt!==null){const mt=dt.array;gt=dt.version;for(let yt=0,xt=mt.length;yt<xt;yt+=3){const bt=mt[yt+0],wt=mt[yt+1],Ct=mt[yt+2];ft.push(bt,wt,wt,Ct,Ct,bt)}}else{const mt=vt.array;gt=vt.version;for(let yt=0,xt=mt.length/3-1;yt<xt;yt+=3){const bt=yt+0,wt=yt+1,Ct=yt+2;ft.push(bt,wt,wt,Ct,Ct,bt)}}const _t=new(arrayNeedsUint32(ft)?Uint32BufferAttribute:Uint16BufferAttribute)(ft,1);_t.version=gt;const pt=rt.get(ht);pt&&s.remove(pt),rt.set(ht,_t)}function ut(ht){const ft=rt.get(ht);if(ft){const dt=ht.index;dt!==null&&ft.version<dt.version&&at(ht)}else at(ht);return rt.get(ht)}return{get:st,update:ot,getWireframeAttribute:ut}}function WebGLIndexedBufferRenderer(o,s,et,tt){const nt=tt.isWebGL2;let rt;function it(ft){rt=ft}let st,ot;function at(ft){st=ft.type,ot=ft.bytesPerElement}function ut(ft,dt){o.drawElements(rt,dt,st,ft*ot),et.update(dt,rt,1)}function ht(ft,dt,vt){if(vt===0)return;let gt,_t;if(nt)gt=o,_t="drawElementsInstanced";else if(gt=s.get("ANGLE_instanced_arrays"),_t="drawElementsInstancedANGLE",gt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}gt[_t](rt,dt,st,ft*ot,vt),et.update(dt,rt,vt)}this.setMode=it,this.setIndex=at,this.render=ut,this.renderInstances=ht}function WebGLInfo(o){const s={geometries:0,textures:0},et={frame:0,calls:0,triangles:0,points:0,lines:0};function tt(rt,it,st){switch(et.calls++,it){case 4:et.triangles+=st*(rt/3);break;case 1:et.lines+=st*(rt/2);break;case 3:et.lines+=st*(rt-1);break;case 2:et.lines+=st*rt;break;case 0:et.points+=st*rt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",it);break}}function nt(){et.frame++,et.calls=0,et.triangles=0,et.points=0,et.lines=0}return{memory:s,render:et,programs:null,autoReset:!0,reset:nt,update:tt}}function numericalSort(o,s){return o[0]-s[0]}function absNumericalSort(o,s){return Math.abs(s[1])-Math.abs(o[1])}function WebGLMorphtargets(o,s,et){const tt={},nt=new Float32Array(8),rt=new WeakMap,it=new Vector4,st=[];for(let at=0;at<8;at++)st[at]=[at,0];function ot(at,ut,ht,ft){const dt=at.morphTargetInfluences;if(s.isWebGL2===!0){const gt=ut.morphAttributes.position||ut.morphAttributes.normal||ut.morphAttributes.color,_t=gt!==void 0?gt.length:0;let pt=rt.get(ut);if(pt===void 0||pt.count!==_t){let Ft=function(){Gt.dispose(),rt.delete(ut),ut.removeEventListener("dispose",Ft)};var vt=Ft;pt!==void 0&&pt.texture.dispose();const xt=ut.morphAttributes.position!==void 0,bt=ut.morphAttributes.normal!==void 0,wt=ut.morphAttributes.color!==void 0,Ct=ut.morphAttributes.position||[],Et=ut.morphAttributes.normal||[],kt=ut.morphAttributes.color||[];let Dt=0;xt===!0&&(Dt=1),bt===!0&&(Dt=2),wt===!0&&(Dt=3);let zt=ut.attributes.position.count*Dt,Wt=1;zt>s.maxTextureSize&&(Wt=Math.ceil(zt/s.maxTextureSize),zt=s.maxTextureSize);const Ht=new Float32Array(zt*Wt*4*_t),Gt=new DataArrayTexture(Ht,zt,Wt,_t);Gt.type=FloatType,Gt.needsUpdate=!0;const $t=Dt*4;for(let It=0;It<_t;It++){const Tt=Ct[It],Pt=Et[It],Rt=kt[It],Vt=zt*Wt*4*It;for(let Ot=0;Ot<Tt.count;Ot++){const Xt=Ot*$t;xt===!0&&(it.fromBufferAttribute(Tt,Ot),Ht[Vt+Xt+0]=it.x,Ht[Vt+Xt+1]=it.y,Ht[Vt+Xt+2]=it.z,Ht[Vt+Xt+3]=0),bt===!0&&(it.fromBufferAttribute(Pt,Ot),Ht[Vt+Xt+4]=it.x,Ht[Vt+Xt+5]=it.y,Ht[Vt+Xt+6]=it.z,Ht[Vt+Xt+7]=0),wt===!0&&(it.fromBufferAttribute(Rt,Ot),Ht[Vt+Xt+8]=it.x,Ht[Vt+Xt+9]=it.y,Ht[Vt+Xt+10]=it.z,Ht[Vt+Xt+11]=Rt.itemSize===4?it.w:1)}}pt={count:_t,texture:Gt,size:new Vector2(zt,Wt)},rt.set(ut,pt),ut.addEventListener("dispose",Ft)}let mt=0;for(let xt=0;xt<dt.length;xt++)mt+=dt[xt];const yt=ut.morphTargetsRelative?1:1-mt;ft.getUniforms().setValue(o,"morphTargetBaseInfluence",yt),ft.getUniforms().setValue(o,"morphTargetInfluences",dt),ft.getUniforms().setValue(o,"morphTargetsTexture",pt.texture,et),ft.getUniforms().setValue(o,"morphTargetsTextureSize",pt.size)}else{const gt=dt===void 0?0:dt.length;let _t=tt[ut.id];if(_t===void 0||_t.length!==gt){_t=[];for(let bt=0;bt<gt;bt++)_t[bt]=[bt,0];tt[ut.id]=_t}for(let bt=0;bt<gt;bt++){const wt=_t[bt];wt[0]=bt,wt[1]=dt[bt]}_t.sort(absNumericalSort);for(let bt=0;bt<8;bt++)bt<gt&&_t[bt][1]?(st[bt][0]=_t[bt][0],st[bt][1]=_t[bt][1]):(st[bt][0]=Number.MAX_SAFE_INTEGER,st[bt][1]=0);st.sort(numericalSort);const pt=ut.morphAttributes.position,mt=ut.morphAttributes.normal;let yt=0;for(let bt=0;bt<8;bt++){const wt=st[bt],Ct=wt[0],Et=wt[1];Ct!==Number.MAX_SAFE_INTEGER&&Et?(pt&&ut.getAttribute("morphTarget"+bt)!==pt[Ct]&&ut.setAttribute("morphTarget"+bt,pt[Ct]),mt&&ut.getAttribute("morphNormal"+bt)!==mt[Ct]&&ut.setAttribute("morphNormal"+bt,mt[Ct]),nt[bt]=Et,yt+=Et):(pt&&ut.hasAttribute("morphTarget"+bt)===!0&&ut.deleteAttribute("morphTarget"+bt),mt&&ut.hasAttribute("morphNormal"+bt)===!0&&ut.deleteAttribute("morphNormal"+bt),nt[bt]=0)}const xt=ut.morphTargetsRelative?1:1-yt;ft.getUniforms().setValue(o,"morphTargetBaseInfluence",xt),ft.getUniforms().setValue(o,"morphTargetInfluences",nt)}}return{update:ot}}function WebGLObjects(o,s,et,tt){let nt=new WeakMap;function rt(ot){const at=tt.render.frame,ut=ot.geometry,ht=s.get(ot,ut);return nt.get(ht)!==at&&(s.update(ht),nt.set(ht,at)),ot.isInstancedMesh&&(ot.hasEventListener("dispose",st)===!1&&ot.addEventListener("dispose",st),et.update(ot.instanceMatrix,34962),ot.instanceColor!==null&&et.update(ot.instanceColor,34962)),ht}function it(){nt=new WeakMap}function st(ot){const at=ot.target;at.removeEventListener("dispose",st),et.remove(at.instanceMatrix),at.instanceColor!==null&&et.remove(at.instanceColor)}return{update:rt,dispose:it}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(o,s,et){const tt=o[0];if(tt<=0||tt>0)return o;const nt=s*et;let rt=arrayCacheF32[nt];if(rt===void 0&&(rt=new Float32Array(nt),arrayCacheF32[nt]=rt),s!==0){tt.toArray(rt,0);for(let it=1,st=0;it!==s;++it)st+=et,o[it].toArray(rt,st)}return rt}function arraysEqual(o,s){if(o.length!==s.length)return!1;for(let et=0,tt=o.length;et<tt;et++)if(o[et]!==s[et])return!1;return!0}function copyArray(o,s){for(let et=0,tt=s.length;et<tt;et++)o[et]=s[et]}function allocTexUnits(o,s){let et=arrayCacheI32[s];et===void 0&&(et=new Int32Array(s),arrayCacheI32[s]=et);for(let tt=0;tt!==s;++tt)et[tt]=o.allocateTextureUnit();return et}function setValueV1f(o,s){const et=this.cache;et[0]!==s&&(o.uniform1f(this.addr,s),et[0]=s)}function setValueV2f(o,s){const et=this.cache;if(s.x!==void 0)(et[0]!==s.x||et[1]!==s.y)&&(o.uniform2f(this.addr,s.x,s.y),et[0]=s.x,et[1]=s.y);else{if(arraysEqual(et,s))return;o.uniform2fv(this.addr,s),copyArray(et,s)}}function setValueV3f(o,s){const et=this.cache;if(s.x!==void 0)(et[0]!==s.x||et[1]!==s.y||et[2]!==s.z)&&(o.uniform3f(this.addr,s.x,s.y,s.z),et[0]=s.x,et[1]=s.y,et[2]=s.z);else if(s.r!==void 0)(et[0]!==s.r||et[1]!==s.g||et[2]!==s.b)&&(o.uniform3f(this.addr,s.r,s.g,s.b),et[0]=s.r,et[1]=s.g,et[2]=s.b);else{if(arraysEqual(et,s))return;o.uniform3fv(this.addr,s),copyArray(et,s)}}function setValueV4f(o,s){const et=this.cache;if(s.x!==void 0)(et[0]!==s.x||et[1]!==s.y||et[2]!==s.z||et[3]!==s.w)&&(o.uniform4f(this.addr,s.x,s.y,s.z,s.w),et[0]=s.x,et[1]=s.y,et[2]=s.z,et[3]=s.w);else{if(arraysEqual(et,s))return;o.uniform4fv(this.addr,s),copyArray(et,s)}}function setValueM2(o,s){const et=this.cache,tt=s.elements;if(tt===void 0){if(arraysEqual(et,s))return;o.uniformMatrix2fv(this.addr,!1,s),copyArray(et,s)}else{if(arraysEqual(et,tt))return;mat2array.set(tt),o.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(et,tt)}}function setValueM3(o,s){const et=this.cache,tt=s.elements;if(tt===void 0){if(arraysEqual(et,s))return;o.uniformMatrix3fv(this.addr,!1,s),copyArray(et,s)}else{if(arraysEqual(et,tt))return;mat3array.set(tt),o.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(et,tt)}}function setValueM4(o,s){const et=this.cache,tt=s.elements;if(tt===void 0){if(arraysEqual(et,s))return;o.uniformMatrix4fv(this.addr,!1,s),copyArray(et,s)}else{if(arraysEqual(et,tt))return;mat4array.set(tt),o.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(et,tt)}}function setValueV1i(o,s){const et=this.cache;et[0]!==s&&(o.uniform1i(this.addr,s),et[0]=s)}function setValueV2i(o,s){const et=this.cache;arraysEqual(et,s)||(o.uniform2iv(this.addr,s),copyArray(et,s))}function setValueV3i(o,s){const et=this.cache;arraysEqual(et,s)||(o.uniform3iv(this.addr,s),copyArray(et,s))}function setValueV4i(o,s){const et=this.cache;arraysEqual(et,s)||(o.uniform4iv(this.addr,s),copyArray(et,s))}function setValueV1ui(o,s){const et=this.cache;et[0]!==s&&(o.uniform1ui(this.addr,s),et[0]=s)}function setValueV2ui(o,s){const et=this.cache;arraysEqual(et,s)||(o.uniform2uiv(this.addr,s),copyArray(et,s))}function setValueV3ui(o,s){const et=this.cache;arraysEqual(et,s)||(o.uniform3uiv(this.addr,s),copyArray(et,s))}function setValueV4ui(o,s){const et=this.cache;arraysEqual(et,s)||(o.uniform4uiv(this.addr,s),copyArray(et,s))}function setValueT1(o,s,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(o.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture2D(s||emptyTexture,nt)}function setValueT3D1(o,s,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(o.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture3D(s||empty3dTexture,nt)}function setValueT6(o,s,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(o.uniform1i(this.addr,nt),tt[0]=nt),et.setTextureCube(s||emptyCubeTexture,nt)}function setValueT2DArray1(o,s,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(o.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture2DArray(s||emptyArrayTexture,nt)}function getSingularSetter(o){switch(o){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(o,s){o.uniform1fv(this.addr,s)}function setValueV2fArray(o,s){const et=flatten(s,this.size,2);o.uniform2fv(this.addr,et)}function setValueV3fArray(o,s){const et=flatten(s,this.size,3);o.uniform3fv(this.addr,et)}function setValueV4fArray(o,s){const et=flatten(s,this.size,4);o.uniform4fv(this.addr,et)}function setValueM2Array(o,s){const et=flatten(s,this.size,4);o.uniformMatrix2fv(this.addr,!1,et)}function setValueM3Array(o,s){const et=flatten(s,this.size,9);o.uniformMatrix3fv(this.addr,!1,et)}function setValueM4Array(o,s){const et=flatten(s,this.size,16);o.uniformMatrix4fv(this.addr,!1,et)}function setValueV1iArray(o,s){o.uniform1iv(this.addr,s)}function setValueV2iArray(o,s){o.uniform2iv(this.addr,s)}function setValueV3iArray(o,s){o.uniform3iv(this.addr,s)}function setValueV4iArray(o,s){o.uniform4iv(this.addr,s)}function setValueV1uiArray(o,s){o.uniform1uiv(this.addr,s)}function setValueV2uiArray(o,s){o.uniform2uiv(this.addr,s)}function setValueV3uiArray(o,s){o.uniform3uiv(this.addr,s)}function setValueV4uiArray(o,s){o.uniform4uiv(this.addr,s)}function setValueT1Array(o,s,et){const tt=s.length,nt=allocTexUnits(et,tt);o.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTexture2D(s[rt]||emptyTexture,nt[rt])}function setValueT3DArray(o,s,et){const tt=s.length,nt=allocTexUnits(et,tt);o.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTexture3D(s[rt]||empty3dTexture,nt[rt])}function setValueT6Array(o,s,et){const tt=s.length,nt=allocTexUnits(et,tt);o.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTextureCube(s[rt]||emptyCubeTexture,nt[rt])}function setValueT2DArrayArray(o,s,et){const tt=s.length,nt=allocTexUnits(et,tt);o.uniform1iv(this.addr,nt);for(let rt=0;rt!==tt;++rt)et.setTexture2DArray(s[rt]||emptyArrayTexture,nt[rt])}function getPureArraySetter(o){switch(o){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(s,et,tt){this.id=s,this.addr=tt,this.cache=[],this.setValue=getSingularSetter(et.type)}}class PureArrayUniform{constructor(s,et,tt){this.id=s,this.addr=tt,this.cache=[],this.size=et.size,this.setValue=getPureArraySetter(et.type)}}class StructuredUniform{constructor(s){this.id=s,this.seq=[],this.map={}}setValue(s,et,tt){const nt=this.seq;for(let rt=0,it=nt.length;rt!==it;++rt){const st=nt[rt];st.setValue(s,et[st.id],tt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(o,s){o.seq.push(s),o.map[s.id]=s}function parseUniform(o,s,et){const tt=o.name,nt=tt.length;for(RePathPart.lastIndex=0;;){const rt=RePathPart.exec(tt),it=RePathPart.lastIndex;let st=rt[1];const ot=rt[2]==="]",at=rt[3];if(ot&&(st=st|0),at===void 0||at==="["&&it+2===nt){addUniform(et,at===void 0?new SingleUniform(st,o,s):new PureArrayUniform(st,o,s));break}else{let ht=et.map[st];ht===void 0&&(ht=new StructuredUniform(st),addUniform(et,ht)),et=ht}}}class WebGLUniforms{constructor(s,et){this.seq=[],this.map={};const tt=s.getProgramParameter(et,35718);for(let nt=0;nt<tt;++nt){const rt=s.getActiveUniform(et,nt),it=s.getUniformLocation(et,rt.name);parseUniform(rt,it,this)}}setValue(s,et,tt,nt){const rt=this.map[et];rt!==void 0&&rt.setValue(s,tt,nt)}setOptional(s,et,tt){const nt=et[tt];nt!==void 0&&this.setValue(s,tt,nt)}static upload(s,et,tt,nt){for(let rt=0,it=et.length;rt!==it;++rt){const st=et[rt],ot=tt[st.id];ot.needsUpdate!==!1&&st.setValue(s,ot.value,nt)}}static seqWithValue(s,et){const tt=[];for(let nt=0,rt=s.length;nt!==rt;++nt){const it=s[nt];it.id in et&&tt.push(it)}return tt}}function WebGLShader(o,s,et){const tt=o.createShader(s);return o.shaderSource(tt,et),o.compileShader(tt),tt}let programIdCount=0;function handleSource(o,s){const et=o.split(`
`),tt=[],nt=Math.max(s-6,0),rt=Math.min(s+6,et.length);for(let it=nt;it<rt;it++){const st=it+1;tt.push(`${st===s?">":" "} ${st}: ${et[it]}`)}return tt.join(`
`)}function getEncodingComponents(o){switch(o){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",o),["Linear","( value )"]}}function getShaderErrors(o,s,et){const tt=o.getShaderParameter(s,35713),nt=o.getShaderInfoLog(s).trim();if(tt&&nt==="")return"";const rt=/ERROR: 0:(\d+)/.exec(nt);if(rt){const it=parseInt(rt[1]);return et.toUpperCase()+`

`+nt+`

`+handleSource(o.getShaderSource(s),it)}else return nt}function getTexelEncodingFunction(o,s){const et=getEncodingComponents(s);return"vec4 "+o+"( vec4 value ) { return LinearTo"+et[0]+et[1]+"; }"}function getToneMappingFunction(o,s){let et;switch(s){case LinearToneMapping:et="Linear";break;case ReinhardToneMapping:et="Reinhard";break;case CineonToneMapping:et="OptimizedCineon";break;case ACESFilmicToneMapping:et="ACESFilmic";break;case CustomToneMapping:et="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",s),et="Linear"}return"vec3 "+o+"( vec3 color ) { return "+et+"ToneMapping( color ); }"}function generateExtensions(o){return[o.extensionDerivatives||!!o.envMapCubeUVHeight||o.bumpMap||o.tangentSpaceNormalMap||o.clearcoatNormalMap||o.flatShading||o.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(o.extensionFragDepth||o.logarithmicDepthBuffer)&&o.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",o.extensionDrawBuffers&&o.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(o.extensionShaderTextureLOD||o.envMap||o.transmission)&&o.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(o){const s=[];for(const et in o){const tt=o[et];tt!==!1&&s.push("#define "+et+" "+tt)}return s.join(`
`)}function fetchAttributeLocations(o,s){const et={},tt=o.getProgramParameter(s,35721);for(let nt=0;nt<tt;nt++){const rt=o.getActiveAttrib(s,nt),it=rt.name;let st=1;rt.type===35674&&(st=2),rt.type===35675&&(st=3),rt.type===35676&&(st=4),et[it]={type:rt.type,location:o.getAttribLocation(s,it),locationSize:st}}return et}function filterEmptyLine(o){return o!==""}function replaceLightNums(o,s){const et=s.numSpotLightShadows+s.numSpotLightMaps-s.numSpotLightShadowsWithMaps;return o.replace(/NUM_DIR_LIGHTS/g,s.numDirLights).replace(/NUM_SPOT_LIGHTS/g,s.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,s.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,et).replace(/NUM_RECT_AREA_LIGHTS/g,s.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,s.numPointLights).replace(/NUM_HEMI_LIGHTS/g,s.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,s.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,s.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,s.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,s.numPointLightShadows)}function replaceClippingPlaneNums(o,s){return o.replace(/NUM_CLIPPING_PLANES/g,s.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,s.numClippingPlanes-s.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(o){return o.replace(includePattern,includeReplacer)}function includeReplacer(o,s){const et=ShaderChunk[s];if(et===void 0)throw new Error("Can not resolve #include <"+s+">");return resolveIncludes(et)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(o){return o.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(o,s,et,tt){let nt="";for(let rt=parseInt(s);rt<parseInt(et);rt++)nt+=tt.replace(/\[\s*i\s*\]/g,"[ "+rt+" ]").replace(/UNROLLED_LOOP_INDEX/g,rt);return nt}function generatePrecision(o){let s="precision "+o.precision+` float;
precision `+o.precision+" int;";return o.precision==="highp"?s+=`
#define HIGH_PRECISION`:o.precision==="mediump"?s+=`
#define MEDIUM_PRECISION`:o.precision==="lowp"&&(s+=`
#define LOW_PRECISION`),s}function generateShadowMapTypeDefine(o){let s="SHADOWMAP_TYPE_BASIC";return o.shadowMapType===PCFShadowMap?s="SHADOWMAP_TYPE_PCF":o.shadowMapType===PCFSoftShadowMap?s="SHADOWMAP_TYPE_PCF_SOFT":o.shadowMapType===VSMShadowMap&&(s="SHADOWMAP_TYPE_VSM"),s}function generateEnvMapTypeDefine(o){let s="ENVMAP_TYPE_CUBE";if(o.envMap)switch(o.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:s="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:s="ENVMAP_TYPE_CUBE_UV";break}return s}function generateEnvMapModeDefine(o){let s="ENVMAP_MODE_REFLECTION";if(o.envMap)switch(o.envMapMode){case CubeRefractionMapping:s="ENVMAP_MODE_REFRACTION";break}return s}function generateEnvMapBlendingDefine(o){let s="ENVMAP_BLENDING_NONE";if(o.envMap)switch(o.combine){case MultiplyOperation:s="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:s="ENVMAP_BLENDING_MIX";break;case AddOperation:s="ENVMAP_BLENDING_ADD";break}return s}function generateCubeUVSize(o){const s=o.envMapCubeUVHeight;if(s===null)return null;const et=Math.log2(s)-2,tt=1/s;return{texelWidth:1/(3*Math.max(Math.pow(2,et),7*16)),texelHeight:tt,maxMip:et}}function WebGLProgram(o,s,et,tt){const nt=o.getContext(),rt=et.defines;let it=et.vertexShader,st=et.fragmentShader;const ot=generateShadowMapTypeDefine(et),at=generateEnvMapTypeDefine(et),ut=generateEnvMapModeDefine(et),ht=generateEnvMapBlendingDefine(et),ft=generateCubeUVSize(et),dt=et.isWebGL2?"":generateExtensions(et),vt=generateDefines(rt),gt=nt.createProgram();let _t,pt,mt=et.glslVersion?"#version "+et.glslVersion+`
`:"";et.isRawShaderMaterial?(_t=[vt].filter(filterEmptyLine).join(`
`),_t.length>0&&(_t+=`
`),pt=[dt,vt].filter(filterEmptyLine).join(`
`),pt.length>0&&(pt+=`
`)):(_t=[generatePrecision(et),"#define SHADER_NAME "+et.shaderName,vt,et.instancing?"#define USE_INSTANCING":"",et.instancingColor?"#define USE_INSTANCING_COLOR":"",et.supportsVertexTextures?"#define VERTEX_TEXTURES":"",et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.map?"#define USE_MAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+ut:"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMap&&et.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",et.normalMap&&et.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",et.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",et.displacementMap&&et.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",et.specularColorMap?"#define USE_SPECULARCOLORMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.sheenColorMap?"#define USE_SHEENCOLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",et.vertexTangents?"#define USE_TANGENT":"",et.vertexColors?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUvs?"#define USE_UV":"",et.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",et.flatShading?"#define FLAT_SHADED":"",et.skinning?"#define USE_SKINNING":"",et.morphTargets?"#define USE_MORPHTARGETS":"",et.morphNormals&&et.flatShading===!1?"#define USE_MORPHNORMALS":"",et.morphColors&&et.isWebGL2?"#define USE_MORPHCOLORS":"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+et.morphTextureStride:"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_COUNT "+et.morphTargetsCount:"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+ot:"",et.sizeAttenuation?"#define USE_SIZEATTENUATION":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",et.logarithmicDepthBuffer&&et.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),pt=[dt,generatePrecision(et),"#define SHADER_NAME "+et.shaderName,vt,et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.map?"#define USE_MAP":"",et.matcap?"#define USE_MATCAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+at:"",et.envMap?"#define "+ut:"",et.envMap?"#define "+ht:"",ft?"#define CUBEUV_TEXEL_WIDTH "+ft.texelWidth:"",ft?"#define CUBEUV_TEXEL_HEIGHT "+ft.texelHeight:"",ft?"#define CUBEUV_MAX_MIP "+ft.maxMip+".0":"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMap&&et.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",et.normalMap&&et.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",et.clearcoat?"#define USE_CLEARCOAT":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.iridescence?"#define USE_IRIDESCENCE":"",et.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",et.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",et.specularColorMap?"#define USE_SPECULARCOLORMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.alphaTest?"#define USE_ALPHATEST":"",et.sheen?"#define USE_SHEEN":"",et.sheenColorMap?"#define USE_SHEENCOLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",et.vertexTangents?"#define USE_TANGENT":"",et.vertexColors||et.instancingColor?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUvs?"#define USE_UV":"",et.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",et.gradientMap?"#define USE_GRADIENTMAP":"",et.flatShading?"#define FLAT_SHADED":"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+ot:"",et.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",et.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",et.logarithmicDepthBuffer&&et.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",et.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",et.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",et.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",et.toneMapping):"",et.dithering?"#define DITHERING":"",et.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",et.outputEncoding),et.useDepthPacking?"#define DEPTH_PACKING "+et.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),it=resolveIncludes(it),it=replaceLightNums(it,et),it=replaceClippingPlaneNums(it,et),st=resolveIncludes(st),st=replaceLightNums(st,et),st=replaceClippingPlaneNums(st,et),it=unrollLoops(it),st=unrollLoops(st),et.isWebGL2&&et.isRawShaderMaterial!==!0&&(mt=`#version 300 es
`,_t=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_t,pt=["#define varying in",et.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",et.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+pt);const yt=mt+_t+it,xt=mt+pt+st,bt=WebGLShader(nt,35633,yt),wt=WebGLShader(nt,35632,xt);if(nt.attachShader(gt,bt),nt.attachShader(gt,wt),et.index0AttributeName!==void 0?nt.bindAttribLocation(gt,0,et.index0AttributeName):et.morphTargets===!0&&nt.bindAttribLocation(gt,0,"position"),nt.linkProgram(gt),o.debug.checkShaderErrors){const kt=nt.getProgramInfoLog(gt).trim(),Dt=nt.getShaderInfoLog(bt).trim(),zt=nt.getShaderInfoLog(wt).trim();let Wt=!0,Ht=!0;if(nt.getProgramParameter(gt,35714)===!1){Wt=!1;const Gt=getShaderErrors(nt,bt,"vertex"),$t=getShaderErrors(nt,wt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(gt,35715)+`

Program Info Log: `+kt+`
`+Gt+`
`+$t)}else kt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",kt):(Dt===""||zt==="")&&(Ht=!1);Ht&&(this.diagnostics={runnable:Wt,programLog:kt,vertexShader:{log:Dt,prefix:_t},fragmentShader:{log:zt,prefix:pt}})}nt.deleteShader(bt),nt.deleteShader(wt);let Ct;this.getUniforms=function(){return Ct===void 0&&(Ct=new WebGLUniforms(nt,gt)),Ct};let Et;return this.getAttributes=function(){return Et===void 0&&(Et=fetchAttributeLocations(nt,gt)),Et},this.destroy=function(){tt.releaseStatesOfProgram(this),nt.deleteProgram(gt),this.program=void 0},this.name=et.shaderName,this.id=programIdCount++,this.cacheKey=s,this.usedTimes=1,this.program=gt,this.vertexShader=bt,this.fragmentShader=wt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(s){const et=s.vertexShader,tt=s.fragmentShader,nt=this._getShaderStage(et),rt=this._getShaderStage(tt),it=this._getShaderCacheForMaterial(s);return it.has(nt)===!1&&(it.add(nt),nt.usedTimes++),it.has(rt)===!1&&(it.add(rt),rt.usedTimes++),this}remove(s){const et=this.materialCache.get(s);for(const tt of et)tt.usedTimes--,tt.usedTimes===0&&this.shaderCache.delete(tt.code);return this.materialCache.delete(s),this}getVertexShaderID(s){return this._getShaderStage(s.vertexShader).id}getFragmentShaderID(s){return this._getShaderStage(s.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(s){const et=this.materialCache;let tt=et.get(s);return tt===void 0&&(tt=new Set,et.set(s,tt)),tt}_getShaderStage(s){const et=this.shaderCache;let tt=et.get(s);return tt===void 0&&(tt=new WebGLShaderStage(s),et.set(s,tt)),tt}}class WebGLShaderStage{constructor(s){this.id=_id++,this.code=s,this.usedTimes=0}}function WebGLPrograms(o,s,et,tt,nt,rt,it){const st=new Layers,ot=new WebGLShaderCache,at=[],ut=nt.isWebGL2,ht=nt.logarithmicDepthBuffer,ft=nt.vertexTextures;let dt=nt.precision;const vt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function gt(Et,kt,Dt,zt,Wt){const Ht=zt.fog,Gt=Wt.geometry,$t=Et.isMeshStandardMaterial?zt.environment:null,Ft=(Et.isMeshStandardMaterial?et:s).get(Et.envMap||$t),It=!!Ft&&Ft.mapping===CubeUVReflectionMapping?Ft.image.height:null,Tt=vt[Et.type];Et.precision!==null&&(dt=nt.getMaxPrecision(Et.precision),dt!==Et.precision&&console.warn("THREE.WebGLProgram.getParameters:",Et.precision,"not supported, using",dt,"instead."));const Pt=Gt.morphAttributes.position||Gt.morphAttributes.normal||Gt.morphAttributes.color,Rt=Pt!==void 0?Pt.length:0;let Vt=0;Gt.morphAttributes.position!==void 0&&(Vt=1),Gt.morphAttributes.normal!==void 0&&(Vt=2),Gt.morphAttributes.color!==void 0&&(Vt=3);let Ot,Xt,Kt,fn;if(Tt){const xn=ShaderLib[Tt];Ot=xn.vertexShader,Xt=xn.fragmentShader}else Ot=Et.vertexShader,Xt=Et.fragmentShader,ot.update(Et),Kt=ot.getVertexShaderID(Et),fn=ot.getFragmentShaderID(Et);const Nt=o.getRenderTarget(),vn=Et.alphaTest>0,on=Et.clearcoat>0,bn=Et.iridescence>0;return{isWebGL2:ut,shaderID:Tt,shaderName:Et.type,vertexShader:Ot,fragmentShader:Xt,defines:Et.defines,customVertexShaderID:Kt,customFragmentShaderID:fn,isRawShaderMaterial:Et.isRawShaderMaterial===!0,glslVersion:Et.glslVersion,precision:dt,instancing:Wt.isInstancedMesh===!0,instancingColor:Wt.isInstancedMesh===!0&&Wt.instanceColor!==null,supportsVertexTextures:ft,outputEncoding:Nt===null?o.outputEncoding:Nt.isXRRenderTarget===!0?Nt.texture.encoding:LinearEncoding,map:!!Et.map,matcap:!!Et.matcap,envMap:!!Ft,envMapMode:Ft&&Ft.mapping,envMapCubeUVHeight:It,lightMap:!!Et.lightMap,aoMap:!!Et.aoMap,emissiveMap:!!Et.emissiveMap,bumpMap:!!Et.bumpMap,normalMap:!!Et.normalMap,objectSpaceNormalMap:Et.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:Et.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!Et.map&&Et.map.isVideoTexture===!0&&Et.map.encoding===sRGBEncoding,clearcoat:on,clearcoatMap:on&&!!Et.clearcoatMap,clearcoatRoughnessMap:on&&!!Et.clearcoatRoughnessMap,clearcoatNormalMap:on&&!!Et.clearcoatNormalMap,iridescence:bn,iridescenceMap:bn&&!!Et.iridescenceMap,iridescenceThicknessMap:bn&&!!Et.iridescenceThicknessMap,displacementMap:!!Et.displacementMap,roughnessMap:!!Et.roughnessMap,metalnessMap:!!Et.metalnessMap,specularMap:!!Et.specularMap,specularIntensityMap:!!Et.specularIntensityMap,specularColorMap:!!Et.specularColorMap,opaque:Et.transparent===!1&&Et.blending===NormalBlending,alphaMap:!!Et.alphaMap,alphaTest:vn,gradientMap:!!Et.gradientMap,sheen:Et.sheen>0,sheenColorMap:!!Et.sheenColorMap,sheenRoughnessMap:!!Et.sheenRoughnessMap,transmission:Et.transmission>0,transmissionMap:!!Et.transmissionMap,thicknessMap:!!Et.thicknessMap,combine:Et.combine,vertexTangents:!!Et.normalMap&&!!Gt.attributes.tangent,vertexColors:Et.vertexColors,vertexAlphas:Et.vertexColors===!0&&!!Gt.attributes.color&&Gt.attributes.color.itemSize===4,vertexUvs:!!Et.map||!!Et.bumpMap||!!Et.normalMap||!!Et.specularMap||!!Et.alphaMap||!!Et.emissiveMap||!!Et.roughnessMap||!!Et.metalnessMap||!!Et.clearcoatMap||!!Et.clearcoatRoughnessMap||!!Et.clearcoatNormalMap||!!Et.iridescenceMap||!!Et.iridescenceThicknessMap||!!Et.displacementMap||!!Et.transmissionMap||!!Et.thicknessMap||!!Et.specularIntensityMap||!!Et.specularColorMap||!!Et.sheenColorMap||!!Et.sheenRoughnessMap,uvsVertexOnly:!(!!Et.map||!!Et.bumpMap||!!Et.normalMap||!!Et.specularMap||!!Et.alphaMap||!!Et.emissiveMap||!!Et.roughnessMap||!!Et.metalnessMap||!!Et.clearcoatNormalMap||!!Et.iridescenceMap||!!Et.iridescenceThicknessMap||Et.transmission>0||!!Et.transmissionMap||!!Et.thicknessMap||!!Et.specularIntensityMap||!!Et.specularColorMap||Et.sheen>0||!!Et.sheenColorMap||!!Et.sheenRoughnessMap)&&!!Et.displacementMap,fog:!!Ht,useFog:Et.fog===!0,fogExp2:Ht&&Ht.isFogExp2,flatShading:!!Et.flatShading,sizeAttenuation:Et.sizeAttenuation,logarithmicDepthBuffer:ht,skinning:Wt.isSkinnedMesh===!0,morphTargets:Gt.morphAttributes.position!==void 0,morphNormals:Gt.morphAttributes.normal!==void 0,morphColors:Gt.morphAttributes.color!==void 0,morphTargetsCount:Rt,morphTextureStride:Vt,numDirLights:kt.directional.length,numPointLights:kt.point.length,numSpotLights:kt.spot.length,numSpotLightMaps:kt.spotLightMap.length,numRectAreaLights:kt.rectArea.length,numHemiLights:kt.hemi.length,numDirLightShadows:kt.directionalShadowMap.length,numPointLightShadows:kt.pointShadowMap.length,numSpotLightShadows:kt.spotShadowMap.length,numSpotLightShadowsWithMaps:kt.numSpotLightShadowsWithMaps,numClippingPlanes:it.numPlanes,numClipIntersection:it.numIntersection,dithering:Et.dithering,shadowMapEnabled:o.shadowMap.enabled&&Dt.length>0,shadowMapType:o.shadowMap.type,toneMapping:Et.toneMapped?o.toneMapping:NoToneMapping,physicallyCorrectLights:o.physicallyCorrectLights,premultipliedAlpha:Et.premultipliedAlpha,doubleSided:Et.side===DoubleSide,flipSided:Et.side===BackSide,useDepthPacking:!!Et.depthPacking,depthPacking:Et.depthPacking||0,index0AttributeName:Et.index0AttributeName,extensionDerivatives:Et.extensions&&Et.extensions.derivatives,extensionFragDepth:Et.extensions&&Et.extensions.fragDepth,extensionDrawBuffers:Et.extensions&&Et.extensions.drawBuffers,extensionShaderTextureLOD:Et.extensions&&Et.extensions.shaderTextureLOD,rendererExtensionFragDepth:ut||tt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ut||tt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ut||tt.has("EXT_shader_texture_lod"),customProgramCacheKey:Et.customProgramCacheKey()}}function _t(Et){const kt=[];if(Et.shaderID?kt.push(Et.shaderID):(kt.push(Et.customVertexShaderID),kt.push(Et.customFragmentShaderID)),Et.defines!==void 0)for(const Dt in Et.defines)kt.push(Dt),kt.push(Et.defines[Dt]);return Et.isRawShaderMaterial===!1&&(pt(kt,Et),mt(kt,Et),kt.push(o.outputEncoding)),kt.push(Et.customProgramCacheKey),kt.join()}function pt(Et,kt){Et.push(kt.precision),Et.push(kt.outputEncoding),Et.push(kt.envMapMode),Et.push(kt.envMapCubeUVHeight),Et.push(kt.combine),Et.push(kt.vertexUvs),Et.push(kt.fogExp2),Et.push(kt.sizeAttenuation),Et.push(kt.morphTargetsCount),Et.push(kt.morphAttributeCount),Et.push(kt.numDirLights),Et.push(kt.numPointLights),Et.push(kt.numSpotLights),Et.push(kt.numSpotLightMaps),Et.push(kt.numHemiLights),Et.push(kt.numRectAreaLights),Et.push(kt.numDirLightShadows),Et.push(kt.numPointLightShadows),Et.push(kt.numSpotLightShadows),Et.push(kt.numSpotLightShadowsWithMaps),Et.push(kt.shadowMapType),Et.push(kt.toneMapping),Et.push(kt.numClippingPlanes),Et.push(kt.numClipIntersection),Et.push(kt.depthPacking)}function mt(Et,kt){st.disableAll(),kt.isWebGL2&&st.enable(0),kt.supportsVertexTextures&&st.enable(1),kt.instancing&&st.enable(2),kt.instancingColor&&st.enable(3),kt.map&&st.enable(4),kt.matcap&&st.enable(5),kt.envMap&&st.enable(6),kt.lightMap&&st.enable(7),kt.aoMap&&st.enable(8),kt.emissiveMap&&st.enable(9),kt.bumpMap&&st.enable(10),kt.normalMap&&st.enable(11),kt.objectSpaceNormalMap&&st.enable(12),kt.tangentSpaceNormalMap&&st.enable(13),kt.clearcoat&&st.enable(14),kt.clearcoatMap&&st.enable(15),kt.clearcoatRoughnessMap&&st.enable(16),kt.clearcoatNormalMap&&st.enable(17),kt.iridescence&&st.enable(18),kt.iridescenceMap&&st.enable(19),kt.iridescenceThicknessMap&&st.enable(20),kt.displacementMap&&st.enable(21),kt.specularMap&&st.enable(22),kt.roughnessMap&&st.enable(23),kt.metalnessMap&&st.enable(24),kt.gradientMap&&st.enable(25),kt.alphaMap&&st.enable(26),kt.alphaTest&&st.enable(27),kt.vertexColors&&st.enable(28),kt.vertexAlphas&&st.enable(29),kt.vertexUvs&&st.enable(30),kt.vertexTangents&&st.enable(31),kt.uvsVertexOnly&&st.enable(32),Et.push(st.mask),st.disableAll(),kt.fog&&st.enable(0),kt.useFog&&st.enable(1),kt.flatShading&&st.enable(2),kt.logarithmicDepthBuffer&&st.enable(3),kt.skinning&&st.enable(4),kt.morphTargets&&st.enable(5),kt.morphNormals&&st.enable(6),kt.morphColors&&st.enable(7),kt.premultipliedAlpha&&st.enable(8),kt.shadowMapEnabled&&st.enable(9),kt.physicallyCorrectLights&&st.enable(10),kt.doubleSided&&st.enable(11),kt.flipSided&&st.enable(12),kt.useDepthPacking&&st.enable(13),kt.dithering&&st.enable(14),kt.specularIntensityMap&&st.enable(15),kt.specularColorMap&&st.enable(16),kt.transmission&&st.enable(17),kt.transmissionMap&&st.enable(18),kt.thicknessMap&&st.enable(19),kt.sheen&&st.enable(20),kt.sheenColorMap&&st.enable(21),kt.sheenRoughnessMap&&st.enable(22),kt.decodeVideoTexture&&st.enable(23),kt.opaque&&st.enable(24),Et.push(st.mask)}function yt(Et){const kt=vt[Et.type];let Dt;if(kt){const zt=ShaderLib[kt];Dt=UniformsUtils.clone(zt.uniforms)}else Dt=Et.uniforms;return Dt}function xt(Et,kt){let Dt;for(let zt=0,Wt=at.length;zt<Wt;zt++){const Ht=at[zt];if(Ht.cacheKey===kt){Dt=Ht,++Dt.usedTimes;break}}return Dt===void 0&&(Dt=new WebGLProgram(o,kt,Et,rt),at.push(Dt)),Dt}function bt(Et){if(--Et.usedTimes===0){const kt=at.indexOf(Et);at[kt]=at[at.length-1],at.pop(),Et.destroy()}}function wt(Et){ot.remove(Et)}function Ct(){ot.dispose()}return{getParameters:gt,getProgramCacheKey:_t,getUniforms:yt,acquireProgram:xt,releaseProgram:bt,releaseShaderCache:wt,programs:at,dispose:Ct}}function WebGLProperties(){let o=new WeakMap;function s(rt){let it=o.get(rt);return it===void 0&&(it={},o.set(rt,it)),it}function et(rt){o.delete(rt)}function tt(rt,it,st){o.get(rt)[it]=st}function nt(){o=new WeakMap}return{get:s,remove:et,update:tt,dispose:nt}}function painterSortStable(o,s){return o.groupOrder!==s.groupOrder?o.groupOrder-s.groupOrder:o.renderOrder!==s.renderOrder?o.renderOrder-s.renderOrder:o.material.id!==s.material.id?o.material.id-s.material.id:o.z!==s.z?o.z-s.z:o.id-s.id}function reversePainterSortStable(o,s){return o.groupOrder!==s.groupOrder?o.groupOrder-s.groupOrder:o.renderOrder!==s.renderOrder?o.renderOrder-s.renderOrder:o.z!==s.z?s.z-o.z:o.id-s.id}function WebGLRenderList(){const o=[];let s=0;const et=[],tt=[],nt=[];function rt(){s=0,et.length=0,tt.length=0,nt.length=0}function it(ht,ft,dt,vt,gt,_t){let pt=o[s];return pt===void 0?(pt={id:ht.id,object:ht,geometry:ft,material:dt,groupOrder:vt,renderOrder:ht.renderOrder,z:gt,group:_t},o[s]=pt):(pt.id=ht.id,pt.object=ht,pt.geometry=ft,pt.material=dt,pt.groupOrder=vt,pt.renderOrder=ht.renderOrder,pt.z=gt,pt.group=_t),s++,pt}function st(ht,ft,dt,vt,gt,_t){const pt=it(ht,ft,dt,vt,gt,_t);dt.transmission>0?tt.push(pt):dt.transparent===!0?nt.push(pt):et.push(pt)}function ot(ht,ft,dt,vt,gt,_t){const pt=it(ht,ft,dt,vt,gt,_t);dt.transmission>0?tt.unshift(pt):dt.transparent===!0?nt.unshift(pt):et.unshift(pt)}function at(ht,ft){et.length>1&&et.sort(ht||painterSortStable),tt.length>1&&tt.sort(ft||reversePainterSortStable),nt.length>1&&nt.sort(ft||reversePainterSortStable)}function ut(){for(let ht=s,ft=o.length;ht<ft;ht++){const dt=o[ht];if(dt.id===null)break;dt.id=null,dt.object=null,dt.geometry=null,dt.material=null,dt.group=null}}return{opaque:et,transmissive:tt,transparent:nt,init:rt,push:st,unshift:ot,finish:ut,sort:at}}function WebGLRenderLists(){let o=new WeakMap;function s(tt,nt){const rt=o.get(tt);let it;return rt===void 0?(it=new WebGLRenderList,o.set(tt,[it])):nt>=rt.length?(it=new WebGLRenderList,rt.push(it)):it=rt[nt],it}function et(){o=new WeakMap}return{get:s,dispose:et}}function UniformsCache(){const o={};return{get:function(s){if(o[s.id]!==void 0)return o[s.id];let et;switch(s.type){case"DirectionalLight":et={direction:new Vector3,color:new Color};break;case"SpotLight":et={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":et={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":et={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":et={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return o[s.id]=et,et}}}function ShadowUniformsCache(){const o={};return{get:function(s){if(o[s.id]!==void 0)return o[s.id];let et;switch(s.type){case"DirectionalLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return o[s.id]=et,et}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(o,s){return(s.castShadow?2:0)-(o.castShadow?2:0)+(s.map?1:0)-(o.map?1:0)}function WebGLLights(o,s){const et=new UniformsCache,tt=ShadowUniformsCache(),nt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let ut=0;ut<9;ut++)nt.probe.push(new Vector3);const rt=new Vector3,it=new Matrix4,st=new Matrix4;function ot(ut,ht){let ft=0,dt=0,vt=0;for(let zt=0;zt<9;zt++)nt.probe[zt].set(0,0,0);let gt=0,_t=0,pt=0,mt=0,yt=0,xt=0,bt=0,wt=0,Ct=0,Et=0;ut.sort(shadowCastingAndTexturingLightsFirst);const kt=ht!==!0?Math.PI:1;for(let zt=0,Wt=ut.length;zt<Wt;zt++){const Ht=ut[zt],Gt=Ht.color,$t=Ht.intensity,Ft=Ht.distance,It=Ht.shadow&&Ht.shadow.map?Ht.shadow.map.texture:null;if(Ht.isAmbientLight)ft+=Gt.r*$t*kt,dt+=Gt.g*$t*kt,vt+=Gt.b*$t*kt;else if(Ht.isLightProbe)for(let Tt=0;Tt<9;Tt++)nt.probe[Tt].addScaledVector(Ht.sh.coefficients[Tt],$t);else if(Ht.isDirectionalLight){const Tt=et.get(Ht);if(Tt.color.copy(Ht.color).multiplyScalar(Ht.intensity*kt),Ht.castShadow){const Pt=Ht.shadow,Rt=tt.get(Ht);Rt.shadowBias=Pt.bias,Rt.shadowNormalBias=Pt.normalBias,Rt.shadowRadius=Pt.radius,Rt.shadowMapSize=Pt.mapSize,nt.directionalShadow[gt]=Rt,nt.directionalShadowMap[gt]=It,nt.directionalShadowMatrix[gt]=Ht.shadow.matrix,xt++}nt.directional[gt]=Tt,gt++}else if(Ht.isSpotLight){const Tt=et.get(Ht);Tt.position.setFromMatrixPosition(Ht.matrixWorld),Tt.color.copy(Gt).multiplyScalar($t*kt),Tt.distance=Ft,Tt.coneCos=Math.cos(Ht.angle),Tt.penumbraCos=Math.cos(Ht.angle*(1-Ht.penumbra)),Tt.decay=Ht.decay,nt.spot[pt]=Tt;const Pt=Ht.shadow;if(Ht.map&&(nt.spotLightMap[Ct]=Ht.map,Ct++,Pt.updateMatrices(Ht),Ht.castShadow&&Et++),nt.spotLightMatrix[pt]=Pt.matrix,Ht.castShadow){const Rt=tt.get(Ht);Rt.shadowBias=Pt.bias,Rt.shadowNormalBias=Pt.normalBias,Rt.shadowRadius=Pt.radius,Rt.shadowMapSize=Pt.mapSize,nt.spotShadow[pt]=Rt,nt.spotShadowMap[pt]=It,wt++}pt++}else if(Ht.isRectAreaLight){const Tt=et.get(Ht);Tt.color.copy(Gt).multiplyScalar($t),Tt.halfWidth.set(Ht.width*.5,0,0),Tt.halfHeight.set(0,Ht.height*.5,0),nt.rectArea[mt]=Tt,mt++}else if(Ht.isPointLight){const Tt=et.get(Ht);if(Tt.color.copy(Ht.color).multiplyScalar(Ht.intensity*kt),Tt.distance=Ht.distance,Tt.decay=Ht.decay,Ht.castShadow){const Pt=Ht.shadow,Rt=tt.get(Ht);Rt.shadowBias=Pt.bias,Rt.shadowNormalBias=Pt.normalBias,Rt.shadowRadius=Pt.radius,Rt.shadowMapSize=Pt.mapSize,Rt.shadowCameraNear=Pt.camera.near,Rt.shadowCameraFar=Pt.camera.far,nt.pointShadow[_t]=Rt,nt.pointShadowMap[_t]=It,nt.pointShadowMatrix[_t]=Ht.shadow.matrix,bt++}nt.point[_t]=Tt,_t++}else if(Ht.isHemisphereLight){const Tt=et.get(Ht);Tt.skyColor.copy(Ht.color).multiplyScalar($t*kt),Tt.groundColor.copy(Ht.groundColor).multiplyScalar($t*kt),nt.hemi[yt]=Tt,yt++}}mt>0&&(s.isWebGL2||o.has("OES_texture_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,nt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):o.has("OES_texture_half_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_HALF_1,nt.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),nt.ambient[0]=ft,nt.ambient[1]=dt,nt.ambient[2]=vt;const Dt=nt.hash;(Dt.directionalLength!==gt||Dt.pointLength!==_t||Dt.spotLength!==pt||Dt.rectAreaLength!==mt||Dt.hemiLength!==yt||Dt.numDirectionalShadows!==xt||Dt.numPointShadows!==bt||Dt.numSpotShadows!==wt||Dt.numSpotMaps!==Ct)&&(nt.directional.length=gt,nt.spot.length=pt,nt.rectArea.length=mt,nt.point.length=_t,nt.hemi.length=yt,nt.directionalShadow.length=xt,nt.directionalShadowMap.length=xt,nt.pointShadow.length=bt,nt.pointShadowMap.length=bt,nt.spotShadow.length=wt,nt.spotShadowMap.length=wt,nt.directionalShadowMatrix.length=xt,nt.pointShadowMatrix.length=bt,nt.spotLightMatrix.length=wt+Ct-Et,nt.spotLightMap.length=Ct,nt.numSpotLightShadowsWithMaps=Et,Dt.directionalLength=gt,Dt.pointLength=_t,Dt.spotLength=pt,Dt.rectAreaLength=mt,Dt.hemiLength=yt,Dt.numDirectionalShadows=xt,Dt.numPointShadows=bt,Dt.numSpotShadows=wt,Dt.numSpotMaps=Ct,nt.version=nextVersion++)}function at(ut,ht){let ft=0,dt=0,vt=0,gt=0,_t=0;const pt=ht.matrixWorldInverse;for(let mt=0,yt=ut.length;mt<yt;mt++){const xt=ut[mt];if(xt.isDirectionalLight){const bt=nt.directional[ft];bt.direction.setFromMatrixPosition(xt.matrixWorld),rt.setFromMatrixPosition(xt.target.matrixWorld),bt.direction.sub(rt),bt.direction.transformDirection(pt),ft++}else if(xt.isSpotLight){const bt=nt.spot[vt];bt.position.setFromMatrixPosition(xt.matrixWorld),bt.position.applyMatrix4(pt),bt.direction.setFromMatrixPosition(xt.matrixWorld),rt.setFromMatrixPosition(xt.target.matrixWorld),bt.direction.sub(rt),bt.direction.transformDirection(pt),vt++}else if(xt.isRectAreaLight){const bt=nt.rectArea[gt];bt.position.setFromMatrixPosition(xt.matrixWorld),bt.position.applyMatrix4(pt),st.identity(),it.copy(xt.matrixWorld),it.premultiply(pt),st.extractRotation(it),bt.halfWidth.set(xt.width*.5,0,0),bt.halfHeight.set(0,xt.height*.5,0),bt.halfWidth.applyMatrix4(st),bt.halfHeight.applyMatrix4(st),gt++}else if(xt.isPointLight){const bt=nt.point[dt];bt.position.setFromMatrixPosition(xt.matrixWorld),bt.position.applyMatrix4(pt),dt++}else if(xt.isHemisphereLight){const bt=nt.hemi[_t];bt.direction.setFromMatrixPosition(xt.matrixWorld),bt.direction.transformDirection(pt),_t++}}}return{setup:ot,setupView:at,state:nt}}function WebGLRenderState(o,s){const et=new WebGLLights(o,s),tt=[],nt=[];function rt(){tt.length=0,nt.length=0}function it(ht){tt.push(ht)}function st(ht){nt.push(ht)}function ot(ht){et.setup(tt,ht)}function at(ht){et.setupView(tt,ht)}return{init:rt,state:{lightsArray:tt,shadowsArray:nt,lights:et},setupLights:ot,setupLightsView:at,pushLight:it,pushShadow:st}}function WebGLRenderStates(o,s){let et=new WeakMap;function tt(rt,it=0){const st=et.get(rt);let ot;return st===void 0?(ot=new WebGLRenderState(o,s),et.set(rt,[ot])):it>=st.length?(ot=new WebGLRenderState(o,s),st.push(ot)):ot=st[it],ot}function nt(){et=new WeakMap}return{get:tt,dispose:nt}}class MeshDepthMaterial extends Material{constructor(s){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(s)}copy(s){return super.copy(s),this.depthPacking=s.depthPacking,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(s){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(s)}copy(s){return super.copy(s),this.referencePosition.copy(s.referencePosition),this.nearDistance=s.nearDistance,this.farDistance=s.farDistance,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(o,s,et){let tt=new Frustum;const nt=new Vector2,rt=new Vector2,it=new Vector4,st=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),ot=new MeshDistanceMaterial,at={},ut=et.maxTextureSize,ht={0:BackSide,1:FrontSide,2:DoubleSide},ft=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),dt=ft.clone();dt.defines.HORIZONTAL_PASS=1;const vt=new BufferGeometry;vt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const gt=new Mesh(vt,ft),_t=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(xt,bt,wt){if(_t.enabled===!1||_t.autoUpdate===!1&&_t.needsUpdate===!1||xt.length===0)return;const Ct=o.getRenderTarget(),Et=o.getActiveCubeFace(),kt=o.getActiveMipmapLevel(),Dt=o.state;Dt.setBlending(NoBlending),Dt.buffers.color.setClear(1,1,1,1),Dt.buffers.depth.setTest(!0),Dt.setScissorTest(!1);for(let zt=0,Wt=xt.length;zt<Wt;zt++){const Ht=xt[zt],Gt=Ht.shadow;if(Gt===void 0){console.warn("THREE.WebGLShadowMap:",Ht,"has no shadow.");continue}if(Gt.autoUpdate===!1&&Gt.needsUpdate===!1)continue;nt.copy(Gt.mapSize);const $t=Gt.getFrameExtents();if(nt.multiply($t),rt.copy(Gt.mapSize),(nt.x>ut||nt.y>ut)&&(nt.x>ut&&(rt.x=Math.floor(ut/$t.x),nt.x=rt.x*$t.x,Gt.mapSize.x=rt.x),nt.y>ut&&(rt.y=Math.floor(ut/$t.y),nt.y=rt.y*$t.y,Gt.mapSize.y=rt.y)),Gt.map===null){const It=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Gt.map=new WebGLRenderTarget(nt.x,nt.y,It),Gt.map.texture.name=Ht.name+".shadowMap",Gt.camera.updateProjectionMatrix()}o.setRenderTarget(Gt.map),o.clear();const Ft=Gt.getViewportCount();for(let It=0;It<Ft;It++){const Tt=Gt.getViewport(It);it.set(rt.x*Tt.x,rt.y*Tt.y,rt.x*Tt.z,rt.y*Tt.w),Dt.viewport(it),Gt.updateMatrices(Ht,It),tt=Gt.getFrustum(),yt(bt,wt,Gt.camera,Ht,this.type)}Gt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&pt(Gt,wt),Gt.needsUpdate=!1}_t.needsUpdate=!1,o.setRenderTarget(Ct,Et,kt)};function pt(xt,bt){const wt=s.update(gt);ft.defines.VSM_SAMPLES!==xt.blurSamples&&(ft.defines.VSM_SAMPLES=xt.blurSamples,dt.defines.VSM_SAMPLES=xt.blurSamples,ft.needsUpdate=!0,dt.needsUpdate=!0),xt.mapPass===null&&(xt.mapPass=new WebGLRenderTarget(nt.x,nt.y)),ft.uniforms.shadow_pass.value=xt.map.texture,ft.uniforms.resolution.value=xt.mapSize,ft.uniforms.radius.value=xt.radius,o.setRenderTarget(xt.mapPass),o.clear(),o.renderBufferDirect(bt,null,wt,ft,gt,null),dt.uniforms.shadow_pass.value=xt.mapPass.texture,dt.uniforms.resolution.value=xt.mapSize,dt.uniforms.radius.value=xt.radius,o.setRenderTarget(xt.map),o.clear(),o.renderBufferDirect(bt,null,wt,dt,gt,null)}function mt(xt,bt,wt,Ct,Et,kt){let Dt=null;const zt=wt.isPointLight===!0?xt.customDistanceMaterial:xt.customDepthMaterial;if(zt!==void 0?Dt=zt:Dt=wt.isPointLight===!0?ot:st,o.localClippingEnabled&&bt.clipShadows===!0&&Array.isArray(bt.clippingPlanes)&&bt.clippingPlanes.length!==0||bt.displacementMap&&bt.displacementScale!==0||bt.alphaMap&&bt.alphaTest>0){const Wt=Dt.uuid,Ht=bt.uuid;let Gt=at[Wt];Gt===void 0&&(Gt={},at[Wt]=Gt);let $t=Gt[Ht];$t===void 0&&($t=Dt.clone(),Gt[Ht]=$t),Dt=$t}return Dt.visible=bt.visible,Dt.wireframe=bt.wireframe,kt===VSMShadowMap?Dt.side=bt.shadowSide!==null?bt.shadowSide:bt.side:Dt.side=bt.shadowSide!==null?bt.shadowSide:ht[bt.side],Dt.alphaMap=bt.alphaMap,Dt.alphaTest=bt.alphaTest,Dt.clipShadows=bt.clipShadows,Dt.clippingPlanes=bt.clippingPlanes,Dt.clipIntersection=bt.clipIntersection,Dt.displacementMap=bt.displacementMap,Dt.displacementScale=bt.displacementScale,Dt.displacementBias=bt.displacementBias,Dt.wireframeLinewidth=bt.wireframeLinewidth,Dt.linewidth=bt.linewidth,wt.isPointLight===!0&&Dt.isMeshDistanceMaterial===!0&&(Dt.referencePosition.setFromMatrixPosition(wt.matrixWorld),Dt.nearDistance=Ct,Dt.farDistance=Et),Dt}function yt(xt,bt,wt,Ct,Et){if(xt.visible===!1)return;if(xt.layers.test(bt.layers)&&(xt.isMesh||xt.isLine||xt.isPoints)&&(xt.castShadow||xt.receiveShadow&&Et===VSMShadowMap)&&(!xt.frustumCulled||tt.intersectsObject(xt))){xt.modelViewMatrix.multiplyMatrices(wt.matrixWorldInverse,xt.matrixWorld);const zt=s.update(xt),Wt=xt.material;if(Array.isArray(Wt)){const Ht=zt.groups;for(let Gt=0,$t=Ht.length;Gt<$t;Gt++){const Ft=Ht[Gt],It=Wt[Ft.materialIndex];if(It&&It.visible){const Tt=mt(xt,It,Ct,wt.near,wt.far,Et);o.renderBufferDirect(wt,null,zt,Tt,xt,Ft)}}}else if(Wt.visible){const Ht=mt(xt,Wt,Ct,wt.near,wt.far,Et);o.renderBufferDirect(wt,null,zt,Ht,xt,null)}}const Dt=xt.children;for(let zt=0,Wt=Dt.length;zt<Wt;zt++)yt(Dt[zt],bt,wt,Ct,Et)}}function WebGLState(o,s,et){const tt=et.isWebGL2;function nt(){let en=!1;const Rn=new Vector4;let hn=null;const kn=new Vector4(0,0,0,0);return{setMask:function(Pn){hn!==Pn&&!en&&(o.colorMask(Pn,Pn,Pn,Pn),hn=Pn)},setLocked:function(Pn){en=Pn},setClear:function(Pn,rr,br,dr,as){as===!0&&(Pn*=dr,rr*=dr,br*=dr),Rn.set(Pn,rr,br,dr),kn.equals(Rn)===!1&&(o.clearColor(Pn,rr,br,dr),kn.copy(Rn))},reset:function(){en=!1,hn=null,kn.set(-1,0,0,0)}}}function rt(){let en=!1,Rn=null,hn=null,kn=null;return{setTest:function(Pn){Pn?vn(2929):on(2929)},setMask:function(Pn){Rn!==Pn&&!en&&(o.depthMask(Pn),Rn=Pn)},setFunc:function(Pn){if(hn!==Pn){if(Pn)switch(Pn){case NeverDepth:o.depthFunc(512);break;case AlwaysDepth:o.depthFunc(519);break;case LessDepth:o.depthFunc(513);break;case LessEqualDepth:o.depthFunc(515);break;case EqualDepth:o.depthFunc(514);break;case GreaterEqualDepth:o.depthFunc(518);break;case GreaterDepth:o.depthFunc(516);break;case NotEqualDepth:o.depthFunc(517);break;default:o.depthFunc(515)}else o.depthFunc(515);hn=Pn}},setLocked:function(Pn){en=Pn},setClear:function(Pn){kn!==Pn&&(o.clearDepth(Pn),kn=Pn)},reset:function(){en=!1,Rn=null,hn=null,kn=null}}}function it(){let en=!1,Rn=null,hn=null,kn=null,Pn=null,rr=null,br=null,dr=null,as=null;return{setTest:function(pr){en||(pr?vn(2960):on(2960))},setMask:function(pr){Rn!==pr&&!en&&(o.stencilMask(pr),Rn=pr)},setFunc:function(pr,Xr,Fr){(hn!==pr||kn!==Xr||Pn!==Fr)&&(o.stencilFunc(pr,Xr,Fr),hn=pr,kn=Xr,Pn=Fr)},setOp:function(pr,Xr,Fr){(rr!==pr||br!==Xr||dr!==Fr)&&(o.stencilOp(pr,Xr,Fr),rr=pr,br=Xr,dr=Fr)},setLocked:function(pr){en=pr},setClear:function(pr){as!==pr&&(o.clearStencil(pr),as=pr)},reset:function(){en=!1,Rn=null,hn=null,kn=null,Pn=null,rr=null,br=null,dr=null,as=null}}}const st=new nt,ot=new rt,at=new it,ut=new WeakMap,ht=new WeakMap;let ft={},dt={},vt=new WeakMap,gt=[],_t=null,pt=!1,mt=null,yt=null,xt=null,bt=null,wt=null,Ct=null,Et=null,kt=!1,Dt=null,zt=null,Wt=null,Ht=null,Gt=null;const $t=o.getParameter(35661);let Ft=!1,It=0;const Tt=o.getParameter(7938);Tt.indexOf("WebGL")!==-1?(It=parseFloat(/^WebGL (\d)/.exec(Tt)[1]),Ft=It>=1):Tt.indexOf("OpenGL ES")!==-1&&(It=parseFloat(/^OpenGL ES (\d)/.exec(Tt)[1]),Ft=It>=2);let Pt=null,Rt={};const Vt=o.getParameter(3088),Ot=o.getParameter(2978),Xt=new Vector4().fromArray(Vt),Kt=new Vector4().fromArray(Ot);function fn(en,Rn,hn){const kn=new Uint8Array(4),Pn=o.createTexture();o.bindTexture(en,Pn),o.texParameteri(en,10241,9728),o.texParameteri(en,10240,9728);for(let rr=0;rr<hn;rr++)o.texImage2D(Rn+rr,0,6408,1,1,0,6408,5121,kn);return Pn}const Nt={};Nt[3553]=fn(3553,3553,1),Nt[34067]=fn(34067,34069,6),st.setClear(0,0,0,1),ot.setClear(1),at.setClear(0),vn(2929),ot.setFunc(LessEqualDepth),_n(!1),En(CullFaceBack),vn(2884),dn(NoBlending);function vn(en){ft[en]!==!0&&(o.enable(en),ft[en]=!0)}function on(en){ft[en]!==!1&&(o.disable(en),ft[en]=!1)}function bn(en,Rn){return dt[en]!==Rn?(o.bindFramebuffer(en,Rn),dt[en]=Rn,tt&&(en===36009&&(dt[36160]=Rn),en===36160&&(dt[36009]=Rn)),!0):!1}function cn(en,Rn){let hn=gt,kn=!1;if(en)if(hn=vt.get(Rn),hn===void 0&&(hn=[],vt.set(Rn,hn)),en.isWebGLMultipleRenderTargets){const Pn=en.texture;if(hn.length!==Pn.length||hn[0]!==36064){for(let rr=0,br=Pn.length;rr<br;rr++)hn[rr]=36064+rr;hn.length=Pn.length,kn=!0}}else hn[0]!==36064&&(hn[0]=36064,kn=!0);else hn[0]!==1029&&(hn[0]=1029,kn=!0);kn&&(et.isWebGL2?o.drawBuffers(hn):s.get("WEBGL_draw_buffers").drawBuffersWEBGL(hn))}function xn(en){return _t!==en?(o.useProgram(en),_t=en,!0):!1}const tn={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(tt)tn[MinEquation]=32775,tn[MaxEquation]=32776;else{const en=s.get("EXT_blend_minmax");en!==null&&(tn[MinEquation]=en.MIN_EXT,tn[MaxEquation]=en.MAX_EXT)}const Yt={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function dn(en,Rn,hn,kn,Pn,rr,br,dr){if(en===NoBlending){pt===!0&&(on(3042),pt=!1);return}if(pt===!1&&(vn(3042),pt=!0),en!==CustomBlending){if(en!==mt||dr!==kt){if((yt!==AddEquation||wt!==AddEquation)&&(o.blendEquation(32774),yt=AddEquation,wt=AddEquation),dr)switch(en){case NormalBlending:o.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:o.blendFunc(1,1);break;case SubtractiveBlending:o.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:o.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",en);break}else switch(en){case NormalBlending:o.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:o.blendFunc(770,1);break;case SubtractiveBlending:o.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:o.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",en);break}xt=null,bt=null,Ct=null,Et=null,mt=en,kt=dr}return}Pn=Pn||Rn,rr=rr||hn,br=br||kn,(Rn!==yt||Pn!==wt)&&(o.blendEquationSeparate(tn[Rn],tn[Pn]),yt=Rn,wt=Pn),(hn!==xt||kn!==bt||rr!==Ct||br!==Et)&&(o.blendFuncSeparate(Yt[hn],Yt[kn],Yt[rr],Yt[br]),xt=hn,bt=kn,Ct=rr,Et=br),mt=en,kt=null}function yn(en,Rn){en.side===DoubleSide?on(2884):vn(2884);let hn=en.side===BackSide;Rn&&(hn=!hn),_n(hn),en.blending===NormalBlending&&en.transparent===!1?dn(NoBlending):dn(en.blending,en.blendEquation,en.blendSrc,en.blendDst,en.blendEquationAlpha,en.blendSrcAlpha,en.blendDstAlpha,en.premultipliedAlpha),ot.setFunc(en.depthFunc),ot.setTest(en.depthTest),ot.setMask(en.depthWrite),st.setMask(en.colorWrite);const kn=en.stencilWrite;at.setTest(kn),kn&&(at.setMask(en.stencilWriteMask),at.setFunc(en.stencilFunc,en.stencilRef,en.stencilFuncMask),at.setOp(en.stencilFail,en.stencilZFail,en.stencilZPass)),Ln(en.polygonOffset,en.polygonOffsetFactor,en.polygonOffsetUnits),en.alphaToCoverage===!0?vn(32926):on(32926)}function _n(en){Dt!==en&&(en?o.frontFace(2304):o.frontFace(2305),Dt=en)}function En(en){en!==CullFaceNone?(vn(2884),en!==zt&&(en===CullFaceBack?o.cullFace(1029):en===CullFaceFront?o.cullFace(1028):o.cullFace(1032))):on(2884),zt=en}function Tn(en){en!==Wt&&(Ft&&o.lineWidth(en),Wt=en)}function Ln(en,Rn,hn){en?(vn(32823),(Ht!==Rn||Gt!==hn)&&(o.polygonOffset(Rn,hn),Ht=Rn,Gt=hn)):on(32823)}function Bn(en){en?vn(3089):on(3089)}function Hn(en){en===void 0&&(en=33984+$t-1),Pt!==en&&(o.activeTexture(en),Pt=en)}function qt(en,Rn){Pt===null&&Hn();let hn=Rt[Pt];hn===void 0&&(hn={type:void 0,texture:void 0},Rt[Pt]=hn),(hn.type!==en||hn.texture!==Rn)&&(o.bindTexture(en,Rn||Nt[en]),hn.type=en,hn.texture=Rn)}function Bt(){const en=Rt[Pt];en!==void 0&&en.type!==void 0&&(o.bindTexture(en.type,null),en.type=void 0,en.texture=void 0)}function Zt(){try{o.compressedTexImage2D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function pn(){try{o.texSubImage2D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function Sn(){try{o.texSubImage3D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function wn(){try{o.compressedTexSubImage2D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function Vn(){try{o.texStorage2D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function ln(){try{o.texStorage3D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function Nn(){try{o.texImage2D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function In(){try{o.texImage3D.apply(o,arguments)}catch(en){console.error("THREE.WebGLState:",en)}}function $n(en){Xt.equals(en)===!1&&(o.scissor(en.x,en.y,en.z,en.w),Xt.copy(en))}function Fn(en){Kt.equals(en)===!1&&(o.viewport(en.x,en.y,en.z,en.w),Kt.copy(en))}function Yn(en,Rn){let hn=ht.get(Rn);hn===void 0&&(hn=new WeakMap,ht.set(Rn,hn));let kn=hn.get(en);kn===void 0&&(kn=o.getUniformBlockIndex(Rn,en.name),hn.set(en,kn))}function sr(en,Rn){const kn=ht.get(Rn).get(en);ut.get(en)!==kn&&(o.uniformBlockBinding(Rn,kn,en.__bindingPointIndex),ut.set(en,kn))}function yr(){o.disable(3042),o.disable(2884),o.disable(2929),o.disable(32823),o.disable(3089),o.disable(2960),o.disable(32926),o.blendEquation(32774),o.blendFunc(1,0),o.blendFuncSeparate(1,0,1,0),o.colorMask(!0,!0,!0,!0),o.clearColor(0,0,0,0),o.depthMask(!0),o.depthFunc(513),o.clearDepth(1),o.stencilMask(4294967295),o.stencilFunc(519,0,4294967295),o.stencilOp(7680,7680,7680),o.clearStencil(0),o.cullFace(1029),o.frontFace(2305),o.polygonOffset(0,0),o.activeTexture(33984),o.bindFramebuffer(36160,null),tt===!0&&(o.bindFramebuffer(36009,null),o.bindFramebuffer(36008,null)),o.useProgram(null),o.lineWidth(1),o.scissor(0,0,o.canvas.width,o.canvas.height),o.viewport(0,0,o.canvas.width,o.canvas.height),ft={},Pt=null,Rt={},dt={},vt=new WeakMap,gt=[],_t=null,pt=!1,mt=null,yt=null,xt=null,bt=null,wt=null,Ct=null,Et=null,kt=!1,Dt=null,zt=null,Wt=null,Ht=null,Gt=null,Xt.set(0,0,o.canvas.width,o.canvas.height),Kt.set(0,0,o.canvas.width,o.canvas.height),st.reset(),ot.reset(),at.reset()}return{buffers:{color:st,depth:ot,stencil:at},enable:vn,disable:on,bindFramebuffer:bn,drawBuffers:cn,useProgram:xn,setBlending:dn,setMaterial:yn,setFlipSided:_n,setCullFace:En,setLineWidth:Tn,setPolygonOffset:Ln,setScissorTest:Bn,activeTexture:Hn,bindTexture:qt,unbindTexture:Bt,compressedTexImage2D:Zt,texImage2D:Nn,texImage3D:In,updateUBOMapping:Yn,uniformBlockBinding:sr,texStorage2D:Vn,texStorage3D:ln,texSubImage2D:pn,texSubImage3D:Sn,compressedTexSubImage2D:wn,scissor:$n,viewport:Fn,reset:yr}}function WebGLTextures(o,s,et,tt,nt,rt,it){const st=nt.isWebGL2,ot=nt.maxTextures,at=nt.maxCubemapSize,ut=nt.maxTextureSize,ht=nt.maxSamples,ft=s.has("WEBGL_multisampled_render_to_texture")?s.get("WEBGL_multisampled_render_to_texture"):null,dt=/OculusBrowser/g.test(navigator.userAgent),vt=new WeakMap;let gt;const _t=new WeakMap;let pt=!1;try{pt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function mt(qt,Bt){return pt?new OffscreenCanvas(qt,Bt):createElementNS("canvas")}function yt(qt,Bt,Zt,pn){let Sn=1;if((qt.width>pn||qt.height>pn)&&(Sn=pn/Math.max(qt.width,qt.height)),Sn<1||Bt===!0)if(typeof HTMLImageElement<"u"&&qt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&qt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&qt instanceof ImageBitmap){const wn=Bt?floorPowerOfTwo:Math.floor,Vn=wn(Sn*qt.width),ln=wn(Sn*qt.height);gt===void 0&&(gt=mt(Vn,ln));const Nn=Zt?mt(Vn,ln):gt;return Nn.width=Vn,Nn.height=ln,Nn.getContext("2d").drawImage(qt,0,0,Vn,ln),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+qt.width+"x"+qt.height+") to ("+Vn+"x"+ln+")."),Nn}else return"data"in qt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+qt.width+"x"+qt.height+")."),qt;return qt}function xt(qt){return isPowerOfTwo(qt.width)&&isPowerOfTwo(qt.height)}function bt(qt){return st?!1:qt.wrapS!==ClampToEdgeWrapping||qt.wrapT!==ClampToEdgeWrapping||qt.minFilter!==NearestFilter&&qt.minFilter!==LinearFilter}function wt(qt,Bt){return qt.generateMipmaps&&Bt&&qt.minFilter!==NearestFilter&&qt.minFilter!==LinearFilter}function Ct(qt){o.generateMipmap(qt)}function Et(qt,Bt,Zt,pn,Sn=!1){if(st===!1)return Bt;if(qt!==null){if(o[qt]!==void 0)return o[qt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+qt+"'")}let wn=Bt;return Bt===6403&&(Zt===5126&&(wn=33326),Zt===5131&&(wn=33325),Zt===5121&&(wn=33321)),Bt===33319&&(Zt===5126&&(wn=33328),Zt===5131&&(wn=33327),Zt===5121&&(wn=33323)),Bt===6408&&(Zt===5126&&(wn=34836),Zt===5131&&(wn=34842),Zt===5121&&(wn=pn===sRGBEncoding&&Sn===!1?35907:32856),Zt===32819&&(wn=32854),Zt===32820&&(wn=32855)),(wn===33325||wn===33326||wn===33327||wn===33328||wn===34842||wn===34836)&&s.get("EXT_color_buffer_float"),wn}function kt(qt,Bt,Zt){return wt(qt,Zt)===!0||qt.isFramebufferTexture&&qt.minFilter!==NearestFilter&&qt.minFilter!==LinearFilter?Math.log2(Math.max(Bt.width,Bt.height))+1:qt.mipmaps!==void 0&&qt.mipmaps.length>0?qt.mipmaps.length:qt.isCompressedTexture&&Array.isArray(qt.image)?Bt.mipmaps.length:1}function Dt(qt){return qt===NearestFilter||qt===NearestMipmapNearestFilter||qt===NearestMipmapLinearFilter?9728:9729}function zt(qt){const Bt=qt.target;Bt.removeEventListener("dispose",zt),Ht(Bt),Bt.isVideoTexture&&vt.delete(Bt)}function Wt(qt){const Bt=qt.target;Bt.removeEventListener("dispose",Wt),$t(Bt)}function Ht(qt){const Bt=tt.get(qt);if(Bt.__webglInit===void 0)return;const Zt=qt.source,pn=_t.get(Zt);if(pn){const Sn=pn[Bt.__cacheKey];Sn.usedTimes--,Sn.usedTimes===0&&Gt(qt),Object.keys(pn).length===0&&_t.delete(Zt)}tt.remove(qt)}function Gt(qt){const Bt=tt.get(qt);o.deleteTexture(Bt.__webglTexture);const Zt=qt.source,pn=_t.get(Zt);delete pn[Bt.__cacheKey],it.memory.textures--}function $t(qt){const Bt=qt.texture,Zt=tt.get(qt),pn=tt.get(Bt);if(pn.__webglTexture!==void 0&&(o.deleteTexture(pn.__webglTexture),it.memory.textures--),qt.depthTexture&&qt.depthTexture.dispose(),qt.isWebGLCubeRenderTarget)for(let Sn=0;Sn<6;Sn++)o.deleteFramebuffer(Zt.__webglFramebuffer[Sn]),Zt.__webglDepthbuffer&&o.deleteRenderbuffer(Zt.__webglDepthbuffer[Sn]);else{if(o.deleteFramebuffer(Zt.__webglFramebuffer),Zt.__webglDepthbuffer&&o.deleteRenderbuffer(Zt.__webglDepthbuffer),Zt.__webglMultisampledFramebuffer&&o.deleteFramebuffer(Zt.__webglMultisampledFramebuffer),Zt.__webglColorRenderbuffer)for(let Sn=0;Sn<Zt.__webglColorRenderbuffer.length;Sn++)Zt.__webglColorRenderbuffer[Sn]&&o.deleteRenderbuffer(Zt.__webglColorRenderbuffer[Sn]);Zt.__webglDepthRenderbuffer&&o.deleteRenderbuffer(Zt.__webglDepthRenderbuffer)}if(qt.isWebGLMultipleRenderTargets)for(let Sn=0,wn=Bt.length;Sn<wn;Sn++){const Vn=tt.get(Bt[Sn]);Vn.__webglTexture&&(o.deleteTexture(Vn.__webglTexture),it.memory.textures--),tt.remove(Bt[Sn])}tt.remove(Bt),tt.remove(qt)}let Ft=0;function It(){Ft=0}function Tt(){const qt=Ft;return qt>=ot&&console.warn("THREE.WebGLTextures: Trying to use "+qt+" texture units while this GPU supports only "+ot),Ft+=1,qt}function Pt(qt){const Bt=[];return Bt.push(qt.wrapS),Bt.push(qt.wrapT),Bt.push(qt.magFilter),Bt.push(qt.minFilter),Bt.push(qt.anisotropy),Bt.push(qt.internalFormat),Bt.push(qt.format),Bt.push(qt.type),Bt.push(qt.generateMipmaps),Bt.push(qt.premultiplyAlpha),Bt.push(qt.flipY),Bt.push(qt.unpackAlignment),Bt.push(qt.encoding),Bt.join()}function Rt(qt,Bt){const Zt=tt.get(qt);if(qt.isVideoTexture&&Bn(qt),qt.isRenderTargetTexture===!1&&qt.version>0&&Zt.__version!==qt.version){const pn=qt.image;if(pn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{on(Zt,qt,Bt);return}}et.activeTexture(33984+Bt),et.bindTexture(3553,Zt.__webglTexture)}function Vt(qt,Bt){const Zt=tt.get(qt);if(qt.version>0&&Zt.__version!==qt.version){on(Zt,qt,Bt);return}et.activeTexture(33984+Bt),et.bindTexture(35866,Zt.__webglTexture)}function Ot(qt,Bt){const Zt=tt.get(qt);if(qt.version>0&&Zt.__version!==qt.version){on(Zt,qt,Bt);return}et.activeTexture(33984+Bt),et.bindTexture(32879,Zt.__webglTexture)}function Xt(qt,Bt){const Zt=tt.get(qt);if(qt.version>0&&Zt.__version!==qt.version){bn(Zt,qt,Bt);return}et.activeTexture(33984+Bt),et.bindTexture(34067,Zt.__webglTexture)}const Kt={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},fn={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Nt(qt,Bt,Zt){if(Zt?(o.texParameteri(qt,10242,Kt[Bt.wrapS]),o.texParameteri(qt,10243,Kt[Bt.wrapT]),(qt===32879||qt===35866)&&o.texParameteri(qt,32882,Kt[Bt.wrapR]),o.texParameteri(qt,10240,fn[Bt.magFilter]),o.texParameteri(qt,10241,fn[Bt.minFilter])):(o.texParameteri(qt,10242,33071),o.texParameteri(qt,10243,33071),(qt===32879||qt===35866)&&o.texParameteri(qt,32882,33071),(Bt.wrapS!==ClampToEdgeWrapping||Bt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),o.texParameteri(qt,10240,Dt(Bt.magFilter)),o.texParameteri(qt,10241,Dt(Bt.minFilter)),Bt.minFilter!==NearestFilter&&Bt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),s.has("EXT_texture_filter_anisotropic")===!0){const pn=s.get("EXT_texture_filter_anisotropic");if(Bt.type===FloatType&&s.has("OES_texture_float_linear")===!1||st===!1&&Bt.type===HalfFloatType&&s.has("OES_texture_half_float_linear")===!1)return;(Bt.anisotropy>1||tt.get(Bt).__currentAnisotropy)&&(o.texParameterf(qt,pn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Bt.anisotropy,nt.getMaxAnisotropy())),tt.get(Bt).__currentAnisotropy=Bt.anisotropy)}}function vn(qt,Bt){let Zt=!1;qt.__webglInit===void 0&&(qt.__webglInit=!0,Bt.addEventListener("dispose",zt));const pn=Bt.source;let Sn=_t.get(pn);Sn===void 0&&(Sn={},_t.set(pn,Sn));const wn=Pt(Bt);if(wn!==qt.__cacheKey){Sn[wn]===void 0&&(Sn[wn]={texture:o.createTexture(),usedTimes:0},it.memory.textures++,Zt=!0),Sn[wn].usedTimes++;const Vn=Sn[qt.__cacheKey];Vn!==void 0&&(Sn[qt.__cacheKey].usedTimes--,Vn.usedTimes===0&&Gt(Bt)),qt.__cacheKey=wn,qt.__webglTexture=Sn[wn].texture}return Zt}function on(qt,Bt,Zt){let pn=3553;Bt.isDataArrayTexture&&(pn=35866),Bt.isData3DTexture&&(pn=32879);const Sn=vn(qt,Bt),wn=Bt.source;if(et.activeTexture(33984+Zt),et.bindTexture(pn,qt.__webglTexture),wn.version!==wn.__currentVersion||Sn===!0){o.pixelStorei(37440,Bt.flipY),o.pixelStorei(37441,Bt.premultiplyAlpha),o.pixelStorei(3317,Bt.unpackAlignment),o.pixelStorei(37443,0);const Vn=bt(Bt)&&xt(Bt.image)===!1;let ln=yt(Bt.image,Vn,!1,ut);ln=Hn(Bt,ln);const Nn=xt(ln)||st,In=rt.convert(Bt.format,Bt.encoding);let $n=rt.convert(Bt.type),Fn=Et(Bt.internalFormat,In,$n,Bt.encoding,Bt.isVideoTexture);Nt(pn,Bt,Nn);let Yn;const sr=Bt.mipmaps,yr=st&&Bt.isVideoTexture!==!0,en=wn.__currentVersion===void 0||Sn===!0,Rn=kt(Bt,ln,Nn);if(Bt.isDepthTexture)Fn=6402,st?Bt.type===FloatType?Fn=36012:Bt.type===UnsignedIntType?Fn=33190:Bt.type===UnsignedInt248Type?Fn=35056:Fn=33189:Bt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Bt.format===DepthFormat&&Fn===6402&&Bt.type!==UnsignedShortType&&Bt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Bt.type=UnsignedIntType,$n=rt.convert(Bt.type)),Bt.format===DepthStencilFormat&&Fn===6402&&(Fn=34041,Bt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Bt.type=UnsignedInt248Type,$n=rt.convert(Bt.type))),en&&(yr?et.texStorage2D(3553,1,Fn,ln.width,ln.height):et.texImage2D(3553,0,Fn,ln.width,ln.height,0,In,$n,null));else if(Bt.isDataTexture)if(sr.length>0&&Nn){yr&&en&&et.texStorage2D(3553,Rn,Fn,sr[0].width,sr[0].height);for(let hn=0,kn=sr.length;hn<kn;hn++)Yn=sr[hn],yr?et.texSubImage2D(3553,hn,0,0,Yn.width,Yn.height,In,$n,Yn.data):et.texImage2D(3553,hn,Fn,Yn.width,Yn.height,0,In,$n,Yn.data);Bt.generateMipmaps=!1}else yr?(en&&et.texStorage2D(3553,Rn,Fn,ln.width,ln.height),et.texSubImage2D(3553,0,0,0,ln.width,ln.height,In,$n,ln.data)):et.texImage2D(3553,0,Fn,ln.width,ln.height,0,In,$n,ln.data);else if(Bt.isCompressedTexture){yr&&en&&et.texStorage2D(3553,Rn,Fn,sr[0].width,sr[0].height);for(let hn=0,kn=sr.length;hn<kn;hn++)Yn=sr[hn],Bt.format!==RGBAFormat?In!==null?yr?et.compressedTexSubImage2D(3553,hn,0,0,Yn.width,Yn.height,In,Yn.data):et.compressedTexImage2D(3553,hn,Fn,Yn.width,Yn.height,0,Yn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yr?et.texSubImage2D(3553,hn,0,0,Yn.width,Yn.height,In,$n,Yn.data):et.texImage2D(3553,hn,Fn,Yn.width,Yn.height,0,In,$n,Yn.data)}else if(Bt.isDataArrayTexture)yr?(en&&et.texStorage3D(35866,Rn,Fn,ln.width,ln.height,ln.depth),et.texSubImage3D(35866,0,0,0,0,ln.width,ln.height,ln.depth,In,$n,ln.data)):et.texImage3D(35866,0,Fn,ln.width,ln.height,ln.depth,0,In,$n,ln.data);else if(Bt.isData3DTexture)yr?(en&&et.texStorage3D(32879,Rn,Fn,ln.width,ln.height,ln.depth),et.texSubImage3D(32879,0,0,0,0,ln.width,ln.height,ln.depth,In,$n,ln.data)):et.texImage3D(32879,0,Fn,ln.width,ln.height,ln.depth,0,In,$n,ln.data);else if(Bt.isFramebufferTexture){if(en)if(yr)et.texStorage2D(3553,Rn,Fn,ln.width,ln.height);else{let hn=ln.width,kn=ln.height;for(let Pn=0;Pn<Rn;Pn++)et.texImage2D(3553,Pn,Fn,hn,kn,0,In,$n,null),hn>>=1,kn>>=1}}else if(sr.length>0&&Nn){yr&&en&&et.texStorage2D(3553,Rn,Fn,sr[0].width,sr[0].height);for(let hn=0,kn=sr.length;hn<kn;hn++)Yn=sr[hn],yr?et.texSubImage2D(3553,hn,0,0,In,$n,Yn):et.texImage2D(3553,hn,Fn,In,$n,Yn);Bt.generateMipmaps=!1}else yr?(en&&et.texStorage2D(3553,Rn,Fn,ln.width,ln.height),et.texSubImage2D(3553,0,0,0,In,$n,ln)):et.texImage2D(3553,0,Fn,In,$n,ln);wt(Bt,Nn)&&Ct(pn),wn.__currentVersion=wn.version,Bt.onUpdate&&Bt.onUpdate(Bt)}qt.__version=Bt.version}function bn(qt,Bt,Zt){if(Bt.image.length!==6)return;const pn=vn(qt,Bt),Sn=Bt.source;if(et.activeTexture(33984+Zt),et.bindTexture(34067,qt.__webglTexture),Sn.version!==Sn.__currentVersion||pn===!0){o.pixelStorei(37440,Bt.flipY),o.pixelStorei(37441,Bt.premultiplyAlpha),o.pixelStorei(3317,Bt.unpackAlignment),o.pixelStorei(37443,0);const wn=Bt.isCompressedTexture||Bt.image[0].isCompressedTexture,Vn=Bt.image[0]&&Bt.image[0].isDataTexture,ln=[];for(let hn=0;hn<6;hn++)!wn&&!Vn?ln[hn]=yt(Bt.image[hn],!1,!0,at):ln[hn]=Vn?Bt.image[hn].image:Bt.image[hn],ln[hn]=Hn(Bt,ln[hn]);const Nn=ln[0],In=xt(Nn)||st,$n=rt.convert(Bt.format,Bt.encoding),Fn=rt.convert(Bt.type),Yn=Et(Bt.internalFormat,$n,Fn,Bt.encoding),sr=st&&Bt.isVideoTexture!==!0,yr=Sn.__currentVersion===void 0||pn===!0;let en=kt(Bt,Nn,In);Nt(34067,Bt,In);let Rn;if(wn){sr&&yr&&et.texStorage2D(34067,en,Yn,Nn.width,Nn.height);for(let hn=0;hn<6;hn++){Rn=ln[hn].mipmaps;for(let kn=0;kn<Rn.length;kn++){const Pn=Rn[kn];Bt.format!==RGBAFormat?$n!==null?sr?et.compressedTexSubImage2D(34069+hn,kn,0,0,Pn.width,Pn.height,$n,Pn.data):et.compressedTexImage2D(34069+hn,kn,Yn,Pn.width,Pn.height,0,Pn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):sr?et.texSubImage2D(34069+hn,kn,0,0,Pn.width,Pn.height,$n,Fn,Pn.data):et.texImage2D(34069+hn,kn,Yn,Pn.width,Pn.height,0,$n,Fn,Pn.data)}}}else{Rn=Bt.mipmaps,sr&&yr&&(Rn.length>0&&en++,et.texStorage2D(34067,en,Yn,ln[0].width,ln[0].height));for(let hn=0;hn<6;hn++)if(Vn){sr?et.texSubImage2D(34069+hn,0,0,0,ln[hn].width,ln[hn].height,$n,Fn,ln[hn].data):et.texImage2D(34069+hn,0,Yn,ln[hn].width,ln[hn].height,0,$n,Fn,ln[hn].data);for(let kn=0;kn<Rn.length;kn++){const rr=Rn[kn].image[hn].image;sr?et.texSubImage2D(34069+hn,kn+1,0,0,rr.width,rr.height,$n,Fn,rr.data):et.texImage2D(34069+hn,kn+1,Yn,rr.width,rr.height,0,$n,Fn,rr.data)}}else{sr?et.texSubImage2D(34069+hn,0,0,0,$n,Fn,ln[hn]):et.texImage2D(34069+hn,0,Yn,$n,Fn,ln[hn]);for(let kn=0;kn<Rn.length;kn++){const Pn=Rn[kn];sr?et.texSubImage2D(34069+hn,kn+1,0,0,$n,Fn,Pn.image[hn]):et.texImage2D(34069+hn,kn+1,Yn,$n,Fn,Pn.image[hn])}}}wt(Bt,In)&&Ct(34067),Sn.__currentVersion=Sn.version,Bt.onUpdate&&Bt.onUpdate(Bt)}qt.__version=Bt.version}function cn(qt,Bt,Zt,pn,Sn){const wn=rt.convert(Zt.format,Zt.encoding),Vn=rt.convert(Zt.type),ln=Et(Zt.internalFormat,wn,Vn,Zt.encoding);tt.get(Bt).__hasExternalTextures||(Sn===32879||Sn===35866?et.texImage3D(Sn,0,ln,Bt.width,Bt.height,Bt.depth,0,wn,Vn,null):et.texImage2D(Sn,0,ln,Bt.width,Bt.height,0,wn,Vn,null)),et.bindFramebuffer(36160,qt),Ln(Bt)?ft.framebufferTexture2DMultisampleEXT(36160,pn,Sn,tt.get(Zt).__webglTexture,0,Tn(Bt)):o.framebufferTexture2D(36160,pn,Sn,tt.get(Zt).__webglTexture,0),et.bindFramebuffer(36160,null)}function xn(qt,Bt,Zt){if(o.bindRenderbuffer(36161,qt),Bt.depthBuffer&&!Bt.stencilBuffer){let pn=33189;if(Zt||Ln(Bt)){const Sn=Bt.depthTexture;Sn&&Sn.isDepthTexture&&(Sn.type===FloatType?pn=36012:Sn.type===UnsignedIntType&&(pn=33190));const wn=Tn(Bt);Ln(Bt)?ft.renderbufferStorageMultisampleEXT(36161,wn,pn,Bt.width,Bt.height):o.renderbufferStorageMultisample(36161,wn,pn,Bt.width,Bt.height)}else o.renderbufferStorage(36161,pn,Bt.width,Bt.height);o.framebufferRenderbuffer(36160,36096,36161,qt)}else if(Bt.depthBuffer&&Bt.stencilBuffer){const pn=Tn(Bt);Zt&&Ln(Bt)===!1?o.renderbufferStorageMultisample(36161,pn,35056,Bt.width,Bt.height):Ln(Bt)?ft.renderbufferStorageMultisampleEXT(36161,pn,35056,Bt.width,Bt.height):o.renderbufferStorage(36161,34041,Bt.width,Bt.height),o.framebufferRenderbuffer(36160,33306,36161,qt)}else{const pn=Bt.isWebGLMultipleRenderTargets===!0?Bt.texture:[Bt.texture];for(let Sn=0;Sn<pn.length;Sn++){const wn=pn[Sn],Vn=rt.convert(wn.format,wn.encoding),ln=rt.convert(wn.type),Nn=Et(wn.internalFormat,Vn,ln,wn.encoding),In=Tn(Bt);Zt&&Ln(Bt)===!1?o.renderbufferStorageMultisample(36161,In,Nn,Bt.width,Bt.height):Ln(Bt)?ft.renderbufferStorageMultisampleEXT(36161,In,Nn,Bt.width,Bt.height):o.renderbufferStorage(36161,Nn,Bt.width,Bt.height)}}o.bindRenderbuffer(36161,null)}function tn(qt,Bt){if(Bt&&Bt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(et.bindFramebuffer(36160,qt),!(Bt.depthTexture&&Bt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!tt.get(Bt.depthTexture).__webglTexture||Bt.depthTexture.image.width!==Bt.width||Bt.depthTexture.image.height!==Bt.height)&&(Bt.depthTexture.image.width=Bt.width,Bt.depthTexture.image.height=Bt.height,Bt.depthTexture.needsUpdate=!0),Rt(Bt.depthTexture,0);const pn=tt.get(Bt.depthTexture).__webglTexture,Sn=Tn(Bt);if(Bt.depthTexture.format===DepthFormat)Ln(Bt)?ft.framebufferTexture2DMultisampleEXT(36160,36096,3553,pn,0,Sn):o.framebufferTexture2D(36160,36096,3553,pn,0);else if(Bt.depthTexture.format===DepthStencilFormat)Ln(Bt)?ft.framebufferTexture2DMultisampleEXT(36160,33306,3553,pn,0,Sn):o.framebufferTexture2D(36160,33306,3553,pn,0);else throw new Error("Unknown depthTexture format")}function Yt(qt){const Bt=tt.get(qt),Zt=qt.isWebGLCubeRenderTarget===!0;if(qt.depthTexture&&!Bt.__autoAllocateDepthBuffer){if(Zt)throw new Error("target.depthTexture not supported in Cube render targets");tn(Bt.__webglFramebuffer,qt)}else if(Zt){Bt.__webglDepthbuffer=[];for(let pn=0;pn<6;pn++)et.bindFramebuffer(36160,Bt.__webglFramebuffer[pn]),Bt.__webglDepthbuffer[pn]=o.createRenderbuffer(),xn(Bt.__webglDepthbuffer[pn],qt,!1)}else et.bindFramebuffer(36160,Bt.__webglFramebuffer),Bt.__webglDepthbuffer=o.createRenderbuffer(),xn(Bt.__webglDepthbuffer,qt,!1);et.bindFramebuffer(36160,null)}function dn(qt,Bt,Zt){const pn=tt.get(qt);Bt!==void 0&&cn(pn.__webglFramebuffer,qt,qt.texture,36064,3553),Zt!==void 0&&Yt(qt)}function yn(qt){const Bt=qt.texture,Zt=tt.get(qt),pn=tt.get(Bt);qt.addEventListener("dispose",Wt),qt.isWebGLMultipleRenderTargets!==!0&&(pn.__webglTexture===void 0&&(pn.__webglTexture=o.createTexture()),pn.__version=Bt.version,it.memory.textures++);const Sn=qt.isWebGLCubeRenderTarget===!0,wn=qt.isWebGLMultipleRenderTargets===!0,Vn=xt(qt)||st;if(Sn){Zt.__webglFramebuffer=[];for(let ln=0;ln<6;ln++)Zt.__webglFramebuffer[ln]=o.createFramebuffer()}else{if(Zt.__webglFramebuffer=o.createFramebuffer(),wn)if(nt.drawBuffers){const ln=qt.texture;for(let Nn=0,In=ln.length;Nn<In;Nn++){const $n=tt.get(ln[Nn]);$n.__webglTexture===void 0&&($n.__webglTexture=o.createTexture(),it.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(st&&qt.samples>0&&Ln(qt)===!1){const ln=wn?Bt:[Bt];Zt.__webglMultisampledFramebuffer=o.createFramebuffer(),Zt.__webglColorRenderbuffer=[],et.bindFramebuffer(36160,Zt.__webglMultisampledFramebuffer);for(let Nn=0;Nn<ln.length;Nn++){const In=ln[Nn];Zt.__webglColorRenderbuffer[Nn]=o.createRenderbuffer(),o.bindRenderbuffer(36161,Zt.__webglColorRenderbuffer[Nn]);const $n=rt.convert(In.format,In.encoding),Fn=rt.convert(In.type),Yn=Et(In.internalFormat,$n,Fn,In.encoding),sr=Tn(qt);o.renderbufferStorageMultisample(36161,sr,Yn,qt.width,qt.height),o.framebufferRenderbuffer(36160,36064+Nn,36161,Zt.__webglColorRenderbuffer[Nn])}o.bindRenderbuffer(36161,null),qt.depthBuffer&&(Zt.__webglDepthRenderbuffer=o.createRenderbuffer(),xn(Zt.__webglDepthRenderbuffer,qt,!0)),et.bindFramebuffer(36160,null)}}if(Sn){et.bindTexture(34067,pn.__webglTexture),Nt(34067,Bt,Vn);for(let ln=0;ln<6;ln++)cn(Zt.__webglFramebuffer[ln],qt,Bt,36064,34069+ln);wt(Bt,Vn)&&Ct(34067),et.unbindTexture()}else if(wn){const ln=qt.texture;for(let Nn=0,In=ln.length;Nn<In;Nn++){const $n=ln[Nn],Fn=tt.get($n);et.bindTexture(3553,Fn.__webglTexture),Nt(3553,$n,Vn),cn(Zt.__webglFramebuffer,qt,$n,36064+Nn,3553),wt($n,Vn)&&Ct(3553)}et.unbindTexture()}else{let ln=3553;(qt.isWebGL3DRenderTarget||qt.isWebGLArrayRenderTarget)&&(st?ln=qt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),et.bindTexture(ln,pn.__webglTexture),Nt(ln,Bt,Vn),cn(Zt.__webglFramebuffer,qt,Bt,36064,ln),wt(Bt,Vn)&&Ct(ln),et.unbindTexture()}qt.depthBuffer&&Yt(qt)}function _n(qt){const Bt=xt(qt)||st,Zt=qt.isWebGLMultipleRenderTargets===!0?qt.texture:[qt.texture];for(let pn=0,Sn=Zt.length;pn<Sn;pn++){const wn=Zt[pn];if(wt(wn,Bt)){const Vn=qt.isWebGLCubeRenderTarget?34067:3553,ln=tt.get(wn).__webglTexture;et.bindTexture(Vn,ln),Ct(Vn),et.unbindTexture()}}}function En(qt){if(st&&qt.samples>0&&Ln(qt)===!1){const Bt=qt.isWebGLMultipleRenderTargets?qt.texture:[qt.texture],Zt=qt.width,pn=qt.height;let Sn=16384;const wn=[],Vn=qt.stencilBuffer?33306:36096,ln=tt.get(qt),Nn=qt.isWebGLMultipleRenderTargets===!0;if(Nn)for(let In=0;In<Bt.length;In++)et.bindFramebuffer(36160,ln.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(36160,36064+In,36161,null),et.bindFramebuffer(36160,ln.__webglFramebuffer),o.framebufferTexture2D(36009,36064+In,3553,null,0);et.bindFramebuffer(36008,ln.__webglMultisampledFramebuffer),et.bindFramebuffer(36009,ln.__webglFramebuffer);for(let In=0;In<Bt.length;In++){wn.push(36064+In),qt.depthBuffer&&wn.push(Vn);const $n=ln.__ignoreDepthValues!==void 0?ln.__ignoreDepthValues:!1;if($n===!1&&(qt.depthBuffer&&(Sn|=256),qt.stencilBuffer&&(Sn|=1024)),Nn&&o.framebufferRenderbuffer(36008,36064,36161,ln.__webglColorRenderbuffer[In]),$n===!0&&(o.invalidateFramebuffer(36008,[Vn]),o.invalidateFramebuffer(36009,[Vn])),Nn){const Fn=tt.get(Bt[In]).__webglTexture;o.framebufferTexture2D(36009,36064,3553,Fn,0)}o.blitFramebuffer(0,0,Zt,pn,0,0,Zt,pn,Sn,9728),dt&&o.invalidateFramebuffer(36008,wn)}if(et.bindFramebuffer(36008,null),et.bindFramebuffer(36009,null),Nn)for(let In=0;In<Bt.length;In++){et.bindFramebuffer(36160,ln.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(36160,36064+In,36161,ln.__webglColorRenderbuffer[In]);const $n=tt.get(Bt[In]).__webglTexture;et.bindFramebuffer(36160,ln.__webglFramebuffer),o.framebufferTexture2D(36009,36064+In,3553,$n,0)}et.bindFramebuffer(36009,ln.__webglMultisampledFramebuffer)}}function Tn(qt){return Math.min(ht,qt.samples)}function Ln(qt){const Bt=tt.get(qt);return st&&qt.samples>0&&s.has("WEBGL_multisampled_render_to_texture")===!0&&Bt.__useRenderToTexture!==!1}function Bn(qt){const Bt=it.render.frame;vt.get(qt)!==Bt&&(vt.set(qt,Bt),qt.update())}function Hn(qt,Bt){const Zt=qt.encoding,pn=qt.format,Sn=qt.type;return qt.isCompressedTexture===!0||qt.isVideoTexture===!0||qt.format===_SRGBAFormat||Zt!==LinearEncoding&&(Zt===sRGBEncoding?st===!1?s.has("EXT_sRGB")===!0&&pn===RGBAFormat?(qt.format=_SRGBAFormat,qt.minFilter=LinearFilter,qt.generateMipmaps=!1):Bt=ImageUtils.sRGBToLinear(Bt):(pn!==RGBAFormat||Sn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Zt)),Bt}this.allocateTextureUnit=Tt,this.resetTextureUnits=It,this.setTexture2D=Rt,this.setTexture2DArray=Vt,this.setTexture3D=Ot,this.setTextureCube=Xt,this.rebindTextures=dn,this.setupRenderTarget=yn,this.updateRenderTargetMipmap=_n,this.updateMultisampleRenderTarget=En,this.setupDepthRenderbuffer=Yt,this.setupFrameBufferTexture=cn,this.useMultisampledRTT=Ln}function WebGLUtils(o,s,et){const tt=et.isWebGL2;function nt(rt,it=null){let st;if(rt===UnsignedByteType)return 5121;if(rt===UnsignedShort4444Type)return 32819;if(rt===UnsignedShort5551Type)return 32820;if(rt===ByteType)return 5120;if(rt===ShortType)return 5122;if(rt===UnsignedShortType)return 5123;if(rt===IntType)return 5124;if(rt===UnsignedIntType)return 5125;if(rt===FloatType)return 5126;if(rt===HalfFloatType)return tt?5131:(st=s.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(rt===AlphaFormat)return 6406;if(rt===RGBAFormat)return 6408;if(rt===LuminanceFormat)return 6409;if(rt===LuminanceAlphaFormat)return 6410;if(rt===DepthFormat)return 6402;if(rt===DepthStencilFormat)return 34041;if(rt===RedFormat)return 6403;if(rt===RGBFormat)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(rt===_SRGBAFormat)return st=s.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(rt===RedIntegerFormat)return 36244;if(rt===RGFormat)return 33319;if(rt===RGIntegerFormat)return 33320;if(rt===RGBAIntegerFormat)return 36249;if(rt===RGB_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT3_Format||rt===RGBA_S3TC_DXT5_Format)if(it===sRGBEncoding)if(st=s.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=s.get("WEBGL_compressed_texture_s3tc"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(rt===RGB_PVRTC_4BPPV1_Format||rt===RGB_PVRTC_2BPPV1_Format||rt===RGBA_PVRTC_4BPPV1_Format||rt===RGBA_PVRTC_2BPPV1_Format)if(st=s.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(rt===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(rt===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(rt===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(rt===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(rt===RGB_ETC1_Format)return st=s.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(rt===RGB_ETC2_Format||rt===RGBA_ETC2_EAC_Format)if(st=s.get("WEBGL_compressed_texture_etc"),st!==null){if(rt===RGB_ETC2_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(rt===RGBA_ETC2_EAC_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(rt===RGBA_ASTC_4x4_Format||rt===RGBA_ASTC_5x4_Format||rt===RGBA_ASTC_5x5_Format||rt===RGBA_ASTC_6x5_Format||rt===RGBA_ASTC_6x6_Format||rt===RGBA_ASTC_8x5_Format||rt===RGBA_ASTC_8x6_Format||rt===RGBA_ASTC_8x8_Format||rt===RGBA_ASTC_10x5_Format||rt===RGBA_ASTC_10x6_Format||rt===RGBA_ASTC_10x8_Format||rt===RGBA_ASTC_10x10_Format||rt===RGBA_ASTC_12x10_Format||rt===RGBA_ASTC_12x12_Format)if(st=s.get("WEBGL_compressed_texture_astc"),st!==null){if(rt===RGBA_ASTC_4x4_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(rt===RGBA_ASTC_5x4_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(rt===RGBA_ASTC_5x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(rt===RGBA_ASTC_6x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(rt===RGBA_ASTC_6x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(rt===RGBA_ASTC_8x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(rt===RGBA_ASTC_8x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(rt===RGBA_ASTC_8x8_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(rt===RGBA_ASTC_10x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(rt===RGBA_ASTC_10x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(rt===RGBA_ASTC_10x8_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(rt===RGBA_ASTC_10x10_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(rt===RGBA_ASTC_12x10_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(rt===RGBA_ASTC_12x12_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(rt===RGBA_BPTC_Format)if(st=s.get("EXT_texture_compression_bptc"),st!==null){if(rt===RGBA_BPTC_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return rt===UnsignedInt248Type?tt?34042:(st=s.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null):o[rt]!==void 0?o[rt]:null}return{convert:nt}}class ArrayCamera extends PerspectiveCamera{constructor(s=[]){super(),this.isArrayCamera=!0,this.cameras=s}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(s){return this._targetRay!==null&&this._targetRay.dispatchEvent(s),this._grip!==null&&this._grip.dispatchEvent(s),this._hand!==null&&this._hand.dispatchEvent(s),this}disconnect(s){return this.dispatchEvent({type:"disconnected",data:s}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(s,et,tt){let nt=null,rt=null,it=null;const st=this._targetRay,ot=this._grip,at=this._hand;if(s&&et.session.visibilityState!=="visible-blurred"){if(at&&s.hand){it=!0;for(const gt of s.hand.values()){const _t=et.getJointPose(gt,tt);if(at.joints[gt.jointName]===void 0){const mt=new Group;mt.matrixAutoUpdate=!1,mt.visible=!1,at.joints[gt.jointName]=mt,at.add(mt)}const pt=at.joints[gt.jointName];_t!==null&&(pt.matrix.fromArray(_t.transform.matrix),pt.matrix.decompose(pt.position,pt.rotation,pt.scale),pt.jointRadius=_t.radius),pt.visible=_t!==null}const ut=at.joints["index-finger-tip"],ht=at.joints["thumb-tip"],ft=ut.position.distanceTo(ht.position),dt=.02,vt=.005;at.inputState.pinching&&ft>dt+vt?(at.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:s.handedness,target:this})):!at.inputState.pinching&&ft<=dt-vt&&(at.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:s.handedness,target:this}))}else ot!==null&&s.gripSpace&&(rt=et.getPose(s.gripSpace,tt),rt!==null&&(ot.matrix.fromArray(rt.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),rt.linearVelocity?(ot.hasLinearVelocity=!0,ot.linearVelocity.copy(rt.linearVelocity)):ot.hasLinearVelocity=!1,rt.angularVelocity?(ot.hasAngularVelocity=!0,ot.angularVelocity.copy(rt.angularVelocity)):ot.hasAngularVelocity=!1));st!==null&&(nt=et.getPose(s.targetRaySpace,tt),nt===null&&rt!==null&&(nt=rt),nt!==null&&(st.matrix.fromArray(nt.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),nt.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(nt.linearVelocity)):st.hasLinearVelocity=!1,nt.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(nt.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return st!==null&&(st.visible=nt!==null),ot!==null&&(ot.visible=rt!==null),at!==null&&(at.visible=it!==null),this}}class DepthTexture extends Texture{constructor(s,et,tt,nt,rt,it,st,ot,at,ut){if(ut=ut!==void 0?ut:DepthFormat,ut!==DepthFormat&&ut!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");tt===void 0&&ut===DepthFormat&&(tt=UnsignedIntType),tt===void 0&&ut===DepthStencilFormat&&(tt=UnsignedInt248Type),super(null,nt,rt,it,st,ot,ut,tt,at),this.isDepthTexture=!0,this.image={width:s,height:et},this.magFilter=st!==void 0?st:NearestFilter,this.minFilter=ot!==void 0?ot:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(s,et){super();const tt=this;let nt=null,rt=1,it=null,st="local-floor",ot=null,at=null,ut=null,ht=null,ft=null,dt=null;const vt=et.getContextAttributes();let gt=null,_t=null;const pt=[],mt=[],yt=new PerspectiveCamera;yt.layers.enable(1),yt.viewport=new Vector4;const xt=new PerspectiveCamera;xt.layers.enable(2),xt.viewport=new Vector4;const bt=[yt,xt],wt=new ArrayCamera;wt.layers.enable(1),wt.layers.enable(2);let Ct=null,Et=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Pt){let Rt=pt[Pt];return Rt===void 0&&(Rt=new WebXRController,pt[Pt]=Rt),Rt.getTargetRaySpace()},this.getControllerGrip=function(Pt){let Rt=pt[Pt];return Rt===void 0&&(Rt=new WebXRController,pt[Pt]=Rt),Rt.getGripSpace()},this.getHand=function(Pt){let Rt=pt[Pt];return Rt===void 0&&(Rt=new WebXRController,pt[Pt]=Rt),Rt.getHandSpace()};function kt(Pt){const Rt=mt.indexOf(Pt.inputSource);if(Rt===-1)return;const Vt=pt[Rt];Vt!==void 0&&Vt.dispatchEvent({type:Pt.type,data:Pt.inputSource})}function Dt(){nt.removeEventListener("select",kt),nt.removeEventListener("selectstart",kt),nt.removeEventListener("selectend",kt),nt.removeEventListener("squeeze",kt),nt.removeEventListener("squeezestart",kt),nt.removeEventListener("squeezeend",kt),nt.removeEventListener("end",Dt),nt.removeEventListener("inputsourceschange",zt);for(let Pt=0;Pt<pt.length;Pt++){const Rt=mt[Pt];Rt!==null&&(mt[Pt]=null,pt[Pt].disconnect(Rt))}Ct=null,Et=null,s.setRenderTarget(gt),ft=null,ht=null,ut=null,nt=null,_t=null,Tt.stop(),tt.isPresenting=!1,tt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Pt){rt=Pt,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Pt){st=Pt,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return ot||it},this.setReferenceSpace=function(Pt){ot=Pt},this.getBaseLayer=function(){return ht!==null?ht:ft},this.getBinding=function(){return ut},this.getFrame=function(){return dt},this.getSession=function(){return nt},this.setSession=async function(Pt){if(nt=Pt,nt!==null){if(gt=s.getRenderTarget(),nt.addEventListener("select",kt),nt.addEventListener("selectstart",kt),nt.addEventListener("selectend",kt),nt.addEventListener("squeeze",kt),nt.addEventListener("squeezestart",kt),nt.addEventListener("squeezeend",kt),nt.addEventListener("end",Dt),nt.addEventListener("inputsourceschange",zt),vt.xrCompatible!==!0&&await et.makeXRCompatible(),nt.renderState.layers===void 0||s.capabilities.isWebGL2===!1){const Rt={antialias:nt.renderState.layers===void 0?vt.antialias:!0,alpha:vt.alpha,depth:vt.depth,stencil:vt.stencil,framebufferScaleFactor:rt};ft=new XRWebGLLayer(nt,et,Rt),nt.updateRenderState({baseLayer:ft}),_t=new WebGLRenderTarget(ft.framebufferWidth,ft.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:s.outputEncoding,stencilBuffer:vt.stencil})}else{let Rt=null,Vt=null,Ot=null;vt.depth&&(Ot=vt.stencil?35056:33190,Rt=vt.stencil?DepthStencilFormat:DepthFormat,Vt=vt.stencil?UnsignedInt248Type:UnsignedIntType);const Xt={colorFormat:32856,depthFormat:Ot,scaleFactor:rt};ut=new XRWebGLBinding(nt,et),ht=ut.createProjectionLayer(Xt),nt.updateRenderState({layers:[ht]}),_t=new WebGLRenderTarget(ht.textureWidth,ht.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ht.textureWidth,ht.textureHeight,Vt,void 0,void 0,void 0,void 0,void 0,void 0,Rt),stencilBuffer:vt.stencil,encoding:s.outputEncoding,samples:vt.antialias?4:0});const Kt=s.properties.get(_t);Kt.__ignoreDepthValues=ht.ignoreDepthValues}_t.isXRRenderTarget=!0,this.setFoveation(1),ot=null,it=await nt.requestReferenceSpace(st),Tt.setContext(nt),Tt.start(),tt.isPresenting=!0,tt.dispatchEvent({type:"sessionstart"})}};function zt(Pt){for(let Rt=0;Rt<Pt.removed.length;Rt++){const Vt=Pt.removed[Rt],Ot=mt.indexOf(Vt);Ot>=0&&(mt[Ot]=null,pt[Ot].dispatchEvent({type:"disconnected",data:Vt}))}for(let Rt=0;Rt<Pt.added.length;Rt++){const Vt=Pt.added[Rt];let Ot=mt.indexOf(Vt);if(Ot===-1){for(let Kt=0;Kt<pt.length;Kt++)if(Kt>=mt.length){mt.push(Vt),Ot=Kt;break}else if(mt[Kt]===null){mt[Kt]=Vt,Ot=Kt;break}if(Ot===-1)break}const Xt=pt[Ot];Xt&&Xt.dispatchEvent({type:"connected",data:Vt})}}const Wt=new Vector3,Ht=new Vector3;function Gt(Pt,Rt,Vt){Wt.setFromMatrixPosition(Rt.matrixWorld),Ht.setFromMatrixPosition(Vt.matrixWorld);const Ot=Wt.distanceTo(Ht),Xt=Rt.projectionMatrix.elements,Kt=Vt.projectionMatrix.elements,fn=Xt[14]/(Xt[10]-1),Nt=Xt[14]/(Xt[10]+1),vn=(Xt[9]+1)/Xt[5],on=(Xt[9]-1)/Xt[5],bn=(Xt[8]-1)/Xt[0],cn=(Kt[8]+1)/Kt[0],xn=fn*bn,tn=fn*cn,Yt=Ot/(-bn+cn),dn=Yt*-bn;Rt.matrixWorld.decompose(Pt.position,Pt.quaternion,Pt.scale),Pt.translateX(dn),Pt.translateZ(Yt),Pt.matrixWorld.compose(Pt.position,Pt.quaternion,Pt.scale),Pt.matrixWorldInverse.copy(Pt.matrixWorld).invert();const yn=fn+Yt,_n=Nt+Yt,En=xn-dn,Tn=tn+(Ot-dn),Ln=vn*Nt/_n*yn,Bn=on*Nt/_n*yn;Pt.projectionMatrix.makePerspective(En,Tn,Ln,Bn,yn,_n)}function $t(Pt,Rt){Rt===null?Pt.matrixWorld.copy(Pt.matrix):Pt.matrixWorld.multiplyMatrices(Rt.matrixWorld,Pt.matrix),Pt.matrixWorldInverse.copy(Pt.matrixWorld).invert()}this.updateCamera=function(Pt){if(nt===null)return;wt.near=xt.near=yt.near=Pt.near,wt.far=xt.far=yt.far=Pt.far,(Ct!==wt.near||Et!==wt.far)&&(nt.updateRenderState({depthNear:wt.near,depthFar:wt.far}),Ct=wt.near,Et=wt.far);const Rt=Pt.parent,Vt=wt.cameras;$t(wt,Rt);for(let Xt=0;Xt<Vt.length;Xt++)$t(Vt[Xt],Rt);wt.matrixWorld.decompose(wt.position,wt.quaternion,wt.scale),Pt.matrix.copy(wt.matrix),Pt.matrix.decompose(Pt.position,Pt.quaternion,Pt.scale);const Ot=Pt.children;for(let Xt=0,Kt=Ot.length;Xt<Kt;Xt++)Ot[Xt].updateMatrixWorld(!0);Vt.length===2?Gt(wt,yt,xt):wt.projectionMatrix.copy(yt.projectionMatrix)},this.getCamera=function(){return wt},this.getFoveation=function(){if(ht!==null)return ht.fixedFoveation;if(ft!==null)return ft.fixedFoveation},this.setFoveation=function(Pt){ht!==null&&(ht.fixedFoveation=Pt),ft!==null&&ft.fixedFoveation!==void 0&&(ft.fixedFoveation=Pt)};let Ft=null;function It(Pt,Rt){if(at=Rt.getViewerPose(ot||it),dt=Rt,at!==null){const Vt=at.views;ft!==null&&(s.setRenderTargetFramebuffer(_t,ft.framebuffer),s.setRenderTarget(_t));let Ot=!1;Vt.length!==wt.cameras.length&&(wt.cameras.length=0,Ot=!0);for(let Xt=0;Xt<Vt.length;Xt++){const Kt=Vt[Xt];let fn=null;if(ft!==null)fn=ft.getViewport(Kt);else{const vn=ut.getViewSubImage(ht,Kt);fn=vn.viewport,Xt===0&&(s.setRenderTargetTextures(_t,vn.colorTexture,ht.ignoreDepthValues?void 0:vn.depthStencilTexture),s.setRenderTarget(_t))}let Nt=bt[Xt];Nt===void 0&&(Nt=new PerspectiveCamera,Nt.layers.enable(Xt),Nt.viewport=new Vector4,bt[Xt]=Nt),Nt.matrix.fromArray(Kt.transform.matrix),Nt.projectionMatrix.fromArray(Kt.projectionMatrix),Nt.viewport.set(fn.x,fn.y,fn.width,fn.height),Xt===0&&wt.matrix.copy(Nt.matrix),Ot===!0&&wt.cameras.push(Nt)}}for(let Vt=0;Vt<pt.length;Vt++){const Ot=mt[Vt],Xt=pt[Vt];Ot!==null&&Xt!==void 0&&Xt.update(Ot,Rt,ot||it)}Ft&&Ft(Pt,Rt),dt=null}const Tt=new WebGLAnimation;Tt.setAnimationLoop(It),this.setAnimationLoop=function(Pt){Ft=Pt},this.dispose=function(){}}}function WebGLMaterials(o,s){function et(gt,_t){gt.fogColor.value.copy(_t.color),_t.isFog?(gt.fogNear.value=_t.near,gt.fogFar.value=_t.far):_t.isFogExp2&&(gt.fogDensity.value=_t.density)}function tt(gt,_t,pt,mt,yt){_t.isMeshBasicMaterial||_t.isMeshLambertMaterial?nt(gt,_t):_t.isMeshToonMaterial?(nt(gt,_t),ut(gt,_t)):_t.isMeshPhongMaterial?(nt(gt,_t),at(gt,_t)):_t.isMeshStandardMaterial?(nt(gt,_t),ht(gt,_t),_t.isMeshPhysicalMaterial&&ft(gt,_t,yt)):_t.isMeshMatcapMaterial?(nt(gt,_t),dt(gt,_t)):_t.isMeshDepthMaterial?nt(gt,_t):_t.isMeshDistanceMaterial?(nt(gt,_t),vt(gt,_t)):_t.isMeshNormalMaterial?nt(gt,_t):_t.isLineBasicMaterial?(rt(gt,_t),_t.isLineDashedMaterial&&it(gt,_t)):_t.isPointsMaterial?st(gt,_t,pt,mt):_t.isSpriteMaterial?ot(gt,_t):_t.isShadowMaterial?(gt.color.value.copy(_t.color),gt.opacity.value=_t.opacity):_t.isShaderMaterial&&(_t.uniformsNeedUpdate=!1)}function nt(gt,_t){gt.opacity.value=_t.opacity,_t.color&&gt.diffuse.value.copy(_t.color),_t.emissive&&gt.emissive.value.copy(_t.emissive).multiplyScalar(_t.emissiveIntensity),_t.map&&(gt.map.value=_t.map),_t.alphaMap&&(gt.alphaMap.value=_t.alphaMap),_t.bumpMap&&(gt.bumpMap.value=_t.bumpMap,gt.bumpScale.value=_t.bumpScale,_t.side===BackSide&&(gt.bumpScale.value*=-1)),_t.displacementMap&&(gt.displacementMap.value=_t.displacementMap,gt.displacementScale.value=_t.displacementScale,gt.displacementBias.value=_t.displacementBias),_t.emissiveMap&&(gt.emissiveMap.value=_t.emissiveMap),_t.normalMap&&(gt.normalMap.value=_t.normalMap,gt.normalScale.value.copy(_t.normalScale),_t.side===BackSide&&gt.normalScale.value.negate()),_t.specularMap&&(gt.specularMap.value=_t.specularMap),_t.alphaTest>0&&(gt.alphaTest.value=_t.alphaTest);const pt=s.get(_t).envMap;if(pt&&(gt.envMap.value=pt,gt.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1,gt.reflectivity.value=_t.reflectivity,gt.ior.value=_t.ior,gt.refractionRatio.value=_t.refractionRatio),_t.lightMap){gt.lightMap.value=_t.lightMap;const xt=o.physicallyCorrectLights!==!0?Math.PI:1;gt.lightMapIntensity.value=_t.lightMapIntensity*xt}_t.aoMap&&(gt.aoMap.value=_t.aoMap,gt.aoMapIntensity.value=_t.aoMapIntensity);let mt;_t.map?mt=_t.map:_t.specularMap?mt=_t.specularMap:_t.displacementMap?mt=_t.displacementMap:_t.normalMap?mt=_t.normalMap:_t.bumpMap?mt=_t.bumpMap:_t.roughnessMap?mt=_t.roughnessMap:_t.metalnessMap?mt=_t.metalnessMap:_t.alphaMap?mt=_t.alphaMap:_t.emissiveMap?mt=_t.emissiveMap:_t.clearcoatMap?mt=_t.clearcoatMap:_t.clearcoatNormalMap?mt=_t.clearcoatNormalMap:_t.clearcoatRoughnessMap?mt=_t.clearcoatRoughnessMap:_t.iridescenceMap?mt=_t.iridescenceMap:_t.iridescenceThicknessMap?mt=_t.iridescenceThicknessMap:_t.specularIntensityMap?mt=_t.specularIntensityMap:_t.specularColorMap?mt=_t.specularColorMap:_t.transmissionMap?mt=_t.transmissionMap:_t.thicknessMap?mt=_t.thicknessMap:_t.sheenColorMap?mt=_t.sheenColorMap:_t.sheenRoughnessMap&&(mt=_t.sheenRoughnessMap),mt!==void 0&&(mt.isWebGLRenderTarget&&(mt=mt.texture),mt.matrixAutoUpdate===!0&&mt.updateMatrix(),gt.uvTransform.value.copy(mt.matrix));let yt;_t.aoMap?yt=_t.aoMap:_t.lightMap&&(yt=_t.lightMap),yt!==void 0&&(yt.isWebGLRenderTarget&&(yt=yt.texture),yt.matrixAutoUpdate===!0&&yt.updateMatrix(),gt.uv2Transform.value.copy(yt.matrix))}function rt(gt,_t){gt.diffuse.value.copy(_t.color),gt.opacity.value=_t.opacity}function it(gt,_t){gt.dashSize.value=_t.dashSize,gt.totalSize.value=_t.dashSize+_t.gapSize,gt.scale.value=_t.scale}function st(gt,_t,pt,mt){gt.diffuse.value.copy(_t.color),gt.opacity.value=_t.opacity,gt.size.value=_t.size*pt,gt.scale.value=mt*.5,_t.map&&(gt.map.value=_t.map),_t.alphaMap&&(gt.alphaMap.value=_t.alphaMap),_t.alphaTest>0&&(gt.alphaTest.value=_t.alphaTest);let yt;_t.map?yt=_t.map:_t.alphaMap&&(yt=_t.alphaMap),yt!==void 0&&(yt.matrixAutoUpdate===!0&&yt.updateMatrix(),gt.uvTransform.value.copy(yt.matrix))}function ot(gt,_t){gt.diffuse.value.copy(_t.color),gt.opacity.value=_t.opacity,gt.rotation.value=_t.rotation,_t.map&&(gt.map.value=_t.map),_t.alphaMap&&(gt.alphaMap.value=_t.alphaMap),_t.alphaTest>0&&(gt.alphaTest.value=_t.alphaTest);let pt;_t.map?pt=_t.map:_t.alphaMap&&(pt=_t.alphaMap),pt!==void 0&&(pt.matrixAutoUpdate===!0&&pt.updateMatrix(),gt.uvTransform.value.copy(pt.matrix))}function at(gt,_t){gt.specular.value.copy(_t.specular),gt.shininess.value=Math.max(_t.shininess,1e-4)}function ut(gt,_t){_t.gradientMap&&(gt.gradientMap.value=_t.gradientMap)}function ht(gt,_t){gt.roughness.value=_t.roughness,gt.metalness.value=_t.metalness,_t.roughnessMap&&(gt.roughnessMap.value=_t.roughnessMap),_t.metalnessMap&&(gt.metalnessMap.value=_t.metalnessMap),s.get(_t).envMap&&(gt.envMapIntensity.value=_t.envMapIntensity)}function ft(gt,_t,pt){gt.ior.value=_t.ior,_t.sheen>0&&(gt.sheenColor.value.copy(_t.sheenColor).multiplyScalar(_t.sheen),gt.sheenRoughness.value=_t.sheenRoughness,_t.sheenColorMap&&(gt.sheenColorMap.value=_t.sheenColorMap),_t.sheenRoughnessMap&&(gt.sheenRoughnessMap.value=_t.sheenRoughnessMap)),_t.clearcoat>0&&(gt.clearcoat.value=_t.clearcoat,gt.clearcoatRoughness.value=_t.clearcoatRoughness,_t.clearcoatMap&&(gt.clearcoatMap.value=_t.clearcoatMap),_t.clearcoatRoughnessMap&&(gt.clearcoatRoughnessMap.value=_t.clearcoatRoughnessMap),_t.clearcoatNormalMap&&(gt.clearcoatNormalScale.value.copy(_t.clearcoatNormalScale),gt.clearcoatNormalMap.value=_t.clearcoatNormalMap,_t.side===BackSide&&gt.clearcoatNormalScale.value.negate())),_t.iridescence>0&&(gt.iridescence.value=_t.iridescence,gt.iridescenceIOR.value=_t.iridescenceIOR,gt.iridescenceThicknessMinimum.value=_t.iridescenceThicknessRange[0],gt.iridescenceThicknessMaximum.value=_t.iridescenceThicknessRange[1],_t.iridescenceMap&&(gt.iridescenceMap.value=_t.iridescenceMap),_t.iridescenceThicknessMap&&(gt.iridescenceThicknessMap.value=_t.iridescenceThicknessMap)),_t.transmission>0&&(gt.transmission.value=_t.transmission,gt.transmissionSamplerMap.value=pt.texture,gt.transmissionSamplerSize.value.set(pt.width,pt.height),_t.transmissionMap&&(gt.transmissionMap.value=_t.transmissionMap),gt.thickness.value=_t.thickness,_t.thicknessMap&&(gt.thicknessMap.value=_t.thicknessMap),gt.attenuationDistance.value=_t.attenuationDistance,gt.attenuationColor.value.copy(_t.attenuationColor)),gt.specularIntensity.value=_t.specularIntensity,gt.specularColor.value.copy(_t.specularColor),_t.specularIntensityMap&&(gt.specularIntensityMap.value=_t.specularIntensityMap),_t.specularColorMap&&(gt.specularColorMap.value=_t.specularColorMap)}function dt(gt,_t){_t.matcap&&(gt.matcap.value=_t.matcap)}function vt(gt,_t){gt.referencePosition.value.copy(_t.referencePosition),gt.nearDistance.value=_t.nearDistance,gt.farDistance.value=_t.farDistance}return{refreshFogUniforms:et,refreshMaterialUniforms:tt}}function WebGLUniformsGroups(o,s,et,tt){let nt={},rt={},it=[];const st=et.isWebGL2?o.getParameter(35375):0;function ot(mt,yt){const xt=yt.program;tt.uniformBlockBinding(mt,xt)}function at(mt,yt){let xt=nt[mt.id];xt===void 0&&(vt(mt),xt=ut(mt),nt[mt.id]=xt,mt.addEventListener("dispose",_t));const bt=yt.program;tt.updateUBOMapping(mt,bt);const wt=s.render.frame;rt[mt.id]!==wt&&(ft(mt),rt[mt.id]=wt)}function ut(mt){const yt=ht();mt.__bindingPointIndex=yt;const xt=o.createBuffer(),bt=mt.__size,wt=mt.usage;return o.bindBuffer(35345,xt),o.bufferData(35345,bt,wt),o.bindBuffer(35345,null),o.bindBufferBase(35345,yt,xt),xt}function ht(){for(let mt=0;mt<st;mt++)if(it.indexOf(mt)===-1)return it.push(mt),mt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ft(mt){const yt=nt[mt.id],xt=mt.uniforms,bt=mt.__cache;o.bindBuffer(35345,yt);for(let wt=0,Ct=xt.length;wt<Ct;wt++){const Et=xt[wt];if(dt(Et,wt,bt)===!0){const kt=Et.value,Dt=Et.__offset;typeof kt=="number"?(Et.__data[0]=kt,o.bufferSubData(35345,Dt,Et.__data)):(Et.value.isMatrix3?(Et.__data[0]=Et.value.elements[0],Et.__data[1]=Et.value.elements[1],Et.__data[2]=Et.value.elements[2],Et.__data[3]=Et.value.elements[0],Et.__data[4]=Et.value.elements[3],Et.__data[5]=Et.value.elements[4],Et.__data[6]=Et.value.elements[5],Et.__data[7]=Et.value.elements[0],Et.__data[8]=Et.value.elements[6],Et.__data[9]=Et.value.elements[7],Et.__data[10]=Et.value.elements[8],Et.__data[11]=Et.value.elements[0]):kt.toArray(Et.__data),o.bufferSubData(35345,Dt,Et.__data))}}o.bindBuffer(35345,null)}function dt(mt,yt,xt){const bt=mt.value;if(xt[yt]===void 0)return typeof bt=="number"?xt[yt]=bt:xt[yt]=bt.clone(),!0;if(typeof bt=="number"){if(xt[yt]!==bt)return xt[yt]=bt,!0}else{const wt=xt[yt];if(wt.equals(bt)===!1)return wt.copy(bt),!0}return!1}function vt(mt){const yt=mt.uniforms;let xt=0;const bt=16;let wt=0;for(let Ct=0,Et=yt.length;Ct<Et;Ct++){const kt=yt[Ct],Dt=gt(kt);if(kt.__data=new Float32Array(Dt.storage/Float32Array.BYTES_PER_ELEMENT),kt.__offset=xt,Ct>0){wt=xt%bt;const zt=bt-wt;wt!==0&&zt-Dt.boundary<0&&(xt+=bt-wt,kt.__offset=xt)}xt+=Dt.storage}return wt=xt%bt,wt>0&&(xt+=bt-wt),mt.__size=xt,mt.__cache={},this}function gt(mt){const yt=mt.value,xt={boundary:0,storage:0};return typeof yt=="number"?(xt.boundary=4,xt.storage=4):yt.isVector2?(xt.boundary=8,xt.storage=8):yt.isVector3||yt.isColor?(xt.boundary=16,xt.storage=12):yt.isVector4?(xt.boundary=16,xt.storage=16):yt.isMatrix3?(xt.boundary=48,xt.storage=48):yt.isMatrix4?(xt.boundary=64,xt.storage=64):yt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",yt),xt}function _t(mt){const yt=mt.target;yt.removeEventListener("dispose",_t);const xt=it.indexOf(yt.__bindingPointIndex);it.splice(xt,1),o.deleteBuffer(nt[yt.id]),delete nt[yt.id],delete rt[yt.id]}function pt(){for(const mt in nt)o.deleteBuffer(nt[mt]);it=[],nt={},rt={}}return{bind:ot,update:at,dispose:pt}}function createCanvasElement(){const o=createElementNS("canvas");return o.style.display="block",o}function WebGLRenderer(o={}){this.isWebGLRenderer=!0;const s=o.canvas!==void 0?o.canvas:createCanvasElement(),et=o.context!==void 0?o.context:null,tt=o.depth!==void 0?o.depth:!0,nt=o.stencil!==void 0?o.stencil:!0,rt=o.antialias!==void 0?o.antialias:!1,it=o.premultipliedAlpha!==void 0?o.premultipliedAlpha:!0,st=o.preserveDrawingBuffer!==void 0?o.preserveDrawingBuffer:!1,ot=o.powerPreference!==void 0?o.powerPreference:"default",at=o.failIfMajorPerformanceCaveat!==void 0?o.failIfMajorPerformanceCaveat:!1;let ut;et!==null?ut=et.getContextAttributes().alpha:ut=o.alpha!==void 0?o.alpha:!1;let ht=null,ft=null;const dt=[],vt=[];this.domElement=s,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const gt=this;let _t=!1,pt=0,mt=0,yt=null,xt=-1,bt=null;const wt=new Vector4,Ct=new Vector4;let Et=null,kt=s.width,Dt=s.height,zt=1,Wt=null,Ht=null;const Gt=new Vector4(0,0,kt,Dt),$t=new Vector4(0,0,kt,Dt);let Ft=!1;const It=new Frustum;let Tt=!1,Pt=!1,Rt=null;const Vt=new Matrix4,Ot=new Vector2,Xt=new Vector3,Kt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function fn(){return yt===null?zt:1}let Nt=et;function vn(Ut,rn){for(let mn=0;mn<Ut.length;mn++){const nn=Ut[mn],gn=s.getContext(nn,rn);if(gn!==null)return gn}return null}try{const Ut={alpha:!0,depth:tt,stencil:nt,antialias:rt,premultipliedAlpha:it,preserveDrawingBuffer:st,powerPreference:ot,failIfMajorPerformanceCaveat:at};if("setAttribute"in s&&s.setAttribute("data-engine",`three.js r${REVISION}`),s.addEventListener("webglcontextlost",Yn,!1),s.addEventListener("webglcontextrestored",sr,!1),s.addEventListener("webglcontextcreationerror",yr,!1),Nt===null){const rn=["webgl2","webgl","experimental-webgl"];if(gt.isWebGL1Renderer===!0&&rn.shift(),Nt=vn(rn,Ut),Nt===null)throw vn(rn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Nt.getShaderPrecisionFormat===void 0&&(Nt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ut){throw console.error("THREE.WebGLRenderer: "+Ut.message),Ut}let on,bn,cn,xn,tn,Yt,dn,yn,_n,En,Tn,Ln,Bn,Hn,qt,Bt,Zt,pn,Sn,wn,Vn,ln,Nn,In;function $n(){on=new WebGLExtensions(Nt),bn=new WebGLCapabilities(Nt,on,o),on.init(bn),ln=new WebGLUtils(Nt,on,bn),cn=new WebGLState(Nt,on,bn),xn=new WebGLInfo,tn=new WebGLProperties,Yt=new WebGLTextures(Nt,on,cn,tn,bn,ln,xn),dn=new WebGLCubeMaps(gt),yn=new WebGLCubeUVMaps(gt),_n=new WebGLAttributes(Nt,bn),Nn=new WebGLBindingStates(Nt,on,_n,bn),En=new WebGLGeometries(Nt,_n,xn,Nn),Tn=new WebGLObjects(Nt,En,_n,xn),Sn=new WebGLMorphtargets(Nt,bn,Yt),Bt=new WebGLClipping(tn),Ln=new WebGLPrograms(gt,dn,yn,on,bn,Nn,Bt),Bn=new WebGLMaterials(gt,tn),Hn=new WebGLRenderLists,qt=new WebGLRenderStates(on,bn),pn=new WebGLBackground(gt,dn,cn,Tn,ut,it),Zt=new WebGLShadowMap(gt,Tn,bn),In=new WebGLUniformsGroups(Nt,xn,bn,cn),wn=new WebGLBufferRenderer(Nt,on,xn,bn),Vn=new WebGLIndexedBufferRenderer(Nt,on,xn,bn),xn.programs=Ln.programs,gt.capabilities=bn,gt.extensions=on,gt.properties=tn,gt.renderLists=Hn,gt.shadowMap=Zt,gt.state=cn,gt.info=xn}$n();const Fn=new WebXRManager(gt,Nt);this.xr=Fn,this.getContext=function(){return Nt},this.getContextAttributes=function(){return Nt.getContextAttributes()},this.forceContextLoss=function(){const Ut=on.get("WEBGL_lose_context");Ut&&Ut.loseContext()},this.forceContextRestore=function(){const Ut=on.get("WEBGL_lose_context");Ut&&Ut.restoreContext()},this.getPixelRatio=function(){return zt},this.setPixelRatio=function(Ut){Ut!==void 0&&(zt=Ut,this.setSize(kt,Dt,!1))},this.getSize=function(Ut){return Ut.set(kt,Dt)},this.setSize=function(Ut,rn,mn){if(Fn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}kt=Ut,Dt=rn,s.width=Math.floor(Ut*zt),s.height=Math.floor(rn*zt),mn!==!1&&(s.style.width=Ut+"px",s.style.height=rn+"px"),this.setViewport(0,0,Ut,rn)},this.getDrawingBufferSize=function(Ut){return Ut.set(kt*zt,Dt*zt).floor()},this.setDrawingBufferSize=function(Ut,rn,mn){kt=Ut,Dt=rn,zt=mn,s.width=Math.floor(Ut*mn),s.height=Math.floor(rn*mn),this.setViewport(0,0,Ut,rn)},this.getCurrentViewport=function(Ut){return Ut.copy(wt)},this.getViewport=function(Ut){return Ut.copy(Gt)},this.setViewport=function(Ut,rn,mn,nn){Ut.isVector4?Gt.set(Ut.x,Ut.y,Ut.z,Ut.w):Gt.set(Ut,rn,mn,nn),cn.viewport(wt.copy(Gt).multiplyScalar(zt).floor())},this.getScissor=function(Ut){return Ut.copy($t)},this.setScissor=function(Ut,rn,mn,nn){Ut.isVector4?$t.set(Ut.x,Ut.y,Ut.z,Ut.w):$t.set(Ut,rn,mn,nn),cn.scissor(Ct.copy($t).multiplyScalar(zt).floor())},this.getScissorTest=function(){return Ft},this.setScissorTest=function(Ut){cn.setScissorTest(Ft=Ut)},this.setOpaqueSort=function(Ut){Wt=Ut},this.setTransparentSort=function(Ut){Ht=Ut},this.getClearColor=function(Ut){return Ut.copy(pn.getClearColor())},this.setClearColor=function(){pn.setClearColor.apply(pn,arguments)},this.getClearAlpha=function(){return pn.getClearAlpha()},this.setClearAlpha=function(){pn.setClearAlpha.apply(pn,arguments)},this.clear=function(Ut=!0,rn=!0,mn=!0){let nn=0;Ut&&(nn|=16384),rn&&(nn|=256),mn&&(nn|=1024),Nt.clear(nn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){s.removeEventListener("webglcontextlost",Yn,!1),s.removeEventListener("webglcontextrestored",sr,!1),s.removeEventListener("webglcontextcreationerror",yr,!1),Hn.dispose(),qt.dispose(),tn.dispose(),dn.dispose(),yn.dispose(),Tn.dispose(),Nn.dispose(),In.dispose(),Ln.dispose(),Fn.dispose(),Fn.removeEventListener("sessionstart",rr),Fn.removeEventListener("sessionend",br),Rt&&(Rt.dispose(),Rt=null),dr.stop()};function Yn(Ut){Ut.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_t=!0}function sr(){console.log("THREE.WebGLRenderer: Context Restored."),_t=!1;const Ut=xn.autoReset,rn=Zt.enabled,mn=Zt.autoUpdate,nn=Zt.needsUpdate,gn=Zt.type;$n(),xn.autoReset=Ut,Zt.enabled=rn,Zt.autoUpdate=mn,Zt.needsUpdate=nn,Zt.type=gn}function yr(Ut){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ut.statusMessage)}function en(Ut){const rn=Ut.target;rn.removeEventListener("dispose",en),Rn(rn)}function Rn(Ut){hn(Ut),tn.remove(Ut)}function hn(Ut){const rn=tn.get(Ut).programs;rn!==void 0&&(rn.forEach(function(mn){Ln.releaseProgram(mn)}),Ut.isShaderMaterial&&Ln.releaseShaderCache(Ut))}this.renderBufferDirect=function(Ut,rn,mn,nn,gn,Gn){rn===null&&(rn=Kt);const Wn=gn.isMesh&&gn.matrixWorld.determinant()<0,Zn=Nl(Ut,rn,mn,nn,gn);cn.setMaterial(nn,Wn);let jn=mn.index;const or=mn.attributes.position;if(jn===null){if(or===void 0||or.count===0)return}else if(jn.count===0)return;let tr=1;nn.wireframe===!0&&(jn=En.getWireframeAttribute(mn),tr=2),Nn.setup(gn,nn,Zn,mn,jn);let nr,mr=wn;jn!==null&&(nr=_n.get(jn),mr=Vn,mr.setIndex(nr));const _s=jn!==null?jn.count:or.count,As=mn.drawRange.start*tr,Ps=mn.drawRange.count*tr,Or=Gn!==null?Gn.start*tr:0,er=Gn!==null?Gn.count*tr:1/0,fs=Math.max(As,Or),gr=Math.min(_s,As+Ps,Or+er)-1,Nr=Math.max(0,gr-fs+1);if(Nr!==0){if(gn.isMesh)nn.wireframe===!0?(cn.setLineWidth(nn.wireframeLinewidth*fn()),mr.setMode(1)):mr.setMode(4);else if(gn.isLine){let Yr=nn.linewidth;Yr===void 0&&(Yr=1),cn.setLineWidth(Yr*fn()),gn.isLineSegments?mr.setMode(1):gn.isLineLoop?mr.setMode(2):mr.setMode(3)}else gn.isPoints?mr.setMode(0):gn.isSprite&&mr.setMode(4);if(gn.isInstancedMesh)mr.renderInstances(fs,Nr,gn.count);else if(mn.isInstancedBufferGeometry){const Yr=Math.min(mn.instanceCount,mn._maxInstanceCount);mr.renderInstances(fs,Nr,Yr)}else mr.render(fs,Nr)}},this.compile=function(Ut,rn){function mn(nn,gn,Gn){nn.transparent===!0&&nn.side===DoubleSide?(nn.side=BackSide,nn.needsUpdate=!0,qs(nn,gn,Gn),nn.side=FrontSide,nn.needsUpdate=!0,qs(nn,gn,Gn),nn.side=DoubleSide):qs(nn,gn,Gn)}ft=qt.get(Ut),ft.init(),vt.push(ft),Ut.traverseVisible(function(nn){nn.isLight&&nn.layers.test(rn.layers)&&(ft.pushLight(nn),nn.castShadow&&ft.pushShadow(nn))}),ft.setupLights(gt.physicallyCorrectLights),Ut.traverse(function(nn){const gn=nn.material;if(gn)if(Array.isArray(gn))for(let Gn=0;Gn<gn.length;Gn++){const Wn=gn[Gn];mn(Wn,Ut,nn)}else mn(gn,Ut,nn)}),vt.pop(),ft=null};let kn=null;function Pn(Ut){kn&&kn(Ut)}function rr(){dr.stop()}function br(){dr.start()}const dr=new WebGLAnimation;dr.setAnimationLoop(Pn),typeof self<"u"&&dr.setContext(self),this.setAnimationLoop=function(Ut){kn=Ut,Fn.setAnimationLoop(Ut),Ut===null?dr.stop():dr.start()},Fn.addEventListener("sessionstart",rr),Fn.addEventListener("sessionend",br),this.render=function(Ut,rn){if(rn!==void 0&&rn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_t===!0)return;Ut.matrixWorldAutoUpdate===!0&&Ut.updateMatrixWorld(),rn.parent===null&&rn.matrixWorldAutoUpdate===!0&&rn.updateMatrixWorld(),Fn.enabled===!0&&Fn.isPresenting===!0&&(Fn.cameraAutoUpdate===!0&&Fn.updateCamera(rn),rn=Fn.getCamera()),Ut.isScene===!0&&Ut.onBeforeRender(gt,Ut,rn,yt),ft=qt.get(Ut,vt.length),ft.init(),vt.push(ft),Vt.multiplyMatrices(rn.projectionMatrix,rn.matrixWorldInverse),It.setFromProjectionMatrix(Vt),Pt=this.localClippingEnabled,Tt=Bt.init(this.clippingPlanes,Pt,rn),ht=Hn.get(Ut,dt.length),ht.init(),dt.push(ht),as(Ut,rn,0,gt.sortObjects),ht.finish(),gt.sortObjects===!0&&ht.sort(Wt,Ht),Tt===!0&&Bt.beginShadows();const mn=ft.state.shadowsArray;if(Zt.render(mn,Ut,rn),Tt===!0&&Bt.endShadows(),this.info.autoReset===!0&&this.info.reset(),pn.render(ht,Ut),ft.setupLights(gt.physicallyCorrectLights),rn.isArrayCamera){const nn=rn.cameras;for(let gn=0,Gn=nn.length;gn<Gn;gn++){const Wn=nn[gn];pr(ht,Ut,Wn,Wn.viewport)}}else pr(ht,Ut,rn);yt!==null&&(Yt.updateMultisampleRenderTarget(yt),Yt.updateRenderTargetMipmap(yt)),Ut.isScene===!0&&Ut.onAfterRender(gt,Ut,rn),Nn.resetDefaultState(),xt=-1,bt=null,vt.pop(),vt.length>0?ft=vt[vt.length-1]:ft=null,dt.pop(),dt.length>0?ht=dt[dt.length-1]:ht=null};function as(Ut,rn,mn,nn){if(Ut.visible===!1)return;if(Ut.layers.test(rn.layers)){if(Ut.isGroup)mn=Ut.renderOrder;else if(Ut.isLOD)Ut.autoUpdate===!0&&Ut.update(rn);else if(Ut.isLight)ft.pushLight(Ut),Ut.castShadow&&ft.pushShadow(Ut);else if(Ut.isSprite){if(!Ut.frustumCulled||It.intersectsSprite(Ut)){nn&&Xt.setFromMatrixPosition(Ut.matrixWorld).applyMatrix4(Vt);const Wn=Tn.update(Ut),Zn=Ut.material;Zn.visible&&ht.push(Ut,Wn,Zn,mn,Xt.z,null)}}else if((Ut.isMesh||Ut.isLine||Ut.isPoints)&&(Ut.isSkinnedMesh&&Ut.skeleton.frame!==xn.render.frame&&(Ut.skeleton.update(),Ut.skeleton.frame=xn.render.frame),!Ut.frustumCulled||It.intersectsObject(Ut))){nn&&Xt.setFromMatrixPosition(Ut.matrixWorld).applyMatrix4(Vt);const Wn=Tn.update(Ut),Zn=Ut.material;if(Array.isArray(Zn)){const jn=Wn.groups;for(let or=0,tr=jn.length;or<tr;or++){const nr=jn[or],mr=Zn[nr.materialIndex];mr&&mr.visible&&ht.push(Ut,Wn,mr,mn,Xt.z,nr)}}else Zn.visible&&ht.push(Ut,Wn,Zn,mn,Xt.z,null)}}const Gn=Ut.children;for(let Wn=0,Zn=Gn.length;Wn<Zn;Wn++)as(Gn[Wn],rn,mn,nn)}function pr(Ut,rn,mn,nn){const gn=Ut.opaque,Gn=Ut.transmissive,Wn=Ut.transparent;ft.setupLightsView(mn),Gn.length>0&&Xr(gn,rn,mn),nn&&cn.viewport(wt.copy(nn)),gn.length>0&&Fr(gn,rn,mn),Gn.length>0&&Fr(Gn,rn,mn),Wn.length>0&&Fr(Wn,rn,mn),cn.buffers.depth.setTest(!0),cn.buffers.depth.setMask(!0),cn.buffers.color.setMask(!0),cn.setPolygonOffset(!1)}function Xr(Ut,rn,mn){const nn=bn.isWebGL2;Rt===null&&(Rt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:on.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:nn&&rt===!0?4:0})),gt.getDrawingBufferSize(Ot),nn?Rt.setSize(Ot.x,Ot.y):Rt.setSize(floorPowerOfTwo(Ot.x),floorPowerOfTwo(Ot.y));const gn=gt.getRenderTarget();gt.setRenderTarget(Rt),gt.clear();const Gn=gt.toneMapping;gt.toneMapping=NoToneMapping,Fr(Ut,rn,mn),gt.toneMapping=Gn,Yt.updateMultisampleRenderTarget(Rt),Yt.updateRenderTargetMipmap(Rt),gt.setRenderTarget(gn)}function Fr(Ut,rn,mn){const nn=rn.isScene===!0?rn.overrideMaterial:null;for(let gn=0,Gn=Ut.length;gn<Gn;gn++){const Wn=Ut[gn],Zn=Wn.object,jn=Wn.geometry,or=nn===null?Wn.material:nn,tr=Wn.group;Zn.layers.test(mn.layers)&&Co(Zn,rn,mn,jn,or,tr)}}function Co(Ut,rn,mn,nn,gn,Gn){Ut.onBeforeRender(gt,rn,mn,nn,gn,Gn),Ut.modelViewMatrix.multiplyMatrices(mn.matrixWorldInverse,Ut.matrixWorld),Ut.normalMatrix.getNormalMatrix(Ut.modelViewMatrix),gn.onBeforeRender(gt,rn,mn,nn,Ut,Gn),gn.transparent===!0&&gn.side===DoubleSide?(gn.side=BackSide,gn.needsUpdate=!0,gt.renderBufferDirect(mn,rn,nn,gn,Ut,Gn),gn.side=FrontSide,gn.needsUpdate=!0,gt.renderBufferDirect(mn,rn,nn,gn,Ut,Gn),gn.side=DoubleSide):gt.renderBufferDirect(mn,rn,nn,gn,Ut,Gn),Ut.onAfterRender(gt,rn,mn,nn,gn,Gn)}function qs(Ut,rn,mn){rn.isScene!==!0&&(rn=Kt);const nn=tn.get(Ut),gn=ft.state.lights,Gn=ft.state.shadowsArray,Wn=gn.state.version,Zn=Ln.getParameters(Ut,gn.state,Gn,rn,mn),jn=Ln.getProgramCacheKey(Zn);let or=nn.programs;nn.environment=Ut.isMeshStandardMaterial?rn.environment:null,nn.fog=rn.fog,nn.envMap=(Ut.isMeshStandardMaterial?yn:dn).get(Ut.envMap||nn.environment),or===void 0&&(Ut.addEventListener("dispose",en),or=new Map,nn.programs=or);let tr=or.get(jn);if(tr!==void 0){if(nn.currentProgram===tr&&nn.lightsStateVersion===Wn)return Ao(Ut,Zn),tr}else Zn.uniforms=Ln.getUniforms(Ut),Ut.onBuild(mn,Zn,gt),Ut.onBeforeCompile(Zn,gt),tr=Ln.acquireProgram(Zn,jn),or.set(jn,tr),nn.uniforms=Zn.uniforms;const nr=nn.uniforms;(!Ut.isShaderMaterial&&!Ut.isRawShaderMaterial||Ut.clipping===!0)&&(nr.clippingPlanes=Bt.uniform),Ao(Ut,Zn),nn.needsLights=oo(Ut),nn.lightsStateVersion=Wn,nn.needsLights&&(nr.ambientLightColor.value=gn.state.ambient,nr.lightProbe.value=gn.state.probe,nr.directionalLights.value=gn.state.directional,nr.directionalLightShadows.value=gn.state.directionalShadow,nr.spotLights.value=gn.state.spot,nr.spotLightShadows.value=gn.state.spotShadow,nr.rectAreaLights.value=gn.state.rectArea,nr.ltc_1.value=gn.state.rectAreaLTC1,nr.ltc_2.value=gn.state.rectAreaLTC2,nr.pointLights.value=gn.state.point,nr.pointLightShadows.value=gn.state.pointShadow,nr.hemisphereLights.value=gn.state.hemi,nr.directionalShadowMap.value=gn.state.directionalShadowMap,nr.directionalShadowMatrix.value=gn.state.directionalShadowMatrix,nr.spotShadowMap.value=gn.state.spotShadowMap,nr.spotLightMatrix.value=gn.state.spotLightMatrix,nr.spotLightMap.value=gn.state.spotLightMap,nr.pointShadowMap.value=gn.state.pointShadowMap,nr.pointShadowMatrix.value=gn.state.pointShadowMatrix);const mr=tr.getUniforms(),_s=WebGLUniforms.seqWithValue(mr.seq,nr);return nn.currentProgram=tr,nn.uniformsList=_s,tr}function Ao(Ut,rn){const mn=tn.get(Ut);mn.outputEncoding=rn.outputEncoding,mn.instancing=rn.instancing,mn.skinning=rn.skinning,mn.morphTargets=rn.morphTargets,mn.morphNormals=rn.morphNormals,mn.morphColors=rn.morphColors,mn.morphTargetsCount=rn.morphTargetsCount,mn.numClippingPlanes=rn.numClippingPlanes,mn.numIntersection=rn.numClipIntersection,mn.vertexAlphas=rn.vertexAlphas,mn.vertexTangents=rn.vertexTangents,mn.toneMapping=rn.toneMapping}function Nl(Ut,rn,mn,nn,gn){rn.isScene!==!0&&(rn=Kt),Yt.resetTextureUnits();const Gn=rn.fog,Wn=nn.isMeshStandardMaterial?rn.environment:null,Zn=yt===null?gt.outputEncoding:yt.isXRRenderTarget===!0?yt.texture.encoding:LinearEncoding,jn=(nn.isMeshStandardMaterial?yn:dn).get(nn.envMap||Wn),or=nn.vertexColors===!0&&!!mn.attributes.color&&mn.attributes.color.itemSize===4,tr=!!nn.normalMap&&!!mn.attributes.tangent,nr=!!mn.morphAttributes.position,mr=!!mn.morphAttributes.normal,_s=!!mn.morphAttributes.color,As=nn.toneMapped?gt.toneMapping:NoToneMapping,Ps=mn.morphAttributes.position||mn.morphAttributes.normal||mn.morphAttributes.color,Or=Ps!==void 0?Ps.length:0,er=tn.get(nn),fs=ft.state.lights;if(Tt===!0&&(Pt===!0||Ut!==bt)){const ur=Ut===bt&&nn.id===xt;Bt.setState(nn,Ut,ur)}let gr=!1;nn.version===er.__version?(er.needsLights&&er.lightsStateVersion!==fs.state.version||er.outputEncoding!==Zn||gn.isInstancedMesh&&er.instancing===!1||!gn.isInstancedMesh&&er.instancing===!0||gn.isSkinnedMesh&&er.skinning===!1||!gn.isSkinnedMesh&&er.skinning===!0||er.envMap!==jn||nn.fog===!0&&er.fog!==Gn||er.numClippingPlanes!==void 0&&(er.numClippingPlanes!==Bt.numPlanes||er.numIntersection!==Bt.numIntersection)||er.vertexAlphas!==or||er.vertexTangents!==tr||er.morphTargets!==nr||er.morphNormals!==mr||er.morphColors!==_s||er.toneMapping!==As||bn.isWebGL2===!0&&er.morphTargetsCount!==Or)&&(gr=!0):(gr=!0,er.__version=nn.version);let Nr=er.currentProgram;gr===!0&&(Nr=qs(nn,rn,gn));let Yr=!1,Kr=!1,Zr=!1;const Kn=Nr.getUniforms(),ir=er.uniforms;if(cn.useProgram(Nr.program)&&(Yr=!0,Kr=!0,Zr=!0),nn.id!==xt&&(xt=nn.id,Kr=!0),Yr||bt!==Ut){if(Kn.setValue(Nt,"projectionMatrix",Ut.projectionMatrix),bn.logarithmicDepthBuffer&&Kn.setValue(Nt,"logDepthBufFC",2/(Math.log(Ut.far+1)/Math.LN2)),bt!==Ut&&(bt=Ut,Kr=!0,Zr=!0),nn.isShaderMaterial||nn.isMeshPhongMaterial||nn.isMeshToonMaterial||nn.isMeshStandardMaterial||nn.envMap){const ur=Kn.map.cameraPosition;ur!==void 0&&ur.setValue(Nt,Xt.setFromMatrixPosition(Ut.matrixWorld))}(nn.isMeshPhongMaterial||nn.isMeshToonMaterial||nn.isMeshLambertMaterial||nn.isMeshBasicMaterial||nn.isMeshStandardMaterial||nn.isShaderMaterial)&&Kn.setValue(Nt,"isOrthographic",Ut.isOrthographicCamera===!0),(nn.isMeshPhongMaterial||nn.isMeshToonMaterial||nn.isMeshLambertMaterial||nn.isMeshBasicMaterial||nn.isMeshStandardMaterial||nn.isShaderMaterial||nn.isShadowMaterial||gn.isSkinnedMesh)&&Kn.setValue(Nt,"viewMatrix",Ut.matrixWorldInverse)}if(gn.isSkinnedMesh){Kn.setOptional(Nt,gn,"bindMatrix"),Kn.setOptional(Nt,gn,"bindMatrixInverse");const ur=gn.skeleton;ur&&(bn.floatVertexTextures?(ur.boneTexture===null&&ur.computeBoneTexture(),Kn.setValue(Nt,"boneTexture",ur.boneTexture,Yt),Kn.setValue(Nt,"boneTextureSize",ur.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Qr=mn.morphAttributes;if((Qr.position!==void 0||Qr.normal!==void 0||Qr.color!==void 0&&bn.isWebGL2===!0)&&Sn.update(gn,mn,nn,Nr),(Kr||er.receiveShadow!==gn.receiveShadow)&&(er.receiveShadow=gn.receiveShadow,Kn.setValue(Nt,"receiveShadow",gn.receiveShadow)),nn.isMeshGouraudMaterial&&nn.envMap!==null&&(ir.envMap.value=jn,ir.flipEnvMap.value=jn.isCubeTexture&&jn.isRenderTargetTexture===!1?-1:1),Kr&&(Kn.setValue(Nt,"toneMappingExposure",gt.toneMappingExposure),er.needsLights&&Po(ir,Zr),Gn&&nn.fog===!0&&Bn.refreshFogUniforms(ir,Gn),Bn.refreshMaterialUniforms(ir,nn,zt,Dt,Rt),WebGLUniforms.upload(Nt,er.uniformsList,ir,Yt)),nn.isShaderMaterial&&nn.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Nt,er.uniformsList,ir,Yt),nn.uniformsNeedUpdate=!1),nn.isSpriteMaterial&&Kn.setValue(Nt,"center",gn.center),Kn.setValue(Nt,"modelViewMatrix",gn.modelViewMatrix),Kn.setValue(Nt,"normalMatrix",gn.normalMatrix),Kn.setValue(Nt,"modelMatrix",gn.matrixWorld),nn.isShaderMaterial||nn.isRawShaderMaterial){const ur=nn.uniformsGroups;for(let Tr=0,xs=ur.length;Tr<xs;Tr++)if(bn.isWebGL2){const Ss=ur[Tr];In.update(Ss,Nr),In.bind(Ss,Nr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Nr}function Po(Ut,rn){Ut.ambientLightColor.needsUpdate=rn,Ut.lightProbe.needsUpdate=rn,Ut.directionalLights.needsUpdate=rn,Ut.directionalLightShadows.needsUpdate=rn,Ut.pointLights.needsUpdate=rn,Ut.pointLightShadows.needsUpdate=rn,Ut.spotLights.needsUpdate=rn,Ut.spotLightShadows.needsUpdate=rn,Ut.rectAreaLights.needsUpdate=rn,Ut.hemisphereLights.needsUpdate=rn}function oo(Ut){return Ut.isMeshLambertMaterial||Ut.isMeshToonMaterial||Ut.isMeshPhongMaterial||Ut.isMeshStandardMaterial||Ut.isShadowMaterial||Ut.isShaderMaterial&&Ut.lights===!0}this.getActiveCubeFace=function(){return pt},this.getActiveMipmapLevel=function(){return mt},this.getRenderTarget=function(){return yt},this.setRenderTargetTextures=function(Ut,rn,mn){tn.get(Ut.texture).__webglTexture=rn,tn.get(Ut.depthTexture).__webglTexture=mn;const nn=tn.get(Ut);nn.__hasExternalTextures=!0,nn.__hasExternalTextures&&(nn.__autoAllocateDepthBuffer=mn===void 0,nn.__autoAllocateDepthBuffer||on.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),nn.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ut,rn){const mn=tn.get(Ut);mn.__webglFramebuffer=rn,mn.__useDefaultFramebuffer=rn===void 0},this.setRenderTarget=function(Ut,rn=0,mn=0){yt=Ut,pt=rn,mt=mn;let nn=!0;if(Ut){const jn=tn.get(Ut);jn.__useDefaultFramebuffer!==void 0?(cn.bindFramebuffer(36160,null),nn=!1):jn.__webglFramebuffer===void 0?Yt.setupRenderTarget(Ut):jn.__hasExternalTextures&&Yt.rebindTextures(Ut,tn.get(Ut.texture).__webglTexture,tn.get(Ut.depthTexture).__webglTexture)}let gn=null,Gn=!1,Wn=!1;if(Ut){const jn=Ut.texture;(jn.isData3DTexture||jn.isDataArrayTexture)&&(Wn=!0);const or=tn.get(Ut).__webglFramebuffer;Ut.isWebGLCubeRenderTarget?(gn=or[rn],Gn=!0):bn.isWebGL2&&Ut.samples>0&&Yt.useMultisampledRTT(Ut)===!1?gn=tn.get(Ut).__webglMultisampledFramebuffer:gn=or,wt.copy(Ut.viewport),Ct.copy(Ut.scissor),Et=Ut.scissorTest}else wt.copy(Gt).multiplyScalar(zt).floor(),Ct.copy($t).multiplyScalar(zt).floor(),Et=Ft;if(cn.bindFramebuffer(36160,gn)&&bn.drawBuffers&&nn&&cn.drawBuffers(Ut,gn),cn.viewport(wt),cn.scissor(Ct),cn.setScissorTest(Et),Gn){const jn=tn.get(Ut.texture);Nt.framebufferTexture2D(36160,36064,34069+rn,jn.__webglTexture,mn)}else if(Wn){const jn=tn.get(Ut.texture),or=rn||0;Nt.framebufferTextureLayer(36160,36064,jn.__webglTexture,mn||0,or)}xt=-1},this.readRenderTargetPixels=function(Ut,rn,mn,nn,gn,Gn,Wn){if(!(Ut&&Ut.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Zn=tn.get(Ut).__webglFramebuffer;if(Ut.isWebGLCubeRenderTarget&&Wn!==void 0&&(Zn=Zn[Wn]),Zn){cn.bindFramebuffer(36160,Zn);try{const jn=Ut.texture,or=jn.format,tr=jn.type;if(or!==RGBAFormat&&ln.convert(or)!==Nt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nr=tr===HalfFloatType&&(on.has("EXT_color_buffer_half_float")||bn.isWebGL2&&on.has("EXT_color_buffer_float"));if(tr!==UnsignedByteType&&ln.convert(tr)!==Nt.getParameter(35738)&&!(tr===FloatType&&(bn.isWebGL2||on.has("OES_texture_float")||on.has("WEBGL_color_buffer_float")))&&!nr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}rn>=0&&rn<=Ut.width-nn&&mn>=0&&mn<=Ut.height-gn&&Nt.readPixels(rn,mn,nn,gn,ln.convert(or),ln.convert(tr),Gn)}finally{const jn=yt!==null?tn.get(yt).__webglFramebuffer:null;cn.bindFramebuffer(36160,jn)}}},this.copyFramebufferToTexture=function(Ut,rn,mn=0){const nn=Math.pow(2,-mn),gn=Math.floor(rn.image.width*nn),Gn=Math.floor(rn.image.height*nn);Yt.setTexture2D(rn,0),Nt.copyTexSubImage2D(3553,mn,0,0,Ut.x,Ut.y,gn,Gn),cn.unbindTexture()},this.copyTextureToTexture=function(Ut,rn,mn,nn=0){const gn=rn.image.width,Gn=rn.image.height,Wn=ln.convert(mn.format),Zn=ln.convert(mn.type);Yt.setTexture2D(mn,0),Nt.pixelStorei(37440,mn.flipY),Nt.pixelStorei(37441,mn.premultiplyAlpha),Nt.pixelStorei(3317,mn.unpackAlignment),rn.isDataTexture?Nt.texSubImage2D(3553,nn,Ut.x,Ut.y,gn,Gn,Wn,Zn,rn.image.data):rn.isCompressedTexture?Nt.compressedTexSubImage2D(3553,nn,Ut.x,Ut.y,rn.mipmaps[0].width,rn.mipmaps[0].height,Wn,rn.mipmaps[0].data):Nt.texSubImage2D(3553,nn,Ut.x,Ut.y,Wn,Zn,rn.image),nn===0&&mn.generateMipmaps&&Nt.generateMipmap(3553),cn.unbindTexture()},this.copyTextureToTexture3D=function(Ut,rn,mn,nn,gn=0){if(gt.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Gn=Ut.max.x-Ut.min.x+1,Wn=Ut.max.y-Ut.min.y+1,Zn=Ut.max.z-Ut.min.z+1,jn=ln.convert(nn.format),or=ln.convert(nn.type);let tr;if(nn.isData3DTexture)Yt.setTexture3D(nn,0),tr=32879;else if(nn.isDataArrayTexture)Yt.setTexture2DArray(nn,0),tr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Nt.pixelStorei(37440,nn.flipY),Nt.pixelStorei(37441,nn.premultiplyAlpha),Nt.pixelStorei(3317,nn.unpackAlignment);const nr=Nt.getParameter(3314),mr=Nt.getParameter(32878),_s=Nt.getParameter(3316),As=Nt.getParameter(3315),Ps=Nt.getParameter(32877),Or=mn.isCompressedTexture?mn.mipmaps[0]:mn.image;Nt.pixelStorei(3314,Or.width),Nt.pixelStorei(32878,Or.height),Nt.pixelStorei(3316,Ut.min.x),Nt.pixelStorei(3315,Ut.min.y),Nt.pixelStorei(32877,Ut.min.z),mn.isDataTexture||mn.isData3DTexture?Nt.texSubImage3D(tr,gn,rn.x,rn.y,rn.z,Gn,Wn,Zn,jn,or,Or.data):mn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Nt.compressedTexSubImage3D(tr,gn,rn.x,rn.y,rn.z,Gn,Wn,Zn,jn,Or.data)):Nt.texSubImage3D(tr,gn,rn.x,rn.y,rn.z,Gn,Wn,Zn,jn,or,Or),Nt.pixelStorei(3314,nr),Nt.pixelStorei(32878,mr),Nt.pixelStorei(3316,_s),Nt.pixelStorei(3315,As),Nt.pixelStorei(32877,Ps),gn===0&&nn.generateMipmaps&&Nt.generateMipmap(tr),cn.unbindTexture()},this.initTexture=function(Ut){Ut.isCubeTexture?Yt.setTextureCube(Ut,0):Ut.isData3DTexture?Yt.setTexture3D(Ut,0):Ut.isDataArrayTexture?Yt.setTexture2DArray(Ut,0):Yt.setTexture2D(Ut,0),cn.unbindTexture()},this.resetState=function(){pt=0,mt=0,yt=null,cn.reset(),Nn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(s,et=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(s),this.density=et}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(s,et=1,tt=1e3){this.isFog=!0,this.name="",this.color=new Color(s),this.near=et,this.far=tt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(s,et){return super.copy(s,et),s.background!==null&&(this.background=s.background.clone()),s.environment!==null&&(this.environment=s.environment.clone()),s.fog!==null&&(this.fog=s.fog.clone()),s.overrideMaterial!==null&&(this.overrideMaterial=s.overrideMaterial.clone()),this.matrixAutoUpdate=s.matrixAutoUpdate,this}toJSON(s){const et=super.toJSON(s);return this.fog!==null&&(et.object.fog=this.fog.toJSON()),et}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(s){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=s}}class InterleavedBuffer{constructor(s,et){this.isInterleavedBuffer=!0,this.array=s,this.stride=et,this.count=s!==void 0?s.length/et:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(s){s===!0&&this.version++}setUsage(s){return this.usage=s,this}copy(s){return this.array=new s.array.constructor(s.array),this.count=s.count,this.stride=s.stride,this.usage=s.usage,this}copyAt(s,et,tt){s*=this.stride,tt*=et.stride;for(let nt=0,rt=this.stride;nt<rt;nt++)this.array[s+nt]=et.array[tt+nt];return this}set(s,et=0){return this.array.set(s,et),this}clone(s){s.arrayBuffers===void 0&&(s.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),s.arrayBuffers[this.array.buffer._uuid]===void 0&&(s.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const et=new this.array.constructor(s.arrayBuffers[this.array.buffer._uuid]),tt=new this.constructor(et,this.stride);return tt.setUsage(this.usage),tt}onUpload(s){return this.onUploadCallback=s,this}toJSON(s){return s.arrayBuffers===void 0&&(s.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),s.arrayBuffers[this.array.buffer._uuid]===void 0&&(s.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(s,et,tt,nt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=s,this.itemSize=et,this.offset=tt,this.normalized=nt===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(s){this.data.needsUpdate=s}applyMatrix4(s){for(let et=0,tt=this.data.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.applyMatrix4(s),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(s){for(let et=0,tt=this.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.applyNormalMatrix(s),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(s){for(let et=0,tt=this.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.transformDirection(s),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(s,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[s*this.data.stride+this.offset]=et,this}setY(s,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[s*this.data.stride+this.offset+1]=et,this}setZ(s,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[s*this.data.stride+this.offset+2]=et,this}setW(s,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[s*this.data.stride+this.offset+3]=et,this}getX(s){let et=this.data.array[s*this.data.stride+this.offset];return this.normalized&&(et=denormalize(et,this.array)),et}getY(s){let et=this.data.array[s*this.data.stride+this.offset+1];return this.normalized&&(et=denormalize(et,this.array)),et}getZ(s){let et=this.data.array[s*this.data.stride+this.offset+2];return this.normalized&&(et=denormalize(et,this.array)),et}getW(s){let et=this.data.array[s*this.data.stride+this.offset+3];return this.normalized&&(et=denormalize(et,this.array)),et}setXY(s,et,tt){return s=s*this.data.stride+this.offset,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array)),this.data.array[s+0]=et,this.data.array[s+1]=tt,this}setXYZ(s,et,tt,nt){return s=s*this.data.stride+this.offset,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.data.array[s+0]=et,this.data.array[s+1]=tt,this.data.array[s+2]=nt,this}setXYZW(s,et,tt,nt,rt){return s=s*this.data.stride+this.offset,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.data.array[s+0]=et,this.data.array[s+1]=tt,this.data.array[s+2]=nt,this.data.array[s+3]=rt,this}clone(s){if(s===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return new BufferAttribute(new this.array.constructor(et),this.itemSize,this.normalized)}else return s.interleavedBuffers===void 0&&(s.interleavedBuffers={}),s.interleavedBuffers[this.data.uuid]===void 0&&(s.interleavedBuffers[this.data.uuid]=this.data.clone(s)),new InterleavedBufferAttribute(s.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(s){if(s===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:et,normalized:this.normalized}}else return s.interleavedBuffers===void 0&&(s.interleavedBuffers={}),s.interleavedBuffers[this.data.uuid]===void 0&&(s.interleavedBuffers[this.data.uuid]=this.data.toJSON(s)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(s){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.alphaMap=s.alphaMap,this.rotation=s.rotation,this.sizeAttenuation=s.sizeAttenuation,this.fog=s.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(s){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const et=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),tt=new InterleavedBuffer(et,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(tt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(tt,2,3,!1))}this.geometry=_geometry,this.material=s!==void 0?s:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(s,et){s.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(s.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(s.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),s.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const tt=this.material.rotation;let nt,rt;tt!==0&&(rt=Math.cos(tt),nt=Math.sin(tt));const it=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vB.set(.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vC.set(.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let st=s.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(st===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvB.set(0,1),st=s.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),st===null))return;const ot=s.ray.origin.distanceTo(_intersectPoint);ot<s.near||ot>s.far||et.push({distance:ot,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(s,et){return super.copy(s,et),s.center!==void 0&&this.center.copy(s.center),this.material=s.material,this}}function transformVertex(o,s,et,tt,nt,rt){_alignedPosition.subVectors(o,et).addScalar(.5).multiply(tt),nt!==void 0?(_rotatedPosition.x=rt*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+rt*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),o.copy(s),o.x+=_rotatedPosition.x,o.y+=_rotatedPosition.y,o.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(s){super.copy(s,!1);const et=s.levels;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];this.addLevel(rt.object.clone(),rt.distance)}return this.autoUpdate=s.autoUpdate,this}addLevel(s,et=0){et=Math.abs(et);const tt=this.levels;let nt;for(nt=0;nt<tt.length&&!(et<tt[nt].distance);nt++);return tt.splice(nt,0,{distance:et,object:s}),this.add(s),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(s){const et=this.levels;if(et.length>0){let tt,nt;for(tt=1,nt=et.length;tt<nt&&!(s<et[tt].distance);tt++);return et[tt-1].object}return null}raycast(s,et){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const nt=s.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(nt).raycast(s,et)}}update(s){const et=this.levels;if(et.length>1){_v1$2.setFromMatrixPosition(s.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const tt=_v1$2.distanceTo(_v2$1)/s.zoom;et[0].object.visible=!0;let nt,rt;for(nt=1,rt=et.length;nt<rt&&tt>=et[nt].distance;nt++)et[nt-1].object.visible=!1,et[nt].object.visible=!0;for(this._currentLevel=nt-1;nt<rt;nt++)et[nt].object.visible=!1}}toJSON(s){const et=super.toJSON(s);this.autoUpdate===!1&&(et.object.autoUpdate=!1),et.object.levels=[];const tt=this.levels;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];et.object.levels.push({object:it.object.uuid,distance:it.distance})}return et}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(s,et){super(s,et),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(s,et){return super.copy(s,et),this.bindMode=s.bindMode,this.bindMatrix.copy(s.bindMatrix),this.bindMatrixInverse.copy(s.bindMatrixInverse),this.skeleton=s.skeleton,this}bind(s,et){this.skeleton=s,et===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),et=this.matrixWorld),this.bindMatrix.copy(et),this.bindMatrixInverse.copy(et).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const s=new Vector4,et=this.geometry.attributes.skinWeight;for(let tt=0,nt=et.count;tt<nt;tt++){s.fromBufferAttribute(et,tt);const rt=1/s.manhattanLength();rt!==1/0?s.multiplyScalar(rt):s.set(1,0,0,0),et.setXYZW(tt,s.x,s.y,s.z,s.w)}}updateMatrixWorld(s){super.updateMatrixWorld(s),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(s,et){const tt=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,s),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,s),_basePosition.copy(et).applyMatrix4(this.bindMatrix),et.set(0,0,0);for(let rt=0;rt<4;rt++){const it=_skinWeight.getComponent(rt);if(it!==0){const st=_skinIndex.getComponent(rt);_matrix.multiplyMatrices(tt.bones[st].matrixWorld,tt.boneInverses[st]),et.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),it)}}return et.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(s=null,et=1,tt=1,nt,rt,it,st,ot,at=NearestFilter,ut=NearestFilter,ht,ft){super(null,it,st,ot,at,ut,nt,rt,ht,ft),this.isDataTexture=!0,this.image={data:s,width:et,height:tt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(s=[],et=[]){this.uuid=generateUUID(),this.bones=s.slice(0),this.boneInverses=et,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const s=this.bones,et=this.boneInverses;if(this.boneMatrices=new Float32Array(s.length*16),et.length===0)this.calculateInverses();else if(s.length!==et.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let tt=0,nt=this.bones.length;tt<nt;tt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let s=0,et=this.bones.length;s<et;s++){const tt=new Matrix4;this.bones[s]&&tt.copy(this.bones[s].matrixWorld).invert(),this.boneInverses.push(tt)}}pose(){for(let s=0,et=this.bones.length;s<et;s++){const tt=this.bones[s];tt&&tt.matrixWorld.copy(this.boneInverses[s]).invert()}for(let s=0,et=this.bones.length;s<et;s++){const tt=this.bones[s];tt&&(tt.parent&&tt.parent.isBone?(tt.matrix.copy(tt.parent.matrixWorld).invert(),tt.matrix.multiply(tt.matrixWorld)):tt.matrix.copy(tt.matrixWorld),tt.matrix.decompose(tt.position,tt.quaternion,tt.scale))}}update(){const s=this.bones,et=this.boneInverses,tt=this.boneMatrices,nt=this.boneTexture;for(let rt=0,it=s.length;rt<it;rt++){const st=s[rt]?s[rt].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(st,et[rt]),_offsetMatrix.toArray(tt,rt*16)}nt!==null&&(nt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let s=Math.sqrt(this.bones.length*4);s=ceilPowerOfTwo(s),s=Math.max(s,4);const et=new Float32Array(s*s*4);et.set(this.boneMatrices);const tt=new DataTexture(et,s,s,RGBAFormat,FloatType);return tt.needsUpdate=!0,this.boneMatrices=et,this.boneTexture=tt,this.boneTextureSize=s,this}getBoneByName(s){for(let et=0,tt=this.bones.length;et<tt;et++){const nt=this.bones[et];if(nt.name===s)return nt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(s,et){this.uuid=s.uuid;for(let tt=0,nt=s.bones.length;tt<nt;tt++){const rt=s.bones[tt];let it=et[rt];it===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",rt),it=new Bone),this.bones.push(it),this.boneInverses.push(new Matrix4().fromArray(s.boneInverses[tt]))}return this.init(),this}toJSON(){const s={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};s.uuid=this.uuid;const et=this.bones,tt=this.boneInverses;for(let nt=0,rt=et.length;nt<rt;nt++){const it=et[nt];s.bones.push(it.uuid);const st=tt[nt];s.boneInverses.push(st.toArray())}return s}}class InstancedBufferAttribute extends BufferAttribute{constructor(s,et,tt,nt=1){super(s,et,tt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=nt}copy(s){return super.copy(s),this.meshPerAttribute=s.meshPerAttribute,this}toJSON(){const s=super.toJSON();return s.meshPerAttribute=this.meshPerAttribute,s.isInstancedBufferAttribute=!0,s}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(s,et,tt){super(s,et),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(tt*16),16),this.instanceColor=null,this.count=tt,this.frustumCulled=!1}copy(s,et){return super.copy(s,et),this.instanceMatrix.copy(s.instanceMatrix),s.instanceColor!==null&&(this.instanceColor=s.instanceColor.clone()),this.count=s.count,this}getColorAt(s,et){et.fromArray(this.instanceColor.array,s*3)}getMatrixAt(s,et){et.fromArray(this.instanceMatrix.array,s*16)}raycast(s,et){const tt=this.matrixWorld,nt=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let rt=0;rt<nt;rt++){this.getMatrixAt(rt,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(tt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(s,_instanceIntersects);for(let it=0,st=_instanceIntersects.length;it<st;it++){const ot=_instanceIntersects[it];ot.instanceId=rt,ot.object=this,et.push(ot)}_instanceIntersects.length=0}}setColorAt(s,et){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),et.toArray(this.instanceColor.array,s*3)}setMatrixAt(s,et){et.toArray(this.instanceMatrix.array,s*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(s){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.linewidth=s.linewidth,this.linecap=s.linecap,this.linejoin=s.linejoin,this.fog=s.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(s=new BufferGeometry,et=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=s,this.material=et,this.updateMorphTargets()}copy(s,et){return super.copy(s,et),this.material=s.material,this.geometry=s.geometry,this}computeLineDistances(){const s=this.geometry;if(s.index===null){const et=s.attributes.position,tt=[0];for(let nt=1,rt=et.count;nt<rt;nt++)_start$1.fromBufferAttribute(et,nt-1),_end$1.fromBufferAttribute(et,nt),tt[nt]=tt[nt-1],tt[nt]+=_start$1.distanceTo(_end$1);s.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(s,et){const tt=this.geometry,nt=this.matrixWorld,rt=s.params.Line.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$1.copy(tt.boundingSphere),_sphere$1.applyMatrix4(nt),_sphere$1.radius+=rt,s.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy(s.ray).applyMatrix4(_inverseMatrix$1);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),ot=st*st,at=new Vector3,ut=new Vector3,ht=new Vector3,ft=new Vector3,dt=this.isLineSegments?2:1,vt=tt.index,_t=tt.attributes.position;if(vt!==null){const pt=Math.max(0,it.start),mt=Math.min(vt.count,it.start+it.count);for(let yt=pt,xt=mt-1;yt<xt;yt+=dt){const bt=vt.getX(yt),wt=vt.getX(yt+1);if(at.fromBufferAttribute(_t,bt),ut.fromBufferAttribute(_t,wt),_ray$1.distanceSqToSegment(at,ut,ft,ht)>ot)continue;ft.applyMatrix4(this.matrixWorld);const Et=s.ray.origin.distanceTo(ft);Et<s.near||Et>s.far||et.push({distance:Et,point:ht.clone().applyMatrix4(this.matrixWorld),index:yt,face:null,faceIndex:null,object:this})}}else{const pt=Math.max(0,it.start),mt=Math.min(_t.count,it.start+it.count);for(let yt=pt,xt=mt-1;yt<xt;yt+=dt){if(at.fromBufferAttribute(_t,yt),ut.fromBufferAttribute(_t,yt+1),_ray$1.distanceSqToSegment(at,ut,ft,ht)>ot)continue;ft.applyMatrix4(this.matrixWorld);const wt=s.ray.origin.distanceTo(ft);wt<s.near||wt>s.far||et.push({distance:wt,point:ht.clone().applyMatrix4(this.matrixWorld),index:yt,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(s,et){super(s,et),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const s=this.geometry;if(s.index===null){const et=s.attributes.position,tt=[];for(let nt=0,rt=et.count;nt<rt;nt+=2)_start.fromBufferAttribute(et,nt),_end.fromBufferAttribute(et,nt+1),tt[nt]=nt===0?0:tt[nt-1],tt[nt+1]=tt[nt]+_start.distanceTo(_end);s.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(s,et){super(s,et),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(s){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.alphaMap=s.alphaMap,this.size=s.size,this.sizeAttenuation=s.sizeAttenuation,this.fog=s.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(s=new BufferGeometry,et=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=s,this.material=et,this.updateMorphTargets()}copy(s,et){return super.copy(s,et),this.material=s.material,this.geometry=s.geometry,this}raycast(s,et){const tt=this.geometry,nt=this.matrixWorld,rt=s.params.Points.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere.copy(tt.boundingSphere),_sphere.applyMatrix4(nt),_sphere.radius+=rt,s.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(nt).invert(),_ray.copy(s.ray).applyMatrix4(_inverseMatrix);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),ot=st*st,at=tt.index,ht=tt.attributes.position;if(at!==null){const ft=Math.max(0,it.start),dt=Math.min(at.count,it.start+it.count);for(let vt=ft,gt=dt;vt<gt;vt++){const _t=at.getX(vt);_position$2.fromBufferAttribute(ht,_t),testPoint(_position$2,_t,ot,nt,s,et,this)}}else{const ft=Math.max(0,it.start),dt=Math.min(ht.count,it.start+it.count);for(let vt=ft,gt=dt;vt<gt;vt++)_position$2.fromBufferAttribute(ht,vt),testPoint(_position$2,vt,ot,nt,s,et,this)}}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}}function testPoint(o,s,et,tt,nt,rt,it){const st=_ray.distanceSqToPoint(o);if(st<et){const ot=new Vector3;_ray.closestPointToPoint(o,ot),ot.applyMatrix4(tt);const at=nt.ray.origin.distanceTo(ot);if(at<nt.near||at>nt.far)return;rt.push({distance:at,distanceToRay:Math.sqrt(st),point:ot,index:s,face:null,object:it})}}class VideoTexture extends Texture{constructor(s,et,tt,nt,rt,it,st,ot,at){super(s,et,tt,nt,rt,it,st,ot,at),this.isVideoTexture=!0,this.minFilter=it!==void 0?it:LinearFilter,this.magFilter=rt!==void 0?rt:LinearFilter,this.generateMipmaps=!1;const ut=this;function ht(){ut.needsUpdate=!0,s.requestVideoFrameCallback(ht)}"requestVideoFrameCallback"in s&&s.requestVideoFrameCallback(ht)}clone(){return new this.constructor(this.image).copy(this)}update(){const s=this.image;"requestVideoFrameCallback"in s===!1&&s.readyState>=s.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(s,et,tt){super({width:s,height:et}),this.isFramebufferTexture=!0,this.format=tt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(s,et,tt,nt,rt,it,st,ot,at,ut,ht,ft){super(null,it,st,ot,at,ut,nt,rt,ht,ft),this.isCompressedTexture=!0,this.image={width:et,height:tt},this.mipmaps=s,this.flipY=!1,this.generateMipmaps=!1}}class CanvasTexture extends Texture{constructor(s,et,tt,nt,rt,it,st,ot,at){super(s,et,tt,nt,rt,it,st,ot,at),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(s,et){const tt=this.getUtoTmapping(s);return this.getPoint(tt,et)}getPoints(s=5){const et=[];for(let tt=0;tt<=s;tt++)et.push(this.getPoint(tt/s));return et}getSpacedPoints(s=5){const et=[];for(let tt=0;tt<=s;tt++)et.push(this.getPointAt(tt/s));return et}getLength(){const s=this.getLengths();return s[s.length-1]}getLengths(s=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===s+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const et=[];let tt,nt=this.getPoint(0),rt=0;et.push(0);for(let it=1;it<=s;it++)tt=this.getPoint(it/s),rt+=tt.distanceTo(nt),et.push(rt),nt=tt;return this.cacheArcLengths=et,et}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(s,et){const tt=this.getLengths();let nt=0;const rt=tt.length;let it;et?it=et:it=s*tt[rt-1];let st=0,ot=rt-1,at;for(;st<=ot;)if(nt=Math.floor(st+(ot-st)/2),at=tt[nt]-it,at<0)st=nt+1;else if(at>0)ot=nt-1;else{ot=nt;break}if(nt=ot,tt[nt]===it)return nt/(rt-1);const ut=tt[nt],ft=tt[nt+1]-ut,dt=(it-ut)/ft;return(nt+dt)/(rt-1)}getTangent(s,et){let nt=s-1e-4,rt=s+1e-4;nt<0&&(nt=0),rt>1&&(rt=1);const it=this.getPoint(nt),st=this.getPoint(rt),ot=et||(it.isVector2?new Vector2:new Vector3);return ot.copy(st).sub(it).normalize(),ot}getTangentAt(s,et){const tt=this.getUtoTmapping(s);return this.getTangent(tt,et)}computeFrenetFrames(s,et){const tt=new Vector3,nt=[],rt=[],it=[],st=new Vector3,ot=new Matrix4;for(let dt=0;dt<=s;dt++){const vt=dt/s;nt[dt]=this.getTangentAt(vt,new Vector3)}rt[0]=new Vector3,it[0]=new Vector3;let at=Number.MAX_VALUE;const ut=Math.abs(nt[0].x),ht=Math.abs(nt[0].y),ft=Math.abs(nt[0].z);ut<=at&&(at=ut,tt.set(1,0,0)),ht<=at&&(at=ht,tt.set(0,1,0)),ft<=at&&tt.set(0,0,1),st.crossVectors(nt[0],tt).normalize(),rt[0].crossVectors(nt[0],st),it[0].crossVectors(nt[0],rt[0]);for(let dt=1;dt<=s;dt++){if(rt[dt]=rt[dt-1].clone(),it[dt]=it[dt-1].clone(),st.crossVectors(nt[dt-1],nt[dt]),st.length()>Number.EPSILON){st.normalize();const vt=Math.acos(clamp$2(nt[dt-1].dot(nt[dt]),-1,1));rt[dt].applyMatrix4(ot.makeRotationAxis(st,vt))}it[dt].crossVectors(nt[dt],rt[dt])}if(et===!0){let dt=Math.acos(clamp$2(rt[0].dot(rt[s]),-1,1));dt/=s,nt[0].dot(st.crossVectors(rt[0],rt[s]))>0&&(dt=-dt);for(let vt=1;vt<=s;vt++)rt[vt].applyMatrix4(ot.makeRotationAxis(nt[vt],dt*vt)),it[vt].crossVectors(nt[vt],rt[vt])}return{tangents:nt,normals:rt,binormals:it}}clone(){return new this.constructor().copy(this)}copy(s){return this.arcLengthDivisions=s.arcLengthDivisions,this}toJSON(){const s={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return s.arcLengthDivisions=this.arcLengthDivisions,s.type=this.type,s}fromJSON(s){return this.arcLengthDivisions=s.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(s=0,et=0,tt=1,nt=1,rt=0,it=Math.PI*2,st=!1,ot=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=s,this.aY=et,this.xRadius=tt,this.yRadius=nt,this.aStartAngle=rt,this.aEndAngle=it,this.aClockwise=st,this.aRotation=ot}getPoint(s,et){const tt=et||new Vector2,nt=Math.PI*2;let rt=this.aEndAngle-this.aStartAngle;const it=Math.abs(rt)<Number.EPSILON;for(;rt<0;)rt+=nt;for(;rt>nt;)rt-=nt;rt<Number.EPSILON&&(it?rt=0:rt=nt),this.aClockwise===!0&&!it&&(rt===nt?rt=-nt:rt=rt-nt);const st=this.aStartAngle+s*rt;let ot=this.aX+this.xRadius*Math.cos(st),at=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const ut=Math.cos(this.aRotation),ht=Math.sin(this.aRotation),ft=ot-this.aX,dt=at-this.aY;ot=ft*ut-dt*ht+this.aX,at=ft*ht+dt*ut+this.aY}return tt.set(ot,at)}copy(s){return super.copy(s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this}toJSON(){const s=super.toJSON();return s.aX=this.aX,s.aY=this.aY,s.xRadius=this.xRadius,s.yRadius=this.yRadius,s.aStartAngle=this.aStartAngle,s.aEndAngle=this.aEndAngle,s.aClockwise=this.aClockwise,s.aRotation=this.aRotation,s}fromJSON(s){return super.fromJSON(s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(s,et,tt,nt,rt,it){super(s,et,tt,tt,nt,rt,it),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let o=0,s=0,et=0,tt=0;function nt(rt,it,st,ot){o=rt,s=st,et=-3*rt+3*it-2*st-ot,tt=2*rt-2*it+st+ot}return{initCatmullRom:function(rt,it,st,ot,at){nt(it,st,at*(st-rt),at*(ot-it))},initNonuniformCatmullRom:function(rt,it,st,ot,at,ut,ht){let ft=(it-rt)/at-(st-rt)/(at+ut)+(st-it)/ut,dt=(st-it)/ut-(ot-it)/(ut+ht)+(ot-st)/ht;ft*=ut,dt*=ut,nt(it,st,ft,dt)},calc:function(rt){const it=rt*rt,st=it*rt;return o+s*rt+et*it+tt*st}}}const tmp=new Vector3,px$2=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(s=[],et=!1,tt="centripetal",nt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=s,this.closed=et,this.curveType=tt,this.tension=nt}getPoint(s,et=new Vector3){const tt=et,nt=this.points,rt=nt.length,it=(rt-(this.closed?0:1))*s;let st=Math.floor(it),ot=it-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/rt)+1)*rt:ot===0&&st===rt-1&&(st=rt-2,ot=1);let at,ut;this.closed||st>0?at=nt[(st-1)%rt]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),at=tmp);const ht=nt[st%rt],ft=nt[(st+1)%rt];if(this.closed||st+2<rt?ut=nt[(st+2)%rt]:(tmp.subVectors(nt[rt-1],nt[rt-2]).add(nt[rt-1]),ut=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const dt=this.curveType==="chordal"?.5:.25;let vt=Math.pow(at.distanceToSquared(ht),dt),gt=Math.pow(ht.distanceToSquared(ft),dt),_t=Math.pow(ft.distanceToSquared(ut),dt);gt<1e-4&&(gt=1),vt<1e-4&&(vt=gt),_t<1e-4&&(_t=gt),px$2.initNonuniformCatmullRom(at.x,ht.x,ft.x,ut.x,vt,gt,_t),py.initNonuniformCatmullRom(at.y,ht.y,ft.y,ut.y,vt,gt,_t),pz.initNonuniformCatmullRom(at.z,ht.z,ft.z,ut.z,vt,gt,_t)}else this.curveType==="catmullrom"&&(px$2.initCatmullRom(at.x,ht.x,ft.x,ut.x,this.tension),py.initCatmullRom(at.y,ht.y,ft.y,ut.y,this.tension),pz.initCatmullRom(at.z,ht.z,ft.z,ut.z,this.tension));return tt.set(px$2.calc(ot),py.calc(ot),pz.calc(ot)),tt}copy(s){super.copy(s),this.points=[];for(let et=0,tt=s.points.length;et<tt;et++){const nt=s.points[et];this.points.push(nt.clone())}return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this}toJSON(){const s=super.toJSON();s.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];s.points.push(nt.toArray())}return s.closed=this.closed,s.curveType=this.curveType,s.tension=this.tension,s}fromJSON(s){super.fromJSON(s),this.points=[];for(let et=0,tt=s.points.length;et<tt;et++){const nt=s.points[et];this.points.push(new Vector3().fromArray(nt))}return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this}}function CatmullRom(o,s,et,tt,nt){const rt=(tt-s)*.5,it=(nt-et)*.5,st=o*o,ot=o*st;return(2*et-2*tt+rt+it)*ot+(-3*et+3*tt-2*rt-it)*st+rt*o+et}function QuadraticBezierP0(o,s){const et=1-o;return et*et*s}function QuadraticBezierP1(o,s){return 2*(1-o)*o*s}function QuadraticBezierP2(o,s){return o*o*s}function QuadraticBezier(o,s,et,tt){return QuadraticBezierP0(o,s)+QuadraticBezierP1(o,et)+QuadraticBezierP2(o,tt)}function CubicBezierP0(o,s){const et=1-o;return et*et*et*s}function CubicBezierP1(o,s){const et=1-o;return 3*et*et*o*s}function CubicBezierP2(o,s){return 3*(1-o)*o*o*s}function CubicBezierP3(o,s){return o*o*o*s}function CubicBezier(o,s,et,tt,nt){return CubicBezierP0(o,s)+CubicBezierP1(o,et)+CubicBezierP2(o,tt)+CubicBezierP3(o,nt)}class CubicBezierCurve extends Curve{constructor(s=new Vector2,et=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=s,this.v1=et,this.v2=tt,this.v3=nt}getPoint(s,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier(s,nt.x,rt.x,it.x,st.x),CubicBezier(s,nt.y,rt.y,it.y,st.y)),tt}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this}}class CubicBezierCurve3 extends Curve{constructor(s=new Vector3,et=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=s,this.v1=et,this.v2=tt,this.v3=nt}getPoint(s,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier(s,nt.x,rt.x,it.x,st.x),CubicBezier(s,nt.y,rt.y,it.y,st.y),CubicBezier(s,nt.z,rt.z,it.z,st.z)),tt}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this}}class LineCurve extends Curve{constructor(s=new Vector2,et=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=s,this.v2=et}getPoint(s,et=new Vector2){const tt=et;return s===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(s).add(this.v1)),tt}getPointAt(s,et){return this.getPoint(s,et)}getTangent(s,et){const tt=et||new Vector2;return tt.copy(this.v2).sub(this.v1).normalize(),tt}copy(s){return super.copy(s),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}class LineCurve3 extends Curve{constructor(s=new Vector3,et=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=s,this.v2=et}getPoint(s,et=new Vector3){const tt=et;return s===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(s).add(this.v1)),tt}getPointAt(s,et){return this.getPoint(s,et)}copy(s){return super.copy(s),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}class QuadraticBezierCurve extends Curve{constructor(s=new Vector2,et=new Vector2,tt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=s,this.v1=et,this.v2=tt}getPoint(s,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(s,nt.x,rt.x,it.x),QuadraticBezier(s,nt.y,rt.y,it.y)),tt}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(s=new Vector3,et=new Vector3,tt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=s,this.v1=et,this.v2=tt}getPoint(s,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(s,nt.x,rt.x,it.x),QuadraticBezier(s,nt.y,rt.y,it.y),QuadraticBezier(s,nt.z,rt.z,it.z)),tt}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){const s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}}class SplineCurve extends Curve{constructor(s=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=s}getPoint(s,et=new Vector2){const tt=et,nt=this.points,rt=(nt.length-1)*s,it=Math.floor(rt),st=rt-it,ot=nt[it===0?it:it-1],at=nt[it],ut=nt[it>nt.length-2?nt.length-1:it+1],ht=nt[it>nt.length-3?nt.length-1:it+2];return tt.set(CatmullRom(st,ot.x,at.x,ut.x,ht.x),CatmullRom(st,ot.y,at.y,ut.y,ht.y)),tt}copy(s){super.copy(s),this.points=[];for(let et=0,tt=s.points.length;et<tt;et++){const nt=s.points[et];this.points.push(nt.clone())}return this}toJSON(){const s=super.toJSON();s.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];s.points.push(nt.toArray())}return s}fromJSON(s){super.fromJSON(s),this.points=[];for(let et=0,tt=s.points.length;et<tt;et++){const nt=s.points[et];this.points.push(new Vector2().fromArray(nt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(s){this.curves.push(s)}closePath(){const s=this.curves[0].getPoint(0),et=this.curves[this.curves.length-1].getPoint(1);s.equals(et)||this.curves.push(new LineCurve(et,s))}getPoint(s,et){const tt=s*this.getLength(),nt=this.getCurveLengths();let rt=0;for(;rt<nt.length;){if(nt[rt]>=tt){const it=nt[rt]-tt,st=this.curves[rt],ot=st.getLength(),at=ot===0?0:1-it/ot;return st.getPointAt(at,et)}rt++}return null}getLength(){const s=this.getCurveLengths();return s[s.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const s=[];let et=0;for(let tt=0,nt=this.curves.length;tt<nt;tt++)et+=this.curves[tt].getLength(),s.push(et);return this.cacheLengths=s,s}getSpacedPoints(s=40){const et=[];for(let tt=0;tt<=s;tt++)et.push(this.getPoint(tt/s));return this.autoClose&&et.push(et[0]),et}getPoints(s=12){const et=[];let tt;for(let nt=0,rt=this.curves;nt<rt.length;nt++){const it=rt[nt],st=it.isEllipseCurve?s*2:it.isLineCurve||it.isLineCurve3?1:it.isSplineCurve?s*it.points.length:s,ot=it.getPoints(st);for(let at=0;at<ot.length;at++){const ut=ot[at];tt&&tt.equals(ut)||(et.push(ut),tt=ut)}}return this.autoClose&&et.length>1&&!et[et.length-1].equals(et[0])&&et.push(et[0]),et}copy(s){super.copy(s),this.curves=[];for(let et=0,tt=s.curves.length;et<tt;et++){const nt=s.curves[et];this.curves.push(nt.clone())}return this.autoClose=s.autoClose,this}toJSON(){const s=super.toJSON();s.autoClose=this.autoClose,s.curves=[];for(let et=0,tt=this.curves.length;et<tt;et++){const nt=this.curves[et];s.curves.push(nt.toJSON())}return s}fromJSON(s){super.fromJSON(s),this.autoClose=s.autoClose,this.curves=[];for(let et=0,tt=s.curves.length;et<tt;et++){const nt=s.curves[et];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}class Path$1 extends CurvePath{constructor(s){super(),this.type="Path",this.currentPoint=new Vector2,s&&this.setFromPoints(s)}setFromPoints(s){this.moveTo(s[0].x,s[0].y);for(let et=1,tt=s.length;et<tt;et++)this.lineTo(s[et].x,s[et].y);return this}moveTo(s,et){return this.currentPoint.set(s,et),this}lineTo(s,et){const tt=new LineCurve(this.currentPoint.clone(),new Vector2(s,et));return this.curves.push(tt),this.currentPoint.set(s,et),this}quadraticCurveTo(s,et,tt,nt){const rt=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(s,et),new Vector2(tt,nt));return this.curves.push(rt),this.currentPoint.set(tt,nt),this}bezierCurveTo(s,et,tt,nt,rt,it){const st=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(s,et),new Vector2(tt,nt),new Vector2(rt,it));return this.curves.push(st),this.currentPoint.set(rt,it),this}splineThru(s){const et=[this.currentPoint.clone()].concat(s),tt=new SplineCurve(et);return this.curves.push(tt),this.currentPoint.copy(s[s.length-1]),this}arc(s,et,tt,nt,rt,it){const st=this.currentPoint.x,ot=this.currentPoint.y;return this.absarc(s+st,et+ot,tt,nt,rt,it),this}absarc(s,et,tt,nt,rt,it){return this.absellipse(s,et,tt,tt,nt,rt,it),this}ellipse(s,et,tt,nt,rt,it,st,ot){const at=this.currentPoint.x,ut=this.currentPoint.y;return this.absellipse(s+at,et+ut,tt,nt,rt,it,st,ot),this}absellipse(s,et,tt,nt,rt,it,st,ot){const at=new EllipseCurve(s,et,tt,nt,rt,it,st,ot);if(this.curves.length>0){const ht=at.getPoint(0);ht.equals(this.currentPoint)||this.lineTo(ht.x,ht.y)}this.curves.push(at);const ut=at.getPoint(1);return this.currentPoint.copy(ut),this}copy(s){return super.copy(s),this.currentPoint.copy(s.currentPoint),this}toJSON(){const s=super.toJSON();return s.currentPoint=this.currentPoint.toArray(),s}fromJSON(s){return super.fromJSON(s),this.currentPoint.fromArray(s.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(s=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],et=12,tt=0,nt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:s,segments:et,phiStart:tt,phiLength:nt},et=Math.floor(et),nt=clamp$2(nt,0,Math.PI*2);const rt=[],it=[],st=[],ot=[],at=[],ut=1/et,ht=new Vector3,ft=new Vector2,dt=new Vector3,vt=new Vector3,gt=new Vector3;let _t=0,pt=0;for(let mt=0;mt<=s.length-1;mt++)switch(mt){case 0:_t=s[mt+1].x-s[mt].x,pt=s[mt+1].y-s[mt].y,dt.x=pt*1,dt.y=-_t,dt.z=pt*0,gt.copy(dt),dt.normalize(),ot.push(dt.x,dt.y,dt.z);break;case s.length-1:ot.push(gt.x,gt.y,gt.z);break;default:_t=s[mt+1].x-s[mt].x,pt=s[mt+1].y-s[mt].y,dt.x=pt*1,dt.y=-_t,dt.z=pt*0,vt.copy(dt),dt.x+=gt.x,dt.y+=gt.y,dt.z+=gt.z,dt.normalize(),ot.push(dt.x,dt.y,dt.z),gt.copy(vt)}for(let mt=0;mt<=et;mt++){const yt=tt+mt*ut*nt,xt=Math.sin(yt),bt=Math.cos(yt);for(let wt=0;wt<=s.length-1;wt++){ht.x=s[wt].x*xt,ht.y=s[wt].y,ht.z=s[wt].x*bt,it.push(ht.x,ht.y,ht.z),ft.x=mt/et,ft.y=wt/(s.length-1),st.push(ft.x,ft.y);const Ct=ot[3*wt+0]*xt,Et=ot[3*wt+1],kt=ot[3*wt+0]*bt;at.push(Ct,Et,kt)}}for(let mt=0;mt<et;mt++)for(let yt=0;yt<s.length-1;yt++){const xt=yt+mt*s.length,bt=xt,wt=xt+s.length,Ct=xt+s.length+1,Et=xt+1;rt.push(bt,wt,Et),rt.push(Ct,Et,wt)}this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),this.setAttribute("normal",new Float32BufferAttribute(at,3))}static fromJSON(s){return new LatheGeometry(s.points,s.segments,s.phiStart,s.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(s=1,et=1,tt=4,nt=8){const rt=new Path$1;rt.absarc(0,-et/2,s,Math.PI*1.5,0),rt.absarc(0,et/2,s,0,Math.PI*.5),super(rt.getPoints(tt),nt),this.type="CapsuleGeometry",this.parameters={radius:s,height:et,capSegments:tt,radialSegments:nt}}static fromJSON(s){return new CapsuleGeometry(s.radius,s.length,s.capSegments,s.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(s=1,et=8,tt=0,nt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:s,segments:et,thetaStart:tt,thetaLength:nt},et=Math.max(3,et);const rt=[],it=[],st=[],ot=[],at=new Vector3,ut=new Vector2;it.push(0,0,0),st.push(0,0,1),ot.push(.5,.5);for(let ht=0,ft=3;ht<=et;ht++,ft+=3){const dt=tt+ht/et*nt;at.x=s*Math.cos(dt),at.y=s*Math.sin(dt),it.push(at.x,at.y,at.z),st.push(0,0,1),ut.x=(it[ft]/s+1)/2,ut.y=(it[ft+1]/s+1)/2,ot.push(ut.x,ut.y)}for(let ht=1;ht<=et;ht++)rt.push(ht,ht+1,0);this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2))}static fromJSON(s){return new CircleGeometry(s.radius,s.segments,s.thetaStart,s.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(s=1,et=1,tt=1,nt=8,rt=1,it=!1,st=0,ot=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:s,radiusBottom:et,height:tt,radialSegments:nt,heightSegments:rt,openEnded:it,thetaStart:st,thetaLength:ot};const at=this;nt=Math.floor(nt),rt=Math.floor(rt);const ut=[],ht=[],ft=[],dt=[];let vt=0;const gt=[],_t=tt/2;let pt=0;mt(),it===!1&&(s>0&&yt(!0),et>0&&yt(!1)),this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function mt(){const xt=new Vector3,bt=new Vector3;let wt=0;const Ct=(et-s)/tt;for(let Et=0;Et<=rt;Et++){const kt=[],Dt=Et/rt,zt=Dt*(et-s)+s;for(let Wt=0;Wt<=nt;Wt++){const Ht=Wt/nt,Gt=Ht*ot+st,$t=Math.sin(Gt),Ft=Math.cos(Gt);bt.x=zt*$t,bt.y=-Dt*tt+_t,bt.z=zt*Ft,ht.push(bt.x,bt.y,bt.z),xt.set($t,Ct,Ft).normalize(),ft.push(xt.x,xt.y,xt.z),dt.push(Ht,1-Dt),kt.push(vt++)}gt.push(kt)}for(let Et=0;Et<nt;Et++)for(let kt=0;kt<rt;kt++){const Dt=gt[kt][Et],zt=gt[kt+1][Et],Wt=gt[kt+1][Et+1],Ht=gt[kt][Et+1];ut.push(Dt,zt,Ht),ut.push(zt,Wt,Ht),wt+=6}at.addGroup(pt,wt,0),pt+=wt}function yt(xt){const bt=vt,wt=new Vector2,Ct=new Vector3;let Et=0;const kt=xt===!0?s:et,Dt=xt===!0?1:-1;for(let Wt=1;Wt<=nt;Wt++)ht.push(0,_t*Dt,0),ft.push(0,Dt,0),dt.push(.5,.5),vt++;const zt=vt;for(let Wt=0;Wt<=nt;Wt++){const Gt=Wt/nt*ot+st,$t=Math.cos(Gt),Ft=Math.sin(Gt);Ct.x=kt*Ft,Ct.y=_t*Dt,Ct.z=kt*$t,ht.push(Ct.x,Ct.y,Ct.z),ft.push(0,Dt,0),wt.x=$t*.5+.5,wt.y=Ft*.5*Dt+.5,dt.push(wt.x,wt.y),vt++}for(let Wt=0;Wt<nt;Wt++){const Ht=bt+Wt,Gt=zt+Wt;xt===!0?ut.push(Gt,Gt+1,Ht):ut.push(Gt+1,Gt,Ht),Et+=3}at.addGroup(pt,Et,xt===!0?1:2),pt+=Et}}static fromJSON(s){return new CylinderGeometry(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(s=1,et=1,tt=8,nt=1,rt=!1,it=0,st=Math.PI*2){super(0,s,et,tt,nt,rt,it,st),this.type="ConeGeometry",this.parameters={radius:s,height:et,radialSegments:tt,heightSegments:nt,openEnded:rt,thetaStart:it,thetaLength:st}}static fromJSON(s){return new ConeGeometry(s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(s=[],et=[],tt=1,nt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:s,indices:et,radius:tt,detail:nt};const rt=[],it=[];st(nt),at(tt),ut(),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(it,2)),nt===0?this.computeVertexNormals():this.normalizeNormals();function st(mt){const yt=new Vector3,xt=new Vector3,bt=new Vector3;for(let wt=0;wt<et.length;wt+=3)dt(et[wt+0],yt),dt(et[wt+1],xt),dt(et[wt+2],bt),ot(yt,xt,bt,mt)}function ot(mt,yt,xt,bt){const wt=bt+1,Ct=[];for(let Et=0;Et<=wt;Et++){Ct[Et]=[];const kt=mt.clone().lerp(xt,Et/wt),Dt=yt.clone().lerp(xt,Et/wt),zt=wt-Et;for(let Wt=0;Wt<=zt;Wt++)Wt===0&&Et===wt?Ct[Et][Wt]=kt:Ct[Et][Wt]=kt.clone().lerp(Dt,Wt/zt)}for(let Et=0;Et<wt;Et++)for(let kt=0;kt<2*(wt-Et)-1;kt++){const Dt=Math.floor(kt/2);kt%2===0?(ft(Ct[Et][Dt+1]),ft(Ct[Et+1][Dt]),ft(Ct[Et][Dt])):(ft(Ct[Et][Dt+1]),ft(Ct[Et+1][Dt+1]),ft(Ct[Et+1][Dt]))}}function at(mt){const yt=new Vector3;for(let xt=0;xt<rt.length;xt+=3)yt.x=rt[xt+0],yt.y=rt[xt+1],yt.z=rt[xt+2],yt.normalize().multiplyScalar(mt),rt[xt+0]=yt.x,rt[xt+1]=yt.y,rt[xt+2]=yt.z}function ut(){const mt=new Vector3;for(let yt=0;yt<rt.length;yt+=3){mt.x=rt[yt+0],mt.y=rt[yt+1],mt.z=rt[yt+2];const xt=_t(mt)/2/Math.PI+.5,bt=pt(mt)/Math.PI+.5;it.push(xt,1-bt)}vt(),ht()}function ht(){for(let mt=0;mt<it.length;mt+=6){const yt=it[mt+0],xt=it[mt+2],bt=it[mt+4],wt=Math.max(yt,xt,bt),Ct=Math.min(yt,xt,bt);wt>.9&&Ct<.1&&(yt<.2&&(it[mt+0]+=1),xt<.2&&(it[mt+2]+=1),bt<.2&&(it[mt+4]+=1))}}function ft(mt){rt.push(mt.x,mt.y,mt.z)}function dt(mt,yt){const xt=mt*3;yt.x=s[xt+0],yt.y=s[xt+1],yt.z=s[xt+2]}function vt(){const mt=new Vector3,yt=new Vector3,xt=new Vector3,bt=new Vector3,wt=new Vector2,Ct=new Vector2,Et=new Vector2;for(let kt=0,Dt=0;kt<rt.length;kt+=9,Dt+=6){mt.set(rt[kt+0],rt[kt+1],rt[kt+2]),yt.set(rt[kt+3],rt[kt+4],rt[kt+5]),xt.set(rt[kt+6],rt[kt+7],rt[kt+8]),wt.set(it[Dt+0],it[Dt+1]),Ct.set(it[Dt+2],it[Dt+3]),Et.set(it[Dt+4],it[Dt+5]),bt.copy(mt).add(yt).add(xt).divideScalar(3);const zt=_t(bt);gt(wt,Dt+0,mt,zt),gt(Ct,Dt+2,yt,zt),gt(Et,Dt+4,xt,zt)}}function gt(mt,yt,xt,bt){bt<0&&mt.x===1&&(it[yt]=mt.x-1),xt.x===0&&xt.z===0&&(it[yt]=bt/2/Math.PI+.5)}function _t(mt){return Math.atan2(mt.z,-mt.x)}function pt(mt){return Math.atan2(-mt.y,Math.sqrt(mt.x*mt.x+mt.z*mt.z))}}static fromJSON(s){return new PolyhedronGeometry(s.vertices,s.indices,s.radius,s.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(s=1,et=0){const tt=(1+Math.sqrt(5))/2,nt=1/tt,rt=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,0,-tt,0,-nt,tt,0,-nt,-tt,0,nt,tt,0,nt],it=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(rt,it,s,et),this.type="DodecahedronGeometry",this.parameters={radius:s,detail:et}}static fromJSON(s){return new DodecahedronGeometry(s.radius,s.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(s=null,et=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:s,thresholdAngle:et},s!==null){const nt=Math.pow(10,4),rt=Math.cos(DEG2RAD*et),it=s.getIndex(),st=s.getAttribute("position"),ot=it?it.count:st.count,at=[0,0,0],ut=["a","b","c"],ht=new Array(3),ft={},dt=[];for(let vt=0;vt<ot;vt+=3){it?(at[0]=it.getX(vt),at[1]=it.getX(vt+1),at[2]=it.getX(vt+2)):(at[0]=vt,at[1]=vt+1,at[2]=vt+2);const{a:gt,b:_t,c:pt}=_triangle;if(gt.fromBufferAttribute(st,at[0]),_t.fromBufferAttribute(st,at[1]),pt.fromBufferAttribute(st,at[2]),_triangle.getNormal(_normal),ht[0]=`${Math.round(gt.x*nt)},${Math.round(gt.y*nt)},${Math.round(gt.z*nt)}`,ht[1]=`${Math.round(_t.x*nt)},${Math.round(_t.y*nt)},${Math.round(_t.z*nt)}`,ht[2]=`${Math.round(pt.x*nt)},${Math.round(pt.y*nt)},${Math.round(pt.z*nt)}`,!(ht[0]===ht[1]||ht[1]===ht[2]||ht[2]===ht[0]))for(let mt=0;mt<3;mt++){const yt=(mt+1)%3,xt=ht[mt],bt=ht[yt],wt=_triangle[ut[mt]],Ct=_triangle[ut[yt]],Et=`${xt}_${bt}`,kt=`${bt}_${xt}`;kt in ft&&ft[kt]?(_normal.dot(ft[kt].normal)<=rt&&(dt.push(wt.x,wt.y,wt.z),dt.push(Ct.x,Ct.y,Ct.z)),ft[kt]=null):Et in ft||(ft[Et]={index0:at[mt],index1:at[yt],normal:_normal.clone()})}}for(const vt in ft)if(ft[vt]){const{index0:gt,index1:_t}=ft[vt];_v0.fromBufferAttribute(st,gt),_v1$1.fromBufferAttribute(st,_t),dt.push(_v0.x,_v0.y,_v0.z),dt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(dt,3))}}}class Shape extends Path$1{constructor(s){super(s),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(s){const et=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++)et[tt]=this.holes[tt].getPoints(s);return et}extractPoints(s){return{shape:this.getPoints(s),holes:this.getPointsHoles(s)}}copy(s){super.copy(s),this.holes=[];for(let et=0,tt=s.holes.length;et<tt;et++){const nt=s.holes[et];this.holes.push(nt.clone())}return this}toJSON(){const s=super.toJSON();s.uuid=this.uuid,s.holes=[];for(let et=0,tt=this.holes.length;et<tt;et++){const nt=this.holes[et];s.holes.push(nt.toJSON())}return s}fromJSON(s){super.fromJSON(s),this.uuid=s.uuid,this.holes=[];for(let et=0,tt=s.holes.length;et<tt;et++){const nt=s.holes[et];this.holes.push(new Path$1().fromJSON(nt))}return this}}const Earcut={triangulate:function(o,s,et=2){const tt=s&&s.length,nt=tt?s[0]*et:o.length;let rt=linkedList(o,0,nt,et,!0);const it=[];if(!rt||rt.next===rt.prev)return it;let st,ot,at,ut,ht,ft,dt;if(tt&&(rt=eliminateHoles(o,s,rt,et)),o.length>80*et){st=at=o[0],ot=ut=o[1];for(let vt=et;vt<nt;vt+=et)ht=o[vt],ft=o[vt+1],ht<st&&(st=ht),ft<ot&&(ot=ft),ht>at&&(at=ht),ft>ut&&(ut=ft);dt=Math.max(at-st,ut-ot),dt=dt!==0?1/dt:0}return earcutLinked(rt,it,et,st,ot,dt),it}};function linkedList(o,s,et,tt,nt){let rt,it;if(nt===signedArea(o,s,et,tt)>0)for(rt=s;rt<et;rt+=tt)it=insertNode(rt,o[rt],o[rt+1],it);else for(rt=et-tt;rt>=s;rt-=tt)it=insertNode(rt,o[rt],o[rt+1],it);return it&&equals(it,it.next)&&(removeNode(it),it=it.next),it}function filterPoints(o,s){if(!o)return o;s||(s=o);let et=o,tt;do if(tt=!1,!et.steiner&&(equals(et,et.next)||area(et.prev,et,et.next)===0)){if(removeNode(et),et=s=et.prev,et===et.next)break;tt=!0}else et=et.next;while(tt||et!==s);return s}function earcutLinked(o,s,et,tt,nt,rt,it){if(!o)return;!it&&rt&&indexCurve(o,tt,nt,rt);let st=o,ot,at;for(;o.prev!==o.next;){if(ot=o.prev,at=o.next,rt?isEarHashed(o,tt,nt,rt):isEar(o)){s.push(ot.i/et),s.push(o.i/et),s.push(at.i/et),removeNode(o),o=at.next,st=at.next;continue}if(o=at,o===st){it?it===1?(o=cureLocalIntersections(filterPoints(o),s,et),earcutLinked(o,s,et,tt,nt,rt,2)):it===2&&splitEarcut(o,s,et,tt,nt,rt):earcutLinked(filterPoints(o),s,et,tt,nt,rt,1);break}}}function isEar(o){const s=o.prev,et=o,tt=o.next;if(area(s,et,tt)>=0)return!1;let nt=o.next.next;for(;nt!==o.prev;){if(pointInTriangle(s.x,s.y,et.x,et.y,tt.x,tt.y,nt.x,nt.y)&&area(nt.prev,nt,nt.next)>=0)return!1;nt=nt.next}return!0}function isEarHashed(o,s,et,tt){const nt=o.prev,rt=o,it=o.next;if(area(nt,rt,it)>=0)return!1;const st=nt.x<rt.x?nt.x<it.x?nt.x:it.x:rt.x<it.x?rt.x:it.x,ot=nt.y<rt.y?nt.y<it.y?nt.y:it.y:rt.y<it.y?rt.y:it.y,at=nt.x>rt.x?nt.x>it.x?nt.x:it.x:rt.x>it.x?rt.x:it.x,ut=nt.y>rt.y?nt.y>it.y?nt.y:it.y:rt.y>it.y?rt.y:it.y,ht=zOrder(st,ot,s,et,tt),ft=zOrder(at,ut,s,et,tt);let dt=o.prevZ,vt=o.nextZ;for(;dt&&dt.z>=ht&&vt&&vt.z<=ft;){if(dt!==o.prev&&dt!==o.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,dt.x,dt.y)&&area(dt.prev,dt,dt.next)>=0||(dt=dt.prevZ,vt!==o.prev&&vt!==o.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,vt.x,vt.y)&&area(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;dt&&dt.z>=ht;){if(dt!==o.prev&&dt!==o.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,dt.x,dt.y)&&area(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;vt&&vt.z<=ft;){if(vt!==o.prev&&vt!==o.next&&pointInTriangle(nt.x,nt.y,rt.x,rt.y,it.x,it.y,vt.x,vt.y)&&area(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function cureLocalIntersections(o,s,et){let tt=o;do{const nt=tt.prev,rt=tt.next.next;!equals(nt,rt)&&intersects(nt,tt,tt.next,rt)&&locallyInside(nt,rt)&&locallyInside(rt,nt)&&(s.push(nt.i/et),s.push(tt.i/et),s.push(rt.i/et),removeNode(tt),removeNode(tt.next),tt=o=rt),tt=tt.next}while(tt!==o);return filterPoints(tt)}function splitEarcut(o,s,et,tt,nt,rt){let it=o;do{let st=it.next.next;for(;st!==it.prev;){if(it.i!==st.i&&isValidDiagonal(it,st)){let ot=splitPolygon(it,st);it=filterPoints(it,it.next),ot=filterPoints(ot,ot.next),earcutLinked(it,s,et,tt,nt,rt),earcutLinked(ot,s,et,tt,nt,rt);return}st=st.next}it=it.next}while(it!==o)}function eliminateHoles(o,s,et,tt){const nt=[];let rt,it,st,ot,at;for(rt=0,it=s.length;rt<it;rt++)st=s[rt]*tt,ot=rt<it-1?s[rt+1]*tt:o.length,at=linkedList(o,st,ot,tt,!1),at===at.next&&(at.steiner=!0),nt.push(getLeftmost(at));for(nt.sort(compareX),rt=0;rt<nt.length;rt++)eliminateHole(nt[rt],et),et=filterPoints(et,et.next);return et}function compareX(o,s){return o.x-s.x}function eliminateHole(o,s){if(s=findHoleBridge(o,s),s){const et=splitPolygon(s,o);filterPoints(s,s.next),filterPoints(et,et.next)}}function findHoleBridge(o,s){let et=s;const tt=o.x,nt=o.y;let rt=-1/0,it;do{if(nt<=et.y&&nt>=et.next.y&&et.next.y!==et.y){const ft=et.x+(nt-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(ft<=tt&&ft>rt){if(rt=ft,ft===tt){if(nt===et.y)return et;if(nt===et.next.y)return et.next}it=et.x<et.next.x?et:et.next}}et=et.next}while(et!==s);if(!it)return null;if(tt===rt)return it;const st=it,ot=it.x,at=it.y;let ut=1/0,ht;et=it;do tt>=et.x&&et.x>=ot&&tt!==et.x&&pointInTriangle(nt<at?tt:rt,nt,ot,at,nt<at?rt:tt,nt,et.x,et.y)&&(ht=Math.abs(nt-et.y)/(tt-et.x),locallyInside(et,o)&&(ht<ut||ht===ut&&(et.x>it.x||et.x===it.x&&sectorContainsSector(it,et)))&&(it=et,ut=ht)),et=et.next;while(et!==st);return it}function sectorContainsSector(o,s){return area(o.prev,o,s.prev)<0&&area(s.next,o,o.next)<0}function indexCurve(o,s,et,tt){let nt=o;do nt.z===null&&(nt.z=zOrder(nt.x,nt.y,s,et,tt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==o);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(o){let s,et,tt,nt,rt,it,st,ot,at=1;do{for(et=o,o=null,rt=null,it=0;et;){for(it++,tt=et,st=0,s=0;s<at&&(st++,tt=tt.nextZ,!!tt);s++);for(ot=at;st>0||ot>0&&tt;)st!==0&&(ot===0||!tt||et.z<=tt.z)?(nt=et,et=et.nextZ,st--):(nt=tt,tt=tt.nextZ,ot--),rt?rt.nextZ=nt:o=nt,nt.prevZ=rt,rt=nt;et=tt}rt.nextZ=null,at*=2}while(it>1);return o}function zOrder(o,s,et,tt,nt){return o=32767*(o-et)*nt,s=32767*(s-tt)*nt,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,o|s<<1}function getLeftmost(o){let s=o,et=o;do(s.x<et.x||s.x===et.x&&s.y<et.y)&&(et=s),s=s.next;while(s!==o);return et}function pointInTriangle(o,s,et,tt,nt,rt,it,st){return(nt-it)*(s-st)-(o-it)*(rt-st)>=0&&(o-it)*(tt-st)-(et-it)*(s-st)>=0&&(et-it)*(rt-st)-(nt-it)*(tt-st)>=0}function isValidDiagonal(o,s){return o.next.i!==s.i&&o.prev.i!==s.i&&!intersectsPolygon(o,s)&&(locallyInside(o,s)&&locallyInside(s,o)&&middleInside(o,s)&&(area(o.prev,o,s.prev)||area(o,s.prev,s))||equals(o,s)&&area(o.prev,o,o.next)>0&&area(s.prev,s,s.next)>0)}function area(o,s,et){return(s.y-o.y)*(et.x-s.x)-(s.x-o.x)*(et.y-s.y)}function equals(o,s){return o.x===s.x&&o.y===s.y}function intersects(o,s,et,tt){const nt=sign(area(o,s,et)),rt=sign(area(o,s,tt)),it=sign(area(et,tt,o)),st=sign(area(et,tt,s));return!!(nt!==rt&&it!==st||nt===0&&onSegment(o,et,s)||rt===0&&onSegment(o,tt,s)||it===0&&onSegment(et,o,tt)||st===0&&onSegment(et,s,tt))}function onSegment(o,s,et){return s.x<=Math.max(o.x,et.x)&&s.x>=Math.min(o.x,et.x)&&s.y<=Math.max(o.y,et.y)&&s.y>=Math.min(o.y,et.y)}function sign(o){return o>0?1:o<0?-1:0}function intersectsPolygon(o,s){let et=o;do{if(et.i!==o.i&&et.next.i!==o.i&&et.i!==s.i&&et.next.i!==s.i&&intersects(et,et.next,o,s))return!0;et=et.next}while(et!==o);return!1}function locallyInside(o,s){return area(o.prev,o,o.next)<0?area(o,s,o.next)>=0&&area(o,o.prev,s)>=0:area(o,s,o.prev)<0||area(o,o.next,s)<0}function middleInside(o,s){let et=o,tt=!1;const nt=(o.x+s.x)/2,rt=(o.y+s.y)/2;do et.y>rt!=et.next.y>rt&&et.next.y!==et.y&&nt<(et.next.x-et.x)*(rt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next;while(et!==o);return tt}function splitPolygon(o,s){const et=new Node(o.i,o.x,o.y),tt=new Node(s.i,s.x,s.y),nt=o.next,rt=s.prev;return o.next=s,s.prev=o,et.next=nt,nt.prev=et,tt.next=et,et.prev=tt,rt.next=tt,tt.prev=rt,tt}function insertNode(o,s,et,tt){const nt=new Node(o,s,et);return tt?(nt.next=tt.next,nt.prev=tt,tt.next.prev=nt,tt.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Node(o,s,et){this.i=o,this.x=s,this.y=et,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(o,s,et,tt){let nt=0;for(let rt=s,it=et-tt;rt<et;rt+=tt)nt+=(o[it]-o[rt])*(o[rt+1]+o[it+1]),it=rt;return nt}class ShapeUtils{static area(s){const et=s.length;let tt=0;for(let nt=et-1,rt=0;rt<et;nt=rt++)tt+=s[nt].x*s[rt].y-s[rt].x*s[nt].y;return tt*.5}static isClockWise(s){return ShapeUtils.area(s)<0}static triangulateShape(s,et){const tt=[],nt=[],rt=[];removeDupEndPts(s),addContour(tt,s);let it=s.length;et.forEach(removeDupEndPts);for(let ot=0;ot<et.length;ot++)nt.push(it),it+=et[ot].length,addContour(tt,et[ot]);const st=Earcut.triangulate(tt,nt);for(let ot=0;ot<st.length;ot+=3)rt.push(st.slice(ot,ot+3));return rt}}function removeDupEndPts(o){const s=o.length;s>2&&o[s-1].equals(o[0])&&o.pop()}function addContour(o,s){for(let et=0;et<s.length;et++)o.push(s[et].x),o.push(s[et].y)}class ExtrudeGeometry extends BufferGeometry{constructor(s=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:s,options:et},s=Array.isArray(s)?s:[s];const tt=this,nt=[],rt=[];for(let st=0,ot=s.length;st<ot;st++){const at=s[st];it(at)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2)),this.computeVertexNormals();function it(st){const ot=[],at=et.curveSegments!==void 0?et.curveSegments:12,ut=et.steps!==void 0?et.steps:1,ht=et.depth!==void 0?et.depth:1;let ft=et.bevelEnabled!==void 0?et.bevelEnabled:!0,dt=et.bevelThickness!==void 0?et.bevelThickness:.2,vt=et.bevelSize!==void 0?et.bevelSize:dt-.1,gt=et.bevelOffset!==void 0?et.bevelOffset:0,_t=et.bevelSegments!==void 0?et.bevelSegments:3;const pt=et.extrudePath,mt=et.UVGenerator!==void 0?et.UVGenerator:WorldUVGenerator;let yt,xt=!1,bt,wt,Ct,Et;pt&&(yt=pt.getSpacedPoints(ut),xt=!0,ft=!1,bt=pt.computeFrenetFrames(ut,!1),wt=new Vector3,Ct=new Vector3,Et=new Vector3),ft||(_t=0,dt=0,vt=0,gt=0);const kt=st.extractPoints(at);let Dt=kt.shape;const zt=kt.holes;if(!ShapeUtils.isClockWise(Dt)){Dt=Dt.reverse();for(let tn=0,Yt=zt.length;tn<Yt;tn++){const dn=zt[tn];ShapeUtils.isClockWise(dn)&&(zt[tn]=dn.reverse())}}const Ht=ShapeUtils.triangulateShape(Dt,zt),Gt=Dt;for(let tn=0,Yt=zt.length;tn<Yt;tn++){const dn=zt[tn];Dt=Dt.concat(dn)}function $t(tn,Yt,dn){return Yt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Yt.clone().multiplyScalar(dn).add(tn)}const Ft=Dt.length,It=Ht.length;function Tt(tn,Yt,dn){let yn,_n,En;const Tn=tn.x-Yt.x,Ln=tn.y-Yt.y,Bn=dn.x-tn.x,Hn=dn.y-tn.y,qt=Tn*Tn+Ln*Ln,Bt=Tn*Hn-Ln*Bn;if(Math.abs(Bt)>Number.EPSILON){const Zt=Math.sqrt(qt),pn=Math.sqrt(Bn*Bn+Hn*Hn),Sn=Yt.x-Ln/Zt,wn=Yt.y+Tn/Zt,Vn=dn.x-Hn/pn,ln=dn.y+Bn/pn,Nn=((Vn-Sn)*Hn-(ln-wn)*Bn)/(Tn*Hn-Ln*Bn);yn=Sn+Tn*Nn-tn.x,_n=wn+Ln*Nn-tn.y;const In=yn*yn+_n*_n;if(In<=2)return new Vector2(yn,_n);En=Math.sqrt(In/2)}else{let Zt=!1;Tn>Number.EPSILON?Bn>Number.EPSILON&&(Zt=!0):Tn<-Number.EPSILON?Bn<-Number.EPSILON&&(Zt=!0):Math.sign(Ln)===Math.sign(Hn)&&(Zt=!0),Zt?(yn=-Ln,_n=Tn,En=Math.sqrt(qt)):(yn=Tn,_n=Ln,En=Math.sqrt(qt/2))}return new Vector2(yn/En,_n/En)}const Pt=[];for(let tn=0,Yt=Gt.length,dn=Yt-1,yn=tn+1;tn<Yt;tn++,dn++,yn++)dn===Yt&&(dn=0),yn===Yt&&(yn=0),Pt[tn]=Tt(Gt[tn],Gt[dn],Gt[yn]);const Rt=[];let Vt,Ot=Pt.concat();for(let tn=0,Yt=zt.length;tn<Yt;tn++){const dn=zt[tn];Vt=[];for(let yn=0,_n=dn.length,En=_n-1,Tn=yn+1;yn<_n;yn++,En++,Tn++)En===_n&&(En=0),Tn===_n&&(Tn=0),Vt[yn]=Tt(dn[yn],dn[En],dn[Tn]);Rt.push(Vt),Ot=Ot.concat(Vt)}for(let tn=0;tn<_t;tn++){const Yt=tn/_t,dn=dt*Math.cos(Yt*Math.PI/2),yn=vt*Math.sin(Yt*Math.PI/2)+gt;for(let _n=0,En=Gt.length;_n<En;_n++){const Tn=$t(Gt[_n],Pt[_n],yn);vn(Tn.x,Tn.y,-dn)}for(let _n=0,En=zt.length;_n<En;_n++){const Tn=zt[_n];Vt=Rt[_n];for(let Ln=0,Bn=Tn.length;Ln<Bn;Ln++){const Hn=$t(Tn[Ln],Vt[Ln],yn);vn(Hn.x,Hn.y,-dn)}}}const Xt=vt+gt;for(let tn=0;tn<Ft;tn++){const Yt=ft?$t(Dt[tn],Ot[tn],Xt):Dt[tn];xt?(Ct.copy(bt.normals[0]).multiplyScalar(Yt.x),wt.copy(bt.binormals[0]).multiplyScalar(Yt.y),Et.copy(yt[0]).add(Ct).add(wt),vn(Et.x,Et.y,Et.z)):vn(Yt.x,Yt.y,0)}for(let tn=1;tn<=ut;tn++)for(let Yt=0;Yt<Ft;Yt++){const dn=ft?$t(Dt[Yt],Ot[Yt],Xt):Dt[Yt];xt?(Ct.copy(bt.normals[tn]).multiplyScalar(dn.x),wt.copy(bt.binormals[tn]).multiplyScalar(dn.y),Et.copy(yt[tn]).add(Ct).add(wt),vn(Et.x,Et.y,Et.z)):vn(dn.x,dn.y,ht/ut*tn)}for(let tn=_t-1;tn>=0;tn--){const Yt=tn/_t,dn=dt*Math.cos(Yt*Math.PI/2),yn=vt*Math.sin(Yt*Math.PI/2)+gt;for(let _n=0,En=Gt.length;_n<En;_n++){const Tn=$t(Gt[_n],Pt[_n],yn);vn(Tn.x,Tn.y,ht+dn)}for(let _n=0,En=zt.length;_n<En;_n++){const Tn=zt[_n];Vt=Rt[_n];for(let Ln=0,Bn=Tn.length;Ln<Bn;Ln++){const Hn=$t(Tn[Ln],Vt[Ln],yn);xt?vn(Hn.x,Hn.y+yt[ut-1].y,yt[ut-1].x+dn):vn(Hn.x,Hn.y,ht+dn)}}}Kt(),fn();function Kt(){const tn=nt.length/3;if(ft){let Yt=0,dn=Ft*Yt;for(let yn=0;yn<It;yn++){const _n=Ht[yn];on(_n[2]+dn,_n[1]+dn,_n[0]+dn)}Yt=ut+_t*2,dn=Ft*Yt;for(let yn=0;yn<It;yn++){const _n=Ht[yn];on(_n[0]+dn,_n[1]+dn,_n[2]+dn)}}else{for(let Yt=0;Yt<It;Yt++){const dn=Ht[Yt];on(dn[2],dn[1],dn[0])}for(let Yt=0;Yt<It;Yt++){const dn=Ht[Yt];on(dn[0]+Ft*ut,dn[1]+Ft*ut,dn[2]+Ft*ut)}}tt.addGroup(tn,nt.length/3-tn,0)}function fn(){const tn=nt.length/3;let Yt=0;Nt(Gt,Yt),Yt+=Gt.length;for(let dn=0,yn=zt.length;dn<yn;dn++){const _n=zt[dn];Nt(_n,Yt),Yt+=_n.length}tt.addGroup(tn,nt.length/3-tn,1)}function Nt(tn,Yt){let dn=tn.length;for(;--dn>=0;){const yn=dn;let _n=dn-1;_n<0&&(_n=tn.length-1);for(let En=0,Tn=ut+_t*2;En<Tn;En++){const Ln=Ft*En,Bn=Ft*(En+1),Hn=Yt+yn+Ln,qt=Yt+_n+Ln,Bt=Yt+_n+Bn,Zt=Yt+yn+Bn;bn(Hn,qt,Bt,Zt)}}}function vn(tn,Yt,dn){ot.push(tn),ot.push(Yt),ot.push(dn)}function on(tn,Yt,dn){cn(tn),cn(Yt),cn(dn);const yn=nt.length/3,_n=mt.generateTopUV(tt,nt,yn-3,yn-2,yn-1);xn(_n[0]),xn(_n[1]),xn(_n[2])}function bn(tn,Yt,dn,yn){cn(tn),cn(Yt),cn(yn),cn(Yt),cn(dn),cn(yn);const _n=nt.length/3,En=mt.generateSideWallUV(tt,nt,_n-6,_n-3,_n-2,_n-1);xn(En[0]),xn(En[1]),xn(En[3]),xn(En[1]),xn(En[2]),xn(En[3])}function cn(tn){nt.push(ot[tn*3+0]),nt.push(ot[tn*3+1]),nt.push(ot[tn*3+2])}function xn(tn){rt.push(tn.x),rt.push(tn.y)}}}toJSON(){const s=super.toJSON(),et=this.parameters.shapes,tt=this.parameters.options;return toJSON$1(et,tt,s)}static fromJSON(s,et){const tt=[];for(let rt=0,it=s.shapes.length;rt<it;rt++){const st=et[s.shapes[rt]];tt.push(st)}const nt=s.options.extrudePath;return nt!==void 0&&(s.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(tt,s.options)}}const WorldUVGenerator={generateTopUV:function(o,s,et,tt,nt){const rt=s[et*3],it=s[et*3+1],st=s[tt*3],ot=s[tt*3+1],at=s[nt*3],ut=s[nt*3+1];return[new Vector2(rt,it),new Vector2(st,ot),new Vector2(at,ut)]},generateSideWallUV:function(o,s,et,tt,nt,rt){const it=s[et*3],st=s[et*3+1],ot=s[et*3+2],at=s[tt*3],ut=s[tt*3+1],ht=s[tt*3+2],ft=s[nt*3],dt=s[nt*3+1],vt=s[nt*3+2],gt=s[rt*3],_t=s[rt*3+1],pt=s[rt*3+2];return Math.abs(st-ut)<Math.abs(it-at)?[new Vector2(it,1-ot),new Vector2(at,1-ht),new Vector2(ft,1-vt),new Vector2(gt,1-pt)]:[new Vector2(st,1-ot),new Vector2(ut,1-ht),new Vector2(dt,1-vt),new Vector2(_t,1-pt)]}};function toJSON$1(o,s,et){if(et.shapes=[],Array.isArray(o))for(let tt=0,nt=o.length;tt<nt;tt++){const rt=o[tt];et.shapes.push(rt.uuid)}else et.shapes.push(o.uuid);return et.options=Object.assign({},s),s.extrudePath!==void 0&&(et.options.extrudePath=s.extrudePath.toJSON()),et}class IcosahedronGeometry extends PolyhedronGeometry{constructor(s=1,et=0){const tt=(1+Math.sqrt(5))/2,nt=[-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,0,0,-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,tt,0,-1,tt,0,1,-tt,0,-1,-tt,0,1],rt=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(nt,rt,s,et),this.type="IcosahedronGeometry",this.parameters={radius:s,detail:et}}static fromJSON(s){return new IcosahedronGeometry(s.radius,s.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(s=1,et=0){const tt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(tt,nt,s,et),this.type="OctahedronGeometry",this.parameters={radius:s,detail:et}}static fromJSON(s){return new OctahedronGeometry(s.radius,s.detail)}}class RingGeometry extends BufferGeometry{constructor(s=.5,et=1,tt=8,nt=1,rt=0,it=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:s,outerRadius:et,thetaSegments:tt,phiSegments:nt,thetaStart:rt,thetaLength:it},tt=Math.max(3,tt),nt=Math.max(1,nt);const st=[],ot=[],at=[],ut=[];let ht=s;const ft=(et-s)/nt,dt=new Vector3,vt=new Vector2;for(let gt=0;gt<=nt;gt++){for(let _t=0;_t<=tt;_t++){const pt=rt+_t/tt*it;dt.x=ht*Math.cos(pt),dt.y=ht*Math.sin(pt),ot.push(dt.x,dt.y,dt.z),at.push(0,0,1),vt.x=(dt.x/et+1)/2,vt.y=(dt.y/et+1)/2,ut.push(vt.x,vt.y)}ht+=ft}for(let gt=0;gt<nt;gt++){const _t=gt*(tt+1);for(let pt=0;pt<tt;pt++){const mt=pt+_t,yt=mt,xt=mt+tt+1,bt=mt+tt+2,wt=mt+1;st.push(yt,xt,wt),st.push(xt,bt,wt)}}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2))}static fromJSON(s){return new RingGeometry(s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(s=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et=12){super(),this.type="ShapeGeometry",this.parameters={shapes:s,curveSegments:et};const tt=[],nt=[],rt=[],it=[];let st=0,ot=0;if(Array.isArray(s)===!1)at(s);else for(let ut=0;ut<s.length;ut++)at(s[ut]),this.addGroup(st,ot,ut),st+=ot,ot=0;this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2));function at(ut){const ht=nt.length/3,ft=ut.extractPoints(et);let dt=ft.shape;const vt=ft.holes;ShapeUtils.isClockWise(dt)===!1&&(dt=dt.reverse());for(let _t=0,pt=vt.length;_t<pt;_t++){const mt=vt[_t];ShapeUtils.isClockWise(mt)===!0&&(vt[_t]=mt.reverse())}const gt=ShapeUtils.triangulateShape(dt,vt);for(let _t=0,pt=vt.length;_t<pt;_t++){const mt=vt[_t];dt=dt.concat(mt)}for(let _t=0,pt=dt.length;_t<pt;_t++){const mt=dt[_t];nt.push(mt.x,mt.y,0),rt.push(0,0,1),it.push(mt.x,mt.y)}for(let _t=0,pt=gt.length;_t<pt;_t++){const mt=gt[_t],yt=mt[0]+ht,xt=mt[1]+ht,bt=mt[2]+ht;tt.push(yt,xt,bt),ot+=3}}}toJSON(){const s=super.toJSON(),et=this.parameters.shapes;return toJSON(et,s)}static fromJSON(s,et){const tt=[];for(let nt=0,rt=s.shapes.length;nt<rt;nt++){const it=et[s.shapes[nt]];tt.push(it)}return new ShapeGeometry(tt,s.curveSegments)}}function toJSON(o,s){if(s.shapes=[],Array.isArray(o))for(let et=0,tt=o.length;et<tt;et++){const nt=o[et];s.shapes.push(nt.uuid)}else s.shapes.push(o.uuid);return s}class SphereGeometry extends BufferGeometry{constructor(s=1,et=32,tt=16,nt=0,rt=Math.PI*2,it=0,st=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:s,widthSegments:et,heightSegments:tt,phiStart:nt,phiLength:rt,thetaStart:it,thetaLength:st},et=Math.max(3,Math.floor(et)),tt=Math.max(2,Math.floor(tt));const ot=Math.min(it+st,Math.PI);let at=0;const ut=[],ht=new Vector3,ft=new Vector3,dt=[],vt=[],gt=[],_t=[];for(let pt=0;pt<=tt;pt++){const mt=[],yt=pt/tt;let xt=0;pt==0&&it==0?xt=.5/et:pt==tt&&ot==Math.PI&&(xt=-.5/et);for(let bt=0;bt<=et;bt++){const wt=bt/et;ht.x=-s*Math.cos(nt+wt*rt)*Math.sin(it+yt*st),ht.y=s*Math.cos(it+yt*st),ht.z=s*Math.sin(nt+wt*rt)*Math.sin(it+yt*st),vt.push(ht.x,ht.y,ht.z),ft.copy(ht).normalize(),gt.push(ft.x,ft.y,ft.z),_t.push(wt+xt,1-yt),mt.push(at++)}ut.push(mt)}for(let pt=0;pt<tt;pt++)for(let mt=0;mt<et;mt++){const yt=ut[pt][mt+1],xt=ut[pt][mt],bt=ut[pt+1][mt],wt=ut[pt+1][mt+1];(pt!==0||it>0)&&dt.push(yt,xt,wt),(pt!==tt-1||ot<Math.PI)&&dt.push(xt,bt,wt)}this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(vt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(_t,2))}static fromJSON(s){return new SphereGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(s=1,et=0){const tt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nt=[2,1,0,0,3,2,1,3,0,2,3,1];super(tt,nt,s,et),this.type="TetrahedronGeometry",this.parameters={radius:s,detail:et}}static fromJSON(s){return new TetrahedronGeometry(s.radius,s.detail)}}class TorusGeometry extends BufferGeometry{constructor(s=1,et=.4,tt=8,nt=6,rt=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:s,tube:et,radialSegments:tt,tubularSegments:nt,arc:rt},tt=Math.floor(tt),nt=Math.floor(nt);const it=[],st=[],ot=[],at=[],ut=new Vector3,ht=new Vector3,ft=new Vector3;for(let dt=0;dt<=tt;dt++)for(let vt=0;vt<=nt;vt++){const gt=vt/nt*rt,_t=dt/tt*Math.PI*2;ht.x=(s+et*Math.cos(_t))*Math.cos(gt),ht.y=(s+et*Math.cos(_t))*Math.sin(gt),ht.z=et*Math.sin(_t),st.push(ht.x,ht.y,ht.z),ut.x=s*Math.cos(gt),ut.y=s*Math.sin(gt),ft.subVectors(ht,ut).normalize(),ot.push(ft.x,ft.y,ft.z),at.push(vt/nt),at.push(dt/tt)}for(let dt=1;dt<=tt;dt++)for(let vt=1;vt<=nt;vt++){const gt=(nt+1)*dt+vt-1,_t=(nt+1)*(dt-1)+vt-1,pt=(nt+1)*(dt-1)+vt,mt=(nt+1)*dt+vt;it.push(gt,_t,mt),it.push(_t,pt,mt)}this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2))}static fromJSON(s){return new TorusGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(s=1,et=.4,tt=64,nt=8,rt=2,it=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:s,tube:et,tubularSegments:tt,radialSegments:nt,p:rt,q:it},tt=Math.floor(tt),nt=Math.floor(nt);const st=[],ot=[],at=[],ut=[],ht=new Vector3,ft=new Vector3,dt=new Vector3,vt=new Vector3,gt=new Vector3,_t=new Vector3,pt=new Vector3;for(let yt=0;yt<=tt;++yt){const xt=yt/tt*rt*Math.PI*2;mt(xt,rt,it,s,dt),mt(xt+.01,rt,it,s,vt),_t.subVectors(vt,dt),pt.addVectors(vt,dt),gt.crossVectors(_t,pt),pt.crossVectors(gt,_t),gt.normalize(),pt.normalize();for(let bt=0;bt<=nt;++bt){const wt=bt/nt*Math.PI*2,Ct=-et*Math.cos(wt),Et=et*Math.sin(wt);ht.x=dt.x+(Ct*pt.x+Et*gt.x),ht.y=dt.y+(Ct*pt.y+Et*gt.y),ht.z=dt.z+(Ct*pt.z+Et*gt.z),ot.push(ht.x,ht.y,ht.z),ft.subVectors(ht,dt).normalize(),at.push(ft.x,ft.y,ft.z),ut.push(yt/tt),ut.push(bt/nt)}}for(let yt=1;yt<=tt;yt++)for(let xt=1;xt<=nt;xt++){const bt=(nt+1)*(yt-1)+(xt-1),wt=(nt+1)*yt+(xt-1),Ct=(nt+1)*yt+xt,Et=(nt+1)*(yt-1)+xt;st.push(bt,wt,Et),st.push(wt,Ct,Et)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function mt(yt,xt,bt,wt,Ct){const Et=Math.cos(yt),kt=Math.sin(yt),Dt=bt/xt*yt,zt=Math.cos(Dt);Ct.x=wt*(2+zt)*.5*Et,Ct.y=wt*(2+zt)*kt*.5,Ct.z=wt*Math.sin(Dt)*.5}}static fromJSON(s){return new TorusKnotGeometry(s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q)}}class TubeGeometry extends BufferGeometry{constructor(s=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),et=64,tt=1,nt=8,rt=!1){super(),this.type="TubeGeometry",this.parameters={path:s,tubularSegments:et,radius:tt,radialSegments:nt,closed:rt};const it=s.computeFrenetFrames(et,rt);this.tangents=it.tangents,this.normals=it.normals,this.binormals=it.binormals;const st=new Vector3,ot=new Vector3,at=new Vector2;let ut=new Vector3;const ht=[],ft=[],dt=[],vt=[];gt(),this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function gt(){for(let yt=0;yt<et;yt++)_t(yt);_t(rt===!1?et:0),mt(),pt()}function _t(yt){ut=s.getPointAt(yt/et,ut);const xt=it.normals[yt],bt=it.binormals[yt];for(let wt=0;wt<=nt;wt++){const Ct=wt/nt*Math.PI*2,Et=Math.sin(Ct),kt=-Math.cos(Ct);ot.x=kt*xt.x+Et*bt.x,ot.y=kt*xt.y+Et*bt.y,ot.z=kt*xt.z+Et*bt.z,ot.normalize(),ft.push(ot.x,ot.y,ot.z),st.x=ut.x+tt*ot.x,st.y=ut.y+tt*ot.y,st.z=ut.z+tt*ot.z,ht.push(st.x,st.y,st.z)}}function pt(){for(let yt=1;yt<=et;yt++)for(let xt=1;xt<=nt;xt++){const bt=(nt+1)*(yt-1)+(xt-1),wt=(nt+1)*yt+(xt-1),Ct=(nt+1)*yt+xt,Et=(nt+1)*(yt-1)+xt;vt.push(bt,wt,Et),vt.push(wt,Ct,Et)}}function mt(){for(let yt=0;yt<=et;yt++)for(let xt=0;xt<=nt;xt++)at.x=yt/et,at.y=xt/nt,dt.push(at.x,at.y)}}toJSON(){const s=super.toJSON();return s.path=this.parameters.path.toJSON(),s}static fromJSON(s){return new TubeGeometry(new Curves[s.path.type]().fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed)}}class WireframeGeometry extends BufferGeometry{constructor(s=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:s},s!==null){const et=[],tt=new Set,nt=new Vector3,rt=new Vector3;if(s.index!==null){const it=s.attributes.position,st=s.index;let ot=s.groups;ot.length===0&&(ot=[{start:0,count:st.count,materialIndex:0}]);for(let at=0,ut=ot.length;at<ut;++at){const ht=ot[at],ft=ht.start,dt=ht.count;for(let vt=ft,gt=ft+dt;vt<gt;vt+=3)for(let _t=0;_t<3;_t++){const pt=st.getX(vt+_t),mt=st.getX(vt+(_t+1)%3);nt.fromBufferAttribute(it,pt),rt.fromBufferAttribute(it,mt),isUniqueEdge(nt,rt,tt)===!0&&(et.push(nt.x,nt.y,nt.z),et.push(rt.x,rt.y,rt.z))}}}else{const it=s.attributes.position;for(let st=0,ot=it.count/3;st<ot;st++)for(let at=0;at<3;at++){const ut=3*st+at,ht=3*st+(at+1)%3;nt.fromBufferAttribute(it,ut),rt.fromBufferAttribute(it,ht),isUniqueEdge(nt,rt,tt)===!0&&(et.push(nt.x,nt.y,nt.z),et.push(rt.x,rt.y,rt.z))}}this.setAttribute("position",new Float32BufferAttribute(et,3))}}}function isUniqueEdge(o,s,et){const tt=`${o.x},${o.y},${o.z}-${s.x},${s.y},${s.z}`,nt=`${s.x},${s.y},${s.z}-${o.x},${o.y},${o.z}`;return et.has(tt)===!0||et.has(nt)===!0?!1:(et.add(tt),et.add(nt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(s){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.fog=s.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(s){super(s),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(s){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.defines={STANDARD:""},this.color.copy(s.color),this.roughness=s.roughness,this.metalness=s.metalness,this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.roughnessMap=s.roughnessMap,this.metalnessMap=s.metalnessMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.envMapIntensity=s.envMapIntensity,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.flatShading=s.flatShading,this.fog=s.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(s){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$2(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(et){this.ior=(1+.4*et)/(1-.4*et)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(s)}get sheen(){return this._sheen}set sheen(s){this._sheen>0!=s>0&&this.version++,this._sheen=s}get clearcoat(){return this._clearcoat}set clearcoat(s){this._clearcoat>0!=s>0&&this.version++,this._clearcoat=s}get iridescence(){return this._iridescence}set iridescence(s){this._iridescence>0!=s>0&&this.version++,this._iridescence=s}get transmission(){return this._transmission}set transmission(s){this._transmission>0!=s>0&&this.version++,this._transmission=s}copy(s){return super.copy(s),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=s.clearcoat,this.clearcoatMap=s.clearcoatMap,this.clearcoatRoughness=s.clearcoatRoughness,this.clearcoatRoughnessMap=s.clearcoatRoughnessMap,this.clearcoatNormalMap=s.clearcoatNormalMap,this.clearcoatNormalScale.copy(s.clearcoatNormalScale),this.ior=s.ior,this.iridescence=s.iridescence,this.iridescenceMap=s.iridescenceMap,this.iridescenceIOR=s.iridescenceIOR,this.iridescenceThicknessRange=[...s.iridescenceThicknessRange],this.iridescenceThicknessMap=s.iridescenceThicknessMap,this.sheen=s.sheen,this.sheenColor.copy(s.sheenColor),this.sheenColorMap=s.sheenColorMap,this.sheenRoughness=s.sheenRoughness,this.sheenRoughnessMap=s.sheenRoughnessMap,this.transmission=s.transmission,this.transmissionMap=s.transmissionMap,this.thickness=s.thickness,this.thicknessMap=s.thicknessMap,this.attenuationDistance=s.attenuationDistance,this.attenuationColor.copy(s.attenuationColor),this.specularIntensity=s.specularIntensity,this.specularIntensityMap=s.specularIntensityMap,this.specularColor.copy(s.specularColor),this.specularColorMap=s.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(s){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.specular.copy(s.specular),this.shininess=s.shininess,this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.flatShading=s.flatShading,this.fog=s.fog,this}}class MeshToonMaterial extends Material{constructor(s){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.gradientMap=s.gradientMap,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.alphaMap=s.alphaMap,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.fog=s.fog,this}}class MeshNormalMaterial extends Material{constructor(s){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(s)}copy(s){return super.copy(s),this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.flatShading=s.flatShading,this}}class MeshLambertMaterial extends Material{constructor(s){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.flatShading=s.flatShading,this.fog=s.fog,this}}class MeshMatcapMaterial extends Material{constructor(s){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.defines={MATCAP:""},this.color.copy(s.color),this.matcap=s.matcap,this.map=s.map,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.alphaMap=s.alphaMap,this.flatShading=s.flatShading,this.fog=s.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(s){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(s)}copy(s){return super.copy(s),this.scale=s.scale,this.dashSize=s.dashSize,this.gapSize=s.gapSize,this}}function arraySlice(o,s,et){return isTypedArray(o)?new o.constructor(o.subarray(s,et!==void 0?et:o.length)):o.slice(s,et)}function convertArray(o,s,et){return!o||!et&&o.constructor===s?o:typeof s.BYTES_PER_ELEMENT=="number"?new s(o):Array.prototype.slice.call(o)}function isTypedArray(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function getKeyframeOrder(o){function s(nt,rt){return o[nt]-o[rt]}const et=o.length,tt=new Array(et);for(let nt=0;nt!==et;++nt)tt[nt]=nt;return tt.sort(s),tt}function sortedArray(o,s,et){const tt=o.length,nt=new o.constructor(tt);for(let rt=0,it=0;it!==tt;++rt){const st=et[rt]*s;for(let ot=0;ot!==s;++ot)nt[it++]=o[st+ot]}return nt}function flattenJSON(o,s,et,tt){let nt=1,rt=o[0];for(;rt!==void 0&&rt[tt]===void 0;)rt=o[nt++];if(rt===void 0)return;let it=rt[tt];if(it!==void 0)if(Array.isArray(it))do it=rt[tt],it!==void 0&&(s.push(rt.time),et.push.apply(et,it)),rt=o[nt++];while(rt!==void 0);else if(it.toArray!==void 0)do it=rt[tt],it!==void 0&&(s.push(rt.time),it.toArray(et,et.length)),rt=o[nt++];while(rt!==void 0);else do it=rt[tt],it!==void 0&&(s.push(rt.time),et.push(it)),rt=o[nt++];while(rt!==void 0)}function subclip(o,s,et,tt,nt=30){const rt=o.clone();rt.name=s;const it=[];for(let ot=0;ot<rt.tracks.length;++ot){const at=rt.tracks[ot],ut=at.getValueSize(),ht=[],ft=[];for(let dt=0;dt<at.times.length;++dt){const vt=at.times[dt]*nt;if(!(vt<et||vt>=tt)){ht.push(at.times[dt]);for(let gt=0;gt<ut;++gt)ft.push(at.values[dt*ut+gt])}}ht.length!==0&&(at.times=convertArray(ht,at.times.constructor),at.values=convertArray(ft,at.values.constructor),it.push(at))}rt.tracks=it;let st=1/0;for(let ot=0;ot<rt.tracks.length;++ot)st>rt.tracks[ot].times[0]&&(st=rt.tracks[ot].times[0]);for(let ot=0;ot<rt.tracks.length;++ot)rt.tracks[ot].shift(-1*st);return rt.resetDuration(),rt}function makeClipAdditive(o,s=0,et=o,tt=30){tt<=0&&(tt=30);const nt=et.tracks.length,rt=s/tt;for(let it=0;it<nt;++it){const st=et.tracks[it],ot=st.ValueTypeName;if(ot==="bool"||ot==="string")continue;const at=o.tracks.find(function(pt){return pt.name===st.name&&pt.ValueTypeName===ot});if(at===void 0)continue;let ut=0;const ht=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ut=ht/3);let ft=0;const dt=at.getValueSize();at.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ft=dt/3);const vt=st.times.length-1;let gt;if(rt<=st.times[0]){const pt=ut,mt=ht-ut;gt=arraySlice(st.values,pt,mt)}else if(rt>=st.times[vt]){const pt=vt*ht+ut,mt=pt+ht-ut;gt=arraySlice(st.values,pt,mt)}else{const pt=st.createInterpolant(),mt=ut,yt=ht-ut;pt.evaluate(rt),gt=arraySlice(pt.resultBuffer,mt,yt)}ot==="quaternion"&&new Quaternion().fromArray(gt).normalize().conjugate().toArray(gt);const _t=at.times.length;for(let pt=0;pt<_t;++pt){const mt=pt*dt+ft;if(ot==="quaternion")Quaternion.multiplyQuaternionsFlat(at.values,mt,gt,0,at.values,mt);else{const yt=dt-ft*2;for(let xt=0;xt<yt;++xt)at.values[mt+xt]-=gt[xt]}}}return o.blendMode=AdditiveAnimationBlendMode,o}var AnimationUtils=Object.freeze({__proto__:null,arraySlice,convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive});class Interpolant{constructor(s,et,tt,nt){this.parameterPositions=s,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new et.constructor(tt),this.sampleValues=et,this.valueSize=tt,this.settings=null,this.DefaultSettings_={}}evaluate(s){const et=this.parameterPositions;let tt=this._cachedIndex,nt=et[tt],rt=et[tt-1];e:{t:{let it;n:{r:if(!(s<nt)){for(let st=tt+2;;){if(nt===void 0){if(s<rt)break r;return tt=et.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}if(tt===st)break;if(rt=nt,nt=et[++tt],s<nt)break t}it=et.length;break n}if(!(s>=rt)){const st=et[1];s<st&&(tt=2,rt=st);for(let ot=tt-2;;){if(rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(tt===ot)break;if(nt=rt,rt=et[--tt-1],s>=rt)break t}it=tt,tt=0;break n}break e}for(;tt<it;){const st=tt+it>>>1;s<et[st]?it=st:tt=st+1}if(nt=et[tt],rt=et[tt-1],rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===void 0)return tt=et.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}this._cachedIndex=tt,this.intervalChanged_(tt,rt,nt)}return this.interpolate_(tt,rt,s,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(s){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=s*nt;for(let it=0;it!==nt;++it)et[it]=tt[rt+it];return et}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(s,et,tt,nt){super(s,et,tt,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(s,et,tt){const nt=this.parameterPositions;let rt=s-2,it=s+1,st=nt[rt],ot=nt[it];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:rt=s,st=2*et-tt;break;case WrapAroundEnding:rt=nt.length-2,st=et+nt[rt]-nt[rt+1];break;default:rt=s,st=tt}if(ot===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:it=s,ot=2*tt-et;break;case WrapAroundEnding:it=1,ot=tt+nt[1]-nt[0];break;default:it=s-1,ot=et}const at=(tt-et)*.5,ut=this.valueSize;this._weightPrev=at/(et-st),this._weightNext=at/(ot-tt),this._offsetPrev=rt*ut,this._offsetNext=it*ut}interpolate_(s,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=s*st,at=ot-st,ut=this._offsetPrev,ht=this._offsetNext,ft=this._weightPrev,dt=this._weightNext,vt=(tt-et)/(nt-et),gt=vt*vt,_t=gt*vt,pt=-ft*_t+2*ft*gt-ft*vt,mt=(1+ft)*_t+(-1.5-2*ft)*gt+(-.5+ft)*vt+1,yt=(-1-dt)*_t+(1.5+dt)*gt+.5*vt,xt=dt*_t-dt*gt;for(let bt=0;bt!==st;++bt)rt[bt]=pt*it[ut+bt]+mt*it[at+bt]+yt*it[ot+bt]+xt*it[ht+bt];return rt}}class LinearInterpolant extends Interpolant{constructor(s,et,tt,nt){super(s,et,tt,nt)}interpolate_(s,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=s*st,at=ot-st,ut=(tt-et)/(nt-et),ht=1-ut;for(let ft=0;ft!==st;++ft)rt[ft]=it[at+ft]*ht+it[ot+ft]*ut;return rt}}class DiscreteInterpolant extends Interpolant{constructor(s,et,tt,nt){super(s,et,tt,nt)}interpolate_(s){return this.copySampleValue_(s-1)}}class KeyframeTrack{constructor(s,et,tt,nt){if(s===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(et===void 0||et.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+s);this.name=s,this.times=convertArray(et,this.TimeBufferType),this.values=convertArray(tt,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON(s){const et=s.constructor;let tt;if(et.toJSON!==this.toJSON)tt=et.toJSON(s);else{tt={name:s.name,times:convertArray(s.times,Array),values:convertArray(s.values,Array)};const nt=s.getInterpolation();nt!==s.DefaultInterpolation&&(tt.interpolation=nt)}return tt.type=s.ValueTypeName,tt}InterpolantFactoryMethodDiscrete(s){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),s)}InterpolantFactoryMethodLinear(s){return new LinearInterpolant(this.times,this.values,this.getValueSize(),s)}InterpolantFactoryMethodSmooth(s){return new CubicInterpolant(this.times,this.values,this.getValueSize(),s)}setInterpolation(s){let et;switch(s){case InterpolateDiscrete:et=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:et=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:et=this.InterpolantFactoryMethodSmooth;break}if(et===void 0){const tt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(s!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(tt);return console.warn("THREE.KeyframeTrack:",tt),this}return this.createInterpolant=et,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(s){if(s!==0){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]+=s}return this}scale(s){if(s!==1){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]*=s}return this}trim(s,et){const tt=this.times,nt=tt.length;let rt=0,it=nt-1;for(;rt!==nt&&tt[rt]<s;)++rt;for(;it!==-1&&tt[it]>et;)--it;if(++it,rt!==0||it!==nt){rt>=it&&(it=Math.max(it,1),rt=it-1);const st=this.getValueSize();this.times=arraySlice(tt,rt,it),this.values=arraySlice(this.values,rt*st,it*st)}return this}validate(){let s=!0;const et=this.getValueSize();et-Math.floor(et)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),s=!1);const tt=this.times,nt=this.values,rt=tt.length;rt===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),s=!1);let it=null;for(let st=0;st!==rt;st++){const ot=tt[st];if(typeof ot=="number"&&isNaN(ot)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,ot),s=!1;break}if(it!==null&&it>ot){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,ot,it),s=!1;break}it=ot}if(nt!==void 0&&isTypedArray(nt))for(let st=0,ot=nt.length;st!==ot;++st){const at=nt[st];if(isNaN(at)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,at),s=!1;break}}return s}optimize(){const s=arraySlice(this.times),et=arraySlice(this.values),tt=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,rt=s.length-1;let it=1;for(let st=1;st<rt;++st){let ot=!1;const at=s[st],ut=s[st+1];if(at!==ut&&(st!==1||at!==s[0]))if(nt)ot=!0;else{const ht=st*tt,ft=ht-tt,dt=ht+tt;for(let vt=0;vt!==tt;++vt){const gt=et[ht+vt];if(gt!==et[ft+vt]||gt!==et[dt+vt]){ot=!0;break}}}if(ot){if(st!==it){s[it]=s[st];const ht=st*tt,ft=it*tt;for(let dt=0;dt!==tt;++dt)et[ft+dt]=et[ht+dt]}++it}}if(rt>0){s[it]=s[rt];for(let st=rt*tt,ot=it*tt,at=0;at!==tt;++at)et[ot+at]=et[st+at];++it}return it!==s.length?(this.times=arraySlice(s,0,it),this.values=arraySlice(et,0,it*tt)):(this.times=s,this.values=et),this}clone(){const s=arraySlice(this.times,0),et=arraySlice(this.values,0),tt=this.constructor,nt=new tt(this.name,s,et);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(s,et,tt,nt){super(s,et,tt,nt)}interpolate_(s,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=(tt-et)/(nt-et);let at=s*st;for(let ut=at+st;at!==ut;at+=4)Quaternion.slerpFlat(rt,0,it,at-st,it,at,ot);return rt}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(s){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),s)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(s,et=-1,tt,nt=NormalAnimationBlendMode){this.name=s,this.tracks=tt,this.duration=et,this.blendMode=nt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(s){const et=[],tt=s.tracks,nt=1/(s.fps||1);for(let it=0,st=tt.length;it!==st;++it)et.push(parseKeyframeTrack(tt[it]).scale(nt));const rt=new this(s.name,s.duration,et,s.blendMode);return rt.uuid=s.uuid,rt}static toJSON(s){const et=[],tt=s.tracks,nt={name:s.name,duration:s.duration,tracks:et,uuid:s.uuid,blendMode:s.blendMode};for(let rt=0,it=tt.length;rt!==it;++rt)et.push(KeyframeTrack.toJSON(tt[rt]));return nt}static CreateFromMorphTargetSequence(s,et,tt,nt){const rt=et.length,it=[];for(let st=0;st<rt;st++){let ot=[],at=[];ot.push((st+rt-1)%rt,st,(st+1)%rt),at.push(0,1,0);const ut=getKeyframeOrder(ot);ot=sortedArray(ot,1,ut),at=sortedArray(at,1,ut),!nt&&ot[0]===0&&(ot.push(rt),at.push(at[0])),it.push(new NumberKeyframeTrack(".morphTargetInfluences["+et[st].name+"]",ot,at).scale(1/tt))}return new this(s,-1,it)}static findByName(s,et){let tt=s;if(!Array.isArray(s)){const nt=s;tt=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<tt.length;nt++)if(tt[nt].name===et)return tt[nt];return null}static CreateClipsFromMorphTargetSequences(s,et,tt){const nt={},rt=/^([\w-]*?)([\d]+)$/;for(let st=0,ot=s.length;st<ot;st++){const at=s[st],ut=at.name.match(rt);if(ut&&ut.length>1){const ht=ut[1];let ft=nt[ht];ft||(nt[ht]=ft=[]),ft.push(at)}}const it=[];for(const st in nt)it.push(this.CreateFromMorphTargetSequence(st,nt[st],et,tt));return it}static parseAnimation(s,et){if(!s)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const tt=function(ht,ft,dt,vt,gt){if(dt.length!==0){const _t=[],pt=[];flattenJSON(dt,_t,pt,vt),_t.length!==0&&gt.push(new ht(ft,_t,pt))}},nt=[],rt=s.name||"default",it=s.fps||30,st=s.blendMode;let ot=s.length||-1;const at=s.hierarchy||[];for(let ht=0;ht<at.length;ht++){const ft=at[ht].keys;if(!(!ft||ft.length===0))if(ft[0].morphTargets){const dt={};let vt;for(vt=0;vt<ft.length;vt++)if(ft[vt].morphTargets)for(let gt=0;gt<ft[vt].morphTargets.length;gt++)dt[ft[vt].morphTargets[gt]]=-1;for(const gt in dt){const _t=[],pt=[];for(let mt=0;mt!==ft[vt].morphTargets.length;++mt){const yt=ft[vt];_t.push(yt.time),pt.push(yt.morphTarget===gt?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+gt+"]",_t,pt))}ot=dt.length*it}else{const dt=".bones["+et[ht].name+"]";tt(VectorKeyframeTrack,dt+".position",ft,"pos",nt),tt(QuaternionKeyframeTrack,dt+".quaternion",ft,"rot",nt),tt(VectorKeyframeTrack,dt+".scale",ft,"scl",nt)}}return nt.length===0?null:new this(rt,ot,nt,st)}resetDuration(){const s=this.tracks;let et=0;for(let tt=0,nt=s.length;tt!==nt;++tt){const rt=this.tracks[tt];et=Math.max(et,rt.times[rt.times.length-1])}return this.duration=et,this}trim(){for(let s=0;s<this.tracks.length;s++)this.tracks[s].trim(0,this.duration);return this}validate(){let s=!0;for(let et=0;et<this.tracks.length;et++)s=s&&this.tracks[et].validate();return s}optimize(){for(let s=0;s<this.tracks.length;s++)this.tracks[s].optimize();return this}clone(){const s=[];for(let et=0;et<this.tracks.length;et++)s.push(this.tracks[et].clone());return new this.constructor(this.name,this.duration,s,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(o){switch(o.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+o)}function parseKeyframeTrack(o){if(o.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const s=getTrackTypeForValueTypeName(o.type);if(o.times===void 0){const et=[],tt=[];flattenJSON(o.keys,et,tt,"value"),o.times=et,o.values=tt}return s.parse!==void 0?s.parse(o):new s(o.name,o.times,o.values,o.interpolation)}const Cache={enabled:!1,files:{},add:function(o,s){this.enabled!==!1&&(this.files[o]=s)},get:function(o){if(this.enabled!==!1)return this.files[o]},remove:function(o){delete this.files[o]},clear:function(){this.files={}}};class LoadingManager{constructor(s,et,tt){const nt=this;let rt=!1,it=0,st=0,ot;const at=[];this.onStart=void 0,this.onLoad=s,this.onProgress=et,this.onError=tt,this.itemStart=function(ut){st++,rt===!1&&nt.onStart!==void 0&&nt.onStart(ut,it,st),rt=!0},this.itemEnd=function(ut){it++,nt.onProgress!==void 0&&nt.onProgress(ut,it,st),it===st&&(rt=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(ut){nt.onError!==void 0&&nt.onError(ut)},this.resolveURL=function(ut){return ot?ot(ut):ut},this.setURLModifier=function(ut){return ot=ut,this},this.addHandler=function(ut,ht){return at.push(ut,ht),this},this.removeHandler=function(ut){const ht=at.indexOf(ut);return ht!==-1&&at.splice(ht,2),this},this.getHandler=function(ut){for(let ht=0,ft=at.length;ht<ft;ht+=2){const dt=at[ht],vt=at[ht+1];if(dt.global&&(dt.lastIndex=0),dt.test(ut))return vt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(s){this.manager=s!==void 0?s:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(s,et){const tt=this;return new Promise(function(nt,rt){tt.load(s,nt,et,rt)})}parse(){}setCrossOrigin(s){return this.crossOrigin=s,this}setWithCredentials(s){return this.withCredentials=s,this}setPath(s){return this.path=s,this}setResourcePath(s){return this.resourcePath=s,this}setRequestHeader(s){return this.requestHeader=s,this}}const loading={};class HttpError extends Error{constructor(s,et){super(s),this.response=et}}class FileLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){s===void 0&&(s=""),this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);const rt=Cache.get(s);if(rt!==void 0)return this.manager.itemStart(s),setTimeout(()=>{et&&et(rt),this.manager.itemEnd(s)},0),rt;if(loading[s]!==void 0){loading[s].push({onLoad:et,onProgress:tt,onError:nt});return}loading[s]=[],loading[s].push({onLoad:et,onProgress:tt,onError:nt});const it=new Request(s,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,ot=this.responseType;fetch(it).then(at=>{if(at.status===200||at.status===0){if(at.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||at.body===void 0||at.body.getReader===void 0)return at;const ut=loading[s],ht=at.body.getReader(),ft=at.headers.get("Content-Length"),dt=ft?parseInt(ft):0,vt=dt!==0;let gt=0;const _t=new ReadableStream({start(pt){mt();function mt(){ht.read().then(({done:yt,value:xt})=>{if(yt)pt.close();else{gt+=xt.byteLength;const bt=new ProgressEvent("progress",{lengthComputable:vt,loaded:gt,total:dt});for(let wt=0,Ct=ut.length;wt<Ct;wt++){const Et=ut[wt];Et.onProgress&&Et.onProgress(bt)}pt.enqueue(xt),mt()}})}}});return new Response(_t)}else throw new HttpError(`fetch for "${at.url}" responded with ${at.status}: ${at.statusText}`,at)}).then(at=>{switch(ot){case"arraybuffer":return at.arrayBuffer();case"blob":return at.blob();case"document":return at.text().then(ut=>new DOMParser().parseFromString(ut,st));case"json":return at.json();default:if(st===void 0)return at.text();{const ht=/charset="?([^;"\s]*)"?/i.exec(st),ft=ht&&ht[1]?ht[1].toLowerCase():void 0,dt=new TextDecoder(ft);return at.arrayBuffer().then(vt=>dt.decode(vt))}}}).then(at=>{Cache.add(s,at);const ut=loading[s];delete loading[s];for(let ht=0,ft=ut.length;ht<ft;ht++){const dt=ut[ht];dt.onLoad&&dt.onLoad(at)}}).catch(at=>{const ut=loading[s];if(ut===void 0)throw this.manager.itemError(s),at;delete loading[s];for(let ht=0,ft=ut.length;ht<ft;ht++){const dt=ut[ht];dt.onError&&dt.onError(at)}this.manager.itemError(s)}).finally(()=>{this.manager.itemEnd(s)}),this.manager.itemStart(s)}setResponseType(s){return this.responseType=s,this}setMimeType(s){return this.mimeType=s,this}}class AnimationLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(s,function(st){try{et(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(s)}},tt,nt)}parse(s){const et=[];for(let tt=0;tt<s.length;tt++){const nt=AnimationClip.parse(s[tt]);et.push(nt)}return et}}class CompressedTextureLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=this,it=[],st=new CompressedTexture,ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(rt.withCredentials);let at=0;function ut(ht){ot.load(s[ht],function(ft){const dt=rt.parse(ft,!0);it[ht]={width:dt.width,height:dt.height,format:dt.format,mipmaps:dt.mipmaps},at+=1,at===6&&(dt.mipmapCount===1&&(st.minFilter=LinearFilter),st.image=it,st.format=dt.format,st.needsUpdate=!0,et&&et(st))},tt,nt)}if(Array.isArray(s))for(let ht=0,ft=s.length;ht<ft;++ht)ut(ht);else ot.load(s,function(ht){const ft=rt.parse(ht,!0);if(ft.isCubemap){const dt=ft.mipmaps.length/ft.mipmapCount;for(let vt=0;vt<dt;vt++){it[vt]={mipmaps:[]};for(let gt=0;gt<ft.mipmapCount;gt++)it[vt].mipmaps.push(ft.mipmaps[vt*ft.mipmapCount+gt]),it[vt].format=ft.format,it[vt].width=ft.width,it[vt].height=ft.height}st.image=it}else st.image.width=ft.width,st.image.height=ft.height,st.mipmaps=ft.mipmaps;ft.mipmapCount===1&&(st.minFilter=LinearFilter),st.format=ft.format,st.needsUpdate=!0,et&&et(st)},tt,nt);return st}}class ImageLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);const rt=this,it=Cache.get(s);if(it!==void 0)return rt.manager.itemStart(s),setTimeout(function(){et&&et(it),rt.manager.itemEnd(s)},0),it;const st=createElementNS("img");function ot(){ut(),Cache.add(s,this),et&&et(this),rt.manager.itemEnd(s)}function at(ht){ut(),nt&&nt(ht),rt.manager.itemError(s),rt.manager.itemEnd(s)}function ut(){st.removeEventListener("load",ot,!1),st.removeEventListener("error",at,!1)}return st.addEventListener("load",ot,!1),st.addEventListener("error",at,!1),s.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),rt.manager.itemStart(s),st.src=s,st}}class CubeTextureLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=new CubeTexture,it=new ImageLoader(this.manager);it.setCrossOrigin(this.crossOrigin),it.setPath(this.path);let st=0;function ot(at){it.load(s[at],function(ut){rt.images[at]=ut,st++,st===6&&(rt.needsUpdate=!0,et&&et(rt))},void 0,nt)}for(let at=0;at<s.length;++at)ot(at);return rt}}class DataTextureLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=this,it=new DataTexture,st=new FileLoader(this.manager);return st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setPath(this.path),st.setWithCredentials(rt.withCredentials),st.load(s,function(ot){const at=rt.parse(ot);!at||(at.image!==void 0?it.image=at.image:at.data!==void 0&&(it.image.width=at.width,it.image.height=at.height,it.image.data=at.data),it.wrapS=at.wrapS!==void 0?at.wrapS:ClampToEdgeWrapping,it.wrapT=at.wrapT!==void 0?at.wrapT:ClampToEdgeWrapping,it.magFilter=at.magFilter!==void 0?at.magFilter:LinearFilter,it.minFilter=at.minFilter!==void 0?at.minFilter:LinearFilter,it.anisotropy=at.anisotropy!==void 0?at.anisotropy:1,at.encoding!==void 0&&(it.encoding=at.encoding),at.flipY!==void 0&&(it.flipY=at.flipY),at.format!==void 0&&(it.format=at.format),at.type!==void 0&&(it.type=at.type),at.mipmaps!==void 0&&(it.mipmaps=at.mipmaps,it.minFilter=LinearMipmapLinearFilter),at.mipmapCount===1&&(it.minFilter=LinearFilter),at.generateMipmaps!==void 0&&(it.generateMipmaps=at.generateMipmaps),it.needsUpdate=!0,et&&et(it,at))},tt,nt),it}}class TextureLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=new Texture,it=new ImageLoader(this.manager);return it.setCrossOrigin(this.crossOrigin),it.setPath(this.path),it.load(s,function(st){rt.image=st,rt.needsUpdate=!0,et!==void 0&&et(rt)},tt,nt),rt}}class Light extends Object3D{constructor(s,et=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(s),this.intensity=et}dispose(){}copy(s,et){return super.copy(s,et),this.color.copy(s.color),this.intensity=s.intensity,this}toJSON(s){const et=super.toJSON(s);return et.object.color=this.color.getHex(),et.object.intensity=this.intensity,this.groundColor!==void 0&&(et.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(et.object.distance=this.distance),this.angle!==void 0&&(et.object.angle=this.angle),this.decay!==void 0&&(et.object.decay=this.decay),this.penumbra!==void 0&&(et.object.penumbra=this.penumbra),this.shadow!==void 0&&(et.object.shadow=this.shadow.toJSON()),et}}class HemisphereLight extends Light{constructor(s,et,tt){super(s,tt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(et)}copy(s,et){return super.copy(s,et),this.groundColor.copy(s.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(s){this.camera=s,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(s){const et=this.camera,tt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(s.matrixWorld),et.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(s.target.matrixWorld),et.lookAt(_lookTarget$1),et.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),tt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),tt.multiply(et.projectionMatrix),tt.multiply(et.matrixWorldInverse)}getViewport(s){return this._viewports[s]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(s){return this.camera=s.camera.clone(),this.bias=s.bias,this.radius=s.radius,this.mapSize.copy(s.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const s={};return this.bias!==0&&(s.bias=this.bias),this.normalBias!==0&&(s.normalBias=this.normalBias),this.radius!==1&&(s.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(s.mapSize=this.mapSize.toArray()),s.camera=this.camera.toJSON(!1).object,delete s.camera.matrix,s}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(s){const et=this.camera,tt=RAD2DEG*2*s.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,rt=s.distance||et.far;(tt!==et.fov||nt!==et.aspect||rt!==et.far)&&(et.fov=tt,et.aspect=nt,et.far=rt,et.updateProjectionMatrix()),super.updateMatrices(s)}copy(s){return super.copy(s),this.focus=s.focus,this}}class SpotLight extends Light{constructor(s,et,tt=0,nt=Math.PI/3,rt=0,it=1){super(s,et),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.distance=tt,this.angle=nt,this.penumbra=rt,this.decay=it,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(s){this.intensity=s/Math.PI}dispose(){this.shadow.dispose()}copy(s,et){return super.copy(s,et),this.distance=s.distance,this.angle=s.angle,this.penumbra=s.penumbra,this.decay=s.decay,this.target=s.target.clone(),this.shadow=s.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(s,et=0){const tt=this.camera,nt=this.matrix,rt=s.distance||tt.far;rt!==tt.far&&(tt.far=rt,tt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(s.matrixWorld),tt.position.copy(_lightPositionWorld),_lookTarget.copy(tt.position),_lookTarget.add(this._cubeDirections[et]),tt.up.copy(this._cubeUps[et]),tt.lookAt(_lookTarget),tt.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(s,et,tt=0,nt=1){super(s,et),this.isPointLight=!0,this.type="PointLight",this.distance=tt,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(s){this.intensity=s/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(s,et){return super.copy(s,et),this.distance=s.distance,this.decay=s.decay,this.shadow=s.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(s,et){super(s,et),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(s){return super.copy(s),this.target=s.target.clone(),this.shadow=s.shadow.clone(),this}}class AmbientLight extends Light{constructor(s,et){super(s,et),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(s,et,tt=10,nt=10){super(s,et),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=tt,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(s){this.intensity=s/(this.width*this.height*Math.PI)}copy(s){return super.copy(s),this.width=s.width,this.height=s.height,this}toJSON(s){const et=super.toJSON(s);return et.object.width=this.width,et.object.height=this.height,et}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let s=0;s<9;s++)this.coefficients.push(new Vector3)}set(s){for(let et=0;et<9;et++)this.coefficients[et].copy(s[et]);return this}zero(){for(let s=0;s<9;s++)this.coefficients[s].set(0,0,0);return this}getAt(s,et){const tt=s.x,nt=s.y,rt=s.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.282095),et.addScaledVector(it[1],.488603*nt),et.addScaledVector(it[2],.488603*rt),et.addScaledVector(it[3],.488603*tt),et.addScaledVector(it[4],1.092548*(tt*nt)),et.addScaledVector(it[5],1.092548*(nt*rt)),et.addScaledVector(it[6],.315392*(3*rt*rt-1)),et.addScaledVector(it[7],1.092548*(tt*rt)),et.addScaledVector(it[8],.546274*(tt*tt-nt*nt)),et}getIrradianceAt(s,et){const tt=s.x,nt=s.y,rt=s.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.886227),et.addScaledVector(it[1],2*.511664*nt),et.addScaledVector(it[2],2*.511664*rt),et.addScaledVector(it[3],2*.511664*tt),et.addScaledVector(it[4],2*.429043*tt*nt),et.addScaledVector(it[5],2*.429043*nt*rt),et.addScaledVector(it[6],.743125*rt*rt-.247708),et.addScaledVector(it[7],2*.429043*tt*rt),et.addScaledVector(it[8],.429043*(tt*tt-nt*nt)),et}add(s){for(let et=0;et<9;et++)this.coefficients[et].add(s.coefficients[et]);return this}addScaledSH(s,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].addScaledVector(s.coefficients[tt],et);return this}scale(s){for(let et=0;et<9;et++)this.coefficients[et].multiplyScalar(s);return this}lerp(s,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].lerp(s.coefficients[tt],et);return this}equals(s){for(let et=0;et<9;et++)if(!this.coefficients[et].equals(s.coefficients[et]))return!1;return!0}copy(s){return this.set(s.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(s,et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].fromArray(s,et+nt*3);return this}toArray(s=[],et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].toArray(s,et+nt*3);return s}static getBasisAt(s,et){const tt=s.x,nt=s.y,rt=s.z;et[0]=.282095,et[1]=.488603*nt,et[2]=.488603*rt,et[3]=.488603*tt,et[4]=1.092548*tt*nt,et[5]=1.092548*nt*rt,et[6]=.315392*(3*rt*rt-1),et[7]=1.092548*tt*rt,et[8]=.546274*(tt*tt-nt*nt)}}class LightProbe extends Light{constructor(s=new SphericalHarmonics3,et=1){super(void 0,et),this.isLightProbe=!0,this.sh=s}copy(s){return super.copy(s),this.sh.copy(s.sh),this}fromJSON(s){return this.intensity=s.intensity,this.sh.fromArray(s.sh),this}toJSON(s){const et=super.toJSON(s);return et.object.sh=this.sh.toArray(),et}}class MaterialLoader extends Loader{constructor(s){super(s),this.textures={}}load(s,et,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load(s,function(st){try{et(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(s)}},tt,nt)}parse(s){const et=this.textures;function tt(rt){return et[rt]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",rt),et[rt]}const nt=MaterialLoader.createMaterialFromType(s.type);if(s.uuid!==void 0&&(nt.uuid=s.uuid),s.name!==void 0&&(nt.name=s.name),s.color!==void 0&&nt.color!==void 0&&nt.color.setHex(s.color),s.roughness!==void 0&&(nt.roughness=s.roughness),s.metalness!==void 0&&(nt.metalness=s.metalness),s.sheen!==void 0&&(nt.sheen=s.sheen),s.sheenColor!==void 0&&(nt.sheenColor=new Color().setHex(s.sheenColor)),s.sheenRoughness!==void 0&&(nt.sheenRoughness=s.sheenRoughness),s.emissive!==void 0&&nt.emissive!==void 0&&nt.emissive.setHex(s.emissive),s.specular!==void 0&&nt.specular!==void 0&&nt.specular.setHex(s.specular),s.specularIntensity!==void 0&&(nt.specularIntensity=s.specularIntensity),s.specularColor!==void 0&&nt.specularColor!==void 0&&nt.specularColor.setHex(s.specularColor),s.shininess!==void 0&&(nt.shininess=s.shininess),s.clearcoat!==void 0&&(nt.clearcoat=s.clearcoat),s.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=s.clearcoatRoughness),s.iridescence!==void 0&&(nt.iridescence=s.iridescence),s.iridescenceIOR!==void 0&&(nt.iridescenceIOR=s.iridescenceIOR),s.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=s.iridescenceThicknessRange),s.transmission!==void 0&&(nt.transmission=s.transmission),s.thickness!==void 0&&(nt.thickness=s.thickness),s.attenuationDistance!==void 0&&(nt.attenuationDistance=s.attenuationDistance),s.attenuationColor!==void 0&&nt.attenuationColor!==void 0&&nt.attenuationColor.setHex(s.attenuationColor),s.fog!==void 0&&(nt.fog=s.fog),s.flatShading!==void 0&&(nt.flatShading=s.flatShading),s.blending!==void 0&&(nt.blending=s.blending),s.combine!==void 0&&(nt.combine=s.combine),s.side!==void 0&&(nt.side=s.side),s.shadowSide!==void 0&&(nt.shadowSide=s.shadowSide),s.opacity!==void 0&&(nt.opacity=s.opacity),s.transparent!==void 0&&(nt.transparent=s.transparent),s.alphaTest!==void 0&&(nt.alphaTest=s.alphaTest),s.depthTest!==void 0&&(nt.depthTest=s.depthTest),s.depthWrite!==void 0&&(nt.depthWrite=s.depthWrite),s.colorWrite!==void 0&&(nt.colorWrite=s.colorWrite),s.stencilWrite!==void 0&&(nt.stencilWrite=s.stencilWrite),s.stencilWriteMask!==void 0&&(nt.stencilWriteMask=s.stencilWriteMask),s.stencilFunc!==void 0&&(nt.stencilFunc=s.stencilFunc),s.stencilRef!==void 0&&(nt.stencilRef=s.stencilRef),s.stencilFuncMask!==void 0&&(nt.stencilFuncMask=s.stencilFuncMask),s.stencilFail!==void 0&&(nt.stencilFail=s.stencilFail),s.stencilZFail!==void 0&&(nt.stencilZFail=s.stencilZFail),s.stencilZPass!==void 0&&(nt.stencilZPass=s.stencilZPass),s.wireframe!==void 0&&(nt.wireframe=s.wireframe),s.wireframeLinewidth!==void 0&&(nt.wireframeLinewidth=s.wireframeLinewidth),s.wireframeLinecap!==void 0&&(nt.wireframeLinecap=s.wireframeLinecap),s.wireframeLinejoin!==void 0&&(nt.wireframeLinejoin=s.wireframeLinejoin),s.rotation!==void 0&&(nt.rotation=s.rotation),s.linewidth!==1&&(nt.linewidth=s.linewidth),s.dashSize!==void 0&&(nt.dashSize=s.dashSize),s.gapSize!==void 0&&(nt.gapSize=s.gapSize),s.scale!==void 0&&(nt.scale=s.scale),s.polygonOffset!==void 0&&(nt.polygonOffset=s.polygonOffset),s.polygonOffsetFactor!==void 0&&(nt.polygonOffsetFactor=s.polygonOffsetFactor),s.polygonOffsetUnits!==void 0&&(nt.polygonOffsetUnits=s.polygonOffsetUnits),s.dithering!==void 0&&(nt.dithering=s.dithering),s.alphaToCoverage!==void 0&&(nt.alphaToCoverage=s.alphaToCoverage),s.premultipliedAlpha!==void 0&&(nt.premultipliedAlpha=s.premultipliedAlpha),s.visible!==void 0&&(nt.visible=s.visible),s.toneMapped!==void 0&&(nt.toneMapped=s.toneMapped),s.userData!==void 0&&(nt.userData=s.userData),s.vertexColors!==void 0&&(typeof s.vertexColors=="number"?nt.vertexColors=s.vertexColors>0:nt.vertexColors=s.vertexColors),s.uniforms!==void 0)for(const rt in s.uniforms){const it=s.uniforms[rt];switch(nt.uniforms[rt]={},it.type){case"t":nt.uniforms[rt].value=tt(it.value);break;case"c":nt.uniforms[rt].value=new Color().setHex(it.value);break;case"v2":nt.uniforms[rt].value=new Vector2().fromArray(it.value);break;case"v3":nt.uniforms[rt].value=new Vector3().fromArray(it.value);break;case"v4":nt.uniforms[rt].value=new Vector4().fromArray(it.value);break;case"m3":nt.uniforms[rt].value=new Matrix3().fromArray(it.value);break;case"m4":nt.uniforms[rt].value=new Matrix4().fromArray(it.value);break;default:nt.uniforms[rt].value=it.value}}if(s.defines!==void 0&&(nt.defines=s.defines),s.vertexShader!==void 0&&(nt.vertexShader=s.vertexShader),s.fragmentShader!==void 0&&(nt.fragmentShader=s.fragmentShader),s.glslVersion!==void 0&&(nt.glslVersion=s.glslVersion),s.extensions!==void 0)for(const rt in s.extensions)nt.extensions[rt]=s.extensions[rt];if(s.size!==void 0&&(nt.size=s.size),s.sizeAttenuation!==void 0&&(nt.sizeAttenuation=s.sizeAttenuation),s.map!==void 0&&(nt.map=tt(s.map)),s.matcap!==void 0&&(nt.matcap=tt(s.matcap)),s.alphaMap!==void 0&&(nt.alphaMap=tt(s.alphaMap)),s.bumpMap!==void 0&&(nt.bumpMap=tt(s.bumpMap)),s.bumpScale!==void 0&&(nt.bumpScale=s.bumpScale),s.normalMap!==void 0&&(nt.normalMap=tt(s.normalMap)),s.normalMapType!==void 0&&(nt.normalMapType=s.normalMapType),s.normalScale!==void 0){let rt=s.normalScale;Array.isArray(rt)===!1&&(rt=[rt,rt]),nt.normalScale=new Vector2().fromArray(rt)}return s.displacementMap!==void 0&&(nt.displacementMap=tt(s.displacementMap)),s.displacementScale!==void 0&&(nt.displacementScale=s.displacementScale),s.displacementBias!==void 0&&(nt.displacementBias=s.displacementBias),s.roughnessMap!==void 0&&(nt.roughnessMap=tt(s.roughnessMap)),s.metalnessMap!==void 0&&(nt.metalnessMap=tt(s.metalnessMap)),s.emissiveMap!==void 0&&(nt.emissiveMap=tt(s.emissiveMap)),s.emissiveIntensity!==void 0&&(nt.emissiveIntensity=s.emissiveIntensity),s.specularMap!==void 0&&(nt.specularMap=tt(s.specularMap)),s.specularIntensityMap!==void 0&&(nt.specularIntensityMap=tt(s.specularIntensityMap)),s.specularColorMap!==void 0&&(nt.specularColorMap=tt(s.specularColorMap)),s.envMap!==void 0&&(nt.envMap=tt(s.envMap)),s.envMapIntensity!==void 0&&(nt.envMapIntensity=s.envMapIntensity),s.reflectivity!==void 0&&(nt.reflectivity=s.reflectivity),s.refractionRatio!==void 0&&(nt.refractionRatio=s.refractionRatio),s.lightMap!==void 0&&(nt.lightMap=tt(s.lightMap)),s.lightMapIntensity!==void 0&&(nt.lightMapIntensity=s.lightMapIntensity),s.aoMap!==void 0&&(nt.aoMap=tt(s.aoMap)),s.aoMapIntensity!==void 0&&(nt.aoMapIntensity=s.aoMapIntensity),s.gradientMap!==void 0&&(nt.gradientMap=tt(s.gradientMap)),s.clearcoatMap!==void 0&&(nt.clearcoatMap=tt(s.clearcoatMap)),s.clearcoatRoughnessMap!==void 0&&(nt.clearcoatRoughnessMap=tt(s.clearcoatRoughnessMap)),s.clearcoatNormalMap!==void 0&&(nt.clearcoatNormalMap=tt(s.clearcoatNormalMap)),s.clearcoatNormalScale!==void 0&&(nt.clearcoatNormalScale=new Vector2().fromArray(s.clearcoatNormalScale)),s.iridescenceMap!==void 0&&(nt.iridescenceMap=tt(s.iridescenceMap)),s.iridescenceThicknessMap!==void 0&&(nt.iridescenceThicknessMap=tt(s.iridescenceThicknessMap)),s.transmissionMap!==void 0&&(nt.transmissionMap=tt(s.transmissionMap)),s.thicknessMap!==void 0&&(nt.thicknessMap=tt(s.thicknessMap)),s.sheenColorMap!==void 0&&(nt.sheenColorMap=tt(s.sheenColorMap)),s.sheenRoughnessMap!==void 0&&(nt.sheenRoughnessMap=tt(s.sheenRoughnessMap)),nt}setTextures(s){return this.textures=s,this}static createMaterialFromType(s){const et={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new et[s]}}class LoaderUtils{static decodeText(s){if(typeof TextDecoder<"u")return new TextDecoder().decode(s);let et="";for(let tt=0,nt=s.length;tt<nt;tt++)et+=String.fromCharCode(s[tt]);try{return decodeURIComponent(escape(et))}catch{return et}}static extractUrlBase(s){const et=s.lastIndexOf("/");return et===-1?"./":s.slice(0,et+1)}static resolveURL(s,et){return typeof s!="string"||s===""?"":(/^https?:\/\//i.test(et)&&/^\//.test(s)&&(et=et.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(s)||/^data:.*,.*$/i.test(s)||/^blob:.*$/i.test(s)?s:et+s)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(s){return super.copy(s),this.instanceCount=s.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const s=super.toJSON(this);return s.instanceCount=this.instanceCount,s.isInstancedBufferGeometry=!0,s}}class BufferGeometryLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load(s,function(st){try{et(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(s)}},tt,nt)}parse(s){const et={},tt={};function nt(dt,vt){if(et[vt]!==void 0)return et[vt];const _t=dt.interleavedBuffers[vt],pt=rt(dt,_t.buffer),mt=getTypedArray(_t.type,pt),yt=new InterleavedBuffer(mt,_t.stride);return yt.uuid=_t.uuid,et[vt]=yt,yt}function rt(dt,vt){if(tt[vt]!==void 0)return tt[vt];const _t=dt.arrayBuffers[vt],pt=new Uint32Array(_t).buffer;return tt[vt]=pt,pt}const it=s.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,st=s.data.index;if(st!==void 0){const dt=getTypedArray(st.type,st.array);it.setIndex(new BufferAttribute(dt,1))}const ot=s.data.attributes;for(const dt in ot){const vt=ot[dt];let gt;if(vt.isInterleavedBufferAttribute){const _t=nt(s.data,vt.data);gt=new InterleavedBufferAttribute(_t,vt.itemSize,vt.offset,vt.normalized)}else{const _t=getTypedArray(vt.type,vt.array),pt=vt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;gt=new pt(_t,vt.itemSize,vt.normalized)}vt.name!==void 0&&(gt.name=vt.name),vt.usage!==void 0&&gt.setUsage(vt.usage),vt.updateRange!==void 0&&(gt.updateRange.offset=vt.updateRange.offset,gt.updateRange.count=vt.updateRange.count),it.setAttribute(dt,gt)}const at=s.data.morphAttributes;if(at)for(const dt in at){const vt=at[dt],gt=[];for(let _t=0,pt=vt.length;_t<pt;_t++){const mt=vt[_t];let yt;if(mt.isInterleavedBufferAttribute){const xt=nt(s.data,mt.data);yt=new InterleavedBufferAttribute(xt,mt.itemSize,mt.offset,mt.normalized)}else{const xt=getTypedArray(mt.type,mt.array);yt=new BufferAttribute(xt,mt.itemSize,mt.normalized)}mt.name!==void 0&&(yt.name=mt.name),gt.push(yt)}it.morphAttributes[dt]=gt}s.data.morphTargetsRelative&&(it.morphTargetsRelative=!0);const ht=s.data.groups||s.data.drawcalls||s.data.offsets;if(ht!==void 0)for(let dt=0,vt=ht.length;dt!==vt;++dt){const gt=ht[dt];it.addGroup(gt.start,gt.count,gt.materialIndex)}const ft=s.data.boundingSphere;if(ft!==void 0){const dt=new Vector3;ft.center!==void 0&&dt.fromArray(ft.center),it.boundingSphere=new Sphere(dt,ft.radius)}return s.name&&(it.name=s.name),s.userData&&(it.userData=s.userData),it}}class ObjectLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=this,it=this.path===""?LoaderUtils.extractUrlBase(s):this.path;this.resourcePath=this.resourcePath||it;const st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(s,function(ot){let at=null;try{at=JSON.parse(ot)}catch(ht){nt!==void 0&&nt(ht),console.error("THREE:ObjectLoader: Can't parse "+s+".",ht.message);return}const ut=at.metadata;if(ut===void 0||ut.type===void 0||ut.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+s);return}rt.parse(at,et)},tt,nt)}async loadAsync(s,et){const tt=this,nt=this.path===""?LoaderUtils.extractUrlBase(s):this.path;this.resourcePath=this.resourcePath||nt;const rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials);const it=await rt.loadAsync(s,et),st=JSON.parse(it),ot=st.metadata;if(ot===void 0||ot.type===void 0||ot.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+s);return await tt.parseAsync(st)}parse(s,et){const tt=this.parseAnimations(s.animations),nt=this.parseShapes(s.shapes),rt=this.parseGeometries(s.geometries,nt),it=this.parseImages(s.images,function(){et!==void 0&&et(at)}),st=this.parseTextures(s.textures,it),ot=this.parseMaterials(s.materials,st),at=this.parseObject(s.object,rt,ot,st,tt),ut=this.parseSkeletons(s.skeletons,at);if(this.bindSkeletons(at,ut),et!==void 0){let ht=!1;for(const ft in it)if(it[ft].data instanceof HTMLImageElement){ht=!0;break}ht===!1&&et(at)}return at}async parseAsync(s){const et=this.parseAnimations(s.animations),tt=this.parseShapes(s.shapes),nt=this.parseGeometries(s.geometries,tt),rt=await this.parseImagesAsync(s.images),it=this.parseTextures(s.textures,rt),st=this.parseMaterials(s.materials,it),ot=this.parseObject(s.object,nt,st,it,et),at=this.parseSkeletons(s.skeletons,ot);return this.bindSkeletons(ot,at),ot}parseShapes(s){const et={};if(s!==void 0)for(let tt=0,nt=s.length;tt<nt;tt++){const rt=new Shape().fromJSON(s[tt]);et[rt.uuid]=rt}return et}parseSkeletons(s,et){const tt={},nt={};if(et.traverse(function(rt){rt.isBone&&(nt[rt.uuid]=rt)}),s!==void 0)for(let rt=0,it=s.length;rt<it;rt++){const st=new Skeleton().fromJSON(s[rt],nt);tt[st.uuid]=st}return tt}parseGeometries(s,et){const tt={};if(s!==void 0){const nt=new BufferGeometryLoader;for(let rt=0,it=s.length;rt<it;rt++){let st;const ot=s[rt];switch(ot.type){case"BufferGeometry":case"InstancedBufferGeometry":st=nt.parse(ot);break;default:ot.type in Geometries?st=Geometries[ot.type].fromJSON(ot,et):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${ot.type}"`)}st.uuid=ot.uuid,ot.name!==void 0&&(st.name=ot.name),st.isBufferGeometry===!0&&ot.userData!==void 0&&(st.userData=ot.userData),tt[ot.uuid]=st}}return tt}parseMaterials(s,et){const tt={},nt={};if(s!==void 0){const rt=new MaterialLoader;rt.setTextures(et);for(let it=0,st=s.length;it<st;it++){const ot=s[it];tt[ot.uuid]===void 0&&(tt[ot.uuid]=rt.parse(ot)),nt[ot.uuid]=tt[ot.uuid]}}return nt}parseAnimations(s){const et={};if(s!==void 0)for(let tt=0;tt<s.length;tt++){const nt=s[tt],rt=AnimationClip.parse(nt);et[rt.uuid]=rt}return et}parseImages(s,et){const tt=this,nt={};let rt;function it(ot){return tt.manager.itemStart(ot),rt.load(ot,function(){tt.manager.itemEnd(ot)},void 0,function(){tt.manager.itemError(ot),tt.manager.itemEnd(ot)})}function st(ot){if(typeof ot=="string"){const at=ot,ut=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(at)?at:tt.resourcePath+at;return it(ut)}else return ot.data?{data:getTypedArray(ot.type,ot.data),width:ot.width,height:ot.height}:null}if(s!==void 0&&s.length>0){const ot=new LoadingManager(et);rt=new ImageLoader(ot),rt.setCrossOrigin(this.crossOrigin);for(let at=0,ut=s.length;at<ut;at++){const ht=s[at],ft=ht.url;if(Array.isArray(ft)){const dt=[];for(let vt=0,gt=ft.length;vt<gt;vt++){const _t=ft[vt],pt=st(_t);pt!==null&&(pt instanceof HTMLImageElement?dt.push(pt):dt.push(new DataTexture(pt.data,pt.width,pt.height)))}nt[ht.uuid]=new Source(dt)}else{const dt=st(ht.url);nt[ht.uuid]=new Source(dt)}}}return nt}async parseImagesAsync(s){const et=this,tt={};let nt;async function rt(it){if(typeof it=="string"){const st=it,ot=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(st)?st:et.resourcePath+st;return await nt.loadAsync(ot)}else return it.data?{data:getTypedArray(it.type,it.data),width:it.width,height:it.height}:null}if(s!==void 0&&s.length>0){nt=new ImageLoader(this.manager),nt.setCrossOrigin(this.crossOrigin);for(let it=0,st=s.length;it<st;it++){const ot=s[it],at=ot.url;if(Array.isArray(at)){const ut=[];for(let ht=0,ft=at.length;ht<ft;ht++){const dt=at[ht],vt=await rt(dt);vt!==null&&(vt instanceof HTMLImageElement?ut.push(vt):ut.push(new DataTexture(vt.data,vt.width,vt.height)))}tt[ot.uuid]=new Source(ut)}else{const ut=await rt(ot.url);tt[ot.uuid]=new Source(ut)}}}return tt}parseTextures(s,et){function tt(rt,it){return typeof rt=="number"?rt:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",rt),it[rt])}const nt={};if(s!==void 0)for(let rt=0,it=s.length;rt<it;rt++){const st=s[rt];st.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',st.uuid),et[st.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",st.image);const ot=et[st.image],at=ot.data;let ut;Array.isArray(at)?(ut=new CubeTexture,at.length===6&&(ut.needsUpdate=!0)):(at&&at.data?ut=new DataTexture:ut=new Texture,at&&(ut.needsUpdate=!0)),ut.source=ot,ut.uuid=st.uuid,st.name!==void 0&&(ut.name=st.name),st.mapping!==void 0&&(ut.mapping=tt(st.mapping,TEXTURE_MAPPING)),st.offset!==void 0&&ut.offset.fromArray(st.offset),st.repeat!==void 0&&ut.repeat.fromArray(st.repeat),st.center!==void 0&&ut.center.fromArray(st.center),st.rotation!==void 0&&(ut.rotation=st.rotation),st.wrap!==void 0&&(ut.wrapS=tt(st.wrap[0],TEXTURE_WRAPPING),ut.wrapT=tt(st.wrap[1],TEXTURE_WRAPPING)),st.format!==void 0&&(ut.format=st.format),st.type!==void 0&&(ut.type=st.type),st.encoding!==void 0&&(ut.encoding=st.encoding),st.minFilter!==void 0&&(ut.minFilter=tt(st.minFilter,TEXTURE_FILTER)),st.magFilter!==void 0&&(ut.magFilter=tt(st.magFilter,TEXTURE_FILTER)),st.anisotropy!==void 0&&(ut.anisotropy=st.anisotropy),st.flipY!==void 0&&(ut.flipY=st.flipY),st.premultiplyAlpha!==void 0&&(ut.premultiplyAlpha=st.premultiplyAlpha),st.unpackAlignment!==void 0&&(ut.unpackAlignment=st.unpackAlignment),st.userData!==void 0&&(ut.userData=st.userData),nt[st.uuid]=ut}return nt}parseObject(s,et,tt,nt,rt){let it;function st(ft){return et[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ft),et[ft]}function ot(ft){if(ft!==void 0){if(Array.isArray(ft)){const dt=[];for(let vt=0,gt=ft.length;vt<gt;vt++){const _t=ft[vt];tt[_t]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_t),dt.push(tt[_t])}return dt}return tt[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ft),tt[ft]}}function at(ft){return nt[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ft),nt[ft]}let ut,ht;switch(s.type){case"Scene":it=new Scene,s.background!==void 0&&(Number.isInteger(s.background)?it.background=new Color(s.background):it.background=at(s.background)),s.environment!==void 0&&(it.environment=at(s.environment)),s.fog!==void 0&&(s.fog.type==="Fog"?it.fog=new Fog(s.fog.color,s.fog.near,s.fog.far):s.fog.type==="FogExp2"&&(it.fog=new FogExp2(s.fog.color,s.fog.density)));break;case"PerspectiveCamera":it=new PerspectiveCamera(s.fov,s.aspect,s.near,s.far),s.focus!==void 0&&(it.focus=s.focus),s.zoom!==void 0&&(it.zoom=s.zoom),s.filmGauge!==void 0&&(it.filmGauge=s.filmGauge),s.filmOffset!==void 0&&(it.filmOffset=s.filmOffset),s.view!==void 0&&(it.view=Object.assign({},s.view));break;case"OrthographicCamera":it=new OrthographicCamera(s.left,s.right,s.top,s.bottom,s.near,s.far),s.zoom!==void 0&&(it.zoom=s.zoom),s.view!==void 0&&(it.view=Object.assign({},s.view));break;case"AmbientLight":it=new AmbientLight(s.color,s.intensity);break;case"DirectionalLight":it=new DirectionalLight(s.color,s.intensity);break;case"PointLight":it=new PointLight(s.color,s.intensity,s.distance,s.decay);break;case"RectAreaLight":it=new RectAreaLight(s.color,s.intensity,s.width,s.height);break;case"SpotLight":it=new SpotLight(s.color,s.intensity,s.distance,s.angle,s.penumbra,s.decay);break;case"HemisphereLight":it=new HemisphereLight(s.color,s.groundColor,s.intensity);break;case"LightProbe":it=new LightProbe().fromJSON(s);break;case"SkinnedMesh":ut=st(s.geometry),ht=ot(s.material),it=new SkinnedMesh(ut,ht),s.bindMode!==void 0&&(it.bindMode=s.bindMode),s.bindMatrix!==void 0&&it.bindMatrix.fromArray(s.bindMatrix),s.skeleton!==void 0&&(it.skeleton=s.skeleton);break;case"Mesh":ut=st(s.geometry),ht=ot(s.material),it=new Mesh(ut,ht);break;case"InstancedMesh":ut=st(s.geometry),ht=ot(s.material);const ft=s.count,dt=s.instanceMatrix,vt=s.instanceColor;it=new InstancedMesh(ut,ht,ft),it.instanceMatrix=new InstancedBufferAttribute(new Float32Array(dt.array),16),vt!==void 0&&(it.instanceColor=new InstancedBufferAttribute(new Float32Array(vt.array),vt.itemSize));break;case"LOD":it=new LOD;break;case"Line":it=new Line(st(s.geometry),ot(s.material));break;case"LineLoop":it=new LineLoop(st(s.geometry),ot(s.material));break;case"LineSegments":it=new LineSegments(st(s.geometry),ot(s.material));break;case"PointCloud":case"Points":it=new Points(st(s.geometry),ot(s.material));break;case"Sprite":it=new Sprite(ot(s.material));break;case"Group":it=new Group;break;case"Bone":it=new Bone;break;default:it=new Object3D}if(it.uuid=s.uuid,s.name!==void 0&&(it.name=s.name),s.matrix!==void 0?(it.matrix.fromArray(s.matrix),s.matrixAutoUpdate!==void 0&&(it.matrixAutoUpdate=s.matrixAutoUpdate),it.matrixAutoUpdate&&it.matrix.decompose(it.position,it.quaternion,it.scale)):(s.position!==void 0&&it.position.fromArray(s.position),s.rotation!==void 0&&it.rotation.fromArray(s.rotation),s.quaternion!==void 0&&it.quaternion.fromArray(s.quaternion),s.scale!==void 0&&it.scale.fromArray(s.scale)),s.castShadow!==void 0&&(it.castShadow=s.castShadow),s.receiveShadow!==void 0&&(it.receiveShadow=s.receiveShadow),s.shadow&&(s.shadow.bias!==void 0&&(it.shadow.bias=s.shadow.bias),s.shadow.normalBias!==void 0&&(it.shadow.normalBias=s.shadow.normalBias),s.shadow.radius!==void 0&&(it.shadow.radius=s.shadow.radius),s.shadow.mapSize!==void 0&&it.shadow.mapSize.fromArray(s.shadow.mapSize),s.shadow.camera!==void 0&&(it.shadow.camera=this.parseObject(s.shadow.camera))),s.visible!==void 0&&(it.visible=s.visible),s.frustumCulled!==void 0&&(it.frustumCulled=s.frustumCulled),s.renderOrder!==void 0&&(it.renderOrder=s.renderOrder),s.userData!==void 0&&(it.userData=s.userData),s.layers!==void 0&&(it.layers.mask=s.layers),s.children!==void 0){const ft=s.children;for(let dt=0;dt<ft.length;dt++)it.add(this.parseObject(ft[dt],et,tt,nt,rt))}if(s.animations!==void 0){const ft=s.animations;for(let dt=0;dt<ft.length;dt++){const vt=ft[dt];it.animations.push(rt[vt])}}if(s.type==="LOD"){s.autoUpdate!==void 0&&(it.autoUpdate=s.autoUpdate);const ft=s.levels;for(let dt=0;dt<ft.length;dt++){const vt=ft[dt],gt=it.getObjectByProperty("uuid",vt.object);gt!==void 0&&it.addLevel(gt,vt.distance)}}return it}bindSkeletons(s,et){Object.keys(et).length!==0&&s.traverse(function(tt){if(tt.isSkinnedMesh===!0&&tt.skeleton!==void 0){const nt=et[tt.skeleton];nt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",tt.skeleton):tt.bind(nt,tt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(s){super(s),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(s){return this.options=s,this}load(s,et,tt,nt){s===void 0&&(s=""),this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);const rt=this,it=Cache.get(s);if(it!==void 0)return rt.manager.itemStart(s),setTimeout(function(){et&&et(it),rt.manager.itemEnd(s)},0),it;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch(s,st).then(function(ot){return ot.blob()}).then(function(ot){return createImageBitmap(ot,Object.assign(rt.options,{colorSpaceConversion:"none"}))}).then(function(ot){Cache.add(s,ot),et&&et(ot),rt.manager.itemEnd(s)}).catch(function(ot){nt&&nt(ot),rt.manager.itemError(s),rt.manager.itemEnd(s)}),rt.manager.itemStart(s)}}let _context;const AudioContext={getContext:function(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context},setContext:function(o){_context=o}};class AudioLoader extends Loader{constructor(s){super(s)}load(s,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setResponseType("arraybuffer"),it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(s,function(st){try{const ot=st.slice(0);AudioContext.getContext().decodeAudioData(ot,function(ut){et(ut)})}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(s)}},tt,nt)}}class HemisphereLightProbe extends LightProbe{constructor(s,et,tt=1){super(void 0,tt),this.isHemisphereLightProbe=!0;const nt=new Color().set(s),rt=new Color().set(et),it=new Vector3(nt.r,nt.g,nt.b),st=new Vector3(rt.r,rt.g,rt.b),ot=Math.sqrt(Math.PI),at=ot*Math.sqrt(.75);this.sh.coefficients[0].copy(it).add(st).multiplyScalar(ot),this.sh.coefficients[1].copy(it).sub(st).multiplyScalar(at)}}class AmbientLightProbe extends LightProbe{constructor(s,et=1){super(void 0,et),this.isAmbientLightProbe=!0;const tt=new Color().set(s);this.sh.coefficients[0].set(tt.r,tt.g,tt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(s){const et=this._cache;if(et.focus!==s.focus||et.fov!==s.fov||et.aspect!==s.aspect*this.aspect||et.near!==s.near||et.far!==s.far||et.zoom!==s.zoom||et.eyeSep!==this.eyeSep){et.focus=s.focus,et.fov=s.fov,et.aspect=s.aspect*this.aspect,et.near=s.near,et.far=s.far,et.zoom=s.zoom,et.eyeSep=this.eyeSep,_projectionMatrix.copy(s.projectionMatrix);const nt=et.eyeSep/2,rt=nt*et.near/et.focus,it=et.near*Math.tan(DEG2RAD*et.fov*.5)/et.zoom;let st,ot;_eyeLeft.elements[12]=-nt,_eyeRight.elements[12]=nt,st=-it*et.aspect+rt,ot=it*et.aspect+rt,_projectionMatrix.elements[0]=2*et.near/(ot-st),_projectionMatrix.elements[8]=(ot+st)/(ot-st),this.cameraL.projectionMatrix.copy(_projectionMatrix),st=-it*et.aspect-rt,ot=it*et.aspect-rt,_projectionMatrix.elements[0]=2*et.near/(ot-st),_projectionMatrix.elements[8]=(ot+st)/(ot-st),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(s.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(s.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(s=!0){this.autoStart=s,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let s=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const et=now();s=(et-this.oldTime)/1e3,this.oldTime=et,this.elapsedTime+=s}return s}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(s){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=s,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(s){return this.gain.gain.setTargetAtTime(s,this.context.currentTime,.01),this}updateMatrixWorld(s){super.updateMatrixWorld(s);const et=this.context.listener,tt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),et.positionX){const nt=this.context.currentTime+this.timeDelta;et.positionX.linearRampToValueAtTime(_position$1.x,nt),et.positionY.linearRampToValueAtTime(_position$1.y,nt),et.positionZ.linearRampToValueAtTime(_position$1.z,nt),et.forwardX.linearRampToValueAtTime(_orientation$1.x,nt),et.forwardY.linearRampToValueAtTime(_orientation$1.y,nt),et.forwardZ.linearRampToValueAtTime(_orientation$1.z,nt),et.upX.linearRampToValueAtTime(tt.x,nt),et.upY.linearRampToValueAtTime(tt.y,nt),et.upZ.linearRampToValueAtTime(tt.z,nt)}else et.setPosition(_position$1.x,_position$1.y,_position$1.z),et.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,tt.x,tt.y,tt.z)}}class Audio extends Object3D{constructor(s){super(),this.type="Audio",this.listener=s,this.context=s.context,this.gain=this.context.createGain(),this.gain.connect(s.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(s){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=s,this.connect(),this}setMediaElementSource(s){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(s),this.connect(),this}setMediaStreamSource(s){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(s),this.connect(),this}setBuffer(s){return this.buffer=s,this.sourceType="buffer",this.autoplay&&this.play(),this}play(s=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+s;const et=this.context.createBufferSource();return et.buffer=this.buffer,et.loop=this.loop,et.loopStart=this.loopStart,et.loopEnd=this.loopEnd,et.onended=this.onEnded.bind(this),et.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=et,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let s=1,et=this.filters.length;s<et;s++)this.filters[s-1].connect(this.filters[s]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let s=1,et=this.filters.length;s<et;s++)this.filters[s-1].disconnect(this.filters[s]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(s){return s||(s=[]),this._connected===!0?(this.disconnect(),this.filters=s.slice(),this.connect()):this.filters=s.slice(),this}setDetune(s){if(this.detune=s,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(s){return this.setFilters(s?[s]:[])}setPlaybackRate(s){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=s,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(s){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=s,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(s){return this.loopStart=s,this}setLoopEnd(s){return this.loopEnd=s,this}getVolume(){return this.gain.gain.value}setVolume(s){return this.gain.gain.setTargetAtTime(s,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(s){super(s),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(s){return this.panner.refDistance=s,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(s){return this.panner.rolloffFactor=s,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(s){return this.panner.distanceModel=s,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(s){return this.panner.maxDistance=s,this}setDirectionalCone(s,et,tt){return this.panner.coneInnerAngle=s,this.panner.coneOuterAngle=et,this.panner.coneOuterGain=tt,this}updateMatrixWorld(s){if(super.updateMatrixWorld(s),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const et=this.panner;if(et.positionX){const tt=this.context.currentTime+this.listener.timeDelta;et.positionX.linearRampToValueAtTime(_position.x,tt),et.positionY.linearRampToValueAtTime(_position.y,tt),et.positionZ.linearRampToValueAtTime(_position.z,tt),et.orientationX.linearRampToValueAtTime(_orientation.x,tt),et.orientationY.linearRampToValueAtTime(_orientation.y,tt),et.orientationZ.linearRampToValueAtTime(_orientation.z,tt)}else et.setPosition(_position.x,_position.y,_position.z),et.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(s,et=2048){this.analyser=s.context.createAnalyser(),this.analyser.fftSize=et,this.data=new Uint8Array(this.analyser.frequencyBinCount),s.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let s=0;const et=this.getFrequencyData();for(let tt=0;tt<et.length;tt++)s+=et[tt];return s/et.length}}class PropertyMixer{constructor(s,et,tt){this.binding=s,this.valueSize=tt;let nt,rt,it;switch(et){case"quaternion":nt=this._slerp,rt=this._slerpAdditive,it=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(tt*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,rt=this._select,it=this._setAdditiveIdentityOther,this.buffer=new Array(tt*5);break;default:nt=this._lerp,rt=this._lerpAdditive,it=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(tt*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=rt,this._setIdentity=it,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(s,et){const tt=this.buffer,nt=this.valueSize,rt=s*nt+nt;let it=this.cumulativeWeight;if(it===0){for(let st=0;st!==nt;++st)tt[rt+st]=tt[st];it=et}else{it+=et;const st=et/it;this._mixBufferRegion(tt,rt,0,st,nt)}this.cumulativeWeight=it}accumulateAdditive(s){const et=this.buffer,tt=this.valueSize,nt=tt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(et,nt,0,s,tt),this.cumulativeWeightAdditive+=s}apply(s){const et=this.valueSize,tt=this.buffer,nt=s*et+et,rt=this.cumulativeWeight,it=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,rt<1){const ot=et*this._origIndex;this._mixBufferRegion(tt,nt,ot,1-rt,et)}it>0&&this._mixBufferRegionAdditive(tt,nt,this._addIndex*et,1,et);for(let ot=et,at=et+et;ot!==at;++ot)if(tt[ot]!==tt[ot+et]){st.setValue(tt,nt);break}}saveOriginalState(){const s=this.binding,et=this.buffer,tt=this.valueSize,nt=tt*this._origIndex;s.getValue(et,nt);for(let rt=tt,it=nt;rt!==it;++rt)et[rt]=et[nt+rt%tt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const s=this.valueSize*3;this.binding.setValue(this.buffer,s)}_setAdditiveIdentityNumeric(){const s=this._addIndex*this.valueSize,et=s+this.valueSize;for(let tt=s;tt<et;tt++)this.buffer[tt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const s=this._origIndex*this.valueSize,et=this._addIndex*this.valueSize;for(let tt=0;tt<this.valueSize;tt++)this.buffer[et+tt]=this.buffer[s+tt]}_select(s,et,tt,nt,rt){if(nt>=.5)for(let it=0;it!==rt;++it)s[et+it]=s[tt+it]}_slerp(s,et,tt,nt){Quaternion.slerpFlat(s,et,s,et,s,tt,nt)}_slerpAdditive(s,et,tt,nt,rt){const it=this._workIndex*rt;Quaternion.multiplyQuaternionsFlat(s,it,s,et,s,tt),Quaternion.slerpFlat(s,et,s,et,s,it,nt)}_lerp(s,et,tt,nt,rt){const it=1-nt;for(let st=0;st!==rt;++st){const ot=et+st;s[ot]=s[ot]*it+s[tt+st]*nt}}_lerpAdditive(s,et,tt,nt,rt){for(let it=0;it!==rt;++it){const st=et+it;s[st]=s[st]+s[tt+it]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(s,et,tt){const nt=tt||PropertyBinding.parseTrackName(et);this._targetGroup=s,this._bindings=s.subscribe_(et,nt)}getValue(s,et){this.bind();const tt=this._targetGroup.nCachedObjects_,nt=this._bindings[tt];nt!==void 0&&nt.getValue(s,et)}setValue(s,et){const tt=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=tt.length;nt!==rt;++nt)tt[nt].setValue(s,et)}bind(){const s=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=s.length;et!==tt;++et)s[et].bind()}unbind(){const s=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=s.length;et!==tt;++et)s[et].unbind()}}class PropertyBinding{constructor(s,et,tt){this.path=et,this.parsedPath=tt||PropertyBinding.parseTrackName(et),this.node=PropertyBinding.findNode(s,this.parsedPath.nodeName)||s,this.rootNode=s,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(s,et,tt){return s&&s.isAnimationObjectGroup?new PropertyBinding.Composite(s,et,tt):new PropertyBinding(s,et,tt)}static sanitizeNodeName(s){return s.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(s){const et=_trackRe.exec(s);if(et===null)throw new Error("PropertyBinding: Cannot parse trackName: "+s);const tt={nodeName:et[2],objectName:et[3],objectIndex:et[4],propertyName:et[5],propertyIndex:et[6]},nt=tt.nodeName&&tt.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const rt=tt.nodeName.substring(nt+1);_supportedObjectNames.indexOf(rt)!==-1&&(tt.nodeName=tt.nodeName.substring(0,nt),tt.objectName=rt)}if(tt.propertyName===null||tt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+s);return tt}static findNode(s,et){if(et===void 0||et===""||et==="."||et===-1||et===s.name||et===s.uuid)return s;if(s.skeleton){const tt=s.skeleton.getBoneByName(et);if(tt!==void 0)return tt}if(s.children){const tt=function(rt){for(let it=0;it<rt.length;it++){const st=rt[it];if(st.name===et||st.uuid===et)return st;const ot=tt(st.children);if(ot)return ot}return null},nt=tt(s.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(s,et){s[et]=this.targetObject[this.propertyName]}_getValue_array(s,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)s[et++]=tt[nt]}_getValue_arrayElement(s,et){s[et]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(s,et){this.resolvedProperty.toArray(s,et)}_setValue_direct(s,et){this.targetObject[this.propertyName]=s[et]}_setValue_direct_setNeedsUpdate(s,et){this.targetObject[this.propertyName]=s[et],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(s,et){this.targetObject[this.propertyName]=s[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(s,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=s[et++]}_setValue_array_setNeedsUpdate(s,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=s[et++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(s,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=s[et++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(s,et){this.resolvedProperty[this.propertyIndex]=s[et]}_setValue_arrayElement_setNeedsUpdate(s,et){this.resolvedProperty[this.propertyIndex]=s[et],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(s,et){this.resolvedProperty[this.propertyIndex]=s[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(s,et){this.resolvedProperty.fromArray(s,et)}_setValue_fromArray_setNeedsUpdate(s,et){this.resolvedProperty.fromArray(s,et),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(s,et){this.resolvedProperty.fromArray(s,et),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(s,et){this.bind(),this.getValue(s,et)}_setValue_unbound(s,et){this.bind(),this.setValue(s,et)}bind(){let s=this.node;const et=this.parsedPath,tt=et.objectName,nt=et.propertyName;let rt=et.propertyIndex;if(s||(s=PropertyBinding.findNode(this.rootNode,et.nodeName)||this.rootNode,this.node=s),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!s){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(tt){let at=et.objectIndex;switch(tt){case"materials":if(!s.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!s.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}s=s.material.materials;break;case"bones":if(!s.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}s=s.skeleton.bones;for(let ut=0;ut<s.length;ut++)if(s[ut].name===at){at=ut;break}break;case"map":if(!s.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!s.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}s=s.material.map;break;default:if(s[tt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}s=s[tt]}if(at!==void 0){if(s[at]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,s);return}s=s[at]}}const it=s[nt];if(it===void 0){const at=et.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+at+"."+nt+" but it wasn't found.",s);return}let st=this.Versioning.None;this.targetObject=s,s.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:s.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let ot=this.BindingType.Direct;if(rt!==void 0){if(nt==="morphTargetInfluences"){if(!s.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!s.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}s.morphTargetDictionary[rt]!==void 0&&(rt=s.morphTargetDictionary[rt])}ot=this.BindingType.ArrayElement,this.resolvedProperty=it,this.propertyIndex=rt}else it.fromArray!==void 0&&it.toArray!==void 0?(ot=this.BindingType.HasFromToArray,this.resolvedProperty=it):Array.isArray(it)?(ot=this.BindingType.EntireArray,this.resolvedProperty=it):this.propertyName=nt;this.getValue=this.GetterByBindingType[ot],this.setValue=this.SetterByBindingTypeAndVersioning[ot][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const s={};this._indicesByUUID=s;for(let tt=0,nt=arguments.length;tt!==nt;++tt)s[arguments[tt].uuid]=tt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const et=this;this.stats={objects:{get total(){return et._objects.length},get inUse(){return this.total-et.nCachedObjects_}},get bindingsPerObject(){return et._bindings.length}}}add(){const s=this._objects,et=this._indicesByUUID,tt=this._paths,nt=this._parsedPaths,rt=this._bindings,it=rt.length;let st,ot=s.length,at=this.nCachedObjects_;for(let ut=0,ht=arguments.length;ut!==ht;++ut){const ft=arguments[ut],dt=ft.uuid;let vt=et[dt];if(vt===void 0){vt=ot++,et[dt]=vt,s.push(ft);for(let gt=0,_t=it;gt!==_t;++gt)rt[gt].push(new PropertyBinding(ft,tt[gt],nt[gt]))}else if(vt<at){st=s[vt];const gt=--at,_t=s[gt];et[_t.uuid]=vt,s[vt]=_t,et[dt]=gt,s[gt]=ft;for(let pt=0,mt=it;pt!==mt;++pt){const yt=rt[pt],xt=yt[gt];let bt=yt[vt];yt[vt]=xt,bt===void 0&&(bt=new PropertyBinding(ft,tt[pt],nt[pt])),yt[gt]=bt}}else s[vt]!==st&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=at}remove(){const s=this._objects,et=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_;for(let it=0,st=arguments.length;it!==st;++it){const ot=arguments[it],at=ot.uuid,ut=et[at];if(ut!==void 0&&ut>=rt){const ht=rt++,ft=s[ht];et[ft.uuid]=ut,s[ut]=ft,et[at]=ht,s[ht]=ot;for(let dt=0,vt=nt;dt!==vt;++dt){const gt=tt[dt],_t=gt[ht],pt=gt[ut];gt[ut]=_t,gt[ht]=pt}}}this.nCachedObjects_=rt}uncache(){const s=this._objects,et=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_,it=s.length;for(let st=0,ot=arguments.length;st!==ot;++st){const at=arguments[st],ut=at.uuid,ht=et[ut];if(ht!==void 0)if(delete et[ut],ht<rt){const ft=--rt,dt=s[ft],vt=--it,gt=s[vt];et[dt.uuid]=ht,s[ht]=dt,et[gt.uuid]=ft,s[ft]=gt,s.pop();for(let _t=0,pt=nt;_t!==pt;++_t){const mt=tt[_t],yt=mt[ft],xt=mt[vt];mt[ht]=yt,mt[ft]=xt,mt.pop()}}else{const ft=--it,dt=s[ft];ft>0&&(et[dt.uuid]=ht),s[ht]=dt,s.pop();for(let vt=0,gt=nt;vt!==gt;++vt){const _t=tt[vt];_t[ht]=_t[ft],_t.pop()}}}this.nCachedObjects_=rt}subscribe_(s,et){const tt=this._bindingsIndicesByPath;let nt=tt[s];const rt=this._bindings;if(nt!==void 0)return rt[nt];const it=this._paths,st=this._parsedPaths,ot=this._objects,at=ot.length,ut=this.nCachedObjects_,ht=new Array(at);nt=rt.length,tt[s]=nt,it.push(s),st.push(et),rt.push(ht);for(let ft=ut,dt=ot.length;ft!==dt;++ft){const vt=ot[ft];ht[ft]=new PropertyBinding(vt,s,et)}return ht}unsubscribe_(s){const et=this._bindingsIndicesByPath,tt=et[s];if(tt!==void 0){const nt=this._paths,rt=this._parsedPaths,it=this._bindings,st=it.length-1,ot=it[st],at=s[st];et[at]=tt,it[tt]=ot,it.pop(),rt[tt]=rt[st],rt.pop(),nt[tt]=nt[st],nt.pop()}}}class AnimationAction{constructor(s,et,tt=null,nt=et.blendMode){this._mixer=s,this._clip=et,this._localRoot=tt,this.blendMode=nt;const rt=et.tracks,it=rt.length,st=new Array(it),ot={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let at=0;at!==it;++at){const ut=rt[at].createInterpolant(null);st[at]=ut,ut.settings=ot}this._interpolantSettings=ot,this._interpolants=st,this._propertyBindings=new Array(it),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(s){return this._startTime=s,this}setLoop(s,et){return this.loop=s,this.repetitions=et,this}setEffectiveWeight(s){return this.weight=s,this._effectiveWeight=this.enabled?s:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(s){return this._scheduleFading(s,0,1)}fadeOut(s){return this._scheduleFading(s,1,0)}crossFadeFrom(s,et,tt){if(s.fadeOut(et),this.fadeIn(et),tt){const nt=this._clip.duration,rt=s._clip.duration,it=rt/nt,st=nt/rt;s.warp(1,it,et),this.warp(st,1,et)}return this}crossFadeTo(s,et,tt){return s.crossFadeFrom(this,et,tt)}stopFading(){const s=this._weightInterpolant;return s!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(s)),this}setEffectiveTimeScale(s){return this.timeScale=s,this._effectiveTimeScale=this.paused?0:s,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(s){return this.timeScale=this._clip.duration/s,this.stopWarping()}syncWith(s){return this.time=s.time,this.timeScale=s.timeScale,this.stopWarping()}halt(s){return this.warp(this._effectiveTimeScale,0,s)}warp(s,et,tt){const nt=this._mixer,rt=nt.time,it=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=nt._lendControlInterpolant(),this._timeScaleInterpolant=st);const ot=st.parameterPositions,at=st.sampleValues;return ot[0]=rt,ot[1]=rt+tt,at[0]=s/it,at[1]=et/it,this}stopWarping(){const s=this._timeScaleInterpolant;return s!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(s)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(s,et,tt,nt){if(!this.enabled){this._updateWeight(s);return}const rt=this._startTime;if(rt!==null){const ot=(s-rt)*tt;ot<0||tt===0?et=0:(this._startTime=null,et=tt*ot)}et*=this._updateTimeScale(s);const it=this._updateTime(et),st=this._updateWeight(s);if(st>0){const ot=this._interpolants,at=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ut=0,ht=ot.length;ut!==ht;++ut)ot[ut].evaluate(it),at[ut].accumulateAdditive(st);break;case NormalAnimationBlendMode:default:for(let ut=0,ht=ot.length;ut!==ht;++ut)ot[ut].evaluate(it),at[ut].accumulate(nt,st)}}}_updateWeight(s){let et=0;if(this.enabled){et=this.weight;const tt=this._weightInterpolant;if(tt!==null){const nt=tt.evaluate(s)[0];et*=nt,s>tt.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=et,et}_updateTimeScale(s){let et=0;if(!this.paused){et=this.timeScale;const tt=this._timeScaleInterpolant;tt!==null&&(et*=tt.evaluate(s)[0],s>tt.parameterPositions[1]&&(this.stopWarping(),et===0?this.paused=!0:this.timeScale=et))}return this._effectiveTimeScale=et,et}_updateTime(s){const et=this._clip.duration,tt=this.loop;let nt=this.time+s,rt=this._loopCount;const it=tt===LoopPingPong;if(s===0)return rt===-1?nt:it&&(rt&1)===1?et-nt:nt;if(tt===LoopOnce){rt===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=et)nt=et;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:s<0?-1:1})}}else{if(rt===-1&&(s>=0?(rt=0,this._setEndings(!0,this.repetitions===0,it)):this._setEndings(this.repetitions===0,!0,it)),nt>=et||nt<0){const st=Math.floor(nt/et);nt-=et*st,rt+=Math.abs(st);const ot=this.repetitions-rt;if(ot<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=s>0?et:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:s>0?1:-1});else{if(ot===1){const at=s<0;this._setEndings(at,!at,it)}else this._setEndings(!1,!1,it);this._loopCount=rt,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=nt;if(it&&(rt&1)===1)return et-nt}return nt}_setEndings(s,et,tt){const nt=this._interpolantSettings;tt?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):(s?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,et?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading(s,et,tt){const nt=this._mixer,rt=nt.time;let it=this._weightInterpolant;it===null&&(it=nt._lendControlInterpolant(),this._weightInterpolant=it);const st=it.parameterPositions,ot=it.sampleValues;return st[0]=rt,ot[0]=et,st[1]=rt+s,ot[1]=tt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(s){super(),this._root=s,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(s,et){const tt=s._localRoot||this._root,nt=s._clip.tracks,rt=nt.length,it=s._propertyBindings,st=s._interpolants,ot=tt.uuid,at=this._bindingsByRootAndName;let ut=at[ot];ut===void 0&&(ut={},at[ot]=ut);for(let ht=0;ht!==rt;++ht){const ft=nt[ht],dt=ft.name;let vt=ut[dt];if(vt!==void 0)++vt.referenceCount,it[ht]=vt;else{if(vt=it[ht],vt!==void 0){vt._cacheIndex===null&&(++vt.referenceCount,this._addInactiveBinding(vt,ot,dt));continue}const gt=et&&et._propertyBindings[ht].binding.parsedPath;vt=new PropertyMixer(PropertyBinding.create(tt,dt,gt),ft.ValueTypeName,ft.getValueSize()),++vt.referenceCount,this._addInactiveBinding(vt,ot,dt),it[ht]=vt}st[ht].resultBuffer=vt.buffer}}_activateAction(s){if(!this._isActiveAction(s)){if(s._cacheIndex===null){const tt=(s._localRoot||this._root).uuid,nt=s._clip.uuid,rt=this._actionsByClip[nt];this._bindAction(s,rt&&rt.knownActions[0]),this._addInactiveAction(s,nt,tt)}const et=s._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];rt.useCount++===0&&(this._lendBinding(rt),rt.saveOriginalState())}this._lendAction(s)}}_deactivateAction(s){if(this._isActiveAction(s)){const et=s._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.useCount===0&&(rt.restoreOriginalState(),this._takeBackBinding(rt))}this._takeBackAction(s)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const s=this;this.stats={actions:{get total(){return s._actions.length},get inUse(){return s._nActiveActions}},bindings:{get total(){return s._bindings.length},get inUse(){return s._nActiveBindings}},controlInterpolants:{get total(){return s._controlInterpolants.length},get inUse(){return s._nActiveControlInterpolants}}}}_isActiveAction(s){const et=s._cacheIndex;return et!==null&&et<this._nActiveActions}_addInactiveAction(s,et,tt){const nt=this._actions,rt=this._actionsByClip;let it=rt[et];if(it===void 0)it={knownActions:[s],actionByRoot:{}},s._byClipCacheIndex=0,rt[et]=it;else{const st=it.knownActions;s._byClipCacheIndex=st.length,st.push(s)}s._cacheIndex=nt.length,nt.push(s),it.actionByRoot[tt]=s}_removeInactiveAction(s){const et=this._actions,tt=et[et.length-1],nt=s._cacheIndex;tt._cacheIndex=nt,et[nt]=tt,et.pop(),s._cacheIndex=null;const rt=s._clip.uuid,it=this._actionsByClip,st=it[rt],ot=st.knownActions,at=ot[ot.length-1],ut=s._byClipCacheIndex;at._byClipCacheIndex=ut,ot[ut]=at,ot.pop(),s._byClipCacheIndex=null;const ht=st.actionByRoot,ft=(s._localRoot||this._root).uuid;delete ht[ft],ot.length===0&&delete it[rt],this._removeInactiveBindingsForAction(s)}_removeInactiveBindingsForAction(s){const et=s._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.referenceCount===0&&this._removeInactiveBinding(rt)}}_lendAction(s){const et=this._actions,tt=s._cacheIndex,nt=this._nActiveActions++,rt=et[nt];s._cacheIndex=nt,et[nt]=s,rt._cacheIndex=tt,et[tt]=rt}_takeBackAction(s){const et=this._actions,tt=s._cacheIndex,nt=--this._nActiveActions,rt=et[nt];s._cacheIndex=nt,et[nt]=s,rt._cacheIndex=tt,et[tt]=rt}_addInactiveBinding(s,et,tt){const nt=this._bindingsByRootAndName,rt=this._bindings;let it=nt[et];it===void 0&&(it={},nt[et]=it),it[tt]=s,s._cacheIndex=rt.length,rt.push(s)}_removeInactiveBinding(s){const et=this._bindings,tt=s.binding,nt=tt.rootNode.uuid,rt=tt.path,it=this._bindingsByRootAndName,st=it[nt],ot=et[et.length-1],at=s._cacheIndex;ot._cacheIndex=at,et[at]=ot,et.pop(),delete st[rt],Object.keys(st).length===0&&delete it[nt]}_lendBinding(s){const et=this._bindings,tt=s._cacheIndex,nt=this._nActiveBindings++,rt=et[nt];s._cacheIndex=nt,et[nt]=s,rt._cacheIndex=tt,et[tt]=rt}_takeBackBinding(s){const et=this._bindings,tt=s._cacheIndex,nt=--this._nActiveBindings,rt=et[nt];s._cacheIndex=nt,et[nt]=s,rt._cacheIndex=tt,et[tt]=rt}_lendControlInterpolant(){const s=this._controlInterpolants,et=this._nActiveControlInterpolants++;let tt=s[et];return tt===void 0&&(tt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),tt.__cacheIndex=et,s[et]=tt),tt}_takeBackControlInterpolant(s){const et=this._controlInterpolants,tt=s.__cacheIndex,nt=--this._nActiveControlInterpolants,rt=et[nt];s.__cacheIndex=nt,et[nt]=s,rt.__cacheIndex=tt,et[tt]=rt}clipAction(s,et,tt){const nt=et||this._root,rt=nt.uuid;let it=typeof s=="string"?AnimationClip.findByName(nt,s):s;const st=it!==null?it.uuid:s,ot=this._actionsByClip[st];let at=null;if(tt===void 0&&(it!==null?tt=it.blendMode:tt=NormalAnimationBlendMode),ot!==void 0){const ht=ot.actionByRoot[rt];if(ht!==void 0&&ht.blendMode===tt)return ht;at=ot.knownActions[0],it===null&&(it=at._clip)}if(it===null)return null;const ut=new AnimationAction(this,it,et,tt);return this._bindAction(ut,at),this._addInactiveAction(ut,st,rt),ut}existingAction(s,et){const tt=et||this._root,nt=tt.uuid,rt=typeof s=="string"?AnimationClip.findByName(tt,s):s,it=rt?rt.uuid:s,st=this._actionsByClip[it];return st!==void 0&&st.actionByRoot[nt]||null}stopAllAction(){const s=this._actions,et=this._nActiveActions;for(let tt=et-1;tt>=0;--tt)s[tt].stop();return this}update(s){s*=this.timeScale;const et=this._actions,tt=this._nActiveActions,nt=this.time+=s,rt=Math.sign(s),it=this._accuIndex^=1;for(let at=0;at!==tt;++at)et[at]._update(nt,s,rt,it);const st=this._bindings,ot=this._nActiveBindings;for(let at=0;at!==ot;++at)st[at].apply(it);return this}setTime(s){this.time=0;for(let et=0;et<this._actions.length;et++)this._actions[et].time=0;return this.update(s)}getRoot(){return this._root}uncacheClip(s){const et=this._actions,tt=s.uuid,nt=this._actionsByClip,rt=nt[tt];if(rt!==void 0){const it=rt.knownActions;for(let st=0,ot=it.length;st!==ot;++st){const at=it[st];this._deactivateAction(at);const ut=at._cacheIndex,ht=et[et.length-1];at._cacheIndex=null,at._byClipCacheIndex=null,ht._cacheIndex=ut,et[ut]=ht,et.pop(),this._removeInactiveBindingsForAction(at)}delete nt[tt]}}uncacheRoot(s){const et=s.uuid,tt=this._actionsByClip;for(const it in tt){const st=tt[it].actionByRoot,ot=st[et];ot!==void 0&&(this._deactivateAction(ot),this._removeInactiveAction(ot))}const nt=this._bindingsByRootAndName,rt=nt[et];if(rt!==void 0)for(const it in rt){const st=rt[it];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction(s,et){const tt=this.existingAction(s,et);tt!==null&&(this._deactivateAction(tt),this._removeInactiveAction(tt))}}class Uniform{constructor(s){this.value=s}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id$3=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id$3++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(s){return this.uniforms.push(s),this}remove(s){const et=this.uniforms.indexOf(s);return et!==-1&&this.uniforms.splice(et,1),this}setName(s){return this.name=s,this}setUsage(s){return this.usage=s,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(s){this.name=s.name,this.usage=s.usage;const et=s.uniforms;this.uniforms.length=0;for(let tt=0,nt=et.length;tt<nt;tt++)this.uniforms.push(et[tt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(s,et,tt=1){super(s,et),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=tt}copy(s){return super.copy(s),this.meshPerAttribute=s.meshPerAttribute,this}clone(s){const et=super.clone(s);return et.meshPerAttribute=this.meshPerAttribute,et}toJSON(s){const et=super.toJSON(s);return et.isInstancedInterleavedBuffer=!0,et.meshPerAttribute=this.meshPerAttribute,et}}class GLBufferAttribute{constructor(s,et,tt,nt,rt){this.isGLBufferAttribute=!0,this.buffer=s,this.type=et,this.itemSize=tt,this.elementSize=nt,this.count=rt,this.version=0}set needsUpdate(s){s===!0&&this.version++}setBuffer(s){return this.buffer=s,this}setType(s,et){return this.type=s,this.elementSize=et,this}setItemSize(s){return this.itemSize=s,this}setCount(s){return this.count=s,this}}class Raycaster{constructor(s,et,tt=0,nt=1/0){this.ray=new Ray(s,et),this.near=tt,this.far=nt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(s,et){this.ray.set(s,et)}setFromCamera(s,et){et.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(et.matrixWorld),this.ray.direction.set(s.x,s.y,.5).unproject(et).sub(this.ray.origin).normalize(),this.camera=et):et.isOrthographicCamera?(this.ray.origin.set(s.x,s.y,(et.near+et.far)/(et.near-et.far)).unproject(et),this.ray.direction.set(0,0,-1).transformDirection(et.matrixWorld),this.camera=et):console.error("THREE.Raycaster: Unsupported camera type: "+et.type)}intersectObject(s,et=!0,tt=[]){return intersectObject(s,this,tt,et),tt.sort(ascSort),tt}intersectObjects(s,et=!0,tt=[]){for(let nt=0,rt=s.length;nt<rt;nt++)intersectObject(s[nt],this,tt,et);return tt.sort(ascSort),tt}}function ascSort(o,s){return o.distance-s.distance}function intersectObject(o,s,et,tt){if(o.layers.test(s.layers)&&o.raycast(s,et),tt===!0){const nt=o.children;for(let rt=0,it=nt.length;rt<it;rt++)intersectObject(nt[rt],s,et,!0)}}class Spherical{constructor(s=1,et=0,tt=0){return this.radius=s,this.phi=et,this.theta=tt,this}set(s,et,tt){return this.radius=s,this.phi=et,this.theta=tt,this}copy(s){return this.radius=s.radius,this.phi=s.phi,this.theta=s.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(s){return this.setFromCartesianCoords(s.x,s.y,s.z)}setFromCartesianCoords(s,et,tt){return this.radius=Math.sqrt(s*s+et*et+tt*tt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(s,tt),this.phi=Math.acos(clamp$2(et/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(s=1,et=0,tt=0){return this.radius=s,this.theta=et,this.y=tt,this}set(s,et,tt){return this.radius=s,this.theta=et,this.y=tt,this}copy(s){return this.radius=s.radius,this.theta=s.theta,this.y=s.y,this}setFromVector3(s){return this.setFromCartesianCoords(s.x,s.y,s.z)}setFromCartesianCoords(s,et,tt){return this.radius=Math.sqrt(s*s+tt*tt),this.theta=Math.atan2(s,tt),this.y=et,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(s=new Vector2(1/0,1/0),et=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=s,this.max=et}set(s,et){return this.min.copy(s),this.max.copy(et),this}setFromPoints(s){this.makeEmpty();for(let et=0,tt=s.length;et<tt;et++)this.expandByPoint(s[et]);return this}setFromCenterAndSize(s,et){const tt=_vector$4.copy(et).multiplyScalar(.5);return this.min.copy(s).sub(tt),this.max.copy(s).add(tt),this}clone(){return new this.constructor().copy(this)}copy(s){return this.min.copy(s.min),this.max.copy(s.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(s){return this.isEmpty()?s.set(0,0):s.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(s){return this.isEmpty()?s.set(0,0):s.subVectors(this.max,this.min)}expandByPoint(s){return this.min.min(s),this.max.max(s),this}expandByVector(s){return this.min.sub(s),this.max.add(s),this}expandByScalar(s){return this.min.addScalar(-s),this.max.addScalar(s),this}containsPoint(s){return!(s.x<this.min.x||s.x>this.max.x||s.y<this.min.y||s.y>this.max.y)}containsBox(s){return this.min.x<=s.min.x&&s.max.x<=this.max.x&&this.min.y<=s.min.y&&s.max.y<=this.max.y}getParameter(s,et){return et.set((s.x-this.min.x)/(this.max.x-this.min.x),(s.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(s){return!(s.max.x<this.min.x||s.min.x>this.max.x||s.max.y<this.min.y||s.min.y>this.max.y)}clampPoint(s,et){return et.copy(s).clamp(this.min,this.max)}distanceToPoint(s){return _vector$4.copy(s).clamp(this.min,this.max).sub(s).length()}intersect(s){return this.min.max(s.min),this.max.min(s.max),this}union(s){return this.min.min(s.min),this.max.max(s.max),this}translate(s){return this.min.add(s),this.max.add(s),this}equals(s){return s.min.equals(this.min)&&s.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(s=new Vector3,et=new Vector3){this.start=s,this.end=et}set(s,et){return this.start.copy(s),this.end.copy(et),this}copy(s){return this.start.copy(s.start),this.end.copy(s.end),this}getCenter(s){return s.addVectors(this.start,this.end).multiplyScalar(.5)}delta(s){return s.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(s,et){return this.delta(et).multiplyScalar(s).add(this.start)}closestPointToPointParameter(s,et){_startP.subVectors(s,this.start),_startEnd.subVectors(this.end,this.start);const tt=_startEnd.dot(_startEnd);let rt=_startEnd.dot(_startP)/tt;return et&&(rt=clamp$2(rt,0,1)),rt}closestPointToPoint(s,et,tt){const nt=this.closestPointToPointParameter(s,et);return this.delta(tt).multiplyScalar(nt).add(this.start)}applyMatrix4(s){return this.start.applyMatrix4(s),this.end.applyMatrix4(s),this}equals(s){return s.start.equals(this.start)&&s.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(s,et){super(),this.light=s,this.light.updateMatrixWorld(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=et;const tt=new BufferGeometry,nt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let it=0,st=1,ot=32;it<ot;it++,st++){const at=it/ot*Math.PI*2,ut=st/ot*Math.PI*2;nt.push(Math.cos(at),Math.sin(at),1,Math.cos(ut),Math.sin(ut),1)}tt.setAttribute("position",new Float32BufferAttribute(nt,3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(tt,rt),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const s=this.light.distance?this.light.distance:1e3,et=s*Math.tan(this.light.angle);this.cone.scale.set(et,et,s),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(s){const et=getBoneList(s),tt=new BufferGeometry,nt=[],rt=[],it=new Color(0,0,1),st=new Color(0,1,0);for(let at=0;at<et.length;at++){const ut=et[at];ut.parent&&ut.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),rt.push(it.r,it.g,it.b),rt.push(st.r,st.g,st.b))}tt.setAttribute("position",new Float32BufferAttribute(nt,3)),tt.setAttribute("color",new Float32BufferAttribute(rt,3));const ot=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(tt,ot),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=s,this.bones=et,this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(s){const et=this.bones,tt=this.geometry,nt=tt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let rt=0,it=0;rt<et.length;rt++){const st=et[rt];st.parent&&st.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,st.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,st.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it+1,_vector$2.x,_vector$2.y,_vector$2.z),it+=2)}tt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(s)}}function getBoneList(o){const s=[];o.isBone===!0&&s.push(o);for(let et=0;et<o.children.length;et++)s.push.apply(s,getBoneList(o.children[et]));return s}class PointLightHelper extends Mesh{constructor(s,et,tt){const nt=new SphereGeometry(et,4,2),rt=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(nt,rt),this.light=s,this.light.updateMatrixWorld(),this.color=tt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(s,et,tt){super(),this.light=s,this.light.updateMatrixWorld(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt;const nt=new OctahedronGeometry(et);nt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const rt=nt.getAttribute("position"),it=new Float32Array(rt.count*3);nt.setAttribute("color",new BufferAttribute(it,3)),this.add(new Mesh(nt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const s=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const et=s.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let tt=0,nt=et.count;tt<nt;tt++){const rt=tt<nt/2?_color1:_color2;et.setXYZ(tt,rt.r,rt.g,rt.b)}et.needsUpdate=!0}s.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(s=10,et=10,tt=4473924,nt=8947848){tt=new Color(tt),nt=new Color(nt);const rt=et/2,it=s/et,st=s/2,ot=[],at=[];for(let ft=0,dt=0,vt=-st;ft<=et;ft++,vt+=it){ot.push(-st,0,vt,st,0,vt),ot.push(vt,0,-st,vt,0,st);const gt=ft===rt?tt:nt;gt.toArray(at,dt),dt+=3,gt.toArray(at,dt),dt+=3,gt.toArray(at,dt),dt+=3,gt.toArray(at,dt),dt+=3}const ut=new BufferGeometry;ut.setAttribute("position",new Float32BufferAttribute(ot,3)),ut.setAttribute("color",new Float32BufferAttribute(at,3));const ht=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ut,ht),this.type="GridHelper"}}class PolarGridHelper extends LineSegments{constructor(s=10,et=16,tt=8,nt=64,rt=4473924,it=8947848){rt=new Color(rt),it=new Color(it);const st=[],ot=[];if(et>1)for(let ht=0;ht<et;ht++){const ft=ht/et*(Math.PI*2),dt=Math.sin(ft)*s,vt=Math.cos(ft)*s;st.push(0,0,0),st.push(dt,0,vt);const gt=ht&1?rt:it;ot.push(gt.r,gt.g,gt.b),ot.push(gt.r,gt.g,gt.b)}for(let ht=0;ht<tt;ht++){const ft=ht&1?rt:it,dt=s-s/tt*ht;for(let vt=0;vt<nt;vt++){let gt=vt/nt*(Math.PI*2),_t=Math.sin(gt)*dt,pt=Math.cos(gt)*dt;st.push(_t,0,pt),ot.push(ft.r,ft.g,ft.b),gt=(vt+1)/nt*(Math.PI*2),_t=Math.sin(gt)*dt,pt=Math.cos(gt)*dt,st.push(_t,0,pt),ot.push(ft.r,ft.g,ft.b)}}const at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(st,3)),at.setAttribute("color",new Float32BufferAttribute(ot,3));const ut=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(at,ut),this.type="PolarGridHelper"}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(s,et,tt){super(),this.light=s,this.light.updateMatrixWorld(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,et===void 0&&(et=1);let nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute([-et,et,0,et,et,0,et,-et,0,-et,-et,0,-et,et,0],3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(nt,rt),this.add(this.lightPlane),nt=new BufferGeometry,nt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(nt,rt),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(s){const et=new BufferGeometry,tt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),nt=[],rt=[],it={};st("n1","n2"),st("n2","n4"),st("n4","n3"),st("n3","n1"),st("f1","f2"),st("f2","f4"),st("f4","f3"),st("f3","f1"),st("n1","f1"),st("n2","f2"),st("n3","f3"),st("n4","f4"),st("p","n1"),st("p","n2"),st("p","n3"),st("p","n4"),st("u1","u2"),st("u2","u3"),st("u3","u1"),st("c","t"),st("p","c"),st("cn1","cn2"),st("cn3","cn4"),st("cf1","cf2"),st("cf3","cf4");function st(vt,gt){ot(vt),ot(gt)}function ot(vt){nt.push(0,0,0),rt.push(0,0,0),it[vt]===void 0&&(it[vt]=[]),it[vt].push(nt.length/3-1)}et.setAttribute("position",new Float32BufferAttribute(nt,3)),et.setAttribute("color",new Float32BufferAttribute(rt,3)),super(et,tt),this.type="CameraHelper",this.camera=s,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=it,this.update();const at=new Color(16755200),ut=new Color(16711680),ht=new Color(43775),ft=new Color(16777215),dt=new Color(3355443);this.setColors(at,ut,ht,ft,dt)}setColors(s,et,tt,nt,rt){const st=this.geometry.getAttribute("color");st.setXYZ(0,s.r,s.g,s.b),st.setXYZ(1,s.r,s.g,s.b),st.setXYZ(2,s.r,s.g,s.b),st.setXYZ(3,s.r,s.g,s.b),st.setXYZ(4,s.r,s.g,s.b),st.setXYZ(5,s.r,s.g,s.b),st.setXYZ(6,s.r,s.g,s.b),st.setXYZ(7,s.r,s.g,s.b),st.setXYZ(8,s.r,s.g,s.b),st.setXYZ(9,s.r,s.g,s.b),st.setXYZ(10,s.r,s.g,s.b),st.setXYZ(11,s.r,s.g,s.b),st.setXYZ(12,s.r,s.g,s.b),st.setXYZ(13,s.r,s.g,s.b),st.setXYZ(14,s.r,s.g,s.b),st.setXYZ(15,s.r,s.g,s.b),st.setXYZ(16,s.r,s.g,s.b),st.setXYZ(17,s.r,s.g,s.b),st.setXYZ(18,s.r,s.g,s.b),st.setXYZ(19,s.r,s.g,s.b),st.setXYZ(20,s.r,s.g,s.b),st.setXYZ(21,s.r,s.g,s.b),st.setXYZ(22,s.r,s.g,s.b),st.setXYZ(23,s.r,s.g,s.b),st.setXYZ(24,et.r,et.g,et.b),st.setXYZ(25,et.r,et.g,et.b),st.setXYZ(26,et.r,et.g,et.b),st.setXYZ(27,et.r,et.g,et.b),st.setXYZ(28,et.r,et.g,et.b),st.setXYZ(29,et.r,et.g,et.b),st.setXYZ(30,et.r,et.g,et.b),st.setXYZ(31,et.r,et.g,et.b),st.setXYZ(32,tt.r,tt.g,tt.b),st.setXYZ(33,tt.r,tt.g,tt.b),st.setXYZ(34,tt.r,tt.g,tt.b),st.setXYZ(35,tt.r,tt.g,tt.b),st.setXYZ(36,tt.r,tt.g,tt.b),st.setXYZ(37,tt.r,tt.g,tt.b),st.setXYZ(38,nt.r,nt.g,nt.b),st.setXYZ(39,nt.r,nt.g,nt.b),st.setXYZ(40,rt.r,rt.g,rt.b),st.setXYZ(41,rt.r,rt.g,rt.b),st.setXYZ(42,rt.r,rt.g,rt.b),st.setXYZ(43,rt.r,rt.g,rt.b),st.setXYZ(44,rt.r,rt.g,rt.b),st.setXYZ(45,rt.r,rt.g,rt.b),st.setXYZ(46,rt.r,rt.g,rt.b),st.setXYZ(47,rt.r,rt.g,rt.b),st.setXYZ(48,rt.r,rt.g,rt.b),st.setXYZ(49,rt.r,rt.g,rt.b),st.needsUpdate=!0}update(){const s=this.geometry,et=this.pointMap,tt=1,nt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",et,s,_camera,0,0,-1),setPoint("t",et,s,_camera,0,0,1),setPoint("n1",et,s,_camera,-tt,-nt,-1),setPoint("n2",et,s,_camera,tt,-nt,-1),setPoint("n3",et,s,_camera,-tt,nt,-1),setPoint("n4",et,s,_camera,tt,nt,-1),setPoint("f1",et,s,_camera,-tt,-nt,1),setPoint("f2",et,s,_camera,tt,-nt,1),setPoint("f3",et,s,_camera,-tt,nt,1),setPoint("f4",et,s,_camera,tt,nt,1),setPoint("u1",et,s,_camera,tt*.7,nt*1.1,-1),setPoint("u2",et,s,_camera,-tt*.7,nt*1.1,-1),setPoint("u3",et,s,_camera,0,nt*2,-1),setPoint("cf1",et,s,_camera,-tt,0,1),setPoint("cf2",et,s,_camera,tt,0,1),setPoint("cf3",et,s,_camera,0,-nt,1),setPoint("cf4",et,s,_camera,0,nt,1),setPoint("cn1",et,s,_camera,-tt,0,-1),setPoint("cn2",et,s,_camera,tt,0,-1),setPoint("cn3",et,s,_camera,0,-nt,-1),setPoint("cn4",et,s,_camera,0,nt,-1),s.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(o,s,et,tt,nt,rt,it){_vector.set(nt,rt,it).unproject(tt);const st=s[o];if(st!==void 0){const ot=et.getAttribute("position");for(let at=0,ut=st.length;at<ut;at++)ot.setXYZ(st[at],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(s,et=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=new Float32Array(8*3),rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:et,toneMapped:!1})),this.object=s,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(s){if(s!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const et=_box.min,tt=_box.max,nt=this.geometry.attributes.position,rt=nt.array;rt[0]=tt.x,rt[1]=tt.y,rt[2]=tt.z,rt[3]=et.x,rt[4]=tt.y,rt[5]=tt.z,rt[6]=et.x,rt[7]=et.y,rt[8]=tt.z,rt[9]=tt.x,rt[10]=et.y,rt[11]=tt.z,rt[12]=tt.x,rt[13]=tt.y,rt[14]=et.z,rt[15]=et.x,rt[16]=tt.y,rt[17]=et.z,rt[18]=et.x,rt[19]=et.y,rt[20]=et.z,rt[21]=tt.x,rt[22]=et.y,rt[23]=et.z,nt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(s){return this.object=s,this.update(),this}copy(s,et){return super.copy(s,et),this.object=s.object,this}}class Box3Helper extends LineSegments{constructor(s,et=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new Float32BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:et,toneMapped:!1})),this.box=s,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(s){const et=this.box;et.isEmpty()||(et.getCenter(this.position),et.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(s))}}class PlaneHelper extends Line{constructor(s,et=1,tt=16776960){const nt=tt,rt=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(rt,3)),it.computeBoundingSphere(),super(it,new LineBasicMaterial({color:nt,toneMapped:!1})),this.type="PlaneHelper",this.plane=s,this.size=et;const st=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(st,3)),ot.computeBoundingSphere(),this.add(new Mesh(ot,new MeshBasicMaterial({color:nt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(s){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(s)}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(s=new Vector3(0,0,1),et=new Vector3(0,0,0),tt=1,nt=16776960,rt=tt*.2,it=rt*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(et),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:nt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:nt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(s),this.setLength(tt,rt,it)}setDirection(s){if(s.y>.99999)this.quaternion.set(0,0,0,1);else if(s.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(s.z,0,-s.x).normalize();const et=Math.acos(s.y);this.quaternion.setFromAxisAngle(_axis,et)}}setLength(s,et=s*.2,tt=et*.2){this.line.scale.set(1,Math.max(1e-4,s-et),1),this.line.updateMatrix(),this.cone.scale.set(tt,et,tt),this.cone.position.y=s,this.cone.updateMatrix()}setColor(s){this.line.material.color.set(s),this.cone.material.color.set(s)}copy(s){return super.copy(s,!1),this.line.copy(s.line),this.cone.copy(s.cone),this}}class AxesHelper extends LineSegments{constructor(s=1){const et=[0,0,0,s,0,0,0,0,0,0,s,0,0,0,0,0,0,s],tt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(et,3)),nt.setAttribute("color",new Float32BufferAttribute(tt,3));const rt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,rt),this.type="AxesHelper"}setColors(s,et,tt){const nt=new Color,rt=this.geometry.attributes.color.array;return nt.set(s),nt.toArray(rt,0),nt.toArray(rt,3),nt.set(et),nt.toArray(rt,6),nt.toArray(rt,9),nt.set(tt),nt.toArray(rt,12),nt.toArray(rt,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(s,et){return this.currentPath=new Path$1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(s,et),this}lineTo(s,et){return this.currentPath.lineTo(s,et),this}quadraticCurveTo(s,et,tt,nt){return this.currentPath.quadraticCurveTo(s,et,tt,nt),this}bezierCurveTo(s,et,tt,nt,rt,it){return this.currentPath.bezierCurveTo(s,et,tt,nt,rt,it),this}splineThru(s){return this.currentPath.splineThru(s),this}toShapes(s){function et(pt){const mt=[];for(let yt=0,xt=pt.length;yt<xt;yt++){const bt=pt[yt],wt=new Shape;wt.curves=bt.curves,mt.push(wt)}return mt}function tt(pt,mt){const yt=mt.length;let xt=!1;for(let bt=yt-1,wt=0;wt<yt;bt=wt++){let Ct=mt[bt],Et=mt[wt],kt=Et.x-Ct.x,Dt=Et.y-Ct.y;if(Math.abs(Dt)>Number.EPSILON){if(Dt<0&&(Ct=mt[wt],kt=-kt,Et=mt[bt],Dt=-Dt),pt.y<Ct.y||pt.y>Et.y)continue;if(pt.y===Ct.y){if(pt.x===Ct.x)return!0}else{const zt=Dt*(pt.x-Ct.x)-kt*(pt.y-Ct.y);if(zt===0)return!0;if(zt<0)continue;xt=!xt}}else{if(pt.y!==Ct.y)continue;if(Et.x<=pt.x&&pt.x<=Ct.x||Ct.x<=pt.x&&pt.x<=Et.x)return!0}}return xt}const nt=ShapeUtils.isClockWise,rt=this.subPaths;if(rt.length===0)return[];let it,st,ot;const at=[];if(rt.length===1)return st=rt[0],ot=new Shape,ot.curves=st.curves,at.push(ot),at;let ut=!nt(rt[0].getPoints());ut=s?!ut:ut;const ht=[],ft=[];let dt=[],vt=0,gt;ft[vt]=void 0,dt[vt]=[];for(let pt=0,mt=rt.length;pt<mt;pt++)st=rt[pt],gt=st.getPoints(),it=nt(gt),it=s?!it:it,it?(!ut&&ft[vt]&&vt++,ft[vt]={s:new Shape,p:gt},ft[vt].s.curves=st.curves,ut&&vt++,dt[vt]=[]):dt[vt].push({h:st,p:gt[0]});if(!ft[0])return et(rt);if(ft.length>1){let pt=!1,mt=0;for(let yt=0,xt=ft.length;yt<xt;yt++)ht[yt]=[];for(let yt=0,xt=ft.length;yt<xt;yt++){const bt=dt[yt];for(let wt=0;wt<bt.length;wt++){const Ct=bt[wt];let Et=!0;for(let kt=0;kt<ft.length;kt++)tt(Ct.p,ft[kt].p)&&(yt!==kt&&mt++,Et?(Et=!1,ht[kt].push(Ct)):pt=!0);Et&&ht[yt].push(Ct)}}mt>0&&pt===!1&&(dt=ht)}let _t;for(let pt=0,mt=ft.length;pt<mt;pt++){ot=ft[pt].s,at.push(ot),_t=dt[pt];for(let yt=0,xt=_t.length;yt<xt;yt++)ot.holes.push(_t[yt].h)}return at}}const _tables=_generateTables();function _generateTables(){const o=new ArrayBuffer(4),s=new Float32Array(o),et=new Uint32Array(o),tt=new Uint32Array(512),nt=new Uint32Array(512);for(let ot=0;ot<256;++ot){const at=ot-127;at<-27?(tt[ot]=0,tt[ot|256]=32768,nt[ot]=24,nt[ot|256]=24):at<-14?(tt[ot]=1024>>-at-14,tt[ot|256]=1024>>-at-14|32768,nt[ot]=-at-1,nt[ot|256]=-at-1):at<=15?(tt[ot]=at+15<<10,tt[ot|256]=at+15<<10|32768,nt[ot]=13,nt[ot|256]=13):at<128?(tt[ot]=31744,tt[ot|256]=64512,nt[ot]=24,nt[ot|256]=24):(tt[ot]=31744,tt[ot|256]=64512,nt[ot]=13,nt[ot|256]=13)}const rt=new Uint32Array(2048),it=new Uint32Array(64),st=new Uint32Array(64);for(let ot=1;ot<1024;++ot){let at=ot<<13,ut=0;for(;(at&8388608)===0;)at<<=1,ut-=8388608;at&=-8388609,ut+=947912704,rt[ot]=at|ut}for(let ot=1024;ot<2048;++ot)rt[ot]=939524096+(ot-1024<<13);for(let ot=1;ot<31;++ot)it[ot]=ot<<23;it[31]=1199570944,it[32]=2147483648;for(let ot=33;ot<63;++ot)it[ot]=2147483648+(ot-32<<23);it[63]=3347054592;for(let ot=1;ot<64;++ot)ot!==32&&(st[ot]=1024);return{floatView:s,uint32View:et,baseTable:tt,shiftTable:nt,mantissaTable:rt,exponentTable:it,offsetTable:st}}function toHalfFloat(o){Math.abs(o)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),o=clamp$2(o,-65504,65504),_tables.floatView[0]=o;const s=_tables.uint32View[0],et=s>>23&511;return _tables.baseTable[et]+((s&8388607)>>_tables.shiftTable[et])}function fromHalfFloat(o){const s=o>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[s]+(o&1023)]+_tables.exponentTable[s],_tables.floatView[0]}var DataUtils=Object.freeze({__proto__:null,toHalfFloat,fromHalfFloat});function ImmediateRenderObject(){console.error("THREE.ImmediateRenderObject has been removed.")}class WebGLMultisampleRenderTarget extends WebGLRenderTarget{constructor(s,et,tt){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(s,et,tt),this.samples=4}}class DataTexture2DArray extends DataArrayTexture{constructor(s,et,tt,nt){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(s,et,tt,nt)}}class DataTexture3D extends Data3DTexture{constructor(s,et,tt,nt){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(s,et,tt,nt)}}class BoxBufferGeometry extends BoxGeometry{constructor(s,et,tt,nt,rt,it){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(s,et,tt,nt,rt,it)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(s,et,tt,nt){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(s,et,tt,nt)}}class CircleBufferGeometry extends CircleGeometry{constructor(s,et,tt,nt){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(s,et,tt,nt)}}class ConeBufferGeometry extends ConeGeometry{constructor(s,et,tt,nt,rt,it,st){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(s,et,tt,nt,rt,it,st)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(s,et,tt,nt,rt,it,st,ot){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(s,et,tt,nt,rt,it,st,ot)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(s,et){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(s,et)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(s,et){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(s,et)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(s,et){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(s,et)}}class LatheBufferGeometry extends LatheGeometry{constructor(s,et,tt,nt){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(s,et,tt,nt)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(s,et){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(s,et)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(s,et,tt,nt){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(s,et,tt,nt)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(s,et,tt,nt){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(s,et,tt,nt)}}class RingBufferGeometry extends RingGeometry{constructor(s,et,tt,nt,rt,it){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(s,et,tt,nt,rt,it)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(s,et){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(s,et)}}class SphereBufferGeometry extends SphereGeometry{constructor(s,et,tt,nt,rt,it,st){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(s,et,tt,nt,rt,it,st)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(s,et){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(s,et)}}class TorusBufferGeometry extends TorusGeometry{constructor(s,et,tt,nt,rt){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(s,et,tt,nt,rt)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(s,et,tt,nt,rt,it){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(s,et,tt,nt,rt,it)}}class TubeBufferGeometry extends TubeGeometry{constructor(s,et,tt,nt,rt){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(s,et,tt,nt,rt)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTexture2DArray,DataTexture3D,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,ImmediateRenderObject,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path:Path$1,PerspectiveCamera,Plane,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBFormat,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLMultisampleRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function(o){o.exports=reactReconcilerConstants_production_min})(constants);function createStore$1(o){let s;const et=new Set,tt=(at,ut)=>{const ht=typeof at=="function"?at(s):at;if(ht!==s){const ft=s;s=ut?ht:Object.assign({},s,ht),et.forEach(dt=>dt(s,ft))}},nt=()=>s,rt=(at,ut=nt,ht=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ft=ut(s);function dt(){const vt=ut(s);if(!ht(ft,vt)){const gt=ft;at(ft=vt,gt)}}return et.add(dt),()=>et.delete(dt)},ot={setState:tt,getState:nt,subscribe:(at,ut,ht)=>ut||ht?rt(at,ut,ht):(et.add(at),()=>et.delete(at)),destroy:()=>et.clear()};return s=o(tt,nt,ot),ot}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR?react.exports.useEffect:react.exports.useLayoutEffect;function create$3(o){const s=typeof o=="function"?createStore$1(o):o,et=(tt=s.getState,nt=Object.is)=>{const[,rt]=react.exports.useReducer(_t=>_t+1,0),it=s.getState(),st=react.exports.useRef(it),ot=react.exports.useRef(tt),at=react.exports.useRef(nt),ut=react.exports.useRef(!1),ht=react.exports.useRef();ht.current===void 0&&(ht.current=tt(it));let ft,dt=!1;(st.current!==it||ot.current!==tt||at.current!==nt||ut.current)&&(ft=tt(it),dt=!nt(ht.current,ft)),useIsomorphicLayoutEffect$2(()=>{dt&&(ht.current=ft),st.current=it,ot.current=tt,at.current=nt,ut.current=!1});const vt=react.exports.useRef(it);useIsomorphicLayoutEffect$2(()=>{const _t=()=>{try{const mt=s.getState(),yt=ot.current(mt);at.current(ht.current,yt)||(st.current=mt,ht.current=yt,rt())}catch{ut.current=!0,rt()}},pt=s.subscribe(_t);return s.getState()!==vt.current&&_t(),pt},[]);const gt=dt?ft:ht.current;return react.exports.useDebugValue(gt),gt};return Object.assign(et,s),et[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const tt=[et,s];return{next(){const nt=tt.length<=0;return{value:tt.shift(),done:nt}}}},et}var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(o){function s(Tt,Pt){var Rt=Tt.length;Tt.push(Pt);e:for(;0<Rt;){var Vt=Rt-1>>>1,Ot=Tt[Vt];if(0<nt(Ot,Pt))Tt[Vt]=Pt,Tt[Rt]=Ot,Rt=Vt;else break e}}function et(Tt){return Tt.length===0?null:Tt[0]}function tt(Tt){if(Tt.length===0)return null;var Pt=Tt[0],Rt=Tt.pop();if(Rt!==Pt){Tt[0]=Rt;e:for(var Vt=0,Ot=Tt.length,Xt=Ot>>>1;Vt<Xt;){var Kt=2*(Vt+1)-1,fn=Tt[Kt],Nt=Kt+1,vn=Tt[Nt];if(0>nt(fn,Rt))Nt<Ot&&0>nt(vn,fn)?(Tt[Vt]=vn,Tt[Nt]=Rt,Vt=Nt):(Tt[Vt]=fn,Tt[Kt]=Rt,Vt=Kt);else if(Nt<Ot&&0>nt(vn,Rt))Tt[Vt]=vn,Tt[Nt]=Rt,Vt=Nt;else break e}}return Pt}function nt(Tt,Pt){var Rt=Tt.sortIndex-Pt.sortIndex;return Rt!==0?Rt:Tt.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;o.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();o.unstable_now=function(){return it.now()-st}}var ot=[],at=[],ut=1,ht=null,ft=3,dt=!1,vt=!1,gt=!1,_t=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Tt){for(var Pt=et(at);Pt!==null;){if(Pt.callback===null)tt(at);else if(Pt.startTime<=Tt)tt(at),Pt.sortIndex=Pt.expirationTime,s(ot,Pt);else break;Pt=et(at)}}function xt(Tt){if(gt=!1,yt(Tt),!vt)if(et(ot)!==null)vt=!0,Ft(bt);else{var Pt=et(at);Pt!==null&&It(xt,Pt.startTime-Tt)}}function bt(Tt,Pt){vt=!1,gt&&(gt=!1,pt(Et),Et=-1),dt=!0;var Rt=ft;try{for(yt(Pt),ht=et(ot);ht!==null&&(!(ht.expirationTime>Pt)||Tt&&!zt());){var Vt=ht.callback;if(typeof Vt=="function"){ht.callback=null,ft=ht.priorityLevel;var Ot=Vt(ht.expirationTime<=Pt);Pt=o.unstable_now(),typeof Ot=="function"?ht.callback=Ot:ht===et(ot)&&tt(ot),yt(Pt)}else tt(ot);ht=et(ot)}if(ht!==null)var Xt=!0;else{var Kt=et(at);Kt!==null&&It(xt,Kt.startTime-Pt),Xt=!1}return Xt}finally{ht=null,ft=Rt,dt=!1}}var wt=!1,Ct=null,Et=-1,kt=5,Dt=-1;function zt(){return!(o.unstable_now()-Dt<kt)}function Wt(){if(Ct!==null){var Tt=o.unstable_now();Dt=Tt;var Pt=!0;try{Pt=Ct(!0,Tt)}finally{Pt?Ht():(wt=!1,Ct=null)}}else wt=!1}var Ht;if(typeof mt=="function")Ht=function(){mt(Wt)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,$t=Gt.port2;Gt.port1.onmessage=Wt,Ht=function(){$t.postMessage(null)}}else Ht=function(){_t(Wt,0)};function Ft(Tt){Ct=Tt,wt||(wt=!0,Ht())}function It(Tt,Pt){Et=_t(function(){Tt(o.unstable_now())},Pt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Tt){Tt.callback=null},o.unstable_continueExecution=function(){vt||dt||(vt=!0,Ft(bt))},o.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kt=0<Tt?Math.floor(1e3/Tt):5},o.unstable_getCurrentPriorityLevel=function(){return ft},o.unstable_getFirstCallbackNode=function(){return et(ot)},o.unstable_next=function(Tt){switch(ft){case 1:case 2:case 3:var Pt=3;break;default:Pt=ft}var Rt=ft;ft=Pt;try{return Tt()}finally{ft=Rt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Tt,Pt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Rt=ft;ft=Tt;try{return Pt()}finally{ft=Rt}},o.unstable_scheduleCallback=function(Tt,Pt,Rt){var Vt=o.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?Vt+Rt:Vt):Rt=Vt,Tt){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=Rt+Ot,Tt={id:ut++,callback:Pt,priorityLevel:Tt,startTime:Rt,expirationTime:Ot,sortIndex:-1},Rt>Vt?(Tt.sortIndex=Rt,s(at,Tt),et(ot)===null&&Tt===et(at)&&(gt?(pt(Et),Et=-1):gt=!0,It(xt,Rt-Vt))):(Tt.sortIndex=Ot,s(ot,Tt),vt||dt||(vt=!0,Ft(bt))),Tt},o.unstable_shouldYield=zt,o.unstable_wrapCallback=function(Tt){var Pt=ft;return function(){var Rt=ft;ft=Pt;try{return Tt.apply(this,arguments)}finally{ft=Rt}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,function(o){o.exports=requireScheduler_production_min()}(scheduler$1)),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(s){var et={},tt=react.exports,nt=requireScheduler(),rt=Object.assign;function it(lt){for(var ct="https://reactjs.org/docs/error-decoder.html?invariant="+lt,St=1;St<arguments.length;St++)ct+="&args[]="+encodeURIComponent(arguments[St]);return"Minified React error #"+lt+"; visit "+ct+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var st=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ot=Symbol.for("react.element"),at=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),ht=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),dt=Symbol.for("react.provider"),vt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),xt=Symbol.for("react.offscreen"),bt=Symbol.iterator;function wt(lt){return lt===null||typeof lt!="object"?null:(lt=bt&&lt[bt]||lt["@@iterator"],typeof lt=="function"?lt:null)}function Ct(lt){if(lt==null)return null;if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt;switch(lt){case ut:return"Fragment";case at:return"Portal";case ft:return"Profiler";case ht:return"StrictMode";case _t:return"Suspense";case pt:return"SuspenseList"}if(typeof lt=="object")switch(lt.$$typeof){case vt:return(lt.displayName||"Context")+".Consumer";case dt:return(lt._context.displayName||"Context")+".Provider";case gt:var ct=lt.render;return lt=lt.displayName,lt||(lt=ct.displayName||ct.name||"",lt=lt!==""?"ForwardRef("+lt+")":"ForwardRef"),lt;case mt:return ct=lt.displayName||null,ct!==null?ct:Ct(lt.type)||"Memo";case yt:ct=lt._payload,lt=lt._init;try{return Ct(lt(ct))}catch{}}return null}function Et(lt){var ct=lt.type;switch(lt.tag){case 24:return"Cache";case 9:return(ct.displayName||"Context")+".Consumer";case 10:return(ct._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return lt=ct.render,lt=lt.displayName||lt.name||"",ct.displayName||(lt!==""?"ForwardRef("+lt+")":"ForwardRef");case 7:return"Fragment";case 5:return ct;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ct(ct);case 8:return ct===ht?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ct=="function")return ct.displayName||ct.name||null;if(typeof ct=="string")return ct}return null}function kt(lt){var ct=lt,St=lt;if(lt.alternate)for(;ct.return;)ct=ct.return;else{lt=ct;do ct=lt,(ct.flags&4098)!==0&&(St=ct.return),lt=ct.return;while(lt)}return ct.tag===3?St:null}function Dt(lt){if(kt(lt)!==lt)throw Error(it(188))}function zt(lt){var ct=lt.alternate;if(!ct){if(ct=kt(lt),ct===null)throw Error(it(188));return ct!==lt?null:lt}for(var St=lt,Mt=ct;;){var At=St.return;if(At===null)break;var Lt=At.alternate;if(Lt===null){if(Mt=At.return,Mt!==null){St=Mt;continue}break}if(At.child===Lt.child){for(Lt=At.child;Lt;){if(Lt===St)return Dt(At),lt;if(Lt===Mt)return Dt(At),ct;Lt=Lt.sibling}throw Error(it(188))}if(St.return!==Mt.return)St=At,Mt=Lt;else{for(var jt=!1,Qt=At.child;Qt;){if(Qt===St){jt=!0,St=At,Mt=Lt;break}if(Qt===Mt){jt=!0,Mt=At,St=Lt;break}Qt=Qt.sibling}if(!jt){for(Qt=Lt.child;Qt;){if(Qt===St){jt=!0,St=Lt,Mt=At;break}if(Qt===Mt){jt=!0,Mt=Lt,St=At;break}Qt=Qt.sibling}if(!jt)throw Error(it(189))}}if(St.alternate!==Mt)throw Error(it(190))}if(St.tag!==3)throw Error(it(188));return St.stateNode.current===St?lt:ct}function Wt(lt){return lt=zt(lt),lt!==null?Ht(lt):null}function Ht(lt){if(lt.tag===5||lt.tag===6)return lt;for(lt=lt.child;lt!==null;){var ct=Ht(lt);if(ct!==null)return ct;lt=lt.sibling}return null}function Gt(lt){if(lt.tag===5||lt.tag===6)return lt;for(lt=lt.child;lt!==null;){if(lt.tag!==4){var ct=Gt(lt);if(ct!==null)return ct}lt=lt.sibling}return null}var $t=Array.isArray,Ft=s.getPublicInstance,It=s.getRootHostContext,Tt=s.getChildHostContext,Pt=s.prepareForCommit,Rt=s.resetAfterCommit,Vt=s.createInstance,Ot=s.appendInitialChild,Xt=s.finalizeInitialChildren,Kt=s.prepareUpdate,fn=s.shouldSetTextContent,Nt=s.createTextInstance,vn=s.scheduleTimeout,on=s.cancelTimeout,bn=s.noTimeout,cn=s.isPrimaryRenderer,xn=s.supportsMutation,tn=s.supportsPersistence,Yt=s.supportsHydration,dn=s.getInstanceFromNode,yn=s.preparePortalMount,_n=s.getCurrentEventPriority,En=s.detachDeletedInstance,Tn=s.supportsMicrotasks,Ln=s.scheduleMicrotask,Bn=s.supportsTestSelectors,Hn=s.findFiberRoot,qt=s.getBoundingRect,Bt=s.getTextContent,Zt=s.isHiddenSubtree,pn=s.matchAccessibilityRole,Sn=s.setFocusIfFocusable,wn=s.setupIntersectionObserver,Vn=s.appendChild,ln=s.appendChildToContainer,Nn=s.commitTextUpdate,In=s.commitMount,$n=s.commitUpdate,Fn=s.insertBefore,Yn=s.insertInContainerBefore,sr=s.removeChild,yr=s.removeChildFromContainer,en=s.resetTextContent,Rn=s.hideInstance,hn=s.hideTextInstance,kn=s.unhideInstance,Pn=s.unhideTextInstance,rr=s.clearContainer,br=s.cloneInstance,dr=s.createContainerChildSet,as=s.appendChildToContainerChildSet,pr=s.finalizeContainerChildren,Xr=s.replaceContainerChildren,Fr=s.cloneHiddenInstance,Co=s.cloneHiddenTextInstance,qs=s.canHydrateInstance,Ao=s.canHydrateTextInstance,Nl=s.canHydrateSuspenseInstance,Po=s.isSuspenseInstancePending,oo=s.isSuspenseInstanceFallback,Ut=s.registerSuspenseInstanceRetry,rn=s.getNextHydratableSibling,mn=s.getFirstHydratableChild,nn=s.getFirstHydratableChildWithinContainer,gn=s.getFirstHydratableChildWithinSuspenseInstance,Gn=s.hydrateInstance,Wn=s.hydrateTextInstance,Zn=s.hydrateSuspenseInstance,jn=s.getNextHydratableInstanceAfterSuspenseInstance,or=s.commitHydratedContainer,tr=s.commitHydratedSuspenseInstance,nr=s.clearSuspenseBoundary,mr=s.clearSuspenseBoundaryFromContainer,_s=s.shouldDeleteUnhydratedTailInstances,As=s.didNotMatchHydratedContainerTextInstance,Ps=s.didNotMatchHydratedTextInstance,Or;function er(lt){if(Or===void 0)try{throw Error()}catch(St){var ct=St.stack.trim().match(/\n( *(at )?)/);Or=ct&&ct[1]||""}return`
`+Or+lt}var fs=!1;function gr(lt,ct){if(!lt||fs)return"";fs=!0;var St=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ct)if(ct=function(){throw Error()},Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(Mn){var Mt=Mn}Reflect.construct(lt,[],ct)}else{try{ct.call()}catch(Mn){Mt=Mn}lt.call(ct.prototype)}else{try{throw Error()}catch(Mn){Mt=Mn}lt()}}catch(Mn){if(Mn&&Mt&&typeof Mn.stack=="string"){for(var At=Mn.stack.split(`
`),Lt=Mt.stack.split(`
`),jt=At.length-1,Qt=Lt.length-1;1<=jt&&0<=Qt&&At[jt]!==Lt[Qt];)Qt--;for(;1<=jt&&0<=Qt;jt--,Qt--)if(At[jt]!==Lt[Qt]){if(jt!==1||Qt!==1)do if(jt--,Qt--,0>Qt||At[jt]!==Lt[Qt]){var un=`
`+At[jt].replace(" at new "," at ");return lt.displayName&&un.includes("<anonymous>")&&(un=un.replace("<anonymous>",lt.displayName)),un}while(1<=jt&&0<=Qt);break}}}finally{fs=!1,Error.prepareStackTrace=St}return(lt=lt?lt.displayName||lt.name:"")?er(lt):""}var Nr=Object.prototype.hasOwnProperty,Yr=[],Kr=-1;function Zr(lt){return{current:lt}}function Kn(lt){0>Kr||(lt.current=Yr[Kr],Yr[Kr]=null,Kr--)}function ir(lt,ct){Kr++,Yr[Kr]=lt.current,lt.current=ct}var Qr={},ur=Zr(Qr),Tr=Zr(!1),xs=Qr;function Ss(lt,ct){var St=lt.type.contextTypes;if(!St)return Qr;var Mt=lt.stateNode;if(Mt&&Mt.__reactInternalMemoizedUnmaskedChildContext===ct)return Mt.__reactInternalMemoizedMaskedChildContext;var At={},Lt;for(Lt in St)At[Lt]=ct[Lt];return Mt&&(lt=lt.stateNode,lt.__reactInternalMemoizedUnmaskedChildContext=ct,lt.__reactInternalMemoizedMaskedChildContext=At),At}function zr(lt){return lt=lt.childContextTypes,lt!=null}function ko(){Kn(Tr),Kn(ur)}function Wu(lt,ct,St){if(ur.current!==Qr)throw Error(it(168));ir(ur,ct),ir(Tr,St)}function ju(lt,ct,St){var Mt=lt.stateNode;if(ct=ct.childContextTypes,typeof Mt.getChildContext!="function")return St;Mt=Mt.getChildContext();for(var At in Mt)if(!(At in ct))throw Error(it(108,Et(lt)||"Unknown",At));return rt({},St,Mt)}function Lo(lt){return lt=(lt=lt.stateNode)&&lt.__reactInternalMemoizedMergedChildContext||Qr,xs=ur.current,ir(ur,lt),ir(Tr,Tr.current),!0}function qu(lt,ct,St){var Mt=lt.stateNode;if(!Mt)throw Error(it(169));St?(lt=ju(lt,ct,xs),Mt.__reactInternalMemoizedMergedChildContext=lt,Kn(Tr),Kn(ur),ir(ur,lt)):Kn(Tr),ir(Tr,St)}var ls=Math.clz32?Math.clz32:Cm,Em=Math.log,Tm=Math.LN2;function Cm(lt){return lt>>>=0,lt===0?32:31-(Em(lt)/Tm|0)|0}var Ro=64,Io=4194304;function ao(lt){switch(lt&-lt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return lt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return lt}}function Do(lt,ct){var St=lt.pendingLanes;if(St===0)return 0;var Mt=0,At=lt.suspendedLanes,Lt=lt.pingedLanes,jt=St&268435455;if(jt!==0){var Qt=jt&~At;Qt!==0?Mt=ao(Qt):(Lt&=jt,Lt!==0&&(Mt=ao(Lt)))}else jt=St&~At,jt!==0?Mt=ao(jt):Lt!==0&&(Mt=ao(Lt));if(Mt===0)return 0;if(ct!==0&&ct!==Mt&&(ct&At)===0&&(At=Mt&-Mt,Lt=ct&-ct,At>=Lt||At===16&&(Lt&4194240)!==0))return ct;if((Mt&4)!==0&&(Mt|=St&16),ct=lt.entangledLanes,ct!==0)for(lt=lt.entanglements,ct&=Mt;0<ct;)St=31-ls(ct),At=1<<St,Mt|=lt[St],ct&=~At;return Mt}function Am(lt,ct){switch(lt){case 1:case 2:case 4:return ct+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ct+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(lt,ct){for(var St=lt.suspendedLanes,Mt=lt.pingedLanes,At=lt.expirationTimes,Lt=lt.pendingLanes;0<Lt;){var jt=31-ls(Lt),Qt=1<<jt,un=At[jt];un===-1?((Qt&St)===0||(Qt&Mt)!==0)&&(At[jt]=Am(Qt,ct)):un<=ct&&(lt.expiredLanes|=Qt),Lt&=~Qt}}function zl(lt){return lt=lt.pendingLanes&-1073741825,lt!==0?lt:lt&1073741824?1073741824:0}function $l(lt){for(var ct=[],St=0;31>St;St++)ct.push(lt);return ct}function lo(lt,ct,St){lt.pendingLanes|=ct,ct!==536870912&&(lt.suspendedLanes=0,lt.pingedLanes=0),lt=lt.eventTimes,ct=31-ls(ct),lt[ct]=St}function km(lt,ct){var St=lt.pendingLanes&~ct;lt.pendingLanes=ct,lt.suspendedLanes=0,lt.pingedLanes=0,lt.expiredLanes&=ct,lt.mutableReadLanes&=ct,lt.entangledLanes&=ct,ct=lt.entanglements;var Mt=lt.eventTimes;for(lt=lt.expirationTimes;0<St;){var At=31-ls(St),Lt=1<<At;ct[At]=0,Mt[At]=-1,lt[At]=-1,St&=~Lt}}function Gl(lt,ct){var St=lt.entangledLanes|=ct;for(lt=lt.entanglements;St;){var Mt=31-ls(St),At=1<<Mt;At&ct|lt[Mt]&ct&&(lt[Mt]|=ct),St&=~At}}var ar=0;function Xu(lt){return lt&=-lt,1<lt?4<lt?(lt&268435455)!==0?16:536870912:4:1}var Ul=nt.unstable_scheduleCallback,Yu=nt.unstable_cancelCallback,Lm=nt.unstable_shouldYield,Rm=nt.unstable_requestPaint,Cr=nt.unstable_now,Hl=nt.unstable_ImmediatePriority,Im=nt.unstable_UserBlockingPriority,Wl=nt.unstable_NormalPriority,Dm=nt.unstable_IdlePriority,Fo=null,hs=null;function Fm(lt){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(Fo,lt,void 0,(lt.current.flags&128)===128)}catch{}}function Vm(lt,ct){return lt===ct&&(lt!==0||1/lt===1/ct)||lt!==lt&&ct!==ct}var ds=typeof Object.is=="function"?Object.is:Vm,bs=null,Vo=!1,Xl=!1;function Ku(lt){bs===null?bs=[lt]:bs.push(lt)}function Bm(lt){Vo=!0,Ku(lt)}function ps(){if(!Xl&&bs!==null){Xl=!0;var lt=0,ct=ar;try{var St=bs;for(ar=1;lt<St.length;lt++){var Mt=St[lt];do Mt=Mt(!0);while(Mt!==null)}bs=null,Vo=!1}catch(At){throw bs!==null&&(bs=bs.slice(lt+1)),Ul(Hl,ps),At}finally{ar=ct,Xl=!1}}return null}var Om=st.ReactCurrentBatchConfig;function Bo(lt,ct){if(ds(lt,ct))return!0;if(typeof lt!="object"||lt===null||typeof ct!="object"||ct===null)return!1;var St=Object.keys(lt),Mt=Object.keys(ct);if(St.length!==Mt.length)return!1;for(Mt=0;Mt<St.length;Mt++){var At=St[Mt];if(!Nr.call(ct,At)||!ds(lt[At],ct[At]))return!1}return!0}function Nm(lt){switch(lt.tag){case 5:return er(lt.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return lt=gr(lt.type,!1),lt;case 11:return lt=gr(lt.type.render,!1),lt;case 1:return lt=gr(lt.type,!0),lt;default:return""}}function cs(lt,ct){if(lt&&lt.defaultProps){ct=rt({},ct),lt=lt.defaultProps;for(var St in lt)ct[St]===void 0&&(ct[St]=lt[St]);return ct}return ct}var Oo=Zr(null),No=null,Xs=null,Yl=null;function Kl(){Yl=Xs=No=null}function Zu(lt,ct,St){cn?(ir(Oo,ct._currentValue),ct._currentValue=St):(ir(Oo,ct._currentValue2),ct._currentValue2=St)}function Zl(lt){var ct=Oo.current;Kn(Oo),cn?lt._currentValue=ct:lt._currentValue2=ct}function Ql(lt,ct,St){for(;lt!==null;){var Mt=lt.alternate;if((lt.childLanes&ct)!==ct?(lt.childLanes|=ct,Mt!==null&&(Mt.childLanes|=ct)):Mt!==null&&(Mt.childLanes&ct)!==ct&&(Mt.childLanes|=ct),lt===St)break;lt=lt.return}}function Ys(lt,ct){No=lt,Yl=Xs=null,lt=lt.dependencies,lt!==null&&lt.firstContext!==null&&((lt.lanes&ct)!==0&&(jr=!0),lt.firstContext=null)}function Jr(lt){var ct=cn?lt._currentValue:lt._currentValue2;if(Yl!==lt)if(lt={context:lt,memoizedValue:ct,next:null},Xs===null){if(No===null)throw Error(it(308));Xs=lt,No.dependencies={lanes:0,firstContext:lt}}else Xs=Xs.next=lt;return ct}var ms=null,ks=!1;function Jl(lt){lt.updateQueue={baseState:lt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qu(lt,ct){lt=lt.updateQueue,ct.updateQueue===lt&&(ct.updateQueue={baseState:lt.baseState,firstBaseUpdate:lt.firstBaseUpdate,lastBaseUpdate:lt.lastBaseUpdate,shared:lt.shared,effects:lt.effects})}function Ms(lt,ct){return{eventTime:lt,lane:ct,tag:0,payload:null,callback:null,next:null}}function Ls(lt,ct){var St=lt.updateQueue;St!==null&&(St=St.shared,Mr!==null&&(lt.mode&1)!==0&&(Jn&2)===0?(lt=St.interleaved,lt===null?(ct.next=ct,ms===null?ms=[St]:ms.push(St)):(ct.next=lt.next,lt.next=ct),St.interleaved=ct):(lt=St.pending,lt===null?ct.next=ct:(ct.next=lt.next,lt.next=ct),St.pending=ct))}function zo(lt,ct,St){if(ct=ct.updateQueue,ct!==null&&(ct=ct.shared,(St&4194240)!==0)){var Mt=ct.lanes;Mt&=lt.pendingLanes,St|=Mt,ct.lanes=St,Gl(lt,St)}}function Ju(lt,ct){var St=lt.updateQueue,Mt=lt.alternate;if(Mt!==null&&(Mt=Mt.updateQueue,St===Mt)){var At=null,Lt=null;if(St=St.firstBaseUpdate,St!==null){do{var jt={eventTime:St.eventTime,lane:St.lane,tag:St.tag,payload:St.payload,callback:St.callback,next:null};Lt===null?At=Lt=jt:Lt=Lt.next=jt,St=St.next}while(St!==null);Lt===null?At=Lt=ct:Lt=Lt.next=ct}else At=Lt=ct;St={baseState:Mt.baseState,firstBaseUpdate:At,lastBaseUpdate:Lt,shared:Mt.shared,effects:Mt.effects},lt.updateQueue=St;return}lt=St.lastBaseUpdate,lt===null?St.firstBaseUpdate=ct:lt.next=ct,St.lastBaseUpdate=ct}function $o(lt,ct,St,Mt){var At=lt.updateQueue;ks=!1;var Lt=At.firstBaseUpdate,jt=At.lastBaseUpdate,Qt=At.shared.pending;if(Qt!==null){At.shared.pending=null;var un=Qt,Mn=un.next;un.next=null,jt===null?Lt=Mn:jt.next=Mn,jt=un;var Dn=lt.alternate;Dn!==null&&(Dn=Dn.updateQueue,Qt=Dn.lastBaseUpdate,Qt!==jt&&(Qt===null?Dn.firstBaseUpdate=Mn:Qt.next=Mn,Dn.lastBaseUpdate=un))}if(Lt!==null){var qn=At.baseState;jt=0,Dn=Mn=un=null,Qt=Lt;do{var Un=Qt.lane,hr=Qt.eventTime;if((Mt&Un)===Un){Dn!==null&&(Dn=Dn.next={eventTime:hr,lane:0,tag:Qt.tag,payload:Qt.payload,callback:Qt.callback,next:null});e:{var zn=lt,Dr=Qt;switch(Un=ct,hr=St,Dr.tag){case 1:if(zn=Dr.payload,typeof zn=="function"){qn=zn.call(hr,qn,Un);break e}qn=zn;break e;case 3:zn.flags=zn.flags&-65537|128;case 0:if(zn=Dr.payload,Un=typeof zn=="function"?zn.call(hr,qn,Un):zn,Un==null)break e;qn=rt({},qn,Un);break e;case 2:ks=!0}}Qt.callback!==null&&Qt.lane!==0&&(lt.flags|=64,Un=At.effects,Un===null?At.effects=[Qt]:Un.push(Qt))}else hr={eventTime:hr,lane:Un,tag:Qt.tag,payload:Qt.payload,callback:Qt.callback,next:null},Dn===null?(Mn=Dn=hr,un=qn):Dn=Dn.next=hr,jt|=Un;if(Qt=Qt.next,Qt===null){if(Qt=At.shared.pending,Qt===null)break;Un=Qt,Qt=Un.next,Un.next=null,At.lastBaseUpdate=Un,At.shared.pending=null}}while(1);if(Dn===null&&(un=qn),At.baseState=un,At.firstBaseUpdate=Mn,At.lastBaseUpdate=Dn,ct=At.shared.interleaved,ct!==null){At=ct;do jt|=At.lane,At=At.next;while(At!==ct)}else Lt===null&&(At.shared.lanes=0);io|=jt,lt.lanes=jt,lt.memoizedState=qn}}function _f(lt,ct,St){if(lt=ct.effects,ct.effects=null,lt!==null)for(ct=0;ct<lt.length;ct++){var Mt=lt[ct],At=Mt.callback;if(At!==null){if(Mt.callback=null,Mt=St,typeof At!="function")throw Error(it(191,At));At.call(Mt)}}}var _h=new tt.Component().refs;function _c(lt,ct,St,Mt){ct=lt.memoizedState,St=St(Mt,ct),St=St==null?ct:rt({},ct,St),lt.memoizedState=St,lt.lanes===0&&(lt.updateQueue.baseState=St)}var Go={isMounted:function(lt){return(lt=lt._reactInternals)?kt(lt)===lt:!1},enqueueSetState:function(lt,ct,St){lt=lt._reactInternals;var Mt=Br(),At=Ds(lt),Lt=Ms(Mt,At);Lt.payload=ct,St!=null&&(Lt.callback=St),Ls(lt,Lt),ct=rs(lt,At,Mt),ct!==null&&zo(ct,lt,At)},enqueueReplaceState:function(lt,ct,St){lt=lt._reactInternals;var Mt=Br(),At=Ds(lt),Lt=Ms(Mt,At);Lt.tag=1,Lt.payload=ct,St!=null&&(Lt.callback=St),Ls(lt,Lt),ct=rs(lt,At,Mt),ct!==null&&zo(ct,lt,At)},enqueueForceUpdate:function(lt,ct){lt=lt._reactInternals;var St=Br(),Mt=Ds(lt),At=Ms(St,Mt);At.tag=2,ct!=null&&(At.callback=ct),Ls(lt,At),ct=rs(lt,Mt,St),ct!==null&&zo(ct,lt,Mt)}};function _d(lt,ct,St,Mt,At,Lt,jt){return lt=lt.stateNode,typeof lt.shouldComponentUpdate=="function"?lt.shouldComponentUpdate(Mt,Lt,jt):ct.prototype&&ct.prototype.isPureReactComponent?!Bo(St,Mt)||!Bo(At,Lt):!0}function ep(lt,ct,St){var Mt=!1,At=Qr,Lt=ct.contextType;return typeof Lt=="object"&&Lt!==null?Lt=Jr(Lt):(At=zr(ct)?xs:ur.current,Mt=ct.contextTypes,Lt=(Mt=Mt!=null)?Ss(lt,At):Qr),ct=new ct(St,Lt),lt.memoizedState=ct.state!==null&&ct.state!==void 0?ct.state:null,ct.updater=Go,lt.stateNode=ct,ct._reactInternals=lt,Mt&&(lt=lt.stateNode,lt.__reactInternalMemoizedUnmaskedChildContext=At,lt.__reactInternalMemoizedMaskedChildContext=Lt),ct}function tp(lt,ct,St,Mt){lt=ct.state,typeof ct.componentWillReceiveProps=="function"&&ct.componentWillReceiveProps(St,Mt),typeof ct.UNSAFE_componentWillReceiveProps=="function"&&ct.UNSAFE_componentWillReceiveProps(St,Mt),ct.state!==lt&&Go.enqueueReplaceState(ct,ct.state,null)}function eu(lt,ct,St,Mt){var At=lt.stateNode;At.props=St,At.state=lt.memoizedState,At.refs=_h,Jl(lt);var Lt=ct.contextType;typeof Lt=="object"&&Lt!==null?At.context=Jr(Lt):(Lt=zr(ct)?xs:ur.current,At.context=Ss(lt,Lt)),At.state=lt.memoizedState,Lt=ct.getDerivedStateFromProps,typeof Lt=="function"&&(_c(lt,ct,Lt,St),At.state=lt.memoizedState),typeof ct.getDerivedStateFromProps=="function"||typeof At.getSnapshotBeforeUpdate=="function"||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||(ct=At.state,typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount(),ct!==At.state&&Go.enqueueReplaceState(At,At.state,null),$o(lt,St,At,Mt),At.state=lt.memoizedState),typeof At.componentDidMount=="function"&&(lt.flags|=4194308)}var Ks=[],Zs=0,Uo=null,Ho=0,_i=[],es=0,Os=null,ws=1,Es="";function Ns(lt,ct){Ks[Zs++]=Ho,Ks[Zs++]=Uo,Uo=lt,Ho=ct}function np(lt,ct,St){_i[es++]=ws,_i[es++]=Es,_i[es++]=Os,Os=lt;var Mt=ws;lt=Es;var At=32-ls(Mt)-1;Mt&=~(1<<At),St+=1;var Lt=32-ls(ct)+At;if(30<Lt){var jt=At-At%5;Lt=(Mt&(1<<jt)-1).toString(32),Mt>>=jt,At-=jt,ws=1<<32-ls(ct)+At|St<<At|Mt,Es=Lt+lt}else ws=1<<Lt|St<<At|Mt,Es=lt}function tu(lt){lt.return!==null&&(Ns(lt,1),np(lt,1,0))}function nu(lt){for(;lt===Uo;)Uo=Ks[--Zs],Ks[Zs]=null,Ho=Ks[--Zs],Ks[Zs]=null;for(;lt===Os;)Os=_i[--es],_i[es]=null,Es=_i[--es],_i[es]=null,ws=_i[--es],_i[es]=null}var Hr=null,Wr=null,vr=!1,co=!1,us=null;function rp(lt,ct){var St=ss(5,null,null,0);St.elementType="DELETED",St.stateNode=ct,St.return=lt,ct=lt.deletions,ct===null?(lt.deletions=[St],lt.flags|=16):ct.push(St)}function sp(lt,ct){switch(lt.tag){case 5:return ct=qs(ct,lt.type,lt.pendingProps),ct!==null?(lt.stateNode=ct,Hr=lt,Wr=mn(ct),!0):!1;case 6:return ct=Ao(ct,lt.pendingProps),ct!==null?(lt.stateNode=ct,Hr=lt,Wr=null,!0):!1;case 13:if(ct=Nl(ct),ct!==null){var St=Os!==null?{id:ws,overflow:Es}:null;return lt.memoizedState={dehydrated:ct,treeContext:St,retryLane:1073741824},St=ss(18,null,null,0),St.stateNode=ct,St.return=lt,lt.child=St,Hr=lt,Wr=null,!0}return!1;default:return!1}}function ru(lt){return(lt.mode&1)!==0&&(lt.flags&128)===0}function iu(lt){if(vr){var ct=Wr;if(ct){var St=ct;if(!sp(lt,ct)){if(ru(lt))throw Error(it(418));ct=rn(St);var Mt=Hr;ct&&sp(lt,ct)?rp(Mt,St):(lt.flags=lt.flags&-4097|2,vr=!1,Hr=lt)}}else{if(ru(lt))throw Error(it(418));lt.flags=lt.flags&-4097|2,vr=!1,Hr=lt}}}function ap(lt){for(lt=lt.return;lt!==null&&lt.tag!==5&&lt.tag!==3&&lt.tag!==13;)lt=lt.return;Hr=lt}function uo(lt){if(!Yt||lt!==Hr)return!1;if(!vr)return ap(lt),vr=!0,!1;if(lt.tag!==3&&(lt.tag!==5||_s(lt.type)&&!fn(lt.type,lt.memoizedProps))){var ct=Wr;if(ct){if(ru(lt)){for(lt=Wr;lt;)lt=rn(lt);throw Error(it(418))}for(;ct;)rp(lt,ct),ct=rn(ct)}}if(ap(lt),lt.tag===13){if(!Yt)throw Error(it(316));if(lt=lt.memoizedState,lt=lt!==null?lt.dehydrated:null,!lt)throw Error(it(317));Wr=jn(lt)}else Wr=Hr?rn(lt.stateNode):null;return!0}function Qs(){Yt&&(Wr=Hr=null,co=vr=!1)}function su(lt){us===null?us=[lt]:us.push(lt)}function fo(lt,ct,St){if(lt=St.ref,lt!==null&&typeof lt!="function"&&typeof lt!="object"){if(St._owner){if(St=St._owner,St){if(St.tag!==1)throw Error(it(309));var Mt=St.stateNode}if(!Mt)throw Error(it(147,lt));var At=Mt,Lt=""+lt;return ct!==null&&ct.ref!==null&&typeof ct.ref=="function"&&ct.ref._stringRef===Lt?ct.ref:(ct=function(jt){var Qt=At.refs;Qt===_h&&(Qt=At.refs={}),jt===null?delete Qt[Lt]:Qt[Lt]=jt},ct._stringRef=Lt,ct)}if(typeof lt!="string")throw Error(it(284));if(!St._owner)throw Error(it(290,lt))}return lt}function Wo(lt,ct){throw lt=Object.prototype.toString.call(ct),Error(it(31,lt==="[object Object]"?"object with keys {"+Object.keys(ct).join(", ")+"}":lt))}function lp(lt){var ct=lt._init;return ct(lt._payload)}function cp(lt){function ct(sn,Jt){if(lt){var an=sn.deletions;an===null?(sn.deletions=[Jt],sn.flags|=16):an.push(Jt)}}function St(sn,Jt){if(!lt)return null;for(;Jt!==null;)ct(sn,Jt),Jt=Jt.sibling;return null}function Mt(sn,Jt){for(sn=new Map;Jt!==null;)Jt.key!==null?sn.set(Jt.key,Jt):sn.set(Jt.index,Jt),Jt=Jt.sibling;return sn}function At(sn,Jt){return sn=Vs(sn,Jt),sn.index=0,sn.sibling=null,sn}function Lt(sn,Jt,an){return sn.index=an,lt?(an=sn.alternate,an!==null?(an=an.index,an<Jt?(sn.flags|=2,Jt):an):(sn.flags|=2,Jt)):(sn.flags|=1048576,Jt)}function jt(sn){return lt&&sn.alternate===null&&(sn.flags|=2),sn}function Qt(sn,Jt,an,An){return Jt===null||Jt.tag!==6?(Jt=Gu(an,sn.mode,An),Jt.return=sn,Jt):(Jt=At(Jt,an),Jt.return=sn,Jt)}function un(sn,Jt,an,An){var On=an.type;return On===ut?Dn(sn,Jt,an.props.children,An,an.key):Jt!==null&&(Jt.elementType===On||typeof On=="object"&&On!==null&&On.$$typeof===yt&&lp(On)===Jt.type)?(An=At(Jt,an.props),An.ref=fo(sn,Jt,an),An.return=sn,An):(An=Bl(an.type,an.key,an.props,null,sn.mode,An),An.ref=fo(sn,Jt,an),An.return=sn,An)}function Mn(sn,Jt,an,An){return Jt===null||Jt.tag!==4||Jt.stateNode.containerInfo!==an.containerInfo||Jt.stateNode.implementation!==an.implementation?(Jt=Uu(an,sn.mode,An),Jt.return=sn,Jt):(Jt=At(Jt,an.children||[]),Jt.return=sn,Jt)}function Dn(sn,Jt,an,An,On){return Jt===null||Jt.tag!==7?(Jt=js(an,sn.mode,An,On),Jt.return=sn,Jt):(Jt=At(Jt,an),Jt.return=sn,Jt)}function qn(sn,Jt,an){if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number")return Jt=Gu(""+Jt,sn.mode,an),Jt.return=sn,Jt;if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case ot:return an=Bl(Jt.type,Jt.key,Jt.props,null,sn.mode,an),an.ref=fo(sn,null,Jt),an.return=sn,an;case at:return Jt=Uu(Jt,sn.mode,an),Jt.return=sn,Jt;case yt:var An=Jt._init;return qn(sn,An(Jt._payload),an)}if($t(Jt)||wt(Jt))return Jt=js(Jt,sn.mode,an,null),Jt.return=sn,Jt;Wo(sn,Jt)}return null}function Un(sn,Jt,an,An){var On=Jt!==null?Jt.key:null;if(typeof an=="string"&&an!==""||typeof an=="number")return On!==null?null:Qt(sn,Jt,""+an,An);if(typeof an=="object"&&an!==null){switch(an.$$typeof){case ot:return an.key===On?un(sn,Jt,an,An):null;case at:return an.key===On?Mn(sn,Jt,an,An):null;case yt:return On=an._init,Un(sn,Jt,On(an._payload),An)}if($t(an)||wt(an))return On!==null?null:Dn(sn,Jt,an,An,null);Wo(sn,an)}return null}function hr(sn,Jt,an,An,On){if(typeof An=="string"&&An!==""||typeof An=="number")return sn=sn.get(an)||null,Qt(Jt,sn,""+An,On);if(typeof An=="object"&&An!==null){switch(An.$$typeof){case ot:return sn=sn.get(An.key===null?an:An.key)||null,un(Jt,sn,An,On);case at:return sn=sn.get(An.key===null?an:An.key)||null,Mn(Jt,sn,An,On);case yt:var Qn=An._init;return hr(sn,Jt,an,Qn(An._payload),On)}if($t(An)||wt(An))return sn=sn.get(an)||null,Dn(Jt,sn,An,On,null);Wo(Jt,An)}return null}function zn(sn,Jt,an,An){for(var On=null,Qn=null,Xn=Jt,lr=Jt=0,Pr=null;Xn!==null&&lr<an.length;lr++){Xn.index>lr?(Pr=Xn,Xn=null):Pr=Xn.sibling;var cr=Un(sn,Xn,an[lr],An);if(cr===null){Xn===null&&(Xn=Pr);break}lt&&Xn&&cr.alternate===null&&ct(sn,Xn),Jt=Lt(cr,Jt,lr),Qn===null?On=cr:Qn.sibling=cr,Qn=cr,Xn=Pr}if(lr===an.length)return St(sn,Xn),vr&&Ns(sn,lr),On;if(Xn===null){for(;lr<an.length;lr++)Xn=qn(sn,an[lr],An),Xn!==null&&(Jt=Lt(Xn,Jt,lr),Qn===null?On=Xn:Qn.sibling=Xn,Qn=Xn);return vr&&Ns(sn,lr),On}for(Xn=Mt(sn,Xn);lr<an.length;lr++)Pr=hr(Xn,sn,lr,an[lr],An),Pr!==null&&(lt&&Pr.alternate!==null&&Xn.delete(Pr.key===null?lr:Pr.key),Jt=Lt(Pr,Jt,lr),Qn===null?On=Pr:Qn.sibling=Pr,Qn=Pr);return lt&&Xn.forEach(function(Bs){return ct(sn,Bs)}),vr&&Ns(sn,lr),On}function Dr(sn,Jt,an,An){var On=wt(an);if(typeof On!="function")throw Error(it(150));if(an=On.call(an),an==null)throw Error(it(151));for(var Qn=On=null,Xn=Jt,lr=Jt=0,Pr=null,cr=an.next();Xn!==null&&!cr.done;lr++,cr=an.next()){Xn.index>lr?(Pr=Xn,Xn=null):Pr=Xn.sibling;var Bs=Un(sn,Xn,cr.value,An);if(Bs===null){Xn===null&&(Xn=Pr);break}lt&&Xn&&Bs.alternate===null&&ct(sn,Xn),Jt=Lt(Bs,Jt,lr),Qn===null?On=Bs:Qn.sibling=Bs,Qn=Bs,Xn=Pr}if(cr.done)return St(sn,Xn),vr&&Ns(sn,lr),On;if(Xn===null){for(;!cr.done;lr++,cr=an.next())cr=qn(sn,cr.value,An),cr!==null&&(Jt=Lt(cr,Jt,lr),Qn===null?On=cr:Qn.sibling=cr,Qn=cr);return vr&&Ns(sn,lr),On}for(Xn=Mt(sn,Xn);!cr.done;lr++,cr=an.next())cr=hr(Xn,sn,lr,cr.value,An),cr!==null&&(lt&&cr.alternate!==null&&Xn.delete(cr.key===null?lr:cr.key),Jt=Lt(cr,Jt,lr),Qn===null?On=cr:Qn.sibling=cr,Qn=cr);return lt&&Xn.forEach(function(m0){return ct(sn,m0)}),vr&&Ns(sn,lr),On}function os(sn,Jt,an,An){if(typeof an=="object"&&an!==null&&an.type===ut&&an.key===null&&(an=an.props.children),typeof an=="object"&&an!==null){switch(an.$$typeof){case ot:e:{for(var On=an.key,Qn=Jt;Qn!==null;){if(Qn.key===On){if(On=an.type,On===ut){if(Qn.tag===7){St(sn,Qn.sibling),Jt=At(Qn,an.props.children),Jt.return=sn,sn=Jt;break e}}else if(Qn.elementType===On||typeof On=="object"&&On!==null&&On.$$typeof===yt&&lp(On)===Qn.type){St(sn,Qn.sibling),Jt=At(Qn,an.props),Jt.ref=fo(sn,Qn,an),Jt.return=sn,sn=Jt;break e}St(sn,Qn);break}else ct(sn,Qn);Qn=Qn.sibling}an.type===ut?(Jt=js(an.props.children,sn.mode,An,an.key),Jt.return=sn,sn=Jt):(An=Bl(an.type,an.key,an.props,null,sn.mode,An),An.ref=fo(sn,Jt,an),An.return=sn,sn=An)}return jt(sn);case at:e:{for(Qn=an.key;Jt!==null;){if(Jt.key===Qn)if(Jt.tag===4&&Jt.stateNode.containerInfo===an.containerInfo&&Jt.stateNode.implementation===an.implementation){St(sn,Jt.sibling),Jt=At(Jt,an.children||[]),Jt.return=sn,sn=Jt;break e}else{St(sn,Jt);break}else ct(sn,Jt);Jt=Jt.sibling}Jt=Uu(an,sn.mode,An),Jt.return=sn,sn=Jt}return jt(sn);case yt:return Qn=an._init,os(sn,Jt,Qn(an._payload),An)}if($t(an))return zn(sn,Jt,an,An);if(wt(an))return Dr(sn,Jt,an,An);Wo(sn,an)}return typeof an=="string"&&an!==""||typeof an=="number"?(an=""+an,Jt!==null&&Jt.tag===6?(St(sn,Jt.sibling),Jt=At(Jt,an),Jt.return=sn,sn=Jt):(St(sn,Jt),Jt=Gu(an,sn.mode,An),Jt.return=sn,sn=Jt),jt(sn)):St(sn,Jt)}return os}var Js=cp(!0),up=cp(!1),ho={},ts=Zr(ho),po=Zr(ho),eo=Zr(ho);function gs(lt){if(lt===ho)throw Error(it(174));return lt}function ou(lt,ct){ir(eo,ct),ir(po,lt),ir(ts,ho),lt=It(ct),Kn(ts),ir(ts,lt)}function to(){Kn(ts),Kn(po),Kn(eo)}function fp(lt){var ct=gs(eo.current),St=gs(ts.current);ct=Tt(St,lt.type,ct),St!==ct&&(ir(po,lt),ir(ts,ct))}function au(lt){po.current===lt&&(Kn(ts),Kn(po))}var _r=Zr(0);function jo(lt){for(var ct=lt;ct!==null;){if(ct.tag===13){var St=ct.memoizedState;if(St!==null&&(St=St.dehydrated,St===null||Po(St)||oo(St)))return ct}else if(ct.tag===19&&ct.memoizedProps.revealOrder!==void 0){if((ct.flags&128)!==0)return ct}else if(ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===lt)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===lt)return null;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}return null}var lu=[];function cu(){for(var lt=0;lt<lu.length;lt++){var ct=lu[lt];cn?ct._workInProgressVersionPrimary=null:ct._workInProgressVersionSecondary=null}lu.length=0}var qo=st.ReactCurrentDispatcher,ns=st.ReactCurrentBatchConfig,no=0,xr=null,Lr=null,Ar=null,Xo=!1,mo=!1,go=0,zm=0;function Rr(){throw Error(it(321))}function uu(lt,ct){if(ct===null)return!1;for(var St=0;St<ct.length&&St<lt.length;St++)if(!ds(lt[St],ct[St]))return!1;return!0}function fu(lt,ct,St,Mt,At,Lt){if(no=Lt,xr=ct,ct.memoizedState=null,ct.updateQueue=null,ct.lanes=0,qo.current=lt===null||lt.memoizedState===null?Hm:Wm,lt=St(Mt,At),mo){Lt=0;do{if(mo=!1,go=0,25<=Lt)throw Error(it(301));Lt+=1,Ar=Lr=null,ct.updateQueue=null,qo.current=jm,lt=St(Mt,At)}while(mo)}if(qo.current=Jo,ct=Lr!==null&&Lr.next!==null,no=0,Ar=Lr=xr=null,Xo=!1,ct)throw Error(it(300));return lt}function hu(){var lt=go!==0;return go=0,lt}function Ts(){var lt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?xr.memoizedState=Ar=lt:Ar=Ar.next=lt,Ar}function vs(){if(Lr===null){var lt=xr.alternate;lt=lt!==null?lt.memoizedState:null}else lt=Lr.next;var ct=Ar===null?xr.memoizedState:Ar.next;if(ct!==null)Ar=ct,Lr=lt;else{if(lt===null)throw Error(it(310));Lr=lt,lt={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Ar===null?xr.memoizedState=Ar=lt:Ar=Ar.next=lt}return Ar}function zs(lt,ct){return typeof ct=="function"?ct(lt):ct}function Yo(lt){var ct=vs(),St=ct.queue;if(St===null)throw Error(it(311));St.lastRenderedReducer=lt;var Mt=Lr,At=Mt.baseQueue,Lt=St.pending;if(Lt!==null){if(At!==null){var jt=At.next;At.next=Lt.next,Lt.next=jt}Mt.baseQueue=At=Lt,St.pending=null}if(At!==null){Lt=At.next,Mt=Mt.baseState;var Qt=jt=null,un=null,Mn=Lt;do{var Dn=Mn.lane;if((no&Dn)===Dn)un!==null&&(un=un.next={lane:0,action:Mn.action,hasEagerState:Mn.hasEagerState,eagerState:Mn.eagerState,next:null}),Mt=Mn.hasEagerState?Mn.eagerState:lt(Mt,Mn.action);else{var qn={lane:Dn,action:Mn.action,hasEagerState:Mn.hasEagerState,eagerState:Mn.eagerState,next:null};un===null?(Qt=un=qn,jt=Mt):un=un.next=qn,xr.lanes|=Dn,io|=Dn}Mn=Mn.next}while(Mn!==null&&Mn!==Lt);un===null?jt=Mt:un.next=Qt,ds(Mt,ct.memoizedState)||(jr=!0),ct.memoizedState=Mt,ct.baseState=jt,ct.baseQueue=un,St.lastRenderedState=Mt}if(lt=St.interleaved,lt!==null){At=lt;do Lt=At.lane,xr.lanes|=Lt,io|=Lt,At=At.next;while(At!==lt)}else At===null&&(St.lanes=0);return[ct.memoizedState,St.dispatch]}function Ko(lt){var ct=vs(),St=ct.queue;if(St===null)throw Error(it(311));St.lastRenderedReducer=lt;var Mt=St.dispatch,At=St.pending,Lt=ct.memoizedState;if(At!==null){St.pending=null;var jt=At=At.next;do Lt=lt(Lt,jt.action),jt=jt.next;while(jt!==At);ds(Lt,ct.memoizedState)||(jr=!0),ct.memoizedState=Lt,ct.baseQueue===null&&(ct.baseState=Lt),St.lastRenderedState=Lt}return[Lt,Mt]}function hp(){}function dp(lt,ct){var St=xr,Mt=vs(),At=ct(),Lt=!ds(Mt.memoizedState,At);if(Lt&&(Mt.memoizedState=At,jr=!0),Mt=Mt.queue,yo(gp.bind(null,St,Mt,lt),[lt]),Mt.getSnapshot!==ct||Lt||Ar!==null&&Ar.memoizedState.tag&1){if(St.flags|=2048,vo(9,mp.bind(null,St,Mt,At,ct),void 0,null),Mr===null)throw Error(it(349));(no&30)!==0||pp(St,ct,At)}return At}function pp(lt,ct,St){lt.flags|=16384,lt={getSnapshot:ct,value:St},ct=xr.updateQueue,ct===null?(ct={lastEffect:null,stores:null},xr.updateQueue=ct,ct.stores=[lt]):(St=ct.stores,St===null?ct.stores=[lt]:St.push(lt))}function mp(lt,ct,St,Mt){ct.value=St,ct.getSnapshot=Mt,vp(ct)&&rs(lt,1,-1)}function gp(lt,ct,St){return St(function(){vp(ct)&&rs(lt,1,-1)})}function vp(lt){var ct=lt.getSnapshot;lt=lt.value;try{var St=ct();return!ds(lt,St)}catch{return!0}}function du(lt){var ct=Ts();return typeof lt=="function"&&(lt=lt()),ct.memoizedState=ct.baseState=lt,lt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:lt},ct.queue=lt,lt=lt.dispatch=Um.bind(null,xr,lt),[ct.memoizedState,lt]}function vo(lt,ct,St,Mt){return lt={tag:lt,create:ct,destroy:St,deps:Mt,next:null},ct=xr.updateQueue,ct===null?(ct={lastEffect:null,stores:null},xr.updateQueue=ct,ct.lastEffect=lt.next=lt):(St=ct.lastEffect,St===null?ct.lastEffect=lt.next=lt:(Mt=St.next,St.next=lt,lt.next=Mt,ct.lastEffect=lt)),lt}function yp(){return vs().memoizedState}function Zo(lt,ct,St,Mt){var At=Ts();xr.flags|=lt,At.memoizedState=vo(1|ct,St,void 0,Mt===void 0?null:Mt)}function Qo(lt,ct,St,Mt){var At=vs();Mt=Mt===void 0?null:Mt;var Lt=void 0;if(Lr!==null){var jt=Lr.memoizedState;if(Lt=jt.destroy,Mt!==null&&uu(Mt,jt.deps)){At.memoizedState=vo(ct,St,Lt,Mt);return}}xr.flags|=lt,At.memoizedState=vo(1|ct,St,Lt,Mt)}function pu(lt,ct){return Zo(8390656,8,lt,ct)}function yo(lt,ct){return Qo(2048,8,lt,ct)}function _p(lt,ct){return Qo(4,2,lt,ct)}function xp(lt,ct){return Qo(4,4,lt,ct)}function Sp(lt,ct){if(typeof ct=="function")return lt=lt(),ct(lt),function(){ct(null)};if(ct!=null)return lt=lt(),ct.current=lt,function(){ct.current=null}}function bp(lt,ct,St){return St=St!=null?St.concat([lt]):null,Qo(4,4,Sp.bind(null,ct,lt),St)}function mu(){}function Mp(lt,ct){var St=vs();ct=ct===void 0?null:ct;var Mt=St.memoizedState;return Mt!==null&&ct!==null&&uu(ct,Mt[1])?Mt[0]:(St.memoizedState=[lt,ct],lt)}function wp(lt,ct){var St=vs();ct=ct===void 0?null:ct;var Mt=St.memoizedState;return Mt!==null&&ct!==null&&uu(ct,Mt[1])?Mt[0]:(lt=lt(),St.memoizedState=[lt,ct],lt)}function $m(lt,ct){var St=ar;ar=St!==0&&4>St?St:4,lt(!0);var Mt=ns.transition;ns.transition={};try{lt(!1),ct()}finally{ar=St,ns.transition=Mt}}function Ep(){return vs().memoizedState}function Gm(lt,ct,St){var Mt=Ds(lt);St={lane:Mt,action:St,hasEagerState:!1,eagerState:null,next:null},Tp(lt)?Cp(ct,St):(Ap(lt,ct,St),St=Br(),lt=rs(lt,Mt,St),lt!==null&&Pp(lt,ct,Mt))}function Um(lt,ct,St){var Mt=Ds(lt),At={lane:Mt,action:St,hasEagerState:!1,eagerState:null,next:null};if(Tp(lt))Cp(ct,At);else{Ap(lt,ct,At);var Lt=lt.alternate;if(lt.lanes===0&&(Lt===null||Lt.lanes===0)&&(Lt=ct.lastRenderedReducer,Lt!==null))try{var jt=ct.lastRenderedState,Qt=Lt(jt,St);if(At.hasEagerState=!0,At.eagerState=Qt,ds(Qt,jt))return}catch{}finally{}St=Br(),lt=rs(lt,Mt,St),lt!==null&&Pp(lt,ct,Mt)}}function Tp(lt){var ct=lt.alternate;return lt===xr||ct!==null&&ct===xr}function Cp(lt,ct){mo=Xo=!0;var St=lt.pending;St===null?ct.next=ct:(ct.next=St.next,St.next=ct),lt.pending=ct}function Ap(lt,ct,St){Mr!==null&&(lt.mode&1)!==0&&(Jn&2)===0?(lt=ct.interleaved,lt===null?(St.next=St,ms===null?ms=[ct]:ms.push(ct)):(St.next=lt.next,lt.next=St),ct.interleaved=St):(lt=ct.pending,lt===null?St.next=St:(St.next=lt.next,lt.next=St),ct.pending=St)}function Pp(lt,ct,St){if((St&4194240)!==0){var Mt=ct.lanes;Mt&=lt.pendingLanes,St|=Mt,ct.lanes=St,Gl(lt,St)}}var Jo={readContext:Jr,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},Hm={readContext:Jr,useCallback:function(lt,ct){return Ts().memoizedState=[lt,ct===void 0?null:ct],lt},useContext:Jr,useEffect:pu,useImperativeHandle:function(lt,ct,St){return St=St!=null?St.concat([lt]):null,Zo(4194308,4,Sp.bind(null,ct,lt),St)},useLayoutEffect:function(lt,ct){return Zo(4194308,4,lt,ct)},useInsertionEffect:function(lt,ct){return Zo(4,2,lt,ct)},useMemo:function(lt,ct){var St=Ts();return ct=ct===void 0?null:ct,lt=lt(),St.memoizedState=[lt,ct],lt},useReducer:function(lt,ct,St){var Mt=Ts();return ct=St!==void 0?St(ct):ct,Mt.memoizedState=Mt.baseState=ct,lt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lt,lastRenderedState:ct},Mt.queue=lt,lt=lt.dispatch=Gm.bind(null,xr,lt),[Mt.memoizedState,lt]},useRef:function(lt){var ct=Ts();return lt={current:lt},ct.memoizedState=lt},useState:du,useDebugValue:mu,useDeferredValue:function(lt){var ct=du(lt),St=ct[0],Mt=ct[1];return pu(function(){var At=ns.transition;ns.transition={};try{Mt(lt)}finally{ns.transition=At}},[lt]),St},useTransition:function(){var lt=du(!1),ct=lt[0];return lt=$m.bind(null,lt[1]),Ts().memoizedState=lt,[ct,lt]},useMutableSource:function(){},useSyncExternalStore:function(lt,ct,St){var Mt=xr,At=Ts();if(vr){if(St===void 0)throw Error(it(407));St=St()}else{if(St=ct(),Mr===null)throw Error(it(349));(no&30)!==0||pp(Mt,ct,St)}At.memoizedState=St;var Lt={value:St,getSnapshot:ct};return At.queue=Lt,pu(gp.bind(null,Mt,Lt,lt),[lt]),Mt.flags|=2048,vo(9,mp.bind(null,Mt,Lt,St,ct),void 0,null),St},useId:function(){var lt=Ts(),ct=Mr.identifierPrefix;if(vr){var St=Es,Mt=ws;St=(Mt&~(1<<32-ls(Mt)-1)).toString(32)+St,ct=":"+ct+"R"+St,St=go++,0<St&&(ct+="H"+St.toString(32)),ct+=":"}else St=zm++,ct=":"+ct+"r"+St.toString(32)+":";return lt.memoizedState=ct},unstable_isNewReconciler:!1},Wm={readContext:Jr,useCallback:Mp,useContext:Jr,useEffect:yo,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:wp,useReducer:Yo,useRef:yp,useState:function(){return Yo(zs)},useDebugValue:mu,useDeferredValue:function(lt){var ct=Yo(zs),St=ct[0],Mt=ct[1];return yo(function(){var At=ns.transition;ns.transition={};try{Mt(lt)}finally{ns.transition=At}},[lt]),St},useTransition:function(){var lt=Yo(zs)[0],ct=vs().memoizedState;return[lt,ct]},useMutableSource:hp,useSyncExternalStore:dp,useId:Ep,unstable_isNewReconciler:!1},jm={readContext:Jr,useCallback:Mp,useContext:Jr,useEffect:yo,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:wp,useReducer:Ko,useRef:yp,useState:function(){return Ko(zs)},useDebugValue:mu,useDeferredValue:function(lt){var ct=Ko(zs),St=ct[0],Mt=ct[1];return yo(function(){var At=ns.transition;ns.transition={};try{Mt(lt)}finally{ns.transition=At}},[lt]),St},useTransition:function(){var lt=Ko(zs)[0],ct=vs().memoizedState;return[lt,ct]},useMutableSource:hp,useSyncExternalStore:dp,useId:Ep,unstable_isNewReconciler:!1};function gu(lt,ct){try{var St="",Mt=ct;do St+=Nm(Mt),Mt=Mt.return;while(Mt);var At=St}catch(Lt){At=`
Error generating stack: `+Lt.message+`
`+Lt.stack}return{value:lt,source:ct,stack:At}}function vu(lt,ct){try{console.error(ct.value)}catch(St){setTimeout(function(){throw St})}}var qm=typeof WeakMap=="function"?WeakMap:Map;function kp(lt,ct,St){St=Ms(-1,St),St.tag=3,St.payload={element:null};var Mt=ct.value;return St.callback=function(){Pl||(Pl=!0,Fu=Mt),vu(lt,ct)},St}function Lp(lt,ct,St){St=Ms(-1,St),St.tag=3;var Mt=lt.type.getDerivedStateFromError;if(typeof Mt=="function"){var At=ct.value;St.payload=function(){return Mt(At)},St.callback=function(){vu(lt,ct)}}var Lt=lt.stateNode;return Lt!==null&&typeof Lt.componentDidCatch=="function"&&(St.callback=function(){vu(lt,ct),typeof Mt!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var jt=ct.stack;this.componentDidCatch(ct.value,{componentStack:jt!==null?jt:""})}),St}function Rp(lt,ct,St){var Mt=lt.pingCache;if(Mt===null){Mt=lt.pingCache=new qm;var At=new Set;Mt.set(ct,At)}else At=Mt.get(ct),At===void 0&&(At=new Set,Mt.set(ct,At));At.has(St)||(At.add(St),lt=a0.bind(null,lt,ct,St),ct.then(lt,lt))}function Ip(lt){do{var ct;if((ct=lt.tag===13)&&(ct=lt.memoizedState,ct=ct!==null?ct.dehydrated!==null:!0),ct)return lt;lt=lt.return}while(lt!==null);return null}function Dp(lt,ct,St,Mt,At){return(lt.mode&1)===0?(lt===ct?lt.flags|=65536:(lt.flags|=128,St.flags|=131072,St.flags&=-52805,St.tag===1&&(St.alternate===null?St.tag=17:(ct=Ms(-1,1),ct.tag=2,Ls(St,ct))),St.lanes|=1),lt):(lt.flags|=65536,lt.lanes=At,lt)}function ys(lt){lt.flags|=4}function Fp(lt,ct){if(lt!==null&&lt.child===ct.child)return!0;if((ct.flags&16)!==0)return!1;for(lt=ct.child;lt!==null;){if((lt.flags&12854)!==0||(lt.subtreeFlags&12854)!==0)return!1;lt=lt.sibling}return!0}var _o,xo,na,ga;if(xn)_o=function(lt,ct){for(var St=ct.child;St!==null;){if(St.tag===5||St.tag===6)Ot(lt,St.stateNode);else if(St.tag!==4&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===ct)break;for(;St.sibling===null;){if(St.return===null||St.return===ct)return;St=St.return}St.sibling.return=St.return,St=St.sibling}},xo=function(){},na=function(lt,ct,St,Mt,At){if(lt=lt.memoizedProps,lt!==Mt){var Lt=ct.stateNode,jt=gs(ts.current);St=Kt(Lt,St,lt,Mt,At,jt),(ct.updateQueue=St)&&ys(ct)}},ga=function(lt,ct,St,Mt){St!==Mt&&ys(ct)};else if(tn){_o=function(lt,ct,St,Mt){for(var At=ct.child;At!==null;){if(At.tag===5){var Lt=At.stateNode;St&&Mt&&(Lt=Fr(Lt,At.type,At.memoizedProps,At)),Ot(lt,Lt)}else if(At.tag===6)Lt=At.stateNode,St&&Mt&&(Lt=Co(Lt,At.memoizedProps,At)),Ot(lt,Lt);else if(At.tag!==4){if(At.tag===22&&At.memoizedState!==null)Lt=At.child,Lt!==null&&(Lt.return=At),_o(lt,At,!0,!0);else if(At.child!==null){At.child.return=At,At=At.child;continue}}if(At===ct)break;for(;At.sibling===null;){if(At.return===null||At.return===ct)return;At=At.return}At.sibling.return=At.return,At=At.sibling}};var Vp=function(lt,ct,St,Mt){for(var At=ct.child;At!==null;){if(At.tag===5){var Lt=At.stateNode;St&&Mt&&(Lt=Fr(Lt,At.type,At.memoizedProps,At)),as(lt,Lt)}else if(At.tag===6)Lt=At.stateNode,St&&Mt&&(Lt=Co(Lt,At.memoizedProps,At)),as(lt,Lt);else if(At.tag!==4){if(At.tag===22&&At.memoizedState!==null)Lt=At.child,Lt!==null&&(Lt.return=At),Vp(lt,At,!0,!0);else if(At.child!==null){At.child.return=At,At=At.child;continue}}if(At===ct)break;for(;At.sibling===null;){if(At.return===null||At.return===ct)return;At=At.return}At.sibling.return=At.return,At=At.sibling}};xo=function(lt,ct){var St=ct.stateNode;if(!Fp(lt,ct)){lt=St.containerInfo;var Mt=dr(lt);Vp(Mt,ct,!1,!1),St.pendingChildren=Mt,ys(ct),pr(lt,Mt)}},na=function(lt,ct,St,Mt,At){var Lt=lt.stateNode,jt=lt.memoizedProps;if((lt=Fp(lt,ct))&&jt===Mt)ct.stateNode=Lt;else{var Qt=ct.stateNode,un=gs(ts.current),Mn=null;jt!==Mt&&(Mn=Kt(Qt,St,jt,Mt,At,un)),lt&&Mn===null?ct.stateNode=Lt:(Lt=br(Lt,Mn,St,jt,Mt,ct,lt,Qt),Xt(Lt,St,Mt,At,un)&&ys(ct),ct.stateNode=Lt,lt?ys(ct):_o(Lt,ct,!1,!1))}},ga=function(lt,ct,St,Mt){St!==Mt?(lt=gs(eo.current),St=gs(ts.current),ct.stateNode=Nt(Mt,lt,St,ct),ys(ct)):ct.stateNode=lt.stateNode}}else xo=function(){},na=function(){},ga=function(){};function So(lt,ct){if(!vr)switch(lt.tailMode){case"hidden":ct=lt.tail;for(var St=null;ct!==null;)ct.alternate!==null&&(St=ct),ct=ct.sibling;St===null?lt.tail=null:St.sibling=null;break;case"collapsed":St=lt.tail;for(var Mt=null;St!==null;)St.alternate!==null&&(Mt=St),St=St.sibling;Mt===null?ct||lt.tail===null?lt.tail=null:lt.tail.sibling=null:Mt.sibling=null}}function Ir(lt){var ct=lt.alternate!==null&&lt.alternate.child===lt.child,St=0,Mt=0;if(ct)for(var At=lt.child;At!==null;)St|=At.lanes|At.childLanes,Mt|=At.subtreeFlags&14680064,Mt|=At.flags&14680064,At.return=lt,At=At.sibling;else for(At=lt.child;At!==null;)St|=At.lanes|At.childLanes,Mt|=At.subtreeFlags,Mt|=At.flags,At.return=lt,At=At.sibling;return lt.subtreeFlags|=Mt,lt.childLanes=St,ct}function Xm(lt,ct,St){var Mt=ct.pendingProps;switch(nu(ct),ct.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(ct),null;case 1:return zr(ct.type)&&ko(),Ir(ct),null;case 3:return Mt=ct.stateNode,to(),Kn(Tr),Kn(ur),cu(),Mt.pendingContext&&(Mt.context=Mt.pendingContext,Mt.pendingContext=null),(lt===null||lt.child===null)&&(uo(ct)?ys(ct):lt===null||lt.memoizedState.isDehydrated&&(ct.flags&256)===0||(ct.flags|=1024,us!==null&&(Ou(us),us=null))),xo(lt,ct),Ir(ct),null;case 5:au(ct),St=gs(eo.current);var At=ct.type;if(lt!==null&&ct.stateNode!=null)na(lt,ct,At,Mt,St),lt.ref!==ct.ref&&(ct.flags|=512,ct.flags|=2097152);else{if(!Mt){if(ct.stateNode===null)throw Error(it(166));return Ir(ct),null}if(lt=gs(ts.current),uo(ct)){if(!Yt)throw Error(it(175));lt=Gn(ct.stateNode,ct.type,ct.memoizedProps,St,lt,ct,!co),ct.updateQueue=lt,lt!==null&&ys(ct)}else{var Lt=Vt(At,Mt,St,lt,ct);_o(Lt,ct,!1,!1),ct.stateNode=Lt,Xt(Lt,At,Mt,St,lt)&&ys(ct)}ct.ref!==null&&(ct.flags|=512,ct.flags|=2097152)}return Ir(ct),null;case 6:if(lt&&ct.stateNode!=null)ga(lt,ct,lt.memoizedProps,Mt);else{if(typeof Mt!="string"&&ct.stateNode===null)throw Error(it(166));if(lt=gs(eo.current),St=gs(ts.current),uo(ct)){if(!Yt)throw Error(it(176));if(lt=ct.stateNode,Mt=ct.memoizedProps,(St=Wn(lt,Mt,ct,!co))&&(At=Hr,At!==null))switch(Lt=(At.mode&1)!==0,At.tag){case 3:As(At.stateNode.containerInfo,lt,Mt,Lt);break;case 5:Ps(At.type,At.memoizedProps,At.stateNode,lt,Mt,Lt)}St&&ys(ct)}else ct.stateNode=Nt(Mt,lt,St,ct)}return Ir(ct),null;case 13:if(Kn(_r),Mt=ct.memoizedState,vr&&Wr!==null&&(ct.mode&1)!==0&&(ct.flags&128)===0){for(lt=Wr;lt;)lt=rn(lt);return Qs(),ct.flags|=98560,ct}if(Mt!==null&&Mt.dehydrated!==null){if(Mt=uo(ct),lt===null){if(!Mt)throw Error(it(318));if(!Yt)throw Error(it(344));if(lt=ct.memoizedState,lt=lt!==null?lt.dehydrated:null,!lt)throw Error(it(317));Zn(lt,ct)}else Qs(),(ct.flags&128)===0&&(ct.memoizedState=null),ct.flags|=4;return Ir(ct),null}return us!==null&&(Ou(us),us=null),(ct.flags&128)!==0?(ct.lanes=St,ct):(Mt=Mt!==null,St=!1,lt===null?uo(ct):St=lt.memoizedState!==null,Mt&&!St&&(ct.child.flags|=8192,(ct.mode&1)!==0&&(lt===null||(_r.current&1)!==0?Er===0&&(Er=3):zu())),ct.updateQueue!==null&&(ct.flags|=4),Ir(ct),null);case 4:return to(),xo(lt,ct),lt===null&&yn(ct.stateNode.containerInfo),Ir(ct),null;case 10:return Zl(ct.type._context),Ir(ct),null;case 17:return zr(ct.type)&&ko(),Ir(ct),null;case 19:if(Kn(_r),At=ct.memoizedState,At===null)return Ir(ct),null;if(Mt=(ct.flags&128)!==0,Lt=At.rendering,Lt===null)if(Mt)So(At,!1);else{if(Er!==0||lt!==null&&(lt.flags&128)!==0)for(lt=ct.child;lt!==null;){if(Lt=jo(lt),Lt!==null){for(ct.flags|=128,So(At,!1),lt=Lt.updateQueue,lt!==null&&(ct.updateQueue=lt,ct.flags|=4),ct.subtreeFlags=0,lt=St,Mt=ct.child;Mt!==null;)St=Mt,At=lt,St.flags&=14680066,Lt=St.alternate,Lt===null?(St.childLanes=0,St.lanes=At,St.child=null,St.subtreeFlags=0,St.memoizedProps=null,St.memoizedState=null,St.updateQueue=null,St.dependencies=null,St.stateNode=null):(St.childLanes=Lt.childLanes,St.lanes=Lt.lanes,St.child=Lt.child,St.subtreeFlags=0,St.deletions=null,St.memoizedProps=Lt.memoizedProps,St.memoizedState=Lt.memoizedState,St.updateQueue=Lt.updateQueue,St.type=Lt.type,At=Lt.dependencies,St.dependencies=At===null?null:{lanes:At.lanes,firstContext:At.firstContext}),Mt=Mt.sibling;return ir(_r,_r.current&1|2),ct.child}lt=lt.sibling}At.tail!==null&&Cr()>Du&&(ct.flags|=128,Mt=!0,So(At,!1),ct.lanes=4194304)}else{if(!Mt)if(lt=jo(Lt),lt!==null){if(ct.flags|=128,Mt=!0,lt=lt.updateQueue,lt!==null&&(ct.updateQueue=lt,ct.flags|=4),So(At,!0),At.tail===null&&At.tailMode==="hidden"&&!Lt.alternate&&!vr)return Ir(ct),null}else 2*Cr()-At.renderingStartTime>Du&&St!==1073741824&&(ct.flags|=128,Mt=!0,So(At,!1),ct.lanes=4194304);At.isBackwards?(Lt.sibling=ct.child,ct.child=Lt):(lt=At.last,lt!==null?lt.sibling=Lt:ct.child=Lt,At.last=Lt)}return At.tail!==null?(ct=At.tail,At.rendering=ct,At.tail=ct.sibling,At.renderingStartTime=Cr(),ct.sibling=null,lt=_r.current,ir(_r,Mt?lt&1|2:lt&1),ct):(Ir(ct),null);case 22:case 23:return Nu(),Mt=ct.memoizedState!==null,lt!==null&&lt.memoizedState!==null!==Mt&&(ct.flags|=8192),Mt&&(ct.mode&1)!==0?(qr&1073741824)!==0&&(Ir(ct),xn&&ct.subtreeFlags&6&&(ct.flags|=8192)):Ir(ct),null;case 24:return null;case 25:return null}throw Error(it(156,ct.tag))}var Ym=st.ReactCurrentOwner,jr=!1;function Vr(lt,ct,St,Mt){ct.child=lt===null?up(ct,null,St,Mt):Js(ct,lt.child,St,Mt)}function Bp(lt,ct,St,Mt,At){St=St.render;var Lt=ct.ref;return Ys(ct,At),Mt=fu(lt,ct,St,Mt,Lt,At),St=hu(),lt!==null&&!jr?(ct.updateQueue=lt.updateQueue,ct.flags&=-2053,lt.lanes&=~At,Cs(lt,ct,At)):(vr&&St&&tu(ct),ct.flags|=1,Vr(lt,ct,Mt,At),ct.child)}function Op(lt,ct,St,Mt,At){if(lt===null){var Lt=St.type;return typeof Lt=="function"&&!$u(Lt)&&Lt.defaultProps===void 0&&St.compare===null&&St.defaultProps===void 0?(ct.tag=15,ct.type=Lt,Np(lt,ct,Lt,Mt,At)):(lt=Bl(St.type,null,Mt,ct,ct.mode,At),lt.ref=ct.ref,lt.return=ct,ct.child=lt)}if(Lt=lt.child,(lt.lanes&At)===0){var jt=Lt.memoizedProps;if(St=St.compare,St=St!==null?St:Bo,St(jt,Mt)&&lt.ref===ct.ref)return Cs(lt,ct,At)}return ct.flags|=1,lt=Vs(Lt,Mt),lt.ref=ct.ref,lt.return=ct,ct.child=lt}function Np(lt,ct,St,Mt,At){if(lt!==null&&Bo(lt.memoizedProps,Mt)&&lt.ref===ct.ref)if(jr=!1,(lt.lanes&At)!==0)(lt.flags&131072)!==0&&(jr=!0);else return ct.lanes=lt.lanes,Cs(lt,ct,At);return yu(lt,ct,St,Mt,At)}function zp(lt,ct,St){var Mt=ct.pendingProps,At=Mt.children,Lt=lt!==null?lt.memoizedState:null;if(Mt.mode==="hidden")if((ct.mode&1)===0)ct.memoizedState={baseLanes:0,cachePool:null},ir(ro,qr),qr|=St;else if((St&1073741824)!==0)ct.memoizedState={baseLanes:0,cachePool:null},Mt=Lt!==null?Lt.baseLanes:St,ir(ro,qr),qr|=Mt;else return lt=Lt!==null?Lt.baseLanes|St:St,ct.lanes=ct.childLanes=1073741824,ct.memoizedState={baseLanes:lt,cachePool:null},ct.updateQueue=null,ir(ro,qr),qr|=lt,null;else Lt!==null?(Mt=Lt.baseLanes|St,ct.memoizedState=null):Mt=St,ir(ro,qr),qr|=Mt;return Vr(lt,ct,At,St),ct.child}function $p(lt,ct){var St=ct.ref;(lt===null&&St!==null||lt!==null&&lt.ref!==St)&&(ct.flags|=512,ct.flags|=2097152)}function yu(lt,ct,St,Mt,At){var Lt=zr(St)?xs:ur.current;return Lt=Ss(ct,Lt),Ys(ct,At),St=fu(lt,ct,St,Mt,Lt,At),Mt=hu(),lt!==null&&!jr?(ct.updateQueue=lt.updateQueue,ct.flags&=-2053,lt.lanes&=~At,Cs(lt,ct,At)):(vr&&Mt&&tu(ct),ct.flags|=1,Vr(lt,ct,St,At),ct.child)}function Gp(lt,ct,St,Mt,At){if(zr(St)){var Lt=!0;Lo(ct)}else Lt=!1;if(Ys(ct,At),ct.stateNode===null)lt!==null&&(lt.alternate=null,ct.alternate=null,ct.flags|=2),ep(ct,St,Mt),eu(ct,St,Mt,At),Mt=!0;else if(lt===null){var jt=ct.stateNode,Qt=ct.memoizedProps;jt.props=Qt;var un=jt.context,Mn=St.contextType;typeof Mn=="object"&&Mn!==null?Mn=Jr(Mn):(Mn=zr(St)?xs:ur.current,Mn=Ss(ct,Mn));var Dn=St.getDerivedStateFromProps,qn=typeof Dn=="function"||typeof jt.getSnapshotBeforeUpdate=="function";qn||typeof jt.UNSAFE_componentWillReceiveProps!="function"&&typeof jt.componentWillReceiveProps!="function"||(Qt!==Mt||un!==Mn)&&tp(ct,jt,Mt,Mn),ks=!1;var Un=ct.memoizedState;jt.state=Un,$o(ct,Mt,jt,At),un=ct.memoizedState,Qt!==Mt||Un!==un||Tr.current||ks?(typeof Dn=="function"&&(_c(ct,St,Dn,Mt),un=ct.memoizedState),(Qt=ks||_d(ct,St,Qt,Mt,Un,un,Mn))?(qn||typeof jt.UNSAFE_componentWillMount!="function"&&typeof jt.componentWillMount!="function"||(typeof jt.componentWillMount=="function"&&jt.componentWillMount(),typeof jt.UNSAFE_componentWillMount=="function"&&jt.UNSAFE_componentWillMount()),typeof jt.componentDidMount=="function"&&(ct.flags|=4194308)):(typeof jt.componentDidMount=="function"&&(ct.flags|=4194308),ct.memoizedProps=Mt,ct.memoizedState=un),jt.props=Mt,jt.state=un,jt.context=Mn,Mt=Qt):(typeof jt.componentDidMount=="function"&&(ct.flags|=4194308),Mt=!1)}else{jt=ct.stateNode,Qu(lt,ct),Qt=ct.memoizedProps,Mn=ct.type===ct.elementType?Qt:cs(ct.type,Qt),jt.props=Mn,qn=ct.pendingProps,Un=jt.context,un=St.contextType,typeof un=="object"&&un!==null?un=Jr(un):(un=zr(St)?xs:ur.current,un=Ss(ct,un));var hr=St.getDerivedStateFromProps;(Dn=typeof hr=="function"||typeof jt.getSnapshotBeforeUpdate=="function")||typeof jt.UNSAFE_componentWillReceiveProps!="function"&&typeof jt.componentWillReceiveProps!="function"||(Qt!==qn||Un!==un)&&tp(ct,jt,Mt,un),ks=!1,Un=ct.memoizedState,jt.state=Un,$o(ct,Mt,jt,At);var zn=ct.memoizedState;Qt!==qn||Un!==zn||Tr.current||ks?(typeof hr=="function"&&(_c(ct,St,hr,Mt),zn=ct.memoizedState),(Mn=ks||_d(ct,St,Mn,Mt,Un,zn,un)||!1)?(Dn||typeof jt.UNSAFE_componentWillUpdate!="function"&&typeof jt.componentWillUpdate!="function"||(typeof jt.componentWillUpdate=="function"&&jt.componentWillUpdate(Mt,zn,un),typeof jt.UNSAFE_componentWillUpdate=="function"&&jt.UNSAFE_componentWillUpdate(Mt,zn,un)),typeof jt.componentDidUpdate=="function"&&(ct.flags|=4),typeof jt.getSnapshotBeforeUpdate=="function"&&(ct.flags|=1024)):(typeof jt.componentDidUpdate!="function"||Qt===lt.memoizedProps&&Un===lt.memoizedState||(ct.flags|=4),typeof jt.getSnapshotBeforeUpdate!="function"||Qt===lt.memoizedProps&&Un===lt.memoizedState||(ct.flags|=1024),ct.memoizedProps=Mt,ct.memoizedState=zn),jt.props=Mt,jt.state=zn,jt.context=un,Mt=Mn):(typeof jt.componentDidUpdate!="function"||Qt===lt.memoizedProps&&Un===lt.memoizedState||(ct.flags|=4),typeof jt.getSnapshotBeforeUpdate!="function"||Qt===lt.memoizedProps&&Un===lt.memoizedState||(ct.flags|=1024),Mt=!1)}return _u(lt,ct,St,Mt,Lt,At)}function _u(lt,ct,St,Mt,At,Lt){$p(lt,ct);var jt=(ct.flags&128)!==0;if(!Mt&&!jt)return At&&qu(ct,St,!1),Cs(lt,ct,Lt);Mt=ct.stateNode,Ym.current=ct;var Qt=jt&&typeof St.getDerivedStateFromError!="function"?null:Mt.render();return ct.flags|=1,lt!==null&&jt?(ct.child=Js(ct,lt.child,null,Lt),ct.child=Js(ct,null,Qt,Lt)):Vr(lt,ct,Qt,Lt),ct.memoizedState=Mt.state,At&&qu(ct,St,!0),ct.child}function Up(lt){var ct=lt.stateNode;ct.pendingContext?Wu(lt,ct.pendingContext,ct.pendingContext!==ct.context):ct.context&&Wu(lt,ct.context,!1),ou(lt,ct.containerInfo)}function Hp(lt,ct,St,Mt,At){return Qs(),su(At),ct.flags|=256,Vr(lt,ct,St,Mt),ct.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function xa(lt){return{baseLanes:lt,cachePool:null}}function Wp(lt,ct,St){var Mt=ct.pendingProps,At=_r.current,Lt=!1,jt=(ct.flags&128)!==0,Qt;if((Qt=jt)||(Qt=lt!==null&&lt.memoizedState===null?!1:(At&2)!==0),Qt?(Lt=!0,ct.flags&=-129):(lt===null||lt.memoizedState!==null)&&(At|=1),ir(_r,At&1),lt===null)return iu(ct),lt=ct.memoizedState,lt!==null&&(lt=lt.dehydrated,lt!==null)?((ct.mode&1)===0?ct.lanes=1:oo(lt)?ct.lanes=8:ct.lanes=1073741824,null):(At=Mt.children,lt=Mt.fallback,Lt?(Mt=ct.mode,Lt=ct.child,At={mode:"hidden",children:At},(Mt&1)===0&&Lt!==null?(Lt.childLanes=0,Lt.pendingProps=At):Lt=Ol(At,Mt,0,null),lt=js(lt,Mt,St,null),Lt.return=ct,lt.return=ct,Lt.sibling=lt,ct.child=Lt,ct.child.memoizedState=xa(St),ct.memoizedState=_a,lt):xu(ct,At));if(At=lt.memoizedState,At!==null){if(Qt=At.dehydrated,Qt!==null){if(jt)return ct.flags&256?(ct.flags&=-257,ba(lt,ct,St,Error(it(422)))):ct.memoizedState!==null?(ct.child=lt.child,ct.flags|=128,null):(Lt=Mt.fallback,At=ct.mode,Mt=Ol({mode:"visible",children:Mt.children},At,0,null),Lt=js(Lt,At,St,null),Lt.flags|=2,Mt.return=ct,Lt.return=ct,Mt.sibling=Lt,ct.child=Mt,(ct.mode&1)!==0&&Js(ct,lt.child,null,St),ct.child.memoizedState=xa(St),ct.memoizedState=_a,Lt);if((ct.mode&1)===0)ct=ba(lt,ct,St,null);else if(oo(Qt))ct=ba(lt,ct,St,Error(it(419)));else if(Mt=(St&lt.childLanes)!==0,jr||Mt){if(Mt=Mr,Mt!==null){switch(St&-St){case 4:Lt=2;break;case 16:Lt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Lt=32;break;case 536870912:Lt=268435456;break;default:Lt=0}Mt=(Lt&(Mt.suspendedLanes|St))!==0?0:Lt,Mt!==0&&Mt!==At.retryLane&&(At.retryLane=Mt,rs(lt,Mt,-1))}zu(),ct=ba(lt,ct,St,Error(it(421)))}else Po(Qt)?(ct.flags|=128,ct.child=lt.child,ct=l0.bind(null,lt),Ut(Qt,ct),ct=null):(St=At.treeContext,Yt&&(Wr=gn(Qt),Hr=ct,vr=!0,us=null,co=!1,St!==null&&(_i[es++]=ws,_i[es++]=Es,_i[es++]=Os,ws=St.id,Es=St.overflow,Os=ct)),ct=xu(ct,ct.pendingProps.children),ct.flags|=4096);return ct}return Lt?(Mt=qp(lt,ct,Mt.children,Mt.fallback,St),Lt=ct.child,At=lt.child.memoizedState,Lt.memoizedState=At===null?xa(St):{baseLanes:At.baseLanes|St,cachePool:null},Lt.childLanes=lt.childLanes&~St,ct.memoizedState=_a,Mt):(St=jp(lt,ct,Mt.children,St),ct.memoizedState=null,St)}return Lt?(Mt=qp(lt,ct,Mt.children,Mt.fallback,St),Lt=ct.child,At=lt.child.memoizedState,Lt.memoizedState=At===null?xa(St):{baseLanes:At.baseLanes|St,cachePool:null},Lt.childLanes=lt.childLanes&~St,ct.memoizedState=_a,Mt):(St=jp(lt,ct,Mt.children,St),ct.memoizedState=null,St)}function xu(lt,ct){return ct=Ol({mode:"visible",children:ct},lt.mode,0,null),ct.return=lt,lt.child=ct}function jp(lt,ct,St,Mt){var At=lt.child;return lt=At.sibling,St=Vs(At,{mode:"visible",children:St}),(ct.mode&1)===0&&(St.lanes=Mt),St.return=ct,St.sibling=null,lt!==null&&(Mt=ct.deletions,Mt===null?(ct.deletions=[lt],ct.flags|=16):Mt.push(lt)),ct.child=St}function qp(lt,ct,St,Mt,At){var Lt=ct.mode;lt=lt.child;var jt=lt.sibling,Qt={mode:"hidden",children:St};return(Lt&1)===0&&ct.child!==lt?(St=ct.child,St.childLanes=0,St.pendingProps=Qt,ct.deletions=null):(St=Vs(lt,Qt),St.subtreeFlags=lt.subtreeFlags&14680064),jt!==null?Mt=Vs(jt,Mt):(Mt=js(Mt,Lt,At,null),Mt.flags|=2),Mt.return=ct,St.return=ct,St.sibling=Mt,ct.child=St,Mt}function ba(lt,ct,St,Mt){return Mt!==null&&su(Mt),Js(ct,lt.child,null,St),lt=xu(ct,ct.pendingProps.children),lt.flags|=2,ct.memoizedState=null,lt}function Xp(lt,ct,St){lt.lanes|=ct;var Mt=lt.alternate;Mt!==null&&(Mt.lanes|=ct),Ql(lt.return,ct,St)}function Su(lt,ct,St,Mt,At){var Lt=lt.memoizedState;Lt===null?lt.memoizedState={isBackwards:ct,rendering:null,renderingStartTime:0,last:Mt,tail:St,tailMode:At}:(Lt.isBackwards=ct,Lt.rendering=null,Lt.renderingStartTime=0,Lt.last=Mt,Lt.tail=St,Lt.tailMode=At)}function Yp(lt,ct,St){var Mt=ct.pendingProps,At=Mt.revealOrder,Lt=Mt.tail;if(Vr(lt,ct,Mt.children,St),Mt=_r.current,(Mt&2)!==0)Mt=Mt&1|2,ct.flags|=128;else{if(lt!==null&&(lt.flags&128)!==0)e:for(lt=ct.child;lt!==null;){if(lt.tag===13)lt.memoizedState!==null&&Xp(lt,St,ct);else if(lt.tag===19)Xp(lt,St,ct);else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===ct)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===ct)break e;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}Mt&=1}if(ir(_r,Mt),(ct.mode&1)===0)ct.memoizedState=null;else switch(At){case"forwards":for(St=ct.child,At=null;St!==null;)lt=St.alternate,lt!==null&&jo(lt)===null&&(At=St),St=St.sibling;St=At,St===null?(At=ct.child,ct.child=null):(At=St.sibling,St.sibling=null),Su(ct,!1,At,St,Lt);break;case"backwards":for(St=null,At=ct.child,ct.child=null;At!==null;){if(lt=At.alternate,lt!==null&&jo(lt)===null){ct.child=At;break}lt=At.sibling,At.sibling=St,St=At,At=lt}Su(ct,!0,St,null,Lt);break;case"together":Su(ct,!1,null,null,void 0);break;default:ct.memoizedState=null}return ct.child}function Cs(lt,ct,St){if(lt!==null&&(ct.dependencies=lt.dependencies),io|=ct.lanes,(St&ct.childLanes)===0)return null;if(lt!==null&&ct.child!==lt.child)throw Error(it(153));if(ct.child!==null){for(lt=ct.child,St=Vs(lt,lt.pendingProps),ct.child=St,St.return=ct;lt.sibling!==null;)lt=lt.sibling,St=St.sibling=Vs(lt,lt.pendingProps),St.return=ct;St.sibling=null}return ct.child}function Km(lt,ct,St){switch(ct.tag){case 3:Up(ct),Qs();break;case 5:fp(ct);break;case 1:zr(ct.type)&&Lo(ct);break;case 4:ou(ct,ct.stateNode.containerInfo);break;case 10:Zu(ct,ct.type._context,ct.memoizedProps.value);break;case 13:var Mt=ct.memoizedState;if(Mt!==null)return Mt.dehydrated!==null?(ir(_r,_r.current&1),ct.flags|=128,null):(St&ct.child.childLanes)!==0?Wp(lt,ct,St):(ir(_r,_r.current&1),lt=Cs(lt,ct,St),lt!==null?lt.sibling:null);ir(_r,_r.current&1);break;case 19:if(Mt=(St&ct.childLanes)!==0,(lt.flags&128)!==0){if(Mt)return Yp(lt,ct,St);ct.flags|=128}var At=ct.memoizedState;if(At!==null&&(At.rendering=null,At.tail=null,At.lastEffect=null),ir(_r,_r.current),Mt)break;return null;case 22:case 23:return ct.lanes=0,zp(lt,ct,St)}return Cs(lt,ct,St)}function Zm(lt,ct){switch(nu(ct),ct.tag){case 1:return zr(ct.type)&&ko(),lt=ct.flags,lt&65536?(ct.flags=lt&-65537|128,ct):null;case 3:return to(),Kn(Tr),Kn(ur),cu(),lt=ct.flags,(lt&65536)!==0&&(lt&128)===0?(ct.flags=lt&-65537|128,ct):null;case 5:return au(ct),null;case 13:if(Kn(_r),lt=ct.memoizedState,lt!==null&&lt.dehydrated!==null){if(ct.alternate===null)throw Error(it(340));Qs()}return lt=ct.flags,lt&65536?(ct.flags=lt&-65537|128,ct):null;case 19:return Kn(_r),null;case 4:return to(),null;case 10:return Zl(ct.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var $a=!1,$s=!1,Qm=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function yl(lt,ct){var St=lt.ref;if(St!==null)if(typeof St=="function")try{St(null)}catch(Mt){Ur(lt,ct,Mt)}else St.current=null}function bu(lt,ct,St){try{St()}catch(Mt){Ur(lt,ct,Mt)}}var Kp=!1;function Jm(lt,ct){for(Pt(lt.containerInfo),Cn=ct;Cn!==null;)if(lt=Cn,ct=lt.child,(lt.subtreeFlags&1028)!==0&&ct!==null)ct.return=lt,Cn=ct;else for(;Cn!==null;){lt=Cn;try{var St=lt.alternate;if((lt.flags&1024)!==0)switch(lt.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Mt=St.memoizedProps,At=St.memoizedState,Lt=lt.stateNode,jt=Lt.getSnapshotBeforeUpdate(lt.elementType===lt.type?Mt:cs(lt.type,Mt),At);Lt.__reactInternalSnapshotBeforeUpdate=jt}break;case 3:xn&&rr(lt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(Qt){Ur(lt,lt.return,Qt)}if(ct=lt.sibling,ct!==null){ct.return=lt.return,Cn=ct;break}Cn=lt.return}return St=Kp,Kp=!1,St}function Gs(lt,ct,St){var Mt=ct.updateQueue;if(Mt=Mt!==null?Mt.lastEffect:null,Mt!==null){var At=Mt=Mt.next;do{if((At.tag&lt)===lt){var Lt=At.destroy;At.destroy=void 0,Lt!==void 0&&bu(ct,St,Lt)}At=At.next}while(At!==Mt)}}function bo(lt,ct){if(ct=ct.updateQueue,ct=ct!==null?ct.lastEffect:null,ct!==null){var St=ct=ct.next;do{if((St.tag&lt)===lt){var Mt=St.create;St.destroy=Mt()}St=St.next}while(St!==ct)}}function Mu(lt){var ct=lt.ref;if(ct!==null){var St=lt.stateNode;switch(lt.tag){case 5:lt=Ft(St);break;default:lt=St}typeof ct=="function"?ct(lt):ct.current=lt}}function Zp(lt,ct,St){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(Fo,ct)}catch{}switch(ct.tag){case 0:case 11:case 14:case 15:if(lt=ct.updateQueue,lt!==null&&(lt=lt.lastEffect,lt!==null)){var Mt=lt=lt.next;do{var At=Mt,Lt=At.destroy;At=At.tag,Lt!==void 0&&((At&2)!==0||(At&4)!==0)&&bu(ct,St,Lt),Mt=Mt.next}while(Mt!==lt)}break;case 1:if(yl(ct,St),lt=ct.stateNode,typeof lt.componentWillUnmount=="function")try{lt.props=ct.memoizedProps,lt.state=ct.memoizedState,lt.componentWillUnmount()}catch(jt){Ur(ct,St,jt)}break;case 5:yl(ct,St);break;case 4:xn?im(lt,ct,St):tn&&tn&&(ct=ct.stateNode.containerInfo,St=dr(ct),Xr(ct,St))}}function Qp(lt,ct,St){for(var Mt=ct;;)if(Zp(lt,Mt,St),Mt.child===null||xn&&Mt.tag===4){if(Mt===ct)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===ct)return;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}else Mt.child.return=Mt,Mt=Mt.child}function Jp(lt){var ct=lt.alternate;ct!==null&&(lt.alternate=null,Jp(ct)),lt.child=null,lt.deletions=null,lt.sibling=null,lt.tag===5&&(ct=lt.stateNode,ct!==null&&En(ct)),lt.stateNode=null,lt.return=null,lt.dependencies=null,lt.memoizedProps=null,lt.memoizedState=null,lt.pendingProps=null,lt.stateNode=null,lt.updateQueue=null}function em(lt){return lt.tag===5||lt.tag===3||lt.tag===4}function tm(lt){e:for(;;){for(;lt.sibling===null;){if(lt.return===null||em(lt.return))return null;lt=lt.return}for(lt.sibling.return=lt.return,lt=lt.sibling;lt.tag!==5&&lt.tag!==6&&lt.tag!==18;){if(lt.flags&2||lt.child===null||lt.tag===4)continue e;lt.child.return=lt,lt=lt.child}if(!(lt.flags&2))return lt.stateNode}}function rm(lt){if(xn){e:{for(var ct=lt.return;ct!==null;){if(em(ct))break e;ct=ct.return}throw Error(it(160))}var St=ct;switch(St.tag){case 5:ct=St.stateNode,St.flags&32&&(en(ct),St.flags&=-33),St=tm(lt),Eu(lt,St,ct);break;case 3:case 4:ct=St.stateNode.containerInfo,St=tm(lt),wu(lt,St,ct);break;default:throw Error(it(161))}}}function wu(lt,ct,St){var Mt=lt.tag;if(Mt===5||Mt===6)lt=lt.stateNode,ct?Yn(St,lt,ct):ln(St,lt);else if(Mt!==4&&(lt=lt.child,lt!==null))for(wu(lt,ct,St),lt=lt.sibling;lt!==null;)wu(lt,ct,St),lt=lt.sibling}function Eu(lt,ct,St){var Mt=lt.tag;if(Mt===5||Mt===6)lt=lt.stateNode,ct?Fn(St,lt,ct):Vn(St,lt);else if(Mt!==4&&(lt=lt.child,lt!==null))for(Eu(lt,ct,St),lt=lt.sibling;lt!==null;)Eu(lt,ct,St),lt=lt.sibling}function im(lt,ct,St){for(var Mt=ct,At=!1,Lt,jt;;){if(!At){At=Mt.return;e:for(;;){if(At===null)throw Error(it(160));switch(Lt=At.stateNode,At.tag){case 5:jt=!1;break e;case 3:Lt=Lt.containerInfo,jt=!0;break e;case 4:Lt=Lt.containerInfo,jt=!0;break e}At=At.return}At=!0}if(Mt.tag===5||Mt.tag===6)Qp(lt,Mt,St),jt?yr(Lt,Mt.stateNode):sr(Lt,Mt.stateNode);else if(Mt.tag===18)jt?mr(Lt,Mt.stateNode):nr(Lt,Mt.stateNode);else if(Mt.tag===4){if(Mt.child!==null){Lt=Mt.stateNode.containerInfo,jt=!0,Mt.child.return=Mt,Mt=Mt.child;continue}}else if(Zp(lt,Mt,St),Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===ct)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===ct)return;Mt=Mt.return,Mt.tag===4&&(At=!1)}Mt.sibling.return=Mt.return,Mt=Mt.sibling}}function Tu(lt,ct){if(xn){switch(ct.tag){case 0:case 11:case 14:case 15:Gs(3,ct,ct.return),bo(3,ct),Gs(5,ct,ct.return);return;case 1:return;case 5:var St=ct.stateNode;if(St!=null){var Mt=ct.memoizedProps;lt=lt!==null?lt.memoizedProps:Mt;var At=ct.type,Lt=ct.updateQueue;ct.updateQueue=null,Lt!==null&&$n(St,Lt,At,lt,Mt,ct)}return;case 6:if(ct.stateNode===null)throw Error(it(162));St=ct.memoizedProps,Nn(ct.stateNode,lt!==null?lt.memoizedProps:St,St);return;case 3:Yt&&lt!==null&&lt.memoizedState.isDehydrated&&or(ct.stateNode.containerInfo);return;case 12:return;case 13:_l(ct);return;case 19:_l(ct);return;case 17:return}throw Error(it(163))}switch(ct.tag){case 0:case 11:case 14:case 15:Gs(3,ct,ct.return),bo(3,ct),Gs(5,ct,ct.return);return;case 12:return;case 13:_l(ct);return;case 19:_l(ct);return;case 3:Yt&&lt!==null&&lt.memoizedState.isDehydrated&&or(ct.stateNode.containerInfo);break;case 22:case 23:return}e:if(tn){switch(ct.tag){case 1:case 5:case 6:break e;case 3:case 4:ct=ct.stateNode,Xr(ct.containerInfo,ct.pendingChildren);break e}throw Error(it(163))}}function _l(lt){var ct=lt.updateQueue;if(ct!==null){lt.updateQueue=null;var St=lt.stateNode;St===null&&(St=lt.stateNode=new Qm),ct.forEach(function(Mt){var At=c0.bind(null,lt,Mt);St.has(Mt)||(St.add(Mt),Mt.then(At,At))})}}function e0(lt,ct){for(Cn=ct;Cn!==null;){ct=Cn;var St=ct.deletions;if(St!==null)for(var Mt=0;Mt<St.length;Mt++){var At=St[Mt];try{var Lt=lt;xn?im(Lt,At,ct):Qp(Lt,At,ct);var jt=At.alternate;jt!==null&&(jt.return=null),At.return=null}catch(On){Ur(At,ct,On)}}if(St=ct.child,(ct.subtreeFlags&12854)!==0&&St!==null)St.return=ct,Cn=St;else for(;Cn!==null;){ct=Cn;try{var Qt=ct.flags;if(Qt&32&&xn&&en(ct.stateNode),Qt&512){var un=ct.alternate;if(un!==null){var Mn=un.ref;Mn!==null&&(typeof Mn=="function"?Mn(null):Mn.current=null)}}if(Qt&8192)switch(ct.tag){case 13:if(ct.memoizedState!==null){var Dn=ct.alternate;(Dn===null||Dn.memoizedState===null)&&(Iu=Cr())}break;case 22:var qn=ct.memoizedState!==null,Un=ct.alternate,hr=Un!==null&&Un.memoizedState!==null;if(St=ct,xn){e:if(Mt=St,At=qn,Lt=null,xn)for(var zn=Mt;;){if(zn.tag===5){if(Lt===null){Lt=zn;var Dr=zn.stateNode;At?Rn(Dr):kn(zn.stateNode,zn.memoizedProps)}}else if(zn.tag===6){if(Lt===null){var os=zn.stateNode;At?hn(os):Pn(os,zn.memoizedProps)}}else if((zn.tag!==22&&zn.tag!==23||zn.memoizedState===null||zn===Mt)&&zn.child!==null){zn.child.return=zn,zn=zn.child;continue}if(zn===Mt)break;for(;zn.sibling===null;){if(zn.return===null||zn.return===Mt)break e;Lt===zn&&(Lt=null),zn=zn.return}Lt===zn&&(Lt=null),zn.sibling.return=zn.return,zn=zn.sibling}}if(qn&&!hr&&(St.mode&1)!==0){Cn=St;for(var sn=St.child;sn!==null;){for(St=Cn=sn;Cn!==null;){Mt=Cn;var Jt=Mt.child;switch(Mt.tag){case 0:case 11:case 14:case 15:Gs(4,Mt,Mt.return);break;case 1:yl(Mt,Mt.return);var an=Mt.stateNode;if(typeof an.componentWillUnmount=="function"){var An=Mt.return;try{an.props=Mt.memoizedProps,an.state=Mt.memoizedState,an.componentWillUnmount()}catch(On){Ur(Mt,An,On)}}break;case 5:yl(Mt,Mt.return);break;case 22:if(Mt.memoizedState!==null){am(St);continue}}Jt!==null?(Jt.return=Mt,Cn=Jt):am(St)}sn=sn.sibling}}}switch(Qt&4102){case 2:rm(ct),ct.flags&=-3;break;case 6:rm(ct),ct.flags&=-3,Tu(ct.alternate,ct);break;case 4096:ct.flags&=-4097;break;case 4100:ct.flags&=-4097,Tu(ct.alternate,ct);break;case 4:Tu(ct.alternate,ct)}}catch(On){Ur(ct,ct.return,On)}if(St=ct.sibling,St!==null){St.return=ct.return,Cn=St;break}Cn=ct.return}}}function t0(lt,ct,St){Cn=lt,sm(lt)}function sm(lt,ct,St){for(var Mt=(lt.mode&1)!==0;Cn!==null;){var At=Cn,Lt=At.child;if(At.tag===22&&Mt){var jt=At.memoizedState!==null||$a;if(!jt){var Qt=At.alternate,un=Qt!==null&&Qt.memoizedState!==null||$s;Qt=$a;var Mn=$s;if($a=jt,($s=un)&&!Mn)for(Cn=At;Cn!==null;)jt=Cn,un=jt.child,jt.tag===22&&jt.memoizedState!==null?lm(At):un!==null?(un.return=jt,Cn=un):lm(At);for(;Lt!==null;)Cn=Lt,sm(Lt),Lt=Lt.sibling;Cn=At,$a=Qt,$s=Mn}om(lt)}else(At.subtreeFlags&8772)!==0&&Lt!==null?(Lt.return=At,Cn=Lt):om(lt)}}function om(lt){for(;Cn!==null;){var ct=Cn;if((ct.flags&8772)!==0){var St=ct.alternate;try{if((ct.flags&8772)!==0)switch(ct.tag){case 0:case 11:case 15:$s||bo(5,ct);break;case 1:var Mt=ct.stateNode;if(ct.flags&4&&!$s)if(St===null)Mt.componentDidMount();else{var At=ct.elementType===ct.type?St.memoizedProps:cs(ct.type,St.memoizedProps);Mt.componentDidUpdate(At,St.memoizedState,Mt.__reactInternalSnapshotBeforeUpdate)}var Lt=ct.updateQueue;Lt!==null&&_f(ct,Lt,Mt);break;case 3:var jt=ct.updateQueue;if(jt!==null){if(St=null,ct.child!==null)switch(ct.child.tag){case 5:St=Ft(ct.child.stateNode);break;case 1:St=ct.child.stateNode}_f(ct,jt,St)}break;case 5:var Qt=ct.stateNode;St===null&&ct.flags&4&&In(Qt,ct.type,ct.memoizedProps,ct);break;case 6:break;case 4:break;case 12:break;case 13:if(Yt&&ct.memoizedState===null){var un=ct.alternate;if(un!==null){var Mn=un.memoizedState;if(Mn!==null){var Dn=Mn.dehydrated;Dn!==null&&tr(Dn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(it(163))}$s||ct.flags&512&&Mu(ct)}catch(qn){Ur(ct,ct.return,qn)}}if(ct===lt){Cn=null;break}if(St=ct.sibling,St!==null){St.return=ct.return,Cn=St;break}Cn=ct.return}}function am(lt){for(;Cn!==null;){var ct=Cn;if(ct===lt){Cn=null;break}var St=ct.sibling;if(St!==null){St.return=ct.return,Cn=St;break}Cn=ct.return}}function lm(lt){for(;Cn!==null;){var ct=Cn;try{switch(ct.tag){case 0:case 11:case 15:var St=ct.return;try{bo(4,ct)}catch(un){Ur(ct,St,un)}break;case 1:var Mt=ct.stateNode;if(typeof Mt.componentDidMount=="function"){var At=ct.return;try{Mt.componentDidMount()}catch(un){Ur(ct,At,un)}}var Lt=ct.return;try{Mu(ct)}catch(un){Ur(ct,Lt,un)}break;case 5:var jt=ct.return;try{Mu(ct)}catch(un){Ur(ct,jt,un)}}}catch(un){Ur(ct,ct.return,un)}if(ct===lt){Cn=null;break}var Qt=ct.sibling;if(Qt!==null){Qt.return=ct.return,Cn=Qt;break}Cn=ct.return}}var xl=0,Sl=1,Ml=2,El=3,Tl=4;if(typeof Symbol=="function"&&Symbol.for){var Mo=Symbol.for;xl=Mo("selector.component"),Sl=Mo("selector.has_pseudo_class"),Ml=Mo("selector.role"),El=Mo("selector.test_id"),Tl=Mo("selector.text")}function Cu(lt){var ct=dn(lt);if(ct!=null){if(typeof ct.memoizedProps["data-testname"]!="string")throw Error(it(364));return ct}if(lt=Hn(lt),lt===null)throw Error(it(362));return lt.stateNode.current}function Au(lt,ct){switch(ct.$$typeof){case xl:if(lt.type===ct.value)return!0;break;case Sl:e:{ct=ct.value,lt=[lt,0];for(var St=0;St<lt.length;){var Mt=lt[St++],At=lt[St++],Lt=ct[At];if(Mt.tag!==5||!Zt(Mt)){for(;Lt!=null&&Au(Mt,Lt);)At++,Lt=ct[At];if(At===ct.length){ct=!0;break e}else for(Mt=Mt.child;Mt!==null;)lt.push(Mt,At),Mt=Mt.sibling}}ct=!1}return ct;case Ml:if(lt.tag===5&&pn(lt.stateNode,ct.value))return!0;break;case Tl:if((lt.tag===5||lt.tag===6)&&(lt=Bt(lt),lt!==null&&0<=lt.indexOf(ct.value)))return!0;break;case El:if(lt.tag===5&&(lt=lt.memoizedProps["data-testname"],typeof lt=="string"&&lt.toLowerCase()===ct.value.toLowerCase()))return!0;break;default:throw Error(it(365))}return!1}function Pu(lt){switch(lt.$$typeof){case xl:return"<"+(Ct(lt.value)||"Unknown")+">";case Sl:return":has("+(Pu(lt)||"")+")";case Ml:return'[role="'+lt.value+'"]';case Tl:return'"'+lt.value+'"';case El:return'[data-testname="'+lt.value+'"]';default:throw Error(it(365))}}function cm(lt,ct){var St=[];lt=[lt,0];for(var Mt=0;Mt<lt.length;){var At=lt[Mt++],Lt=lt[Mt++],jt=ct[Lt];if(At.tag!==5||!Zt(At)){for(;jt!=null&&Au(At,jt);)Lt++,jt=ct[Lt];if(Lt===ct.length)St.push(At);else for(At=At.child;At!==null;)lt.push(At,Lt),At=At.sibling}}return St}function ku(lt,ct){if(!Bn)throw Error(it(363));lt=Cu(lt),lt=cm(lt,ct),ct=[],lt=Array.from(lt);for(var St=0;St<lt.length;){var Mt=lt[St++];if(Mt.tag===5)Zt(Mt)||ct.push(Mt.stateNode);else for(Mt=Mt.child;Mt!==null;)lt.push(Mt),Mt=Mt.sibling}return ct}var n0=Math.ceil,Cl=st.ReactCurrentDispatcher,Lu=st.ReactCurrentOwner,Sr=st.ReactCurrentBatchConfig,Jn=0,Mr=null,wr=null,kr=0,qr=0,ro=Zr(0),Er=0,wo=null,io=0,Al=0,Ru=0,Eo=null,$r=null,Iu=0,Du=1/0;function so(){Du=Cr()+500}var Pl=!1,Fu=null,Rs=null,Ll=!1,Is=null,Rl=0,To=0,Vu=null,Il=-1,Dl=0;function Br(){return(Jn&6)!==0?Cr():Il!==-1?Il:Il=Cr()}function Ds(lt){return(lt.mode&1)===0?1:(Jn&2)!==0&&kr!==0?kr&-kr:Om.transition!==null?(Dl===0&&(lt=Ro,Ro<<=1,(Ro&4194240)===0&&(Ro=64),Dl=lt),Dl):(lt=ar,lt!==0?lt:_n())}function rs(lt,ct,St){if(50<To)throw To=0,Vu=null,Error(it(185));var Mt=Fl(lt,ct);return Mt===null?null:(lo(Mt,ct,St),((Jn&2)===0||Mt!==Mr)&&(Mt===Mr&&((Jn&2)===0&&(Al|=ct),Er===4&&Fs(Mt,kr)),Gr(Mt,St),ct===1&&Jn===0&&(lt.mode&1)===0&&(so(),Vo&&ps())),Mt)}function Fl(lt,ct){lt.lanes|=ct;var St=lt.alternate;for(St!==null&&(St.lanes|=ct),St=lt,lt=lt.return;lt!==null;)lt.childLanes|=ct,St=lt.alternate,St!==null&&(St.childLanes|=ct),St=lt,lt=lt.return;return St.tag===3?St.stateNode:null}function Gr(lt,ct){var St=lt.callbackNode;Pm(lt,ct);var Mt=Do(lt,lt===Mr?kr:0);if(Mt===0)St!==null&&Yu(St),lt.callbackNode=null,lt.callbackPriority=0;else if(ct=Mt&-Mt,lt.callbackPriority!==ct){if(St!=null&&Yu(St),ct===1)lt.tag===0?Bm(fm.bind(null,lt)):Ku(fm.bind(null,lt)),Tn?Ln(function(){Jn===0&&ps()}):Ul(Hl,ps),St=null;else{switch(Xu(Mt)){case 1:St=Hl;break;case 4:St=Im;break;case 16:St=Wl;break;case 536870912:St=Dm;break;default:St=Wl}St=xm(St,um.bind(null,lt))}lt.callbackPriority=ct,lt.callbackNode=St}}function um(lt,ct){if(Il=-1,Dl=0,(Jn&6)!==0)throw Error(it(327));var St=lt.callbackNode;if(Ws()&&lt.callbackNode!==St)return null;var Mt=Do(lt,lt===Mr?kr:0);if(Mt===0)return null;if((Mt&30)!==0||(Mt&lt.expiredLanes)!==0||ct)ct=Vl(lt,Mt);else{ct=Mt;var At=Jn;Jn|=2;var Lt=pm();(Mr!==lt||kr!==ct)&&(so(),Us(lt,ct));do try{s0();break}catch(Qt){dm(lt,Qt)}while(1);Kl(),Cl.current=Lt,Jn=At,wr!==null?ct=0:(Mr=null,kr=0,ct=Er)}if(ct!==0){if(ct===2&&(At=zl(lt),At!==0&&(Mt=At,ct=Bu(lt,At))),ct===1)throw St=wo,Us(lt,0),Fs(lt,Mt),Gr(lt,Cr()),St;if(ct===6)Fs(lt,Mt);else{if(At=lt.current.alternate,(Mt&30)===0&&!r0(At)&&(ct=Vl(lt,Mt),ct===2&&(Lt=zl(lt),Lt!==0&&(Mt=Lt,ct=Bu(lt,Lt))),ct===1))throw St=wo,Us(lt,0),Fs(lt,Mt),Gr(lt,Cr()),St;switch(lt.finishedWork=At,lt.finishedLanes=Mt,ct){case 0:case 1:throw Error(it(345));case 2:Hs(lt,$r);break;case 3:if(Fs(lt,Mt),(Mt&130023424)===Mt&&(ct=Iu+500-Cr(),10<ct)){if(Do(lt,0)!==0)break;if(At=lt.suspendedLanes,(At&Mt)!==Mt){Br(),lt.pingedLanes|=lt.suspendedLanes&At;break}lt.timeoutHandle=vn(Hs.bind(null,lt,$r),ct);break}Hs(lt,$r);break;case 4:if(Fs(lt,Mt),(Mt&4194240)===Mt)break;for(ct=lt.eventTimes,At=-1;0<Mt;){var jt=31-ls(Mt);Lt=1<<jt,jt=ct[jt],jt>At&&(At=jt),Mt&=~Lt}if(Mt=At,Mt=Cr()-Mt,Mt=(120>Mt?120:480>Mt?480:1080>Mt?1080:1920>Mt?1920:3e3>Mt?3e3:4320>Mt?4320:1960*n0(Mt/1960))-Mt,10<Mt){lt.timeoutHandle=vn(Hs.bind(null,lt,$r),Mt);break}Hs(lt,$r);break;case 5:Hs(lt,$r);break;default:throw Error(it(329))}}}return Gr(lt,Cr()),lt.callbackNode===St?um.bind(null,lt):null}function Bu(lt,ct){var St=Eo;return lt.current.memoizedState.isDehydrated&&(Us(lt,ct).flags|=256),lt=Vl(lt,ct),lt!==2&&(ct=$r,$r=St,ct!==null&&Ou(ct)),lt}function Ou(lt){$r===null?$r=lt:$r.push.apply($r,lt)}function r0(lt){for(var ct=lt;;){if(ct.flags&16384){var St=ct.updateQueue;if(St!==null&&(St=St.stores,St!==null))for(var Mt=0;Mt<St.length;Mt++){var At=St[Mt],Lt=At.getSnapshot;At=At.value;try{if(!ds(Lt(),At))return!1}catch{return!1}}}if(St=ct.child,ct.subtreeFlags&16384&&St!==null)St.return=ct,ct=St;else{if(ct===lt)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===lt)return!0;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}}return!0}function Fs(lt,ct){for(ct&=~Ru,ct&=~Al,lt.suspendedLanes|=ct,lt.pingedLanes&=~ct,lt=lt.expirationTimes;0<ct;){var St=31-ls(ct),Mt=1<<St;lt[St]=-1,ct&=~Mt}}function fm(lt){if((Jn&6)!==0)throw Error(it(327));Ws();var ct=Do(lt,0);if((ct&1)===0)return Gr(lt,Cr()),null;var St=Vl(lt,ct);if(lt.tag!==0&&St===2){var Mt=zl(lt);Mt!==0&&(ct=Mt,St=Bu(lt,Mt))}if(St===1)throw St=wo,Us(lt,0),Fs(lt,ct),Gr(lt,Cr()),St;if(St===6)throw Error(it(345));return lt.finishedWork=lt.current.alternate,lt.finishedLanes=ct,Hs(lt,$r),Gr(lt,Cr()),null}function hm(lt){Is!==null&&Is.tag===0&&(Jn&6)===0&&Ws();var ct=Jn;Jn|=1;var St=Sr.transition,Mt=ar;try{if(Sr.transition=null,ar=1,lt)return lt()}finally{ar=Mt,Sr.transition=St,Jn=ct,(Jn&6)===0&&ps()}}function Nu(){qr=ro.current,Kn(ro)}function Us(lt,ct){lt.finishedWork=null,lt.finishedLanes=0;var St=lt.timeoutHandle;if(St!==bn&&(lt.timeoutHandle=bn,on(St)),wr!==null)for(St=wr.return;St!==null;){var Mt=St;switch(nu(Mt),Mt.tag){case 1:Mt=Mt.type.childContextTypes,Mt!=null&&ko();break;case 3:to(),Kn(Tr),Kn(ur),cu();break;case 5:au(Mt);break;case 4:to();break;case 13:Kn(_r);break;case 19:Kn(_r);break;case 10:Zl(Mt.type._context);break;case 22:case 23:Nu()}St=St.return}if(Mr=lt,wr=lt=Vs(lt.current,null),kr=qr=ct,Er=0,wo=null,Ru=Al=io=0,$r=Eo=null,ms!==null){for(ct=0;ct<ms.length;ct++)if(St=ms[ct],Mt=St.interleaved,Mt!==null){St.interleaved=null;var At=Mt.next,Lt=St.pending;if(Lt!==null){var jt=Lt.next;Lt.next=At,Mt.next=jt}St.pending=Mt}ms=null}return lt}function dm(lt,ct){do{var St=wr;try{if(Kl(),qo.current=Jo,Xo){for(var Mt=xr.memoizedState;Mt!==null;){var At=Mt.queue;At!==null&&(At.pending=null),Mt=Mt.next}Xo=!1}if(no=0,Ar=Lr=xr=null,mo=!1,go=0,Lu.current=null,St===null||St.return===null){Er=1,wo=ct,wr=null;break}e:{var Lt=lt,jt=St.return,Qt=St,un=ct;if(ct=kr,Qt.flags|=32768,un!==null&&typeof un=="object"&&typeof un.then=="function"){var Mn=un,Dn=Qt,qn=Dn.tag;if((Dn.mode&1)===0&&(qn===0||qn===11||qn===15)){var Un=Dn.alternate;Un?(Dn.updateQueue=Un.updateQueue,Dn.memoizedState=Un.memoizedState,Dn.lanes=Un.lanes):(Dn.updateQueue=null,Dn.memoizedState=null)}var hr=Ip(jt);if(hr!==null){hr.flags&=-257,Dp(hr,jt,Qt,Lt,ct),hr.mode&1&&Rp(Lt,Mn,ct),ct=hr,un=Mn;var zn=ct.updateQueue;if(zn===null){var Dr=new Set;Dr.add(un),ct.updateQueue=Dr}else zn.add(un);break e}else{if((ct&1)===0){Rp(Lt,Mn,ct),zu();break e}un=Error(it(426))}}else if(vr&&Qt.mode&1){var os=Ip(jt);if(os!==null){(os.flags&65536)===0&&(os.flags|=256),Dp(os,jt,Qt,Lt,ct),su(un);break e}}Lt=un,Er!==4&&(Er=2),Eo===null?Eo=[Lt]:Eo.push(Lt),un=gu(un,Qt),Qt=jt;do{switch(Qt.tag){case 3:Qt.flags|=65536,ct&=-ct,Qt.lanes|=ct;var sn=kp(Qt,un,ct);Ju(Qt,sn);break e;case 1:Lt=un;var Jt=Qt.type,an=Qt.stateNode;if((Qt.flags&128)===0&&(typeof Jt.getDerivedStateFromError=="function"||an!==null&&typeof an.componentDidCatch=="function"&&(Rs===null||!Rs.has(an)))){Qt.flags|=65536,ct&=-ct,Qt.lanes|=ct;var An=Lp(Qt,Lt,ct);Ju(Qt,An);break e}}Qt=Qt.return}while(Qt!==null)}gm(St)}catch(On){ct=On,wr===St&&St!==null&&(wr=St=St.return);continue}break}while(1)}function pm(){var lt=Cl.current;return Cl.current=Jo,lt===null?Jo:lt}function zu(){(Er===0||Er===3||Er===2)&&(Er=4),Mr===null||(io&268435455)===0&&(Al&268435455)===0||Fs(Mr,kr)}function Vl(lt,ct){var St=Jn;Jn|=2;var Mt=pm();Mr===lt&&kr===ct||Us(lt,ct);do try{i0();break}catch(At){dm(lt,At)}while(1);if(Kl(),Jn=St,Cl.current=Mt,wr!==null)throw Error(it(261));return Mr=null,kr=0,Er}function i0(){for(;wr!==null;)mm(wr)}function s0(){for(;wr!==null&&!Lm();)mm(wr)}function mm(lt){var ct=_m(lt.alternate,lt,qr);lt.memoizedProps=lt.pendingProps,ct===null?gm(lt):wr=ct,Lu.current=null}function gm(lt){var ct=lt;do{var St=ct.alternate;if(lt=ct.return,(ct.flags&32768)===0){if(St=Xm(St,ct,qr),St!==null){wr=St;return}}else{if(St=Zm(St,ct),St!==null){St.flags&=32767,wr=St;return}if(lt!==null)lt.flags|=32768,lt.subtreeFlags=0,lt.deletions=null;else{Er=6,wr=null;return}}if(ct=ct.sibling,ct!==null){wr=ct;return}wr=ct=lt}while(ct!==null);Er===0&&(Er=5)}function Hs(lt,ct){var St=ar,Mt=Sr.transition;try{Sr.transition=null,ar=1,o0(lt,ct,St)}finally{Sr.transition=Mt,ar=St}return null}function o0(lt,ct,St){do Ws();while(Is!==null);if((Jn&6)!==0)throw Error(it(327));var Mt=lt.finishedWork,At=lt.finishedLanes;if(Mt===null)return null;if(lt.finishedWork=null,lt.finishedLanes=0,Mt===lt.current)throw Error(it(177));lt.callbackNode=null,lt.callbackPriority=0;var Lt=Mt.lanes|Mt.childLanes;if(km(lt,Lt),lt===Mr&&(wr=Mr=null,kr=0),(Mt.subtreeFlags&2064)===0&&(Mt.flags&2064)===0||Ll||(Ll=!0,xm(Wl,function(){return Ws(),null})),Lt=(Mt.flags&15990)!==0,(Mt.subtreeFlags&15990)!==0||Lt){Lt=Sr.transition,Sr.transition=null;var jt=ar;ar=1;var Qt=Jn;Jn|=4,Lu.current=null,Jm(lt,Mt),e0(lt,Mt),Rt(lt.containerInfo),lt.current=Mt,t0(Mt),Rm(),Jn=Qt,ar=jt,Sr.transition=Lt}else lt.current=Mt;if(Ll&&(Ll=!1,Is=lt,Rl=At),Lt=lt.pendingLanes,Lt===0&&(Rs=null),Fm(Mt.stateNode),Gr(lt,Cr()),ct!==null)for(St=lt.onRecoverableError,Mt=0;Mt<ct.length;Mt++)St(ct[Mt]);if(Pl)throw Pl=!1,lt=Fu,Fu=null,lt;return(Rl&1)!==0&&lt.tag!==0&&Ws(),Lt=lt.pendingLanes,(Lt&1)!==0?lt===Vu?To++:(To=0,Vu=lt):To=0,ps(),null}function Ws(){if(Is!==null){var lt=Xu(Rl),ct=Sr.transition,St=ar;try{if(Sr.transition=null,ar=16>lt?16:lt,Is===null)var Mt=!1;else{if(lt=Is,Is=null,Rl=0,(Jn&6)!==0)throw Error(it(331));var At=Jn;for(Jn|=4,Cn=lt.current;Cn!==null;){var Lt=Cn,jt=Lt.child;if((Cn.flags&16)!==0){var Qt=Lt.deletions;if(Qt!==null){for(var un=0;un<Qt.length;un++){var Mn=Qt[un];for(Cn=Mn;Cn!==null;){var Dn=Cn;switch(Dn.tag){case 0:case 11:case 15:Gs(8,Dn,Lt)}var qn=Dn.child;if(qn!==null)qn.return=Dn,Cn=qn;else for(;Cn!==null;){Dn=Cn;var Un=Dn.sibling,hr=Dn.return;if(Jp(Dn),Dn===Mn){Cn=null;break}if(Un!==null){Un.return=hr,Cn=Un;break}Cn=hr}}}var zn=Lt.alternate;if(zn!==null){var Dr=zn.child;if(Dr!==null){zn.child=null;do{var os=Dr.sibling;Dr.sibling=null,Dr=os}while(Dr!==null)}}Cn=Lt}}if((Lt.subtreeFlags&2064)!==0&&jt!==null)jt.return=Lt,Cn=jt;else e:for(;Cn!==null;){if(Lt=Cn,(Lt.flags&2048)!==0)switch(Lt.tag){case 0:case 11:case 15:Gs(9,Lt,Lt.return)}var sn=Lt.sibling;if(sn!==null){sn.return=Lt.return,Cn=sn;break e}Cn=Lt.return}}var Jt=lt.current;for(Cn=Jt;Cn!==null;){jt=Cn;var an=jt.child;if((jt.subtreeFlags&2064)!==0&&an!==null)an.return=jt,Cn=an;else e:for(jt=Jt;Cn!==null;){if(Qt=Cn,(Qt.flags&2048)!==0)try{switch(Qt.tag){case 0:case 11:case 15:bo(9,Qt)}}catch(On){Ur(Qt,Qt.return,On)}if(Qt===jt){Cn=null;break e}var An=Qt.sibling;if(An!==null){An.return=Qt.return,Cn=An;break e}Cn=Qt.return}}if(Jn=At,ps(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(Fo,lt)}catch{}Mt=!0}return Mt}finally{ar=St,Sr.transition=ct}}return!1}function vm(lt,ct,St){ct=gu(St,ct),ct=kp(lt,ct,1),Ls(lt,ct),ct=Br(),lt=Fl(lt,1),lt!==null&&(lo(lt,1,ct),Gr(lt,ct))}function Ur(lt,ct,St){if(lt.tag===3)vm(lt,lt,St);else for(;ct!==null;){if(ct.tag===3){vm(ct,lt,St);break}else if(ct.tag===1){var Mt=ct.stateNode;if(typeof ct.type.getDerivedStateFromError=="function"||typeof Mt.componentDidCatch=="function"&&(Rs===null||!Rs.has(Mt))){lt=gu(St,lt),lt=Lp(ct,lt,1),Ls(ct,lt),lt=Br(),ct=Fl(ct,1),ct!==null&&(lo(ct,1,lt),Gr(ct,lt));break}}ct=ct.return}}function a0(lt,ct,St){var Mt=lt.pingCache;Mt!==null&&Mt.delete(ct),ct=Br(),lt.pingedLanes|=lt.suspendedLanes&St,Mr===lt&&(kr&St)===St&&(Er===4||Er===3&&(kr&130023424)===kr&&500>Cr()-Iu?Us(lt,0):Ru|=St),Gr(lt,ct)}function ym(lt,ct){ct===0&&((lt.mode&1)===0?ct=1:(ct=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var St=Br();lt=Fl(lt,ct),lt!==null&&(lo(lt,ct,St),Gr(lt,St))}function l0(lt){var ct=lt.memoizedState,St=0;ct!==null&&(St=ct.retryLane),ym(lt,St)}function c0(lt,ct){var St=0;switch(lt.tag){case 13:var Mt=lt.stateNode,At=lt.memoizedState;At!==null&&(St=At.retryLane);break;case 19:Mt=lt.stateNode;break;default:throw Error(it(314))}Mt!==null&&Mt.delete(ct),ym(lt,St)}var _m;_m=function(lt,ct,St){if(lt!==null)if(lt.memoizedProps!==ct.pendingProps||Tr.current)jr=!0;else{if((lt.lanes&St)===0&&(ct.flags&128)===0)return jr=!1,Km(lt,ct,St);jr=(lt.flags&131072)!==0}else jr=!1,vr&&(ct.flags&1048576)!==0&&np(ct,Ho,ct.index);switch(ct.lanes=0,ct.tag){case 2:var Mt=ct.type;lt!==null&&(lt.alternate=null,ct.alternate=null,ct.flags|=2),lt=ct.pendingProps;var At=Ss(ct,ur.current);Ys(ct,St),At=fu(null,ct,Mt,lt,At,St);var Lt=hu();return ct.flags|=1,typeof At=="object"&&At!==null&&typeof At.render=="function"&&At.$$typeof===void 0?(ct.tag=1,ct.memoizedState=null,ct.updateQueue=null,zr(Mt)?(Lt=!0,Lo(ct)):Lt=!1,ct.memoizedState=At.state!==null&&At.state!==void 0?At.state:null,Jl(ct),At.updater=Go,ct.stateNode=At,At._reactInternals=ct,eu(ct,Mt,lt,St),ct=_u(null,ct,Mt,!0,Lt,St)):(ct.tag=0,vr&&Lt&&tu(ct),Vr(null,ct,At,St),ct=ct.child),ct;case 16:Mt=ct.elementType;e:{switch(lt!==null&&(lt.alternate=null,ct.alternate=null,ct.flags|=2),lt=ct.pendingProps,At=Mt._init,Mt=At(Mt._payload),ct.type=Mt,At=ct.tag=f0(Mt),lt=cs(Mt,lt),At){case 0:ct=yu(null,ct,Mt,lt,St);break e;case 1:ct=Gp(null,ct,Mt,lt,St);break e;case 11:ct=Bp(null,ct,Mt,lt,St);break e;case 14:ct=Op(null,ct,Mt,cs(Mt.type,lt),St);break e}throw Error(it(306,Mt,""))}return ct;case 0:return Mt=ct.type,At=ct.pendingProps,At=ct.elementType===Mt?At:cs(Mt,At),yu(lt,ct,Mt,At,St);case 1:return Mt=ct.type,At=ct.pendingProps,At=ct.elementType===Mt?At:cs(Mt,At),Gp(lt,ct,Mt,At,St);case 3:e:{if(Up(ct),lt===null)throw Error(it(387));Mt=ct.pendingProps,Lt=ct.memoizedState,At=Lt.element,Qu(lt,ct),$o(ct,Mt,null,St);var jt=ct.memoizedState;if(Mt=jt.element,Yt&&Lt.isDehydrated)if(Lt={element:Mt,isDehydrated:!1,cache:jt.cache,transitions:jt.transitions},ct.updateQueue.baseState=Lt,ct.memoizedState=Lt,ct.flags&256){At=Error(it(423)),ct=Hp(lt,ct,Mt,St,At);break e}else if(Mt!==At){At=Error(it(424)),ct=Hp(lt,ct,Mt,St,At);break e}else for(Yt&&(Wr=nn(ct.stateNode.containerInfo),Hr=ct,vr=!0,us=null,co=!1),St=up(ct,null,Mt,St),ct.child=St;St;)St.flags=St.flags&-3|4096,St=St.sibling;else{if(Qs(),Mt===At){ct=Cs(lt,ct,St);break e}Vr(lt,ct,Mt,St)}ct=ct.child}return ct;case 5:return fp(ct),lt===null&&iu(ct),Mt=ct.type,At=ct.pendingProps,Lt=lt!==null?lt.memoizedProps:null,jt=At.children,fn(Mt,At)?jt=null:Lt!==null&&fn(Mt,Lt)&&(ct.flags|=32),$p(lt,ct),Vr(lt,ct,jt,St),ct.child;case 6:return lt===null&&iu(ct),null;case 13:return Wp(lt,ct,St);case 4:return ou(ct,ct.stateNode.containerInfo),Mt=ct.pendingProps,lt===null?ct.child=Js(ct,null,Mt,St):Vr(lt,ct,Mt,St),ct.child;case 11:return Mt=ct.type,At=ct.pendingProps,At=ct.elementType===Mt?At:cs(Mt,At),Bp(lt,ct,Mt,At,St);case 7:return Vr(lt,ct,ct.pendingProps,St),ct.child;case 8:return Vr(lt,ct,ct.pendingProps.children,St),ct.child;case 12:return Vr(lt,ct,ct.pendingProps.children,St),ct.child;case 10:e:{if(Mt=ct.type._context,At=ct.pendingProps,Lt=ct.memoizedProps,jt=At.value,Zu(ct,Mt,jt),Lt!==null)if(ds(Lt.value,jt)){if(Lt.children===At.children&&!Tr.current){ct=Cs(lt,ct,St);break e}}else for(Lt=ct.child,Lt!==null&&(Lt.return=ct);Lt!==null;){var Qt=Lt.dependencies;if(Qt!==null){jt=Lt.child;for(var un=Qt.firstContext;un!==null;){if(un.context===Mt){if(Lt.tag===1){un=Ms(-1,St&-St),un.tag=2;var Mn=Lt.updateQueue;if(Mn!==null){Mn=Mn.shared;var Dn=Mn.pending;Dn===null?un.next=un:(un.next=Dn.next,Dn.next=un),Mn.pending=un}}Lt.lanes|=St,un=Lt.alternate,un!==null&&(un.lanes|=St),Ql(Lt.return,St,ct),Qt.lanes|=St;break}un=un.next}}else if(Lt.tag===10)jt=Lt.type===ct.type?null:Lt.child;else if(Lt.tag===18){if(jt=Lt.return,jt===null)throw Error(it(341));jt.lanes|=St,Qt=jt.alternate,Qt!==null&&(Qt.lanes|=St),Ql(jt,St,ct),jt=Lt.sibling}else jt=Lt.child;if(jt!==null)jt.return=Lt;else for(jt=Lt;jt!==null;){if(jt===ct){jt=null;break}if(Lt=jt.sibling,Lt!==null){Lt.return=jt.return,jt=Lt;break}jt=jt.return}Lt=jt}Vr(lt,ct,At.children,St),ct=ct.child}return ct;case 9:return At=ct.type,Mt=ct.pendingProps.children,Ys(ct,St),At=Jr(At),Mt=Mt(At),ct.flags|=1,Vr(lt,ct,Mt,St),ct.child;case 14:return Mt=ct.type,At=cs(Mt,ct.pendingProps),At=cs(Mt.type,At),Op(lt,ct,Mt,At,St);case 15:return Np(lt,ct,ct.type,ct.pendingProps,St);case 17:return Mt=ct.type,At=ct.pendingProps,At=ct.elementType===Mt?At:cs(Mt,At),lt!==null&&(lt.alternate=null,ct.alternate=null,ct.flags|=2),ct.tag=1,zr(Mt)?(lt=!0,Lo(ct)):lt=!1,Ys(ct,St),ep(ct,Mt,At),eu(ct,Mt,At,St),_u(null,ct,Mt,!0,lt,St);case 19:return Yp(lt,ct,St);case 22:return zp(lt,ct,St)}throw Error(it(156,ct.tag))};function xm(lt,ct){return Ul(lt,ct)}function u0(lt,ct,St,Mt){this.tag=lt,this.key=St,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ct,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Mt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(lt,ct,St,Mt){return new u0(lt,ct,St,Mt)}function $u(lt){return lt=lt.prototype,!(!lt||!lt.isReactComponent)}function f0(lt){if(typeof lt=="function")return $u(lt)?1:0;if(lt!=null){if(lt=lt.$$typeof,lt===gt)return 11;if(lt===mt)return 14}return 2}function Vs(lt,ct){var St=lt.alternate;return St===null?(St=ss(lt.tag,ct,lt.key,lt.mode),St.elementType=lt.elementType,St.type=lt.type,St.stateNode=lt.stateNode,St.alternate=lt,lt.alternate=St):(St.pendingProps=ct,St.type=lt.type,St.flags=0,St.subtreeFlags=0,St.deletions=null),St.flags=lt.flags&14680064,St.childLanes=lt.childLanes,St.lanes=lt.lanes,St.child=lt.child,St.memoizedProps=lt.memoizedProps,St.memoizedState=lt.memoizedState,St.updateQueue=lt.updateQueue,ct=lt.dependencies,St.dependencies=ct===null?null:{lanes:ct.lanes,firstContext:ct.firstContext},St.sibling=lt.sibling,St.index=lt.index,St.ref=lt.ref,St}function Bl(lt,ct,St,Mt,At,Lt){var jt=2;if(Mt=lt,typeof lt=="function")$u(lt)&&(jt=1);else if(typeof lt=="string")jt=5;else e:switch(lt){case ut:return js(St.children,At,Lt,ct);case ht:jt=8,At|=8;break;case ft:return lt=ss(12,St,ct,At|2),lt.elementType=ft,lt.lanes=Lt,lt;case _t:return lt=ss(13,St,ct,At),lt.elementType=_t,lt.lanes=Lt,lt;case pt:return lt=ss(19,St,ct,At),lt.elementType=pt,lt.lanes=Lt,lt;case xt:return Ol(St,At,Lt,ct);default:if(typeof lt=="object"&&lt!==null)switch(lt.$$typeof){case dt:jt=10;break e;case vt:jt=9;break e;case gt:jt=11;break e;case mt:jt=14;break e;case yt:jt=16,Mt=null;break e}throw Error(it(130,lt==null?lt:typeof lt,""))}return ct=ss(jt,St,ct,At),ct.elementType=lt,ct.type=Mt,ct.lanes=Lt,ct}function js(lt,ct,St,Mt){return lt=ss(7,lt,Mt,ct),lt.lanes=St,lt}function Ol(lt,ct,St,Mt){return lt=ss(22,lt,Mt,ct),lt.elementType=xt,lt.lanes=St,lt.stateNode={},lt}function Gu(lt,ct,St){return lt=ss(6,lt,null,ct),lt.lanes=St,lt}function Uu(lt,ct,St){return ct=ss(4,lt.children!==null?lt.children:[],lt.key,ct),ct.lanes=St,ct.stateNode={containerInfo:lt.containerInfo,pendingChildren:null,implementation:lt.implementation},ct}function h0(lt,ct,St,Mt,At){this.tag=ct,this.containerInfo=lt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=bn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=Mt,this.onRecoverableError=At,Yt&&(this.mutableSourceEagerHydrationData=null)}function Sm(lt,ct,St,Mt,At,Lt,jt,Qt,un){return lt=new h0(lt,ct,St,Qt,un),ct===1?(ct=1,Lt===!0&&(ct|=8)):ct=0,Lt=ss(3,null,null,ct),lt.current=Lt,Lt.stateNode=lt,Lt.memoizedState={element:Mt,isDehydrated:St,cache:null,transitions:null},Jl(Lt),lt}function bm(lt){if(!lt)return Qr;lt=lt._reactInternals;e:{if(kt(lt)!==lt||lt.tag!==1)throw Error(it(170));var ct=lt;do{switch(ct.tag){case 3:ct=ct.stateNode.context;break e;case 1:if(zr(ct.type)){ct=ct.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ct=ct.return}while(ct!==null);throw Error(it(171))}if(lt.tag===1){var St=lt.type;if(zr(St))return ju(lt,St,ct)}return ct}function Mm(lt){var ct=lt._reactInternals;if(ct===void 0)throw typeof lt.render=="function"?Error(it(188)):(lt=Object.keys(lt).join(","),Error(it(268,lt)));return lt=Wt(ct),lt===null?null:lt.stateNode}function wm(lt,ct){if(lt=lt.memoizedState,lt!==null&&lt.dehydrated!==null){var St=lt.retryLane;lt.retryLane=St!==0&&St<ct?St:ct}}function Hu(lt,ct){wm(lt,ct),(lt=lt.alternate)&&wm(lt,ct)}function d0(lt){return lt=Wt(lt),lt===null?null:lt.stateNode}function p0(){return null}return et.attemptContinuousHydration=function(lt){if(lt.tag===13){var ct=Br();rs(lt,134217728,ct),Hu(lt,134217728)}},et.attemptHydrationAtCurrentPriority=function(lt){if(lt.tag===13){var ct=Br(),St=Ds(lt);rs(lt,St,ct),Hu(lt,St)}},et.attemptSynchronousHydration=function(lt){switch(lt.tag){case 3:var ct=lt.stateNode;if(ct.current.memoizedState.isDehydrated){var St=ao(ct.pendingLanes);St!==0&&(Gl(ct,St|1),Gr(ct,Cr()),(Jn&6)===0&&(so(),ps()))}break;case 13:var Mt=Br();hm(function(){return rs(lt,1,Mt)}),Hu(lt,1)}},et.batchedUpdates=function(lt,ct){var St=Jn;Jn|=1;try{return lt(ct)}finally{Jn=St,Jn===0&&(so(),Vo&&ps())}},et.createComponentSelector=function(lt){return{$$typeof:xl,value:lt}},et.createContainer=function(lt,ct,St,Mt,At,Lt,jt){return Sm(lt,ct,!1,null,St,Mt,At,Lt,jt)},et.createHasPseudoClassSelector=function(lt){return{$$typeof:Sl,value:lt}},et.createHydrationContainer=function(lt,ct,St,Mt,At,Lt,jt,Qt,un){return lt=Sm(St,Mt,!0,lt,At,Lt,jt,Qt,un),lt.context=bm(null),St=lt.current,Mt=Br(),At=Ds(St),Lt=Ms(Mt,At),Lt.callback=ct!=null?ct:null,Ls(St,Lt),lt.current.lanes=At,lo(lt,At,Mt),Gr(lt,Mt),lt},et.createPortal=function(lt,ct,St){var Mt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:at,key:Mt==null?null:""+Mt,children:lt,containerInfo:ct,implementation:St}},et.createRoleSelector=function(lt){return{$$typeof:Ml,value:lt}},et.createTestNameSelector=function(lt){return{$$typeof:El,value:lt}},et.createTextSelector=function(lt){return{$$typeof:Tl,value:lt}},et.deferredUpdates=function(lt){var ct=ar,St=Sr.transition;try{return Sr.transition=null,ar=16,lt()}finally{ar=ct,Sr.transition=St}},et.discreteUpdates=function(lt,ct,St,Mt,At){var Lt=ar,jt=Sr.transition;try{return Sr.transition=null,ar=1,lt(ct,St,Mt,At)}finally{ar=Lt,Sr.transition=jt,Jn===0&&so()}},et.findAllNodes=ku,et.findBoundingRects=function(lt,ct){if(!Bn)throw Error(it(363));ct=ku(lt,ct),lt=[];for(var St=0;St<ct.length;St++)lt.push(qt(ct[St]));for(ct=lt.length-1;0<ct;ct--){St=lt[ct];for(var Mt=St.x,At=Mt+St.width,Lt=St.y,jt=Lt+St.height,Qt=ct-1;0<=Qt;Qt--)if(ct!==Qt){var un=lt[Qt],Mn=un.x,Dn=Mn+un.width,qn=un.y,Un=qn+un.height;if(Mt>=Mn&&Lt>=qn&&At<=Dn&&jt<=Un){lt.splice(ct,1);break}else if(Mt!==Mn||St.width!==un.width||Un<Lt||qn>jt){if(!(Lt!==qn||St.height!==un.height||Dn<Mt||Mn>At)){Mn>Mt&&(un.width+=Mn-Mt,un.x=Mt),Dn<At&&(un.width=At-Mn),lt.splice(ct,1);break}}else{qn>Lt&&(un.height+=qn-Lt,un.y=Lt),Un<jt&&(un.height=jt-qn),lt.splice(ct,1);break}}}return lt},et.findHostInstance=Mm,et.findHostInstanceWithNoPortals=function(lt){return lt=zt(lt),lt=lt!==null?Gt(lt):null,lt===null?null:lt.stateNode},et.findHostInstanceWithWarning=function(lt){return Mm(lt)},et.flushControlled=function(lt){var ct=Jn;Jn|=1;var St=Sr.transition,Mt=ar;try{Sr.transition=null,ar=1,lt()}finally{ar=Mt,Sr.transition=St,Jn=ct,Jn===0&&(so(),ps())}},et.flushPassiveEffects=Ws,et.flushSync=hm,et.focusWithin=function(lt,ct){if(!Bn)throw Error(it(363));for(lt=Cu(lt),ct=cm(lt,ct),ct=Array.from(ct),lt=0;lt<ct.length;){var St=ct[lt++];if(!Zt(St)){if(St.tag===5&&Sn(St.stateNode))return!0;for(St=St.child;St!==null;)ct.push(St),St=St.sibling}}return!1},et.getCurrentUpdatePriority=function(){return ar},et.getFindAllNodesFailureDescription=function(lt,ct){if(!Bn)throw Error(it(363));var St=0,Mt=[];lt=[Cu(lt),0];for(var At=0;At<lt.length;){var Lt=lt[At++],jt=lt[At++],Qt=ct[jt];if((Lt.tag!==5||!Zt(Lt))&&(Au(Lt,Qt)&&(Mt.push(Pu(Qt)),jt++,jt>St&&(St=jt)),jt<ct.length))for(Lt=Lt.child;Lt!==null;)lt.push(Lt,jt),Lt=Lt.sibling}if(St<ct.length){for(lt=[];St<ct.length;St++)lt.push(Pu(ct[St]));return`findAllNodes was able to match part of the selector:
  `+(Mt.join(" > ")+`

No matching component was found for:
  `)+lt.join(" > ")}return null},et.getPublicRootInstance=function(lt){if(lt=lt.current,!lt.child)return null;switch(lt.child.tag){case 5:return Ft(lt.child.stateNode);default:return lt.child.stateNode}},et.injectIntoDevTools=function(lt){if(lt={bundleType:lt.bundleType,version:lt.version,rendererPackageName:lt.rendererPackageName,rendererConfig:lt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:st.ReactCurrentDispatcher,findHostInstanceByFiber:d0,findFiberByHostInstance:lt.findFiberByHostInstance||p0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")lt=!1;else{var ct=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(ct.isDisabled||!ct.supportsFiber)lt=!0;else{try{Fo=ct.inject(lt),hs=ct}catch{}lt=!!ct.checkDCE}}return lt},et.isAlreadyRendering=function(){return!1},et.observeVisibleRects=function(lt,ct,St,Mt){if(!Bn)throw Error(it(363));lt=ku(lt,ct);var At=wn(lt,St,Mt).disconnect;return{disconnect:function(){At()}}},et.registerMutableSourceForHydration=function(lt,ct){var St=ct._getVersion;St=St(ct._source),lt.mutableSourceEagerHydrationData==null?lt.mutableSourceEagerHydrationData=[ct,St]:lt.mutableSourceEagerHydrationData.push(ct,St)},et.runWithPriority=function(lt,ct){var St=ar;try{return ar=lt,ct()}finally{ar=St}},et.shouldError=function(){return null},et.shouldSuspend=function(){return!1},et.updateContainer=function(lt,ct,St,Mt){var At=ct.current,Lt=Br(),jt=Ds(At);return St=bm(St),ct.context===null?ct.context=St:ct.pendingContext=St,ct=Ms(Lt,jt),ct.payload={element:lt},Mt=Mt===void 0?null:Mt,Mt!==null&&(ct.callback=Mt),Ls(At,ct),lt=rs(At,jt,Lt),lt!==null&&zo(lt,At,jt),jt},et};(function(o){o.exports=reactReconciler_production_min})(reactReconciler);const Reconciler=getDefaultExportFromCjs(reactReconciler.exports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function s(Tt,Pt){var Rt=Tt.length;Tt.push(Pt);e:for(;0<Rt;){var Vt=Rt-1>>>1,Ot=Tt[Vt];if(0<nt(Ot,Pt))Tt[Vt]=Pt,Tt[Rt]=Ot,Rt=Vt;else break e}}function et(Tt){return Tt.length===0?null:Tt[0]}function tt(Tt){if(Tt.length===0)return null;var Pt=Tt[0],Rt=Tt.pop();if(Rt!==Pt){Tt[0]=Rt;e:for(var Vt=0,Ot=Tt.length,Xt=Ot>>>1;Vt<Xt;){var Kt=2*(Vt+1)-1,fn=Tt[Kt],Nt=Kt+1,vn=Tt[Nt];if(0>nt(fn,Rt))Nt<Ot&&0>nt(vn,fn)?(Tt[Vt]=vn,Tt[Nt]=Rt,Vt=Nt):(Tt[Vt]=fn,Tt[Kt]=Rt,Vt=Kt);else if(Nt<Ot&&0>nt(vn,Rt))Tt[Vt]=vn,Tt[Nt]=Rt,Vt=Nt;else break e}}return Pt}function nt(Tt,Pt){var Rt=Tt.sortIndex-Pt.sortIndex;return Rt!==0?Rt:Tt.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;o.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();o.unstable_now=function(){return it.now()-st}}var ot=[],at=[],ut=1,ht=null,ft=3,dt=!1,vt=!1,gt=!1,_t=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Tt){for(var Pt=et(at);Pt!==null;){if(Pt.callback===null)tt(at);else if(Pt.startTime<=Tt)tt(at),Pt.sortIndex=Pt.expirationTime,s(ot,Pt);else break;Pt=et(at)}}function xt(Tt){if(gt=!1,yt(Tt),!vt)if(et(ot)!==null)vt=!0,Ft(bt);else{var Pt=et(at);Pt!==null&&It(xt,Pt.startTime-Tt)}}function bt(Tt,Pt){vt=!1,gt&&(gt=!1,pt(Et),Et=-1),dt=!0;var Rt=ft;try{for(yt(Pt),ht=et(ot);ht!==null&&(!(ht.expirationTime>Pt)||Tt&&!zt());){var Vt=ht.callback;if(typeof Vt=="function"){ht.callback=null,ft=ht.priorityLevel;var Ot=Vt(ht.expirationTime<=Pt);Pt=o.unstable_now(),typeof Ot=="function"?ht.callback=Ot:ht===et(ot)&&tt(ot),yt(Pt)}else tt(ot);ht=et(ot)}if(ht!==null)var Xt=!0;else{var Kt=et(at);Kt!==null&&It(xt,Kt.startTime-Pt),Xt=!1}return Xt}finally{ht=null,ft=Rt,dt=!1}}var wt=!1,Ct=null,Et=-1,kt=5,Dt=-1;function zt(){return!(o.unstable_now()-Dt<kt)}function Wt(){if(Ct!==null){var Tt=o.unstable_now();Dt=Tt;var Pt=!0;try{Pt=Ct(!0,Tt)}finally{Pt?Ht():(wt=!1,Ct=null)}}else wt=!1}var Ht;if(typeof mt=="function")Ht=function(){mt(Wt)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,$t=Gt.port2;Gt.port1.onmessage=Wt,Ht=function(){$t.postMessage(null)}}else Ht=function(){_t(Wt,0)};function Ft(Tt){Ct=Tt,wt||(wt=!0,Ht())}function It(Tt,Pt){Et=_t(function(){Tt(o.unstable_now())},Pt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Tt){Tt.callback=null},o.unstable_continueExecution=function(){vt||dt||(vt=!0,Ft(bt))},o.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kt=0<Tt?Math.floor(1e3/Tt):5},o.unstable_getCurrentPriorityLevel=function(){return ft},o.unstable_getFirstCallbackNode=function(){return et(ot)},o.unstable_next=function(Tt){switch(ft){case 1:case 2:case 3:var Pt=3;break;default:Pt=ft}var Rt=ft;ft=Pt;try{return Tt()}finally{ft=Rt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Tt,Pt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Rt=ft;ft=Tt;try{return Pt()}finally{ft=Rt}},o.unstable_scheduleCallback=function(Tt,Pt,Rt){var Vt=o.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?Vt+Rt:Vt):Rt=Vt,Tt){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=Rt+Ot,Tt={id:ut++,callback:Pt,priorityLevel:Tt,startTime:Rt,expirationTime:Ot,sortIndex:-1},Rt>Vt?(Tt.sortIndex=Rt,s(at,Tt),et(ot)===null&&Tt===et(at)&&(gt?(pt(Et),Et=-1):gt=!0,It(xt,Rt-Vt))):(Tt.sortIndex=Ot,s(ot,Tt),vt||dt||(vt=!0,Ft(bt))),Tt},o.unstable_shouldYield=zt,o.unstable_wrapCallback=function(Tt){var Pt=ft;return function(){var Rt=ft;ft=Pt;try{return Tt.apply(this,arguments)}finally{ft=Rt}}}})(scheduler_production_min);(function(o){o.exports=scheduler_production_min})(scheduler);var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react.exports,k$3=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$2(o,s,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),s.key!==void 0&&(rt=""+s.key),s.ref!==void 0&&(it=s.ref);for(tt in s)m$1.call(s,tt)&&!p$1.hasOwnProperty(tt)&&(nt[tt]=s[tt]);if(o&&o.defaultProps)for(tt in s=o.defaultProps,s)nt[tt]===void 0&&(nt[tt]=s[tt]);return{$$typeof:k$3,type:o,key:rt,ref:it,props:nt,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function(o){o.exports=reactJsxRuntime_production_min})(jsxRuntime);const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;var _window$document,_window$navigator;const isOrthographicCamera=o=>o&&o.isOrthographicCamera,isRef=o=>o&&o.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?react.exports.useLayoutEffect:react.exports.useEffect;function useMutableCallback(o){const s=react.exports.useRef(o);return useIsomorphicLayoutEffect$1(()=>void(s.current=o),[o]),s}function Block({set:o}){return useIsomorphicLayoutEffect$1(()=>(o(new Promise(()=>null)),()=>o(!1)),[o]),null}class ErrorBoundary extends react.exports.Component{constructor(...s){super(...s),this.state={error:!1}}componentDidCatch(s){this.props.set(s)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",isDiffSet=o=>o&&!!o.memoized&&!!o.changes;function calculateDpr(o){return Array.isArray(o)?Math.min(Math.max(o[0],window.devicePixelRatio),o[1]):o}const getRootState=o=>{var s;return(s=o.__r3f)==null?void 0:s.root.getState()},is={obj:o=>o===Object(o)&&!is.arr(o)&&typeof o!="function",fun:o=>typeof o=="function",str:o=>typeof o=="string",num:o=>typeof o=="number",boo:o=>typeof o=="boolean",und:o=>o===void 0,arr:o=>Array.isArray(o),equ(o,s,{arrays:et="shallow",objects:tt="reference",strict:nt=!0}={}){if(typeof o!=typeof s||!!o!=!!s)return!1;if(is.str(o)||is.num(o))return o===s;const rt=is.obj(o);if(rt&&tt==="reference")return o===s;const it=is.arr(o);if(it&&et==="reference")return o===s;if((it||rt)&&o===s)return!0;let st;for(st in o)if(!(st in s))return!1;for(st in nt?s:o)if(o[st]!==s[st])return!1;if(is.und(st)){if(it&&o.length===0&&s.length===0||rt&&Object.keys(o).length===0&&Object.keys(s).length===0)return!0;if(o!==s)return!1}return!0}};function dispose(o){o.dispose&&o.type!=="Scene"&&o.dispose();for(const s in o)s.dispose==null||s.dispose(),delete o[s]}function prepare(o,s){const et=o;return(s!=null&&s.primitive||!et.__r3f)&&(et.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...s}),o}function resolve(o,s){let et=o;if(s.includes("-")){const tt=s.split("-"),nt=tt.pop();return et=tt.reduce((rt,it)=>rt[it],o),{target:et,key:nt}}else return{target:et,key:s}}const INDEX_REGEX=/-\d+$/;function attach(o,s,et){if(is.str(et)){if(INDEX_REGEX.test(et)){const rt=et.replace(INDEX_REGEX,""),{target:it,key:st}=resolve(o,rt);Array.isArray(it[st])||(it[st]=[])}const{target:tt,key:nt}=resolve(o,et);s.__r3f.previousAttach=tt[nt],tt[nt]=s}else s.__r3f.previousAttach=et(o,s)}function detach(o,s,et){var tt,nt;if(is.str(et)){const{target:rt,key:it}=resolve(o,et),st=s.__r3f.previousAttach;st===void 0?delete rt[it]:rt[it]=st}else(tt=s.__r3f)==null||tt.previousAttach==null||tt.previousAttach(o,s);(nt=s.__r3f)==null||delete nt.previousAttach}function diffProps(o,{children:s,key:et,ref:tt,...nt},{children:rt,key:it,ref:st,...ot}={},at=!1){var ut;const ht=(ut=o==null?void 0:o.__r3f)!=null?ut:{},ft=Object.entries(nt),dt=[];if(at){const gt=Object.keys(ot);for(let _t=0;_t<gt.length;_t++)nt.hasOwnProperty(gt[_t])||ft.unshift([gt[_t],DEFAULT+"remove"])}ft.forEach(([gt,_t])=>{var pt;if((pt=o.__r3f)!=null&&pt.primitive&&gt==="object"||is.equ(_t,ot[gt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(gt))return dt.push([gt,_t,!0,[]]);let mt=[];gt.includes("-")&&(mt=gt.split("-")),dt.push([gt,_t,!1,mt])});const vt={...nt};return ht.memoizedProps&&ht.memoizedProps.args&&(vt.args=ht.memoizedProps.args),ht.memoizedProps&&ht.memoizedProps.attach&&(vt.attach=ht.memoizedProps.attach),{memoized:vt,changes:dt}}function applyProps$1(o,s){var et,tt;const nt=(et=o.__r3f)!=null?et:{},rt=nt.root,it=(tt=rt==null||rt.getState==null?void 0:rt.getState())!=null?tt:{},{memoized:st,changes:ot}=isDiffSet(s)?s:diffProps(o,s),at=nt.eventCount;if(o.__r3f&&(o.__r3f.memoizedProps=st),ot.forEach(([ut,ht,ft,dt])=>{let vt=o,gt=vt[ut];if(dt.length&&(gt=dt.reduce((mt,yt)=>mt[yt],o),!(gt&&gt.set))){const[mt,...yt]=dt.reverse();vt=yt.reverse().reduce((xt,bt)=>xt[bt],o),ut=mt}if(ht===DEFAULT+"remove")if(gt&&gt.constructor){var _t;ht=new gt.constructor(...(_t=st.args)!=null?_t:[])}else if(vt.constructor){var pt;const mt=new vt.constructor(...(pt=vt.__r3f.memoizedProps.args)!=null?pt:[]);ht=mt[gt],mt.dispose&&mt.dispose()}else ht=0;if(ft)ht?nt.handlers[ut]=ht:delete nt.handlers[ut],nt.eventCount=Object.keys(nt.handlers).length;else if(gt&&gt.set&&(gt.copy||gt instanceof Layers)){if(Array.isArray(ht))gt.fromArray?gt.fromArray(ht):gt.set(...ht);else if(gt.copy&&ht&&ht.constructor&&gt.constructor.name===ht.constructor.name)gt.copy(ht);else if(ht!==void 0){const mt=gt instanceof Color;!mt&&gt.setScalar?gt.setScalar(ht):gt instanceof Layers&&ht instanceof Layers?gt.mask=ht.mask:gt.set(ht),!("ColorManagement"in THREE)&&!it.linear&&mt&&gt.convertSRGBToLinear()}}else vt[ut]=ht,!it.linear&&vt[ut]instanceof Texture&&(vt[ut].encoding=sRGBEncoding);invalidateInstance(o)}),nt.parent&&it.internal&&o.raycast&&at!==nt.eventCount){const ut=it.internal.interaction.indexOf(o);ut>-1&&it.internal.interaction.splice(ut,1),nt.eventCount&&it.internal.interaction.push(o)}return ot.length&&o.parent&&updateInstance(o),o}function invalidateInstance(o){var s,et;const tt=(s=o.__r3f)==null||(et=s.root)==null||et.getState==null?void 0:et.getState();tt&&tt.internal.frames===0&&tt.invalidate()}function updateInstance(o){o.onUpdate==null||o.onUpdate(o)}function updateCamera(o,s){o.manual||(isOrthographicCamera(o)?(o.left=s.width/-2,o.right=s.width/2,o.top=s.height/2,o.bottom=s.height/-2):o.aspect=s.width/s.height,o.updateProjectionMatrix(),o.updateMatrixWorld())}function setDeep(o,s,et){const tt=et.pop(),nt=et.reduce((rt,it)=>rt[it],o);return nt[tt]=s}function makeId(o){return(o.eventObject||o.object).uuid+"/"+o.index+o.instanceId}function getEventPriority(){var o,s;switch((o=window)==null||(s=o.event)==null?void 0:s.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constants.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constants.exports.ContinuousEventPriority;default:return constants.exports.DefaultEventPriority}}function releaseInternalPointerCapture(o,s,et,tt){const nt=et.get(s);nt&&(et.delete(s),et.size===0&&(o.delete(tt),nt.target.releasePointerCapture(tt)))}function removeInteractivity(o,s){const{internal:et}=o.getState();et.interaction=et.interaction.filter(tt=>tt!==s),et.initialHits=et.initialHits.filter(tt=>tt!==s),et.hovered.forEach((tt,nt)=>{(tt.eventObject===s||tt.object===s)&&et.hovered.delete(nt)}),et.capturedMap.forEach((tt,nt)=>{releaseInternalPointerCapture(et.capturedMap,s,tt,nt)})}function createEvents(o){function s(ot){const{internal:at}=o.getState(),ut=ot.offsetX-at.initialClick[0],ht=ot.offsetY-at.initialClick[1];return Math.round(Math.sqrt(ut*ut+ht*ht))}function et(ot){return ot.filter(at=>["Move","Over","Enter","Out","Leave"].some(ut=>{var ht;return(ht=at.__r3f)==null?void 0:ht.handlers["onPointer"+ut]}))}function tt(ot,at){const ut=o.getState(),ht=new Set,ft=[],dt=at?at(ut.internal.interaction):ut.internal.interaction;dt.forEach(_t=>{const pt=getRootState(_t);pt&&(pt.raycaster.camera=void 0)}),ut.previousRoot||ut.events.compute==null||ut.events.compute(ot,ut);let vt=dt.flatMap(_t=>{const pt=getRootState(_t);if(!pt||!pt.events.enabled||pt.raycaster.camera===null)return[];if(pt.raycaster.camera===void 0){var mt;pt.events.compute==null||pt.events.compute(ot,pt,(mt=pt.previousRoot)==null?void 0:mt.getState()),pt.raycaster.camera===void 0&&(pt.raycaster.camera=null)}return pt.raycaster.camera?pt.raycaster.intersectObject(_t,!0):[]}).sort((_t,pt)=>{const mt=getRootState(_t.object),yt=getRootState(pt.object);return!mt||!yt?0:yt.events.priority-mt.events.priority||_t.distance-pt.distance}).filter(_t=>{const pt=makeId(_t);return ht.has(pt)?!1:(ht.add(pt),!0)});ut.events.filter&&(vt=ut.events.filter(vt,ut));for(const _t of vt){let pt=_t.object;for(;pt;){var gt;(gt=pt.__r3f)!=null&&gt.eventCount&&ft.push({..._t,eventObject:pt}),pt=pt.parent}}if("pointerId"in ot&&ut.internal.capturedMap.has(ot.pointerId))for(let _t of ut.internal.capturedMap.get(ot.pointerId).values())ft.push(_t.intersection);return ft}function nt(ot,at,ut,ht){if(ot.length){const ft={stopped:!1};for(const dt of ot){const vt=getRootState(dt.object);if(vt){const{raycaster:gt,pointer:_t,camera:pt,internal:mt}=vt,yt=new Vector3(_t.x,_t.y,0).unproject(pt),xt=kt=>{var Dt,zt;return(Dt=(zt=mt.capturedMap.get(kt))==null?void 0:zt.has(dt.eventObject))!=null?Dt:!1},bt=kt=>{const Dt={intersection:dt,target:at.target};mt.capturedMap.has(kt)?mt.capturedMap.get(kt).set(dt.eventObject,Dt):mt.capturedMap.set(kt,new Map([[dt.eventObject,Dt]])),at.target.setPointerCapture(kt)},wt=kt=>{const Dt=mt.capturedMap.get(kt);Dt&&releaseInternalPointerCapture(mt.capturedMap,dt.eventObject,Dt,kt)};let Ct={};for(let kt in at){let Dt=at[kt];typeof Dt!="function"&&(Ct[kt]=Dt)}let Et={...dt,...Ct,pointer:_t,intersections:ot,stopped:ft.stopped,delta:ut,unprojectedPoint:yt,ray:gt.ray,camera:pt,stopPropagation:()=>{const kt="pointerId"in at&&mt.capturedMap.get(at.pointerId);if((!kt||kt.has(dt.eventObject))&&(Et.stopped=ft.stopped=!0,mt.hovered.size&&Array.from(mt.hovered.values()).find(Dt=>Dt.eventObject===dt.eventObject))){const Dt=ot.slice(0,ot.indexOf(dt));rt([...Dt,dt])}},target:{hasPointerCapture:xt,setPointerCapture:bt,releasePointerCapture:wt},currentTarget:{hasPointerCapture:xt,setPointerCapture:bt,releasePointerCapture:wt},nativeEvent:at};if(ht(Et),ft.stopped===!0)break}}}return ot}function rt(ot){const{internal:at}=o.getState();Array.from(at.hovered.values()).forEach(ut=>{if(!ot.length||!ot.find(ht=>ht.object===ut.object&&ht.index===ut.index&&ht.instanceId===ut.instanceId)){const ft=ut.eventObject.__r3f,dt=ft==null?void 0:ft.handlers;if(at.hovered.delete(makeId(ut)),ft!=null&&ft.eventCount){const vt={...ut,intersections:ot};dt.onPointerOut==null||dt.onPointerOut(vt),dt.onPointerLeave==null||dt.onPointerLeave(vt)}}})}const it=ot=>{switch(ot){case"onPointerLeave":case"onPointerCancel":return()=>rt([]);case"onLostPointerCapture":return at=>{const{internal:ut}=o.getState();"pointerId"in at&&!ut.capturedMap.has(at.pointerId)&&(ut.capturedMap.delete(at.pointerId),rt([]))}}return at=>{const{onPointerMissed:ut,internal:ht}=o.getState();ht.lastEvent.current=at;const ft=ot==="onPointerMove",dt=ot==="onClick"||ot==="onContextMenu"||ot==="onDoubleClick",gt=tt(at,ft?et:void 0),_t=dt?s(at):0;ot==="onPointerDown"&&(ht.initialClick=[at.offsetX,at.offsetY],ht.initialHits=gt.map(pt=>pt.eventObject)),dt&&!gt.length&&_t<=2&&(st(at,ht.interaction),ut&&ut(at)),ft&&rt(gt),nt(gt,at,_t,pt=>{const mt=pt.eventObject,yt=mt.__r3f,xt=yt==null?void 0:yt.handlers;if(!!(yt!=null&&yt.eventCount))if(ft){if(xt.onPointerOver||xt.onPointerEnter||xt.onPointerOut||xt.onPointerLeave){const bt=makeId(pt),wt=ht.hovered.get(bt);wt?wt.stopped&&pt.stopPropagation():(ht.hovered.set(bt,pt),xt.onPointerOver==null||xt.onPointerOver(pt),xt.onPointerEnter==null||xt.onPointerEnter(pt))}xt.onPointerMove==null||xt.onPointerMove(pt)}else{const bt=xt[ot];bt?(!dt||ht.initialHits.includes(mt))&&(st(at,ht.interaction.filter(wt=>!ht.initialHits.includes(wt))),bt(pt)):dt&&ht.initialHits.includes(mt)&&st(at,ht.interaction.filter(wt=>!ht.initialHits.includes(wt)))}})}};function st(ot,at){at.forEach(ut=>{var ht;return(ht=ut.__r3f)==null||ht.handlers.onPointerMissed==null?void 0:ht.handlers.onPointerMissed(ot)})}return{handlePointer:it}}let catalogue={},extend=o=>void(catalogue={...catalogue,...o});function createRenderer(o,s){function et(ut,{args:ht=[],attach:ft,...dt},vt){let gt=`${ut[0].toUpperCase()}${ut.slice(1)}`,_t;if(ut==="primitive"){if(dt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const pt=dt.object;_t=prepare(pt,{type:ut,root:vt,attach:ft,primitive:!0})}else{const pt=catalogue[gt];if(!pt)throw new Error(`R3F: ${gt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(ht))throw new Error("R3F: The args prop must be an array!");_t=prepare(new pt(...ht),{type:ut,root:vt,attach:ft,memoizedProps:{args:ht}})}return _t.__r3f.attach===void 0&&(_t instanceof BufferGeometry?_t.__r3f.attach="geometry":_t instanceof Material&&(_t.__r3f.attach="material")),gt!=="inject"&&applyProps$1(_t,dt),_t}function tt(ut,ht){let ft=!1;if(ht){var dt,vt;(dt=ht.__r3f)!=null&&dt.attach?attach(ut,ht,ht.__r3f.attach):ht.isObject3D&&ut.isObject3D&&(ut.add(ht),ft=!0),ft||(vt=ut.__r3f)==null||vt.objects.push(ht),ht.__r3f||prepare(ht,{}),ht.__r3f.parent=ut,updateInstance(ht),invalidateInstance(ht)}}function nt(ut,ht,ft){let dt=!1;if(ht){var vt,gt;if((vt=ht.__r3f)!=null&&vt.attach)attach(ut,ht,ht.__r3f.attach);else if(ht.isObject3D&&ut.isObject3D){ht.parent=ut,ht.dispatchEvent({type:"added"});const _t=ut.children.filter(mt=>mt!==ht),pt=_t.indexOf(ft);ut.children=[..._t.slice(0,pt),ht,..._t.slice(pt)],dt=!0}dt||(gt=ut.__r3f)==null||gt.objects.push(ht),ht.__r3f||prepare(ht,{}),ht.__r3f.parent=ut,updateInstance(ht),invalidateInstance(ht)}}function rt(ut,ht,ft=!1){ut&&[...ut].forEach(dt=>it(ht,dt,ft))}function it(ut,ht,ft){if(ht){var dt,vt,gt;if(ht.__r3f&&(ht.__r3f.parent=null),(dt=ut.__r3f)!=null&&dt.objects&&(ut.__r3f.objects=ut.__r3f.objects.filter(xt=>xt!==ht)),(vt=ht.__r3f)!=null&&vt.attach)detach(ut,ht,ht.__r3f.attach);else if(ht.isObject3D&&ut.isObject3D){var _t;ut.remove(ht),(_t=ht.__r3f)!=null&&_t.root&&removeInteractivity(ht.__r3f.root,ht)}const mt=(gt=ht.__r3f)==null?void 0:gt.primitive,yt=ft===void 0?ht.dispose!==null&&!mt:ft;if(!mt){var pt;rt((pt=ht.__r3f)==null?void 0:pt.objects,ht,yt),rt(ht.children,ht,yt)}ht.__r3f&&(delete ht.__r3f.root,delete ht.__r3f.objects,delete ht.__r3f.handlers,delete ht.__r3f.memoizedProps,mt||delete ht.__r3f),yt&&ht.dispose&&ht.type!=="Scene"&&scheduler.exports.unstable_scheduleCallback(scheduler.exports.unstable_IdlePriority,()=>{try{ht.dispose()}catch{}}),invalidateInstance(ut)}}function st(ut,ht,ft,dt){var vt;const gt=(vt=ut.__r3f)==null?void 0:vt.parent;if(!gt)return;const _t=et(ht,ft,ut.__r3f.root);if(ut.children){for(const pt of ut.children)pt.__r3f&&tt(_t,pt);ut.children=ut.children.filter(pt=>!pt.__r3f)}ut.__r3f.objects.forEach(pt=>tt(_t,pt)),ut.__r3f.objects=[],it(gt,ut),tt(gt,_t),_t.raycast&&_t.__r3f.eventCount&&_t.__r3f.root.getState().internal.interaction.push(_t),[dt,dt.alternate].forEach(pt=>{pt!==null&&(pt.stateNode=_t,pt.ref&&(typeof pt.ref=="function"?pt.ref(_t):pt.ref.current=_t))})}const ot=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:et,removeChild:it,appendChild:tt,appendInitialChild:tt,insertBefore:nt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ut,ht)=>{if(!ht)return;const ft=ut.getState().scene;!ft.__r3f||(ft.__r3f.root=ut,tt(ft,ht))},removeChildFromContainer:(ut,ht)=>{!ht||it(ut.getState().scene,ht)},insertInContainerBefore:(ut,ht,ft)=>{if(!ht||!ft)return;const dt=ut.getState().scene;!dt.__r3f||nt(dt,ht,ft)},getRootHostContext:()=>null,getChildHostContext:ut=>ut,finalizeInitialChildren(ut){var ht;const ft=(ht=ut==null?void 0:ut.__r3f)!=null?ht:{};return Boolean(ft.handlers)},prepareUpdate(ut,ht,ft,dt){if(ut.__r3f.primitive&&dt.object&&dt.object!==ut)return[!0];{const{args:vt=[],children:gt,..._t}=dt,{args:pt=[],children:mt,...yt}=ft;if(!Array.isArray(vt))throw new Error("R3F: the args prop must be an array!");if(vt.some((bt,wt)=>bt!==pt[wt]))return[!0];const xt=diffProps(ut,_t,yt,!0);return xt.changes.length?[!1,xt]:null}},commitUpdate(ut,[ht,ft],dt,vt,gt,_t){ht?st(ut,dt,gt,_t):applyProps$1(ut,ft)},commitMount(ut,ht,ft,dt){var vt;const gt=(vt=ut.__r3f)!=null?vt:{};ut.raycast&&gt.handlers&&gt.eventCount&&ut.__r3f.root.getState().internal.interaction.push(ut)},getPublicInstance:ut=>ut,prepareForCommit:()=>null,preparePortalMount:ut=>prepare(ut.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ut){var ht;const{attach:ft,parent:dt}=(ht=ut.__r3f)!=null?ht:{};ft&&dt&&detach(dt,ut,ft),ut.isObject3D&&(ut.visible=!1),invalidateInstance(ut)},unhideInstance(ut,ht){var ft;const{attach:dt,parent:vt}=(ft=ut.__r3f)!=null?ft:{};dt&&vt&&attach(vt,ut,dt),(ut.isObject3D&&ht.visible==null||ht.visible)&&(ut.visible=!0),invalidateInstance(ut)},createTextInstance:ot,hideTextInstance:ot,unhideTextInstance:ot,getCurrentEventPriority:()=>s?s():constants.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}const isRenderer=o=>!!(o!=null&&o.render),context=react.exports.createContext(null),createStore=(o,s)=>{const et=create$3((st,ot)=>{const at=new Vector3,ut=new Vector3,ht=new Vector3;function ft(pt=ot().camera,mt=ut,yt=ot().size){const{width:xt,height:bt,top:wt,left:Ct}=yt,Et=xt/bt;mt instanceof Vector3?ht.copy(mt):ht.set(...mt);const kt=pt.getWorldPosition(at).distanceTo(ht);if(isOrthographicCamera(pt))return{width:xt/pt.zoom,height:bt/pt.zoom,top:wt,left:Ct,factor:1,distance:kt,aspect:Et};{const Dt=pt.fov*Math.PI/180,zt=2*Math.tan(Dt/2)*kt,Wt=zt*(xt/bt);return{width:Wt,height:zt,top:wt,left:Ct,factor:xt/Wt,distance:kt,aspect:Et}}}let dt;const vt=pt=>st(mt=>({performance:{...mt.performance,current:pt}})),gt=new Vector2;return{set:st,get:ot,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(pt=1)=>o(ot(),pt),advance:(pt,mt)=>s(pt,mt,ot()),legacy:!1,linear:!1,flat:!1,scene:prepare(new Scene),controls:null,clock:new Clock,pointer:gt,mouse:gt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const pt=ot();dt&&clearTimeout(dt),pt.performance.current!==pt.performance.min&&vt(pt.performance.min),dt=setTimeout(()=>vt(ot().performance.max),pt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ft},setEvents:pt=>st(mt=>({...mt,events:{...mt.events,...pt}})),setSize:(pt,mt,yt,xt,bt)=>{const wt=ot().camera,Ct={width:pt,height:mt,top:xt||0,left:bt||0,updateStyle:yt};st(Et=>({size:Ct,viewport:{...Et.viewport,...ft(wt,ut,Ct)}}))},setDpr:pt=>st(mt=>{const yt=calculateDpr(pt);return{viewport:{...mt.viewport,dpr:yt,initialDpr:mt.viewport.initialDpr||yt}}}),setFrameloop:(pt="always")=>{const mt=ot().clock;mt.stop(),mt.elapsedTime=0,pt!=="never"&&(mt.start(),mt.elapsedTime=0),st(()=>({frameloop:pt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:react.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(pt,mt,yt)=>{const xt=ot().internal;return xt.priority=xt.priority+(mt>0?1:0),xt.subscribers.push({ref:pt,priority:mt,store:yt}),xt.subscribers=xt.subscribers.sort((bt,wt)=>bt.priority-wt.priority),()=>{const bt=ot().internal;bt!=null&&bt.subscribers&&(bt.priority=bt.priority-(mt>0?1:0),bt.subscribers=bt.subscribers.filter(wt=>wt.ref!==pt))}}}}}),tt=et.getState();let nt=tt.size,rt=tt.viewport.dpr,it=tt.camera;return et.subscribe(()=>{const{camera:st,size:ot,viewport:at,gl:ut,set:ht}=et.getState();(ot!==nt||at.dpr!==rt)&&(nt=ot,rt=at.dpr,updateCamera(st,ot),ut.setPixelRatio(at.dpr),ut.setSize(ot.width,ot.height,ot.updateStyle)),st!==it&&(it=st,ht(ft=>({viewport:{...ft.viewport,...ft.viewport.getCurrentViewport(st)}})))}),et.subscribe(st=>o(st)),et};let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(o,s){!o.size||o.forEach(({callback:et})=>et(s))}function flushGlobalEffects(o,s){switch(o){case"before":return run(globalEffects,s);case"after":return run(globalAfterEffects,s);case"tail":return run(globalTailEffects,s)}}let subscribers,subscription;function render$1(o,s,et){let tt=s.clock.getDelta();for(s.frameloop==="never"&&typeof o=="number"&&(tt=o-s.clock.elapsedTime,s.clock.oldTime=s.clock.elapsedTime,s.clock.elapsedTime=o),subscribers=s.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),tt,et);return!s.internal.priority&&s.gl.render&&s.gl.render(s.scene,s.camera),s.internal.frames=Math.max(0,s.internal.frames-1),s.frameloop==="always"?1:s.internal.frames}function createLoop(o){let s=!1,et,tt,nt;function rt(ot){if(tt=requestAnimationFrame(rt),s=!0,et=0,flushGlobalEffects("before",ot),o.forEach(at=>{var ut;nt=at.store.getState(),nt.internal.active&&(nt.frameloop==="always"||nt.internal.frames>0)&&!((ut=nt.gl.xr)!=null&&ut.isPresenting)&&(et+=render$1(ot,nt))}),flushGlobalEffects("after",ot),et===0)return flushGlobalEffects("tail",ot),s=!1,cancelAnimationFrame(tt)}function it(ot,at=1){var ut;if(!ot)return o.forEach(ht=>it(ht.store.getState()),at);(ut=ot.gl.xr)!=null&&ut.isPresenting||!ot.internal.active||ot.frameloop==="never"||(ot.internal.frames=Math.min(60,ot.internal.frames+at),s||(s=!0,requestAnimationFrame(rt)))}function st(ot,at=!0,ut,ht){at&&flushGlobalEffects("before",ot),ut?render$1(ot,ut,ht):o.forEach(ft=>render$1(ot,ft.store.getState())),at&&flushGlobalEffects("after",ot)}return{loop:rt,invalidate:it,advance:st}}const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(o,s)=>{const et=typeof o=="function"?o(s):o;return isRenderer(et)?et:new WebGLRenderer({powerPreference:"high-performance",canvas:s,antialias:!0,alpha:!0,...o})};function isCanvas(o){return o instanceof HTMLCanvasElement}function computeInitialSize(o,s){if(s)return s;if(isCanvas(o)&&o.parentElement){const{width:et,height:tt,top:nt,left:rt}=o.parentElement.getBoundingClientRect();return{width:et,height:tt,top:nt,left:rt}}return{width:0,height:0,top:0,left:0}}function createRoot(o){const s=roots.get(o),et=s==null?void 0:s.fiber,tt=s==null?void 0:s.store;s&&console.warn("R3F.createRoot should only be called once!");const nt=typeof reportError=="function"?reportError:console.error,rt=tt||createStore(invalidate,advance),it=et||reconciler.createContainer(rt,constants.exports.ConcurrentRoot,null,!1,null,"",nt,null);s||roots.set(o,{fiber:it,store:rt});let st,ot=!1;return{configure(at={}){let{gl:ut,size:ht,events:ft,onCreated:dt,shadows:vt=!1,linear:gt=!1,flat:_t=!1,legacy:pt=!1,orthographic:mt=!1,frameloop:yt="always",dpr:xt=[1,2],performance:bt,raycaster:wt,camera:Ct,onPointerMissed:Et}=at,kt=rt.getState(),Dt=kt.gl;kt.gl||kt.set({gl:Dt=createRendererInstance(ut,o)});let zt=kt.raycaster;zt||kt.set({raycaster:zt=new Raycaster});const{params:Wt,...Ht}=wt||{};if(is.equ(Ht,zt,shallowLoose)||applyProps(zt,{...Ht}),is.equ(Wt,zt.params,shallowLoose)||applyProps(zt,{params:{...zt.params,...Wt}}),!kt.camera){const It=Ct instanceof Camera,Tt=It?Ct:mt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);It||(Tt.position.z=5,Ct&&applyProps(Tt,Ct),Ct!=null&&Ct.rotation||Tt.lookAt(0,0,0)),kt.set({camera:Tt})}if(!kt.xr){const It=(Rt,Vt)=>{const Ot=rt.getState();Ot.frameloop!=="never"&&advance(Rt,!0,Ot,Vt)},Tt=()=>{const Rt=rt.getState();Rt.gl.xr.enabled=Rt.gl.xr.isPresenting,Rt.gl.xr.setAnimationLoop(Rt.gl.xr.isPresenting?It:null),Rt.gl.xr.isPresenting||invalidate(Rt)},Pt={connect(){const Rt=rt.getState().gl;Rt.xr.addEventListener("sessionstart",Tt),Rt.xr.addEventListener("sessionend",Tt)},disconnect(){const Rt=rt.getState().gl;Rt.xr.removeEventListener("sessionstart",Tt),Rt.xr.removeEventListener("sessionend",Tt)}};Dt.xr&&Pt.connect(),kt.set({xr:Pt})}if(Dt.shadowMap){const It=is.boo(vt);if(It&&Dt.shadowMap.enabled!==vt||!is.equ(vt,Dt.shadowMap,shallowLoose)){const Tt=Dt.shadowMap.enabled;Dt.shadowMap.enabled=!!vt,It?Dt.shadowMap.type=PCFSoftShadowMap:Object.assign(Dt.shadowMap,vt),Tt!==Dt.shadowMap.enabled&&(Dt.shadowMap.needsUpdate=!0)}}"ColorManagement"in THREE&&setDeep(THREE,pt,["ColorManagement","legacyMode"]);const Gt=gt?LinearEncoding:sRGBEncoding,$t=_t?NoToneMapping:ACESFilmicToneMapping;Dt.outputEncoding!==Gt&&(Dt.outputEncoding=Gt),Dt.toneMapping!==$t&&(Dt.toneMapping=$t),kt.legacy!==pt&&kt.set(()=>({legacy:pt})),kt.linear!==gt&&kt.set(()=>({linear:gt})),kt.flat!==_t&&kt.set(()=>({flat:_t})),ut&&!is.fun(ut)&&!isRenderer(ut)&&!is.equ(ut,Dt,shallowLoose)&&applyProps(Dt,ut),ft&&!kt.events.handlers&&kt.set({events:ft(rt)}),xt&&kt.viewport.dpr!==calculateDpr(xt)&&kt.setDpr(xt);const Ft=computeInitialSize(o,ht);return is.equ(Ft,kt.size,shallowLoose)||kt.setSize(Ft.width,Ft.height,Ft.updateStyle,Ft.top,Ft.left),kt.frameloop!==yt&&kt.setFrameloop(yt),kt.onPointerMissed||kt.set({onPointerMissed:Et}),bt&&!is.equ(bt,kt.performance,shallowLoose)&&kt.set(It=>({performance:{...It.performance,...bt}})),st=dt,ot=!0,this},render(at){return ot||this.configure(),reconciler.updateContainer(jsx(Provider,{store:rt,children:at,onCreated:st,rootElement:o}),it,null,()=>{}),rt},unmount(){unmountComponentAtNode(o)}}}function Provider({store:o,children:s,onCreated:et,rootElement:tt}){return useIsomorphicLayoutEffect$1(()=>{const nt=o.getState();nt.set(rt=>({internal:{...rt.internal,active:!0}})),et&&et(nt),o.getState().events.connected||nt.events.connect==null||nt.events.connect(tt)},[]),react.exports.createElement(context.Provider,{value:o},s)}function unmountComponentAtNode(o,s){const et=roots.get(o),tt=et==null?void 0:et.fiber;if(tt){const nt=et==null?void 0:et.store.getState();nt&&(nt.internal.active=!1),reconciler.updateContainer(null,tt,null,()=>{nt&&setTimeout(()=>{try{var rt,it,st,ot;nt.events.disconnect==null||nt.events.disconnect(),(rt=nt.gl)==null||(it=rt.renderLists)==null||it.dispose==null||it.dispose(),(st=nt.gl)==null||st.forceContextLoss==null||st.forceContextLoss(),(ot=nt.gl)!=null&&ot.xr&&nt.xr.disconnect(),dispose(nt),roots.delete(o),s&&s(o)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:react.exports.version});function debounce(o,s,et){var tt,nt,rt,it,st;s==null&&(s=100);function ot(){var ut=Date.now()-it;ut<s&&ut>=0?tt=setTimeout(ot,s-ut):(tt=null,et||(st=o.apply(rt,nt),rt=nt=null))}var at=function(){rt=this,nt=arguments,it=Date.now();var ut=et&&!tt;return tt||(tt=setTimeout(ot,s)),ut&&(st=o.apply(rt,nt),rt=nt=null),st};return at.clear=function(){tt&&(clearTimeout(tt),tt=null)},at.flush=function(){tt&&(st=o.apply(rt,nt),rt=nt=null,clearTimeout(tt),tt=null)},at}debounce.debounce=debounce;var debounce_1=debounce;function useMeasure(o){let{debounce:s,scroll:et,polyfill:tt,offsetSize:nt}=o===void 0?{debounce:0,scroll:!1,offsetSize:!1}:o;const rt=tt||(typeof window>"u"?class{}:window.ResizeObserver);if(!rt)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[it,st]=react.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),ot=react.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:it}),at=s?typeof s=="number"?s:s.scroll:null,ut=s?typeof s=="number"?s:s.resize:null,ht=react.exports.useRef(!1);react.exports.useEffect(()=>(ht.current=!0,()=>void(ht.current=!1)));const[ft,dt,vt]=react.exports.useMemo(()=>{const mt=()=>{if(!ot.current.element)return;const{left:yt,top:xt,width:bt,height:wt,bottom:Ct,right:Et,x:kt,y:Dt}=ot.current.element.getBoundingClientRect(),zt={left:yt,top:xt,width:bt,height:wt,bottom:Ct,right:Et,x:kt,y:Dt};ot.current.element instanceof HTMLElement&&nt&&(zt.height=ot.current.element.offsetHeight,zt.width=ot.current.element.offsetWidth),Object.freeze(zt),ht.current&&!areBoundsEqual(ot.current.lastBounds,zt)&&st(ot.current.lastBounds=zt)};return[mt,ut?debounce_1(mt,ut):mt,at?debounce_1(mt,at):mt]},[st,nt,at,ut]);function gt(){ot.current.scrollContainers&&(ot.current.scrollContainers.forEach(mt=>mt.removeEventListener("scroll",vt,!0)),ot.current.scrollContainers=null),ot.current.resizeObserver&&(ot.current.resizeObserver.disconnect(),ot.current.resizeObserver=null)}function _t(){!ot.current.element||(ot.current.resizeObserver=new rt(vt),ot.current.resizeObserver.observe(ot.current.element),et&&ot.current.scrollContainers&&ot.current.scrollContainers.forEach(mt=>mt.addEventListener("scroll",vt,{capture:!0,passive:!0})))}const pt=mt=>{!mt||mt===ot.current.element||(gt(),ot.current.element=mt,ot.current.scrollContainers=findScrollContainers(mt),_t())};return useOnWindowScroll(vt,Boolean(et)),useOnWindowResize(dt),react.exports.useEffect(()=>{gt(),_t()},[et,vt,dt]),react.exports.useEffect(()=>gt,[]),[pt,it,ft]}function useOnWindowResize(o){react.exports.useEffect(()=>{const s=o;return window.addEventListener("resize",s),()=>void window.removeEventListener("resize",s)},[o])}function useOnWindowScroll(o,s){react.exports.useEffect(()=>{if(s){const et=o;return window.addEventListener("scroll",et,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",et,!0)}},[o,s])}function findScrollContainers(o){const s=[];if(!o||o===document.body)return s;const{overflow:et,overflowX:tt,overflowY:nt}=window.getComputedStyle(o);return[et,tt,nt].some(rt=>rt==="auto"||rt==="scroll")&&s.push(o),[...s,...findScrollContainers(o.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(o,s)=>keys.every(et=>o[et]===s[et]),DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(o){const{handlePointer:s}=createEvents(o);return{priority:1,enabled:!0,compute(et,tt,nt){tt.pointer.set(et.offsetX/tt.size.width*2-1,-(et.offsetY/tt.size.height)*2+1),tt.raycaster.setFromCamera(tt.pointer,tt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((et,tt)=>({...et,[tt]:s(tt)}),{}),connect:et=>{var tt;const{set:nt,events:rt}=o.getState();rt.disconnect==null||rt.disconnect(),nt(it=>({events:{...it.events,connected:et}})),Object.entries((tt=rt.handlers)!=null?tt:[]).forEach(([it,st])=>{const[ot,at]=DOM_EVENTS[it];et.addEventListener(ot,st,{passive:at})})},disconnect:()=>{const{set:et,events:tt}=o.getState();if(tt.connected){var nt;Object.entries((nt=tt.handlers)!=null?nt:[]).forEach(([rt,it])=>{if(tt&&tt.connected instanceof HTMLElement){const[st]=DOM_EVENTS[rt];tt.connected.removeEventListener(st,it)}}),et(rt=>({events:{...rt.events,connected:void 0}}))}}}}const Canvas=react.exports.forwardRef(function({children:s,fallback:et,resize:tt,style:nt,gl:rt,events:it=createPointerEvents,eventSource:st,eventPrefix:ot,shadows:at,linear:ut,flat:ht,legacy:ft,orthographic:dt,frameloop:vt,dpr:gt,performance:_t,raycaster:pt,camera:mt,onPointerMissed:yt,onCreated:xt,...bt},wt){react.exports.useMemo(()=>extend(THREE),[]);const[Ct,Et]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...tt}),kt=react.exports.useRef(null),Dt=react.exports.useRef(null),[zt,Wt]=react.exports.useState(null);react.exports.useImperativeHandle(wt,()=>kt.current);const Ht=useMutableCallback(yt),[Gt,$t]=react.exports.useState(!1),[Ft,It]=react.exports.useState(!1);if(Gt)throw Gt;if(Ft)throw Ft;const Tt=react.exports.useRef(null);return Et.width>0&&Et.height>0&&zt&&(Tt.current||(Tt.current=createRoot(zt)),Tt.current.configure({gl:rt,events:it,shadows:at,linear:ut,flat:ht,legacy:ft,orthographic:dt,frameloop:vt,dpr:gt,performance:_t,raycaster:pt,camera:mt,size:Et,onPointerMissed:(...Rt)=>Ht.current==null?void 0:Ht.current(...Rt),onCreated:Rt=>{Rt.events.connect==null||Rt.events.connect(st?isRef(st)?st.current:st:Dt.current),ot&&Rt.setEvents({compute:(Vt,Ot)=>{const Xt=Vt[ot+"X"],Kt=Vt[ot+"Y"];Ot.pointer.set(Xt/Ot.size.width*2-1,-(Kt/Ot.size.height)*2+1),Ot.raycaster.setFromCamera(Ot.pointer,Ot.camera)}}),xt==null||xt(Rt)}}),Tt.current.render(jsx(ErrorBoundary,{set:It,children:jsx(react.exports.Suspense,{fallback:jsx(Block,{set:$t}),children:s})}))),useIsomorphicLayoutEffect$1(()=>{Wt(kt.current)},[]),react.exports.useEffect(()=>{if(zt)return()=>unmountComponentAtNode(zt)},[zt]),jsx("div",{ref:Dt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:st?"none":"auto",...nt},...bt,children:jsx("div",{ref:Ct,style:{width:"100%",height:"100%"},children:jsx("canvas",{ref:kt,style:{display:"block"},children:et})})})}),MotionConfigContext=react.exports.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"}),MotionContext=react.exports.createContext({});function useVisualElementContext(){return react.exports.useContext(MotionContext).visualElement}const PresenceContext=react.exports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?react.exports.useLayoutEffect:react.exports.useEffect,LazyContext=react.exports.createContext({strict:!1});function useVisualElement(o,s,et,tt){const nt=useVisualElementContext(),rt=react.exports.useContext(LazyContext),it=react.exports.useContext(PresenceContext),st=react.exports.useContext(MotionConfigContext).reducedMotion,ot=react.exports.useRef(void 0);tt=tt||rt.renderer,!ot.current&&tt&&(ot.current=tt(o,{visualState:s,parent:nt,props:et,presenceId:it?it.id:void 0,blockInitialAnimation:it?it.initial===!1:!1,reducedMotionConfig:st}));const at=ot.current;return useIsomorphicLayoutEffect(()=>{at&&at.syncRender()}),react.exports.useEffect(()=>{at&&at.animationState&&at.animationState.animateChanges()}),useIsomorphicLayoutEffect(()=>()=>at&&at.notifyUnmount(),[]),at}function isRefObject(o){return typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function useMotionRef(o,s,et){return react.exports.useCallback(tt=>{tt&&o.mount&&o.mount(tt),s&&(tt?s.mount(tt):s.unmount()),et&&(typeof et=="function"?et(tt):isRefObject(et)&&(et.current=tt))},[s])}function isVariantLabel(o){return typeof o=="string"||Array.isArray(o)}function isAnimationControls(o){return typeof o=="object"&&typeof o.start=="function"}const variantProps$1=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function isControllingVariants(o){return isAnimationControls(o.animate)||variantProps$1.some(s=>isVariantLabel(o[s]))}function isVariantNode(o){return Boolean(isControllingVariants(o)||o.variants)}function getCurrentTreeVariants(o,s){if(isControllingVariants(o)){const{initial:et,animate:tt}=o;return{initial:et===!1||isVariantLabel(et)?et:void 0,animate:isVariantLabel(tt)?tt:void 0}}return o.inherit!==!1?s:{}}function useCreateMotionContext(o){const{initial:s,animate:et}=getCurrentTreeVariants(o,react.exports.useContext(MotionContext));return react.exports.useMemo(()=>({initial:s,animate:et}),[variantLabelsAsDependency(s),variantLabelsAsDependency(et)])}function variantLabelsAsDependency(o){return Array.isArray(o)?o.join(" "):o}const createDefinition=o=>({isEnabled:s=>o.some(et=>!!s[et])}),featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:createDefinition(["whileInView","onViewportEnter","onViewportLeave"])};function loadFeatures(o){for(const s in o)s==="projectionNodeConstructor"?featureDefinitions.projectionNodeConstructor=o[s]:featureDefinitions[s].Component=o[s]}function useConstant(o){const s=react.exports.useRef(null);return s.current===null&&(s.current=o()),s.current}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let id$2=1;function useProjectionId(){return useConstant(()=>{if(globalProjectionState.hasEverUpdated)return id$2++})}const LayoutGroupContext=react.exports.createContext({});class VisualElementHandler extends React.Component{getSnapshotBeforeUpdate(){const{visualElement:s,props:et}=this.props;return s&&s.setProps(et),null}componentDidUpdate(){}render(){return this.props.children}}const SwitchLayoutGroupContext=react.exports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:o,createVisualElement:s,projectionNodeConstructor:et,useRender:tt,useVisualState:nt,Component:rt}){o&&loadFeatures(o);function it(ot,at){const ut={...react.exports.useContext(MotionConfigContext),...ot,layoutId:useLayoutId(ot)},{isStatic:ht}=ut;let ft=null;const dt=useCreateMotionContext(ot),vt=ht?void 0:useProjectionId(),gt=nt(ot,ht);if(!ht&&isBrowser){dt.visualElement=useVisualElement(rt,gt,ut,s);const _t=react.exports.useContext(LazyContext).strict,pt=react.exports.useContext(SwitchLayoutGroupContext);dt.visualElement&&(ft=dt.visualElement.loadFeatures(ot,_t,o,vt,et||featureDefinitions.projectionNodeConstructor,pt))}return jsxs(VisualElementHandler,{visualElement:dt.visualElement,props:ut,children:[ft,jsx(MotionContext.Provider,{value:dt,children:tt(rt,ot,vt,useMotionRef(gt,dt.visualElement,at),gt,ht,dt.visualElement)})]})}const st=react.exports.forwardRef(it);return st[motionComponentSymbol]=rt,st}function useLayoutId({layoutId:o}){const s=react.exports.useContext(LayoutGroupContext).id;return s&&o!==void 0?s+"-"+o:o}function createMotionProxy(o){function s(tt,nt={}){return createMotionComponent(o(tt,nt))}if(typeof Proxy>"u")return s;const et=new Map;return new Proxy(s,{get:(tt,nt)=>(et.has(nt)||et.set(nt,s(nt)),et.get(nt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function isSVGComponent(o){return typeof o!="string"||o.includes("-")?!1:!!(lowercaseSVGElements.indexOf(o)>-1||/[A-Z]/.test(o))}const scaleCorrectors={};function addScaleCorrector(o){Object.assign(scaleCorrectors,o)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(o,{layout:s,layoutId:et}){return transformProps.has(o)||o.startsWith("origin")||(s||et!==void 0)&&(!!scaleCorrectors[o]||o==="opacity")}const isMotionValue=o=>o===void 0?!1:!!o.getVelocity,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sortTransformProps=(o,s)=>transformPropOrder.indexOf(o)-transformPropOrder.indexOf(s);function buildTransform({transform:o,transformKeys:s},{enableHardwareAcceleration:et=!0,allowTransformNone:tt=!0},nt,rt){let it="";s.sort(sortTransformProps);for(const st of s)it+=`${translateAlias[st]||st}(${o[st]}) `;return et&&!o.z&&(it+="translateZ(0)"),it=it.trim(),rt?it=rt(o,nt?"":it):tt&&nt&&(it="none"),it}function isCSSVariable$1(o){return o.startsWith("--")}const getValueAsType=(o,s)=>s&&typeof o=="number"?s.transform(o):o,clamp$1=(o,s)=>et=>Math.max(Math.min(et,s),o),sanitize=o=>o%1?Number(o.toFixed(5)):o,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString(o){return typeof o=="string"}const number={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},alpha=Object.assign(Object.assign({},number),{transform:clamp$1(0,1)}),scale=Object.assign(Object.assign({},number),{default:1}),createUnitType=o=>({test:s=>isString(s)&&s.endsWith(o)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${o}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage=Object.assign(Object.assign({},percent),{parse:o=>percent.parse(o)/100,transform:o=>percent.transform(o*100)}),isColorString=(o,s)=>et=>Boolean(isString(et)&&singleColorRegex.test(et)&&et.startsWith(o)||s&&Object.prototype.hasOwnProperty.call(et,s)),splitColor=(o,s,et)=>tt=>{if(!isString(tt))return tt;const[nt,rt,it,st]=tt.match(floatRegex);return{[o]:parseFloat(nt),[s]:parseFloat(rt),[et]:parseFloat(it),alpha:st!==void 0?parseFloat(st):1}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:o,saturation:s,lightness:et,alpha:tt=1})=>"hsla("+Math.round(o)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(et))+", "+sanitize(alpha.transform(tt))+")"},clampRgbUnit=clamp$1(0,255),rgbUnit=Object.assign(Object.assign({},number),{transform:o=>Math.round(clampRgbUnit(o))}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:o,green:s,blue:et,alpha:tt=1})=>"rgba("+rgbUnit.transform(o)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(et)+", "+sanitize(alpha.transform(tt))+")"};function parseHex(o){let s="",et="",tt="",nt="";return o.length>5?(s=o.substr(1,2),et=o.substr(3,2),tt=o.substr(5,2),nt=o.substr(7,2)):(s=o.substr(1,1),et=o.substr(2,1),tt=o.substr(3,1),nt=o.substr(4,1),s+=s,et+=et,tt+=tt,nt+=nt),{red:parseInt(s,16),green:parseInt(et,16),blue:parseInt(tt,16),alpha:nt?parseInt(nt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color={test:o=>rgba.test(o)||hex.test(o)||hsla.test(o),parse:o=>rgba.test(o)?rgba.parse(o):hsla.test(o)?hsla.parse(o):hex.parse(o),transform:o=>isString(o)?o:o.hasOwnProperty("red")?rgba.transform(o):hsla.transform(o)},colorToken="${c}",numberToken="${n}";function test(o){var s,et,tt,nt;return isNaN(o)&&isString(o)&&((et=(s=o.match(floatRegex))===null||s===void 0?void 0:s.length)!==null&&et!==void 0?et:0)+((nt=(tt=o.match(colorRegex))===null||tt===void 0?void 0:tt.length)!==null&&nt!==void 0?nt:0)>0}function analyse$1(o){typeof o=="number"&&(o=`${o}`);const s=[];let et=0;const tt=o.match(colorRegex);tt&&(et=tt.length,o=o.replace(colorRegex,colorToken),s.push(...tt.map(color.parse)));const nt=o.match(floatRegex);return nt&&(o=o.replace(floatRegex,numberToken),s.push(...nt.map(number.parse))),{values:s,numColors:et,tokenised:o}}function parse(o){return analyse$1(o).values}function createTransformer(o){const{values:s,numColors:et,tokenised:tt}=analyse$1(o),nt=s.length;return rt=>{let it=tt;for(let st=0;st<nt;st++)it=it.replace(st<et?colorToken:numberToken,st<et?color.transform(rt[st]):sanitize(rt[st]));return it}}const convertNumbersToZero=o=>typeof o=="number"?0:o;function getAnimatableNone$1(o){const s=parse(o);return createTransformer(o)(s.map(convertNumbersToZero))}const complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(o){let[s,et]=o.slice(0,-1).split("(");if(s==="drop-shadow")return o;const[tt]=et.match(floatRegex)||[];if(!tt)return o;const nt=et.replace(tt,"");let rt=maxDefaults.has(s)?1:0;return tt!==et&&(rt*=100),s+"("+rt+nt+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter=Object.assign(Object.assign({},complex),{getAnimatableNone:o=>{const s=o.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):o}}),int={...number,transform:Math.round},numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(o,s,et,tt){const{style:nt,vars:rt,transform:it,transformKeys:st,transformOrigin:ot}=o;st.length=0;let at=!1,ut=!1,ht=!0;for(const ft in s){const dt=s[ft];if(isCSSVariable$1(ft)){rt[ft]=dt;continue}const vt=numberValueTypes[ft],gt=getValueAsType(dt,vt);if(transformProps.has(ft)){if(at=!0,it[ft]=gt,st.push(ft),!ht)continue;dt!==(vt.default||0)&&(ht=!1)}else ft.startsWith("origin")?(ut=!0,ot[ft]=gt):nt[ft]=gt}if(at||tt?nt.transform=buildTransform(o,et,ht,tt):!s.transform&&nt.transform&&(nt.transform="none"),ut){const{originX:ft="50%",originY:dt="50%",originZ:vt=0}=ot;nt.transformOrigin=`${ft} ${dt} ${vt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function copyRawValuesOnly(o,s,et){for(const tt in s)!isMotionValue(s[tt])&&!isForcedMotionValue(tt,et)&&(o[tt]=s[tt])}function useInitialMotionValues({transformTemplate:o},s,et){return react.exports.useMemo(()=>{const tt=createHtmlRenderState();return buildHTMLStyles(tt,s,{enableHardwareAcceleration:!et},o),Object.assign({},tt.vars,tt.style)},[s])}function useStyle(o,s,et){const tt=o.style||{},nt={};return copyRawValuesOnly(nt,tt,o),Object.assign(nt,useInitialMotionValues(o,s,et)),o.transformValues?o.transformValues(nt):nt}function useHTMLProps(o,s,et){const tt={},nt=useStyle(o,s,et);return o.drag&&o.dragListener!==!1&&(tt.draggable=!1,nt.userSelect=nt.WebkitUserSelect=nt.WebkitTouchCallout="none",nt.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),tt.style=nt,tt}const animationProps=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],tapProps=["whileTap","onTap","onTapStart","onTapCancel"],panProps=["onPan","onPanStart","onPanSessionStart","onPanEnd"],inViewProps=["whileInView","onViewportEnter","onViewportLeave","viewport"],validMotionProps=new Set(["initial","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...inViewProps,...tapProps,...animationProps,...panProps]);function isValidMotionProp(o){return validMotionProps.has(o)}let shouldForward=o=>!isValidMotionProp(o);function loadExternalIsValidProp(o){!o||(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):o(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(o,s,et){const tt={};for(const nt in o)(shouldForward(nt)||et===!0&&isValidMotionProp(nt)||!s&&!isValidMotionProp(nt)||o.draggable&&nt.startsWith("onDrag"))&&(tt[nt]=o[nt]);return tt}function calcOrigin$1(o,s,et){return typeof o=="string"?o:px$1.transform(s+et*o)}function calcSVGTransformOrigin(o,s,et){const tt=calcOrigin$1(s,o.x,o.width),nt=calcOrigin$1(et,o.y,o.height);return`${tt} ${nt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(o,s,et=1,tt=0,nt=!0){o.pathLength=1;const rt=nt?dashKeys:camelKeys;o[rt.offset]=px$1.transform(-tt);const it=px$1.transform(s),st=px$1.transform(et);o[rt.array]=`${it} ${st}`}function buildSVGAttrs(o,{attrX:s,attrY:et,originX:tt,originY:nt,pathLength:rt,pathSpacing:it=1,pathOffset:st=0,...ot},at,ut){buildHTMLStyles(o,ot,at,ut),o.attrs=o.style,o.style={};const{attrs:ht,style:ft,dimensions:dt}=o;ht.transform&&(dt&&(ft.transform=ht.transform),delete ht.transform),dt&&(tt!==void 0||nt!==void 0||ft.transform)&&(ft.transformOrigin=calcSVGTransformOrigin(dt,tt!==void 0?tt:.5,nt!==void 0?nt:.5)),s!==void 0&&(ht.x=s),et!==void 0&&(ht.y=et),rt!==void 0&&buildSVGPath(ht,rt,it,st,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}});function useSVGProps(o,s){const et=react.exports.useMemo(()=>{const tt=createSvgRenderState();return buildSVGAttrs(tt,s,{enableHardwareAcceleration:!1},o.transformTemplate),{...tt.attrs,style:{...tt.style}}},[s]);if(o.style){const tt={};copyRawValuesOnly(tt,o.style,o),et.style={...tt,...et.style}}return et}function createUseRender(o=!1){return(et,tt,nt,rt,{latestValues:it},st)=>{const at=(isSVGComponent(et)?useSVGProps:useHTMLProps)(tt,it,st),ht={...filterProps(tt,typeof et=="string",o),...at,ref:rt};return nt&&(ht["data-projection-id"]=nt),react.exports.createElement(et,ht)}}const camelToDash=o=>o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function renderHTML(o,{style:s,vars:et},tt,nt){Object.assign(o.style,s,nt&&nt.getProjectionStyles(tt));for(const rt in et)o.style.setProperty(rt,et[rt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function renderSVG(o,s,et,tt){renderHTML(o,s,void 0,tt);for(const nt in s.attrs)o.setAttribute(camelCaseAttributes.has(nt)?nt:camelToDash(nt),s.attrs[nt])}function scrapeMotionValuesFromProps$1(o){const{style:s}=o,et={};for(const tt in s)(isMotionValue(s[tt])||isForcedMotionValue(tt,o))&&(et[tt]=s[tt]);return et}function scrapeMotionValuesFromProps(o){const s=scrapeMotionValuesFromProps$1(o);for(const et in o)if(isMotionValue(o[et])){const tt=et==="x"||et==="y"?"attr"+et.toUpperCase():et;s[tt]=o[et]}return s}function resolveVariantFromProps(o,s,et,tt={},nt={}){return typeof s=="function"&&(s=s(et!==void 0?et:o.custom,tt,nt)),typeof s=="string"&&(s=o.variants&&o.variants[s]),typeof s=="function"&&(s=s(et!==void 0?et:o.custom,tt,nt)),s}const isKeyframesTarget=o=>Array.isArray(o),isCustomValue=o=>Boolean(o&&typeof o=="object"&&o.mix&&o.toValue),resolveFinalValueInKeyframes=o=>isKeyframesTarget(o)?o[o.length-1]||0:o;function resolveMotionValue(o){const s=isMotionValue(o)?o.get():o;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:o,createRenderState:s,onMount:et},tt,nt,rt){const it={latestValues:makeLatestValues(tt,nt,rt,o),renderState:s()};return et&&(it.mount=st=>et(tt,st,it)),it}const makeUseVisualState=o=>(s,et)=>{const tt=react.exports.useContext(MotionContext),nt=react.exports.useContext(PresenceContext),rt=()=>makeState(o,s,tt,nt);return et?rt():useConstant(rt)};function makeLatestValues(o,s,et,tt){const nt={},rt=tt(o);for(const ft in rt)nt[ft]=resolveMotionValue(rt[ft]);let{initial:it,animate:st}=o;const ot=isControllingVariants(o),at=isVariantNode(o);s&&at&&!ot&&o.inherit!==!1&&(it===void 0&&(it=s.initial),st===void 0&&(st=s.animate));let ut=et?et.initial===!1:!1;ut=ut||it===!1;const ht=ut?st:it;return ht&&typeof ht!="boolean"&&!isAnimationControls(ht)&&(Array.isArray(ht)?ht:[ht]).forEach(dt=>{const vt=resolveVariantFromProps(o,dt);if(!vt)return;const{transitionEnd:gt,transition:_t,...pt}=vt;for(const mt in pt){let yt=pt[mt];if(Array.isArray(yt)){const xt=ut?yt.length-1:0;yt=yt[xt]}yt!==null&&(nt[mt]=yt)}for(const mt in gt)nt[mt]=gt[mt]}),nt}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(o,s,{renderState:et,latestValues:tt})=>{try{et.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{et.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(et,tt,{enableHardwareAcceleration:!1},o.transformTemplate),renderSVG(s,et)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(o,{forwardMotionProps:s=!1},et,tt,nt){return{...isSVGComponent(o)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:et,useRender:createUseRender(s),createVisualElement:tt,projectionNodeConstructor:nt,Component:o}}var AnimationType;(function(o){o.Animate="animate",o.Hover="whileHover",o.Tap="whileTap",o.Drag="whileDrag",o.Focus="whileFocus",o.InView="whileInView",o.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(o,s,et,tt={passive:!0}){return o.addEventListener(s,et,tt),()=>o.removeEventListener(s,et)}function useDomEvent(o,s,et,tt){react.exports.useEffect(()=>{const nt=o.current;if(et&&nt)return addDomEvent(nt,s,et,tt)},[o,s,et,tt])}function useFocusGesture({whileFocus:o,visualElement:s}){const{animationState:et}=s,tt=()=>{et&&et.setActive(AnimationType.Focus,!0)},nt=()=>{et&&et.setActive(AnimationType.Focus,!1)};useDomEvent(s,"focus",o?tt:void 0),useDomEvent(s,"blur",o?nt:void 0)}function isMouseEvent(o){return typeof PointerEvent<"u"&&o instanceof PointerEvent?o.pointerType==="mouse":o instanceof MouseEvent}function isTouchEvent(o){return!!o.touches}function filterPrimaryPointer(o){return s=>{const et=s instanceof MouseEvent;(!et||et&&s.button===0)&&o(s)}}const defaultPagePoint={pageX:0,pageY:0};function pointFromTouch(o,s="page"){const tt=o.touches[0]||o.changedTouches[0]||defaultPagePoint;return{x:tt[s+"X"],y:tt[s+"Y"]}}function pointFromMouse(o,s="page"){return{x:o[s+"X"],y:o[s+"Y"]}}function extractEventInfo(o,s="page"){return{point:isTouchEvent(o)?pointFromTouch(o,s):pointFromMouse(o,s)}}const wrapHandler=(o,s=!1)=>{const et=tt=>o(tt,extractEventInfo(tt));return s?filterPrimaryPointer(et):et},supportsPointerEvents=()=>isBrowser&&window.onpointerdown===null,supportsTouchEvents=()=>isBrowser&&window.ontouchstart===null,supportsMouseEvents=()=>isBrowser&&window.onmousedown===null,mouseEventNames={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},touchEventNames={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(o){return supportsPointerEvents()?o:supportsTouchEvents()?touchEventNames[o]:supportsMouseEvents()?mouseEventNames[o]:o}function addPointerEvent(o,s,et,tt){return addDomEvent(o,getPointerEventName(s),wrapHandler(et,s==="pointerdown"),tt)}function usePointerEvent(o,s,et,tt){return useDomEvent(o,getPointerEventName(s),et&&wrapHandler(et,s==="pointerdown"),tt)}function createLock(o){let s=null;return()=>{const et=()=>{s=null};return s===null?(s=o,et):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(o){let s=!1;if(o==="y")s=globalVerticalLock();else if(o==="x")s=globalHorizontalLock();else{const et=globalHorizontalLock(),tt=globalVerticalLock();et&&tt?s=()=>{et(),tt()}:(et&&et(),tt&&tt())}return s}function isDragActive(){const o=getGlobalLock(!0);return o?(o(),!1):!0}function createHoverEvent(o,s,et){return(tt,nt)=>{!isMouseEvent(tt)||isDragActive()||(o.animationState&&o.animationState.setActive(AnimationType.Hover,s),et&&et(tt,nt))}}function useHoverGesture({onHoverStart:o,onHoverEnd:s,whileHover:et,visualElement:tt}){usePointerEvent(tt,"pointerenter",o||et?createHoverEvent(tt,!0,o):void 0,{passive:!o}),usePointerEvent(tt,"pointerleave",s||et?createHoverEvent(tt,!1,s):void 0,{passive:!s})}const isNodeOrChild=(o,s)=>s?o===s?!0:isNodeOrChild(o,s.parentElement):!1;function useUnmountEffect(o){return react.exports.useEffect(()=>()=>o(),[])}function __rest(o,s){var et={};for(var tt in o)Object.prototype.hasOwnProperty.call(o,tt)&&s.indexOf(tt)<0&&(et[tt]=o[tt]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols(o);nt<tt.length;nt++)s.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call(o,tt[nt])&&(et[tt[nt]]=o[tt[nt]]);return et}var warning=function(){},invariant=function(){};const clamp=(o,s,et)=>Math.min(Math.max(et,o),s),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:o=800,bounce:s=.25,velocity:et=0,mass:tt=1}){let nt,rt;warning(o<=maxDuration*1e3);let it=1-s;it=clamp(minDamping,maxDamping,it),o=clamp(minDuration,maxDuration,o/1e3),it<1?(nt=at=>{const ut=at*it,ht=ut*o,ft=ut-et,dt=calcAngularFreq(at,it),vt=Math.exp(-ht);return safeMin-ft/dt*vt},rt=at=>{const ht=at*it*o,ft=ht*et+et,dt=Math.pow(it,2)*Math.pow(at,2)*o,vt=Math.exp(-ht),gt=calcAngularFreq(Math.pow(at,2),it);return(-nt(at)+safeMin>0?-1:1)*((ft-dt)*vt)/gt}):(nt=at=>{const ut=Math.exp(-at*o),ht=(at-et)*o+1;return-safeMin+ut*ht},rt=at=>{const ut=Math.exp(-at*o),ht=(et-at)*(o*o);return ut*ht});const st=5/o,ot=approximateRoot(nt,rt,st);if(o=o*1e3,isNaN(ot))return{stiffness:100,damping:10,duration:o};{const at=Math.pow(ot,2)*tt;return{stiffness:at,damping:it*2*Math.sqrt(tt*at),duration:o}}}const rootIterations=12;function approximateRoot(o,s,et){let tt=et;for(let nt=1;nt<rootIterations;nt++)tt=tt-o(tt)/s(tt);return tt}function calcAngularFreq(o,s){return o*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(o,s){return s.some(et=>o[et]!==void 0)}function getSpringOptions(o){let s=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},o);if(!isSpringType(o,physicsKeys)&&isSpringType(o,durationKeys)){const et=findSpring(o);s=Object.assign(Object.assign(Object.assign({},s),et),{velocity:0,mass:1}),s.isResolvedFromDuration=!0}return s}function spring(o){var{from:s=0,to:et=1,restSpeed:tt=2,restDelta:nt}=o,rt=__rest(o,["from","to","restSpeed","restDelta"]);const it={done:!1,value:s};let{stiffness:st,damping:ot,mass:at,velocity:ut,duration:ht,isResolvedFromDuration:ft}=getSpringOptions(rt),dt=zero,vt=zero;function gt(){const _t=ut?-(ut/1e3):0,pt=et-s,mt=ot/(2*Math.sqrt(st*at)),yt=Math.sqrt(st/at)/1e3;if(nt===void 0&&(nt=Math.min(Math.abs(et-s)/100,.4)),mt<1){const xt=calcAngularFreq(yt,mt);dt=bt=>{const wt=Math.exp(-mt*yt*bt);return et-wt*((_t+mt*yt*pt)/xt*Math.sin(xt*bt)+pt*Math.cos(xt*bt))},vt=bt=>{const wt=Math.exp(-mt*yt*bt);return mt*yt*wt*(Math.sin(xt*bt)*(_t+mt*yt*pt)/xt+pt*Math.cos(xt*bt))-wt*(Math.cos(xt*bt)*(_t+mt*yt*pt)-xt*pt*Math.sin(xt*bt))}}else if(mt===1)dt=xt=>et-Math.exp(-yt*xt)*(pt+(_t+yt*pt)*xt);else{const xt=yt*Math.sqrt(mt*mt-1);dt=bt=>{const wt=Math.exp(-mt*yt*bt),Ct=Math.min(xt*bt,300);return et-wt*((_t+mt*yt*pt)*Math.sinh(Ct)+xt*pt*Math.cosh(Ct))/xt}}}return gt(),{next:_t=>{const pt=dt(_t);if(ft)it.done=_t>=ht;else{const mt=vt(_t)*1e3,yt=Math.abs(mt)<=tt,xt=Math.abs(et-pt)<=nt;it.done=yt&&xt}return it.value=it.done?et:pt,it},flipTarget:()=>{ut=-ut,[s,et]=[et,s],gt()}}}spring.needsInterpolation=(o,s)=>typeof o=="string"||typeof s=="string";const zero=o=>0,progress=(o,s,et)=>{const tt=s-o;return tt===0?1:(et-o)/tt},mix=(o,s,et)=>-et*o+et*s+o;function hueToRgb(o,s,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?o+(s-o)*6*et:et<1/2?s:et<2/3?o+(s-o)*(2/3-et)*6:o}function hslaToRgba({hue:o,saturation:s,lightness:et,alpha:tt}){o/=360,s/=100,et/=100;let nt=0,rt=0,it=0;if(!s)nt=rt=it=et;else{const st=et<.5?et*(1+s):et+s-et*s,ot=2*et-st;nt=hueToRgb(ot,st,o+1/3),rt=hueToRgb(ot,st,o),it=hueToRgb(ot,st,o-1/3)}return{red:Math.round(nt*255),green:Math.round(rt*255),blue:Math.round(it*255),alpha:tt}}const mixLinearColor=(o,s,et)=>{const tt=o*o,nt=s*s;return Math.sqrt(Math.max(0,et*(nt-tt)+tt))},colorTypes=[hex,rgba,hsla],getColorType=o=>colorTypes.find(s=>s.test(o)),mixColor=(o,s)=>{let et=getColorType(o),tt=getColorType(s),nt=et.parse(o),rt=tt.parse(s);et===hsla&&(nt=hslaToRgba(nt),et=rgba),tt===hsla&&(rt=hslaToRgba(rt),tt=rgba);const it=Object.assign({},nt);return st=>{for(const ot in it)ot!=="alpha"&&(it[ot]=mixLinearColor(nt[ot],rt[ot],st));return it.alpha=mix(nt.alpha,rt.alpha,st),et.transform(it)}},isNum=o=>typeof o=="number",combineFunctions=(o,s)=>et=>s(o(et)),pipe=(...o)=>o.reduce(combineFunctions);function getMixer(o,s){return isNum(o)?et=>mix(o,s,et):color.test(o)?mixColor(o,s):mixComplex(o,s)}const mixArray=(o,s)=>{const et=[...o],tt=et.length,nt=o.map((rt,it)=>getMixer(rt,s[it]));return rt=>{for(let it=0;it<tt;it++)et[it]=nt[it](rt);return et}},mixObject=(o,s)=>{const et=Object.assign(Object.assign({},o),s),tt={};for(const nt in et)o[nt]!==void 0&&s[nt]!==void 0&&(tt[nt]=getMixer(o[nt],s[nt]));return nt=>{for(const rt in tt)et[rt]=tt[rt](nt);return et}};function analyse(o){const s=complex.parse(o),et=s.length;let tt=0,nt=0,rt=0;for(let it=0;it<et;it++)tt||typeof s[it]=="number"?tt++:s[it].hue!==void 0?rt++:nt++;return{parsed:s,numNumbers:tt,numRGB:nt,numHSL:rt}}const mixComplex=(o,s)=>{const et=complex.createTransformer(s),tt=analyse(o),nt=analyse(s);return tt.numHSL===nt.numHSL&&tt.numRGB===nt.numRGB&&tt.numNumbers>=nt.numNumbers?pipe(mixArray(tt.parsed,nt.parsed),et):it=>`${it>0?s:o}`},mixNumber=(o,s)=>et=>mix(o,s,et);function detectMixerFactory(o){if(typeof o=="number")return mixNumber;if(typeof o=="string")return color.test(o)?mixColor:mixComplex;if(Array.isArray(o))return mixArray;if(typeof o=="object")return mixObject}function createMixers(o,s,et){const tt=[],nt=et||detectMixerFactory(o[0]),rt=o.length-1;for(let it=0;it<rt;it++){let st=nt(o[it],o[it+1]);if(s){const ot=Array.isArray(s)?s[it]:s;st=pipe(ot,st)}tt.push(st)}return tt}function fastInterpolate([o,s],[et]){return tt=>et(progress(o,s,tt))}function slowInterpolate(o,s){const et=o.length,tt=et-1;return nt=>{let rt=0,it=!1;if(nt<=o[0]?it=!0:nt>=o[tt]&&(rt=tt-1,it=!0),!it){let ot=1;for(;ot<et&&!(o[ot]>nt||ot===tt);ot++);rt=ot-1}const st=progress(o[rt],o[rt+1],nt);return s[rt](st)}}function interpolate(o,s,{clamp:et=!0,ease:tt,mixer:nt}={}){const rt=o.length;invariant(rt===s.length),invariant(!tt||!Array.isArray(tt)||tt.length===rt-1),o[0]>o[rt-1]&&(o=[].concat(o),s=[].concat(s),o.reverse(),s.reverse());const it=createMixers(s,tt,nt),st=rt===2?fastInterpolate(o,it):slowInterpolate(o,it);return et?ot=>st(clamp(o[0],o[rt-1],ot)):st}const reverseEasing=o=>s=>1-o(1-s),mirrorEasing=o=>s=>s<=.5?o(2*s)/2:(2-o(2*(1-s)))/2,createExpoIn=o=>s=>Math.pow(s,o),createBackIn=o=>s=>s*s*((o+1)*s-o),createAnticipate=o=>{const s=createBackIn(o);return et=>(et*=2)<1?.5*s(et):.5*(2-Math.pow(2,-10*(et-1)))},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=o=>o,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=o=>1-Math.sin(Math.acos(o)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceOut=o=>{if(o===1||o===0)return o;const s=o*o;return o<BOUNCE_FIRST_THRESHOLD?7.5625*s:o<BOUNCE_SECOND_THRESHOLD?9.075*s-9.9*o+3.4:o<BOUNCE_THIRD_THRESHOLD?ca*s-cb*o+cc:10.8*o*o-20.52*o+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=o=>o<.5?.5*(1-bounceOut(1-o*2)):.5*bounceOut(o*2-1)+.5;function defaultEasing(o,s){return o.map(()=>s||easeInOut).splice(0,o.length-1)}function defaultOffset(o){const s=o.length;return o.map((et,tt)=>tt!==0?tt/(s-1):0)}function convertOffsetToTimes(o,s){return o.map(et=>et*s)}function keyframes$1({from:o=0,to:s=1,ease:et,offset:tt,duration:nt=300}){const rt={done:!1,value:o},it=Array.isArray(s)?s:[o,s],st=convertOffsetToTimes(tt&&tt.length===it.length?tt:defaultOffset(it),nt);function ot(){return interpolate(st,it,{ease:Array.isArray(et)?et:defaultEasing(it,et)})}let at=ot();return{next:ut=>(rt.value=at(ut),rt.done=ut>=nt,rt),flipTarget:()=>{it.reverse(),at=ot()}}}function decay({velocity:o=0,from:s=0,power:et=.8,timeConstant:tt=350,restDelta:nt=.5,modifyTarget:rt}){const it={done:!1,value:s};let st=et*o;const ot=s+st,at=rt===void 0?ot:rt(ot);return at!==ot&&(st=at-s),{next:ut=>{const ht=-st*Math.exp(-ut/tt);return it.done=!(ht>nt||ht<-nt),it.value=it.done?at:at+ht,it},flipTarget:()=>{}}}const types={keyframes:keyframes$1,spring,decay};function detectAnimationFromOptions(o){if(Array.isArray(o.to))return keyframes$1;if(types[o.type])return types[o.type];const s=new Set(Object.keys(o));return s.has("ease")||s.has("duration")&&!s.has("dampingRatio")?keyframes$1:s.has("dampingRatio")||s.has("stiffness")||s.has("mass")||s.has("damping")||s.has("restSpeed")||s.has("restDelta")?spring:keyframes$1}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?o=>window.requestAnimationFrame(o):o=>setTimeout(()=>o(getCurrentTime()),defaultTimestep);function createRenderStep(o){let s=[],et=[],tt=0,nt=!1,rt=!1;const it=new WeakSet,st={schedule:(ot,at=!1,ut=!1)=>{const ht=ut&&nt,ft=ht?s:et;return at&&it.add(ot),ft.indexOf(ot)===-1&&(ft.push(ot),ht&&nt&&(tt=s.length)),ot},cancel:ot=>{const at=et.indexOf(ot);at!==-1&&et.splice(at,1),it.delete(ot)},process:ot=>{if(nt){rt=!0;return}if(nt=!0,[s,et]=[et,s],et.length=0,tt=s.length,tt)for(let at=0;at<tt;at++){const ut=s[at];ut(ot),it.has(ut)&&(st.schedule(ut),o())}nt=!1,rt&&(rt=!1,st.process(ot))}};return st}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((o,s)=>(o[s]=createRenderStep(()=>runNextFrame=!0),o),{}),sync=stepsOrder.reduce((o,s)=>{const et=steps[s];return o[s]=(tt,nt=!1,rt=!1)=>(runNextFrame||startLoop(),et.schedule(tt,nt,rt)),o},{}),cancelSync=stepsOrder.reduce((o,s)=>(o[s]=steps[s].cancel,o),{}),flushSync=stepsOrder.reduce((o,s)=>(o[s]=()=>steps[s].process(frame),o),{}),processStep=o=>steps[o].process(frame),processFrame=o=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(o-frame.timestamp,maxElapsed),1),frame.timestamp=o,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame;function loopElapsed(o,s,et=0){return o-s-et}function reverseElapsed(o,s,et=0,tt=!0){return tt?loopElapsed(s+-o,s,et):s-(o-s)+et}function hasRepeatDelayElapsed(o,s,et,tt){return tt?o>=s+et:o<=-et}const framesync=o=>{const s=({delta:et})=>o(et);return{start:()=>sync.update(s,!0),stop:()=>cancelSync.update(s)}};function animate$1(o){var s,et,{from:tt,autoplay:nt=!0,driver:rt=framesync,elapsed:it=0,repeat:st=0,repeatType:ot="loop",repeatDelay:at=0,onPlay:ut,onStop:ht,onComplete:ft,onRepeat:dt,onUpdate:vt}=o,gt=__rest(o,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:_t}=gt,pt,mt=0,yt=gt.duration,xt,bt=!1,wt=!0,Ct;const Et=detectAnimationFromOptions(gt);!((et=(s=Et).needsInterpolation)===null||et===void 0)&&et.call(s,tt,_t)&&(Ct=interpolate([0,100],[tt,_t],{clamp:!1}),tt=0,_t=100);const kt=Et(Object.assign(Object.assign({},gt),{from:tt,to:_t}));function Dt(){mt++,ot==="reverse"?(wt=mt%2===0,it=reverseElapsed(it,yt,at,wt)):(it=loopElapsed(it,yt,at),ot==="mirror"&&kt.flipTarget()),bt=!1,dt&&dt()}function zt(){pt.stop(),ft&&ft()}function Wt(Gt){if(wt||(Gt=-Gt),it+=Gt,!bt){const $t=kt.next(Math.max(0,it));xt=$t.value,Ct&&(xt=Ct(xt)),bt=wt?$t.done:it<=0}vt==null||vt(xt),bt&&(mt===0&&(yt!=null||(yt=it)),mt<st?hasRepeatDelayElapsed(it,yt,at,wt)&&Dt():zt())}function Ht(){ut==null||ut(),pt=rt(Wt),pt.start()}return nt&&Ht(),{stop:()=>{ht==null||ht(),pt.stop()}}}function velocityPerSecond(o,s){return s?o*(1e3/s):0}function inertia({from:o=0,velocity:s=0,min:et,max:tt,power:nt=.8,timeConstant:rt=750,bounceStiffness:it=500,bounceDamping:st=10,restDelta:ot=1,modifyTarget:at,driver:ut,onUpdate:ht,onComplete:ft,onStop:dt}){let vt;function gt(yt){return et!==void 0&&yt<et||tt!==void 0&&yt>tt}function _t(yt){return et===void 0?tt:tt===void 0||Math.abs(et-yt)<Math.abs(tt-yt)?et:tt}function pt(yt){vt==null||vt.stop(),vt=animate$1(Object.assign(Object.assign({},yt),{driver:ut,onUpdate:xt=>{var bt;ht==null||ht(xt),(bt=yt.onUpdate)===null||bt===void 0||bt.call(yt,xt)},onComplete:ft,onStop:dt}))}function mt(yt){pt(Object.assign({type:"spring",stiffness:it,damping:st,restDelta:ot},yt))}if(gt(o))mt({from:o,velocity:s,to:_t(o)});else{let yt=nt*s+o;typeof at<"u"&&(yt=at(yt));const xt=_t(yt),bt=xt===et?-1:1;let wt,Ct;const Et=kt=>{wt=Ct,Ct=kt,s=velocityPerSecond(kt-wt,getFrameData().delta),(bt===1&&kt>xt||bt===-1&&kt<xt)&&mt({from:kt,to:xt,velocity:s})};pt({type:"decay",from:o,velocity:s,timeConstant:rt,power:nt,restDelta:ot,modifyTarget:at,onUpdate:gt(yt)?Et:void 0})}return{stop:()=>vt==null?void 0:vt.stop()}}const isPoint=o=>o.hasOwnProperty("x")&&o.hasOwnProperty("y"),isPoint3D=o=>isPoint(o)&&o.hasOwnProperty("z"),distance1D=(o,s)=>Math.abs(o-s);function distance(o,s){if(isNum(o)&&isNum(s))return distance1D(o,s);if(isPoint(o)&&isPoint(s)){const et=distance1D(o.x,s.x),tt=distance1D(o.y,s.y),nt=isPoint3D(o)&&isPoint3D(s)?distance1D(o.z,s.z):0;return Math.sqrt(Math.pow(et,2)+Math.pow(tt,2)+Math.pow(nt,2))}}const wrap$1=(o,s,et)=>{const tt=s-o;return((et-o)%tt+tt)%tt+o},a=(o,s)=>1-3*s+3*o,b$2=(o,s)=>3*s-6*o,c$1=o=>3*o,calcBezier=(o,s,et)=>((a(s,et)*o+b$2(s,et))*o+c$1(s))*o,getSlope=(o,s,et)=>3*a(s,et)*o*o+2*b$2(s,et)*o+c$1(s),subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(o,s,et,tt,nt){let rt,it,st=0;do it=s+(et-s)/2,rt=calcBezier(it,tt,nt)-o,rt>0?et=it:s=it;while(Math.abs(rt)>subdivisionPrecision&&++st<subdivisionMaxIterations);return it}const newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(o,s,et,tt){for(let nt=0;nt<newtonIterations;++nt){const rt=getSlope(s,et,tt);if(rt===0)return s;s-=(calcBezier(s,et,tt)-o)/rt}return s}const kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(o,s,et,tt){if(o===s&&et===tt)return linear;const nt=new Float32Array(kSplineTableSize);for(let it=0;it<kSplineTableSize;++it)nt[it]=calcBezier(it*kSampleStepSize,o,et);function rt(it){let st=0,ot=1;const at=kSplineTableSize-1;for(;ot!==at&&nt[ot]<=it;++ot)st+=kSampleStepSize;--ot;const ut=(it-nt[ot])/(nt[ot+1]-nt[ot]),ht=st+ut*kSampleStepSize,ft=getSlope(ht,o,et);return ft>=newtonMinSlope?newtonRaphsonIterate(it,ht,o,et):ft===0?ht:binarySubdivide(it,st,st+kSampleStepSize,o,et)}return it=>it===0||it===1?it:calcBezier(rt(it),s,tt)}function useTapGesture({onTap:o,onTapStart:s,onTapCancel:et,whileTap:tt,visualElement:nt}){const rt=o||s||et||tt,it=react.exports.useRef(!1),st=react.exports.useRef(null),ot={passive:!(s||o||et||dt)};function at(){st.current&&st.current(),st.current=null}function ut(){return at(),it.current=!1,nt.animationState&&nt.animationState.setActive(AnimationType.Tap,!1),!isDragActive()}function ht(vt,gt){!ut()||(isNodeOrChild(nt.getInstance(),vt.target)?o&&o(vt,gt):et&&et(vt,gt))}function ft(vt,gt){!ut()||et&&et(vt,gt)}function dt(vt,gt){at(),!it.current&&(it.current=!0,st.current=pipe(addPointerEvent(window,"pointerup",ht,ot),addPointerEvent(window,"pointercancel",ft,ot)),nt.animationState&&nt.animationState.setActive(AnimationType.Tap,!0),s&&s(vt,gt))}usePointerEvent(nt,"pointerdown",rt?dt:void 0,ot),useUnmountEffect(at)}const defaultEnvironment="production",env=typeof process>"u"||process.env===void 0?defaultEnvironment:"production",warned=new Set;function warnOnce(o,s,et){o||warned.has(s)||(console.warn(s),et&&console.warn(et),warned.add(s))}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=o=>{const s=observerCallbacks.get(o.target);s&&s(o)},fireAllObserverCallbacks=o=>{o.forEach(fireObserverCallback)};function initIntersectionObserver({root:o,...s}){const et=o||document;observers.has(et)||observers.set(et,{});const tt=observers.get(et),nt=JSON.stringify(s);return tt[nt]||(tt[nt]=new IntersectionObserver(fireAllObserverCallbacks,{root:o,...s})),tt[nt]}function observeIntersection(o,s,et){const tt=initIntersectionObserver(s);return observerCallbacks.set(o,et),tt.observe(o),()=>{observerCallbacks.delete(o),tt.unobserve(o)}}function useViewport({visualElement:o,whileInView:s,onViewportEnter:et,onViewportLeave:tt,viewport:nt={}}){const rt=react.exports.useRef({hasEnteredView:!1,isInView:!1});let it=Boolean(s||et||tt);nt.once&&rt.current.hasEnteredView&&(it=!1),(typeof IntersectionObserver>"u"?useMissingIntersectionObserver:useIntersectionObserver)(it,rt.current,o,nt)}const thresholdNames={some:0,all:1};function useIntersectionObserver(o,s,et,{root:tt,margin:nt,amount:rt="some",once:it}){react.exports.useEffect(()=>{if(!o)return;const st={root:tt==null?void 0:tt.current,rootMargin:nt,threshold:typeof rt=="number"?rt:thresholdNames[rt]},ot=at=>{const{isIntersecting:ut}=at;if(s.isInView===ut||(s.isInView=ut,it&&!ut&&s.hasEnteredView))return;ut&&(s.hasEnteredView=!0),et.animationState&&et.animationState.setActive(AnimationType.InView,ut);const ht=et.getProps(),ft=ut?ht.onViewportEnter:ht.onViewportLeave;ft&&ft(at)};return observeIntersection(et.getInstance(),st,ot)},[o,tt,nt,rt])}function useMissingIntersectionObserver(o,s,et,{fallback:tt=!0}){react.exports.useEffect(()=>{!o||!tt||(env!=="production"&&warnOnce(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{s.hasEnteredView=!0;const{onViewportEnter:nt}=et.getProps();nt&&nt(null),et.animationState&&et.animationState.setActive(AnimationType.InView,!0)}))},[o])}const makeRenderlessComponent=o=>s=>(o(s),null),gestureAnimations={inView:makeRenderlessComponent(useViewport),tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)};function usePresence(){const o=react.exports.useContext(PresenceContext);if(o===null)return[!0,null];const{isPresent:s,onExitComplete:et,register:tt}=o,nt=react.exports.useId();return react.exports.useEffect(()=>tt(nt),[]),!s&&et?[!1,()=>et&&et(nt)]:[!0]}function shallowCompare(o,s){if(!Array.isArray(s))return!1;const et=s.length;if(et!==o.length)return!1;for(let tt=0;tt<et;tt++)if(s[tt]!==o[tt])return!1;return!0}const secondsToMilliseconds=o=>o*1e3,easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut},easingDefinitionToFunction=o=>{if(Array.isArray(o)){invariant(o.length===4);const[s,et,tt,nt]=o;return cubicBezier(s,et,tt,nt)}else if(typeof o=="string")return easingLookup[o];return o},isEasingArray=o=>Array.isArray(o)&&typeof o[0]!="number",isAnimatable=(o,s)=>o==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&complex.test(s)&&!s.startsWith("url(")),underDampedSpring=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),criticallyDampedSpring=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),linearTween=()=>({type:"keyframes",ease:"linear",duration:.3}),keyframes=o=>({type:"keyframes",duration:.8,values:o}),defaultTransitions={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=(o,s)=>{let et;return isKeyframesTarget(s)?et=keyframes:et=defaultTransitions[o]||defaultTransitions.default,{to:s,...et(s)}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=o=>defaultValueTypes[o];function getAnimatableNone(o,s){var et;let tt=getDefaultValueType(o);return tt!==filter&&(tt=complex),(et=tt.getAnimatableNone)===null||et===void 0?void 0:et.call(tt,s)}const instantAnimationState={current:!1};function isTransitionDefined({when:o,delay:s,delayChildren:et,staggerChildren:tt,staggerDirection:nt,repeat:rt,repeatType:it,repeatDelay:st,from:ot,...at}){return!!Object.keys(at).length}function convertTransitionToAnimationOptions({ease:o,times:s,yoyo:et,flip:tt,loop:nt,...rt}){const it={...rt};return s&&(it.offset=s),rt.duration&&(it.duration=secondsToMilliseconds(rt.duration)),rt.repeatDelay&&(it.repeatDelay=secondsToMilliseconds(rt.repeatDelay)),o&&(it.ease=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o)),rt.type==="tween"&&(it.type="keyframes"),(et||nt||tt)&&(et?it.repeatType="reverse":nt?it.repeatType="loop":tt&&(it.repeatType="mirror"),it.repeat=nt||et||tt||rt.repeat),rt.type!=="spring"&&(it.type="keyframes"),it}function getDelayFromTransition(o,s){var et,tt;return(tt=(et=(getValueTransition(o,s)||{}).delay)!==null&&et!==void 0?et:o.delay)!==null&&tt!==void 0?tt:0}function hydrateKeyframes(o){return Array.isArray(o.to)&&o.to[0]===null&&(o.to=[...o.to],o.to[0]=o.from),o}function getPopmotionAnimationOptions(o,s,et){return Array.isArray(s.to)&&o.duration===void 0&&(o.duration=.8),hydrateKeyframes(s),isTransitionDefined(o)||(o={...o,...getDefaultTransition(et,s.to)}),{...s,...convertTransitionToAnimationOptions(o)}}function getAnimation(o,s,et,tt,nt){const rt=getValueTransition(tt,o)||{};let it=rt.from!==void 0?rt.from:s.get();const st=isAnimatable(o,et);it==="none"&&st&&typeof et=="string"?it=getAnimatableNone(o,et):isZero(it)&&typeof et=="string"?it=getZeroUnit(et):!Array.isArray(et)&&isZero(et)&&typeof it=="string"&&(et=getZeroUnit(it));const ot=isAnimatable(o,it);function at(){const ht={from:it,to:et,velocity:s.getVelocity(),onComplete:nt,onUpdate:ft=>s.set(ft)};return rt.type==="inertia"||rt.type==="decay"?inertia({...ht,...rt}):animate$1({...getPopmotionAnimationOptions(rt,ht,o),onUpdate:ft=>{ht.onUpdate(ft),rt.onUpdate&&rt.onUpdate(ft)},onComplete:()=>{ht.onComplete(),rt.onComplete&&rt.onComplete()}})}function ut(){const ht=resolveFinalValueInKeyframes(et);return s.set(ht),nt(),rt.onUpdate&&rt.onUpdate(ht),rt.onComplete&&rt.onComplete(),{stop:()=>{}}}return!ot||!st||rt.type===!1?ut:at}function isZero(o){return o===0||typeof o=="string"&&parseFloat(o)===0&&o.indexOf(" ")===-1}function getZeroUnit(o){return typeof o=="number"?0:getAnimatableNone("",o)}function getValueTransition(o,s){return o[s]||o.default||o}function startAnimation(o,s,et,tt={}){return instantAnimationState.current&&(tt={type:!1}),s.start(nt=>{let rt,it;const st=getAnimation(o,s,et,tt,nt),ot=getDelayFromTransition(tt,o),at=()=>it=st();return ot?rt=window.setTimeout(at,secondsToMilliseconds(ot)):at(),()=>{clearTimeout(rt),it&&it.stop()}})}const isNumericalString=o=>/^\-?\d*\.?\d+$/.test(o),isZeroValueString=o=>/^0[^.\s]+$/.test(o);function addUniqueItem(o,s){o.indexOf(s)===-1&&o.push(s)}function removeItem(o,s){const et=o.indexOf(s);et>-1&&o.splice(et,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,et,tt){const nt=this.subscriptions.length;if(!!nt)if(nt===1)this.subscriptions[0](s,et,tt);else for(let rt=0;rt<nt;rt++){const it=this.subscriptions[rt];it&&it(s,et,tt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=o=>!isNaN(parseFloat(o));class MotionValue{constructor(s){this.version="7.3.2",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new SubscriptionManager,this.velocityUpdateSubscribers=new SubscriptionManager,this.renderSubscribers=new SubscriptionManager,this.canTrackVelocity=!1,this.updateAndNotify=(et,tt=!0)=>{this.prev=this.current,this.current=et;const{delta:nt,timestamp:rt}=getFrameData();this.lastUpdated!==rt&&(this.timeDelta=nt,this.lastUpdated=rt,sync.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),tt&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:et})=>{et!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=s,this.canTrackVelocity=isFloat(this.current)}onChange(s){return this.updateSubscribers.add(s)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(s){return s(this.get()),this.renderSubscribers.add(s)}attach(s){this.passiveEffect=s}set(s,et=!0){!et||!this.passiveEffect?this.updateAndNotify(s,et):this.passiveEffect(s,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(s){return this.stop(),new Promise(et=>{this.hasAnimated=!0,this.stopAnimation=s(et)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function motionValue(o){return new MotionValue(o)}const testValueType=o=>s=>s.test(o),auto={test:o=>o==="auto",parse:o=>o},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=o=>dimensionValueTypes.find(testValueType(o)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=o=>valueTypes.find(testValueType(o));function getCurrent(o){const s={};return o.forEachValue((et,tt)=>s[tt]=et.get()),s}function getVelocity$1(o){const s={};return o.forEachValue((et,tt)=>s[tt]=et.getVelocity()),s}function resolveVariant(o,s,et){const tt=o.getProps();return resolveVariantFromProps(tt,s,et!==void 0?et:tt.custom,getCurrent(o),getVelocity$1(o))}function setMotionValue(o,s,et){o.hasValue(s)?o.getValue(s).set(et):o.addValue(s,motionValue(et))}function setTarget(o,s){const et=resolveVariant(o,s);let{transitionEnd:tt={},transition:nt={},...rt}=et?o.makeTargetAnimatable(et,!1):{};rt={...rt,...tt};for(const it in rt){const st=resolveFinalValueInKeyframes(rt[it]);setMotionValue(o,it,st)}}function checkTargetForNewValues(o,s,et){var tt,nt;const rt=Object.keys(s).filter(st=>!o.hasValue(st)),it=rt.length;if(!!it)for(let st=0;st<it;st++){const ot=rt[st],at=s[ot];let ut=null;Array.isArray(at)&&(ut=at[0]),ut===null&&(ut=(nt=(tt=et[ot])!==null&&tt!==void 0?tt:o.readValue(ot))!==null&&nt!==void 0?nt:s[ot]),ut!=null&&(typeof ut=="string"&&(isNumericalString(ut)||isZeroValueString(ut))?ut=parseFloat(ut):!findValueType(ut)&&complex.test(at)&&(ut=getAnimatableNone(ot,at)),o.addValue(ot,motionValue(ut)),et[ot]===void 0&&(et[ot]=ut),o.setBaseTarget(ot,ut))}}function getOriginFromTransition(o,s){return s?(s[o]||s.default||s).from:void 0}function getOrigin(o,s,et){var tt;const nt={};for(const rt in o){const it=getOriginFromTransition(rt,s);nt[rt]=it!==void 0?it:(tt=et.getValue(rt))===null||tt===void 0?void 0:tt.get()}return nt}function isWillChangeMotionValue(o){return Boolean(isMotionValue(o)&&o.add)}function animateVisualElement(o,s,et={}){o.notifyAnimationStart(s);let tt;if(Array.isArray(s)){const nt=s.map(rt=>animateVariant(o,rt,et));tt=Promise.all(nt)}else if(typeof s=="string")tt=animateVariant(o,s,et);else{const nt=typeof s=="function"?resolveVariant(o,s,et.custom):s;tt=animateTarget(o,nt,et)}return tt.then(()=>o.notifyAnimationComplete(s))}function animateVariant(o,s,et={}){var tt;const nt=resolveVariant(o,s,et.custom);let{transition:rt=o.getDefaultTransition()||{}}=nt||{};et.transitionOverride&&(rt=et.transitionOverride);const it=nt?()=>animateTarget(o,nt,et):()=>Promise.resolve(),st=!((tt=o.variantChildren)===null||tt===void 0)&&tt.size?(at=0)=>{const{delayChildren:ut=0,staggerChildren:ht,staggerDirection:ft}=rt;return animateChildren(o,s,ut+at,ht,ft,et)}:()=>Promise.resolve(),{when:ot}=rt;if(ot){const[at,ut]=ot==="beforeChildren"?[it,st]:[st,it];return at().then(ut)}else return Promise.all([it(),st(et.delay)])}function animateTarget(o,s,{delay:et=0,transitionOverride:tt,type:nt}={}){var rt;let{transition:it=o.getDefaultTransition(),transitionEnd:st,...ot}=o.makeTargetAnimatable(s);const at=o.getValue("willChange");tt&&(it=tt);const ut=[],ht=nt&&((rt=o.animationState)===null||rt===void 0?void 0:rt.getState()[nt]);for(const ft in ot){const dt=o.getValue(ft),vt=ot[ft];if(!dt||vt===void 0||ht&&shouldBlockAnimation(ht,ft))continue;let gt={delay:et,...it};o.shouldReduceMotion&&transformProps.has(ft)&&(gt={...gt,type:!1,delay:0});let _t=startAnimation(ft,dt,vt,gt);isWillChangeMotionValue(at)&&(at.add(ft),_t=_t.then(()=>at.remove(ft))),ut.push(_t)}return Promise.all(ut).then(()=>{st&&setTarget(o,st)})}function animateChildren(o,s,et=0,tt=0,nt=1,rt){const it=[],st=(o.variantChildren.size-1)*tt,ot=nt===1?(at=0)=>at*tt:(at=0)=>st-at*tt;return Array.from(o.variantChildren).sort(sortByTreeOrder).forEach((at,ut)=>{it.push(animateVariant(at,s,{...rt,delay:et+ot(ut)}).then(()=>at.notifyAnimationComplete(s)))}),Promise.all(it)}function sortByTreeOrder(o,s){return o.sortNodePosition(s)}function shouldBlockAnimation({protectedKeys:o,needsAnimating:s},et){const tt=o.hasOwnProperty(et)&&s[et]!==!0;return s[et]=!1,tt}const variantPriorityOrder=[AnimationType.Animate,AnimationType.InView,AnimationType.Focus,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Exit],reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(o){return s=>Promise.all(s.map(({animation:et,options:tt})=>animateVisualElement(o,et,tt)))}function createAnimationState(o){let s=animateList(o);const et=createState();let tt=!0;const nt=(ot,at)=>{const ut=resolveVariant(o,at);if(ut){const{transition:ht,transitionEnd:ft,...dt}=ut;ot={...ot,...dt,...ft}}return ot};function rt(ot){s=ot(o)}function it(ot,at){var ut;const ht=o.getProps(),ft=o.getVariantContext(!0)||{},dt=[],vt=new Set;let gt={},_t=1/0;for(let mt=0;mt<numAnimationTypes;mt++){const yt=reversePriorityOrder[mt],xt=et[yt],bt=(ut=ht[yt])!==null&&ut!==void 0?ut:ft[yt],wt=isVariantLabel(bt),Ct=yt===at?xt.isActive:null;Ct===!1&&(_t=mt);let Et=bt===ft[yt]&&bt!==ht[yt]&&wt;if(Et&&tt&&o.manuallyAnimateOnMount&&(Et=!1),xt.protectedKeys={...gt},!xt.isActive&&Ct===null||!bt&&!xt.prevProp||isAnimationControls(bt)||typeof bt=="boolean")continue;const kt=checkVariantsDidChange(xt.prevProp,bt);let Dt=kt||yt===at&&xt.isActive&&!Et&&wt||mt>_t&&wt;const zt=Array.isArray(bt)?bt:[bt];let Wt=zt.reduce(nt,{});Ct===!1&&(Wt={});const{prevResolvedValues:Ht={}}=xt,Gt={...Ht,...Wt},$t=Ft=>{Dt=!0,vt.delete(Ft),xt.needsAnimating[Ft]=!0};for(const Ft in Gt){const It=Wt[Ft],Tt=Ht[Ft];gt.hasOwnProperty(Ft)||(It!==Tt?isKeyframesTarget(It)&&isKeyframesTarget(Tt)?!shallowCompare(It,Tt)||kt?$t(Ft):xt.protectedKeys[Ft]=!0:It!==void 0?$t(Ft):vt.add(Ft):It!==void 0&&vt.has(Ft)?$t(Ft):xt.protectedKeys[Ft]=!0)}xt.prevProp=bt,xt.prevResolvedValues=Wt,xt.isActive&&(gt={...gt,...Wt}),tt&&o.blockInitialAnimation&&(Dt=!1),Dt&&!Et&&dt.push(...zt.map(Ft=>({animation:Ft,options:{type:yt,...ot}})))}if(vt.size){const mt={};vt.forEach(yt=>{const xt=o.getBaseTarget(yt);xt!==void 0&&(mt[yt]=xt)}),dt.push({animation:mt})}let pt=Boolean(dt.length);return tt&&ht.initial===!1&&!o.manuallyAnimateOnMount&&(pt=!1),tt=!1,pt?s(dt):Promise.resolve()}function st(ot,at,ut){var ht;if(et[ot].isActive===at)return Promise.resolve();(ht=o.variantChildren)===null||ht===void 0||ht.forEach(dt=>{var vt;return(vt=dt.animationState)===null||vt===void 0?void 0:vt.setActive(ot,at)}),et[ot].isActive=at;const ft=it(ut,ot);for(const dt in et)et[dt].protectedKeys={};return ft}return{animateChanges:it,setActive:st,setAnimateFunction:rt,getState:()=>et}}function checkVariantsDidChange(o,s){return typeof s=="string"?s!==o:Array.isArray(s)?!shallowCompare(s,o):!1}function createTypeState(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{[AnimationType.Animate]:createTypeState(!0),[AnimationType.InView]:createTypeState(),[AnimationType.Hover]:createTypeState(),[AnimationType.Tap]:createTypeState(),[AnimationType.Drag]:createTypeState(),[AnimationType.Focus]:createTypeState(),[AnimationType.Exit]:createTypeState()}}const animations={animation:makeRenderlessComponent(({visualElement:o,animate:s})=>{o.animationState||(o.animationState=createAnimationState(o)),isAnimationControls(s)&&react.exports.useEffect(()=>s.subscribe(o),[s])}),exit:makeRenderlessComponent(o=>{const{custom:s,visualElement:et}=o,[tt,nt]=usePresence(),rt=react.exports.useContext(PresenceContext);react.exports.useEffect(()=>{et.isPresent=tt;const it=et.animationState&&et.animationState.setActive(AnimationType.Exit,!tt,{custom:rt&&rt.custom||s});it&&!tt&&it.then(nt)},[tt])})};class PanSession{constructor(s,et,{transformPagePoint:tt}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const at=getPanInfo(this.lastMoveEventInfo,this.history),ut=this.startEvent!==null,ht=distance(at.offset,{x:0,y:0})>=3;if(!ut&&!ht)return;const{point:ft}=at,{timestamp:dt}=getFrameData();this.history.push({...ft,timestamp:dt});const{onStart:vt,onMove:gt}=this.handlers;ut||(vt&&vt(this.lastMoveEvent,at),this.startEvent=this.lastMoveEvent),gt&&gt(this.lastMoveEvent,at)},this.handlePointerMove=(at,ut)=>{if(this.lastMoveEvent=at,this.lastMoveEventInfo=transformPoint(ut,this.transformPagePoint),isMouseEvent(at)&&at.buttons===0){this.handlePointerUp(at,ut);return}sync.update(this.updatePoint,!0)},this.handlePointerUp=(at,ut)=>{this.end();const{onEnd:ht,onSessionEnd:ft}=this.handlers,dt=getPanInfo(transformPoint(ut,this.transformPagePoint),this.history);this.startEvent&&ht&&ht(at,dt),ft&&ft(at,dt)},isTouchEvent(s)&&s.touches.length>1)return;this.handlers=et,this.transformPagePoint=tt;const nt=extractEventInfo(s),rt=transformPoint(nt,this.transformPagePoint),{point:it}=rt,{timestamp:st}=getFrameData();this.history=[{...it,timestamp:st}];const{onSessionStart:ot}=et;ot&&ot(s,getPanInfo(rt,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)}}function transformPoint(o,s){return s?{point:s(o.point)}:o}function subtractPoint(o,s){return{x:o.x-s.x,y:o.y-s.y}}function getPanInfo({point:o},s){return{point:o,delta:subtractPoint(o,lastDevicePoint(s)),offset:subtractPoint(o,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(o){return o[0]}function lastDevicePoint(o){return o[o.length-1]}function getVelocity(o,s){if(o.length<2)return{x:0,y:0};let et=o.length-1,tt=null;const nt=lastDevicePoint(o);for(;et>=0&&(tt=o[et],!(nt.timestamp-tt.timestamp>secondsToMilliseconds(s)));)et--;if(!tt)return{x:0,y:0};const rt=(nt.timestamp-tt.timestamp)/1e3;if(rt===0)return{x:0,y:0};const it={x:(nt.x-tt.x)/rt,y:(nt.y-tt.y)/rt};return it.x===1/0&&(it.x=0),it.y===1/0&&(it.y=0),it}function calcLength(o){return o.max-o.min}function isNear(o,s=0,et=.01){return distance(o,s)<et}function calcAxisDelta(o,s,et,tt=.5){o.origin=tt,o.originPoint=mix(s.min,s.max,o.origin),o.scale=calcLength(et)/calcLength(s),(isNear(o.scale,1,1e-4)||isNaN(o.scale))&&(o.scale=1),o.translate=mix(et.min,et.max,o.origin)-o.originPoint,(isNear(o.translate)||isNaN(o.translate))&&(o.translate=0)}function calcBoxDelta(o,s,et,tt){calcAxisDelta(o.x,s.x,et.x,tt==null?void 0:tt.originX),calcAxisDelta(o.y,s.y,et.y,tt==null?void 0:tt.originY)}function calcRelativeAxis(o,s,et){o.min=et.min+s.min,o.max=o.min+calcLength(s)}function calcRelativeBox(o,s,et){calcRelativeAxis(o.x,s.x,et.x),calcRelativeAxis(o.y,s.y,et.y)}function calcRelativeAxisPosition(o,s,et){o.min=s.min-et.min,o.max=o.min+calcLength(s)}function calcRelativePosition(o,s,et){calcRelativeAxisPosition(o.x,s.x,et.x),calcRelativeAxisPosition(o.y,s.y,et.y)}function applyConstraints(o,{min:s,max:et},tt){return s!==void 0&&o<s?o=tt?mix(s,o,tt.min):Math.max(o,s):et!==void 0&&o>et&&(o=tt?mix(et,o,tt.max):Math.min(o,et)),o}function calcRelativeAxisConstraints(o,s,et){return{min:s!==void 0?o.min+s:void 0,max:et!==void 0?o.max+et-(o.max-o.min):void 0}}function calcRelativeConstraints(o,{top:s,left:et,bottom:tt,right:nt}){return{x:calcRelativeAxisConstraints(o.x,et,nt),y:calcRelativeAxisConstraints(o.y,s,tt)}}function calcViewportAxisConstraints(o,s){let et=s.min-o.min,tt=s.max-o.max;return s.max-s.min<o.max-o.min&&([et,tt]=[tt,et]),{min:et,max:tt}}function calcViewportConstraints(o,s){return{x:calcViewportAxisConstraints(o.x,s.x),y:calcViewportAxisConstraints(o.y,s.y)}}function calcOrigin(o,s){let et=.5;const tt=calcLength(o),nt=calcLength(s);return nt>tt?et=progress(s.min,s.max-tt,o.min):tt>nt&&(et=progress(o.min,o.max-nt,s.min)),clamp(0,1,et)}function rebaseAxisConstraints(o,s){const et={};return s.min!==void 0&&(et.min=s.min-o.min),s.max!==void 0&&(et.max=s.max-o.min),et}const defaultElastic=.35;function resolveDragElastic(o=defaultElastic){return o===!1?o=0:o===!0&&(o=defaultElastic),{x:resolveAxisElastic(o,"left","right"),y:resolveAxisElastic(o,"top","bottom")}}function resolveAxisElastic(o,s,et){return{min:resolvePointElastic(o,s),max:resolvePointElastic(o,et)}}function resolvePointElastic(o,s){var et;return typeof o=="number"?o:(et=o[s])!==null&&et!==void 0?et:0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(o){return[o("x"),o("y")]}function convertBoundingBoxToBox({top:o,left:s,right:et,bottom:tt}){return{x:{min:s,max:et},y:{min:o,max:tt}}}function convertBoxToBoundingBox({x:o,y:s}){return{top:s.min,right:o.max,bottom:s.max,left:o.min}}function transformBoxPoints(o,s){if(!s)return o;const et=s({x:o.left,y:o.top}),tt=s({x:o.right,y:o.bottom});return{top:et.y,left:et.x,bottom:tt.y,right:tt.x}}function isIdentityScale(o){return o===void 0||o===1}function hasScale({scale:o,scaleX:s,scaleY:et}){return!isIdentityScale(o)||!isIdentityScale(s)||!isIdentityScale(et)}function hasTransform(o){return hasScale(o)||hasTranslate(o.x)||hasTranslate(o.y)||o.z||o.rotate||o.rotateX||o.rotateY}function hasTranslate(o){return o&&o!=="0%"}function scalePoint(o,s,et){const tt=o-et,nt=s*tt;return et+nt}function applyPointDelta(o,s,et,tt,nt){return nt!==void 0&&(o=scalePoint(o,nt,tt)),scalePoint(o,et,tt)+s}function applyAxisDelta(o,s=0,et=1,tt,nt){o.min=applyPointDelta(o.min,s,et,tt,nt),o.max=applyPointDelta(o.max,s,et,tt,nt)}function applyBoxDelta(o,{x:s,y:et}){applyAxisDelta(o.x,s.translate,s.scale,s.originPoint),applyAxisDelta(o.y,et.translate,et.scale,et.originPoint)}function applyTreeDeltas(o,s,et,tt=!1){var nt,rt;const it=et.length;if(!it)return;s.x=s.y=1;let st,ot;for(let at=0;at<it;at++)st=et[at],ot=st.projectionDelta,((rt=(nt=st.instance)===null||nt===void 0?void 0:nt.style)===null||rt===void 0?void 0:rt.display)!=="contents"&&(tt&&st.options.layoutScroll&&st.scroll&&st!==st.root&&transformBox(o,{x:-st.scroll.x,y:-st.scroll.y}),ot&&(s.x*=ot.x.scale,s.y*=ot.y.scale,applyBoxDelta(o,ot)),tt&&hasTransform(st.latestValues)&&transformBox(o,st.latestValues))}function translateAxis(o,s){o.min=o.min+s,o.max=o.max+s}function transformAxis(o,s,[et,tt,nt]){const rt=s[nt]!==void 0?s[nt]:.5,it=mix(o.min,o.max,rt);applyAxisDelta(o,s[et],s[tt],it,s.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(o,s){transformAxis(o.x,s,xKeys$1),transformAxis(o.y,s,yKeys$1)}function measureViewportBox(o,s){return convertBoundingBoxToBox(transformBoxPoints(o.getBoundingClientRect(),s))}function measurePageBox(o,s,et){const tt=measureViewportBox(o,et),{scroll:nt}=s;return nt&&(translateAxis(tt.x,nt.x),translateAxis(tt.y,nt.y)),tt}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:et=!1}={}){if(this.visualElement.isPresent===!1)return;const tt=st=>{this.stopAnimation(),et&&this.snapToCursor(extractEventInfo(st,"page").point)},nt=(st,ot)=>{var at;const{drag:ut,dragPropagation:ht,onDragStart:ft}=this.getProps();ut&&!ht&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(ut),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(dt=>{var vt,gt;let _t=this.getAxisMotionValue(dt).get()||0;if(percent.test(_t)){const pt=(gt=(vt=this.visualElement.projection)===null||vt===void 0?void 0:vt.layout)===null||gt===void 0?void 0:gt.actual[dt];pt&&(_t=calcLength(pt)*(parseFloat(_t)/100))}this.originPoint[dt]=_t}),ft==null||ft(st,ot),(at=this.visualElement.animationState)===null||at===void 0||at.setActive(AnimationType.Drag,!0))},rt=(st,ot)=>{const{dragPropagation:at,dragDirectionLock:ut,onDirectionLock:ht,onDrag:ft}=this.getProps();if(!at&&!this.openGlobalLock)return;const{offset:dt}=ot;if(ut&&this.currentDirection===null){this.currentDirection=getCurrentDirection(dt),this.currentDirection!==null&&(ht==null||ht(this.currentDirection));return}this.updateAxis("x",ot.point,dt),this.updateAxis("y",ot.point,dt),this.visualElement.syncRender(),ft==null||ft(st,ot)},it=(st,ot)=>this.stop(st,ot);this.panSession=new PanSession(s,{onSessionStart:tt,onStart:nt,onMove:rt,onSessionEnd:it},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(s,et){const tt=this.isDragging;if(this.cancel(),!tt)return;const{velocity:nt}=et;this.startAnimation(nt);const{onDragEnd:rt}=this.getProps();rt==null||rt(s,et)}cancel(){var s,et;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(s=this.panSession)===null||s===void 0||s.end(),this.panSession=void 0;const{dragPropagation:tt}=this.getProps();!tt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(et=this.visualElement.animationState)===null||et===void 0||et.setActive(AnimationType.Drag,!1)}updateAxis(s,et,tt){const{drag:nt}=this.getProps();if(!tt||!shouldDrag(s,nt,this.currentDirection))return;const rt=this.getAxisMotionValue(s);let it=this.originPoint[s]+tt[s];this.constraints&&this.constraints[s]&&(it=applyConstraints(it,this.constraints[s],this.elastic[s])),rt.set(it)}resolveConstraints(){const{dragConstraints:s,dragElastic:et}=this.getProps(),{layout:tt}=this.visualElement.projection||{},nt=this.constraints;s&&isRefObject(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&tt?this.constraints=calcRelativeConstraints(tt.actual,s):this.constraints=!1,this.elastic=resolveDragElastic(et),nt!==this.constraints&&tt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(rt=>{this.getAxisMotionValue(rt)&&(this.constraints[rt]=rebaseAxisConstraints(tt.actual[rt],this.constraints[rt]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:et}=this.getProps();if(!s||!isRefObject(s))return!1;const tt=s.current,{projection:nt}=this.visualElement;if(!nt||!nt.layout)return!1;const rt=measurePageBox(tt,nt.root,this.visualElement.getTransformPagePoint());let it=calcViewportConstraints(nt.layout.actual,rt);if(et){const st=et(convertBoxToBoundingBox(it));this.hasMutatedConstraints=!!st,st&&(it=convertBoundingBoxToBox(st))}return it}startAnimation(s){const{drag:et,dragMomentum:tt,dragElastic:nt,dragTransition:rt,dragSnapToOrigin:it,onDragTransitionEnd:st}=this.getProps(),ot=this.constraints||{},at=eachAxis(ut=>{var ht;if(!shouldDrag(ut,et,this.currentDirection))return;let ft=(ht=ot==null?void 0:ot[ut])!==null&&ht!==void 0?ht:{};it&&(ft={min:0,max:0});const dt=nt?200:1e6,vt=nt?40:1e7,gt={type:"inertia",velocity:tt?s[ut]:0,bounceStiffness:dt,bounceDamping:vt,timeConstant:750,restDelta:1,restSpeed:10,...rt,...ft};return this.startAxisValueAnimation(ut,gt)});return Promise.all(at).then(st)}startAxisValueAnimation(s,et){const tt=this.getAxisMotionValue(s);return startAnimation(s,tt,0,et)}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}getAxisMotionValue(s){var et,tt;const nt="_drag"+s.toUpperCase(),rt=this.visualElement.getProps()[nt];return rt||this.visualElement.getValue(s,(tt=(et=this.visualElement.getProps().initial)===null||et===void 0?void 0:et[s])!==null&&tt!==void 0?tt:0)}snapToCursor(s){eachAxis(et=>{const{drag:tt}=this.getProps();if(!shouldDrag(et,tt,this.currentDirection))return;const{projection:nt}=this.visualElement,rt=this.getAxisMotionValue(et);if(nt&&nt.layout){const{min:it,max:st}=nt.layout.actual[et];rt.set(s[et]-mix(it,st,.5))}})}scalePositionWithinConstraints(){var s;const{drag:et,dragConstraints:tt}=this.getProps(),{projection:nt}=this.visualElement;if(!isRefObject(tt)||!nt||!this.constraints)return;this.stopAnimation();const rt={x:0,y:0};eachAxis(st=>{const ot=this.getAxisMotionValue(st);if(ot){const at=ot.get();rt[st]=calcOrigin({min:at,max:at},this.constraints[st])}});const{transformTemplate:it}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=it?it({},""):"none",(s=nt.root)===null||s===void 0||s.updateScroll(),nt.updateLayout(),this.resolveConstraints(),eachAxis(st=>{if(!shouldDrag(st,et,null))return;const ot=this.getAxisMotionValue(st),{min:at,max:ut}=this.constraints[st];ot.set(mix(at,ut,rt[st]))})}addListeners(){var s;elementDragControls.set(this.visualElement,this);const et=this.visualElement.getInstance(),tt=addPointerEvent(et,"pointerdown",at=>{const{drag:ut,dragListener:ht=!0}=this.getProps();ut&&ht&&this.start(at)}),nt=()=>{const{dragConstraints:at}=this.getProps();isRefObject(at)&&(this.constraints=this.resolveRefConstraints())},{projection:rt}=this.visualElement,it=rt.addEventListener("measure",nt);rt&&!rt.layout&&((s=rt.root)===null||s===void 0||s.updateScroll(),rt.updateLayout()),nt();const st=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ot=rt.addEventListener("didUpdate",({delta:at,hasLayoutChanged:ut})=>{this.isDragging&&ut&&(eachAxis(ht=>{const ft=this.getAxisMotionValue(ht);!ft||(this.originPoint[ht]+=at[ht].translate,ft.set(ft.get()+at[ht].translate))}),this.visualElement.syncRender())});return()=>{st(),tt(),it(),ot==null||ot()}}getProps(){const s=this.visualElement.getProps(),{drag:et=!1,dragDirectionLock:tt=!1,dragPropagation:nt=!1,dragConstraints:rt=!1,dragElastic:it=defaultElastic,dragMomentum:st=!0}=s;return{...s,drag:et,dragDirectionLock:tt,dragPropagation:nt,dragConstraints:rt,dragElastic:it,dragMomentum:st}}}function shouldDrag(o,s,et){return(s===!0||s===o)&&(et===null||et===o)}function getCurrentDirection(o,s=10){let et=null;return Math.abs(o.y)>s?et="y":Math.abs(o.x)>s&&(et="x"),et}function useDrag(o){const{dragControls:s,visualElement:et}=o,tt=useConstant(()=>new VisualElementDragControls(et));react.exports.useEffect(()=>s&&s.subscribe(tt),[tt,s]),react.exports.useEffect(()=>tt.addListeners(),[tt])}function usePanGesture({onPan:o,onPanStart:s,onPanEnd:et,onPanSessionStart:tt,visualElement:nt}){const rt=o||s||et||tt,it=react.exports.useRef(null),{transformPagePoint:st}=react.exports.useContext(MotionConfigContext),ot={onSessionStart:tt,onStart:s,onMove:o,onEnd:(ut,ht)=>{it.current=null,et&&et(ut,ht)}};react.exports.useEffect(()=>{it.current!==null&&it.current.updateHandlers(ot)});function at(ut){it.current=new PanSession(ut,ot,{transformPagePoint:st})}usePointerEvent(nt,"pointerdown",rt&&at),useUnmountEffect(()=>it.current&&it.current.end())}const drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=o.matches;o.addListener(s),s()}else prefersReducedMotion.current=!1}const names=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function createLifecycles(){const o=names.map(()=>new SubscriptionManager),s={},et={clearAllListeners:()=>o.forEach(tt=>tt.clear()),updatePropListeners:tt=>{names.forEach(nt=>{var rt;const it="on"+nt,st=tt[it];(rt=s[nt])===null||rt===void 0||rt.call(s),st&&(s[nt]=et[it](st))})}};return o.forEach((tt,nt)=>{et["on"+names[nt]]=rt=>tt.add(rt),et["notify"+names[nt]]=(...rt)=>tt.notify(...rt)}),et}function updateMotionValuesFromProps(o,s,et){const{willChange:tt}=s;for(const nt in s){const rt=s[nt],it=et[nt];if(isMotionValue(rt))o.addValue(nt,rt),isWillChangeMotionValue(tt)&&tt.add(nt);else if(isMotionValue(it))o.addValue(nt,motionValue(rt)),isWillChangeMotionValue(tt)&&tt.remove(nt);else if(it!==rt)if(o.hasValue(nt)){const st=o.getValue(nt);!st.hasAnimated&&st.set(rt)}else{const st=o.getStaticValue(nt);o.addValue(nt,motionValue(st!==void 0?st:rt))}}for(const nt in et)s[nt]===void 0&&o.removeValue(nt);return s}const featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,visualElement=({treeType:o="",build:s,getBaseTarget:et,makeTargetAnimatable:tt,measureViewportBox:nt,render:rt,readValueFromInstance:it,removeValueFromRenderState:st,sortNodePosition:ot,scrapeMotionValuesFromProps:at})=>({parent:ut,props:ht,presenceId:ft,blockInitialAnimation:dt,visualState:vt,reducedMotionConfig:gt},_t={})=>{let pt=!1;const{latestValues:mt,renderState:yt}=vt;let xt;const bt=createLifecycles(),wt=new Map,Ct=new Map;let Et={};const kt={...mt};let Dt;function zt(){!xt||!pt||(Wt(),rt(xt,yt,ht.style,Pt.projection))}function Wt(){s(Pt,yt,mt,_t,ht)}function Ht(){bt.notifyUpdate(mt)}function Gt(Rt,Vt){const Ot=Vt.onChange(Kt=>{mt[Rt]=Kt,ht.onUpdate&&sync.update(Ht,!1,!0)}),Xt=Vt.onRenderRequest(Pt.scheduleRender);Ct.set(Rt,()=>{Ot(),Xt()})}const{willChange:$t,...Ft}=at(ht);for(const Rt in Ft){const Vt=Ft[Rt];mt[Rt]!==void 0&&isMotionValue(Vt)&&(Vt.set(mt[Rt],!1),isWillChangeMotionValue($t)&&$t.add(Rt))}const It=isControllingVariants(ht),Tt=isVariantNode(ht),Pt={treeType:o,current:null,depth:ut?ut.depth+1:0,parent:ut,children:new Set,presenceId:ft,shouldReduceMotion:null,variantChildren:Tt?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(ut==null?void 0:ut.isMounted()),blockInitialAnimation:dt,isMounted:()=>Boolean(xt),mount(Rt){pt=!0,xt=Pt.current=Rt,Pt.projection&&Pt.projection.mount(Rt),Tt&&ut&&!It&&(Dt=ut==null?void 0:ut.addVariantChild(Pt)),wt.forEach((Vt,Ot)=>Gt(Ot,Vt)),hasReducedMotionListener.current||initPrefersReducedMotion(),Pt.shouldReduceMotion=gt==="never"?!1:gt==="always"?!0:prefersReducedMotion.current,ut==null||ut.children.add(Pt),Pt.setProps(ht)},unmount(){var Rt;(Rt=Pt.projection)===null||Rt===void 0||Rt.unmount(),cancelSync.update(Ht),cancelSync.render(zt),Ct.forEach(Vt=>Vt()),Dt==null||Dt(),ut==null||ut.children.delete(Pt),bt.clearAllListeners(),xt=void 0,pt=!1},loadFeatures(Rt,Vt,Ot,Xt,Kt,fn){const Nt=[];for(let vn=0;vn<numFeatures;vn++){const on=featureNames[vn],{isEnabled:bn,Component:cn}=featureDefinitions[on];bn(ht)&&cn&&Nt.push(react.exports.createElement(cn,{key:on,...Rt,visualElement:Pt}))}if(!Pt.projection&&Kt){Pt.projection=new Kt(Xt,Pt.getLatestValues(),ut&&ut.projection);const{layoutId:vn,layout:on,drag:bn,dragConstraints:cn,layoutScroll:xn}=Rt;Pt.projection.setOptions({layoutId:vn,layout:on,alwaysMeasureLayout:Boolean(bn)||cn&&isRefObject(cn),visualElement:Pt,scheduleRender:()=>Pt.scheduleRender(),animationType:typeof on=="string"?on:"both",initialPromotionConfig:fn,layoutScroll:xn})}return Nt},addVariantChild(Rt){var Vt;const Ot=Pt.getClosestVariantNode();if(Ot)return(Vt=Ot.variantChildren)===null||Vt===void 0||Vt.add(Rt),()=>Ot.variantChildren.delete(Rt)},sortNodePosition(Rt){return!ot||o!==Rt.treeType?0:ot(Pt.getInstance(),Rt.getInstance())},getClosestVariantNode:()=>Tt?Pt:ut==null?void 0:ut.getClosestVariantNode(),getLayoutId:()=>ht.layoutId,getInstance:()=>xt,getStaticValue:Rt=>mt[Rt],setStaticValue:(Rt,Vt)=>mt[Rt]=Vt,getLatestValues:()=>mt,setVisibility(Rt){Pt.isVisible!==Rt&&(Pt.isVisible=Rt,Pt.scheduleRender())},makeTargetAnimatable(Rt,Vt=!0){return tt(Pt,Rt,ht,Vt)},measureViewportBox(){return nt(xt,ht)},addValue(Rt,Vt){Pt.hasValue(Rt)&&Pt.removeValue(Rt),wt.set(Rt,Vt),mt[Rt]=Vt.get(),Gt(Rt,Vt)},removeValue(Rt){var Vt;wt.delete(Rt),(Vt=Ct.get(Rt))===null||Vt===void 0||Vt(),Ct.delete(Rt),delete mt[Rt],st(Rt,yt)},hasValue:Rt=>wt.has(Rt),getValue(Rt,Vt){let Ot=wt.get(Rt);return Ot===void 0&&Vt!==void 0&&(Ot=motionValue(Vt),Pt.addValue(Rt,Ot)),Ot},forEachValue:Rt=>wt.forEach(Rt),readValue:Rt=>mt[Rt]!==void 0?mt[Rt]:it(xt,Rt,_t),setBaseTarget(Rt,Vt){kt[Rt]=Vt},getBaseTarget(Rt){if(et){const Vt=et(ht,Rt);if(Vt!==void 0&&!isMotionValue(Vt))return Vt}return kt[Rt]},...bt,build(){return Wt(),yt},scheduleRender(){sync.render(zt,!1,!0)},syncRender:zt,setProps(Rt){(Rt.transformTemplate||ht.transformTemplate)&&Pt.scheduleRender(),ht=Rt,bt.updatePropListeners(Rt),Et=updateMotionValuesFromProps(Pt,at(ht),Et)},getProps:()=>ht,getVariant:Rt=>{var Vt;return(Vt=ht.variants)===null||Vt===void 0?void 0:Vt[Rt]},getDefaultTransition:()=>ht.transition,getTransformPagePoint:()=>ht.transformPagePoint,getVariantContext(Rt=!1){if(Rt)return ut==null?void 0:ut.getVariantContext();if(!It){const Ot=(ut==null?void 0:ut.getVariantContext())||{};return ht.initial!==void 0&&(Ot.initial=ht.initial),Ot}const Vt={};for(let Ot=0;Ot<numVariantProps;Ot++){const Xt=variantProps[Ot],Kt=ht[Xt];(isVariantLabel(Kt)||Kt===!1)&&(Vt[Xt]=Kt)}return Vt}};return Pt},variantProps=["initial",...variantPriorityOrder],numVariantProps=variantProps.length;function isCSSVariable(o){return typeof o=="string"&&o.startsWith("var(--")}const cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(o){const s=cssVariableRegex.exec(o);if(!s)return[,];const[,et,tt]=s;return[et,tt]}function getVariableValue(o,s,et=1){const[tt,nt]=parseCSSVariable(o);if(!tt)return;const rt=window.getComputedStyle(s).getPropertyValue(tt);return rt?rt.trim():isCSSVariable(nt)?getVariableValue(nt,s,et+1):nt}function resolveCSSVariables(o,{...s},et){const tt=o.getInstance();if(!(tt instanceof Element))return{target:s,transitionEnd:et};et&&(et={...et}),o.forEachValue(nt=>{const rt=nt.get();if(!isCSSVariable(rt))return;const it=getVariableValue(rt,tt);it&&nt.set(it)});for(const nt in s){const rt=s[nt];if(!isCSSVariable(rt))continue;const it=getVariableValue(rt,tt);!it||(s[nt]=it,et&&et[nt]===void 0&&(et[nt]=rt))}return{target:s,transitionEnd:et}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=o=>positionalKeys.has(o),hasPositionalKey=o=>Object.keys(o).some(isPositionalKey),setAndResetVelocity=(o,s)=>{o.set(s,!1),o.set(s)},isNumOrPxType=o=>o===number||o===px$1;var BoundingBoxDimension;(function(o){o.width="width",o.height="height",o.left="left",o.right="right",o.top="top",o.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));const getPosFromMatrix=(o,s)=>parseFloat(o.split(", ")[s]),getTranslateFromMatrix=(o,s)=>(et,{transform:tt})=>{if(tt==="none"||!tt)return 0;const nt=tt.match(/^matrix3d\((.+)\)$/);if(nt)return getPosFromMatrix(nt[1],s);{const rt=tt.match(/^matrix\((.+)\)$/);return rt?getPosFromMatrix(rt[1],o):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(o=>!transformKeys.has(o));function removeNonTranslationalTransform(o){const s=[];return nonTranslationalTransformKeys.forEach(et=>{const tt=o.getValue(et);tt!==void 0&&(s.push([et,tt.get()]),tt.set(et.startsWith("scale")?1:0))}),s.length&&o.syncRender(),s}const positionalValues={width:({x:o},{paddingLeft:s="0",paddingRight:et="0"})=>o.max-o.min-parseFloat(s)-parseFloat(et),height:({y:o},{paddingTop:s="0",paddingBottom:et="0"})=>o.max-o.min-parseFloat(s)-parseFloat(et),top:(o,{top:s})=>parseFloat(s),left:(o,{left:s})=>parseFloat(s),bottom:({y:o},{top:s})=>parseFloat(s)+(o.max-o.min),right:({x:o},{left:s})=>parseFloat(s)+(o.max-o.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=(o,s,et)=>{const tt=s.measureViewportBox(),nt=s.getInstance(),rt=getComputedStyle(nt),{display:it}=rt,st={};it==="none"&&s.setStaticValue("display",o.display||"block"),et.forEach(at=>{st[at]=positionalValues[at](tt,rt)}),s.syncRender();const ot=s.measureViewportBox();return et.forEach(at=>{const ut=s.getValue(at);setAndResetVelocity(ut,st[at]),o[at]=positionalValues[at](ot,rt)}),o},checkAndConvertChangedValueTypes=(o,s,et={},tt={})=>{s={...s},tt={...tt};const nt=Object.keys(s).filter(isPositionalKey);let rt=[],it=!1;const st=[];if(nt.forEach(ot=>{const at=o.getValue(ot);if(!o.hasValue(ot))return;let ut=et[ot],ht=findDimensionValueType(ut);const ft=s[ot];let dt;if(isKeyframesTarget(ft)){const vt=ft.length,gt=ft[0]===null?1:0;ut=ft[gt],ht=findDimensionValueType(ut);for(let _t=gt;_t<vt;_t++)dt?invariant(findDimensionValueType(ft[_t])===dt):dt=findDimensionValueType(ft[_t])}else dt=findDimensionValueType(ft);if(ht!==dt)if(isNumOrPxType(ht)&&isNumOrPxType(dt)){const vt=at.get();typeof vt=="string"&&at.set(parseFloat(vt)),typeof ft=="string"?s[ot]=parseFloat(ft):Array.isArray(ft)&&dt===px$1&&(s[ot]=ft.map(parseFloat))}else(ht==null?void 0:ht.transform)&&(dt==null?void 0:dt.transform)&&(ut===0||ft===0)?ut===0?at.set(dt.transform(ut)):s[ot]=ht.transform(ft):(it||(rt=removeNonTranslationalTransform(o),it=!0),st.push(ot),tt[ot]=tt[ot]!==void 0?tt[ot]:s[ot],setAndResetVelocity(at,ft))}),st.length){const ot=st.indexOf("height")>=0?window.pageYOffset:null,at=convertChangedValueTypes(s,o,st);return rt.length&&rt.forEach(([ut,ht])=>{o.getValue(ut).set(ht)}),o.syncRender(),isBrowser&&ot!==null&&window.scrollTo({top:ot}),{target:at,transitionEnd:tt}}else return{target:s,transitionEnd:tt}};function unitConversion(o,s,et,tt){return hasPositionalKey(s)?checkAndConvertChangedValueTypes(o,s,et,tt):{target:s,transitionEnd:tt}}const parseDomVariant=(o,s,et,tt)=>{const nt=resolveCSSVariables(o,s,tt);return s=nt.target,tt=nt.transitionEnd,unitConversion(o,s,et,tt)};function getComputedStyle$1(o){return window.getComputedStyle(o)}const htmlConfig={treeType:"dom",readValueFromInstance(o,s){if(transformProps.has(s)){const et=getDefaultValueType(s);return et&&et.default||0}else{const et=getComputedStyle$1(o),tt=(isCSSVariable$1(s)?et.getPropertyValue(s):et[s])||0;return typeof tt=="string"?tt.trim():tt}},sortNodePosition(o,s){return o.compareDocumentPosition(s)&2?1:-1},getBaseTarget(o,s){var et;return(et=o.style)===null||et===void 0?void 0:et[s]},measureViewportBox(o,{transformPagePoint:s}){return measureViewportBox(o,s)},resetTransform(o,s,et){const{transformTemplate:tt}=et;s.style.transform=tt?tt({},""):"none",o.scheduleRender()},restoreTransform(o,s){o.style.transform=s.style.transform},removeValueFromRenderState(o,{vars:s,style:et}){delete s[o],delete et[o]},makeTargetAnimatable(o,{transition:s,transitionEnd:et,...tt},{transformValues:nt},rt=!0){let it=getOrigin(tt,s||{},o);if(nt&&(et&&(et=nt(et)),tt&&(tt=nt(tt)),it&&(it=nt(it))),rt){checkTargetForNewValues(o,tt,it);const st=parseDomVariant(o,tt,it,et);et=st.transitionEnd,tt=st.target}return{transition:s,transitionEnd:et,...tt}},scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,build(o,s,et,tt,nt){o.isVisible!==void 0&&(s.style.visibility=o.isVisible?"visible":"hidden"),buildHTMLStyles(s,et,tt,nt.transformTemplate)},render:renderHTML},htmlVisualElement=visualElement(htmlConfig),svgVisualElement=visualElement({...htmlConfig,getBaseTarget(o,s){return o[s]},readValueFromInstance(o,s){var et;return transformProps.has(s)?((et=getDefaultValueType(s))===null||et===void 0?void 0:et.default)||0:(s=camelCaseAttributes.has(s)?s:camelToDash(s),o.getAttribute(s))},scrapeMotionValuesFromProps,build(o,s,et,tt,nt){buildSVGAttrs(s,et,tt,nt.transformTemplate)},render:renderSVG}),createDomVisualElement=(o,s)=>isSVGComponent(o)?svgVisualElement(s,{enableHardwareAcceleration:!1}):htmlVisualElement(s,{enableHardwareAcceleration:!0});function pixelsToPercent(o,s){return s.max===s.min?0:o/(s.max-s.min)*100}const correctBorderRadius={correct:(o,s)=>{if(!s.target)return o;if(typeof o=="string")if(px$1.test(o))o=parseFloat(o);else return o;const et=pixelsToPercent(o,s.target.x),tt=pixelsToPercent(o,s.target.y);return`${et}% ${tt}%`}},varToken="_$css",correctBoxShadow={correct:(o,{treeScale:s,projectionDelta:et})=>{const tt=o,nt=o.includes("var("),rt=[];nt&&(o=o.replace(cssVariableRegex,dt=>(rt.push(dt),varToken)));const it=complex.parse(o);if(it.length>5)return tt;const st=complex.createTransformer(o),ot=typeof it[0]!="number"?1:0,at=et.x.scale*s.x,ut=et.y.scale*s.y;it[0+ot]/=at,it[1+ot]/=ut;const ht=mix(at,ut,.5);typeof it[2+ot]=="number"&&(it[2+ot]/=ht),typeof it[3+ot]=="number"&&(it[3+ot]/=ht);let ft=st(it);if(nt){let dt=0;ft=ft.replace(varToken,()=>{const vt=rt[dt];return dt++,vt})}return ft}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:s,layoutGroup:et,switchLayoutGroup:tt,layoutId:nt}=this.props,{projection:rt}=s;addScaleCorrector(defaultScaleCorrectors),rt&&(et.group&&et.group.add(rt),tt&&tt.register&&nt&&tt.register(rt),rt.root.didUpdate(),rt.addEventListener("animationComplete",()=>{this.safeToRemove()}),rt.setOptions({...rt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:et,visualElement:tt,drag:nt,isPresent:rt}=this.props,it=tt.projection;return it&&(it.isPresent=rt,nt||s.layoutDependency!==et||et===void 0?it.willUpdate():this.safeToRemove(),s.isPresent!==rt&&(rt?it.promote():it.relegate()||sync.postRender(()=>{var st;!((st=it.getStack())===null||st===void 0)&&st.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),!s.currentAnimation&&s.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:s,layoutGroup:et,switchLayoutGroup:tt}=this.props,{projection:nt}=s;nt&&(nt.scheduleCheckAfterUnmount(),et!=null&&et.group&&et.group.remove(nt),tt!=null&&tt.deregister&&tt.deregister(nt))}safeToRemove(){const{safeToRemove:s}=this.props;s==null||s()}render(){return null}}function MeasureLayout(o){const[s,et]=usePresence(),tt=react.exports.useContext(LayoutGroupContext);return jsx(MeasureLayoutWithContext,{...o,layoutGroup:tt,switchLayoutGroup:react.exports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:et})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},layoutFeatures={measureLayout:MeasureLayout};function animate(o,s,et={}){const tt=isMotionValue(o)?o:motionValue(o);return startAnimation("",tt,s,et),{stop:()=>tt.stop(),isAnimating:()=>tt.isAnimating()}}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=o=>typeof o=="string"?parseFloat(o):o,isPx=o=>typeof o=="number"||px$1.test(o);function mixValues(o,s,et,tt,nt,rt){var it,st,ot,at;nt?(o.opacity=mix(0,(it=et.opacity)!==null&&it!==void 0?it:1,easeCrossfadeIn(tt)),o.opacityExit=mix((st=s.opacity)!==null&&st!==void 0?st:1,0,easeCrossfadeOut(tt))):rt&&(o.opacity=mix((ot=s.opacity)!==null&&ot!==void 0?ot:1,(at=et.opacity)!==null&&at!==void 0?at:1,tt));for(let ut=0;ut<numBorders;ut++){const ht=`border${borders[ut]}Radius`;let ft=getRadius(s,ht),dt=getRadius(et,ht);if(ft===void 0&&dt===void 0)continue;ft||(ft=0),dt||(dt=0),ft===0||dt===0||isPx(ft)===isPx(dt)?(o[ht]=Math.max(mix(asNumber(ft),asNumber(dt),tt),0),(percent.test(dt)||percent.test(ft))&&(o[ht]+="%")):o[ht]=dt}(s.rotate||et.rotate)&&(o.rotate=mix(s.rotate||0,et.rotate||0,tt))}function getRadius(o,s){var et;return(et=o[s])!==null&&et!==void 0?et:o.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,linear);function compress(o,s,et){return tt=>tt<o?0:tt>s?1:et(progress(o,s,tt))}function copyAxisInto(o,s){o.min=s.min,o.max=s.max}function copyBoxInto(o,s){copyAxisInto(o.x,s.x),copyAxisInto(o.y,s.y)}function removePointDelta(o,s,et,tt,nt){return o-=s,o=scalePoint(o,1/et,tt),nt!==void 0&&(o=scalePoint(o,1/nt,tt)),o}function removeAxisDelta(o,s=0,et=1,tt=.5,nt,rt=o,it=o){if(percent.test(s)&&(s=parseFloat(s),s=mix(it.min,it.max,s/100)-it.min),typeof s!="number")return;let st=mix(rt.min,rt.max,tt);o===rt&&(st-=s),o.min=removePointDelta(o.min,s,et,st,nt),o.max=removePointDelta(o.max,s,et,st,nt)}function removeAxisTransforms(o,s,[et,tt,nt],rt,it){removeAxisDelta(o,s[et],s[tt],s[nt],s.scale,rt,it)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(o,s,et,tt){removeAxisTransforms(o.x,s,xKeys,et==null?void 0:et.x,tt==null?void 0:tt.x),removeAxisTransforms(o.y,s,yKeys,et==null?void 0:et.y,tt==null?void 0:tt.y)}function isAxisDeltaZero(o){return o.translate===0&&o.scale===1}function isDeltaZero(o){return isAxisDeltaZero(o.x)&&isAxisDeltaZero(o.y)}function boxEquals(o,s){return o.x.min===s.x.min&&o.x.max===s.x.max&&o.y.min===s.y.min&&o.y.max===s.y.max}function aspectRatio(o){return calcLength(o.x)/calcLength(o.y)}function isCloseTo(o,s,et=.01){return distance(o,s)<=et}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const et=this.members[this.members.length-1];et&&this.promote(et)}}relegate(s){const et=this.members.findIndex(nt=>s===nt);if(et===0)return!1;let tt;for(let nt=et;nt>=0;nt--){const rt=this.members[nt];if(rt.isPresent!==!1){tt=rt;break}}return tt?(this.promote(tt),!0):!1}promote(s,et){var tt;const nt=this.lead;if(s!==nt&&(this.prevLead=nt,this.lead=s,s.show(),nt)){nt.instance&&nt.scheduleRender(),s.scheduleRender(),s.resumeFrom=nt,et&&(s.resumeFrom.preserveOpacity=!0),nt.snapshot&&(s.snapshot=nt.snapshot,s.snapshot.latestValues=nt.animationValues||nt.latestValues,s.snapshot.isShared=!0),!((tt=s.root)===null||tt===void 0)&&tt.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:rt}=s.options;rt===!1&&nt.hide()}}exitAnimationComplete(){this.members.forEach(s=>{var et,tt,nt,rt,it;(tt=(et=s.options).onExitComplete)===null||tt===void 0||tt.call(et),(it=(nt=s.resumingFrom)===null||nt===void 0?void 0:(rt=nt.options).onExitComplete)===null||it===void 0||it.call(rt)})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const identityProjection="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function buildProjectionTransform(o,s,et){const tt=o.x.translate/s.x,nt=o.y.translate/s.y;let rt=`translate3d(${tt}px, ${nt}px, 0) `;if(rt+=`scale(${1/s.x}, ${1/s.y}) `,et){const{rotate:ot,rotateX:at,rotateY:ut}=et;ot&&(rt+=`rotate(${ot}deg) `),at&&(rt+=`rotateX(${at}deg) `),ut&&(rt+=`rotateY(${ut}deg) `)}const it=o.x.scale*s.x,st=o.y.scale*s.y;return rt+=`scale(${it}, ${st})`,rt===identityProjection?"none":rt}const compareByDepth=(o,s)=>o.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}const transformAxes=["","X","Y","Z"],animationTarget=1e3;function createProjectionNode({attachResizeListener:o,defaultParent:s,measureScroll:et,checkIsScrollRoot:tt,resetTransform:nt}){return class{constructor(it,st={},ot=s==null?void 0:s()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=it,this.latestValues=st,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0,it&&this.root.registerPotentialNode(it,this);for(let at=0;at<this.path.length;at++)this.path[at].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(it,st){return this.eventHandlers.has(it)||this.eventHandlers.set(it,new SubscriptionManager),this.eventHandlers.get(it).add(st)}notifyListeners(it,...st){const ot=this.eventHandlers.get(it);ot==null||ot.notify(...st)}hasListeners(it){return this.eventHandlers.has(it)}registerPotentialNode(it,st){this.potentialNodes.set(it,st)}mount(it,st=!1){var ot;if(this.instance)return;this.isSVG=it instanceof SVGElement&&it.tagName!=="svg",this.instance=it;const{layoutId:at,layout:ut,visualElement:ht}=this.options;if(ht&&!ht.getInstance()&&ht.mount(it),this.root.nodes.add(this),(ot=this.parent)===null||ot===void 0||ot.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),st&&(ut||at)&&(this.isLayoutDirty=!0),o){let ft;const dt=()=>this.root.updateBlockedByResize=!1;o(it,()=>{this.root.updateBlockedByResize=!0,clearTimeout(ft),ft=window.setTimeout(dt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}at&&this.root.registerSharedNode(at,this),this.options.animate!==!1&&ht&&(at||ut)&&this.addEventListener("didUpdate",({delta:ft,hasLayoutChanged:dt,hasRelativeTargetChanged:vt,layout:gt})=>{var _t,pt,mt,yt,xt;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const bt=(pt=(_t=this.options.transition)!==null&&_t!==void 0?_t:ht.getDefaultTransition())!==null&&pt!==void 0?pt:defaultLayoutTransition,{onLayoutAnimationStart:wt,onLayoutAnimationComplete:Ct}=ht.getProps(),Et=!this.targetLayout||!boxEquals(this.targetLayout,gt)||vt,kt=!dt&&vt;if(((mt=this.resumeFrom)===null||mt===void 0?void 0:mt.instance)||kt||dt&&(Et||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ft,kt);const Dt={...getValueTransition(bt,"layout"),onPlay:wt,onComplete:Ct};ht.shouldReduceMotion&&(Dt.delay=0,Dt.type=!1),this.startAnimation(Dt)}else!dt&&this.animationProgress===0&&this.finishAnimation(),this.isLead()&&((xt=(yt=this.options).onExitComplete)===null||xt===void 0||xt.call(yt));this.targetLayout=gt})}unmount(){var it,st;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(it=this.getStack())===null||it===void 0||it.remove(this),(st=this.parent)===null||st===void 0||st.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var it;return this.isAnimationBlocked||((it=this.parent)===null||it===void 0?void 0:it.isTreeAnimationBlocked())||!1}startUpdate(){var it;this.isUpdateBlocked()||(this.isUpdating=!0,(it=this.nodes)===null||it===void 0||it.forEach(resetRotation))}willUpdate(it=!0){var st,ot,at;if(this.root.isUpdateBlocked()){(ot=(st=this.options).onExitComplete)===null||ot===void 0||ot.call(st);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let dt=0;dt<this.path.length;dt++){const vt=this.path[dt];vt.shouldResetTransform=!0,vt.updateScroll()}const{layoutId:ut,layout:ht}=this.options;if(ut===void 0&&!ht)return;const ft=(at=this.options.visualElement)===null||at===void 0?void 0:at.getProps().transformTemplate;this.prevTransformTemplateValue=ft==null?void 0:ft(this.latestValues,""),this.updateSnapshot(),it&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){sync.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sync.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){if(this.snapshot||!this.instance)return;const it=this.measure(),st=this.removeTransform(this.removeElementScroll(it));roundBox(st),this.snapshot={measured:it,layout:st,latestValues:{}}}updateLayout(){var it;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let at=0;at<this.path.length;at++)this.path[at].updateScroll();const st=this.measure();roundBox(st);const ot=this.layout;this.layout={measured:st,actual:this.removeElementScroll(st)},this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(it=this.options.visualElement)===null||it===void 0||it.notifyLayoutMeasure(this.layout.actual,ot==null?void 0:ot.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=tt(this.instance),this.scroll=et(this.instance))}resetTransform(){var it;if(!nt)return;const st=this.isLayoutDirty||this.shouldResetTransform,ot=this.projectionDelta&&!isDeltaZero(this.projectionDelta),at=(it=this.options.visualElement)===null||it===void 0?void 0:it.getProps().transformTemplate,ut=at==null?void 0:at(this.latestValues,""),ht=ut!==this.prevTransformTemplateValue;st&&(ot||hasTransform(this.latestValues)||ht)&&(nt(this.instance,ut),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:it}=this.options;if(!it)return createBox();const st=it.measureViewportBox(),{scroll:ot}=this.root;return ot&&(translateAxis(st.x,ot.x),translateAxis(st.y,ot.y)),st}removeElementScroll(it){const st=createBox();copyBoxInto(st,it);for(let ot=0;ot<this.path.length;ot++){const at=this.path[ot],{scroll:ut,options:ht,isScrollRoot:ft}=at;if(at!==this.root&&ut&&ht.layoutScroll){if(ft){copyBoxInto(st,it);const{scroll:dt}=this.root;dt&&(translateAxis(st.x,-dt.x),translateAxis(st.y,-dt.y))}translateAxis(st.x,ut.x),translateAxis(st.y,ut.y)}}return st}applyTransform(it,st=!1){const ot=createBox();copyBoxInto(ot,it);for(let at=0;at<this.path.length;at++){const ut=this.path[at];!st&&ut.options.layoutScroll&&ut.scroll&&ut!==ut.root&&transformBox(ot,{x:-ut.scroll.x,y:-ut.scroll.y}),hasTransform(ut.latestValues)&&transformBox(ot,ut.latestValues)}return hasTransform(this.latestValues)&&transformBox(ot,this.latestValues),ot}removeTransform(it){var st;const ot=createBox();copyBoxInto(ot,it);for(let at=0;at<this.path.length;at++){const ut=this.path[at];if(!ut.instance||!hasTransform(ut.latestValues))continue;hasScale(ut.latestValues)&&ut.updateSnapshot();const ht=createBox(),ft=ut.measure();copyBoxInto(ht,ft),removeBoxTransforms(ot,ut.latestValues,(st=ut.snapshot)===null||st===void 0?void 0:st.layout,ht)}return hasTransform(this.latestValues)&&removeBoxTransforms(ot,this.latestValues),ot}setTargetDelta(it){this.targetDelta=it,this.root.scheduleUpdateProjection()}setOptions(it){this.options={...this.options,...it,crossfade:it.crossfade!==void 0?it.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var it;const{layout:st,layoutId:ot}=this.options;!this.layout||!(st||ot)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&((it=this.relativeParent)===null||it===void 0?void 0:it.target)?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):copyBoxInto(this.target,this.layout.actual),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,this.relativeParent.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(!(!this.parent||hasTransform(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var it;const{layout:st,layoutId:ot}=this.options;if(this.isTreeAnimating=Boolean(((it=this.parent)===null||it===void 0?void 0:it.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(st||ot))return;const at=this.getLead();copyBoxInto(this.layoutCorrected,this.layout.actual),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==at);const{target:ut}=at;if(!ut)return;this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const ht=this.treeScale.x,ft=this.treeScale.y,dt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,ut,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==dt||this.treeScale.x!==ht||this.treeScale.y!==ft)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ut))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(it=!0){var st,ot,at;(ot=(st=this.options).scheduleRender)===null||ot===void 0||ot.call(st),it&&((at=this.getStack())===null||at===void 0||at.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(it,st=!1){var ot;const at=this.snapshot,ut=(at==null?void 0:at.latestValues)||{},ht={...this.latestValues},ft=createDelta();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!st;const dt=createBox(),vt=at==null?void 0:at.isShared,gt=(((ot=this.getStack())===null||ot===void 0?void 0:ot.members.length)||0)<=1,_t=Boolean(vt&&!gt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=pt=>{var mt;const yt=pt/1e3;mixAxisDelta(ft.x,it.x,yt),mixAxisDelta(ft.y,it.y,yt),this.setTargetDelta(ft),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((mt=this.relativeParent)===null||mt===void 0?void 0:mt.layout)&&(calcRelativePosition(dt,this.layout.actual,this.relativeParent.layout.actual),mixBox(this.relativeTarget,this.relativeTargetOrigin,dt,yt)),vt&&(this.animationValues=ht,mixValues(ht,ut,this.latestValues,yt,_t,gt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=yt},this.mixTargetDelta(0)}startAnimation(it){var st,ot;this.notifyListeners("animationStart"),(st=this.currentAnimation)===null||st===void 0||st.stop(),this.resumingFrom&&((ot=this.resumingFrom.currentAnimation)===null||ot===void 0||ot.stop()),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animate(0,animationTarget,{...it,onUpdate:at=>{var ut;this.mixTargetDelta(at),(ut=it.onUpdate)===null||ut===void 0||ut.call(it,at)},onComplete:()=>{var at;(at=it.onComplete)===null||at===void 0||at.call(it),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var it;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(it=this.getStack())===null||it===void 0||it.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var it;this.currentAnimation&&((it=this.mixTargetDelta)===null||it===void 0||it.call(this,animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const it=this.getLead();let{targetWithTransforms:st,target:ot,layout:at,latestValues:ut}=it;if(!(!st||!ot||!at)){if(this!==it&&this.layout&&at&&shouldAnimatePositionOnly(this.options.animationType,this.layout.actual,at.actual)){ot=this.target||createBox();const ht=calcLength(this.layout.actual.x);ot.x.min=it.target.x.min,ot.x.max=ot.x.min+ht;const ft=calcLength(this.layout.actual.y);ot.y.min=it.target.y.min,ot.y.max=ot.y.min+ft}copyBoxInto(st,ot),transformBox(st,ut),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,st,ut)}}registerSharedNode(it,st){var ot,at,ut;this.sharedNodes.has(it)||this.sharedNodes.set(it,new NodeStack),this.sharedNodes.get(it).add(st),st.promote({transition:(ot=st.options.initialPromotionConfig)===null||ot===void 0?void 0:ot.transition,preserveFollowOpacity:(ut=(at=st.options.initialPromotionConfig)===null||at===void 0?void 0:at.shouldPreserveFollowOpacity)===null||ut===void 0?void 0:ut.call(at,st)})}isLead(){const it=this.getStack();return it?it.lead===this:!0}getLead(){var it;const{layoutId:st}=this.options;return st?((it=this.getStack())===null||it===void 0?void 0:it.lead)||this:this}getPrevLead(){var it;const{layoutId:st}=this.options;return st?(it=this.getStack())===null||it===void 0?void 0:it.prevLead:void 0}getStack(){const{layoutId:it}=this.options;if(it)return this.root.sharedNodes.get(it)}promote({needsReset:it,transition:st,preserveFollowOpacity:ot}={}){const at=this.getStack();at&&at.promote(this,ot),it&&(this.projectionDelta=void 0,this.needsReset=!0),st&&this.setOptions({transition:st})}relegate(){const it=this.getStack();return it?it.relegate(this):!1}resetRotation(){const{visualElement:it}=this.options;if(!it)return;let st=!1;const ot={};for(let at=0;at<transformAxes.length;at++){const ut=transformAxes[at],ht="rotate"+ut;!it.getStaticValue(ht)||(st=!0,ot[ht]=it.getStaticValue(ht),it.setStaticValue(ht,0))}if(!!st){it==null||it.syncRender();for(const at in ot)it.setStaticValue(at,ot[at]);it.scheduleRender()}}getProjectionStyles(it={}){var st,ot,at;const ut={};if(!this.instance||this.isSVG)return ut;if(this.isVisible)ut.visibility="";else return{visibility:"hidden"};const ht=(st=this.options.visualElement)===null||st===void 0?void 0:st.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,ut.opacity="",ut.pointerEvents=resolveMotionValue(it.pointerEvents)||"",ut.transform=ht?ht(this.latestValues,""):"none",ut;const ft=this.getLead();if(!this.projectionDelta||!this.layout||!ft.target){const _t={};return this.options.layoutId&&(_t.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_t.pointerEvents=resolveMotionValue(it.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(_t.transform=ht?ht({},""):"none",this.hasProjected=!1),_t}const dt=ft.animationValues||ft.latestValues;this.applyTransformsToTarget(),ut.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,dt),ht&&(ut.transform=ht(dt,ut.transform));const{x:vt,y:gt}=this.projectionDelta;ut.transformOrigin=`${vt.origin*100}% ${gt.origin*100}% 0`,ft.animationValues?ut.opacity=ft===this?(at=(ot=dt.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&at!==void 0?at:1:this.preserveOpacity?this.latestValues.opacity:dt.opacityExit:ut.opacity=ft===this?dt.opacity!==void 0?dt.opacity:"":dt.opacityExit!==void 0?dt.opacityExit:0;for(const _t in scaleCorrectors){if(dt[_t]===void 0)continue;const{correct:pt,applyTo:mt}=scaleCorrectors[_t],yt=pt(dt[_t],ft);if(mt){const xt=mt.length;for(let bt=0;bt<xt;bt++)ut[mt[bt]]=yt}else ut[_t]=yt}return this.options.layoutId&&(ut.pointerEvents=ft===this?resolveMotionValue(it.pointerEvents)||"":"none"),ut}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(it=>{var st;return(st=it.currentAnimation)===null||st===void 0?void 0:st.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(o){o.updateLayout()}function notifyLayoutUpdate(o){var s,et,tt;const nt=((s=o.resumeFrom)===null||s===void 0?void 0:s.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&nt&&o.hasListeners("didUpdate")){const{actual:rt,measured:it}=o.layout,{animationType:st}=o.options;st==="size"?eachAxis(ft=>{const dt=nt.isShared?nt.measured[ft]:nt.layout[ft],vt=calcLength(dt);dt.min=rt[ft].min,dt.max=dt.min+vt}):shouldAnimatePositionOnly(st,nt.layout,rt)&&eachAxis(ft=>{const dt=nt.isShared?nt.measured[ft]:nt.layout[ft],vt=calcLength(rt[ft]);dt.max=dt.min+vt});const ot=createDelta();calcBoxDelta(ot,rt,nt.layout);const at=createDelta();nt.isShared?calcBoxDelta(at,o.applyTransform(it,!0),nt.measured):calcBoxDelta(at,rt,nt.layout);const ut=!isDeltaZero(ot);let ht=!1;if(!o.resumeFrom&&(o.relativeParent=o.getClosestProjectingParent(),o.relativeParent&&!o.relativeParent.resumeFrom)){const{snapshot:ft,layout:dt}=o.relativeParent;if(ft&&dt){const vt=createBox();calcRelativePosition(vt,nt.layout,ft.layout);const gt=createBox();calcRelativePosition(gt,rt,dt.actual),boxEquals(vt,gt)||(ht=!0)}}o.notifyListeners("didUpdate",{layout:rt,snapshot:nt,delta:at,layoutDelta:ot,hasLayoutChanged:ut,hasRelativeTargetChanged:ht})}else o.isLead()&&((tt=(et=o.options).onExitComplete)===null||tt===void 0||tt.call(et));o.options.transition=void 0}function clearSnapshot(o){o.clearSnapshot()}function clearMeasurements(o){o.clearMeasurements()}function resetTransformStyle(o){const{visualElement:s}=o.options;s!=null&&s.getProps().onBeforeLayoutMeasure&&s.notifyBeforeLayoutMeasure(),o.resetTransform()}function finishAnimation(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0}function resolveTargetDelta(o){o.resolveTargetDelta()}function calcProjection(o){o.calcProjection()}function resetRotation(o){o.resetRotation()}function removeLeadSnapshots(o){o.removeLeadSnapshot()}function mixAxisDelta(o,s,et){o.translate=mix(s.translate,0,et),o.scale=mix(s.scale,1,et),o.origin=s.origin,o.originPoint=s.originPoint}function mixAxis(o,s,et,tt){o.min=mix(s.min,et.min,tt),o.max=mix(s.max,et.max,tt)}function mixBox(o,s,et,tt){mixAxis(o.x,s.x,et.x,tt),mixAxis(o.y,s.y,et.y,tt)}function hasOpacityCrossfade(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(o,s){let et=o.root;for(let rt=o.path.length-1;rt>=0;rt--)if(Boolean(o.path[rt].instance)){et=o.path[rt];break}const nt=(et&&et!==o.root?et.instance:document).querySelector(`[data-projection-id="${s}"]`);nt&&o.mount(nt,!0)}function roundAxis(o){o.min=Math.round(o.min),o.max=Math.round(o.max)}function roundBox(o){roundAxis(o.x),roundAxis(o.y)}function shouldAnimatePositionOnly(o,s,et){return o==="position"||o==="preserve-aspect"&&!isCloseTo(aspectRatio(s),aspectRatio(et))}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(o,s)=>addDomEvent(o,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const o=new DocumentProjectionNode(0,{});o.mount(window),o.setOptions({layoutScroll:!0}),rootProjectionNode.current=o}return rootProjectionNode.current},resetTransform:(o,s)=>{o.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:o=>Boolean(window.getComputedStyle(o).position==="fixed")}),featureBundle={...animations,...gestureAnimations,...drag,...layoutFeatures},motion=createMotionProxy((o,s)=>createDomMotionConfig(o,s,featureBundle,createDomVisualElement,HTMLProjectionNode));function useCycle(...o){const s=react.exports.useRef(0),[et,tt]=react.exports.useState(o[s.current]),nt=react.exports.useCallback(rt=>{s.current=typeof rt!="number"?wrap$1(0,o.length,s.current+1):rt,tt(o[s.current])},[o.length,...o]);return[et,nt]}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$2=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$2=b$1?Symbol.for("react.block"):60121,w$2=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z$1(o){if(typeof o=="object"&&o!==null){var s=o.$$typeof;switch(s){case c:switch(o=o.type,o){case l:case m:case e:case g$1:case f:case p:return o;default:switch(o=o&&o.$$typeof,o){case k$2:case n:case t:case r:case h$1:return o;default:return s}}case d:return s}}}function A$1(o){return z$1(o)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(o){return A$1(o)||z$1(o)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(o){return z$1(o)===k$2};reactIs_production_min.isContextProvider=function(o){return z$1(o)===h$1};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c};reactIs_production_min.isForwardRef=function(o){return z$1(o)===n};reactIs_production_min.isFragment=function(o){return z$1(o)===e};reactIs_production_min.isLazy=function(o){return z$1(o)===t};reactIs_production_min.isMemo=function(o){return z$1(o)===r};reactIs_production_min.isPortal=function(o){return z$1(o)===d};reactIs_production_min.isProfiler=function(o){return z$1(o)===g$1};reactIs_production_min.isStrictMode=function(o){return z$1(o)===f};reactIs_production_min.isSuspense=function(o){return z$1(o)===p};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e||o===m||o===g$1||o===f||o===p||o===q$1||typeof o=="object"&&o!==null&&(o.$$typeof===t||o.$$typeof===r||o.$$typeof===h$1||o.$$typeof===k$2||o.$$typeof===n||o.$$typeof===w$2||o.$$typeof===x$1||o.$$typeof===y||o.$$typeof===v$2)};reactIs_production_min.typeOf=z$1;(function(o){o.exports=reactIs_production_min})(reactIs$1);function stylis_min(o){function s(Ot,Xt,Kt,fn,Nt){for(var vn=0,on=0,bn=0,cn=0,xn,tn,Yt=0,dn=0,yn,_n=yn=xn=0,En=0,Tn=0,Ln=0,Bn=0,Hn=Kt.length,qt=Hn-1,Bt,Zt="",pn="",Sn="",wn="",Vn;En<Hn;){if(tn=Kt.charCodeAt(En),En===qt&&on+cn+bn+vn!==0&&(on!==0&&(tn=on===47?10:47),cn=bn=vn=0,Hn++,qt++),on+cn+bn+vn===0){if(En===qt&&(0<Tn&&(Zt=Zt.replace(ft,"")),0<Zt.trim().length)){switch(tn){case 32:case 9:case 59:case 13:case 10:break;default:Zt+=Kt.charAt(En)}tn=59}switch(tn){case 123:for(Zt=Zt.trim(),xn=Zt.charCodeAt(0),yn=1,Bn=++En;En<Hn;){switch(tn=Kt.charCodeAt(En)){case 123:yn++;break;case 125:yn--;break;case 47:switch(tn=Kt.charCodeAt(En+1)){case 42:case 47:e:{for(_n=En+1;_n<qt;++_n)switch(Kt.charCodeAt(_n)){case 47:if(tn===42&&Kt.charCodeAt(_n-1)===42&&En+2!==_n){En=_n+1;break e}break;case 10:if(tn===47){En=_n+1;break e}}En=_n}}break;case 91:tn++;case 40:tn++;case 34:case 39:for(;En++<qt&&Kt.charCodeAt(En)!==tn;);}if(yn===0)break;En++}switch(yn=Kt.substring(Bn,En),xn===0&&(xn=(Zt=Zt.replace(ht,"").trim()).charCodeAt(0)),xn){case 64:switch(0<Tn&&(Zt=Zt.replace(ft,"")),tn=Zt.charCodeAt(1),tn){case 100:case 109:case 115:case 45:Tn=Xt;break;default:Tn=Ft}if(yn=s(Xt,Tn,yn,tn,Nt+1),Bn=yn.length,0<Tt&&(Tn=et(Ft,Zt,Ln),Vn=st(3,yn,Tn,Xt,Ht,Wt,Bn,tn,Nt,fn),Zt=Tn.join(""),Vn!==void 0&&(Bn=(yn=Vn.trim()).length)===0&&(tn=0,yn="")),0<Bn)switch(tn){case 115:Zt=Zt.replace(wt,it);case 100:case 109:case 45:yn=Zt+"{"+yn+"}";break;case 107:Zt=Zt.replace(mt,"$1 $2"),yn=Zt+"{"+yn+"}",yn=$t===1||$t===2&&rt("@"+yn,3)?"@-webkit-"+yn+"@"+yn:"@"+yn;break;default:yn=Zt+yn,fn===112&&(yn=(pn+=yn,""))}else yn="";break;default:yn=s(Xt,et(Xt,Zt,Ln),yn,fn,Nt+1)}Sn+=yn,yn=Ln=Tn=_n=xn=0,Zt="",tn=Kt.charCodeAt(++En);break;case 125:case 59:if(Zt=(0<Tn?Zt.replace(ft,""):Zt).trim(),1<(Bn=Zt.length))switch(_n===0&&(xn=Zt.charCodeAt(0),xn===45||96<xn&&123>xn)&&(Bn=(Zt=Zt.replace(" ",":")).length),0<Tt&&(Vn=st(1,Zt,Xt,Ot,Ht,Wt,pn.length,fn,Nt,fn))!==void 0&&(Bn=(Zt=Vn.trim()).length)===0&&(Zt="\0\0"),xn=Zt.charCodeAt(0),tn=Zt.charCodeAt(1),xn){case 0:break;case 64:if(tn===105||tn===99){wn+=Zt+Kt.charAt(En);break}default:Zt.charCodeAt(Bn-1)!==58&&(pn+=nt(Zt,xn,tn,Zt.charCodeAt(2)))}Ln=Tn=_n=xn=0,Zt="",tn=Kt.charCodeAt(++En)}}switch(tn){case 13:case 10:on===47?on=0:1+xn===0&&fn!==107&&0<Zt.length&&(Tn=1,Zt+="\0"),0<Tt*Rt&&st(0,Zt,Xt,Ot,Ht,Wt,pn.length,fn,Nt,fn),Wt=1,Ht++;break;case 59:case 125:if(on+cn+bn+vn===0){Wt++;break}default:switch(Wt++,Bt=Kt.charAt(En),tn){case 9:case 32:if(cn+vn+on===0)switch(Yt){case 44:case 58:case 9:case 32:Bt="";break;default:tn!==32&&(Bt=" ")}break;case 0:Bt="\\0";break;case 12:Bt="\\f";break;case 11:Bt="\\v";break;case 38:cn+on+vn===0&&(Tn=Ln=1,Bt="\f"+Bt);break;case 108:if(cn+on+vn+Gt===0&&0<_n)switch(En-_n){case 2:Yt===112&&Kt.charCodeAt(En-3)===58&&(Gt=Yt);case 8:dn===111&&(Gt=dn)}break;case 58:cn+on+vn===0&&(_n=En);break;case 44:on+bn+cn+vn===0&&(Tn=1,Bt+="\r");break;case 34:case 39:on===0&&(cn=cn===tn?0:cn===0?tn:cn);break;case 91:cn+on+bn===0&&vn++;break;case 93:cn+on+bn===0&&vn--;break;case 41:cn+on+vn===0&&bn--;break;case 40:if(cn+on+vn===0){if(xn===0)switch(2*Yt+3*dn){case 533:break;default:xn=1}bn++}break;case 64:on+bn+cn+vn+_n+yn===0&&(yn=1);break;case 42:case 47:if(!(0<cn+vn+bn))switch(on){case 0:switch(2*tn+3*Kt.charCodeAt(En+1)){case 235:on=47;break;case 220:Bn=En,on=42}break;case 42:tn===47&&Yt===42&&Bn+2!==En&&(Kt.charCodeAt(Bn+2)===33&&(pn+=Kt.substring(Bn,En+1)),Bt="",on=0)}}on===0&&(Zt+=Bt)}dn=Yt,Yt=tn,En++}if(Bn=pn.length,0<Bn){if(Tn=Xt,0<Tt&&(Vn=st(2,pn,Tn,Ot,Ht,Wt,Bn,fn,Nt,fn),Vn!==void 0&&(pn=Vn).length===0))return wn+pn+Sn;if(pn=Tn.join(",")+"{"+pn+"}",$t*Gt!==0){switch($t!==2||rt(pn,2)||(Gt=0),Gt){case 111:pn=pn.replace(xt,":-moz-$1")+pn;break;case 112:pn=pn.replace(yt,"::-webkit-input-$1")+pn.replace(yt,"::-moz-$1")+pn.replace(yt,":-ms-input-$1")+pn}Gt=0}}return wn+pn+Sn}function et(Ot,Xt,Kt){var fn=Xt.trim().split(_t);Xt=fn;var Nt=fn.length,vn=Ot.length;switch(vn){case 0:case 1:var on=0;for(Ot=vn===0?"":Ot[0]+" ";on<Nt;++on)Xt[on]=tt(Ot,Xt[on],Kt).trim();break;default:var bn=on=0;for(Xt=[];on<Nt;++on)for(var cn=0;cn<vn;++cn)Xt[bn++]=tt(Ot[cn]+" ",fn[on],Kt).trim()}return Xt}function tt(Ot,Xt,Kt){var fn=Xt.charCodeAt(0);switch(33>fn&&(fn=(Xt=Xt.trim()).charCodeAt(0)),fn){case 38:return Xt.replace(pt,"$1"+Ot.trim());case 58:return Ot.trim()+Xt.replace(pt,"$1"+Ot.trim());default:if(0<1*Kt&&0<Xt.indexOf("\f"))return Xt.replace(pt,(Ot.charCodeAt(0)===58?"":"$1")+Ot.trim())}return Ot+Xt}function nt(Ot,Xt,Kt,fn){var Nt=Ot+";",vn=2*Xt+3*Kt+4*fn;if(vn===944){Ot=Nt.indexOf(":",9)+1;var on=Nt.substring(Ot,Nt.length-1).trim();return on=Nt.substring(0,Ot).trim()+on+";",$t===1||$t===2&&rt(on,1)?"-webkit-"+on+on:on}if($t===0||$t===2&&!rt(Nt,1))return Nt;switch(vn){case 1015:return Nt.charCodeAt(10)===97?"-webkit-"+Nt+Nt:Nt;case 951:return Nt.charCodeAt(3)===116?"-webkit-"+Nt+Nt:Nt;case 963:return Nt.charCodeAt(5)===110?"-webkit-"+Nt+Nt:Nt;case 1009:if(Nt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Nt+Nt;case 978:return"-webkit-"+Nt+"-moz-"+Nt+Nt;case 1019:case 983:return"-webkit-"+Nt+"-moz-"+Nt+"-ms-"+Nt+Nt;case 883:if(Nt.charCodeAt(8)===45)return"-webkit-"+Nt+Nt;if(0<Nt.indexOf("image-set(",11))return Nt.replace(zt,"$1-webkit-$2")+Nt;break;case 932:if(Nt.charCodeAt(4)===45)switch(Nt.charCodeAt(5)){case 103:return"-webkit-box-"+Nt.replace("-grow","")+"-webkit-"+Nt+"-ms-"+Nt.replace("grow","positive")+Nt;case 115:return"-webkit-"+Nt+"-ms-"+Nt.replace("shrink","negative")+Nt;case 98:return"-webkit-"+Nt+"-ms-"+Nt.replace("basis","preferred-size")+Nt}return"-webkit-"+Nt+"-ms-"+Nt+Nt;case 964:return"-webkit-"+Nt+"-ms-flex-"+Nt+Nt;case 1023:if(Nt.charCodeAt(8)!==99)break;return on=Nt.substring(Nt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+on+"-webkit-"+Nt+"-ms-flex-pack"+on+Nt;case 1005:return vt.test(Nt)?Nt.replace(dt,":-webkit-")+Nt.replace(dt,":-moz-")+Nt:Nt;case 1e3:switch(on=Nt.substring(13).trim(),Xt=on.indexOf("-")+1,on.charCodeAt(0)+on.charCodeAt(Xt)){case 226:on=Nt.replace(bt,"tb");break;case 232:on=Nt.replace(bt,"tb-rl");break;case 220:on=Nt.replace(bt,"lr");break;default:return Nt}return"-webkit-"+Nt+"-ms-"+on+Nt;case 1017:if(Nt.indexOf("sticky",9)===-1)break;case 975:switch(Xt=(Nt=Ot).length-10,on=(Nt.charCodeAt(Xt)===33?Nt.substring(0,Xt):Nt).substring(Ot.indexOf(":",7)+1).trim(),vn=on.charCodeAt(0)+(on.charCodeAt(7)|0)){case 203:if(111>on.charCodeAt(8))break;case 115:Nt=Nt.replace(on,"-webkit-"+on)+";"+Nt;break;case 207:case 102:Nt=Nt.replace(on,"-webkit-"+(102<vn?"inline-":"")+"box")+";"+Nt.replace(on,"-webkit-"+on)+";"+Nt.replace(on,"-ms-"+on+"box")+";"+Nt}return Nt+";";case 938:if(Nt.charCodeAt(5)===45)switch(Nt.charCodeAt(6)){case 105:return on=Nt.replace("-items",""),"-webkit-"+Nt+"-webkit-box-"+on+"-ms-flex-"+on+Nt;case 115:return"-webkit-"+Nt+"-ms-flex-item-"+Nt.replace(Et,"")+Nt;default:return"-webkit-"+Nt+"-ms-flex-line-pack"+Nt.replace("align-content","").replace(Et,"")+Nt}break;case 973:case 989:if(Nt.charCodeAt(3)!==45||Nt.charCodeAt(4)===122)break;case 931:case 953:if(Dt.test(Ot)===!0)return(on=Ot.substring(Ot.indexOf(":")+1)).charCodeAt(0)===115?nt(Ot.replace("stretch","fill-available"),Xt,Kt,fn).replace(":fill-available",":stretch"):Nt.replace(on,"-webkit-"+on)+Nt.replace(on,"-moz-"+on.replace("fill-",""))+Nt;break;case 962:if(Nt="-webkit-"+Nt+(Nt.charCodeAt(5)===102?"-ms-"+Nt:"")+Nt,Kt+fn===211&&Nt.charCodeAt(13)===105&&0<Nt.indexOf("transform",10))return Nt.substring(0,Nt.indexOf(";",27)+1).replace(gt,"$1-webkit-$2")+Nt}return Nt}function rt(Ot,Xt){var Kt=Ot.indexOf(Xt===1?":":"{"),fn=Ot.substring(0,Xt!==3?Kt:10);return Kt=Ot.substring(Kt+1,Ot.length-1),Pt(Xt!==2?fn:fn.replace(kt,"$1"),Kt,Xt)}function it(Ot,Xt){var Kt=nt(Xt,Xt.charCodeAt(0),Xt.charCodeAt(1),Xt.charCodeAt(2));return Kt!==Xt+";"?Kt.replace(Ct," or ($1)").substring(4):"("+Xt+")"}function st(Ot,Xt,Kt,fn,Nt,vn,on,bn,cn,xn){for(var tn=0,Yt=Xt,dn;tn<Tt;++tn)switch(dn=It[tn].call(ut,Ot,Yt,Kt,fn,Nt,vn,on,bn,cn,xn)){case void 0:case!1:case!0:case null:break;default:Yt=dn}if(Yt!==Xt)return Yt}function ot(Ot){switch(Ot){case void 0:case null:Tt=It.length=0;break;default:if(typeof Ot=="function")It[Tt++]=Ot;else if(typeof Ot=="object")for(var Xt=0,Kt=Ot.length;Xt<Kt;++Xt)ot(Ot[Xt]);else Rt=!!Ot|0}return ot}function at(Ot){return Ot=Ot.prefix,Ot!==void 0&&(Pt=null,Ot?typeof Ot!="function"?$t=1:($t=2,Pt=Ot):$t=0),at}function ut(Ot,Xt){var Kt=Ot;if(33>Kt.charCodeAt(0)&&(Kt=Kt.trim()),Vt=Kt,Kt=[Vt],0<Tt){var fn=st(-1,Xt,Kt,Kt,Ht,Wt,0,0,0,0);fn!==void 0&&typeof fn=="string"&&(Xt=fn)}var Nt=s(Ft,Kt,Xt,0,0);return 0<Tt&&(fn=st(-2,Nt,Kt,Kt,Ht,Wt,Nt.length,0,0,0),fn!==void 0&&(Nt=fn)),Vt="",Gt=0,Wt=Ht=1,Nt}var ht=/^\0+/g,ft=/[\0\r\f]/g,dt=/: */g,vt=/zoo|gra/,gt=/([,: ])(transform)/g,_t=/,\r+?/g,pt=/([\t\r\n ])*\f?&/g,mt=/@(k\w+)\s*(\S*)\s*/,yt=/::(place)/g,xt=/:(read-only)/g,bt=/[svh]\w+-[tblr]{2}/,wt=/\(\s*(.*)\s*\)/g,Ct=/([\s\S]*?);/g,Et=/-self|flex-/g,kt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Dt=/stretch|:\s*\w+\-(?:conte|avail)/,zt=/([^-])(image-set\()/,Wt=1,Ht=1,Gt=0,$t=1,Ft=[],It=[],Tt=0,Pt=null,Rt=0,Vt="";return ut.use=ot,ut.set=at,o!==void 0&&at(o),ut}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(o){var s=Object.create(null);return function(et){return s[et]===void 0&&(s[et]=o(et)),s[et]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(o){return reactPropsRegex.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91}),reactIs=reactIs$1.exports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(o){return reactIs.isMemo(o)?MEMO_STATICS:TYPE_STATICS[o.$$typeof]||REACT_STATICS}var defineProperty$3=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf$3=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(o,s,et){if(typeof s!="string"){if(objectPrototype){var tt=getPrototypeOf$3(s);tt&&tt!==objectPrototype&&hoistNonReactStatics(o,tt,et)}var nt=getOwnPropertyNames(s);getOwnPropertySymbols&&(nt=nt.concat(getOwnPropertySymbols(s)));for(var rt=getStatics(o),it=getStatics(s),st=0;st<nt.length;++st){var ot=nt[st];if(!KNOWN_STATICS[ot]&&!(et&&et[ot])&&!(it&&it[ot])&&!(rt&&rt[ot])){var at=getOwnPropertyDescriptor(s,ot);try{defineProperty$3(o,ot,at)}catch{}}}}return o}var hoistNonReactStatics_cjs=hoistNonReactStatics;function v$1(){return(v$1=Object.assign||function(o){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(o[tt]=et[tt])}return o}).apply(this,arguments)}var g=function(o,s){for(var et=[o[0]],tt=0,nt=s.length;tt<nt;tt+=1)et.push(s[tt],o[tt+1]);return et},S=function(o){return o!==null&&typeof o=="object"&&(o.toString?o.toString():Object.prototype.toString.call(o))==="[object Object]"&&!reactIs$1.exports.typeOf(o)},w$1=Object.freeze([]),E=Object.freeze({});function b(o){return typeof o=="function"}function _(o){return o.displayName||o.name||"Component"}function N(o){return o&&typeof o.styledComponentId=="string"}var A=typeof process<"u"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",I=typeof window<"u"&&"HTMLElement"in window,P=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function j$1(o){for(var s=arguments.length,et=new Array(s>1?s-1:0),tt=1;tt<s;tt++)et[tt-1]=arguments[tt];throw new Error("An error occurred. See https://git.io/JUIaE#"+o+" for more information."+(et.length>0?" Args: "+et.join(", "):""))}var T=function(){function o(et){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=et}var s=o.prototype;return s.indexOfGroup=function(et){for(var tt=0,nt=0;nt<et;nt++)tt+=this.groupSizes[nt];return tt},s.insertRules=function(et,tt){if(et>=this.groupSizes.length){for(var nt=this.groupSizes,rt=nt.length,it=rt;et>=it;)(it<<=1)<0&&j$1(16,""+et);this.groupSizes=new Uint32Array(it),this.groupSizes.set(nt),this.length=it;for(var st=rt;st<it;st++)this.groupSizes[st]=0}for(var ot=this.indexOfGroup(et+1),at=0,ut=tt.length;at<ut;at++)this.tag.insertRule(ot,tt[at])&&(this.groupSizes[et]++,ot++)},s.clearGroup=function(et){if(et<this.length){var tt=this.groupSizes[et],nt=this.indexOfGroup(et),rt=nt+tt;this.groupSizes[et]=0;for(var it=nt;it<rt;it++)this.tag.deleteRule(nt)}},s.getGroup=function(et){var tt="";if(et>=this.length||this.groupSizes[et]===0)return tt;for(var nt=this.groupSizes[et],rt=this.indexOfGroup(et),it=rt+nt,st=rt;st<it;st++)tt+=this.tag.getRule(st)+`/*!sc*/
`;return tt},o}(),x=new Map,k$1=new Map,V=1,B=function(o){if(x.has(o))return x.get(o);for(;k$1.has(V);)V++;var s=V++;return x.set(o,s),k$1.set(s,o),s},z=function(o){return k$1.get(o)},M=function(o,s){s>=V&&(V=s+1),x.set(o,s),k$1.set(s,o)},G="style["+A+'][data-styled-version="5.3.5"]',L=new RegExp("^"+A+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),F=function(o,s,et){for(var tt,nt=et.split(","),rt=0,it=nt.length;rt<it;rt++)(tt=nt[rt])&&o.registerName(s,tt)},Y=function(o,s){for(var et=(s.textContent||"").split(`/*!sc*/
`),tt=[],nt=0,rt=et.length;nt<rt;nt++){var it=et[nt].trim();if(it){var st=it.match(L);if(st){var ot=0|parseInt(st[1],10),at=st[2];ot!==0&&(M(at,ot),F(o,at,st[3]),o.getTag().insertRules(ot,tt)),tt.length=0}else tt.push(it)}}},q=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},H=function(o){var s=document.head,et=o||s,tt=document.createElement("style"),nt=function(st){for(var ot=st.childNodes,at=ot.length;at>=0;at--){var ut=ot[at];if(ut&&ut.nodeType===1&&ut.hasAttribute(A))return ut}}(et),rt=nt!==void 0?nt.nextSibling:null;tt.setAttribute(A,"active"),tt.setAttribute("data-styled-version","5.3.5");var it=q();return it&&tt.setAttribute("nonce",it),et.insertBefore(tt,rt),tt},$=function(){function o(et){var tt=this.element=H(et);tt.appendChild(document.createTextNode("")),this.sheet=function(nt){if(nt.sheet)return nt.sheet;for(var rt=document.styleSheets,it=0,st=rt.length;it<st;it++){var ot=rt[it];if(ot.ownerNode===nt)return ot}j$1(17)}(tt),this.length=0}var s=o.prototype;return s.insertRule=function(et,tt){try{return this.sheet.insertRule(tt,et),this.length++,!0}catch{return!1}},s.deleteRule=function(et){this.sheet.deleteRule(et),this.length--},s.getRule=function(et){var tt=this.sheet.cssRules[et];return tt!==void 0&&typeof tt.cssText=="string"?tt.cssText:""},o}(),W=function(){function o(et){var tt=this.element=H(et);this.nodes=tt.childNodes,this.length=0}var s=o.prototype;return s.insertRule=function(et,tt){if(et<=this.length&&et>=0){var nt=document.createTextNode(tt),rt=this.nodes[et];return this.element.insertBefore(nt,rt||null),this.length++,!0}return!1},s.deleteRule=function(et){this.element.removeChild(this.nodes[et]),this.length--},s.getRule=function(et){return et<this.length?this.nodes[et].textContent:""},o}(),U=function(){function o(et){this.rules=[],this.length=0}var s=o.prototype;return s.insertRule=function(et,tt){return et<=this.length&&(this.rules.splice(et,0,tt),this.length++,!0)},s.deleteRule=function(et){this.rules.splice(et,1),this.length--},s.getRule=function(et){return et<this.length?this.rules[et]:""},o}(),J=I,X={isServer:!I,useCSSOMInjection:!P},Z=function(){function o(et,tt,nt){et===void 0&&(et=E),tt===void 0&&(tt={}),this.options=v$1({},X,{},et),this.gs=tt,this.names=new Map(nt),this.server=!!et.isServer,!this.server&&I&&J&&(J=!1,function(rt){for(var it=document.querySelectorAll(G),st=0,ot=it.length;st<ot;st++){var at=it[st];at&&at.getAttribute(A)!=="active"&&(Y(rt,at),at.parentNode&&at.parentNode.removeChild(at))}}(this))}o.registerId=function(et){return B(et)};var s=o.prototype;return s.reconstructWithOptions=function(et,tt){return tt===void 0&&(tt=!0),new o(v$1({},this.options,{},et),this.gs,tt&&this.names||void 0)},s.allocateGSInstance=function(et){return this.gs[et]=(this.gs[et]||0)+1},s.getTag=function(){return this.tag||(this.tag=(nt=(tt=this.options).isServer,rt=tt.useCSSOMInjection,it=tt.target,et=nt?new U(it):rt?new $(it):new W(it),new T(et)));var et,tt,nt,rt,it},s.hasNameForId=function(et,tt){return this.names.has(et)&&this.names.get(et).has(tt)},s.registerName=function(et,tt){if(B(et),this.names.has(et))this.names.get(et).add(tt);else{var nt=new Set;nt.add(tt),this.names.set(et,nt)}},s.insertRules=function(et,tt,nt){this.registerName(et,tt),this.getTag().insertRules(B(et),nt)},s.clearNames=function(et){this.names.has(et)&&this.names.get(et).clear()},s.clearRules=function(et){this.getTag().clearGroup(B(et)),this.clearNames(et)},s.clearTag=function(){this.tag=void 0},s.toString=function(){return function(et){for(var tt=et.getTag(),nt=tt.length,rt="",it=0;it<nt;it++){var st=z(it);if(st!==void 0){var ot=et.names.get(st),at=tt.getGroup(it);if(ot&&at&&ot.size){var ut=A+".g"+it+'[id="'+st+'"]',ht="";ot!==void 0&&ot.forEach(function(ft){ft.length>0&&(ht+=ft+",")}),rt+=""+at+ut+'{content:"'+ht+`"}/*!sc*/
`}}}return rt}(this)},o}(),K=/(a)(d)/gi,Q=function(o){return String.fromCharCode(o+(o>25?39:97))};function ee(o){var s,et="";for(s=Math.abs(o);s>52;s=s/52|0)et=Q(s%52)+et;return(Q(s%52)+et).replace(K,"$1-$2")}var te=function(o,s){for(var et=s.length;et;)o=33*o^s.charCodeAt(--et);return o},ne=function(o){return te(5381,o)};function re(o){for(var s=0;s<o.length;s+=1){var et=o[s];if(b(et)&&!N(et))return!1}return!0}var oe=ne("5.3.5"),se=function(){function o(s,et,tt){this.rules=s,this.staticRulesId="",this.isStatic=(tt===void 0||tt.isStatic)&&re(s),this.componentId=et,this.baseHash=te(oe,et),this.baseStyle=tt,Z.registerId(et)}return o.prototype.generateAndInjectStyles=function(s,et,tt){var nt=this.componentId,rt=[];if(this.baseStyle&&rt.push(this.baseStyle.generateAndInjectStyles(s,et,tt)),this.isStatic&&!tt.hash)if(this.staticRulesId&&et.hasNameForId(nt,this.staticRulesId))rt.push(this.staticRulesId);else{var it=Ne(this.rules,s,et,tt).join(""),st=ee(te(this.baseHash,it)>>>0);if(!et.hasNameForId(nt,st)){var ot=tt(it,"."+st,void 0,nt);et.insertRules(nt,st,ot)}rt.push(st),this.staticRulesId=st}else{for(var at=this.rules.length,ut=te(this.baseHash,tt.hash),ht="",ft=0;ft<at;ft++){var dt=this.rules[ft];if(typeof dt=="string")ht+=dt;else if(dt){var vt=Ne(dt,s,et,tt),gt=Array.isArray(vt)?vt.join(""):vt;ut=te(ut,gt+ft),ht+=gt}}if(ht){var _t=ee(ut>>>0);if(!et.hasNameForId(nt,_t)){var pt=tt(ht,"."+_t,void 0,nt);et.insertRules(nt,_t,pt)}rt.push(_t)}}return rt.join(" ")},o}(),ie=/^\s*\/\/.*$/gm,ae=[":","[",".","#"];function ce(o){var s,et,tt,nt,rt=o===void 0?E:o,it=rt.options,st=it===void 0?E:it,ot=rt.plugins,at=ot===void 0?w$1:ot,ut=new stylis_min(st),ht=[],ft=function(gt){function _t(pt){if(pt)try{gt(pt+"}")}catch{}}return function(pt,mt,yt,xt,bt,wt,Ct,Et,kt,Dt){switch(pt){case 1:if(kt===0&&mt.charCodeAt(0)===64)return gt(mt+";"),"";break;case 2:if(Et===0)return mt+"/*|*/";break;case 3:switch(Et){case 102:case 112:return gt(yt[0]+mt),"";default:return mt+(Dt===0?"/*|*/":"")}case-2:mt.split("/*|*/}").forEach(_t)}}}(function(gt){ht.push(gt)}),dt=function(gt,_t,pt){return _t===0&&ae.indexOf(pt[et.length])!==-1||pt.match(nt)?gt:"."+s};function vt(gt,_t,pt,mt){mt===void 0&&(mt="&");var yt=gt.replace(ie,""),xt=_t&&pt?pt+" "+_t+" { "+yt+" }":yt;return s=mt,et=_t,tt=new RegExp("\\"+et+"\\b","g"),nt=new RegExp("(\\"+et+"\\b){2,}"),ut(pt||!_t?"":_t,xt)}return ut.use([].concat(at,[function(gt,_t,pt){gt===2&&pt.length&&pt[0].lastIndexOf(et)>0&&(pt[0]=pt[0].replace(tt,dt))},ft,function(gt){if(gt===-2){var _t=ht;return ht=[],_t}}])),vt.hash=at.length?at.reduce(function(gt,_t){return _t.name||j$1(15),te(gt,_t.name)},5381).toString():"",vt}var ue=React.createContext();ue.Consumer;var de=React.createContext(),he=(de.Consumer,new Z),pe=ce();function fe(){return react.exports.useContext(ue)||he}function me(){return react.exports.useContext(de)||pe}var ve=function(){function o(s,et){var tt=this;this.inject=function(nt,rt){rt===void 0&&(rt=pe);var it=tt.name+rt.hash;nt.hasNameForId(tt.id,it)||nt.insertRules(tt.id,it,rt(tt.rules,it,"@keyframes"))},this.toString=function(){return j$1(12,String(tt.name))},this.name=s,this.id="sc-keyframes-"+s,this.rules=et}return o.prototype.getName=function(s){return s===void 0&&(s=pe),this.name+s.hash},o}(),ge=/([A-Z])/,Se=/([A-Z])/g,we=/^ms-/,Ee=function(o){return"-"+o.toLowerCase()};function be(o){return ge.test(o)?o.replace(Se,Ee).replace(we,"-ms-"):o}var _e=function(o){return o==null||o===!1||o===""};function Ne(o,s,et,tt){if(Array.isArray(o)){for(var nt,rt=[],it=0,st=o.length;it<st;it+=1)(nt=Ne(o[it],s,et,tt))!==""&&(Array.isArray(nt)?rt.push.apply(rt,nt):rt.push(nt));return rt}if(_e(o))return"";if(N(o))return"."+o.styledComponentId;if(b(o)){if(typeof(at=o)!="function"||at.prototype&&at.prototype.isReactComponent||!s)return o;var ot=o(s);return Ne(ot,s,et,tt)}var at;return o instanceof ve?et?(o.inject(et,tt),o.getName(tt)):o:S(o)?function ut(ht,ft){var dt,vt,gt=[];for(var _t in ht)ht.hasOwnProperty(_t)&&!_e(ht[_t])&&(Array.isArray(ht[_t])&&ht[_t].isCss||b(ht[_t])?gt.push(be(_t)+":",ht[_t],";"):S(ht[_t])?gt.push.apply(gt,ut(ht[_t],_t)):gt.push(be(_t)+": "+(dt=_t,(vt=ht[_t])==null||typeof vt=="boolean"||vt===""?"":typeof vt!="number"||vt===0||dt in unitlessKeys?String(vt).trim():vt+"px")+";"));return ft?[ft+" {"].concat(gt,["}"]):gt}(o):o.toString()}var Ae=function(o){return Array.isArray(o)&&(o.isCss=!0),o};function Ce(o){for(var s=arguments.length,et=new Array(s>1?s-1:0),tt=1;tt<s;tt++)et[tt-1]=arguments[tt];return b(o)||S(o)?Ae(Ne(g(w$1,[o].concat(et)))):et.length===0&&o.length===1&&typeof o[0]=="string"?o:Ae(Ne(g(o,et)))}var Re=function(o,s,et){return et===void 0&&(et=E),o.theme!==et.theme&&o.theme||s||et.theme},De=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,je=/(^-|-$)/g;function Te(o){return o.replace(De,"-").replace(je,"")}var xe=function(o){return ee(ne(o)>>>0)};function ke(o){return typeof o=="string"&&!0}var Ve=function(o){return typeof o=="function"||typeof o=="object"&&o!==null&&!Array.isArray(o)},Be=function(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"};function ze(o,s,et){var tt=o[et];Ve(s)&&Ve(tt)?Me(tt,s):o[et]=s}function Me(o){for(var s=arguments.length,et=new Array(s>1?s-1:0),tt=1;tt<s;tt++)et[tt-1]=arguments[tt];for(var nt=0,rt=et;nt<rt.length;nt++){var it=rt[nt];if(Ve(it))for(var st in it)Be(st)&&ze(o,it[st],st)}return o}var Ge=React.createContext();Ge.Consumer;var Ye={};function qe(o,s,et){var tt=N(o),nt=!ke(o),rt=s.attrs,it=rt===void 0?w$1:rt,st=s.componentId,ot=st===void 0?function(mt,yt){var xt=typeof mt!="string"?"sc":Te(mt);Ye[xt]=(Ye[xt]||0)+1;var bt=xt+"-"+xe("5.3.5"+xt+Ye[xt]);return yt?yt+"-"+bt:bt}(s.displayName,s.parentComponentId):st,at=s.displayName,ut=at===void 0?function(mt){return ke(mt)?"styled."+mt:"Styled("+_(mt)+")"}(o):at,ht=s.displayName&&s.componentId?Te(s.displayName)+"-"+s.componentId:s.componentId||ot,ft=tt&&o.attrs?Array.prototype.concat(o.attrs,it).filter(Boolean):it,dt=s.shouldForwardProp;tt&&o.shouldForwardProp&&(dt=s.shouldForwardProp?function(mt,yt,xt){return o.shouldForwardProp(mt,yt,xt)&&s.shouldForwardProp(mt,yt,xt)}:o.shouldForwardProp);var vt,gt=new se(et,ht,tt?o.componentStyle:void 0),_t=gt.isStatic&&it.length===0,pt=function(mt,yt){return function(xt,bt,wt,Ct){var Et=xt.attrs,kt=xt.componentStyle,Dt=xt.defaultProps,zt=xt.foldedComponentIds,Wt=xt.shouldForwardProp,Ht=xt.styledComponentId,Gt=xt.target,$t=function(fn,Nt,vn){fn===void 0&&(fn=E);var on=v$1({},Nt,{theme:fn}),bn={};return vn.forEach(function(cn){var xn,tn,Yt,dn=cn;for(xn in b(dn)&&(dn=dn(on)),dn)on[xn]=bn[xn]=xn==="className"?(tn=bn[xn],Yt=dn[xn],tn&&Yt?tn+" "+Yt:tn||Yt):dn[xn]}),[on,bn]}(Re(bt,react.exports.useContext(Ge),Dt)||E,bt,Et),Ft=$t[0],It=$t[1],Tt=function(fn,Nt,vn,on){var bn=fe(),cn=me(),xn=Nt?fn.generateAndInjectStyles(E,bn,cn):fn.generateAndInjectStyles(vn,bn,cn);return xn}(kt,Ct,Ft),Pt=wt,Rt=It.$as||bt.$as||It.as||bt.as||Gt,Vt=ke(Rt),Ot=It!==bt?v$1({},bt,{},It):bt,Xt={};for(var Kt in Ot)Kt[0]!=="$"&&Kt!=="as"&&(Kt==="forwardedAs"?Xt.as=Ot[Kt]:(Wt?Wt(Kt,isPropValid,Rt):!Vt||isPropValid(Kt))&&(Xt[Kt]=Ot[Kt]));return bt.style&&It.style!==bt.style&&(Xt.style=v$1({},bt.style,{},It.style)),Xt.className=Array.prototype.concat(zt,Ht,Tt!==Ht?Tt:null,bt.className,It.className).filter(Boolean).join(" "),Xt.ref=Pt,react.exports.createElement(Rt,Xt)}(vt,mt,yt,_t)};return pt.displayName=ut,(vt=React.forwardRef(pt)).attrs=ft,vt.componentStyle=gt,vt.displayName=ut,vt.shouldForwardProp=dt,vt.foldedComponentIds=tt?Array.prototype.concat(o.foldedComponentIds,o.styledComponentId):w$1,vt.styledComponentId=ht,vt.target=tt?o.target:o,vt.withComponent=function(mt){var yt=s.componentId,xt=function(wt,Ct){if(wt==null)return{};var Et,kt,Dt={},zt=Object.keys(wt);for(kt=0;kt<zt.length;kt++)Et=zt[kt],Ct.indexOf(Et)>=0||(Dt[Et]=wt[Et]);return Dt}(s,["componentId"]),bt=yt&&yt+"-"+(ke(mt)?mt:Te(_(mt)));return qe(mt,v$1({},xt,{attrs:ft,componentId:bt}),et)},Object.defineProperty(vt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(mt){this._foldedDefaultProps=tt?Me({},o.defaultProps,mt):mt}}),vt.toString=function(){return"."+vt.styledComponentId},nt&&hoistNonReactStatics_cjs(vt,o,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),vt}var He=function(o){return function s(et,tt,nt){if(nt===void 0&&(nt=E),!reactIs$1.exports.isValidElementType(tt))return j$1(1,String(tt));var rt=function(){return et(tt,nt,Ce.apply(void 0,arguments))};return rt.withConfig=function(it){return s(et,tt,v$1({},nt,{},it))},rt.attrs=function(it){return s(et,tt,v$1({},nt,{attrs:Array.prototype.concat(nt.attrs,it).filter(Boolean)}))},rt}(qe,o)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(o){He[o]=He(o)});const styled=He;var dist={},_extends={},assign$1={exports:{}},_global={exports:{}},global$5=_global.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=global$5);var _core={exports:{}},core$4=_core.exports={version:"2.6.12"};typeof __e=="number"&&(__e=core$4);var _aFunction=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o},aFunction=_aFunction,_ctx=function(o,s,et){if(aFunction(o),s===void 0)return o;switch(et){case 1:return function(tt){return o.call(s,tt)};case 2:return function(tt,nt){return o.call(s,tt,nt)};case 3:return function(tt,nt,rt){return o.call(s,tt,nt,rt)}}return function(){return o.apply(s,arguments)}},_objectDp={},_isObject=function(o){return typeof o=="object"?o!==null:typeof o=="function"},isObject$3=_isObject,_anObject=function(o){if(!isObject$3(o))throw TypeError(o+" is not an object!");return o},_fails=function(o){try{return!!o()}catch{return!0}},_descriptors,hasRequired_descriptors;function require_descriptors(){return hasRequired_descriptors||(hasRequired_descriptors=1,_descriptors=!_fails(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})),_descriptors}var _domCreate,hasRequired_domCreate;function require_domCreate(){if(hasRequired_domCreate)return _domCreate;hasRequired_domCreate=1;var o=_isObject,s=_global.exports.document,et=o(s)&&o(s.createElement);return _domCreate=function(tt){return et?s.createElement(tt):{}},_domCreate}var _ie8DomDefine,hasRequired_ie8DomDefine;function require_ie8DomDefine(){return hasRequired_ie8DomDefine||(hasRequired_ie8DomDefine=1,_ie8DomDefine=!require_descriptors()&&!_fails(function(){return Object.defineProperty(require_domCreate()("div"),"a",{get:function(){return 7}}).a!=7})),_ie8DomDefine}var isObject$2=_isObject,_toPrimitive=function(o,s){if(!isObject$2(o))return o;var et,tt;if(s&&typeof(et=o.toString)=="function"&&!isObject$2(tt=et.call(o))||typeof(et=o.valueOf)=="function"&&!isObject$2(tt=et.call(o))||!s&&typeof(et=o.toString)=="function"&&!isObject$2(tt=et.call(o)))return tt;throw TypeError("Can't convert object to primitive value")},hasRequired_objectDp;function require_objectDp(){if(hasRequired_objectDp)return _objectDp;hasRequired_objectDp=1;var o=_anObject,s=require_ie8DomDefine(),et=_toPrimitive,tt=Object.defineProperty;return _objectDp.f=require_descriptors()?Object.defineProperty:function(rt,it,st){if(o(rt),it=et(it,!0),o(st),s)try{return tt(rt,it,st)}catch{}if("get"in st||"set"in st)throw TypeError("Accessors not supported!");return"value"in st&&(rt[it]=st.value),rt},_objectDp}var _propertyDesc=function(o,s){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:s}},dP$2=require_objectDp(),createDesc$2=_propertyDesc,_hide=require_descriptors()?function(o,s,et){return dP$2.f(o,s,createDesc$2(1,et))}:function(o,s,et){return o[s]=et,o},hasOwnProperty={}.hasOwnProperty,_has=function(o,s){return hasOwnProperty.call(o,s)},global$4=_global.exports,core$3=_core.exports,ctx=_ctx,hide$2=_hide,has$6=_has,PROTOTYPE$2="prototype",$export$7=function(o,s,et){var tt=o&$export$7.F,nt=o&$export$7.G,rt=o&$export$7.S,it=o&$export$7.P,st=o&$export$7.B,ot=o&$export$7.W,at=nt?core$3:core$3[s]||(core$3[s]={}),ut=at[PROTOTYPE$2],ht=nt?global$4:rt?global$4[s]:(global$4[s]||{})[PROTOTYPE$2],ft,dt,vt;nt&&(et=s);for(ft in et)dt=!tt&&ht&&ht[ft]!==void 0,!(dt&&has$6(at,ft))&&(vt=dt?ht[ft]:et[ft],at[ft]=nt&&typeof ht[ft]!="function"?et[ft]:st&&dt?ctx(vt,global$4):ot&&ht[ft]==vt?function(gt){var _t=function(pt,mt,yt){if(this instanceof gt){switch(arguments.length){case 0:return new gt;case 1:return new gt(pt);case 2:return new gt(pt,mt)}return new gt(pt,mt,yt)}return gt.apply(this,arguments)};return _t[PROTOTYPE$2]=gt[PROTOTYPE$2],_t}(vt):it&&typeof vt=="function"?ctx(Function.call,vt):vt,it&&((at.virtual||(at.virtual={}))[ft]=vt,o&$export$7.R&&ut&&!ut[ft]&&hide$2(ut,ft,vt)))};$export$7.F=1;$export$7.G=2;$export$7.S=4;$export$7.P=8;$export$7.B=16;$export$7.W=32;$export$7.U=64;$export$7.R=128;var _export=$export$7,toString$1={}.toString,_cof=function(o){return toString$1.call(o).slice(8,-1)},_iobject,hasRequired_iobject;function require_iobject(){if(hasRequired_iobject)return _iobject;hasRequired_iobject=1;var o=_cof;return _iobject=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)},_iobject}var _defined=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o},IObject=require_iobject(),defined$2=_defined,_toIobject=function(o){return IObject(defined$2(o))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(o){return isNaN(o=+o)?0:(o>0?floor:ceil)(o)},toInteger$2=_toInteger,min$1=Math.min,_toLength=function(o){return o>0?min$1(toInteger$2(o),9007199254740991):0},toInteger$1=_toInteger,max=Math.max,min=Math.min,_toAbsoluteIndex=function(o,s){return o=toInteger$1(o),o<0?max(o+s,0):min(o,s)},toIObject$5=_toIobject,toLength=_toLength,toAbsoluteIndex=_toAbsoluteIndex,_arrayIncludes=function(o){return function(s,et,tt){var nt=toIObject$5(s),rt=toLength(nt.length),it=toAbsoluteIndex(tt,rt),st;if(o&&et!=et){for(;rt>it;)if(st=nt[it++],st!=st)return!0}else for(;rt>it;it++)if((o||it in nt)&&nt[it]===et)return o||it||0;return!o&&-1}},_shared={exports:{}},_library=!0,core$2=_core.exports,global$3=_global.exports,SHARED="__core-js_shared__",store$1=global$3[SHARED]||(global$3[SHARED]={});(_shared.exports=function(o,s){return store$1[o]||(store$1[o]=s!==void 0?s:{})})("versions",[]).push({version:core$2.version,mode:"pure",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"});var id$1=0,px=Math.random(),_uid=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++id$1+px).toString(36))},shared$1=_shared.exports("keys"),uid$2=_uid,_sharedKey=function(o){return shared$1[o]||(shared$1[o]=uid$2(o))},has$5=_has,toIObject$4=_toIobject,arrayIndexOf=_arrayIncludes(!1),IE_PROTO$2=_sharedKey("IE_PROTO"),_objectKeysInternal=function(o,s){var et=toIObject$4(o),tt=0,nt=[],rt;for(rt in et)rt!=IE_PROTO$2&&has$5(et,rt)&&nt.push(rt);for(;s.length>tt;)has$5(et,rt=s[tt++])&&(~arrayIndexOf(nt,rt)||nt.push(rt));return nt},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$keys$2=_objectKeysInternal,enumBugKeys$1=_enumBugKeys,_objectKeys=Object.keys||function(s){return $keys$2(s,enumBugKeys$1)},_objectGops={};_objectGops.f=Object.getOwnPropertySymbols;var _objectPie={},hasRequired_objectPie;function require_objectPie(){return hasRequired_objectPie||(hasRequired_objectPie=1,_objectPie.f={}.propertyIsEnumerable),_objectPie}var defined$1=_defined,_toObject=function(o){return Object(defined$1(o))},_objectAssign,hasRequired_objectAssign;function require_objectAssign(){if(hasRequired_objectAssign)return _objectAssign;hasRequired_objectAssign=1;var o=require_descriptors(),s=_objectKeys,et=_objectGops,tt=require_objectPie(),nt=_toObject,rt=require_iobject(),it=Object.assign;return _objectAssign=!it||_fails(function(){var st={},ot={},at=Symbol(),ut="abcdefghijklmnopqrst";return st[at]=7,ut.split("").forEach(function(ht){ot[ht]=ht}),it({},st)[at]!=7||Object.keys(it({},ot)).join("")!=ut})?function(ot,at){for(var ut=nt(ot),ht=arguments.length,ft=1,dt=et.f,vt=tt.f;ht>ft;)for(var gt=rt(arguments[ft++]),_t=dt?s(gt).concat(dt(gt)):s(gt),pt=_t.length,mt=0,yt;pt>mt;)yt=_t[mt++],(!o||vt.call(gt,yt))&&(ut[yt]=gt[yt]);return ut}:it,_objectAssign}var $export$6=_export;$export$6($export$6.S+$export$6.F,"Object",{assign:require_objectAssign()});var assign=_core.exports.Object.assign;(function(o){o.exports={default:assign,__esModule:!0}})(assign$1);_extends.__esModule=!0;var _assign=assign$1.exports,_assign2=_interopRequireDefault$5(_assign);function _interopRequireDefault$5(o){return o&&o.__esModule?o:{default:o}}_extends.default=_assign2.default||function(o){for(var s=1;s<arguments.length;s++){var et=arguments[s];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(o[tt]=et[tt])}return o};var getPrototypeOf$2={exports:{}},has$4=_has,toObject$2=_toObject,IE_PROTO$1=_sharedKey("IE_PROTO"),ObjectProto$1=Object.prototype,_objectGpo=Object.getPrototypeOf||function(o){return o=toObject$2(o),has$4(o,IE_PROTO$1)?o[IE_PROTO$1]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?ObjectProto$1:null},$export$5=_export,core$1=_core.exports,fails=_fails,_objectSap=function(o,s){var et=(core$1.Object||{})[o]||Object[o],tt={};tt[o]=s(et),$export$5($export$5.S+$export$5.F*fails(function(){et(1)}),"Object",tt)},toObject$1=_toObject,$getPrototypeOf=_objectGpo;_objectSap("getPrototypeOf",function(){return function(s){return $getPrototypeOf(toObject$1(s))}});var getPrototypeOf$1=_core.exports.Object.getPrototypeOf;(function(o){o.exports={default:getPrototypeOf$1,__esModule:!0}})(getPrototypeOf$2);var classCallCheck={};classCallCheck.__esModule=!0;classCallCheck.default=function(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")};var createClass={},defineProperty$2={exports:{}},$export$4=_export;$export$4($export$4.S+$export$4.F*!require_descriptors(),"Object",{defineProperty:require_objectDp().f});var $Object$1=_core.exports.Object,defineProperty$1=function(s,et,tt){return $Object$1.defineProperty(s,et,tt)};(function(o){o.exports={default:defineProperty$1,__esModule:!0}})(defineProperty$2);createClass.__esModule=!0;var _defineProperty=defineProperty$2.exports,_defineProperty2=_interopRequireDefault$4(_defineProperty);function _interopRequireDefault$4(o){return o&&o.__esModule?o:{default:o}}createClass.default=function(){function o(s,et){for(var tt=0;tt<et.length;tt++){var nt=et[tt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),(0,_defineProperty2.default)(s,nt.key,nt)}}return function(s,et,tt){return et&&o(s.prototype,et),tt&&o(s,tt),s}}();var possibleConstructorReturn={},_typeof$1={},iterator$1={exports:{}},toInteger=_toInteger,defined=_defined,_stringAt=function(o){return function(s,et){var tt=String(defined(s)),nt=toInteger(et),rt=tt.length,it,st;return nt<0||nt>=rt?o?"":void 0:(it=tt.charCodeAt(nt),it<55296||it>56319||nt+1===rt||(st=tt.charCodeAt(nt+1))<56320||st>57343?o?tt.charAt(nt):it:o?tt.slice(nt,nt+2):(it-55296<<10)+(st-56320)+65536)}},_redefine={exports:{}};(function(o){o.exports=_hide})(_redefine);var _iterators={},dP$1=require_objectDp(),anObject$2=_anObject,getKeys$1=_objectKeys,_objectDps=require_descriptors()?Object.defineProperties:function(s,et){anObject$2(s);for(var tt=getKeys$1(et),nt=tt.length,rt=0,it;nt>rt;)dP$1.f(s,it=tt[rt++],et[it]);return s},_html,hasRequired_html;function require_html(){if(hasRequired_html)return _html;hasRequired_html=1;var o=_global.exports.document;return _html=o&&o.documentElement,_html}var anObject$1=_anObject,dPs=_objectDps,enumBugKeys=_enumBugKeys,IE_PROTO=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var o=require_domCreate()("iframe"),s=enumBugKeys.length,et="<",tt=">",nt;for(o.style.display="none",require_html().appendChild(o),o.src="javascript:",nt=o.contentWindow.document,nt.open(),nt.write(et+"script"+tt+"document.F=Object"+et+"/script"+tt),nt.close(),createDict=nt.F;s--;)delete createDict[PROTOTYPE$1][enumBugKeys[s]];return createDict()},_objectCreate=Object.create||function(s,et){var tt;return s!==null?(Empty[PROTOTYPE$1]=anObject$1(s),tt=new Empty,Empty[PROTOTYPE$1]=null,tt[IE_PROTO]=s):tt=createDict(),et===void 0?tt:dPs(tt,et)},_wks={exports:{}},store=_shared.exports("wks"),uid$1=_uid,Symbol$1=_global.exports.Symbol,USE_SYMBOL=typeof Symbol$1=="function",$exports=_wks.exports=function(o){return store[o]||(store[o]=USE_SYMBOL&&Symbol$1[o]||(USE_SYMBOL?Symbol$1:uid$1)("Symbol."+o))};$exports.store=store;var def=require_objectDp().f,has$3=_has,TAG=_wks.exports("toStringTag"),_setToStringTag=function(o,s,et){o&&!has$3(o=et?o:o.prototype,TAG)&&def(o,TAG,{configurable:!0,value:s})},create$2=_objectCreate,descriptor=_propertyDesc,setToStringTag$2=_setToStringTag,IteratorPrototype={};_hide(IteratorPrototype,_wks.exports("iterator"),function(){return this});var _iterCreate=function(o,s,et){o.prototype=create$2(IteratorPrototype,{next:descriptor(1,et)}),setToStringTag$2(o,s+" Iterator")},$export$3=_export,redefine$1=_redefine.exports,hide$1=_hide,Iterators$2=_iterators,$iterCreate=_iterCreate,setToStringTag$1=_setToStringTag,getPrototypeOf=_objectGpo,ITERATOR=_wks.exports("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(o,s,et,tt,nt,rt,it){$iterCreate(et,s,tt);var st=function(yt){if(!BUGGY&&yt in ht)return ht[yt];switch(yt){case KEYS:return function(){return new et(this,yt)};case VALUES:return function(){return new et(this,yt)}}return function(){return new et(this,yt)}},ot=s+" Iterator",at=nt==VALUES,ut=!1,ht=o.prototype,ft=ht[ITERATOR]||ht[FF_ITERATOR]||nt&&ht[nt],dt=ft||st(nt),vt=nt?at?st("entries"):dt:void 0,gt=s=="Array"&&ht.entries||ft,_t,pt,mt;if(gt&&(mt=getPrototypeOf(gt.call(new o)),mt!==Object.prototype&&mt.next&&setToStringTag$1(mt,ot,!0)),at&&ft&&ft.name!==VALUES&&(ut=!0,dt=function(){return ft.call(this)}),it&&(BUGGY||ut||!ht[ITERATOR])&&hide$1(ht,ITERATOR,dt),Iterators$2[s]=dt,Iterators$2[ot]=returnThis,nt)if(_t={values:at?dt:st(VALUES),keys:rt?dt:st(KEYS),entries:vt},it)for(pt in _t)pt in ht||redefine$1(ht,pt,_t[pt]);else $export$3($export$3.P+$export$3.F*(BUGGY||ut),s,_t);return _t},$at=_stringAt(!0);_iterDefine(String,"String",function(o){this._t=String(o),this._i=0},function(){var o=this._t,s=this._i,et;return s>=o.length?{value:void 0,done:!0}:(et=$at(o,s),this._i+=et.length,{value:et,done:!1})});var _iterStep=function(o,s){return{value:s,done:!!o}},step=_iterStep,Iterators$1=_iterators,toIObject$3=_toIobject;_iterDefine(Array,"Array",function(o,s){this._t=toIObject$3(o),this._i=0,this._k=s},function(){var o=this._t,s=this._k,et=this._i++;return!o||et>=o.length?(this._t=void 0,step(1)):s=="keys"?step(0,et):s=="values"?step(0,o[et]):step(0,[et,o[et]])},"values");Iterators$1.Arguments=Iterators$1.Array;var global$2=_global.exports,hide=_hide,Iterators=_iterators,TO_STRING_TAG=_wks.exports("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global$2[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}var _wksExt={};_wksExt.f=_wks.exports;var iterator=_wksExt.f("iterator");(function(o){o.exports={default:iterator,__esModule:!0}})(iterator$1);var symbol$1={exports:{}},_meta={exports:{}},META$1=_uid("meta"),isObject$1=_isObject,has$2=_has,setDesc=require_objectDp().f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!_fails(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(o){setDesc(o,META$1,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(o,s){if(!isObject$1(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!has$2(o,META$1)){if(!isExtensible(o))return"F";if(!s)return"E";setMeta(o)}return o[META$1].i},getWeak=function(o,s){if(!has$2(o,META$1)){if(!isExtensible(o))return!0;if(!s)return!1;setMeta(o)}return o[META$1].w},onFreeze=function(o){return FREEZE&&meta.NEED&&isExtensible(o)&&!has$2(o,META$1)&&setMeta(o),o},meta=_meta.exports={KEY:META$1,NEED:!1,fastKey,getWeak,onFreeze},core=_core.exports,wksExt$1=_wksExt,defineProperty=require_objectDp().f,_wksDefine=function(o){var s=core.Symbol||(core.Symbol={});o.charAt(0)!="_"&&!(o in s)&&defineProperty(s,o,{value:wksExt$1.f(o)})},getKeys=_objectKeys,gOPS=_objectGops,pIE$1=require_objectPie(),_enumKeys=function(o){var s=getKeys(o),et=gOPS.f;if(et)for(var tt=et(o),nt=pIE$1.f,rt=0,it;tt.length>rt;)nt.call(o,it=tt[rt++])&&s.push(it);return s},cof=_cof,_isArray=Array.isArray||function(s){return cof(s)=="Array"},_objectGopnExt={},_objectGopn={},$keys$1=_objectKeysInternal,hiddenKeys=_enumBugKeys.concat("length","prototype");_objectGopn.f=Object.getOwnPropertyNames||function(s){return $keys$1(s,hiddenKeys)};var toIObject$2=_toIobject,gOPN$1=_objectGopn.f,toString={}.toString,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(o){try{return gOPN$1(o)}catch{return windowNames.slice()}};_objectGopnExt.f=function(s){return windowNames&&toString.call(s)=="[object Window]"?getWindowNames(s):gOPN$1(toIObject$2(s))};var _objectGopd={},pIE=require_objectPie(),createDesc$1=_propertyDesc,toIObject$1=_toIobject,toPrimitive$1=_toPrimitive,has$1=_has,IE8_DOM_DEFINE=require_ie8DomDefine(),gOPD$1=Object.getOwnPropertyDescriptor;_objectGopd.f=require_descriptors()?gOPD$1:function(s,et){if(s=toIObject$1(s),et=toPrimitive$1(et,!0),IE8_DOM_DEFINE)try{return gOPD$1(s,et)}catch{}if(has$1(s,et))return createDesc$1(!pIE.f.call(s,et),s[et])};var global$1=_global.exports,has=_has,DESCRIPTORS=require_descriptors(),$export$2=_export,redefine=_redefine.exports,META=_meta.exports.KEY,$fails=_fails,shared=_shared.exports,setToStringTag=_setToStringTag,uid=_uid,wks=_wks.exports,wksExt=_wksExt,wksDefine=_wksDefine,enumKeys=_enumKeys,isArray=_isArray,anObject=_anObject,isObject=_isObject,toObject=_toObject,toIObject=_toIobject,toPrimitive=_toPrimitive,createDesc=_propertyDesc,_create$1=_objectCreate,gOPNExt=_objectGopnExt,$GOPD=_objectGopd,$GOPS=_objectGops,$DP=require_objectDp(),$keys=_objectKeys,gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global$1.Symbol,$JSON=global$1.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE=typeof $Symbol=="function"&&!!$GOPS.f,QObject=global$1.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return _create$1(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a!=7})?function(o,s,et){var tt=gOPD(ObjectProto,s);tt&&delete ObjectProto[s],dP(o,s,et),tt&&o!==ObjectProto&&dP(ObjectProto,s,tt)}:dP,wrap=function(o){var s=AllSymbols[o]=_create$1($Symbol[PROTOTYPE]);return s._k=o,s},isSymbol=USE_NATIVE&&typeof $Symbol.iterator=="symbol"?function(o){return typeof o=="symbol"}:function(o){return o instanceof $Symbol},$defineProperty=function(s,et,tt){return s===ObjectProto&&$defineProperty(OPSymbols,et,tt),anObject(s),et=toPrimitive(et,!0),anObject(tt),has(AllSymbols,et)?(tt.enumerable?(has(s,HIDDEN)&&s[HIDDEN][et]&&(s[HIDDEN][et]=!1),tt=_create$1(tt,{enumerable:createDesc(0,!1)})):(has(s,HIDDEN)||dP(s,HIDDEN,createDesc(1,{})),s[HIDDEN][et]=!0),setSymbolDesc(s,et,tt)):dP(s,et,tt)},$defineProperties=function(s,et){anObject(s);for(var tt=enumKeys(et=toIObject(et)),nt=0,rt=tt.length,it;rt>nt;)$defineProperty(s,it=tt[nt++],et[it]);return s},$create=function(s,et){return et===void 0?_create$1(s):$defineProperties(_create$1(s),et)},$propertyIsEnumerable=function(s){var et=isEnum.call(this,s=toPrimitive(s,!0));return this===ObjectProto&&has(AllSymbols,s)&&!has(OPSymbols,s)?!1:et||!has(this,s)||!has(AllSymbols,s)||has(this,HIDDEN)&&this[HIDDEN][s]?et:!0},$getOwnPropertyDescriptor=function(s,et){if(s=toIObject(s),et=toPrimitive(et,!0),!(s===ObjectProto&&has(AllSymbols,et)&&!has(OPSymbols,et))){var tt=gOPD(s,et);return tt&&has(AllSymbols,et)&&!(has(s,HIDDEN)&&s[HIDDEN][et])&&(tt.enumerable=!0),tt}},$getOwnPropertyNames=function(s){for(var et=gOPN(toIObject(s)),tt=[],nt=0,rt;et.length>nt;)!has(AllSymbols,rt=et[nt++])&&rt!=HIDDEN&&rt!=META&&tt.push(rt);return tt},$getOwnPropertySymbols=function(s){for(var et=s===ObjectProto,tt=gOPN(et?OPSymbols:toIObject(s)),nt=[],rt=0,it;tt.length>rt;)has(AllSymbols,it=tt[rt++])&&(et?has(ObjectProto,it):!0)&&nt.push(AllSymbols[it]);return nt};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var s=uid(arguments.length>0?arguments[0]:void 0),et=function(tt){this===ObjectProto&&et.call(OPSymbols,tt),has(this,HIDDEN)&&has(this[HIDDEN],s)&&(this[HIDDEN][s]=!1),setSymbolDesc(this,s,createDesc(1,tt))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,s,{configurable:!0,set:et}),wrap(s)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,_objectGopn.f=gOPNExt.f=$getOwnPropertyNames,require_objectPie().f=$propertyIsEnumerable,$GOPS.f=$getOwnPropertySymbols,DESCRIPTORS&&!_library&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(o){return wrap(wks(o))});$export$2($export$2.G+$export$2.W+$export$2.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export$2($export$2.S+$export$2.F*!USE_NATIVE,"Symbol",{for:function(o){return has(SymbolRegistry,o+="")?SymbolRegistry[o]:SymbolRegistry[o]=$Symbol(o)},keyFor:function(s){if(!isSymbol(s))throw TypeError(s+" is not a symbol!");for(var et in SymbolRegistry)if(SymbolRegistry[et]===s)return et},useSetter:function(){setter=!0},useSimple:function(){setter=!1}});$export$2($export$2.S+$export$2.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=$fails(function(){$GOPS.f(1)});$export$2($export$2.S+$export$2.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function(s){return $GOPS.f(toObject(s))}});$JSON&&$export$2($export$2.S+$export$2.F*(!USE_NATIVE||$fails(function(){var o=$Symbol();return _stringify([o])!="[null]"||_stringify({a:o})!="{}"||_stringify(Object(o))!="{}"})),"JSON",{stringify:function(s){for(var et=[s],tt=1,nt,rt;arguments.length>tt;)et.push(arguments[tt++]);if(rt=nt=et[1],!(!isObject(nt)&&s===void 0||isSymbol(s)))return isArray(nt)||(nt=function(it,st){if(typeof rt=="function"&&(st=rt.call(this,it,st)),!isSymbol(st))return st}),et[1]=nt,_stringify.apply($JSON,et)}});$Symbol[PROTOTYPE][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf);setToStringTag($Symbol,"Symbol");setToStringTag(Math,"Math",!0);setToStringTag(global$1.JSON,"JSON",!0);_wksDefine("asyncIterator");_wksDefine("observable");var symbol=_core.exports.Symbol;(function(o){o.exports={default:symbol,__esModule:!0}})(symbol$1);_typeof$1.__esModule=!0;var _iterator=iterator$1.exports,_iterator2=_interopRequireDefault$3(_iterator),_symbol=symbol$1.exports,_symbol2=_interopRequireDefault$3(_symbol),_typeof=typeof _symbol2.default=="function"&&typeof _iterator2.default=="symbol"?function(o){return typeof o}:function(o){return o&&typeof _symbol2.default=="function"&&o.constructor===_symbol2.default&&o!==_symbol2.default.prototype?"symbol":typeof o};function _interopRequireDefault$3(o){return o&&o.__esModule?o:{default:o}}_typeof$1.default=typeof _symbol2.default=="function"&&_typeof(_iterator2.default)==="symbol"?function(o){return typeof o>"u"?"undefined":_typeof(o)}:function(o){return o&&typeof _symbol2.default=="function"&&o.constructor===_symbol2.default&&o!==_symbol2.default.prototype?"symbol":typeof o>"u"?"undefined":_typeof(o)};possibleConstructorReturn.__esModule=!0;var _typeof2$1=_typeof$1,_typeof3$1=_interopRequireDefault$2(_typeof2$1);function _interopRequireDefault$2(o){return o&&o.__esModule?o:{default:o}}possibleConstructorReturn.default=function(o,s){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&((typeof s>"u"?"undefined":(0,_typeof3$1.default)(s))==="object"||typeof s=="function")?s:o};var inherits={},setPrototypeOf$1={exports:{}},_setProto,hasRequired_setProto;function require_setProto(){if(hasRequired_setProto)return _setProto;hasRequired_setProto=1;var o=_isObject,s=_anObject,et=function(tt,nt){if(s(tt),!o(nt)&&nt!==null)throw TypeError(nt+": can't set as prototype!")};return _setProto={set:Object.setPrototypeOf||("__proto__"in{}?function(tt,nt,rt){try{rt=_ctx(Function.call,_objectGopd.f(Object.prototype,"__proto__").set,2),rt(tt,[]),nt=!(tt instanceof Array)}catch{nt=!0}return function(st,ot){return et(st,ot),nt?st.__proto__=ot:rt(st,ot),st}}({},!1):void 0),check:et},_setProto}var $export$1=_export;$export$1($export$1.S,"Object",{setPrototypeOf:require_setProto().set});var setPrototypeOf=_core.exports.Object.setPrototypeOf;(function(o){o.exports={default:setPrototypeOf,__esModule:!0}})(setPrototypeOf$1);var create$1={exports:{}},$export=_export;$export($export.S,"Object",{create:_objectCreate});var $Object=_core.exports.Object,create=function(s,et){return $Object.create(s,et)};(function(o){o.exports={default:create,__esModule:!0}})(create$1);inherits.__esModule=!0;var _setPrototypeOf=setPrototypeOf$1.exports,_setPrototypeOf2=_interopRequireDefault$1(_setPrototypeOf),_create=create$1.exports,_create2=_interopRequireDefault$1(_create),_typeof2=_typeof$1,_typeof3=_interopRequireDefault$1(_typeof2);function _interopRequireDefault$1(o){return o&&o.__esModule?o:{default:o}}inherits.default=function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof s>"u"?"undefined":(0,_typeof3.default)(s)));o.prototype=(0,_create2.default)(s&&s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),s&&(_setPrototypeOf2.default?(0,_setPrototypeOf2.default)(o,s):o.__proto__=s)};var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o(tt,nt,rt,it,st,ot){if(ot!==ReactPropTypesSecret){var at=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw at.name="Invariant Violation",at}}o.isRequired=o;function s(){return o}var et={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return et.PropTypes=et,et};propTypes.exports=factoryWithThrowingShims();var lottie={exports:{}};(function(module,exports){typeof navigator<"u"&&function(o,s){module.exports=s()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(s){_useWebWorker=!!s},getWebWorker=function(){return _useWebWorker},setLocationHref=function(s){locationHref=s},getLocationHref=function(){return locationHref};function createTag(o){return document.createElement(o)}function extendPrototype(o,s){var et,tt=o.length,nt;for(et=0;et<tt;et+=1){nt=o[et].prototype;for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(s.prototype[rt]=nt[rt])}}function getDescriptor(o,s){return Object.getOwnPropertyDescriptor(o,s)}function createProxyFunction(o){function s(){}return s.prototype=o,s}var audioControllerFactory=function(){function o(s){this.audios=[],this.audioFactory=s,this._volume=1,this._isMuted=!1}return o.prototype={addAudio:function(et){this.audios.push(et)},pause:function(){var et,tt=this.audios.length;for(et=0;et<tt;et+=1)this.audios[et].pause()},resume:function(){var et,tt=this.audios.length;for(et=0;et<tt;et+=1)this.audios[et].resume()},setRate:function(et){var tt,nt=this.audios.length;for(tt=0;tt<nt;tt+=1)this.audios[tt].setRate(et)},createAudio:function(et){return this.audioFactory?this.audioFactory(et):window.Howl?new window.Howl({src:[et]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(et){this.audioFactory=et},setVolume:function(et){this._volume=et,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var et,tt=this.audios.length;for(et=0;et<tt;et+=1)this.audios[et].volume(this._volume*(this._isMuted?0:1))}},function(){return new o}}(),createTypedArray=function(){function o(et,tt){var nt=0,rt=[],it;switch(et){case"int16":case"uint8c":it=1;break;default:it=1.1;break}for(nt=0;nt<tt;nt+=1)rt.push(it);return rt}function s(et,tt){return et==="float32"?new Float32Array(tt):et==="int16"?new Int16Array(tt):et==="uint8c"?new Uint8ClampedArray(tt):o(et,tt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?s:o}();function createSizedArray(o){return Array.apply(null,{length:o})}function _typeof$6(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(et){return typeof et}:_typeof$6=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$6(o)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var o=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],s,et=o.length;for(s=0;s<et;s+=1)BMMath[o[s]]=Math[o[s]]})(),BMMath.random=Math.random,BMMath.abs=function(o){var s=_typeof$6(o);if(s==="object"&&o.length){var et=createSizedArray(o.length),tt,nt=o.length;for(tt=0;tt<nt;tt+=1)et[tt]=Math.abs(o[tt]);return et}return Math.abs(o)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(o){o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.display="block",o.style.transformOrigin="0 0",o.style.webkitTransformOrigin="0 0",o.style.backfaceVisibility="visible",o.style.webkitBackfaceVisibility="visible",o.style.transformStyle="preserve-3d",o.style.webkitTransformStyle="preserve-3d",o.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(o,s,et,tt){this.type=o,this.currentTime=s,this.totalTime=et,this.direction=tt<0?-1:1}function BMCompleteEvent(o,s){this.type=o,this.direction=s<0?-1:1}function BMCompleteLoopEvent(o,s,et,tt){this.type=o,this.currentLoop=et,this.totalLoops=s,this.direction=tt<0?-1:1}function BMSegmentStartEvent(o,s,et){this.type=o,this.firstFrame=s,this.totalFrames=et}function BMDestroyEvent(o,s){this.type=o,this.target=s}function BMRenderFrameErrorEvent(o,s){this.type="renderFrameError",this.nativeError=o,this.currentTime=s}function BMConfigErrorEvent(o){this.type="configError",this.nativeError=o}var createElementID=function(){var o=0;return function(){return o+=1,idPrefix$1+"__lottie_element_"+o}}();function HSVtoRGB(o,s,et){var tt,nt,rt,it,st,ot,at,ut;switch(it=Math.floor(o*6),st=o*6-it,ot=et*(1-s),at=et*(1-st*s),ut=et*(1-(1-st)*s),it%6){case 0:tt=et,nt=ut,rt=ot;break;case 1:tt=at,nt=et,rt=ot;break;case 2:tt=ot,nt=et,rt=ut;break;case 3:tt=ot,nt=at,rt=et;break;case 4:tt=ut,nt=ot,rt=et;break;case 5:tt=et,nt=ot,rt=at;break}return[tt,nt,rt]}function RGBtoHSV(o,s,et){var tt=Math.max(o,s,et),nt=Math.min(o,s,et),rt=tt-nt,it,st=tt===0?0:rt/tt,ot=tt/255;switch(tt){case nt:it=0;break;case o:it=s-et+rt*(s<et?6:0),it/=6*rt;break;case s:it=et-o+rt*2,it/=6*rt;break;case et:it=o-s+rt*4,it/=6*rt;break}return[it,st,ot]}function addSaturationToRGB(o,s){var et=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return et[1]+=s,et[1]>1?et[1]=1:et[1]<=0&&(et[1]=0),HSVtoRGB(et[0],et[1],et[2])}function addBrightnessToRGB(o,s){var et=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return et[2]+=s,et[2]>1?et[2]=1:et[2]<0&&(et[2]=0),HSVtoRGB(et[0],et[1],et[2])}function addHueToRGB(o,s){var et=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return et[0]+=s/360,et[0]>1?et[0]-=1:et[0]<0&&(et[0]+=1),HSVtoRGB(et[0],et[1],et[2])}var rgbToHex=function(){var o=[],s,et;for(s=0;s<256;s+=1)et=s.toString(16),o[s]=et.length===1?"0"+et:et;return function(tt,nt,rt){return tt<0&&(tt=0),nt<0&&(nt=0),rt<0&&(rt=0),"#"+o[tt]+o[nt]+o[rt]}}(),setSubframeEnabled=function(s){subframeEnabled=!!s},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(s){expressionsPlugin=s},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(s){defaultCurveSegments=s},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(s){idPrefix$1=s};function createNS(o){return document.createElementNS(svgNS,o)}function _typeof$5(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(et){return typeof et}:_typeof$5=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$5(o)}var dataManager=function(){var o=1,s=[],et,tt,nt={onmessage:function(){},postMessage:function(dt){et({data:dt})}},rt={postMessage:function(dt){nt.onmessage({data:dt})}};function it(ft){if(window.Worker&&window.Blob&&getWebWorker()){var dt=new Blob(["var _workerSelf = self; self.onmessage = ",ft.toString()],{type:"text/javascript"}),vt=URL.createObjectURL(dt);return new Worker(vt)}return et=ft,nt}function st(){tt||(tt=it(function(dt){function vt(){function _t($t,Ft){var It,Tt,Pt=$t.length,Rt,Vt,Ot,Xt;for(Tt=0;Tt<Pt;Tt+=1)if(It=$t[Tt],"ks"in It&&!It.completed){if(It.completed=!0,It.tt&&($t[Tt-1].td=It.tt),It.hasMask){var Kt=It.masksProperties;for(Vt=Kt.length,Rt=0;Rt<Vt;Rt+=1)if(Kt[Rt].pt.k.i)bt(Kt[Rt].pt.k);else for(Xt=Kt[Rt].pt.k.length,Ot=0;Ot<Xt;Ot+=1)Kt[Rt].pt.k[Ot].s&&bt(Kt[Rt].pt.k[Ot].s[0]),Kt[Rt].pt.k[Ot].e&&bt(Kt[Rt].pt.k[Ot].e[0])}It.ty===0?(It.layers=yt(It.refId,Ft),_t(It.layers,Ft)):It.ty===4?xt(It.shapes):It.ty===5&&Ht(It)}}function pt($t,Ft){if($t){var It=0,Tt=$t.length;for(It=0;It<Tt;It+=1)$t[It].t===1&&($t[It].data.layers=yt($t[It].data.refId,Ft),_t($t[It].data.layers,Ft))}}function mt($t,Ft){for(var It=0,Tt=Ft.length;It<Tt;){if(Ft[It].id===$t)return Ft[It];It+=1}return null}function yt($t,Ft){var It=mt($t,Ft);return It?It.layers.__used?JSON.parse(JSON.stringify(It.layers)):(It.layers.__used=!0,It.layers):null}function xt($t){var Ft,It=$t.length,Tt,Pt;for(Ft=It-1;Ft>=0;Ft-=1)if($t[Ft].ty==="sh")if($t[Ft].ks.k.i)bt($t[Ft].ks.k);else for(Pt=$t[Ft].ks.k.length,Tt=0;Tt<Pt;Tt+=1)$t[Ft].ks.k[Tt].s&&bt($t[Ft].ks.k[Tt].s[0]),$t[Ft].ks.k[Tt].e&&bt($t[Ft].ks.k[Tt].e[0]);else $t[Ft].ty==="gr"&&xt($t[Ft].it)}function bt($t){var Ft,It=$t.i.length;for(Ft=0;Ft<It;Ft+=1)$t.i[Ft][0]+=$t.v[Ft][0],$t.i[Ft][1]+=$t.v[Ft][1],$t.o[Ft][0]+=$t.v[Ft][0],$t.o[Ft][1]+=$t.v[Ft][1]}function wt($t,Ft){var It=Ft?Ft.split("."):[100,100,100];return $t[0]>It[0]?!0:It[0]>$t[0]?!1:$t[1]>It[1]?!0:It[1]>$t[1]?!1:$t[2]>It[2]?!0:It[2]>$t[2]?!1:null}var Ct=function(){var $t=[4,4,14];function Ft(Tt){var Pt=Tt.t.d;Tt.t.d={k:[{s:Pt,t:0}]}}function It(Tt){var Pt,Rt=Tt.length;for(Pt=0;Pt<Rt;Pt+=1)Tt[Pt].ty===5&&Ft(Tt[Pt])}return function(Tt){if(wt($t,Tt.v)&&(It(Tt.layers),Tt.assets)){var Pt,Rt=Tt.assets.length;for(Pt=0;Pt<Rt;Pt+=1)Tt.assets[Pt].layers&&It(Tt.assets[Pt].layers)}}}(),Et=function(){var $t=[4,7,99];return function(Ft){if(Ft.chars&&!wt($t,Ft.v)){var It,Tt=Ft.chars.length;for(It=0;It<Tt;It+=1){var Pt=Ft.chars[It];Pt.data&&Pt.data.shapes&&(xt(Pt.data.shapes),Pt.data.ip=0,Pt.data.op=99999,Pt.data.st=0,Pt.data.sr=1,Pt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ft.chars[It].t||(Pt.data.shapes.push({ty:"no"}),Pt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),kt=function(){var $t=[5,7,15];function Ft(Tt){var Pt=Tt.t.p;typeof Pt.a=="number"&&(Pt.a={a:0,k:Pt.a}),typeof Pt.p=="number"&&(Pt.p={a:0,k:Pt.p}),typeof Pt.r=="number"&&(Pt.r={a:0,k:Pt.r})}function It(Tt){var Pt,Rt=Tt.length;for(Pt=0;Pt<Rt;Pt+=1)Tt[Pt].ty===5&&Ft(Tt[Pt])}return function(Tt){if(wt($t,Tt.v)&&(It(Tt.layers),Tt.assets)){var Pt,Rt=Tt.assets.length;for(Pt=0;Pt<Rt;Pt+=1)Tt.assets[Pt].layers&&It(Tt.assets[Pt].layers)}}}(),Dt=function(){var $t=[4,1,9];function Ft(Tt){var Pt,Rt=Tt.length,Vt,Ot;for(Pt=0;Pt<Rt;Pt+=1)if(Tt[Pt].ty==="gr")Ft(Tt[Pt].it);else if(Tt[Pt].ty==="fl"||Tt[Pt].ty==="st")if(Tt[Pt].c.k&&Tt[Pt].c.k[0].i)for(Ot=Tt[Pt].c.k.length,Vt=0;Vt<Ot;Vt+=1)Tt[Pt].c.k[Vt].s&&(Tt[Pt].c.k[Vt].s[0]/=255,Tt[Pt].c.k[Vt].s[1]/=255,Tt[Pt].c.k[Vt].s[2]/=255,Tt[Pt].c.k[Vt].s[3]/=255),Tt[Pt].c.k[Vt].e&&(Tt[Pt].c.k[Vt].e[0]/=255,Tt[Pt].c.k[Vt].e[1]/=255,Tt[Pt].c.k[Vt].e[2]/=255,Tt[Pt].c.k[Vt].e[3]/=255);else Tt[Pt].c.k[0]/=255,Tt[Pt].c.k[1]/=255,Tt[Pt].c.k[2]/=255,Tt[Pt].c.k[3]/=255}function It(Tt){var Pt,Rt=Tt.length;for(Pt=0;Pt<Rt;Pt+=1)Tt[Pt].ty===4&&Ft(Tt[Pt].shapes)}return function(Tt){if(wt($t,Tt.v)&&(It(Tt.layers),Tt.assets)){var Pt,Rt=Tt.assets.length;for(Pt=0;Pt<Rt;Pt+=1)Tt.assets[Pt].layers&&It(Tt.assets[Pt].layers)}}}(),zt=function(){var $t=[4,4,18];function Ft(Tt){var Pt,Rt=Tt.length,Vt,Ot;for(Pt=Rt-1;Pt>=0;Pt-=1)if(Tt[Pt].ty==="sh")if(Tt[Pt].ks.k.i)Tt[Pt].ks.k.c=Tt[Pt].closed;else for(Ot=Tt[Pt].ks.k.length,Vt=0;Vt<Ot;Vt+=1)Tt[Pt].ks.k[Vt].s&&(Tt[Pt].ks.k[Vt].s[0].c=Tt[Pt].closed),Tt[Pt].ks.k[Vt].e&&(Tt[Pt].ks.k[Vt].e[0].c=Tt[Pt].closed);else Tt[Pt].ty==="gr"&&Ft(Tt[Pt].it)}function It(Tt){var Pt,Rt,Vt=Tt.length,Ot,Xt,Kt,fn;for(Rt=0;Rt<Vt;Rt+=1){if(Pt=Tt[Rt],Pt.hasMask){var Nt=Pt.masksProperties;for(Xt=Nt.length,Ot=0;Ot<Xt;Ot+=1)if(Nt[Ot].pt.k.i)Nt[Ot].pt.k.c=Nt[Ot].cl;else for(fn=Nt[Ot].pt.k.length,Kt=0;Kt<fn;Kt+=1)Nt[Ot].pt.k[Kt].s&&(Nt[Ot].pt.k[Kt].s[0].c=Nt[Ot].cl),Nt[Ot].pt.k[Kt].e&&(Nt[Ot].pt.k[Kt].e[0].c=Nt[Ot].cl)}Pt.ty===4&&Ft(Pt.shapes)}}return function(Tt){if(wt($t,Tt.v)&&(It(Tt.layers),Tt.assets)){var Pt,Rt=Tt.assets.length;for(Pt=0;Pt<Rt;Pt+=1)Tt.assets[Pt].layers&&It(Tt.assets[Pt].layers)}}}();function Wt($t){$t.__complete||(Dt($t),Ct($t),Et($t),kt($t),zt($t),_t($t.layers,$t.assets),pt($t.chars,$t.assets),$t.__complete=!0)}function Ht($t){$t.t.a.length===0&&"m"in $t.t.p}var Gt={};return Gt.completeData=Wt,Gt.checkColors=Dt,Gt.checkChars=Et,Gt.checkPathProperties=kt,Gt.checkShapes=zt,Gt.completeLayers=_t,Gt}if(rt.dataManager||(rt.dataManager=vt()),rt.assetLoader||(rt.assetLoader=function(){function _t(mt){var yt=mt.getResponseHeader("content-type");return yt&&mt.responseType==="json"&&yt.indexOf("json")!==-1||mt.response&&_typeof$5(mt.response)==="object"?mt.response:mt.response&&typeof mt.response=="string"?JSON.parse(mt.response):mt.responseText?JSON.parse(mt.responseText):null}function pt(mt,yt,xt,bt){var wt,Ct=new XMLHttpRequest;try{Ct.responseType="json"}catch{}Ct.onreadystatechange=function(){if(Ct.readyState===4)if(Ct.status===200)wt=_t(Ct),xt(wt);else try{wt=_t(Ct),xt(wt)}catch(Et){bt&&bt(Et)}};try{Ct.open("GET",mt,!0)}catch{Ct.open("GET",yt+"/"+mt,!0)}Ct.send()}return{load:pt}}()),dt.data.type==="loadAnimation")rt.assetLoader.load(dt.data.path,dt.data.fullPath,function(_t){rt.dataManager.completeData(_t),rt.postMessage({id:dt.data.id,payload:_t,status:"success"})},function(){rt.postMessage({id:dt.data.id,status:"error"})});else if(dt.data.type==="complete"){var gt=dt.data.animation;rt.dataManager.completeData(gt),rt.postMessage({id:dt.data.id,payload:gt,status:"success"})}else dt.data.type==="loadData"&&rt.assetLoader.load(dt.data.path,dt.data.fullPath,function(_t){rt.postMessage({id:dt.data.id,payload:_t,status:"success"})},function(){rt.postMessage({id:dt.data.id,status:"error"})})}),tt.onmessage=function(ft){var dt=ft.data,vt=dt.id,gt=s[vt];s[vt]=null,dt.status==="success"?gt.onComplete(dt.payload):gt.onError&&gt.onError()})}function ot(ft,dt){o+=1;var vt="processId_"+o;return s[vt]={onComplete:ft,onError:dt},vt}function at(ft,dt,vt){st();var gt=ot(dt,vt);tt.postMessage({type:"loadAnimation",path:ft,fullPath:window.location.origin+window.location.pathname,id:gt})}function ut(ft,dt,vt){st();var gt=ot(dt,vt);tt.postMessage({type:"loadData",path:ft,fullPath:window.location.origin+window.location.pathname,id:gt})}function ht(ft,dt,vt){st();var gt=ot(dt,vt);tt.postMessage({type:"complete",animation:ft,id:gt})}return{loadAnimation:at,loadData:ut,completeAnimation:ht}}(),ImagePreloader=function(){var o=function(){var pt=createTag("canvas");pt.width=1,pt.height=1;var mt=pt.getContext("2d");return mt.fillStyle="rgba(0,0,0,0)",mt.fillRect(0,0,1,1),pt}();function s(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function et(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tt(pt,mt,yt){var xt="";if(pt.e)xt=pt.p;else if(mt){var bt=pt.p;bt.indexOf("images/")!==-1&&(bt=bt.split("/")[1]),xt=mt+bt}else xt=yt,xt+=pt.u?pt.u:"",xt+=pt.p;return xt}function nt(pt){var mt=0,yt=setInterval(function(){var xt=pt.getBBox();(xt.width||mt>500)&&(this._imageLoaded(),clearInterval(yt)),mt+=1}.bind(this),50)}function rt(pt){var mt=tt(pt,this.assetsPath,this.path),yt=createNS("image");isSafari?this.testImageLoaded(yt):yt.addEventListener("load",this._imageLoaded,!1),yt.addEventListener("error",function(){xt.img=o,this._imageLoaded()}.bind(this),!1),yt.setAttributeNS("http://www.w3.org/1999/xlink","href",mt),this._elementHelper.append?this._elementHelper.append(yt):this._elementHelper.appendChild(yt);var xt={img:yt,assetData:pt};return xt}function it(pt){var mt=tt(pt,this.assetsPath,this.path),yt=createTag("img");yt.crossOrigin="anonymous",yt.addEventListener("load",this._imageLoaded,!1),yt.addEventListener("error",function(){xt.img=o,this._imageLoaded()}.bind(this),!1),yt.src=mt;var xt={img:yt,assetData:pt};return xt}function st(pt){var mt={assetData:pt},yt=tt(pt,this.assetsPath,this.path);return dataManager.loadData(yt,function(xt){mt.img=xt,this._footageLoaded()}.bind(this),function(){mt.img={},this._footageLoaded()}.bind(this)),mt}function ot(pt,mt){this.imagesLoadedCb=mt;var yt,xt=pt.length;for(yt=0;yt<xt;yt+=1)pt[yt].layers||(!pt[yt].t||pt[yt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(pt[yt]))):pt[yt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(pt[yt]))))}function at(pt){this.path=pt||""}function ut(pt){this.assetsPath=pt||""}function ht(pt){for(var mt=0,yt=this.images.length;mt<yt;){if(this.images[mt].assetData===pt)return this.images[mt].img;mt+=1}return null}function ft(){this.imagesLoadedCb=null,this.images.length=0}function dt(){return this.totalImages===this.loadedAssets}function vt(){return this.totalFootages===this.loadedFootagesCount}function gt(pt,mt){pt==="svg"?(this._elementHelper=mt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function _t(){this._imageLoaded=s.bind(this),this._footageLoaded=et.bind(this),this.testImageLoaded=nt.bind(this),this.createFootageData=st.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return _t.prototype={loadAssets:ot,setAssetsPath:ut,setPath:at,loadedImages:dt,loadedFootages:vt,destroy:ft,getAsset:ht,createImgData:it,createImageData:rt,imageLoaded:s,footageLoaded:et,setCacheType:gt},_t}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(s,et){if(this._cbs[s])for(var tt=this._cbs[s],nt=0;nt<tt.length;nt+=1)tt[nt](et)},addEventListener:function(s,et){return this._cbs[s]||(this._cbs[s]=[]),this._cbs[s].push(et),function(){this.removeEventListener(s,et)}.bind(this)},removeEventListener:function(s,et){if(!et)this._cbs[s]=null;else if(this._cbs[s]){for(var tt=0,nt=this._cbs[s].length;tt<nt;)this._cbs[s][tt]===et&&(this._cbs[s].splice(tt,1),tt-=1,nt-=1),tt+=1;this._cbs[s].length||(this._cbs[s]=null)}}};var markerParser=function(){function o(s){for(var et=s.split(`\r
`),tt={},nt,rt=0,it=0;it<et.length;it+=1)nt=et[it].split(":"),nt.length===2&&(tt[nt[0]]=nt[1].trim(),rt+=1);if(rt===0)throw new Error;return tt}return function(s){for(var et=[],tt=0;tt<s.length;tt+=1){var nt=s[tt],rt={time:nt.tm,duration:nt.dr};try{rt.payload=JSON.parse(s[tt].cm)}catch{try{rt.payload=o(s[tt].cm)}catch{rt.payload={name:s[tt].cm}}}et.push(rt)}return et}}(),ProjectInterface=function(){function o(s){this.compositions.push(s)}return function(){function s(et){for(var tt=0,nt=this.compositions.length;tt<nt;){if(this.compositions[tt].data&&this.compositions[tt].data.nm===et)return this.compositions[tt].prepareFrame&&this.compositions[tt].data.xt&&this.compositions[tt].prepareFrame(this.currentFrame),this.compositions[tt].compInterface;tt+=1}return null}return s.compositions=[],s.currentFrame=0,s.registerComposition=o,s}}(),renderers={},registerRenderer=function(s,et){renderers[s]=et};function getRenderer(o){return renderers[o]}function _typeof$4(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(et){return typeof et}:_typeof$4=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$4(o)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(o){(o.wrapper||o.container)&&(this.wrapper=o.wrapper||o.container);var s="svg";o.animType?s=o.animType:o.renderer&&(s=o.renderer);var et=getRenderer(s);this.renderer=new et(this,o.rendererSettings),this.imagePreloader.setCacheType(s,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=s,o.loop===""||o.loop===null||o.loop===void 0||o.loop===!0?this.loop=!0:o.loop===!1?this.loop=!1:this.loop=parseInt(o.loop,10),this.autoplay="autoplay"in o?o.autoplay:!0,this.name=o.name?o.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(o,"autoloadSegments")?o.autoloadSegments:!0,this.assetsPath=o.assetsPath,this.initialSegment=o.initialSegment,o.audioFactory&&this.audioController.setAudioFactory(o.audioFactory),o.animationData?this.setupAnimation(o.animationData):o.path&&(o.path.lastIndexOf("\\")!==-1?this.path=o.path.substr(0,o.path.lastIndexOf("\\")+1):this.path=o.path.substr(0,o.path.lastIndexOf("/")+1),this.fileName=o.path.substr(o.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(o.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(o){dataManager.completeAnimation(o,this.configAnimation)},AnimationItem.prototype.setData=function(o,s){s&&_typeof$4(s)!=="object"&&(s=JSON.parse(s));var et={wrapper:o,animationData:s},tt=o.attributes;et.path=tt.getNamedItem("data-animation-path")?tt.getNamedItem("data-animation-path").value:tt.getNamedItem("data-bm-path")?tt.getNamedItem("data-bm-path").value:tt.getNamedItem("bm-path")?tt.getNamedItem("bm-path").value:"",et.animType=tt.getNamedItem("data-anim-type")?tt.getNamedItem("data-anim-type").value:tt.getNamedItem("data-bm-type")?tt.getNamedItem("data-bm-type").value:tt.getNamedItem("bm-type")?tt.getNamedItem("bm-type").value:tt.getNamedItem("data-bm-renderer")?tt.getNamedItem("data-bm-renderer").value:tt.getNamedItem("bm-renderer")?tt.getNamedItem("bm-renderer").value:"canvas";var nt=tt.getNamedItem("data-anim-loop")?tt.getNamedItem("data-anim-loop").value:tt.getNamedItem("data-bm-loop")?tt.getNamedItem("data-bm-loop").value:tt.getNamedItem("bm-loop")?tt.getNamedItem("bm-loop").value:"";nt==="false"?et.loop=!1:nt==="true"?et.loop=!0:nt!==""&&(et.loop=parseInt(nt,10));var rt=tt.getNamedItem("data-anim-autoplay")?tt.getNamedItem("data-anim-autoplay").value:tt.getNamedItem("data-bm-autoplay")?tt.getNamedItem("data-bm-autoplay").value:tt.getNamedItem("bm-autoplay")?tt.getNamedItem("bm-autoplay").value:!0;et.autoplay=rt!=="false",et.name=tt.getNamedItem("data-name")?tt.getNamedItem("data-name").value:tt.getNamedItem("data-bm-name")?tt.getNamedItem("data-bm-name").value:tt.getNamedItem("bm-name")?tt.getNamedItem("bm-name").value:"";var it=tt.getNamedItem("data-anim-prerender")?tt.getNamedItem("data-anim-prerender").value:tt.getNamedItem("data-bm-prerender")?tt.getNamedItem("data-bm-prerender").value:tt.getNamedItem("bm-prerender")?tt.getNamedItem("bm-prerender").value:"";it==="false"&&(et.prerender=!1),this.setParams(et)},AnimationItem.prototype.includeLayers=function(o){o.op>this.animationData.op&&(this.animationData.op=o.op,this.totalFrames=Math.floor(o.op-this.animationData.ip));var s=this.animationData.layers,et,tt=s.length,nt=o.layers,rt,it=nt.length;for(rt=0;rt<it;rt+=1)for(et=0;et<tt;){if(s[et].id===nt[rt].id){s[et]=nt[rt];break}et+=1}if((o.chars||o.fonts)&&(this.renderer.globalData.fontManager.addChars(o.chars),this.renderer.globalData.fontManager.addFonts(o.fonts,this.renderer.globalData.defs)),o.assets)for(tt=o.assets.length,et=0;et<tt;et+=1)this.animationData.assets.push(o.assets[et]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(o){this.animationData=o;var s=getExpressionsPlugin();s&&s.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var o=this.animationData.segments;if(!o||o.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var s=o.shift();this.timeCompleted=s.time*this.frameRate;var et=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(et,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var o=this.animationData.segments;o||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(o){if(!!this.renderer)try{this.animationData=o,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(o),o.assets||(o.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(o.assets),this.markers=markerParser(o.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(s){this.triggerConfigError(s)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var o=getExpressionsPlugin();o&&o.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(o){this.isSubframeEnabled=!!o},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(o){this.triggerRenderFrameError(o)}},AnimationItem.prototype.play=function(o){o&&this.name!==o||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(o){o&&this.name!==o||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(o){o&&this.name!==o||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(o){o&&this.name!==o||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(o){for(var s,et=0;et<this.markers.length;et+=1)if(s=this.markers[et],s.payload&&s.payload.name===o)return s;return null},AnimationItem.prototype.goToAndStop=function(o,s,et){if(!(et&&this.name!==et)){var tt=Number(o);if(isNaN(tt)){var nt=this.getMarkerData(o);nt&&this.goToAndStop(nt.time,!0)}else s?this.setCurrentRawFrameValue(o):this.setCurrentRawFrameValue(o*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(o,s,et){if(!(et&&this.name!==et)){var tt=Number(o);if(isNaN(tt)){var nt=this.getMarkerData(o);nt&&(nt.duration?this.playSegments([nt.time,nt.time+nt.duration],!0):this.goToAndStop(nt.time,!0))}else this.goToAndStop(tt,s,et);this.play()}},AnimationItem.prototype.advanceTime=function(o){if(!(this.isPaused===!0||this.isLoaded===!1)){var s=this.currentRawFrame+o*this.frameModifier,et=!1;s>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(s>this.totalFrames?s%this.totalFrames:0)||(et=!0,s=this.totalFrames-1):s>=this.totalFrames?(this.playCount+=1,this.checkSegments(s%this.totalFrames)||(this.setCurrentRawFrameValue(s%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(s):s<0?this.checkSegments(s%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+s%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(et=!0,s=0)):this.setCurrentRawFrameValue(s),et&&(this.setCurrentRawFrameValue(s),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(o,s){this.playCount=0,o[1]<o[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=o[0]-o[1],this.timeCompleted=this.totalFrames,this.firstFrame=o[1],this.setCurrentRawFrameValue(this.totalFrames-.001-s)):o[1]>o[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=o[1]-o[0],this.timeCompleted=this.totalFrames,this.firstFrame=o[0],this.setCurrentRawFrameValue(.001+s)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(o,s){var et=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<o?et=o:this.currentRawFrame+this.firstFrame>s&&(et=s-o)),this.firstFrame=o,this.totalFrames=s-o,this.timeCompleted=this.totalFrames,et!==-1&&this.goToAndStop(et,!0)},AnimationItem.prototype.playSegments=function(o,s){if(s&&(this.segments.length=0),_typeof$4(o[0])==="object"){var et,tt=o.length;for(et=0;et<tt;et+=1)this.segments.push(o[et])}else this.segments.push(o);this.segments.length&&s&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(o){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),o&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(o){return this.segments.length?(this.adjustSegment(this.segments.shift(),o),!0):!1},AnimationItem.prototype.destroy=function(o){o&&this.name!==o||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(o){this.currentRawFrame=o,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(o){this.playSpeed=o,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(o){this.playDirection=o<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(o,s){s&&this.name!==s||this.audioController.setVolume(o)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(o){o&&this.name!==o||this.audioController.mute()},AnimationItem.prototype.unmute=function(o){o&&this.name!==o||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(o){var s="";if(o.e)s=o.p;else if(this.assetsPath){var et=o.p;et.indexOf("images/")!==-1&&(et=et.split("/")[1]),s=this.assetsPath+et}else s=this.path,s+=o.u?o.u:"",s+=o.p;return s},AnimationItem.prototype.getAssetData=function(o){for(var s=0,et=this.assets.length;s<et;){if(o===this.assets[s].id)return this.assets[s];s+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(o){return o?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(o,s,et){try{var tt=this.renderer.getElementByPath(o);tt.updateDocumentData(s,et)}catch{}},AnimationItem.prototype.trigger=function(o){if(this._cbs&&this._cbs[o])switch(o){case"enterFrame":this.triggerEvent(o,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(o,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(o,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(o,new BMCompleteEvent(o,this.frameMult));break;case"segmentStart":this.triggerEvent(o,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(o,new BMDestroyEvent(o,this));break;default:this.triggerEvent(o)}o==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameMult)),o==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult)),o==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(o,this.frameMult)),o==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames)),o==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(o,this))},AnimationItem.prototype.triggerRenderFrameError=function(o){var s=new BMRenderFrameErrorEvent(o,this.currentFrame);this.triggerEvent("error",s),this.onError&&this.onError.call(this,s)},AnimationItem.prototype.triggerConfigError=function(o){var s=new BMConfigErrorEvent(o,this.currentFrame);this.triggerEvent("error",s),this.onError&&this.onError.call(this,s)};var animationManager=function(){var o={},s=[],et=0,tt=0,nt=0,rt=!0,it=!1;function st(Ft){for(var It=0,Tt=Ft.target;It<tt;)s[It].animation===Tt&&(s.splice(It,1),It-=1,tt-=1,Tt.isPaused||ht()),It+=1}function ot(Ft,It){if(!Ft)return null;for(var Tt=0;Tt<tt;){if(s[Tt].elem===Ft&&s[Tt].elem!==null)return s[Tt].animation;Tt+=1}var Pt=new AnimationItem;return ft(Pt,Ft),Pt.setData(Ft,It),Pt}function at(){var Ft,It=s.length,Tt=[];for(Ft=0;Ft<It;Ft+=1)Tt.push(s[Ft].animation);return Tt}function ut(){nt+=1,Dt()}function ht(){nt-=1}function ft(Ft,It){Ft.addEventListener("destroy",st),Ft.addEventListener("_active",ut),Ft.addEventListener("_idle",ht),s.push({elem:It,animation:Ft}),tt+=1}function dt(Ft){var It=new AnimationItem;return ft(It,null),It.setParams(Ft),It}function vt(Ft,It){var Tt;for(Tt=0;Tt<tt;Tt+=1)s[Tt].animation.setSpeed(Ft,It)}function gt(Ft,It){var Tt;for(Tt=0;Tt<tt;Tt+=1)s[Tt].animation.setDirection(Ft,It)}function _t(Ft){var It;for(It=0;It<tt;It+=1)s[It].animation.play(Ft)}function pt(Ft){var It=Ft-et,Tt;for(Tt=0;Tt<tt;Tt+=1)s[Tt].animation.advanceTime(It);et=Ft,nt&&!it?window.requestAnimationFrame(pt):rt=!0}function mt(Ft){et=Ft,window.requestAnimationFrame(pt)}function yt(Ft){var It;for(It=0;It<tt;It+=1)s[It].animation.pause(Ft)}function xt(Ft,It,Tt){var Pt;for(Pt=0;Pt<tt;Pt+=1)s[Pt].animation.goToAndStop(Ft,It,Tt)}function bt(Ft){var It;for(It=0;It<tt;It+=1)s[It].animation.stop(Ft)}function wt(Ft){var It;for(It=0;It<tt;It+=1)s[It].animation.togglePause(Ft)}function Ct(Ft){var It;for(It=tt-1;It>=0;It-=1)s[It].animation.destroy(Ft)}function Et(Ft,It,Tt){var Pt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Rt,Vt=Pt.length;for(Rt=0;Rt<Vt;Rt+=1)Tt&&Pt[Rt].setAttribute("data-bm-type",Tt),ot(Pt[Rt],Ft);if(It&&Vt===0){Tt||(Tt="svg");var Ot=document.getElementsByTagName("body")[0];Ot.innerText="";var Xt=createTag("div");Xt.style.width="100%",Xt.style.height="100%",Xt.setAttribute("data-bm-type",Tt),Ot.appendChild(Xt),ot(Xt,Ft)}}function kt(){var Ft;for(Ft=0;Ft<tt;Ft+=1)s[Ft].animation.resize()}function Dt(){!it&&nt&&rt&&(window.requestAnimationFrame(mt),rt=!1)}function zt(){it=!0}function Wt(){it=!1,Dt()}function Ht(Ft,It){var Tt;for(Tt=0;Tt<tt;Tt+=1)s[Tt].animation.setVolume(Ft,It)}function Gt(Ft){var It;for(It=0;It<tt;It+=1)s[It].animation.mute(Ft)}function $t(Ft){var It;for(It=0;It<tt;It+=1)s[It].animation.unmute(Ft)}return o.registerAnimation=ot,o.loadAnimation=dt,o.setSpeed=vt,o.setDirection=gt,o.play=_t,o.pause=yt,o.stop=bt,o.togglePause=wt,o.searchAnimations=Et,o.resize=kt,o.goToAndStop=xt,o.destroy=Ct,o.freeze=zt,o.unfreeze=Wt,o.setVolume=Ht,o.mute=Gt,o.unmute=$t,o.getRegisteredAnimations=at,o}(),BezierFactory=function(){var o={};o.getBezierEasing=et;var s={};function et(mt,yt,xt,bt,wt){var Ct=wt||("bez_"+mt+"_"+yt+"_"+xt+"_"+bt).replace(/\./g,"p");if(s[Ct])return s[Ct];var Et=new pt([mt,yt,xt,bt]);return s[Ct]=Et,Et}var tt=4,nt=.001,rt=1e-7,it=10,st=11,ot=1/(st-1),at=typeof Float32Array=="function";function ut(mt,yt){return 1-3*yt+3*mt}function ht(mt,yt){return 3*yt-6*mt}function ft(mt){return 3*mt}function dt(mt,yt,xt){return((ut(yt,xt)*mt+ht(yt,xt))*mt+ft(yt))*mt}function vt(mt,yt,xt){return 3*ut(yt,xt)*mt*mt+2*ht(yt,xt)*mt+ft(yt)}function gt(mt,yt,xt,bt,wt){var Ct,Et,kt=0;do Et=yt+(xt-yt)/2,Ct=dt(Et,bt,wt)-mt,Ct>0?xt=Et:yt=Et;while(Math.abs(Ct)>rt&&++kt<it);return Et}function _t(mt,yt,xt,bt){for(var wt=0;wt<tt;++wt){var Ct=vt(yt,xt,bt);if(Ct===0)return yt;var Et=dt(yt,xt,bt)-mt;yt-=Et/Ct}return yt}function pt(mt){this._p=mt,this._mSampleValues=at?new Float32Array(st):new Array(st),this._precomputed=!1,this.get=this.get.bind(this)}return pt.prototype={get:function(yt){var xt=this._p[0],bt=this._p[1],wt=this._p[2],Ct=this._p[3];return this._precomputed||this._precompute(),xt===bt&&wt===Ct?yt:yt===0?0:yt===1?1:dt(this._getTForX(yt),bt,Ct)},_precompute:function(){var yt=this._p[0],xt=this._p[1],bt=this._p[2],wt=this._p[3];this._precomputed=!0,(yt!==xt||bt!==wt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var yt=this._p[0],xt=this._p[2],bt=0;bt<st;++bt)this._mSampleValues[bt]=dt(bt*ot,yt,xt)},_getTForX:function(yt){for(var xt=this._p[0],bt=this._p[2],wt=this._mSampleValues,Ct=0,Et=1,kt=st-1;Et!==kt&&wt[Et]<=yt;++Et)Ct+=ot;--Et;var Dt=(yt-wt[Et])/(wt[Et+1]-wt[Et]),zt=Ct+Dt*ot,Wt=vt(zt,xt,bt);return Wt>=nt?_t(yt,zt,xt,bt):Wt===0?zt:gt(yt,Ct,Ct+ot,xt,bt)}},o}(),pooling=function(){function o(s){return s.concat(createSizedArray(s.length))}return{double:o}}(),poolFactory=function(){return function(o,s,et){var tt=0,nt=o,rt=createSizedArray(nt),it={newElement:st,release:ot};function st(){var at;return tt?(tt-=1,at=rt[tt]):at=s(),at}function ot(at){tt===nt&&(rt=pooling.double(rt),nt*=2),et&&et(at),rt[tt]=at,tt+=1}return it}}(),bezierLengthPool=function(){function o(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,o)}(),segmentsLengthPool=function(){function o(){return{lengths:[],totalLength:0}}function s(et){var tt,nt=et.lengths.length;for(tt=0;tt<nt;tt+=1)bezierLengthPool.release(et.lengths[tt]);et.lengths.length=0}return poolFactory(8,o,s)}();function bezFunction(){var o=Math;function s(ft,dt,vt,gt,_t,pt){var mt=ft*gt+dt*_t+vt*pt-_t*gt-pt*ft-vt*dt;return mt>-.001&&mt<.001}function et(ft,dt,vt,gt,_t,pt,mt,yt,xt){if(vt===0&&pt===0&&xt===0)return s(ft,dt,gt,_t,mt,yt);var bt=o.sqrt(o.pow(gt-ft,2)+o.pow(_t-dt,2)+o.pow(pt-vt,2)),wt=o.sqrt(o.pow(mt-ft,2)+o.pow(yt-dt,2)+o.pow(xt-vt,2)),Ct=o.sqrt(o.pow(mt-gt,2)+o.pow(yt-_t,2)+o.pow(xt-pt,2)),Et;return bt>wt?bt>Ct?Et=bt-wt-Ct:Et=Ct-wt-bt:Ct>wt?Et=Ct-wt-bt:Et=wt-bt-Ct,Et>-1e-4&&Et<1e-4}var tt=function(){return function(ft,dt,vt,gt){var _t=getDefaultCurveSegments(),pt,mt,yt,xt,bt,wt=0,Ct,Et=[],kt=[],Dt=bezierLengthPool.newElement();for(yt=vt.length,pt=0;pt<_t;pt+=1){for(bt=pt/(_t-1),Ct=0,mt=0;mt<yt;mt+=1)xt=bmPow(1-bt,3)*ft[mt]+3*bmPow(1-bt,2)*bt*vt[mt]+3*(1-bt)*bmPow(bt,2)*gt[mt]+bmPow(bt,3)*dt[mt],Et[mt]=xt,kt[mt]!==null&&(Ct+=bmPow(Et[mt]-kt[mt],2)),kt[mt]=Et[mt];Ct&&(Ct=bmSqrt(Ct),wt+=Ct),Dt.percents[pt]=bt,Dt.lengths[pt]=wt}return Dt.addedLength=wt,Dt}}();function nt(ft){var dt=segmentsLengthPool.newElement(),vt=ft.c,gt=ft.v,_t=ft.o,pt=ft.i,mt,yt=ft._length,xt=dt.lengths,bt=0;for(mt=0;mt<yt-1;mt+=1)xt[mt]=tt(gt[mt],gt[mt+1],_t[mt],pt[mt+1]),bt+=xt[mt].addedLength;return vt&&yt&&(xt[mt]=tt(gt[mt],gt[0],_t[mt],pt[0]),bt+=xt[mt].addedLength),dt.totalLength=bt,dt}function rt(ft){this.segmentLength=0,this.points=new Array(ft)}function it(ft,dt){this.partialLength=ft,this.point=dt}var st=function(){var ft={};return function(dt,vt,gt,_t){var pt=(dt[0]+"_"+dt[1]+"_"+vt[0]+"_"+vt[1]+"_"+gt[0]+"_"+gt[1]+"_"+_t[0]+"_"+_t[1]).replace(/\./g,"p");if(!ft[pt]){var mt=getDefaultCurveSegments(),yt,xt,bt,wt,Ct,Et=0,kt,Dt,zt=null;dt.length===2&&(dt[0]!==vt[0]||dt[1]!==vt[1])&&s(dt[0],dt[1],vt[0],vt[1],dt[0]+gt[0],dt[1]+gt[1])&&s(dt[0],dt[1],vt[0],vt[1],vt[0]+_t[0],vt[1]+_t[1])&&(mt=2);var Wt=new rt(mt);for(bt=gt.length,yt=0;yt<mt;yt+=1){for(Dt=createSizedArray(bt),Ct=yt/(mt-1),kt=0,xt=0;xt<bt;xt+=1)wt=bmPow(1-Ct,3)*dt[xt]+3*bmPow(1-Ct,2)*Ct*(dt[xt]+gt[xt])+3*(1-Ct)*bmPow(Ct,2)*(vt[xt]+_t[xt])+bmPow(Ct,3)*vt[xt],Dt[xt]=wt,zt!==null&&(kt+=bmPow(Dt[xt]-zt[xt],2));kt=bmSqrt(kt),Et+=kt,Wt.points[yt]=new it(kt,Dt),zt=Dt}Wt.segmentLength=Et,ft[pt]=Wt}return ft[pt]}}();function ot(ft,dt){var vt=dt.percents,gt=dt.lengths,_t=vt.length,pt=bmFloor((_t-1)*ft),mt=ft*dt.addedLength,yt=0;if(pt===_t-1||pt===0||mt===gt[pt])return vt[pt];for(var xt=gt[pt]>mt?-1:1,bt=!0;bt;)if(gt[pt]<=mt&&gt[pt+1]>mt?(yt=(mt-gt[pt])/(gt[pt+1]-gt[pt]),bt=!1):pt+=xt,pt<0||pt>=_t-1){if(pt===_t-1)return vt[pt];bt=!1}return vt[pt]+(vt[pt+1]-vt[pt])*yt}function at(ft,dt,vt,gt,_t,pt){var mt=ot(_t,pt),yt=1-mt,xt=o.round((yt*yt*yt*ft[0]+(mt*yt*yt+yt*mt*yt+yt*yt*mt)*vt[0]+(mt*mt*yt+yt*mt*mt+mt*yt*mt)*gt[0]+mt*mt*mt*dt[0])*1e3)/1e3,bt=o.round((yt*yt*yt*ft[1]+(mt*yt*yt+yt*mt*yt+yt*yt*mt)*vt[1]+(mt*mt*yt+yt*mt*mt+mt*yt*mt)*gt[1]+mt*mt*mt*dt[1])*1e3)/1e3;return[xt,bt]}var ut=createTypedArray("float32",8);function ht(ft,dt,vt,gt,_t,pt,mt){_t<0?_t=0:_t>1&&(_t=1);var yt=ot(_t,mt);pt=pt>1?1:pt;var xt=ot(pt,mt),bt,wt=ft.length,Ct=1-yt,Et=1-xt,kt=Ct*Ct*Ct,Dt=yt*Ct*Ct*3,zt=yt*yt*Ct*3,Wt=yt*yt*yt,Ht=Ct*Ct*Et,Gt=yt*Ct*Et+Ct*yt*Et+Ct*Ct*xt,$t=yt*yt*Et+Ct*yt*xt+yt*Ct*xt,Ft=yt*yt*xt,It=Ct*Et*Et,Tt=yt*Et*Et+Ct*xt*Et+Ct*Et*xt,Pt=yt*xt*Et+Ct*xt*xt+yt*Et*xt,Rt=yt*xt*xt,Vt=Et*Et*Et,Ot=xt*Et*Et+Et*xt*Et+Et*Et*xt,Xt=xt*xt*Et+Et*xt*xt+xt*Et*xt,Kt=xt*xt*xt;for(bt=0;bt<wt;bt+=1)ut[bt*4]=o.round((kt*ft[bt]+Dt*vt[bt]+zt*gt[bt]+Wt*dt[bt])*1e3)/1e3,ut[bt*4+1]=o.round((Ht*ft[bt]+Gt*vt[bt]+$t*gt[bt]+Ft*dt[bt])*1e3)/1e3,ut[bt*4+2]=o.round((It*ft[bt]+Tt*vt[bt]+Pt*gt[bt]+Rt*dt[bt])*1e3)/1e3,ut[bt*4+3]=o.round((Vt*ft[bt]+Ot*vt[bt]+Xt*gt[bt]+Kt*dt[bt])*1e3)/1e3;return ut}return{getSegmentsLength:nt,getNewSegment:ht,getPointInSegment:at,buildBezierData:st,pointOnLine2D:s,pointOnLine3D:et}}var bez=bezFunction(),PropertyFactory=function(){var o=initialDefaultFrame,s=Math.abs;function et(_t,pt){var mt=this.offsetTime,yt;this.propType==="multidimensional"&&(yt=createTypedArray("float32",this.pv.length));for(var xt=pt.lastIndex,bt=xt,wt=this.keyframes.length-1,Ct=!0,Et,kt,Dt;Ct;){if(Et=this.keyframes[bt],kt=this.keyframes[bt+1],bt===wt-1&&_t>=kt.t-mt){Et.h&&(Et=kt),xt=0;break}if(kt.t-mt>_t){xt=bt;break}bt<wt-1?bt+=1:(xt=0,Ct=!1)}Dt=this.keyframesMetadata[bt]||{};var zt,Wt,Ht,Gt,$t,Ft,It=kt.t-mt,Tt=Et.t-mt,Pt;if(Et.to){Dt.bezierData||(Dt.bezierData=bez.buildBezierData(Et.s,kt.s||Et.e,Et.to,Et.ti));var Rt=Dt.bezierData;if(_t>=It||_t<Tt){var Vt=_t>=It?Rt.points.length-1:0;for(Wt=Rt.points[Vt].point.length,zt=0;zt<Wt;zt+=1)yt[zt]=Rt.points[Vt].point[zt]}else{Dt.__fnct?Ft=Dt.__fnct:(Ft=BezierFactory.getBezierEasing(Et.o.x,Et.o.y,Et.i.x,Et.i.y,Et.n).get,Dt.__fnct=Ft),Ht=Ft((_t-Tt)/(It-Tt));var Ot=Rt.segmentLength*Ht,Xt,Kt=pt.lastFrame<_t&&pt._lastKeyframeIndex===bt?pt._lastAddedLength:0;for($t=pt.lastFrame<_t&&pt._lastKeyframeIndex===bt?pt._lastPoint:0,Ct=!0,Gt=Rt.points.length;Ct;){if(Kt+=Rt.points[$t].partialLength,Ot===0||Ht===0||$t===Rt.points.length-1){for(Wt=Rt.points[$t].point.length,zt=0;zt<Wt;zt+=1)yt[zt]=Rt.points[$t].point[zt];break}else if(Ot>=Kt&&Ot<Kt+Rt.points[$t+1].partialLength){for(Xt=(Ot-Kt)/Rt.points[$t+1].partialLength,Wt=Rt.points[$t].point.length,zt=0;zt<Wt;zt+=1)yt[zt]=Rt.points[$t].point[zt]+(Rt.points[$t+1].point[zt]-Rt.points[$t].point[zt])*Xt;break}$t<Gt-1?$t+=1:Ct=!1}pt._lastPoint=$t,pt._lastAddedLength=Kt-Rt.points[$t].partialLength,pt._lastKeyframeIndex=bt}}else{var fn,Nt,vn,on,bn;if(wt=Et.s.length,Pt=kt.s||Et.e,this.sh&&Et.h!==1)if(_t>=It)yt[0]=Pt[0],yt[1]=Pt[1],yt[2]=Pt[2];else if(_t<=Tt)yt[0]=Et.s[0],yt[1]=Et.s[1],yt[2]=Et.s[2];else{var cn=rt(Et.s),xn=rt(Pt),tn=(_t-Tt)/(It-Tt);nt(yt,tt(cn,xn,tn))}else for(bt=0;bt<wt;bt+=1)Et.h!==1&&(_t>=It?Ht=1:_t<Tt?Ht=0:(Et.o.x.constructor===Array?(Dt.__fnct||(Dt.__fnct=[]),Dt.__fnct[bt]?Ft=Dt.__fnct[bt]:(fn=Et.o.x[bt]===void 0?Et.o.x[0]:Et.o.x[bt],Nt=Et.o.y[bt]===void 0?Et.o.y[0]:Et.o.y[bt],vn=Et.i.x[bt]===void 0?Et.i.x[0]:Et.i.x[bt],on=Et.i.y[bt]===void 0?Et.i.y[0]:Et.i.y[bt],Ft=BezierFactory.getBezierEasing(fn,Nt,vn,on).get,Dt.__fnct[bt]=Ft)):Dt.__fnct?Ft=Dt.__fnct:(fn=Et.o.x,Nt=Et.o.y,vn=Et.i.x,on=Et.i.y,Ft=BezierFactory.getBezierEasing(fn,Nt,vn,on).get,Et.keyframeMetadata=Ft),Ht=Ft((_t-Tt)/(It-Tt)))),Pt=kt.s||Et.e,bn=Et.h===1?Et.s[bt]:Et.s[bt]+(Pt[bt]-Et.s[bt])*Ht,this.propType==="multidimensional"?yt[bt]=bn:yt=bn}return pt.lastIndex=xt,yt}function tt(_t,pt,mt){var yt=[],xt=_t[0],bt=_t[1],wt=_t[2],Ct=_t[3],Et=pt[0],kt=pt[1],Dt=pt[2],zt=pt[3],Wt,Ht,Gt,$t,Ft;return Ht=xt*Et+bt*kt+wt*Dt+Ct*zt,Ht<0&&(Ht=-Ht,Et=-Et,kt=-kt,Dt=-Dt,zt=-zt),1-Ht>1e-6?(Wt=Math.acos(Ht),Gt=Math.sin(Wt),$t=Math.sin((1-mt)*Wt)/Gt,Ft=Math.sin(mt*Wt)/Gt):($t=1-mt,Ft=mt),yt[0]=$t*xt+Ft*Et,yt[1]=$t*bt+Ft*kt,yt[2]=$t*wt+Ft*Dt,yt[3]=$t*Ct+Ft*zt,yt}function nt(_t,pt){var mt=pt[0],yt=pt[1],xt=pt[2],bt=pt[3],wt=Math.atan2(2*yt*bt-2*mt*xt,1-2*yt*yt-2*xt*xt),Ct=Math.asin(2*mt*yt+2*xt*bt),Et=Math.atan2(2*mt*bt-2*yt*xt,1-2*mt*mt-2*xt*xt);_t[0]=wt/degToRads,_t[1]=Ct/degToRads,_t[2]=Et/degToRads}function rt(_t){var pt=_t[0]*degToRads,mt=_t[1]*degToRads,yt=_t[2]*degToRads,xt=Math.cos(pt/2),bt=Math.cos(mt/2),wt=Math.cos(yt/2),Ct=Math.sin(pt/2),Et=Math.sin(mt/2),kt=Math.sin(yt/2),Dt=xt*bt*wt-Ct*Et*kt,zt=Ct*Et*wt+xt*bt*kt,Wt=Ct*bt*wt+xt*Et*kt,Ht=xt*Et*wt-Ct*bt*kt;return[zt,Wt,Ht,Dt]}function it(){var _t=this.comp.renderedFrame-this.offsetTime,pt=this.keyframes[0].t-this.offsetTime,mt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(_t===this._caching.lastFrame||this._caching.lastFrame!==o&&(this._caching.lastFrame>=mt&&_t>=mt||this._caching.lastFrame<pt&&_t<pt))){this._caching.lastFrame>=_t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var yt=this.interpolateValue(_t,this._caching);this.pv=yt}return this._caching.lastFrame=_t,this.pv}function st(_t){var pt;if(this.propType==="unidimensional")pt=_t*this.mult,s(this.v-pt)>1e-5&&(this.v=pt,this._mdf=!0);else for(var mt=0,yt=this.v.length;mt<yt;)pt=_t[mt]*this.mult,s(this.v[mt]-pt)>1e-5&&(this.v[mt]=pt,this._mdf=!0),mt+=1}function ot(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var _t,pt=this.effectsSequence.length,mt=this.kf?this.pv:this.data.k;for(_t=0;_t<pt;_t+=1)mt=this.effectsSequence[_t](mt);this.setVValue(mt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function at(_t){this.effectsSequence.push(_t),this.container.addDynamicProperty(this)}function ut(_t,pt,mt,yt){this.propType="unidimensional",this.mult=mt||1,this.data=pt,this.v=mt?pt.k*mt:pt.k,this.pv=pt.k,this._mdf=!1,this.elem=_t,this.container=yt,this.comp=_t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=ot,this.setVValue=st,this.addEffect=at}function ht(_t,pt,mt,yt){this.propType="multidimensional",this.mult=mt||1,this.data=pt,this._mdf=!1,this.elem=_t,this.container=yt,this.comp=_t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var xt,bt=pt.k.length;for(this.v=createTypedArray("float32",bt),this.pv=createTypedArray("float32",bt),this.vel=createTypedArray("float32",bt),xt=0;xt<bt;xt+=1)this.v[xt]=pt.k[xt]*this.mult,this.pv[xt]=pt.k[xt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=ot,this.setVValue=st,this.addEffect=at}function ft(_t,pt,mt,yt){this.propType="unidimensional",this.keyframes=pt.k,this.keyframesMetadata=[],this.offsetTime=_t.data.st,this.frameId=-1,this._caching={lastFrame:o,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=pt,this.mult=mt||1,this.elem=_t,this.container=yt,this.comp=_t.comp,this.v=o,this.pv=o,this._isFirstFrame=!0,this.getValue=ot,this.setVValue=st,this.interpolateValue=et,this.effectsSequence=[it.bind(this)],this.addEffect=at}function dt(_t,pt,mt,yt){this.propType="multidimensional";var xt,bt=pt.k.length,wt,Ct,Et,kt;for(xt=0;xt<bt-1;xt+=1)pt.k[xt].to&&pt.k[xt].s&&pt.k[xt+1]&&pt.k[xt+1].s&&(wt=pt.k[xt].s,Ct=pt.k[xt+1].s,Et=pt.k[xt].to,kt=pt.k[xt].ti,(wt.length===2&&!(wt[0]===Ct[0]&&wt[1]===Ct[1])&&bez.pointOnLine2D(wt[0],wt[1],Ct[0],Ct[1],wt[0]+Et[0],wt[1]+Et[1])&&bez.pointOnLine2D(wt[0],wt[1],Ct[0],Ct[1],Ct[0]+kt[0],Ct[1]+kt[1])||wt.length===3&&!(wt[0]===Ct[0]&&wt[1]===Ct[1]&&wt[2]===Ct[2])&&bez.pointOnLine3D(wt[0],wt[1],wt[2],Ct[0],Ct[1],Ct[2],wt[0]+Et[0],wt[1]+Et[1],wt[2]+Et[2])&&bez.pointOnLine3D(wt[0],wt[1],wt[2],Ct[0],Ct[1],Ct[2],Ct[0]+kt[0],Ct[1]+kt[1],Ct[2]+kt[2]))&&(pt.k[xt].to=null,pt.k[xt].ti=null),wt[0]===Ct[0]&&wt[1]===Ct[1]&&Et[0]===0&&Et[1]===0&&kt[0]===0&&kt[1]===0&&(wt.length===2||wt[2]===Ct[2]&&Et[2]===0&&kt[2]===0)&&(pt.k[xt].to=null,pt.k[xt].ti=null));this.effectsSequence=[it.bind(this)],this.data=pt,this.keyframes=pt.k,this.keyframesMetadata=[],this.offsetTime=_t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=mt||1,this.elem=_t,this.container=yt,this.comp=_t.comp,this.getValue=ot,this.setVValue=st,this.interpolateValue=et,this.frameId=-1;var Dt=pt.k[0].s.length;for(this.v=createTypedArray("float32",Dt),this.pv=createTypedArray("float32",Dt),xt=0;xt<Dt;xt+=1)this.v[xt]=o,this.pv[xt]=o;this._caching={lastFrame:o,lastIndex:0,value:createTypedArray("float32",Dt)},this.addEffect=at}function vt(_t,pt,mt,yt,xt){var bt;if(!pt.k.length)bt=new ut(_t,pt,yt,xt);else if(typeof pt.k[0]=="number")bt=new ht(_t,pt,yt,xt);else switch(mt){case 0:bt=new ft(_t,pt,yt,xt);break;case 1:bt=new dt(_t,pt,yt,xt);break}return bt.effectsSequence.length&&xt.addDynamicProperty(bt),bt}var gt={getProp:vt};return gt}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(s){this.dynamicProperties.indexOf(s)===-1&&(this.dynamicProperties.push(s),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var s,et=this.dynamicProperties.length;for(s=0;s<et;s+=1)this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(s){this.container=s,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function o(){return createTypedArray("float32",2)}return poolFactory(8,o)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(o,s){this.c=o,this.setLength(s);for(var et=0;et<s;)this.v[et]=pointPool.newElement(),this.o[et]=pointPool.newElement(),this.i[et]=pointPool.newElement(),et+=1},ShapePath.prototype.setLength=function(o){for(;this._maxLength<o;)this.doubleArrayLength();this._length=o},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(o,s,et,tt,nt){var rt;switch(this._length=Math.max(this._length,tt+1),this._length>=this._maxLength&&this.doubleArrayLength(),et){case"v":rt=this.v;break;case"i":rt=this.i;break;case"o":rt=this.o;break;default:rt=[];break}(!rt[tt]||rt[tt]&&!nt)&&(rt[tt]=pointPool.newElement()),rt[tt][0]=o,rt[tt][1]=s},ShapePath.prototype.setTripleAt=function(o,s,et,tt,nt,rt,it,st){this.setXYAt(o,s,"v",it,st),this.setXYAt(et,tt,"o",it,st),this.setXYAt(nt,rt,"i",it,st)},ShapePath.prototype.reverse=function(){var o=new ShapePath;o.setPathData(this.c,this._length);var s=this.v,et=this.o,tt=this.i,nt=0;this.c&&(o.setTripleAt(s[0][0],s[0][1],tt[0][0],tt[0][1],et[0][0],et[0][1],0,!1),nt=1);var rt=this._length-1,it=this._length,st;for(st=nt;st<it;st+=1)o.setTripleAt(s[rt][0],s[rt][1],tt[rt][0],tt[rt][1],et[rt][0],et[rt][1],st,!1),rt-=1;return o};var shapePool=function(){function o(){return new ShapePath}function s(nt){var rt=nt._length,it;for(it=0;it<rt;it+=1)pointPool.release(nt.v[it]),pointPool.release(nt.i[it]),pointPool.release(nt.o[it]),nt.v[it]=null,nt.i[it]=null,nt.o[it]=null;nt._length=0,nt.c=!1}function et(nt){var rt=tt.newElement(),it,st=nt._length===void 0?nt.v.length:nt._length;for(rt.setLength(st),rt.c=nt.c,it=0;it<st;it+=1)rt.setTripleAt(nt.v[it][0],nt.v[it][1],nt.o[it][0],nt.o[it][1],nt.i[it][0],nt.i[it][1],it);return rt}var tt=poolFactory(4,o,s);return tt.clone=et,tt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(o){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=o,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var o;for(o=0;o<this._length;o+=1)shapePool.release(this.shapes[o]);this._length=0};var shapeCollectionPool=function(){var o={newShapeCollection:nt,release:rt},s=0,et=4,tt=createSizedArray(et);function nt(){var it;return s?(s-=1,it=tt[s]):it=new ShapeCollection,it}function rt(it){var st,ot=it._length;for(st=0;st<ot;st+=1)shapePool.release(it.shapes[st]);it._length=0,s===et&&(tt=pooling.double(tt),et*=2),tt[s]=it,s+=1}return o}(),ShapePropertyFactory=function(){var o=-999999;function s(pt,mt,yt){var xt=yt.lastIndex,bt,wt,Ct,Et,kt,Dt,zt,Wt,Ht,Gt=this.keyframes;if(pt<Gt[0].t-this.offsetTime)bt=Gt[0].s[0],Ct=!0,xt=0;else if(pt>=Gt[Gt.length-1].t-this.offsetTime)bt=Gt[Gt.length-1].s?Gt[Gt.length-1].s[0]:Gt[Gt.length-2].e[0],Ct=!0;else{for(var $t=xt,Ft=Gt.length-1,It=!0,Tt,Pt,Rt;It&&(Tt=Gt[$t],Pt=Gt[$t+1],!(Pt.t-this.offsetTime>pt));)$t<Ft-1?$t+=1:It=!1;if(Rt=this.keyframesMetadata[$t]||{},Ct=Tt.h===1,xt=$t,!Ct){if(pt>=Pt.t-this.offsetTime)Wt=1;else if(pt<Tt.t-this.offsetTime)Wt=0;else{var Vt;Rt.__fnct?Vt=Rt.__fnct:(Vt=BezierFactory.getBezierEasing(Tt.o.x,Tt.o.y,Tt.i.x,Tt.i.y).get,Rt.__fnct=Vt),Wt=Vt((pt-(Tt.t-this.offsetTime))/(Pt.t-this.offsetTime-(Tt.t-this.offsetTime)))}wt=Pt.s?Pt.s[0]:Tt.e[0]}bt=Tt.s[0]}for(Dt=mt._length,zt=bt.i[0].length,yt.lastIndex=xt,Et=0;Et<Dt;Et+=1)for(kt=0;kt<zt;kt+=1)Ht=Ct?bt.i[Et][kt]:bt.i[Et][kt]+(wt.i[Et][kt]-bt.i[Et][kt])*Wt,mt.i[Et][kt]=Ht,Ht=Ct?bt.o[Et][kt]:bt.o[Et][kt]+(wt.o[Et][kt]-bt.o[Et][kt])*Wt,mt.o[Et][kt]=Ht,Ht=Ct?bt.v[Et][kt]:bt.v[Et][kt]+(wt.v[Et][kt]-bt.v[Et][kt])*Wt,mt.v[Et][kt]=Ht}function et(){var pt=this.comp.renderedFrame-this.offsetTime,mt=this.keyframes[0].t-this.offsetTime,yt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,xt=this._caching.lastFrame;return xt!==o&&(xt<mt&&pt<mt||xt>yt&&pt>yt)||(this._caching.lastIndex=xt<pt?this._caching.lastIndex:0,this.interpolateShape(pt,this.pv,this._caching)),this._caching.lastFrame=pt,this.pv}function tt(){this.paths=this.localShapeCollection}function nt(pt,mt){if(pt._length!==mt._length||pt.c!==mt.c)return!1;var yt,xt=pt._length;for(yt=0;yt<xt;yt+=1)if(pt.v[yt][0]!==mt.v[yt][0]||pt.v[yt][1]!==mt.v[yt][1]||pt.o[yt][0]!==mt.o[yt][0]||pt.o[yt][1]!==mt.o[yt][1]||pt.i[yt][0]!==mt.i[yt][0]||pt.i[yt][1]!==mt.i[yt][1])return!1;return!0}function rt(pt){nt(this.v,pt)||(this.v=shapePool.clone(pt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function it(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var pt;this.kf?pt=this.pv:this.data.ks?pt=this.data.ks.k:pt=this.data.pt.k;var mt,yt=this.effectsSequence.length;for(mt=0;mt<yt;mt+=1)pt=this.effectsSequence[mt](pt);this.setVValue(pt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function st(pt,mt,yt){this.propType="shape",this.comp=pt.comp,this.container=pt,this.elem=pt,this.data=mt,this.k=!1,this.kf=!1,this._mdf=!1;var xt=yt===3?mt.pt.k:mt.ks.k;this.v=shapePool.clone(xt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=tt,this.effectsSequence=[]}function ot(pt){this.effectsSequence.push(pt),this.container.addDynamicProperty(this)}st.prototype.interpolateShape=s,st.prototype.getValue=it,st.prototype.setVValue=rt,st.prototype.addEffect=ot;function at(pt,mt,yt){this.propType="shape",this.comp=pt.comp,this.elem=pt,this.container=pt,this.offsetTime=pt.data.st,this.keyframes=yt===3?mt.pt.k:mt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var xt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,xt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=o,this.reset=tt,this._caching={lastFrame:o,lastIndex:0},this.effectsSequence=[et.bind(this)]}at.prototype.getValue=it,at.prototype.interpolateShape=s,at.prototype.setVValue=rt,at.prototype.addEffect=ot;var ut=function(){var pt=roundCorner;function mt(yt,xt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=xt.d,this.elem=yt,this.comp=yt.comp,this.frameId=-1,this.initDynamicPropertyContainer(yt),this.p=PropertyFactory.getProp(yt,xt.p,1,0,this),this.s=PropertyFactory.getProp(yt,xt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return mt.prototype={reset:tt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var xt=this.p.v[0],bt=this.p.v[1],wt=this.s.v[0]/2,Ct=this.s.v[1]/2,Et=this.d!==3,kt=this.v;kt.v[0][0]=xt,kt.v[0][1]=bt-Ct,kt.v[1][0]=Et?xt+wt:xt-wt,kt.v[1][1]=bt,kt.v[2][0]=xt,kt.v[2][1]=bt+Ct,kt.v[3][0]=Et?xt-wt:xt+wt,kt.v[3][1]=bt,kt.i[0][0]=Et?xt-wt*pt:xt+wt*pt,kt.i[0][1]=bt-Ct,kt.i[1][0]=Et?xt+wt:xt-wt,kt.i[1][1]=bt-Ct*pt,kt.i[2][0]=Et?xt+wt*pt:xt-wt*pt,kt.i[2][1]=bt+Ct,kt.i[3][0]=Et?xt-wt:xt+wt,kt.i[3][1]=bt+Ct*pt,kt.o[0][0]=Et?xt+wt*pt:xt-wt*pt,kt.o[0][1]=bt-Ct,kt.o[1][0]=Et?xt+wt:xt-wt,kt.o[1][1]=bt+Ct*pt,kt.o[2][0]=Et?xt-wt*pt:xt+wt*pt,kt.o[2][1]=bt+Ct,kt.o[3][0]=Et?xt-wt:xt+wt,kt.o[3][1]=bt-Ct*pt}},extendPrototype([DynamicPropertyContainer],mt),mt}(),ht=function(){function pt(mt,yt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=mt,this.comp=mt.comp,this.data=yt,this.frameId=-1,this.d=yt.d,this.initDynamicPropertyContainer(mt),yt.sy===1?(this.ir=PropertyFactory.getProp(mt,yt.ir,0,0,this),this.is=PropertyFactory.getProp(mt,yt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(mt,yt.pt,0,0,this),this.p=PropertyFactory.getProp(mt,yt.p,1,0,this),this.r=PropertyFactory.getProp(mt,yt.r,0,degToRads,this),this.or=PropertyFactory.getProp(mt,yt.or,0,0,this),this.os=PropertyFactory.getProp(mt,yt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return pt.prototype={reset:tt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var yt=Math.floor(this.pt.v)*2,xt=Math.PI*2/yt,bt=!0,wt=this.or.v,Ct=this.ir.v,Et=this.os.v,kt=this.is.v,Dt=2*Math.PI*wt/(yt*2),zt=2*Math.PI*Ct/(yt*2),Wt,Ht,Gt,$t,Ft=-Math.PI/2;Ft+=this.r.v;var It=this.data.d===3?-1:1;for(this.v._length=0,Wt=0;Wt<yt;Wt+=1){Ht=bt?wt:Ct,Gt=bt?Et:kt,$t=bt?Dt:zt;var Tt=Ht*Math.cos(Ft),Pt=Ht*Math.sin(Ft),Rt=Tt===0&&Pt===0?0:Pt/Math.sqrt(Tt*Tt+Pt*Pt),Vt=Tt===0&&Pt===0?0:-Tt/Math.sqrt(Tt*Tt+Pt*Pt);Tt+=+this.p.v[0],Pt+=+this.p.v[1],this.v.setTripleAt(Tt,Pt,Tt-Rt*$t*Gt*It,Pt-Vt*$t*Gt*It,Tt+Rt*$t*Gt*It,Pt+Vt*$t*Gt*It,Wt,!0),bt=!bt,Ft+=xt*It}},convertPolygonToPath:function(){var yt=Math.floor(this.pt.v),xt=Math.PI*2/yt,bt=this.or.v,wt=this.os.v,Ct=2*Math.PI*bt/(yt*4),Et,kt=-Math.PI*.5,Dt=this.data.d===3?-1:1;for(kt+=this.r.v,this.v._length=0,Et=0;Et<yt;Et+=1){var zt=bt*Math.cos(kt),Wt=bt*Math.sin(kt),Ht=zt===0&&Wt===0?0:Wt/Math.sqrt(zt*zt+Wt*Wt),Gt=zt===0&&Wt===0?0:-zt/Math.sqrt(zt*zt+Wt*Wt);zt+=+this.p.v[0],Wt+=+this.p.v[1],this.v.setTripleAt(zt,Wt,zt-Ht*Ct*wt*Dt,Wt-Gt*Ct*wt*Dt,zt+Ht*Ct*wt*Dt,Wt+Gt*Ct*wt*Dt,Et,!0),kt+=xt*Dt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],pt),pt}(),ft=function(){function pt(mt,yt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=mt,this.comp=mt.comp,this.frameId=-1,this.d=yt.d,this.initDynamicPropertyContainer(mt),this.p=PropertyFactory.getProp(mt,yt.p,1,0,this),this.s=PropertyFactory.getProp(mt,yt.s,1,0,this),this.r=PropertyFactory.getProp(mt,yt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return pt.prototype={convertRectToPath:function(){var yt=this.p.v[0],xt=this.p.v[1],bt=this.s.v[0]/2,wt=this.s.v[1]/2,Ct=bmMin(bt,wt,this.r.v),Et=Ct*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(yt+bt,xt-wt+Ct,yt+bt,xt-wt+Ct,yt+bt,xt-wt+Et,0,!0),this.v.setTripleAt(yt+bt,xt+wt-Ct,yt+bt,xt+wt-Et,yt+bt,xt+wt-Ct,1,!0),Ct!==0?(this.v.setTripleAt(yt+bt-Ct,xt+wt,yt+bt-Ct,xt+wt,yt+bt-Et,xt+wt,2,!0),this.v.setTripleAt(yt-bt+Ct,xt+wt,yt-bt+Et,xt+wt,yt-bt+Ct,xt+wt,3,!0),this.v.setTripleAt(yt-bt,xt+wt-Ct,yt-bt,xt+wt-Ct,yt-bt,xt+wt-Et,4,!0),this.v.setTripleAt(yt-bt,xt-wt+Ct,yt-bt,xt-wt+Et,yt-bt,xt-wt+Ct,5,!0),this.v.setTripleAt(yt-bt+Ct,xt-wt,yt-bt+Ct,xt-wt,yt-bt+Et,xt-wt,6,!0),this.v.setTripleAt(yt+bt-Ct,xt-wt,yt+bt-Et,xt-wt,yt+bt-Ct,xt-wt,7,!0)):(this.v.setTripleAt(yt-bt,xt+wt,yt-bt+Et,xt+wt,yt-bt,xt+wt,2),this.v.setTripleAt(yt-bt,xt-wt,yt-bt,xt-wt+Et,yt-bt,xt-wt,3))):(this.v.setTripleAt(yt+bt,xt-wt+Ct,yt+bt,xt-wt+Et,yt+bt,xt-wt+Ct,0,!0),Ct!==0?(this.v.setTripleAt(yt+bt-Ct,xt-wt,yt+bt-Ct,xt-wt,yt+bt-Et,xt-wt,1,!0),this.v.setTripleAt(yt-bt+Ct,xt-wt,yt-bt+Et,xt-wt,yt-bt+Ct,xt-wt,2,!0),this.v.setTripleAt(yt-bt,xt-wt+Ct,yt-bt,xt-wt+Ct,yt-bt,xt-wt+Et,3,!0),this.v.setTripleAt(yt-bt,xt+wt-Ct,yt-bt,xt+wt-Et,yt-bt,xt+wt-Ct,4,!0),this.v.setTripleAt(yt-bt+Ct,xt+wt,yt-bt+Ct,xt+wt,yt-bt+Et,xt+wt,5,!0),this.v.setTripleAt(yt+bt-Ct,xt+wt,yt+bt-Et,xt+wt,yt+bt-Ct,xt+wt,6,!0),this.v.setTripleAt(yt+bt,xt+wt-Ct,yt+bt,xt+wt-Ct,yt+bt,xt+wt-Et,7,!0)):(this.v.setTripleAt(yt-bt,xt-wt,yt-bt+Et,xt-wt,yt-bt,xt-wt,1,!0),this.v.setTripleAt(yt-bt,xt+wt,yt-bt,xt+wt-Et,yt-bt,xt+wt,2,!0),this.v.setTripleAt(yt+bt,xt+wt,yt+bt-Et,xt+wt,yt+bt,xt+wt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:tt},extendPrototype([DynamicPropertyContainer],pt),pt}();function dt(pt,mt,yt){var xt;if(yt===3||yt===4){var bt=yt===3?mt.pt:mt.ks,wt=bt.k;wt.length?xt=new at(pt,mt,yt):xt=new st(pt,mt,yt)}else yt===5?xt=new ft(pt,mt):yt===6?xt=new ut(pt,mt):yt===7&&(xt=new ht(pt,mt));return xt.k&&pt.addDynamicProperty(xt),xt}function vt(){return st}function gt(){return at}var _t={};return _t.getShapeProp=dt,_t.getConstructorFunction=vt,_t.getKeyframedConstructorFunction=gt,_t}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var o=Math.cos,s=Math.sin,et=Math.tan,tt=Math.round;function nt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function rt(It){if(It===0)return this;var Tt=o(It),Pt=s(It);return this._t(Tt,-Pt,0,0,Pt,Tt,0,0,0,0,1,0,0,0,0,1)}function it(It){if(It===0)return this;var Tt=o(It),Pt=s(It);return this._t(1,0,0,0,0,Tt,-Pt,0,0,Pt,Tt,0,0,0,0,1)}function st(It){if(It===0)return this;var Tt=o(It),Pt=s(It);return this._t(Tt,0,Pt,0,0,1,0,0,-Pt,0,Tt,0,0,0,0,1)}function ot(It){if(It===0)return this;var Tt=o(It),Pt=s(It);return this._t(Tt,-Pt,0,0,Pt,Tt,0,0,0,0,1,0,0,0,0,1)}function at(It,Tt){return this._t(1,Tt,It,1,0,0)}function ut(It,Tt){return this.shear(et(It),et(Tt))}function ht(It,Tt){var Pt=o(Tt),Rt=s(Tt);return this._t(Pt,Rt,0,0,-Rt,Pt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,et(It),1,0,0,0,0,1,0,0,0,0,1)._t(Pt,-Rt,0,0,Rt,Pt,0,0,0,0,1,0,0,0,0,1)}function ft(It,Tt,Pt){return!Pt&&Pt!==0&&(Pt=1),It===1&&Tt===1&&Pt===1?this:this._t(It,0,0,0,0,Tt,0,0,0,0,Pt,0,0,0,0,1)}function dt(It,Tt,Pt,Rt,Vt,Ot,Xt,Kt,fn,Nt,vn,on,bn,cn,xn,tn){return this.props[0]=It,this.props[1]=Tt,this.props[2]=Pt,this.props[3]=Rt,this.props[4]=Vt,this.props[5]=Ot,this.props[6]=Xt,this.props[7]=Kt,this.props[8]=fn,this.props[9]=Nt,this.props[10]=vn,this.props[11]=on,this.props[12]=bn,this.props[13]=cn,this.props[14]=xn,this.props[15]=tn,this}function vt(It,Tt,Pt){return Pt=Pt||0,It!==0||Tt!==0||Pt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,It,Tt,Pt,1):this}function gt(It,Tt,Pt,Rt,Vt,Ot,Xt,Kt,fn,Nt,vn,on,bn,cn,xn,tn){var Yt=this.props;if(It===1&&Tt===0&&Pt===0&&Rt===0&&Vt===0&&Ot===1&&Xt===0&&Kt===0&&fn===0&&Nt===0&&vn===1&&on===0)return Yt[12]=Yt[12]*It+Yt[15]*bn,Yt[13]=Yt[13]*Ot+Yt[15]*cn,Yt[14]=Yt[14]*vn+Yt[15]*xn,Yt[15]*=tn,this._identityCalculated=!1,this;var dn=Yt[0],yn=Yt[1],_n=Yt[2],En=Yt[3],Tn=Yt[4],Ln=Yt[5],Bn=Yt[6],Hn=Yt[7],qt=Yt[8],Bt=Yt[9],Zt=Yt[10],pn=Yt[11],Sn=Yt[12],wn=Yt[13],Vn=Yt[14],ln=Yt[15];return Yt[0]=dn*It+yn*Vt+_n*fn+En*bn,Yt[1]=dn*Tt+yn*Ot+_n*Nt+En*cn,Yt[2]=dn*Pt+yn*Xt+_n*vn+En*xn,Yt[3]=dn*Rt+yn*Kt+_n*on+En*tn,Yt[4]=Tn*It+Ln*Vt+Bn*fn+Hn*bn,Yt[5]=Tn*Tt+Ln*Ot+Bn*Nt+Hn*cn,Yt[6]=Tn*Pt+Ln*Xt+Bn*vn+Hn*xn,Yt[7]=Tn*Rt+Ln*Kt+Bn*on+Hn*tn,Yt[8]=qt*It+Bt*Vt+Zt*fn+pn*bn,Yt[9]=qt*Tt+Bt*Ot+Zt*Nt+pn*cn,Yt[10]=qt*Pt+Bt*Xt+Zt*vn+pn*xn,Yt[11]=qt*Rt+Bt*Kt+Zt*on+pn*tn,Yt[12]=Sn*It+wn*Vt+Vn*fn+ln*bn,Yt[13]=Sn*Tt+wn*Ot+Vn*Nt+ln*cn,Yt[14]=Sn*Pt+wn*Xt+Vn*vn+ln*xn,Yt[15]=Sn*Rt+wn*Kt+Vn*on+ln*tn,this._identityCalculated=!1,this}function _t(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function pt(It){for(var Tt=0;Tt<16;){if(It.props[Tt]!==this.props[Tt])return!1;Tt+=1}return!0}function mt(It){var Tt;for(Tt=0;Tt<16;Tt+=1)It.props[Tt]=this.props[Tt];return It}function yt(It){var Tt;for(Tt=0;Tt<16;Tt+=1)this.props[Tt]=It[Tt]}function xt(It,Tt,Pt){return{x:It*this.props[0]+Tt*this.props[4]+Pt*this.props[8]+this.props[12],y:It*this.props[1]+Tt*this.props[5]+Pt*this.props[9]+this.props[13],z:It*this.props[2]+Tt*this.props[6]+Pt*this.props[10]+this.props[14]}}function bt(It,Tt,Pt){return It*this.props[0]+Tt*this.props[4]+Pt*this.props[8]+this.props[12]}function wt(It,Tt,Pt){return It*this.props[1]+Tt*this.props[5]+Pt*this.props[9]+this.props[13]}function Ct(It,Tt,Pt){return It*this.props[2]+Tt*this.props[6]+Pt*this.props[10]+this.props[14]}function Et(){var It=this.props[0]*this.props[5]-this.props[1]*this.props[4],Tt=this.props[5]/It,Pt=-this.props[1]/It,Rt=-this.props[4]/It,Vt=this.props[0]/It,Ot=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/It,Xt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/It,Kt=new Matrix;return Kt.props[0]=Tt,Kt.props[1]=Pt,Kt.props[4]=Rt,Kt.props[5]=Vt,Kt.props[12]=Ot,Kt.props[13]=Xt,Kt}function kt(It){var Tt=this.getInverseMatrix();return Tt.applyToPointArray(It[0],It[1],It[2]||0)}function Dt(It){var Tt,Pt=It.length,Rt=[];for(Tt=0;Tt<Pt;Tt+=1)Rt[Tt]=kt(It[Tt]);return Rt}function zt(It,Tt,Pt){var Rt=createTypedArray("float32",6);if(this.isIdentity())Rt[0]=It[0],Rt[1]=It[1],Rt[2]=Tt[0],Rt[3]=Tt[1],Rt[4]=Pt[0],Rt[5]=Pt[1];else{var Vt=this.props[0],Ot=this.props[1],Xt=this.props[4],Kt=this.props[5],fn=this.props[12],Nt=this.props[13];Rt[0]=It[0]*Vt+It[1]*Xt+fn,Rt[1]=It[0]*Ot+It[1]*Kt+Nt,Rt[2]=Tt[0]*Vt+Tt[1]*Xt+fn,Rt[3]=Tt[0]*Ot+Tt[1]*Kt+Nt,Rt[4]=Pt[0]*Vt+Pt[1]*Xt+fn,Rt[5]=Pt[0]*Ot+Pt[1]*Kt+Nt}return Rt}function Wt(It,Tt,Pt){var Rt;return this.isIdentity()?Rt=[It,Tt,Pt]:Rt=[It*this.props[0]+Tt*this.props[4]+Pt*this.props[8]+this.props[12],It*this.props[1]+Tt*this.props[5]+Pt*this.props[9]+this.props[13],It*this.props[2]+Tt*this.props[6]+Pt*this.props[10]+this.props[14]],Rt}function Ht(It,Tt){if(this.isIdentity())return It+","+Tt;var Pt=this.props;return Math.round((It*Pt[0]+Tt*Pt[4]+Pt[12])*100)/100+","+Math.round((It*Pt[1]+Tt*Pt[5]+Pt[13])*100)/100}function Gt(){for(var It=0,Tt=this.props,Pt="matrix3d(",Rt=1e4;It<16;)Pt+=tt(Tt[It]*Rt)/Rt,Pt+=It===15?")":",",It+=1;return Pt}function $t(It){var Tt=1e4;return It<1e-6&&It>0||It>-1e-6&&It<0?tt(It*Tt)/Tt:It}function Ft(){var It=this.props,Tt=$t(It[0]),Pt=$t(It[1]),Rt=$t(It[4]),Vt=$t(It[5]),Ot=$t(It[12]),Xt=$t(It[13]);return"matrix("+Tt+","+Pt+","+Rt+","+Vt+","+Ot+","+Xt+")"}return function(){this.reset=nt,this.rotate=rt,this.rotateX=it,this.rotateY=st,this.rotateZ=ot,this.skew=ut,this.skewFromAxis=ht,this.shear=at,this.scale=ft,this.setTransform=dt,this.translate=vt,this.transform=gt,this.applyToPoint=xt,this.applyToX=bt,this.applyToY=wt,this.applyToZ=Ct,this.applyToPointArray=Wt,this.applyToTriplePoints=zt,this.applyToPointStringified=Ht,this.toCSS=Gt,this.to2dCSS=Ft,this.clone=mt,this.cloneFromProps=yt,this.equals=pt,this.inversePoints=Dt,this.inversePoint=kt,this.getInverseMatrix=Et,this._t=this.transform,this.isIdentity=_t,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(et){return typeof et}:_typeof$3=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$3(o)}var lottie={};function setLocation(o){setLocationHref(o)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(o){setSubframeEnabled(o)}function setPrefix(o){setIdPrefix(o)}function loadAnimation(o){return animationManager.loadAnimation(o)}function setQuality(o){if(typeof o=="string")switch(o){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(o)&&o>1&&setDefaultCurveSegments(o)}function inBrowser(){return typeof navigator<"u"}function installPlugin(o,s){o==="expressions"&&setExpressionsPlugin(s)}function getFactory(o){switch(o){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(o){for(var s=queryString.split("&"),et=0;et<s.length;et+=1){var tt=s[et].split("=");if(decodeURIComponent(tt[0])==o)return decodeURIComponent(tt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(o){}var ShapeModifiers=function(){var o={},s={};o.registerModifier=et,o.getModifier=tt;function et(nt,rt){s[nt]||(s[nt]=rt)}function tt(nt,rt,it){return new s[nt](rt,it)}return o}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(o){if(!this.closed){o.sh.container.addDynamicProperty(o.sh);var s={shape:o.sh,data:o,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(s),this.addShapeToModifier(s),this._isAnimated&&o.setAsAnimated()}},ShapeModifier.prototype.init=function(o,s){this.shapes=[],this.elem=o,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,s),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(o,s){this.s=PropertyFactory.getProp(o,s.s,0,.01,this),this.e=PropertyFactory.getProp(o,s.e,0,.01,this),this.o=PropertyFactory.getProp(o,s.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=s.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(o){o.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(o,s,et,tt,nt){var rt=[];s<=1?rt.push({s:o,e:s}):o>=1?rt.push({s:o-1,e:s-1}):(rt.push({s:o,e:1}),rt.push({s:0,e:s-1}));var it=[],st,ot=rt.length,at;for(st=0;st<ot;st+=1)if(at=rt[st],!(at.e*nt<tt||at.s*nt>tt+et)){var ut,ht;at.s*nt<=tt?ut=0:ut=(at.s*nt-tt)/et,at.e*nt>=tt+et?ht=1:ht=(at.e*nt-tt)/et,it.push([ut,ht])}return it.length||it.push([0,0]),it},TrimModifier.prototype.releasePathsData=function(o){var s,et=o.length;for(s=0;s<et;s+=1)segmentsLengthPool.release(o[s]);return o.length=0,o},TrimModifier.prototype.processShapes=function(o){var s,et;if(this._mdf||o){var tt=this.o.v%360/360;if(tt<0&&(tt+=1),this.s.v>1?s=1+tt:this.s.v<0?s=0+tt:s=this.s.v+tt,this.e.v>1?et=1+tt:this.e.v<0?et=0+tt:et=this.e.v+tt,s>et){var nt=s;s=et,et=nt}s=Math.round(s*1e4)*1e-4,et=Math.round(et*1e4)*1e-4,this.sValue=s,this.eValue=et}else s=this.sValue,et=this.eValue;var rt,it,st=this.shapes.length,ot,at,ut,ht,ft,dt=0;if(et===s)for(it=0;it<st;it+=1)this.shapes[it].localShapeCollection.releaseShapes(),this.shapes[it].shape._mdf=!0,this.shapes[it].shape.paths=this.shapes[it].localShapeCollection,this._mdf&&(this.shapes[it].pathsData.length=0);else if(et===1&&s===0||et===0&&s===1){if(this._mdf)for(it=0;it<st;it+=1)this.shapes[it].pathsData.length=0,this.shapes[it].shape._mdf=!0}else{var vt=[],gt,_t;for(it=0;it<st;it+=1)if(gt=this.shapes[it],!gt.shape._mdf&&!this._mdf&&!o&&this.m!==2)gt.shape.paths=gt.localShapeCollection;else{if(rt=gt.shape.paths,at=rt._length,ft=0,!gt.shape._mdf&&gt.pathsData.length)ft=gt.totalShapeLength;else{for(ut=this.releasePathsData(gt.pathsData),ot=0;ot<at;ot+=1)ht=bez.getSegmentsLength(rt.shapes[ot]),ut.push(ht),ft+=ht.totalLength;gt.totalShapeLength=ft,gt.pathsData=ut}dt+=ft,gt.shape._mdf=!0}var pt=s,mt=et,yt=0,xt;for(it=st-1;it>=0;it-=1)if(gt=this.shapes[it],gt.shape._mdf){for(_t=gt.localShapeCollection,_t.releaseShapes(),this.m===2&&st>1?(xt=this.calculateShapeEdges(s,et,gt.totalShapeLength,yt,dt),yt+=gt.totalShapeLength):xt=[[pt,mt]],at=xt.length,ot=0;ot<at;ot+=1){pt=xt[ot][0],mt=xt[ot][1],vt.length=0,mt<=1?vt.push({s:gt.totalShapeLength*pt,e:gt.totalShapeLength*mt}):pt>=1?vt.push({s:gt.totalShapeLength*(pt-1),e:gt.totalShapeLength*(mt-1)}):(vt.push({s:gt.totalShapeLength*pt,e:gt.totalShapeLength}),vt.push({s:0,e:gt.totalShapeLength*(mt-1)}));var bt=this.addShapes(gt,vt[0]);if(vt[0].s!==vt[0].e){if(vt.length>1){var wt=gt.shape.paths.shapes[gt.shape.paths._length-1];if(wt.c){var Ct=bt.pop();this.addPaths(bt,_t),bt=this.addShapes(gt,vt[1],Ct)}else this.addPaths(bt,_t),bt=this.addShapes(gt,vt[1])}this.addPaths(bt,_t)}}gt.shape.paths=_t}}},TrimModifier.prototype.addPaths=function(o,s){var et,tt=o.length;for(et=0;et<tt;et+=1)s.addShape(o[et])},TrimModifier.prototype.addSegment=function(o,s,et,tt,nt,rt,it){nt.setXYAt(s[0],s[1],"o",rt),nt.setXYAt(et[0],et[1],"i",rt+1),it&&nt.setXYAt(o[0],o[1],"v",rt),nt.setXYAt(tt[0],tt[1],"v",rt+1)},TrimModifier.prototype.addSegmentFromArray=function(o,s,et,tt){s.setXYAt(o[1],o[5],"o",et),s.setXYAt(o[2],o[6],"i",et+1),tt&&s.setXYAt(o[0],o[4],"v",et),s.setXYAt(o[3],o[7],"v",et+1)},TrimModifier.prototype.addShapes=function(o,s,et){var tt=o.pathsData,nt=o.shape.paths.shapes,rt,it=o.shape.paths._length,st,ot,at=0,ut,ht,ft,dt,vt=[],gt,_t=!0;for(et?(ht=et._length,gt=et._length):(et=shapePool.newElement(),ht=0,gt=0),vt.push(et),rt=0;rt<it;rt+=1){for(ft=tt[rt].lengths,et.c=nt[rt].c,ot=nt[rt].c?ft.length:ft.length+1,st=1;st<ot;st+=1)if(ut=ft[st-1],at+ut.addedLength<s.s)at+=ut.addedLength,et.c=!1;else if(at>s.e){et.c=!1;break}else s.s<=at&&s.e>=at+ut.addedLength?(this.addSegment(nt[rt].v[st-1],nt[rt].o[st-1],nt[rt].i[st],nt[rt].v[st],et,ht,_t),_t=!1):(dt=bez.getNewSegment(nt[rt].v[st-1],nt[rt].v[st],nt[rt].o[st-1],nt[rt].i[st],(s.s-at)/ut.addedLength,(s.e-at)/ut.addedLength,ft[st-1]),this.addSegmentFromArray(dt,et,ht,_t),_t=!1,et.c=!1),at+=ut.addedLength,ht+=1;if(nt[rt].c&&ft.length){if(ut=ft[st-1],at<=s.e){var pt=ft[st-1].addedLength;s.s<=at&&s.e>=at+pt?(this.addSegment(nt[rt].v[st-1],nt[rt].o[st-1],nt[rt].i[0],nt[rt].v[0],et,ht,_t),_t=!1):(dt=bez.getNewSegment(nt[rt].v[st-1],nt[rt].v[0],nt[rt].o[st-1],nt[rt].i[0],(s.s-at)/pt,(s.e-at)/pt,ft[st-1]),this.addSegmentFromArray(dt,et,ht,_t),_t=!1,et.c=!1)}else et.c=!1;at+=ut.addedLength,ht+=1}if(et._length&&(et.setXYAt(et.v[gt][0],et.v[gt][1],"i",gt),et.setXYAt(et.v[et._length-1][0],et.v[et._length-1][1],"o",et._length-1)),at>s.e)break;rt<it-1&&(et=shapePool.newElement(),_t=!0,vt.push(et),ht=0)}return vt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(o,s){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(o,s.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(o,s){var et=s/100,tt=[0,0],nt=o._length,rt=0;for(rt=0;rt<nt;rt+=1)tt[0]+=o.v[rt][0],tt[1]+=o.v[rt][1];tt[0]/=nt,tt[1]/=nt;var it=shapePool.newElement();it.c=o.c;var st,ot,at,ut,ht,ft;for(rt=0;rt<nt;rt+=1)st=o.v[rt][0]+(tt[0]-o.v[rt][0])*et,ot=o.v[rt][1]+(tt[1]-o.v[rt][1])*et,at=o.o[rt][0]+(tt[0]-o.o[rt][0])*-et,ut=o.o[rt][1]+(tt[1]-o.o[rt][1])*-et,ht=o.i[rt][0]+(tt[0]-o.i[rt][0])*-et,ft=o.i[rt][1]+(tt[1]-o.i[rt][1])*-et,it.setTripleAt(st,ot,at,ut,ht,ft,rt);return it},PuckerAndBloatModifier.prototype.processShapes=function(o){var s,et,tt=this.shapes.length,nt,rt,it=this.amount.v;if(it!==0){var st,ot;for(et=0;et<tt;et+=1){if(st=this.shapes[et],ot=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!o))for(ot.releaseShapes(),st.shape._mdf=!0,s=st.shape.paths.shapes,rt=st.shape.paths._length,nt=0;nt<rt;nt+=1)ot.addShape(this.processPath(s[nt],it));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var o=[0,0];function s(ot){var at=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||at,this.a&&ot.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&ot.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&ot.skewFromAxis(-this.sk.v,this.sa.v),this.r?ot.rotate(-this.r.v):ot.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?ot.translate(this.px.v,this.py.v,-this.pz.v):ot.translate(this.px.v,this.py.v,0):ot.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function et(ot){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||ot){var at;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ut,ht;if(at=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ut=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/at,0),ht=this.p.getValueAtTime(this.p.keyframes[0].t/at,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ut=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/at,0),ht=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/at,0)):(ut=this.p.pv,ht=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/at,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ut=[],ht=[];var ft=this.px,dt=this.py;ft._caching.lastFrame+ft.offsetTime<=ft.keyframes[0].t?(ut[0]=ft.getValueAtTime((ft.keyframes[0].t+.01)/at,0),ut[1]=dt.getValueAtTime((dt.keyframes[0].t+.01)/at,0),ht[0]=ft.getValueAtTime(ft.keyframes[0].t/at,0),ht[1]=dt.getValueAtTime(dt.keyframes[0].t/at,0)):ft._caching.lastFrame+ft.offsetTime>=ft.keyframes[ft.keyframes.length-1].t?(ut[0]=ft.getValueAtTime(ft.keyframes[ft.keyframes.length-1].t/at,0),ut[1]=dt.getValueAtTime(dt.keyframes[dt.keyframes.length-1].t/at,0),ht[0]=ft.getValueAtTime((ft.keyframes[ft.keyframes.length-1].t-.01)/at,0),ht[1]=dt.getValueAtTime((dt.keyframes[dt.keyframes.length-1].t-.01)/at,0)):(ut=[ft.pv,dt.pv],ht[0]=ft.getValueAtTime((ft._caching.lastFrame+ft.offsetTime-.01)/at,ft.offsetTime),ht[1]=dt.getValueAtTime((dt._caching.lastFrame+dt.offsetTime-.01)/at,dt.offsetTime))}else ht=o,ut=ht;this.v.rotate(-Math.atan2(ut[1]-ht[1],ut[0]-ht[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function tt(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function nt(){}function rt(ot){this._addDynamicProperty(ot),this.elem.addDynamicProperty(ot),this._isDirty=!0}function it(ot,at,ut){if(this.elem=ot,this.frameId=-1,this.propType="transform",this.data=at,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ut||ot),at.p&&at.p.s?(this.px=PropertyFactory.getProp(ot,at.p.x,0,0,this),this.py=PropertyFactory.getProp(ot,at.p.y,0,0,this),at.p.z&&(this.pz=PropertyFactory.getProp(ot,at.p.z,0,0,this))):this.p=PropertyFactory.getProp(ot,at.p||{k:[0,0,0]},1,0,this),at.rx){if(this.rx=PropertyFactory.getProp(ot,at.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(ot,at.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(ot,at.rz,0,degToRads,this),at.or.k[0].ti){var ht,ft=at.or.k.length;for(ht=0;ht<ft;ht+=1)at.or.k[ht].to=null,at.or.k[ht].ti=null}this.or=PropertyFactory.getProp(ot,at.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(ot,at.r||{k:0},0,degToRads,this);at.sk&&(this.sk=PropertyFactory.getProp(ot,at.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(ot,at.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(ot,at.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(ot,at.s||{k:[100,100,100]},1,.01,this),at.o?this.o=PropertyFactory.getProp(ot,at.o,0,.01,ot):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}it.prototype={applyToMatrix:s,getValue:et,precalculateMatrix:tt,autoOrient:nt},extendPrototype([DynamicPropertyContainer],it),it.prototype.addDynamicProperty=rt,it.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function st(ot,at,ut){return new it(ot,at,ut)}return{getTransformProperty:st}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(o,s){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(o,s.c,0,null,this),this.o=PropertyFactory.getProp(o,s.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(o,s.tr,this),this.so=PropertyFactory.getProp(o,s.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(o,s.tr.eo,0,.01,this),this.data=s,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(o,s,et,tt,nt,rt){var it=rt?-1:1,st=tt.s.v[0]+(1-tt.s.v[0])*(1-nt),ot=tt.s.v[1]+(1-tt.s.v[1])*(1-nt);o.translate(tt.p.v[0]*it*nt,tt.p.v[1]*it*nt,tt.p.v[2]),s.translate(-tt.a.v[0],-tt.a.v[1],tt.a.v[2]),s.rotate(-tt.r.v*it*nt),s.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2]),et.translate(-tt.a.v[0],-tt.a.v[1],tt.a.v[2]),et.scale(rt?1/st:st,rt?1/ot:ot),et.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2])},RepeaterModifier.prototype.init=function(o,s,et,tt){for(this.elem=o,this.arr=s,this.pos=et,this.elemsData=tt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,s[et]);et>0;)et-=1,this._elements.unshift(s[et]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(o){var s,et=o.length;for(s=0;s<et;s+=1)o[s]._processed=!1,o[s].ty==="gr"&&this.resetElements(o[s].it)},RepeaterModifier.prototype.cloneElements=function(o){var s=JSON.parse(JSON.stringify(o));return this.resetElements(s),s},RepeaterModifier.prototype.changeGroupRender=function(o,s){var et,tt=o.length;for(et=0;et<tt;et+=1)o[et]._render=s,o[et].ty==="gr"&&this.changeGroupRender(o[et].it,s)},RepeaterModifier.prototype.processShapes=function(o){var s,et,tt,nt,rt,it=!1;if(this._mdf||o){var st=Math.ceil(this.c.v);if(this._groups.length<st){for(;this._groups.length<st;){var ot={it:this.cloneElements(this._elements),ty:"gr"};ot.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,ot),this._groups.splice(0,0,ot),this._currentCopies+=1}this.elem.reloadShapes(),it=!0}rt=0;var at;for(tt=0;tt<=this._groups.length-1;tt+=1){if(at=rt<st,this._groups[tt]._render=at,this.changeGroupRender(this._groups[tt].it,at),!at){var ut=this.elemsData[tt].it,ht=ut[ut.length-1];ht.transform.op.v!==0?(ht.transform.op._mdf=!0,ht.transform.op.v=0):ht.transform.op._mdf=!1}rt+=1}this._currentCopies=st;var ft=this.o.v,dt=ft%1,vt=ft>0?Math.floor(ft):Math.ceil(ft),gt=this.pMatrix.props,_t=this.rMatrix.props,pt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var mt=0;if(ft>0){for(;mt<vt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),mt+=1;dt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,dt,!1),mt+=dt)}else if(ft<0){for(;mt>vt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),mt-=1;dt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-dt,!0),mt-=dt)}tt=this.data.m===1?0:this._currentCopies-1,nt=this.data.m===1?1:-1,rt=this._currentCopies;for(var yt,xt;rt;){if(s=this.elemsData[tt].it,et=s[s.length-1].transform.mProps.v.props,xt=et.length,s[s.length-1].transform.mProps._mdf=!0,s[s.length-1].transform.op._mdf=!0,s[s.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(tt/(this._currentCopies-1)),mt!==0){for((tt!==0&&nt===1||tt!==this._currentCopies-1&&nt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5],_t[6],_t[7],_t[8],_t[9],_t[10],_t[11],_t[12],_t[13],_t[14],_t[15]),this.matrix.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8],pt[9],pt[10],pt[11],pt[12],pt[13],pt[14],pt[15]),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),yt=0;yt<xt;yt+=1)et[yt]=this.matrix.props[yt];this.matrix.reset()}else for(this.matrix.reset(),yt=0;yt<xt;yt+=1)et[yt]=this.matrix.props[yt];mt+=1,rt-=1,tt+=nt}}else for(rt=this._currentCopies,tt=0,nt=1;rt;)s=this.elemsData[tt].it,et=s[s.length-1].transform.mProps.v.props,s[s.length-1].transform.mProps._mdf=!1,s[s.length-1].transform.op._mdf=!1,rt-=1,tt+=nt;return it},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(o,s){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(o,s.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(o,s){var et=shapePool.newElement();et.c=o.c;var tt,nt=o._length,rt,it,st,ot,at,ut,ht=0,ft,dt,vt,gt,_t,pt;for(tt=0;tt<nt;tt+=1)rt=o.v[tt],st=o.o[tt],it=o.i[tt],rt[0]===st[0]&&rt[1]===st[1]&&rt[0]===it[0]&&rt[1]===it[1]?(tt===0||tt===nt-1)&&!o.c?(et.setTripleAt(rt[0],rt[1],st[0],st[1],it[0],it[1],ht),ht+=1):(tt===0?ot=o.v[nt-1]:ot=o.v[tt-1],at=Math.sqrt(Math.pow(rt[0]-ot[0],2)+Math.pow(rt[1]-ot[1],2)),ut=at?Math.min(at/2,s)/at:0,_t=rt[0]+(ot[0]-rt[0])*ut,ft=_t,pt=rt[1]-(rt[1]-ot[1])*ut,dt=pt,vt=ft-(ft-rt[0])*roundCorner,gt=dt-(dt-rt[1])*roundCorner,et.setTripleAt(ft,dt,vt,gt,_t,pt,ht),ht+=1,tt===nt-1?ot=o.v[0]:ot=o.v[tt+1],at=Math.sqrt(Math.pow(rt[0]-ot[0],2)+Math.pow(rt[1]-ot[1],2)),ut=at?Math.min(at/2,s)/at:0,vt=rt[0]+(ot[0]-rt[0])*ut,ft=vt,gt=rt[1]+(ot[1]-rt[1])*ut,dt=gt,_t=ft-(ft-rt[0])*roundCorner,pt=dt-(dt-rt[1])*roundCorner,et.setTripleAt(ft,dt,vt,gt,_t,pt,ht),ht+=1):(et.setTripleAt(o.v[tt][0],o.v[tt][1],o.o[tt][0],o.o[tt][1],o.i[tt][0],o.i[tt][1],ht),ht+=1);return et},RoundCornersModifier.prototype.processShapes=function(o){var s,et,tt=this.shapes.length,nt,rt,it=this.rd.v;if(it!==0){var st,ot;for(et=0;et<tt;et+=1){if(st=this.shapes[et],ot=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!o))for(ot.releaseShapes(),st.shape._mdf=!0,s=st.shape.paths.shapes,rt=st.shape.paths._length,nt=0;nt<rt;nt+=1)ot.addShape(this.processPath(s[nt],it));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(o){for(var s=o.fStyle?o.fStyle.split(" "):[],et="normal",tt="normal",nt=s.length,rt,it=0;it<nt;it+=1)switch(rt=s[it].toLowerCase(),rt){case"italic":tt="italic";break;case"bold":et="700";break;case"black":et="900";break;case"medium":et="500";break;case"regular":case"normal":et="400";break;case"light":case"thin":et="200";break}return{style:tt,weight:o.fWeight||et}}var FontManager=function(){var o=5e3,s={w:0,size:0,shapes:[],data:{shapes:[]}},et=[];et=et.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var tt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],nt=[65039,8205];function rt(xt){var bt=xt.split(","),wt,Ct=bt.length,Et=[];for(wt=0;wt<Ct;wt+=1)bt[wt]!=="sans-serif"&&bt[wt]!=="monospace"&&Et.push(bt[wt]);return Et.join(",")}function it(xt,bt){var wt=createTag("span");wt.setAttribute("aria-hidden",!0),wt.style.fontFamily=bt;var Ct=createTag("span");Ct.innerText="giItT1WQy@!-/#",wt.style.position="absolute",wt.style.left="-10000px",wt.style.top="-10000px",wt.style.fontSize="300px",wt.style.fontVariant="normal",wt.style.fontStyle="normal",wt.style.fontWeight="normal",wt.style.letterSpacing="0",wt.appendChild(Ct),document.body.appendChild(wt);var Et=Ct.offsetWidth;return Ct.style.fontFamily=rt(xt)+", "+bt,{node:Ct,w:Et,parent:wt}}function st(){var xt,bt=this.fonts.length,wt,Ct,Et=bt;for(xt=0;xt<bt;xt+=1)this.fonts[xt].loaded?Et-=1:this.fonts[xt].fOrigin==="n"||this.fonts[xt].origin===0?this.fonts[xt].loaded=!0:(wt=this.fonts[xt].monoCase.node,Ct=this.fonts[xt].monoCase.w,wt.offsetWidth!==Ct?(Et-=1,this.fonts[xt].loaded=!0):(wt=this.fonts[xt].sansCase.node,Ct=this.fonts[xt].sansCase.w,wt.offsetWidth!==Ct&&(Et-=1,this.fonts[xt].loaded=!0)),this.fonts[xt].loaded&&(this.fonts[xt].sansCase.parent.parentNode.removeChild(this.fonts[xt].sansCase.parent),this.fonts[xt].monoCase.parent.parentNode.removeChild(this.fonts[xt].monoCase.parent)));Et!==0&&Date.now()-this.initTime<o?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function ot(xt,bt){var wt=document.body&&bt?"svg":"canvas",Ct,Et=getFontProperties(xt);if(wt==="svg"){var kt=createNS("text");kt.style.fontSize="100px",kt.setAttribute("font-family",xt.fFamily),kt.setAttribute("font-style",Et.style),kt.setAttribute("font-weight",Et.weight),kt.textContent="1",xt.fClass?(kt.style.fontFamily="inherit",kt.setAttribute("class",xt.fClass)):kt.style.fontFamily=xt.fFamily,bt.appendChild(kt),Ct=kt}else{var Dt=new OffscreenCanvas(500,500).getContext("2d");Dt.font=Et.style+" "+Et.weight+" 100px "+xt.fFamily,Ct=Dt}function zt(Wt){return wt==="svg"?(Ct.textContent=Wt,Ct.getComputedTextLength()):Ct.measureText(Wt).width}return{measureText:zt}}function at(xt,bt){if(!xt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=xt.list;return}if(!document.body){this.isLoaded=!0,xt.list.forEach(function(Ft){Ft.helper=ot(Ft),Ft.cache={}}),this.fonts=xt.list;return}var wt=xt.list,Ct,Et=wt.length,kt=Et;for(Ct=0;Ct<Et;Ct+=1){var Dt=!0,zt,Wt;if(wt[Ct].loaded=!1,wt[Ct].monoCase=it(wt[Ct].fFamily,"monospace"),wt[Ct].sansCase=it(wt[Ct].fFamily,"sans-serif"),!wt[Ct].fPath)wt[Ct].loaded=!0,kt-=1;else if(wt[Ct].fOrigin==="p"||wt[Ct].origin===3){if(zt=document.querySelectorAll('style[f-forigin="p"][f-family="'+wt[Ct].fFamily+'"], style[f-origin="3"][f-family="'+wt[Ct].fFamily+'"]'),zt.length>0&&(Dt=!1),Dt){var Ht=createTag("style");Ht.setAttribute("f-forigin",wt[Ct].fOrigin),Ht.setAttribute("f-origin",wt[Ct].origin),Ht.setAttribute("f-family",wt[Ct].fFamily),Ht.type="text/css",Ht.innerText="@font-face {font-family: "+wt[Ct].fFamily+"; font-style: normal; src: url('"+wt[Ct].fPath+"');}",bt.appendChild(Ht)}}else if(wt[Ct].fOrigin==="g"||wt[Ct].origin===1){for(zt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Wt=0;Wt<zt.length;Wt+=1)zt[Wt].href.indexOf(wt[Ct].fPath)!==-1&&(Dt=!1);if(Dt){var Gt=createTag("link");Gt.setAttribute("f-forigin",wt[Ct].fOrigin),Gt.setAttribute("f-origin",wt[Ct].origin),Gt.type="text/css",Gt.rel="stylesheet",Gt.href=wt[Ct].fPath,document.body.appendChild(Gt)}}else if(wt[Ct].fOrigin==="t"||wt[Ct].origin===2){for(zt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Wt=0;Wt<zt.length;Wt+=1)wt[Ct].fPath===zt[Wt].src&&(Dt=!1);if(Dt){var $t=createTag("link");$t.setAttribute("f-forigin",wt[Ct].fOrigin),$t.setAttribute("f-origin",wt[Ct].origin),$t.setAttribute("rel","stylesheet"),$t.setAttribute("href",wt[Ct].fPath),bt.appendChild($t)}}wt[Ct].helper=ot(wt[Ct],bt),wt[Ct].cache={},this.fonts.push(wt[Ct])}kt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ut(xt){if(!!xt){this.chars||(this.chars=[]);var bt,wt=xt.length,Ct,Et=this.chars.length,kt;for(bt=0;bt<wt;bt+=1){for(Ct=0,kt=!1;Ct<Et;)this.chars[Ct].style===xt[bt].style&&this.chars[Ct].fFamily===xt[bt].fFamily&&this.chars[Ct].ch===xt[bt].ch&&(kt=!0),Ct+=1;kt||(this.chars.push(xt[bt]),Et+=1)}}}function ht(xt,bt,wt){for(var Ct=0,Et=this.chars.length;Ct<Et;){if(this.chars[Ct].ch===xt&&this.chars[Ct].style===bt&&this.chars[Ct].fFamily===wt)return this.chars[Ct];Ct+=1}return(typeof xt=="string"&&xt.charCodeAt(0)!==13||!xt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",xt,bt,wt)),s}function ft(xt,bt,wt){var Ct=this.getFontByName(bt),Et=xt.charCodeAt(0);if(!Ct.cache[Et+1]){var kt=Ct.helper;if(xt===" "){var Dt=kt.measureText("|"+xt+"|"),zt=kt.measureText("||");Ct.cache[Et+1]=(Dt-zt)/100}else Ct.cache[Et+1]=kt.measureText(xt)/100}return Ct.cache[Et+1]*wt}function dt(xt){for(var bt=0,wt=this.fonts.length;bt<wt;){if(this.fonts[bt].fName===xt)return this.fonts[bt];bt+=1}return this.fonts[0]}function vt(xt,bt){var wt=xt.toString(16)+bt.toString(16);return tt.indexOf(wt)!==-1}function gt(xt,bt){return bt?xt===nt[0]&&bt===nt[1]:xt===nt[1]}function _t(xt){return et.indexOf(xt)!==-1}function pt(){this.isLoaded=!0}var mt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};mt.isModifier=vt,mt.isZeroWidthJoiner=gt,mt.isCombinedCharacter=_t;var yt={addChars:ut,addFonts:at,getCharData:ht,getFontByName:dt,measureText:ft,checkLoadedFonts:st,setIsLoaded:pt};return mt.prototype=yt,mt}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(s){this.renderableComponents.indexOf(s)===-1&&this.renderableComponents.push(s)},removeRenderableComponent:function(s){this.renderableComponents.indexOf(s)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(s),1)},prepareRenderableFrame:function(s){this.checkLayerLimits(s)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(s){this.data.ip-this.data.st<=s&&this.data.op-this.data.st>s?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var s,et=this.renderableComponents.length;for(s=0;s<et;s+=1)this.renderableComponents[s].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function o(et,tt){this._mask=et,this._data=tt}Object.defineProperty(o.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(o.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var s=function(tt){var nt=createSizedArray(tt.viewData.length),rt,it=tt.viewData.length;for(rt=0;rt<it;rt+=1)nt[rt]=new o(tt.viewData[rt],tt.masksProperties[rt]);var st=function(at){for(rt=0;rt<it;){if(tt.masksProperties[rt].nm===at)return nt[rt];rt+=1}return null};return st};return s}(),ExpressionPropertyInterface=function(){var o={pv:0,v:0,mult:1},s={pv:[0,0,0],v:[0,0,0],mult:1};function et(it,st,ot){Object.defineProperty(it,"velocity",{get:function(){return st.getVelocityAtTime(st.comp.currentFrame)}}),it.numKeys=st.keyframes?st.keyframes.length:0,it.key=function(at){if(!it.numKeys)return 0;var ut="";"s"in st.keyframes[at-1]?ut=st.keyframes[at-1].s:"e"in st.keyframes[at-2]?ut=st.keyframes[at-2].e:ut=st.keyframes[at-2].s;var ht=ot==="unidimensional"?new Number(ut):Object.assign({},ut);return ht.time=st.keyframes[at-1].t/st.elem.comp.globalData.frameRate,ht.value=ot==="unidimensional"?ut[0]:ut,ht},it.valueAtTime=st.getValueAtTime,it.speedAtTime=st.getSpeedAtTime,it.velocityAtTime=st.getVelocityAtTime,it.propertyGroup=st.propertyGroup}function tt(it){(!it||!("pv"in it))&&(it=o);var st=1/it.mult,ot=it.pv*st,at=new Number(ot);return at.value=ot,et(at,it,"unidimensional"),function(){return it.k&&it.getValue(),ot=it.v*st,at.value!==ot&&(at=new Number(ot),at.value=ot,et(at,it,"unidimensional")),at}}function nt(it){(!it||!("pv"in it))&&(it=s);var st=1/it.mult,ot=it.data&&it.data.l||it.pv.length,at=createTypedArray("float32",ot),ut=createTypedArray("float32",ot);return at.value=ut,et(at,it,"multidimensional"),function(){it.k&&it.getValue();for(var ht=0;ht<ot;ht+=1)ut[ht]=it.v[ht]*st,at[ht]=ut[ht];return at}}function rt(){return o}return function(it){return it?it.propType==="unidimensional"?tt(it):nt(it):rt}}(),TransformExpressionInterface=function(){return function(o){function s(it){switch(it){case"scale":case"Scale":case"ADBE Scale":case 6:return s.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return s.rotation;case"ADBE Rotate X":return s.xRotation;case"ADBE Rotate Y":return s.yRotation;case"position":case"Position":case"ADBE Position":case 2:return s.position;case"ADBE Position_0":return s.xPosition;case"ADBE Position_1":return s.yPosition;case"ADBE Position_2":return s.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return s.anchorPoint;case"opacity":case"Opacity":case 11:return s.opacity;default:return null}}Object.defineProperty(s,"rotation",{get:ExpressionPropertyInterface(o.r||o.rz)}),Object.defineProperty(s,"zRotation",{get:ExpressionPropertyInterface(o.rz||o.r)}),Object.defineProperty(s,"xRotation",{get:ExpressionPropertyInterface(o.rx)}),Object.defineProperty(s,"yRotation",{get:ExpressionPropertyInterface(o.ry)}),Object.defineProperty(s,"scale",{get:ExpressionPropertyInterface(o.s)});var et,tt,nt,rt;return o.p?rt=ExpressionPropertyInterface(o.p):(et=ExpressionPropertyInterface(o.px),tt=ExpressionPropertyInterface(o.py),o.pz&&(nt=ExpressionPropertyInterface(o.pz))),Object.defineProperty(s,"position",{get:function(){return o.p?rt():[et(),tt(),nt?nt():0]}}),Object.defineProperty(s,"xPosition",{get:ExpressionPropertyInterface(o.px)}),Object.defineProperty(s,"yPosition",{get:ExpressionPropertyInterface(o.py)}),Object.defineProperty(s,"zPosition",{get:ExpressionPropertyInterface(o.pz)}),Object.defineProperty(s,"anchorPoint",{get:ExpressionPropertyInterface(o.a)}),Object.defineProperty(s,"opacity",{get:ExpressionPropertyInterface(o.o)}),Object.defineProperty(s,"skew",{get:ExpressionPropertyInterface(o.sk)}),Object.defineProperty(s,"skewAxis",{get:ExpressionPropertyInterface(o.sa)}),Object.defineProperty(s,"orientation",{get:ExpressionPropertyInterface(o.or)}),s}}(),LayerExpressionInterface=function(){function o(at){var ut=new Matrix;if(at!==void 0){var ht=this._elem.finalTransform.mProp.getValueAtTime(at);ht.clone(ut)}else{var ft=this._elem.finalTransform.mProp;ft.applyToMatrix(ut)}return ut}function s(at,ut){var ht=this.getMatrix(ut);return ht.props[12]=0,ht.props[13]=0,ht.props[14]=0,this.applyPoint(ht,at)}function et(at,ut){var ht=this.getMatrix(ut);return this.applyPoint(ht,at)}function tt(at,ut){var ht=this.getMatrix(ut);return ht.props[12]=0,ht.props[13]=0,ht.props[14]=0,this.invertPoint(ht,at)}function nt(at,ut){var ht=this.getMatrix(ut);return this.invertPoint(ht,at)}function rt(at,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ht,ft=this._elem.hierarchy.length;for(ht=0;ht<ft;ht+=1)this._elem.hierarchy[ht].finalTransform.mProp.applyToMatrix(at)}return at.applyToPointArray(ut[0],ut[1],ut[2]||0)}function it(at,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ht,ft=this._elem.hierarchy.length;for(ht=0;ht<ft;ht+=1)this._elem.hierarchy[ht].finalTransform.mProp.applyToMatrix(at)}return at.inversePoint(ut)}function st(at){var ut=new Matrix;if(ut.reset(),this._elem.finalTransform.mProp.applyToMatrix(ut),this._elem.hierarchy&&this._elem.hierarchy.length){var ht,ft=this._elem.hierarchy.length;for(ht=0;ht<ft;ht+=1)this._elem.hierarchy[ht].finalTransform.mProp.applyToMatrix(ut);return ut.inversePoint(at)}return ut.inversePoint(at)}function ot(){return[1,1,1,1]}return function(at){var ut;function ht(gt){dt.mask=new MaskManagerInterface(gt,at)}function ft(gt){dt.effect=gt}function dt(gt){switch(gt){case"ADBE Root Vectors Group":case"Contents":case 2:return dt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ut;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return dt.effect;case"ADBE Text Properties":return dt.textInterface;default:return null}}dt.getMatrix=o,dt.invertPoint=it,dt.applyPoint=rt,dt.toWorld=et,dt.toWorldVec=s,dt.fromWorld=nt,dt.fromWorldVec=tt,dt.toComp=et,dt.fromComp=st,dt.sampleImage=ot,dt.sourceRectAtTime=at.sourceRectAtTime.bind(at),dt._elem=at,ut=TransformExpressionInterface(at.finalTransform.mProp);var vt=getDescriptor(ut,"anchorPoint");return Object.defineProperties(dt,{hasParent:{get:function(){return at.hierarchy.length}},parent:{get:function(){return at.hierarchy[0].layerInterface}},rotation:getDescriptor(ut,"rotation"),scale:getDescriptor(ut,"scale"),position:getDescriptor(ut,"position"),opacity:getDescriptor(ut,"opacity"),anchorPoint:vt,anchor_point:vt,transform:{get:function(){return ut}},active:{get:function(){return at.isInRange}}}),dt.startTime=at.data.st,dt.index=at.data.ind,dt.source=at.data.refId,dt.height=at.data.ty===0?at.data.h:100,dt.width=at.data.ty===0?at.data.w:100,dt.inPoint=at.data.ip/at.comp.globalData.frameRate,dt.outPoint=at.data.op/at.comp.globalData.frameRate,dt._name=at.data.nm,dt.registerMaskInterface=ht,dt.registerEffectsInterface=ft,dt}}(),propertyGroupFactory=function(){return function(o,s){return function(et){return et=et===void 0?1:et,et<=0?o:s(et-1)}}}(),PropertyInterface=function(){return function(o,s){var et={_name:o};function tt(nt){return nt=nt===void 0?1:nt,nt<=0?et:s(nt-1)}return tt}}(),EffectsExpressionInterface=function(){var o={createEffectsInterface:s};function s(nt,rt){if(nt.effectsManager){var it=[],st=nt.data.ef,ot,at=nt.effectsManager.effectElements.length;for(ot=0;ot<at;ot+=1)it.push(et(st[ot],nt.effectsManager.effectElements[ot],rt,nt));var ut=nt.data.ef||[],ht=function(dt){for(ot=0,at=ut.length;ot<at;){if(dt===ut[ot].nm||dt===ut[ot].mn||dt===ut[ot].ix)return it[ot];ot+=1}return null};return Object.defineProperty(ht,"numProperties",{get:function(){return ut.length}}),ht}return null}function et(nt,rt,it,st){function ot(dt){for(var vt=nt.ef,gt=0,_t=vt.length;gt<_t;){if(dt===vt[gt].nm||dt===vt[gt].mn||dt===vt[gt].ix)return vt[gt].ty===5?ut[gt]:ut[gt]();gt+=1}throw new Error}var at=propertyGroupFactory(ot,it),ut=[],ht,ft=nt.ef.length;for(ht=0;ht<ft;ht+=1)nt.ef[ht].ty===5?ut.push(et(nt.ef[ht],rt.effectElements[ht],rt.effectElements[ht].propertyGroup,st)):ut.push(tt(rt.effectElements[ht],nt.ef[ht].ty,st,at));return nt.mn==="ADBE Color Control"&&Object.defineProperty(ot,"color",{get:function(){return ut[0]()}}),Object.defineProperties(ot,{numProperties:{get:function(){return nt.np}},_name:{value:nt.nm},propertyGroup:{value:at}}),ot.enabled=nt.en!==0,ot.active=ot.enabled,ot}function tt(nt,rt,it,st){var ot=ExpressionPropertyInterface(nt.p);function at(){return rt===10?it.comp.compInterface(nt.p.v):ot()}return nt.p.setGroupProperty&&nt.p.setGroupProperty(PropertyInterface("",st)),at}return o}(),CompExpressionInterface=function(){return function(o){function s(et){for(var tt=0,nt=o.layers.length;tt<nt;){if(o.layers[tt].nm===et||o.layers[tt].ind===et)return o.elements[tt].layerInterface;tt+=1}return null}return Object.defineProperty(s,"_name",{value:o.data.nm}),s.layer=s,s.pixelAspect=1,s.height=o.data.h||o.globalData.compSize.h,s.width=o.data.w||o.globalData.compSize.w,s.pixelAspect=1,s.frameDuration=1/o.globalData.frameRate,s.displayStartTime=0,s.numLayers=o.layers.length,s}}(),ShapePathInterface=function(){return function(s,et,tt){var nt=et.sh;function rt(st){return st==="Shape"||st==="shape"||st==="Path"||st==="path"||st==="ADBE Vector Shape"||st===2?rt.path:null}var it=propertyGroupFactory(rt,tt);return nt.setGroupProperty(PropertyInterface("Path",it)),Object.defineProperties(rt,{path:{get:function(){return nt.k&&nt.getValue(),nt}},shape:{get:function(){return nt.k&&nt.getValue(),nt}},_name:{value:s.nm},ix:{value:s.ix},propertyIndex:{value:s.ix},mn:{value:s.mn},propertyGroup:{value:tt}}),rt}}(),ShapeExpressionInterface=function(){function o(vt,gt,_t){var pt=[],mt,yt=vt?vt.length:0;for(mt=0;mt<yt;mt+=1)vt[mt].ty==="gr"?pt.push(et(vt[mt],gt[mt],_t)):vt[mt].ty==="fl"?pt.push(tt(vt[mt],gt[mt],_t)):vt[mt].ty==="st"?pt.push(it(vt[mt],gt[mt],_t)):vt[mt].ty==="tm"?pt.push(st(vt[mt],gt[mt],_t)):vt[mt].ty==="tr"||(vt[mt].ty==="el"?pt.push(at(vt[mt],gt[mt],_t)):vt[mt].ty==="sr"?pt.push(ut(vt[mt],gt[mt],_t)):vt[mt].ty==="sh"?pt.push(ShapePathInterface(vt[mt],gt[mt],_t)):vt[mt].ty==="rc"?pt.push(ht(vt[mt],gt[mt],_t)):vt[mt].ty==="rd"?pt.push(ft(vt[mt],gt[mt],_t)):vt[mt].ty==="rp"?pt.push(dt(vt[mt],gt[mt],_t)):vt[mt].ty==="gf"?pt.push(nt(vt[mt],gt[mt],_t)):pt.push(rt(vt[mt],gt[mt])));return pt}function s(vt,gt,_t){var pt,mt=function(bt){for(var wt=0,Ct=pt.length;wt<Ct;){if(pt[wt]._name===bt||pt[wt].mn===bt||pt[wt].propertyIndex===bt||pt[wt].ix===bt||pt[wt].ind===bt)return pt[wt];wt+=1}return typeof bt=="number"?pt[bt-1]:null};mt.propertyGroup=propertyGroupFactory(mt,_t),pt=o(vt.it,gt.it,mt.propertyGroup),mt.numProperties=pt.length;var yt=ot(vt.it[vt.it.length-1],gt.it[gt.it.length-1],mt.propertyGroup);return mt.transform=yt,mt.propertyIndex=vt.cix,mt._name=vt.nm,mt}function et(vt,gt,_t){var pt=function(bt){switch(bt){case"ADBE Vectors Group":case"Contents":case 2:return pt.content;default:return pt.transform}};pt.propertyGroup=propertyGroupFactory(pt,_t);var mt=s(vt,gt,pt.propertyGroup),yt=ot(vt.it[vt.it.length-1],gt.it[gt.it.length-1],pt.propertyGroup);return pt.content=mt,pt.transform=yt,Object.defineProperty(pt,"_name",{get:function(){return vt.nm}}),pt.numProperties=vt.np,pt.propertyIndex=vt.ix,pt.nm=vt.nm,pt.mn=vt.mn,pt}function tt(vt,gt,_t){function pt(mt){return mt==="Color"||mt==="color"?pt.color:mt==="Opacity"||mt==="opacity"?pt.opacity:null}return Object.defineProperties(pt,{color:{get:ExpressionPropertyInterface(gt.c)},opacity:{get:ExpressionPropertyInterface(gt.o)},_name:{value:vt.nm},mn:{value:vt.mn}}),gt.c.setGroupProperty(PropertyInterface("Color",_t)),gt.o.setGroupProperty(PropertyInterface("Opacity",_t)),pt}function nt(vt,gt,_t){function pt(mt){return mt==="Start Point"||mt==="start point"?pt.startPoint:mt==="End Point"||mt==="end point"?pt.endPoint:mt==="Opacity"||mt==="opacity"?pt.opacity:null}return Object.defineProperties(pt,{startPoint:{get:ExpressionPropertyInterface(gt.s)},endPoint:{get:ExpressionPropertyInterface(gt.e)},opacity:{get:ExpressionPropertyInterface(gt.o)},type:{get:function(){return"a"}},_name:{value:vt.nm},mn:{value:vt.mn}}),gt.s.setGroupProperty(PropertyInterface("Start Point",_t)),gt.e.setGroupProperty(PropertyInterface("End Point",_t)),gt.o.setGroupProperty(PropertyInterface("Opacity",_t)),pt}function rt(){function vt(){return null}return vt}function it(vt,gt,_t){var pt=propertyGroupFactory(Ct,_t),mt=propertyGroupFactory(wt,pt);function yt(Et){Object.defineProperty(wt,vt.d[Et].nm,{get:ExpressionPropertyInterface(gt.d.dataProps[Et].p)})}var xt,bt=vt.d?vt.d.length:0,wt={};for(xt=0;xt<bt;xt+=1)yt(xt),gt.d.dataProps[xt].p.setGroupProperty(mt);function Ct(Et){return Et==="Color"||Et==="color"?Ct.color:Et==="Opacity"||Et==="opacity"?Ct.opacity:Et==="Stroke Width"||Et==="stroke width"?Ct.strokeWidth:null}return Object.defineProperties(Ct,{color:{get:ExpressionPropertyInterface(gt.c)},opacity:{get:ExpressionPropertyInterface(gt.o)},strokeWidth:{get:ExpressionPropertyInterface(gt.w)},dash:{get:function(){return wt}},_name:{value:vt.nm},mn:{value:vt.mn}}),gt.c.setGroupProperty(PropertyInterface("Color",pt)),gt.o.setGroupProperty(PropertyInterface("Opacity",pt)),gt.w.setGroupProperty(PropertyInterface("Stroke Width",pt)),Ct}function st(vt,gt,_t){function pt(yt){return yt===vt.e.ix||yt==="End"||yt==="end"?pt.end:yt===vt.s.ix?pt.start:yt===vt.o.ix?pt.offset:null}var mt=propertyGroupFactory(pt,_t);return pt.propertyIndex=vt.ix,gt.s.setGroupProperty(PropertyInterface("Start",mt)),gt.e.setGroupProperty(PropertyInterface("End",mt)),gt.o.setGroupProperty(PropertyInterface("Offset",mt)),pt.propertyIndex=vt.ix,pt.propertyGroup=_t,Object.defineProperties(pt,{start:{get:ExpressionPropertyInterface(gt.s)},end:{get:ExpressionPropertyInterface(gt.e)},offset:{get:ExpressionPropertyInterface(gt.o)},_name:{value:vt.nm}}),pt.mn=vt.mn,pt}function ot(vt,gt,_t){function pt(yt){return vt.a.ix===yt||yt==="Anchor Point"?pt.anchorPoint:vt.o.ix===yt||yt==="Opacity"?pt.opacity:vt.p.ix===yt||yt==="Position"?pt.position:vt.r.ix===yt||yt==="Rotation"||yt==="ADBE Vector Rotation"?pt.rotation:vt.s.ix===yt||yt==="Scale"?pt.scale:vt.sk&&vt.sk.ix===yt||yt==="Skew"?pt.skew:vt.sa&&vt.sa.ix===yt||yt==="Skew Axis"?pt.skewAxis:null}var mt=propertyGroupFactory(pt,_t);return gt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",mt)),gt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",mt)),gt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",mt)),gt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",mt)),gt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",mt)),gt.transform.mProps.sk&&(gt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",mt)),gt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",mt))),gt.transform.op.setGroupProperty(PropertyInterface("Opacity",mt)),Object.defineProperties(pt,{opacity:{get:ExpressionPropertyInterface(gt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(gt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(gt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(gt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(gt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(gt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(gt.transform.mProps.sa)},_name:{value:vt.nm}}),pt.ty="tr",pt.mn=vt.mn,pt.propertyGroup=_t,pt}function at(vt,gt,_t){function pt(xt){return vt.p.ix===xt?pt.position:vt.s.ix===xt?pt.size:null}var mt=propertyGroupFactory(pt,_t);pt.propertyIndex=vt.ix;var yt=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return yt.s.setGroupProperty(PropertyInterface("Size",mt)),yt.p.setGroupProperty(PropertyInterface("Position",mt)),Object.defineProperties(pt,{size:{get:ExpressionPropertyInterface(yt.s)},position:{get:ExpressionPropertyInterface(yt.p)},_name:{value:vt.nm}}),pt.mn=vt.mn,pt}function ut(vt,gt,_t){function pt(xt){return vt.p.ix===xt?pt.position:vt.r.ix===xt?pt.rotation:vt.pt.ix===xt?pt.points:vt.or.ix===xt||xt==="ADBE Vector Star Outer Radius"?pt.outerRadius:vt.os.ix===xt?pt.outerRoundness:vt.ir&&(vt.ir.ix===xt||xt==="ADBE Vector Star Inner Radius")?pt.innerRadius:vt.is&&vt.is.ix===xt?pt.innerRoundness:null}var mt=propertyGroupFactory(pt,_t),yt=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return pt.propertyIndex=vt.ix,yt.or.setGroupProperty(PropertyInterface("Outer Radius",mt)),yt.os.setGroupProperty(PropertyInterface("Outer Roundness",mt)),yt.pt.setGroupProperty(PropertyInterface("Points",mt)),yt.p.setGroupProperty(PropertyInterface("Position",mt)),yt.r.setGroupProperty(PropertyInterface("Rotation",mt)),vt.ir&&(yt.ir.setGroupProperty(PropertyInterface("Inner Radius",mt)),yt.is.setGroupProperty(PropertyInterface("Inner Roundness",mt))),Object.defineProperties(pt,{position:{get:ExpressionPropertyInterface(yt.p)},rotation:{get:ExpressionPropertyInterface(yt.r)},points:{get:ExpressionPropertyInterface(yt.pt)},outerRadius:{get:ExpressionPropertyInterface(yt.or)},outerRoundness:{get:ExpressionPropertyInterface(yt.os)},innerRadius:{get:ExpressionPropertyInterface(yt.ir)},innerRoundness:{get:ExpressionPropertyInterface(yt.is)},_name:{value:vt.nm}}),pt.mn=vt.mn,pt}function ht(vt,gt,_t){function pt(xt){return vt.p.ix===xt?pt.position:vt.r.ix===xt?pt.roundness:vt.s.ix===xt||xt==="Size"||xt==="ADBE Vector Rect Size"?pt.size:null}var mt=propertyGroupFactory(pt,_t),yt=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return pt.propertyIndex=vt.ix,yt.p.setGroupProperty(PropertyInterface("Position",mt)),yt.s.setGroupProperty(PropertyInterface("Size",mt)),yt.r.setGroupProperty(PropertyInterface("Rotation",mt)),Object.defineProperties(pt,{position:{get:ExpressionPropertyInterface(yt.p)},roundness:{get:ExpressionPropertyInterface(yt.r)},size:{get:ExpressionPropertyInterface(yt.s)},_name:{value:vt.nm}}),pt.mn=vt.mn,pt}function ft(vt,gt,_t){function pt(xt){return vt.r.ix===xt||xt==="Round Corners 1"?pt.radius:null}var mt=propertyGroupFactory(pt,_t),yt=gt;return pt.propertyIndex=vt.ix,yt.rd.setGroupProperty(PropertyInterface("Radius",mt)),Object.defineProperties(pt,{radius:{get:ExpressionPropertyInterface(yt.rd)},_name:{value:vt.nm}}),pt.mn=vt.mn,pt}function dt(vt,gt,_t){function pt(xt){return vt.c.ix===xt||xt==="Copies"?pt.copies:vt.o.ix===xt||xt==="Offset"?pt.offset:null}var mt=propertyGroupFactory(pt,_t),yt=gt;return pt.propertyIndex=vt.ix,yt.c.setGroupProperty(PropertyInterface("Copies",mt)),yt.o.setGroupProperty(PropertyInterface("Offset",mt)),Object.defineProperties(pt,{copies:{get:ExpressionPropertyInterface(yt.c)},offset:{get:ExpressionPropertyInterface(yt.o)},_name:{value:vt.nm}}),pt.mn=vt.mn,pt}return function(vt,gt,_t){var pt;function mt(xt){if(typeof xt=="number")return xt=xt===void 0?1:xt,xt===0?_t:pt[xt-1];for(var bt=0,wt=pt.length;bt<wt;){if(pt[bt]._name===xt)return pt[bt];bt+=1}return null}function yt(){return _t}return mt.propertyGroup=propertyGroupFactory(mt,yt),pt=o(vt,gt,mt.propertyGroup),mt.numProperties=pt.length,mt._name="Contents",mt}}(),TextExpressionInterface=function(){return function(o){var s,et;function tt(nt){switch(nt){case"ADBE Text Document":return tt.sourceText;default:return null}}return Object.defineProperty(tt,"sourceText",{get:function(){o.textProperty.getValue();var rt=o.textProperty.currentData.t;return rt!==s&&(o.textProperty.currentData.t=s,et=new String(rt),et.value=rt||new String(rt)),et}}),tt}}(),getBlendMode=function(){var o={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(s){return o[s]||""}}();function SliderEffect(o,s,et){this.p=PropertyFactory.getProp(s,o.v,0,0,et)}function AngleEffect(o,s,et){this.p=PropertyFactory.getProp(s,o.v,0,0,et)}function ColorEffect(o,s,et){this.p=PropertyFactory.getProp(s,o.v,1,0,et)}function PointEffect(o,s,et){this.p=PropertyFactory.getProp(s,o.v,1,0,et)}function LayerIndexEffect(o,s,et){this.p=PropertyFactory.getProp(s,o.v,0,0,et)}function MaskIndexEffect(o,s,et){this.p=PropertyFactory.getProp(s,o.v,0,0,et)}function CheckboxEffect(o,s,et){this.p=PropertyFactory.getProp(s,o.v,0,0,et)}function NoValueEffect(){this.p={}}function EffectsManager(o,s){var et=o.ef||[];this.effectElements=[];var tt,nt=et.length,rt;for(tt=0;tt<nt;tt+=1)rt=new GroupEffect(et[tt],s),this.effectElements.push(rt)}function GroupEffect(o,s){this.init(o,s)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(o,s){this.data=o,this.effectElements=[],this.initDynamicPropertyContainer(s);var et,tt=this.data.ef.length,nt,rt=this.data.ef;for(et=0;et<tt;et+=1){switch(nt=null,rt[et].ty){case 0:nt=new SliderEffect(rt[et],s,this);break;case 1:nt=new AngleEffect(rt[et],s,this);break;case 2:nt=new ColorEffect(rt[et],s,this);break;case 3:nt=new PointEffect(rt[et],s,this);break;case 4:case 7:nt=new CheckboxEffect(rt[et],s,this);break;case 10:nt=new LayerIndexEffect(rt[et],s,this);break;case 11:nt=new MaskIndexEffect(rt[et],s,this);break;case 5:nt=new EffectsManager(rt[et],s);break;default:nt=new NoValueEffect(rt[et]);break}nt&&this.effectElements.push(nt)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var s=0,et=this.data.masksProperties.length;s<et;){if(this.data.masksProperties[s].mode!=="n"&&this.data.masksProperties[s].cl!==!1)return!0;s+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var s=getBlendMode(this.data.bm),et=this.baseElement||this.layerElement;et.style["mix-blend-mode"]=s},initBaseData:function(s,et,tt){this.globalData=et,this.comp=tt,this.data=s,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(s,et){var tt,nt=this.dynamicProperties.length;for(tt=0;tt<nt;tt+=1)(et||this._isParent&&this.dynamicProperties[tt].propType==="transform")&&(this.dynamicProperties[tt].getValue(),this.dynamicProperties[tt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(s){this.dynamicProperties.indexOf(s)===-1&&this.dynamicProperties.push(s)}};function _typeof$2(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(et){return typeof et}:_typeof$2=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$2(o)}var FootageInterface=function(){var o=function(tt){var nt="",rt=tt.getFootageData();function it(){return nt="",rt=tt.getFootageData(),st}function st(ot){if(rt[ot])return nt=ot,rt=rt[ot],_typeof$2(rt)==="object"?st:rt;var at=ot.indexOf(nt);if(at!==-1){var ut=parseInt(ot.substr(at+nt.length),10);return rt=rt[ut],_typeof$2(rt)==="object"?st:rt}return""}return it},s=function(tt){function nt(rt){return rt==="Outline"?nt.outlineInterface():null}return nt._name="Outline",nt.outlineInterface=o(tt),nt};return function(et){function tt(nt){return nt==="Data"?tt.dataInterface:null}return tt._name="Data",tt.dataInterface=s(et),tt}}();function FootageElement(o,s,et){this.initFrame(),this.initRenderable(),this.assetData=s.getAssetData(o.refId),this.footageData=s.imageLoader.getAsset(this.assetData),this.initBaseData(o,s,et)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(o,s,et){this.initFrame(),this.initRenderable(),this.assetData=s.getAssetData(o.refId),this.initBaseData(o,s,et),this._isPlaying=!1,this._canPlay=!1;var tt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(tt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,s.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,o.au&&o.au.lv?o.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(o){if(this.prepareRenderableFrame(o,!0),this.prepareProperties(o,!0),this.tm._placeholder)this._currentTime=o/this.data.sr;else{var s=this.tm.v;this._currentTime=s}this._volume=this.lv.v[0];var et=this._volume*this._volumeMultiplier;this._previousVolume!==et&&(this._previousVolume=et,this.audio.volume(et))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(o){this.audio.rate(o)},AudioElement.prototype.volume=function(o){this._volumeMultiplier=o,this._previousVolume=o*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(o){var s,et=this.layers.length,tt;for(this.completeLayers=!0,s=et-1;s>=0;s-=1)this.elements[s]||(tt=this.layers[s],tt.ip-tt.st<=o-this.layers[s].st&&tt.op-tt.st>o-this.layers[s].st&&this.buildItem(s)),this.completeLayers=this.elements[s]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(o){switch(o.ty){case 2:return this.createImage(o);case 0:return this.createComp(o);case 1:return this.createSolid(o);case 3:return this.createNull(o);case 4:return this.createShape(o);case 5:return this.createText(o);case 6:return this.createAudio(o);case 13:return this.createCamera(o);case 15:return this.createFootage(o);default:return this.createNull(o)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(o){return new AudioElement(o,this.globalData,this)},BaseRenderer.prototype.createFootage=function(o){return new FootageElement(o,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var o,s=this.layers.length;for(o=0;o<s;o+=1)this.buildItem(o);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(o){this.completeLayers=!1;var s,et=o.length,tt,nt=this.layers.length;for(s=0;s<et;s+=1)for(tt=0;tt<nt;){if(this.layers[tt].id===o[s].id){this.layers[tt]=o[s];break}tt+=1}},BaseRenderer.prototype.setProjectInterface=function(o){this.globalData.projectInterface=o},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(o,s,et){for(var tt=this.elements,nt=this.layers,rt=0,it=nt.length;rt<it;)nt[rt].ind==s&&(!tt[rt]||tt[rt]===!0?(this.buildItem(rt),this.addPendingElement(o)):(et.push(tt[rt]),tt[rt].setAsParent(),nt[rt].parent!==void 0?this.buildElementParenting(o,nt[rt].parent,et):o.setHierarchy(et))),rt+=1},BaseRenderer.prototype.addPendingElement=function(o){this.pendingElements.push(o)},BaseRenderer.prototype.searchExtraCompositions=function(o){var s,et=o.length;for(s=0;s<et;s+=1)if(o[s].xt){var tt=this.createComp(o[s]);tt.initExpressions(),this.globalData.projectInterface.registerComposition(tt)}},BaseRenderer.prototype.getElementByPath=function(o){var s=o.shift(),et;if(typeof s=="number")et=this.elements[s];else{var tt,nt=this.elements.length;for(tt=0;tt<nt;tt+=1)if(this.elements[tt].data.nm===s){et=this.elements[tt];break}}return o.length===0?et:et.getElementByPath(o)},BaseRenderer.prototype.setupGlobalData=function(o,s){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(o.chars),this.globalData.fontManager.addFonts(o.fonts,s),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=o.fr,this.globalData.nm=o.nm,this.globalData.compSize={w:o.w,h:o.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var s,et=this.finalTransform.mat,tt=0,nt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;tt<nt;){if(this.hierarchy[tt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}tt+=1}if(this.finalTransform._matMdf)for(s=this.finalTransform.mProp.v.props,et.cloneFromProps(s),tt=0;tt<nt;tt+=1)s=this.hierarchy[tt].finalTransform.mProp.v.props,et.transform(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13],s[14],s[15])}},globalToLocal:function(s){var et=[];et.push(this.finalTransform);for(var tt=!0,nt=this.comp;tt;)nt.finalTransform?(nt.data.hasMask&&et.splice(0,0,nt.finalTransform),nt=nt.comp):tt=!1;var rt,it=et.length,st;for(rt=0;rt<it;rt+=1)st=et[rt].mat.applyToPointArray(0,0,0),s=[s[0]-st[0],s[1]-st[1],0];return s},mHelper:new Matrix};function MaskElement(o,s,et){this.data=o,this.element=s,this.globalData=et,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var tt=this.globalData.defs,nt,rt=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(rt),this.solidPath="";var it,st=this.masksProperties,ot=0,at=[],ut,ht,ft=createElementID(),dt,vt,gt,_t,pt="clipPath",mt="clip-path";for(nt=0;nt<rt;nt+=1)if((st[nt].mode!=="a"&&st[nt].mode!=="n"||st[nt].inv||st[nt].o.k!==100||st[nt].o.x)&&(pt="mask",mt="mask"),(st[nt].mode==="s"||st[nt].mode==="i")&&ot===0?(dt=createNS("rect"),dt.setAttribute("fill","#ffffff"),dt.setAttribute("width",this.element.comp.data.w||0),dt.setAttribute("height",this.element.comp.data.h||0),at.push(dt)):dt=null,it=createNS("path"),st[nt].mode==="n")this.viewData[nt]={op:PropertyFactory.getProp(this.element,st[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,st[nt],3),elem:it,lastPath:""},tt.appendChild(it);else{ot+=1,it.setAttribute("fill",st[nt].mode==="s"?"#000000":"#ffffff"),it.setAttribute("clip-rule","nonzero");var yt;if(st[nt].x.k!==0?(pt="mask",mt="mask",_t=PropertyFactory.getProp(this.element,st[nt].x,0,null,this.element),yt=createElementID(),vt=createNS("filter"),vt.setAttribute("id",yt),gt=createNS("feMorphology"),gt.setAttribute("operator","erode"),gt.setAttribute("in","SourceGraphic"),gt.setAttribute("radius","0"),vt.appendChild(gt),tt.appendChild(vt),it.setAttribute("stroke",st[nt].mode==="s"?"#000000":"#ffffff")):(gt=null,_t=null),this.storedData[nt]={elem:it,x:_t,expan:gt,lastPath:"",lastOperator:"",filterId:yt,lastRadius:0},st[nt].mode==="i"){ht=at.length;var xt=createNS("g");for(ut=0;ut<ht;ut+=1)xt.appendChild(at[ut]);var bt=createNS("mask");bt.setAttribute("mask-type","alpha"),bt.setAttribute("id",ft+"_"+ot),bt.appendChild(it),tt.appendChild(bt),xt.setAttribute("mask","url("+getLocationHref()+"#"+ft+"_"+ot+")"),at.length=0,at.push(xt)}else at.push(it);st[nt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[nt]={elem:it,lastPath:"",op:PropertyFactory.getProp(this.element,st[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,st[nt],3),invRect:dt},this.viewData[nt].prop.k||this.drawPath(st[nt],this.viewData[nt].prop.v,this.viewData[nt])}for(this.maskElement=createNS(pt),rt=at.length,nt=0;nt<rt;nt+=1)this.maskElement.appendChild(at[nt]);ot>0&&(this.maskElement.setAttribute("id",ft),this.element.maskedElement.setAttribute(mt,"url("+getLocationHref()+"#"+ft+")"),tt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(o){return this.viewData[o].prop},MaskElement.prototype.renderFrame=function(o){var s=this.element.finalTransform.mat,et,tt=this.masksProperties.length;for(et=0;et<tt;et+=1)if((this.viewData[et].prop._mdf||o)&&this.drawPath(this.masksProperties[et],this.viewData[et].prop.v,this.viewData[et]),(this.viewData[et].op._mdf||o)&&this.viewData[et].elem.setAttribute("fill-opacity",this.viewData[et].op.v),this.masksProperties[et].mode!=="n"&&(this.viewData[et].invRect&&(this.element.finalTransform.mProp._mdf||o)&&this.viewData[et].invRect.setAttribute("transform",s.getInverseMatrix().to2dCSS()),this.storedData[et].x&&(this.storedData[et].x._mdf||o))){var nt=this.storedData[et].expan;this.storedData[et].x.v<0?(this.storedData[et].lastOperator!=="erode"&&(this.storedData[et].lastOperator="erode",this.storedData[et].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[et].filterId+")")),nt.setAttribute("radius",-this.storedData[et].x.v)):(this.storedData[et].lastOperator!=="dilate"&&(this.storedData[et].lastOperator="dilate",this.storedData[et].elem.setAttribute("filter",null)),this.storedData[et].elem.setAttribute("stroke-width",this.storedData[et].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var o="M0,0 ";return o+=" h"+this.globalData.compSize.w,o+=" v"+this.globalData.compSize.h,o+=" h-"+this.globalData.compSize.w,o+=" v-"+this.globalData.compSize.h+" ",o},MaskElement.prototype.drawPath=function(o,s,et){var tt=" M"+s.v[0][0]+","+s.v[0][1],nt,rt;for(rt=s._length,nt=1;nt<rt;nt+=1)tt+=" C"+s.o[nt-1][0]+","+s.o[nt-1][1]+" "+s.i[nt][0]+","+s.i[nt][1]+" "+s.v[nt][0]+","+s.v[nt][1];if(s.c&&rt>1&&(tt+=" C"+s.o[nt-1][0]+","+s.o[nt-1][1]+" "+s.i[0][0]+","+s.i[0][1]+" "+s.v[0][0]+","+s.v[0][1]),et.lastPath!==tt){var it="";et.elem&&(s.c&&(it=o.inv?this.solidPath+tt:tt),et.elem.setAttribute("d",it)),et.lastPath=tt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var o={};o.createFilter=s,o.createAlphaToLuminanceFilter=et;function s(tt,nt){var rt=createNS("filter");return rt.setAttribute("id",tt),nt!==!0&&(rt.setAttribute("filterUnits","objectBoundingBox"),rt.setAttribute("x","0%"),rt.setAttribute("y","0%"),rt.setAttribute("width","100%"),rt.setAttribute("height","100%")),rt}function et(){var tt=createNS("feColorMatrix");return tt.setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","sRGB"),tt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),tt}return o}(),featureSupport=function(){var o={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(o.maskType=!1),o}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(o){var s,et="SourceGraphic",tt=o.data.ef?o.data.ef.length:0,nt=createElementID(),rt=filtersFactory.createFilter(nt,!0),it=0;this.filters=[];var st;for(s=0;s<tt;s+=1){st=null;var ot=o.data.ef[s].ty;if(registeredEffects[ot]){var at=registeredEffects[ot].effect;st=new at(rt,o.effectsManager.effectElements[s],o,idPrefix+it,et),et=idPrefix+it,registeredEffects[ot].countsAsEffect&&(it+=1)}st&&this.filters.push(st)}it&&(o.globalData.defs.appendChild(rt),o.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+nt+")")),this.filters.length&&o.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(o){var s,et=this.filters.length;for(s=0;s<et;s+=1)this.filters[s].renderFrame(o)};function registerEffect(o,s,et){registeredEffects[o]={effect:s,countsAsEffect:et}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var s=null,et,tt,nt;if(this.data.td){if(this.data.td==3||this.data.td==1){var rt=createNS("mask");rt.setAttribute("id",this.layerId),rt.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),rt.appendChild(this.layerElement),s=rt,this.globalData.defs.appendChild(rt),!featureSupport.maskType&&this.data.td==1&&(rt.setAttribute("mask-type","luminance"),et=createElementID(),tt=filtersFactory.createFilter(et),this.globalData.defs.appendChild(tt),tt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),nt=createNS("g"),nt.appendChild(this.layerElement),s=nt,rt.appendChild(nt),nt.setAttribute("filter","url("+getLocationHref()+"#"+et+")"))}else if(this.data.td==2){var it=createNS("mask");it.setAttribute("id",this.layerId),it.setAttribute("mask-type","alpha");var st=createNS("g");it.appendChild(st),et=createElementID(),tt=filtersFactory.createFilter(et);var ot=createNS("feComponentTransfer");ot.setAttribute("in","SourceGraphic"),tt.appendChild(ot);var at=createNS("feFuncA");at.setAttribute("type","table"),at.setAttribute("tableValues","1.0 0.0"),ot.appendChild(at),this.globalData.defs.appendChild(tt);var ut=createNS("rect");ut.setAttribute("width",this.comp.data.w),ut.setAttribute("height",this.comp.data.h),ut.setAttribute("x","0"),ut.setAttribute("y","0"),ut.setAttribute("fill","#ffffff"),ut.setAttribute("opacity","0"),st.setAttribute("filter","url("+getLocationHref()+"#"+et+")"),st.appendChild(ut),st.appendChild(this.layerElement),s=st,featureSupport.maskType||(it.setAttribute("mask-type","luminance"),tt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),nt=createNS("g"),st.appendChild(ut),nt.appendChild(this.layerElement),s=nt,st.appendChild(nt)),this.globalData.defs.appendChild(it)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),s=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ht=createNS("clipPath"),ft=createNS("path");ft.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var dt=createElementID();if(ht.setAttribute("id",dt),ht.appendChild(ft),this.globalData.defs.appendChild(ht),this.checkMasks()){var vt=createNS("g");vt.setAttribute("clip-path","url("+getLocationHref()+"#"+dt+")"),vt.appendChild(this.layerElement),this.transformedElement=vt,s?s.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+dt+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(s){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+s+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(s){this.hierarchy=s},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var o={initElement:function(et,tt,nt){this.initFrame(),this.initBaseData(et,tt,nt),this.initTransform(et,tt,nt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var et=this.baseElement||this.layerElement;et.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var et=this.baseElement||this.layerElement;et.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(o)],RenderableDOMElement)})();function IImageElement(o,s,et){this.assetData=s.getAssetData(o.refId),this.initElement(o,s,et),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(o,s){this.elem=o,this.pos=s}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(s){var et,tt=this.shapeModifiers.length;for(et=0;et<tt;et+=1)this.shapeModifiers[et].addShape(s)},isShapeInAnimatedModifiers:function(s){for(var et=0,tt=this.shapeModifiers.length;et<tt;)if(this.shapeModifiers[et].isAnimatedWithShape(s))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var s,et=this.shapes.length;for(s=0;s<et;s+=1)this.shapes[s].sh.reset();et=this.shapeModifiers.length;var tt;for(s=et-1;s>=0&&(tt=this.shapeModifiers[s].processShapes(this._isFirstFrame),!tt);s-=1);}},searchProcessedElement:function(s){for(var et=this.processedElements,tt=0,nt=et.length;tt<nt;){if(et[tt].elem===s)return et[tt].pos;tt+=1}return 0},addProcessedElement:function(s,et){for(var tt=this.processedElements,nt=tt.length;nt;)if(nt-=1,tt[nt].elem===s){tt[nt].pos=et;return}tt.push(new ProcessedElement(s,et))},prepareFrame:function(s){this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(o,s,et){this.caches=[],this.styles=[],this.transformers=o,this.lStr="",this.sh=et,this.lvl=s,this._isAnimated=!!et.k;for(var tt=0,nt=o.length;tt<nt;){if(o[tt].mProps.dynamicProperties.length){this._isAnimated=!0;break}tt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(o,s){this.data=o,this.type=o.ty,this.d="",this.lvl=s,this._mdf=!1,this.closed=o.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(o,s,et,tt){this.elem=o,this.frameId=-1,this.dataProps=createSizedArray(s.length),this.renderer=et,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",s.length?s.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(tt);var nt,rt=s.length||0,it;for(nt=0;nt<rt;nt+=1)it=PropertyFactory.getProp(o,s[nt].v,0,0,this),this.k=it.k||this.k,this.dataProps[nt]={n:s[nt].n,p:it};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(o){if(!(this.elem.globalData.frameId===this.frameId&&!o)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||o,this._mdf)){var s=0,et=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),s=0;s<et;s+=1)this.dataProps[s].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[s].p.v:this.dashArray[s]=this.dataProps[s].p.v:this.dashoffset[0]=this.dataProps[s].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(o,s,et){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,s.o,0,.01,this),this.w=PropertyFactory.getProp(o,s.w,0,null,this),this.d=new DashProperty(o,s.d||{},"svg",this),this.c=PropertyFactory.getProp(o,s.c,1,255,this),this.style=et,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(o,s,et){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,s.o,0,.01,this),this.c=PropertyFactory.getProp(o,s.c,1,255,this),this.style=et}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(o,s,et){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.style=et}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(o,s,et){this.data=s,this.c=createTypedArray("uint8c",s.p*4);var tt=s.k.k[0].s?s.k.k[0].s.length-s.p*4:s.k.k.length-s.p*4;this.o=createTypedArray("float32",tt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=tt,this.initDynamicPropertyContainer(et),this.prop=PropertyFactory.getProp(o,s.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(o,s){for(var et=0,tt=this.o.length/2,nt;et<tt;){if(nt=Math.abs(o[et*4]-o[s*4+et*2]),nt>.01)return!1;et+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var o=0,s=this.data.k.k.length;o<s;){if(!this.comparePoints(this.data.k.k[o].s,this.data.p))return!1;o+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(o){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||o){var s,et=this.data.p*4,tt,nt;for(s=0;s<et;s+=1)tt=s%4===0?100:255,nt=Math.round(this.prop.v[s]*tt),this.c[s]!==nt&&(this.c[s]=nt,this._cmdf=!o);if(this.o.length)for(et=this.prop.v.length,s=this.data.p*4;s<et;s+=1)tt=s%2===0?100:1,nt=s%2===0?Math.round(this.prop.v[s]*100):this.prop.v[s],this.o[s-this.data.p*4]!==nt&&(this.o[s-this.data.p*4]=nt,this._omdf=!o);this._mdf=!o}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(o,s,et){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.initGradientData(o,s,et)}SVGGradientFillStyleData.prototype.initGradientData=function(o,s,et){this.o=PropertyFactory.getProp(o,s.o,0,.01,this),this.s=PropertyFactory.getProp(o,s.s,1,null,this),this.e=PropertyFactory.getProp(o,s.e,1,null,this),this.h=PropertyFactory.getProp(o,s.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(o,s.a||{k:0},0,degToRads,this),this.g=new GradientProperty(o,s.g,this),this.style=et,this.stops=[],this.setGradientData(et.pElem,s),this.setGradientOpacity(s,et),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(o,s){var et=createElementID(),tt=createNS(s.t===1?"linearGradient":"radialGradient");tt.setAttribute("id",et),tt.setAttribute("spreadMethod","pad"),tt.setAttribute("gradientUnits","userSpaceOnUse");var nt=[],rt,it,st;for(st=s.g.p*4,it=0;it<st;it+=4)rt=createNS("stop"),tt.appendChild(rt),nt.push(rt);o.setAttribute(s.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+et+")"),this.gf=tt,this.cst=nt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(o,s){if(this.g._hasOpacity&&!this.g._collapsable){var et,tt,nt,rt=createNS("mask"),it=createNS("path");rt.appendChild(it);var st=createElementID(),ot=createElementID();rt.setAttribute("id",ot);var at=createNS(o.t===1?"linearGradient":"radialGradient");at.setAttribute("id",st),at.setAttribute("spreadMethod","pad"),at.setAttribute("gradientUnits","userSpaceOnUse"),nt=o.g.k.k[0].s?o.g.k.k[0].s.length:o.g.k.k.length;var ut=this.stops;for(tt=o.g.p*4;tt<nt;tt+=2)et=createNS("stop"),et.setAttribute("stop-color","rgb(255,255,255)"),at.appendChild(et),ut.push(et);it.setAttribute(o.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+st+")"),o.ty==="gs"&&(it.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),it.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),o.lj===1&&it.setAttribute("stroke-miterlimit",o.ml)),this.of=at,this.ms=rt,this.ost=ut,this.maskId=ot,s.msElem=it}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(o,s,et){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(o,s.w,0,null,this),this.d=new DashProperty(o,s.d||{},"svg",this),this.initGradientData(o,s,et),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(o,s,et){this.transform={mProps:o,op:s,container:et},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(s,et,tt,nt){if(et===0)return"";var rt=s.o,it=s.i,st=s.v,ot,at=" M"+nt.applyToPointStringified(st[0][0],st[0][1]);for(ot=1;ot<et;ot+=1)at+=" C"+nt.applyToPointStringified(rt[ot-1][0],rt[ot-1][1])+" "+nt.applyToPointStringified(it[ot][0],it[ot][1])+" "+nt.applyToPointStringified(st[ot][0],st[ot][1]);return tt&&et&&(at+=" C"+nt.applyToPointStringified(rt[ot-1][0],rt[ot-1][1])+" "+nt.applyToPointStringified(it[0][0],it[0][1])+" "+nt.applyToPointStringified(st[0][0],st[0][1]),at+="z"),at},SVGElementsRenderer=function(){var o=new Matrix,s=new Matrix,et={createRenderFunction:tt};function tt(ht){switch(ht.ty){case"fl":return st;case"gf":return at;case"gs":return ot;case"st":return ut;case"sh":case"el":case"rc":case"sr":return it;case"tr":return nt;case"no":return rt;default:return null}}function nt(ht,ft,dt){(dt||ft.transform.op._mdf)&&ft.transform.container.setAttribute("opacity",ft.transform.op.v),(dt||ft.transform.mProps._mdf)&&ft.transform.container.setAttribute("transform",ft.transform.mProps.v.to2dCSS())}function rt(){}function it(ht,ft,dt){var vt,gt,_t,pt,mt,yt,xt=ft.styles.length,bt=ft.lvl,wt,Ct,Et,kt,Dt;for(yt=0;yt<xt;yt+=1){if(pt=ft.sh._mdf||dt,ft.styles[yt].lvl<bt){for(Ct=s.reset(),kt=bt-ft.styles[yt].lvl,Dt=ft.transformers.length-1;!pt&&kt>0;)pt=ft.transformers[Dt].mProps._mdf||pt,kt-=1,Dt-=1;if(pt)for(kt=bt-ft.styles[yt].lvl,Dt=ft.transformers.length-1;kt>0;)Et=ft.transformers[Dt].mProps.v.props,Ct.transform(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5],Et[6],Et[7],Et[8],Et[9],Et[10],Et[11],Et[12],Et[13],Et[14],Et[15]),kt-=1,Dt-=1}else Ct=o;if(wt=ft.sh.paths,gt=wt._length,pt){for(_t="",vt=0;vt<gt;vt+=1)mt=wt.shapes[vt],mt&&mt._length&&(_t+=buildShapeString(mt,mt._length,mt.c,Ct));ft.caches[yt]=_t}else _t=ft.caches[yt];ft.styles[yt].d+=ht.hd===!0?"":_t,ft.styles[yt]._mdf=pt||ft.styles[yt]._mdf}}function st(ht,ft,dt){var vt=ft.style;(ft.c._mdf||dt)&&vt.pElem.setAttribute("fill","rgb("+bmFloor(ft.c.v[0])+","+bmFloor(ft.c.v[1])+","+bmFloor(ft.c.v[2])+")"),(ft.o._mdf||dt)&&vt.pElem.setAttribute("fill-opacity",ft.o.v)}function ot(ht,ft,dt){at(ht,ft,dt),ut(ht,ft,dt)}function at(ht,ft,dt){var vt=ft.gf,gt=ft.g._hasOpacity,_t=ft.s.v,pt=ft.e.v;if(ft.o._mdf||dt){var mt=ht.ty==="gf"?"fill-opacity":"stroke-opacity";ft.style.pElem.setAttribute(mt,ft.o.v)}if(ft.s._mdf||dt){var yt=ht.t===1?"x1":"cx",xt=yt==="x1"?"y1":"cy";vt.setAttribute(yt,_t[0]),vt.setAttribute(xt,_t[1]),gt&&!ft.g._collapsable&&(ft.of.setAttribute(yt,_t[0]),ft.of.setAttribute(xt,_t[1]))}var bt,wt,Ct,Et;if(ft.g._cmdf||dt){bt=ft.cst;var kt=ft.g.c;for(Ct=bt.length,wt=0;wt<Ct;wt+=1)Et=bt[wt],Et.setAttribute("offset",kt[wt*4]+"%"),Et.setAttribute("stop-color","rgb("+kt[wt*4+1]+","+kt[wt*4+2]+","+kt[wt*4+3]+")")}if(gt&&(ft.g._omdf||dt)){var Dt=ft.g.o;for(ft.g._collapsable?bt=ft.cst:bt=ft.ost,Ct=bt.length,wt=0;wt<Ct;wt+=1)Et=bt[wt],ft.g._collapsable||Et.setAttribute("offset",Dt[wt*2]+"%"),Et.setAttribute("stop-opacity",Dt[wt*2+1])}if(ht.t===1)(ft.e._mdf||dt)&&(vt.setAttribute("x2",pt[0]),vt.setAttribute("y2",pt[1]),gt&&!ft.g._collapsable&&(ft.of.setAttribute("x2",pt[0]),ft.of.setAttribute("y2",pt[1])));else{var zt;if((ft.s._mdf||ft.e._mdf||dt)&&(zt=Math.sqrt(Math.pow(_t[0]-pt[0],2)+Math.pow(_t[1]-pt[1],2)),vt.setAttribute("r",zt),gt&&!ft.g._collapsable&&ft.of.setAttribute("r",zt)),ft.e._mdf||ft.h._mdf||ft.a._mdf||dt){zt||(zt=Math.sqrt(Math.pow(_t[0]-pt[0],2)+Math.pow(_t[1]-pt[1],2)));var Wt=Math.atan2(pt[1]-_t[1],pt[0]-_t[0]),Ht=ft.h.v;Ht>=1?Ht=.99:Ht<=-1&&(Ht=-.99);var Gt=zt*Ht,$t=Math.cos(Wt+ft.a.v)*Gt+_t[0],Ft=Math.sin(Wt+ft.a.v)*Gt+_t[1];vt.setAttribute("fx",$t),vt.setAttribute("fy",Ft),gt&&!ft.g._collapsable&&(ft.of.setAttribute("fx",$t),ft.of.setAttribute("fy",Ft))}}}function ut(ht,ft,dt){var vt=ft.style,gt=ft.d;gt&&(gt._mdf||dt)&&gt.dashStr&&(vt.pElem.setAttribute("stroke-dasharray",gt.dashStr),vt.pElem.setAttribute("stroke-dashoffset",gt.dashoffset[0])),ft.c&&(ft.c._mdf||dt)&&vt.pElem.setAttribute("stroke","rgb("+bmFloor(ft.c.v[0])+","+bmFloor(ft.c.v[1])+","+bmFloor(ft.c.v[2])+")"),(ft.o._mdf||dt)&&vt.pElem.setAttribute("stroke-opacity",ft.o.v),(ft.w._mdf||dt)&&(vt.pElem.setAttribute("stroke-width",ft.w.v),vt.msElem&&vt.msElem.setAttribute("stroke-width",ft.w.v))}return et}();function SVGShapeElement(o,s,et){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(o,s,et),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var o,s=this.shapes.length,et,tt,nt=this.stylesList.length,rt,it=[],st=!1;for(tt=0;tt<nt;tt+=1){for(rt=this.stylesList[tt],st=!1,it.length=0,o=0;o<s;o+=1)et=this.shapes[o],et.styles.indexOf(rt)!==-1&&(it.push(et),st=et._isAnimated||st);it.length>1&&st&&this.setShapesAsAnimated(it)}},SVGShapeElement.prototype.setShapesAsAnimated=function(o){var s,et=o.length;for(s=0;s<et;s+=1)o[s].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(o,s){var et,tt=new SVGStyleData(o,s),nt=tt.pElem;if(o.ty==="st")et=new SVGStrokeStyleData(this,o,tt);else if(o.ty==="fl")et=new SVGFillStyleData(this,o,tt);else if(o.ty==="gf"||o.ty==="gs"){var rt=o.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;et=new rt(this,o,tt),this.globalData.defs.appendChild(et.gf),et.maskId&&(this.globalData.defs.appendChild(et.ms),this.globalData.defs.appendChild(et.of),nt.setAttribute("mask","url("+getLocationHref()+"#"+et.maskId+")"))}else o.ty==="no"&&(et=new SVGNoStyleData(this,o,tt));return(o.ty==="st"||o.ty==="gs")&&(nt.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),nt.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),nt.setAttribute("fill-opacity","0"),o.lj===1&&nt.setAttribute("stroke-miterlimit",o.ml)),o.r===2&&nt.setAttribute("fill-rule","evenodd"),o.ln&&nt.setAttribute("id",o.ln),o.cl&&nt.setAttribute("class",o.cl),o.bm&&(nt.style["mix-blend-mode"]=getBlendMode(o.bm)),this.stylesList.push(tt),this.addToAnimatedContents(o,et),et},SVGShapeElement.prototype.createGroupElement=function(o){var s=new ShapeGroupData;return o.ln&&s.gr.setAttribute("id",o.ln),o.cl&&s.gr.setAttribute("class",o.cl),o.bm&&(s.gr.style["mix-blend-mode"]=getBlendMode(o.bm)),s},SVGShapeElement.prototype.createTransformElement=function(o,s){var et=TransformPropertyFactory.getTransformProperty(this,o,this),tt=new SVGTransformData(et,et.o,s);return this.addToAnimatedContents(o,tt),tt},SVGShapeElement.prototype.createShapeElement=function(o,s,et){var tt=4;o.ty==="rc"?tt=5:o.ty==="el"?tt=6:o.ty==="sr"&&(tt=7);var nt=ShapePropertyFactory.getShapeProp(this,o,tt,this),rt=new SVGShapeData(s,et,nt);return this.shapes.push(rt),this.addShapeToModifiers(rt),this.addToAnimatedContents(o,rt),rt},SVGShapeElement.prototype.addToAnimatedContents=function(o,s){for(var et=0,tt=this.animatedContents.length;et<tt;){if(this.animatedContents[et].element===s)return;et+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(o),element:s,data:o})},SVGShapeElement.prototype.setElementStyles=function(o){var s=o.styles,et,tt=this.stylesList.length;for(et=0;et<tt;et+=1)this.stylesList[et].closed||s.push(this.stylesList[et])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,s=this.itemsData.length;for(o=0;o<s;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),s=this.dynamicProperties.length,o=0;o<s;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(o,s,et,tt,nt,rt,it){var st=[].concat(rt),ot,at=o.length-1,ut,ht,ft=[],dt=[],vt,gt,_t;for(ot=at;ot>=0;ot-=1){if(_t=this.searchProcessedElement(o[ot]),_t?s[ot]=et[_t-1]:o[ot]._render=it,o[ot].ty==="fl"||o[ot].ty==="st"||o[ot].ty==="gf"||o[ot].ty==="gs"||o[ot].ty==="no")_t?s[ot].style.closed=!1:s[ot]=this.createStyleElement(o[ot],nt),o[ot]._render&&s[ot].style.pElem.parentNode!==tt&&tt.appendChild(s[ot].style.pElem),ft.push(s[ot].style);else if(o[ot].ty==="gr"){if(!_t)s[ot]=this.createGroupElement(o[ot]);else for(ht=s[ot].it.length,ut=0;ut<ht;ut+=1)s[ot].prevViewData[ut]=s[ot].it[ut];this.searchShapes(o[ot].it,s[ot].it,s[ot].prevViewData,s[ot].gr,nt+1,st,it),o[ot]._render&&s[ot].gr.parentNode!==tt&&tt.appendChild(s[ot].gr)}else o[ot].ty==="tr"?(_t||(s[ot]=this.createTransformElement(o[ot],tt)),vt=s[ot].transform,st.push(vt)):o[ot].ty==="sh"||o[ot].ty==="rc"||o[ot].ty==="el"||o[ot].ty==="sr"?(_t||(s[ot]=this.createShapeElement(o[ot],st,nt)),this.setElementStyles(s[ot])):o[ot].ty==="tm"||o[ot].ty==="rd"||o[ot].ty==="ms"||o[ot].ty==="pb"?(_t?(gt=s[ot],gt.closed=!1):(gt=ShapeModifiers.getModifier(o[ot].ty),gt.init(this,o[ot]),s[ot]=gt,this.shapeModifiers.push(gt)),dt.push(gt)):o[ot].ty==="rp"&&(_t?(gt=s[ot],gt.closed=!0):(gt=ShapeModifiers.getModifier(o[ot].ty),s[ot]=gt,gt.init(this,o,ot,s),this.shapeModifiers.push(gt),it=!1),dt.push(gt));this.addProcessedElement(o[ot],ot+1)}for(at=ft.length,ot=0;ot<at;ot+=1)ft[ot].closed=!0;for(at=dt.length,ot=0;ot<at;ot+=1)dt[ot].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var o,s=this.stylesList.length;for(o=0;o<s;o+=1)this.stylesList[o].reset();for(this.renderShape(),o=0;o<s;o+=1)(this.stylesList[o]._mdf||this._isFirstFrame)&&(this.stylesList[o].msElem&&(this.stylesList[o].msElem.setAttribute("d",this.stylesList[o].d),this.stylesList[o].d="M0 0"+this.stylesList[o].d),this.stylesList[o].pElem.setAttribute("d",this.stylesList[o].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var o,s=this.animatedContents.length,et;for(o=0;o<s;o+=1)et=this.animatedContents[o],(this._isFirstFrame||et.element._isAnimated)&&et.data!==!0&&et.fn(et.data,et.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(o,s,et,tt,nt,rt){this.o=o,this.sw=s,this.sc=et,this.fc=tt,this.m=nt,this.p=rt,this._mdf={o:!0,sw:!!s,sc:!!et,fc:!!tt,m:!0,p:!0}}LetterProps.prototype.update=function(o,s,et,tt,nt,rt){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var it=!1;return this.o!==o&&(this.o=o,this._mdf.o=!0,it=!0),this.sw!==s&&(this.sw=s,this._mdf.sw=!0,it=!0),this.sc!==et&&(this.sc=et,this._mdf.sc=!0,it=!0),this.fc!==tt&&(this.fc=tt,this._mdf.fc=!0,it=!0),this.m!==nt&&(this.m=nt,this._mdf.m=!0,it=!0),rt.length&&(this.p[0]!==rt[0]||this.p[1]!==rt[1]||this.p[4]!==rt[4]||this.p[5]!==rt[5]||this.p[12]!==rt[12]||this.p[13]!==rt[13])&&(this.p=rt,this._mdf.p=!0,it=!0),it};function TextProperty(o,s){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=s,this.elem=o,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(o,s){for(var et in s)Object.prototype.hasOwnProperty.call(s,et)&&(o[et]=s[et]);return o},TextProperty.prototype.setCurrentData=function(o){o.__complete||this.completeTextData(o),this.currentData=o,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(o){this.effectsSequence.push(o),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(o){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!o)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var s=this.currentData,et=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var tt,nt=this.effectsSequence.length,rt=o||this.data.d.k[this.keysIndex].s;for(tt=0;tt<nt;tt+=1)et!==this.keysIndex?rt=this.effectsSequence[tt](rt,rt.t):rt=this.effectsSequence[tt](this.currentData,rt.t);s!==rt&&this.setCurrentData(rt),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var o=this.data.d.k,s=this.elem.comp.renderedFrame,et=0,tt=o.length;et<=tt-1&&!(et===tt-1||o[et+1].t>s);)et+=1;return this.keysIndex!==et&&(this.keysIndex=et),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(o){for(var s=[],et=0,tt=o.length,nt,rt,it=!1;et<tt;)nt=o.charCodeAt(et),FontManager.isCombinedCharacter(nt)?s[s.length-1]+=o.charAt(et):nt>=55296&&nt<=56319?(rt=o.charCodeAt(et+1),rt>=56320&&rt<=57343?(it||FontManager.isModifier(nt,rt)?(s[s.length-1]+=o.substr(et,2),it=!1):s.push(o.substr(et,2)),et+=1):s.push(o.charAt(et))):nt>56319?(rt=o.charCodeAt(et+1),FontManager.isZeroWidthJoiner(nt,rt)?(it=!0,s[s.length-1]+=o.substr(et,2),et+=1):s.push(o.charAt(et))):FontManager.isZeroWidthJoiner(nt)?(s[s.length-1]+=o.charAt(et),it=!0):s.push(o.charAt(et)),et+=1;return s},TextProperty.prototype.completeTextData=function(o){o.__complete=!0;var s=this.elem.globalData.fontManager,et=this.data,tt=[],nt,rt,it,st=0,ot,at=et.m.g,ut=0,ht=0,ft=0,dt=[],vt=0,gt=0,_t,pt,mt=s.getFontByName(o.f),yt,xt=0,bt=getFontProperties(mt);o.fWeight=bt.weight,o.fStyle=bt.style,o.finalSize=o.s,o.finalText=this.buildFinalText(o.t),rt=o.finalText.length,o.finalLineHeight=o.lh;var wt=o.tr/1e3*o.finalSize,Ct;if(o.sz)for(var Et=!0,kt=o.sz[0],Dt=o.sz[1],zt,Wt;Et;){Wt=this.buildFinalText(o.t),zt=0,vt=0,rt=Wt.length,wt=o.tr/1e3*o.finalSize;var Ht=-1;for(nt=0;nt<rt;nt+=1)Ct=Wt[nt].charCodeAt(0),it=!1,Wt[nt]===" "?Ht=nt:(Ct===13||Ct===3)&&(vt=0,it=!0,zt+=o.finalLineHeight||o.finalSize*1.2),s.chars?(yt=s.getCharData(Wt[nt],mt.fStyle,mt.fFamily),xt=it?0:yt.w*o.finalSize/100):xt=s.measureText(Wt[nt],o.f,o.finalSize),vt+xt>kt&&Wt[nt]!==" "?(Ht===-1?rt+=1:nt=Ht,zt+=o.finalLineHeight||o.finalSize*1.2,Wt.splice(nt,Ht===nt?1:0,"\r"),Ht=-1,vt=0):(vt+=xt,vt+=wt);zt+=mt.ascent*o.finalSize/100,this.canResize&&o.finalSize>this.minimumFontSize&&Dt<zt?(o.finalSize-=1,o.finalLineHeight=o.finalSize*o.lh/o.s):(o.finalText=Wt,rt=o.finalText.length,Et=!1)}vt=-wt,xt=0;var Gt=0,$t;for(nt=0;nt<rt;nt+=1)if(it=!1,$t=o.finalText[nt],Ct=$t.charCodeAt(0),Ct===13||Ct===3?(Gt=0,dt.push(vt),gt=vt>gt?vt:gt,vt=-2*wt,ot="",it=!0,ft+=1):ot=$t,s.chars?(yt=s.getCharData($t,mt.fStyle,s.getFontByName(o.f).fFamily),xt=it?0:yt.w*o.finalSize/100):xt=s.measureText(ot,o.f,o.finalSize),$t===" "?Gt+=xt+wt:(vt+=xt+wt+Gt,Gt=0),tt.push({l:xt,an:xt,add:ut,n:it,anIndexes:[],val:ot,line:ft,animatorJustifyOffset:0}),at==2){if(ut+=xt,ot===""||ot===" "||nt===rt-1){for((ot===""||ot===" ")&&(ut-=xt);ht<=nt;)tt[ht].an=ut,tt[ht].ind=st,tt[ht].extra=xt,ht+=1;st+=1,ut=0}}else if(at==3){if(ut+=xt,ot===""||nt===rt-1){for(ot===""&&(ut-=xt);ht<=nt;)tt[ht].an=ut,tt[ht].ind=st,tt[ht].extra=xt,ht+=1;ut=0,st+=1}}else tt[st].ind=st,tt[st].extra=0,st+=1;if(o.l=tt,gt=vt>gt?vt:gt,dt.push(vt),o.sz)o.boxWidth=o.sz[0],o.justifyOffset=0;else switch(o.boxWidth=gt,o.j){case 1:o.justifyOffset=-o.boxWidth;break;case 2:o.justifyOffset=-o.boxWidth/2;break;default:o.justifyOffset=0}o.lineWidths=dt;var Ft=et.a,It,Tt;pt=Ft.length;var Pt,Rt,Vt=[];for(_t=0;_t<pt;_t+=1){for(It=Ft[_t],It.a.sc&&(o.strokeColorAnim=!0),It.a.sw&&(o.strokeWidthAnim=!0),(It.a.fc||It.a.fh||It.a.fs||It.a.fb)&&(o.fillColorAnim=!0),Rt=0,Pt=It.s.b,nt=0;nt<rt;nt+=1)Tt=tt[nt],Tt.anIndexes[_t]=Rt,(Pt==1&&Tt.val!==""||Pt==2&&Tt.val!==""&&Tt.val!==" "||Pt==3&&(Tt.n||Tt.val==" "||nt==rt-1)||Pt==4&&(Tt.n||nt==rt-1))&&(It.s.rn===1&&Vt.push(Rt),Rt+=1);et.a[_t].s.totalChars=Rt;var Ot=-1,Xt;if(It.s.rn===1)for(nt=0;nt<rt;nt+=1)Tt=tt[nt],Ot!=Tt.anIndexes[_t]&&(Ot=Tt.anIndexes[_t],Xt=Vt.splice(Math.floor(Math.random()*Vt.length),1)[0]),Tt.anIndexes[_t]=Xt}o.yOffset=o.finalLineHeight||o.finalSize*1.2,o.ls=o.ls||0,o.ascent=mt.ascent*o.finalSize/100},TextProperty.prototype.updateDocumentData=function(o,s){s=s===void 0?this.keysIndex:s;var et=this.copyData({},this.data.d.k[s].s);et=this.copyData(et,o),this.data.d.k[s].s=et,this.recalculate(s),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(o){var s=this.data.d.k[o].s;s.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(s)},TextProperty.prototype.canResizeFont=function(o){this.canResize=o,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(o){this.minimumFontSize=Math.floor(o)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var o=Math.max,s=Math.min,et=Math.floor;function tt(rt,it){this._currentTextLength=-1,this.k=!1,this.data=it,this.elem=rt,this.comp=rt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(rt),this.s=PropertyFactory.getProp(rt,it.s||{k:0},0,0,this),"e"in it?this.e=PropertyFactory.getProp(rt,it.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(rt,it.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(rt,it.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(rt,it.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(rt,it.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(rt,it.a,0,.01,this),this.dynamicProperties.length||this.getValue()}tt.prototype={getMult:function(it){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var st=0,ot=0,at=1,ut=1;this.ne.v>0?st=this.ne.v/100:ot=-this.ne.v/100,this.xe.v>0?at=1-this.xe.v/100:ut=1+this.xe.v/100;var ht=BezierFactory.getBezierEasing(st,ot,at,ut).get,ft=0,dt=this.finalS,vt=this.finalE,gt=this.data.sh;if(gt===2)vt===dt?ft=it>=vt?1:0:ft=o(0,s(.5/(vt-dt)+(it-dt)/(vt-dt),1)),ft=ht(ft);else if(gt===3)vt===dt?ft=it>=vt?0:1:ft=1-o(0,s(.5/(vt-dt)+(it-dt)/(vt-dt),1)),ft=ht(ft);else if(gt===4)vt===dt?ft=0:(ft=o(0,s(.5/(vt-dt)+(it-dt)/(vt-dt),1)),ft<.5?ft*=2:ft=1-2*(ft-.5)),ft=ht(ft);else if(gt===5){if(vt===dt)ft=0;else{var _t=vt-dt;it=s(o(0,it+.5-dt),vt-dt);var pt=-_t/2+it,mt=_t/2;ft=Math.sqrt(1-pt*pt/(mt*mt))}ft=ht(ft)}else gt===6?(vt===dt?ft=0:(it=s(o(0,it+.5-dt),vt-dt),ft=(1+Math.cos(Math.PI+Math.PI*2*it/(vt-dt)))/2),ft=ht(ft)):(it>=et(dt)&&(it-dt<0?ft=o(0,s(s(vt,1)-(dt-it),1)):ft=o(0,s(vt-it,1))),ft=ht(ft));if(this.sm.v!==100){var yt=this.sm.v*.01;yt===0&&(yt=1e-8);var xt=.5-yt*.5;ft<xt?ft=0:(ft=(ft-xt)/yt,ft>1&&(ft=1))}return ft*this.a.v},getValue:function(it){this.iterateDynamicProperties(),this._mdf=it||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,it&&this.data.r===2&&(this.e.v=this._currentTextLength);var st=this.data.r===2?1:100/this.data.totalChars,ot=this.o.v/st,at=this.s.v/st+ot,ut=this.e.v/st+ot;if(at>ut){var ht=at;at=ut,ut=ht}this.finalS=at,this.finalE=ut}},extendPrototype([DynamicPropertyContainer],tt);function nt(rt,it,st){return new tt(rt,it)}return{getTextSelectorProp:nt}}();function TextAnimatorDataProperty(o,s,et){var tt={propType:!1},nt=PropertyFactory.getProp,rt=s.a;this.a={r:rt.r?nt(o,rt.r,0,degToRads,et):tt,rx:rt.rx?nt(o,rt.rx,0,degToRads,et):tt,ry:rt.ry?nt(o,rt.ry,0,degToRads,et):tt,sk:rt.sk?nt(o,rt.sk,0,degToRads,et):tt,sa:rt.sa?nt(o,rt.sa,0,degToRads,et):tt,s:rt.s?nt(o,rt.s,1,.01,et):tt,a:rt.a?nt(o,rt.a,1,0,et):tt,o:rt.o?nt(o,rt.o,0,.01,et):tt,p:rt.p?nt(o,rt.p,1,0,et):tt,sw:rt.sw?nt(o,rt.sw,0,0,et):tt,sc:rt.sc?nt(o,rt.sc,1,0,et):tt,fc:rt.fc?nt(o,rt.fc,1,0,et):tt,fh:rt.fh?nt(o,rt.fh,0,0,et):tt,fs:rt.fs?nt(o,rt.fs,0,.01,et):tt,fb:rt.fb?nt(o,rt.fb,0,.01,et):tt,t:rt.t?nt(o,rt.t,0,0,et):tt},this.s=TextSelectorProp.getTextSelectorProp(o,s.s,et),this.s.t=s.s.t}function TextAnimatorProperty(o,s,et){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=o,this._renderType=s,this._elem=et,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(et)}TextAnimatorProperty.prototype.searchProperties=function(){var o,s=this._textData.a.length,et,tt=PropertyFactory.getProp;for(o=0;o<s;o+=1)et=this._textData.a[o],this._animatorsData[o]=new TextAnimatorDataProperty(this._elem,et,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:tt(this._elem,this._textData.p.a,0,0,this),f:tt(this._elem,this._textData.p.f,0,0,this),l:tt(this._elem,this._textData.p.l,0,0,this),r:tt(this._elem,this._textData.p.r,0,0,this),p:tt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=tt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(o,s){if(this.lettersChangedFlag=s,!(!this._mdf&&!this._isFirstFrame&&!s&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var et=this._moreOptions.alignment.v,tt=this._animatorsData,nt=this._textData,rt=this.mHelper,it=this._renderType,st=this.renderedLetters.length,ot,at,ut,ht,ft=o.l,dt,vt,gt,_t,pt,mt,yt,xt,bt,wt,Ct,Et,kt,Dt,zt;if(this._hasMaskedPath){if(zt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Wt=zt.v;this._pathData.r.v&&(Wt=Wt.reverse()),dt={tLength:0,segments:[]},ht=Wt._length-1;var Ht;for(Et=0,ut=0;ut<ht;ut+=1)Ht=bez.buildBezierData(Wt.v[ut],Wt.v[ut+1],[Wt.o[ut][0]-Wt.v[ut][0],Wt.o[ut][1]-Wt.v[ut][1]],[Wt.i[ut+1][0]-Wt.v[ut+1][0],Wt.i[ut+1][1]-Wt.v[ut+1][1]]),dt.tLength+=Ht.segmentLength,dt.segments.push(Ht),Et+=Ht.segmentLength;ut=ht,zt.v.c&&(Ht=bez.buildBezierData(Wt.v[ut],Wt.v[0],[Wt.o[ut][0]-Wt.v[ut][0],Wt.o[ut][1]-Wt.v[ut][1]],[Wt.i[0][0]-Wt.v[0][0],Wt.i[0][1]-Wt.v[0][1]]),dt.tLength+=Ht.segmentLength,dt.segments.push(Ht),Et+=Ht.segmentLength),this._pathData.pi=dt}if(dt=this._pathData.pi,vt=this._pathData.f.v,yt=0,mt=1,_t=0,pt=!0,wt=dt.segments,vt<0&&zt.v.c)for(dt.tLength<Math.abs(vt)&&(vt=-Math.abs(vt)%dt.tLength),yt=wt.length-1,bt=wt[yt].points,mt=bt.length-1;vt<0;)vt+=bt[mt].partialLength,mt-=1,mt<0&&(yt-=1,bt=wt[yt].points,mt=bt.length-1);bt=wt[yt].points,xt=bt[mt-1],gt=bt[mt],Ct=gt.partialLength}ht=ft.length,ot=0,at=0;var Gt=o.finalSize*1.2*.714,$t=!0,Ft,It,Tt,Pt,Rt;Pt=tt.length;var Vt,Ot=-1,Xt,Kt,fn,Nt=vt,vn=yt,on=mt,bn=-1,cn,xn,tn,Yt,dn,yn,_n,En,Tn="",Ln=this.defaultPropsArray,Bn;if(o.j===2||o.j===1){var Hn=0,qt=0,Bt=o.j===2?-.5:-1,Zt=0,pn=!0;for(ut=0;ut<ht;ut+=1)if(ft[ut].n){for(Hn&&(Hn+=qt);Zt<ut;)ft[Zt].animatorJustifyOffset=Hn,Zt+=1;Hn=0,pn=!0}else{for(Tt=0;Tt<Pt;Tt+=1)Ft=tt[Tt].a,Ft.t.propType&&(pn&&o.j===2&&(qt+=Ft.t.v*Bt),It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),Vt.length?Hn+=Ft.t.v*Vt[0]*Bt:Hn+=Ft.t.v*Vt*Bt);pn=!1}for(Hn&&(Hn+=qt);Zt<ut;)ft[Zt].animatorJustifyOffset=Hn,Zt+=1}for(ut=0;ut<ht;ut+=1){if(rt.reset(),cn=1,ft[ut].n)ot=0,at+=o.yOffset,at+=$t?1:0,vt=Nt,$t=!1,this._hasMaskedPath&&(yt=vn,mt=on,bt=wt[yt].points,xt=bt[mt-1],gt=bt[mt],Ct=gt.partialLength,_t=0),Tn="",En="",yn="",Bn="",Ln=this.defaultPropsArray;else{if(this._hasMaskedPath){if(bn!==ft[ut].line){switch(o.j){case 1:vt+=Et-o.lineWidths[ft[ut].line];break;case 2:vt+=(Et-o.lineWidths[ft[ut].line])/2;break}bn=ft[ut].line}Ot!==ft[ut].ind&&(ft[Ot]&&(vt+=ft[Ot].extra),vt+=ft[ut].an/2,Ot=ft[ut].ind),vt+=et[0]*ft[ut].an*.005;var Sn=0;for(Tt=0;Tt<Pt;Tt+=1)Ft=tt[Tt].a,Ft.p.propType&&(It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),Vt.length?Sn+=Ft.p.v[0]*Vt[0]:Sn+=Ft.p.v[0]*Vt),Ft.a.propType&&(It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),Vt.length?Sn+=Ft.a.v[0]*Vt[0]:Sn+=Ft.a.v[0]*Vt);for(pt=!0,this._pathData.a.v&&(vt=ft[0].an*.5+(Et-this._pathData.f.v-ft[0].an*.5-ft[ft.length-1].an*.5)*Ot/(ht-1),vt+=this._pathData.f.v);pt;)_t+Ct>=vt+Sn||!bt?(kt=(vt+Sn-_t)/gt.partialLength,Kt=xt.point[0]+(gt.point[0]-xt.point[0])*kt,fn=xt.point[1]+(gt.point[1]-xt.point[1])*kt,rt.translate(-et[0]*ft[ut].an*.005,-(et[1]*Gt)*.01),pt=!1):bt&&(_t+=gt.partialLength,mt+=1,mt>=bt.length&&(mt=0,yt+=1,wt[yt]?bt=wt[yt].points:zt.v.c?(mt=0,yt=0,bt=wt[yt].points):(_t-=gt.partialLength,bt=null)),bt&&(xt=gt,gt=bt[mt],Ct=gt.partialLength));Xt=ft[ut].an/2-ft[ut].add,rt.translate(-Xt,0,0)}else Xt=ft[ut].an/2-ft[ut].add,rt.translate(-Xt,0,0),rt.translate(-et[0]*ft[ut].an*.005,-et[1]*Gt*.01,0);for(Tt=0;Tt<Pt;Tt+=1)Ft=tt[Tt].a,Ft.t.propType&&(It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),(ot!==0||o.j!==0)&&(this._hasMaskedPath?Vt.length?vt+=Ft.t.v*Vt[0]:vt+=Ft.t.v*Vt:Vt.length?ot+=Ft.t.v*Vt[0]:ot+=Ft.t.v*Vt));for(o.strokeWidthAnim&&(tn=o.sw||0),o.strokeColorAnim&&(o.sc?xn=[o.sc[0],o.sc[1],o.sc[2]]:xn=[0,0,0]),o.fillColorAnim&&o.fc&&(Yt=[o.fc[0],o.fc[1],o.fc[2]]),Tt=0;Tt<Pt;Tt+=1)Ft=tt[Tt].a,Ft.a.propType&&(It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),Vt.length?rt.translate(-Ft.a.v[0]*Vt[0],-Ft.a.v[1]*Vt[1],Ft.a.v[2]*Vt[2]):rt.translate(-Ft.a.v[0]*Vt,-Ft.a.v[1]*Vt,Ft.a.v[2]*Vt));for(Tt=0;Tt<Pt;Tt+=1)Ft=tt[Tt].a,Ft.s.propType&&(It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),Vt.length?rt.scale(1+(Ft.s.v[0]-1)*Vt[0],1+(Ft.s.v[1]-1)*Vt[1],1):rt.scale(1+(Ft.s.v[0]-1)*Vt,1+(Ft.s.v[1]-1)*Vt,1));for(Tt=0;Tt<Pt;Tt+=1){if(Ft=tt[Tt].a,It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),Ft.sk.propType&&(Vt.length?rt.skewFromAxis(-Ft.sk.v*Vt[0],Ft.sa.v*Vt[1]):rt.skewFromAxis(-Ft.sk.v*Vt,Ft.sa.v*Vt)),Ft.r.propType&&(Vt.length?rt.rotateZ(-Ft.r.v*Vt[2]):rt.rotateZ(-Ft.r.v*Vt)),Ft.ry.propType&&(Vt.length?rt.rotateY(Ft.ry.v*Vt[1]):rt.rotateY(Ft.ry.v*Vt)),Ft.rx.propType&&(Vt.length?rt.rotateX(Ft.rx.v*Vt[0]):rt.rotateX(Ft.rx.v*Vt)),Ft.o.propType&&(Vt.length?cn+=(Ft.o.v*Vt[0]-cn)*Vt[0]:cn+=(Ft.o.v*Vt-cn)*Vt),o.strokeWidthAnim&&Ft.sw.propType&&(Vt.length?tn+=Ft.sw.v*Vt[0]:tn+=Ft.sw.v*Vt),o.strokeColorAnim&&Ft.sc.propType)for(dn=0;dn<3;dn+=1)Vt.length?xn[dn]+=(Ft.sc.v[dn]-xn[dn])*Vt[0]:xn[dn]+=(Ft.sc.v[dn]-xn[dn])*Vt;if(o.fillColorAnim&&o.fc){if(Ft.fc.propType)for(dn=0;dn<3;dn+=1)Vt.length?Yt[dn]+=(Ft.fc.v[dn]-Yt[dn])*Vt[0]:Yt[dn]+=(Ft.fc.v[dn]-Yt[dn])*Vt;Ft.fh.propType&&(Vt.length?Yt=addHueToRGB(Yt,Ft.fh.v*Vt[0]):Yt=addHueToRGB(Yt,Ft.fh.v*Vt)),Ft.fs.propType&&(Vt.length?Yt=addSaturationToRGB(Yt,Ft.fs.v*Vt[0]):Yt=addSaturationToRGB(Yt,Ft.fs.v*Vt)),Ft.fb.propType&&(Vt.length?Yt=addBrightnessToRGB(Yt,Ft.fb.v*Vt[0]):Yt=addBrightnessToRGB(Yt,Ft.fb.v*Vt))}}for(Tt=0;Tt<Pt;Tt+=1)Ft=tt[Tt].a,Ft.p.propType&&(It=tt[Tt].s,Vt=It.getMult(ft[ut].anIndexes[Tt],nt.a[Tt].s.totalChars),this._hasMaskedPath?Vt.length?rt.translate(0,Ft.p.v[1]*Vt[0],-Ft.p.v[2]*Vt[1]):rt.translate(0,Ft.p.v[1]*Vt,-Ft.p.v[2]*Vt):Vt.length?rt.translate(Ft.p.v[0]*Vt[0],Ft.p.v[1]*Vt[1],-Ft.p.v[2]*Vt[2]):rt.translate(Ft.p.v[0]*Vt,Ft.p.v[1]*Vt,-Ft.p.v[2]*Vt));if(o.strokeWidthAnim&&(yn=tn<0?0:tn),o.strokeColorAnim&&(_n="rgb("+Math.round(xn[0]*255)+","+Math.round(xn[1]*255)+","+Math.round(xn[2]*255)+")"),o.fillColorAnim&&o.fc&&(En="rgb("+Math.round(Yt[0]*255)+","+Math.round(Yt[1]*255)+","+Math.round(Yt[2]*255)+")"),this._hasMaskedPath){if(rt.translate(0,-o.ls),rt.translate(0,et[1]*Gt*.01+at,0),this._pathData.p.v){Dt=(gt.point[1]-xt.point[1])/(gt.point[0]-xt.point[0]);var wn=Math.atan(Dt)*180/Math.PI;gt.point[0]<xt.point[0]&&(wn+=180),rt.rotate(-wn*Math.PI/180)}rt.translate(Kt,fn,0),vt-=et[0]*ft[ut].an*.005,ft[ut+1]&&Ot!==ft[ut+1].ind&&(vt+=ft[ut].an/2,vt+=o.tr*.001*o.finalSize)}else{switch(rt.translate(ot,at,0),o.ps&&rt.translate(o.ps[0],o.ps[1]+o.ascent,0),o.j){case 1:rt.translate(ft[ut].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[ft[ut].line]),0,0);break;case 2:rt.translate(ft[ut].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[ft[ut].line])/2,0,0);break}rt.translate(0,-o.ls),rt.translate(Xt,0,0),rt.translate(et[0]*ft[ut].an*.005,et[1]*Gt*.01,0),ot+=ft[ut].l+o.tr*.001*o.finalSize}it==="html"?Tn=rt.toCSS():it==="svg"?Tn=rt.to2dCSS():Ln=[rt.props[0],rt.props[1],rt.props[2],rt.props[3],rt.props[4],rt.props[5],rt.props[6],rt.props[7],rt.props[8],rt.props[9],rt.props[10],rt.props[11],rt.props[12],rt.props[13],rt.props[14],rt.props[15]],Bn=cn}st<=ut?(Rt=new LetterProps(Bn,yn,_n,En,Tn,Ln),this.renderedLetters.push(Rt),st+=1,this.lettersChangedFlag=!0):(Rt=this.renderedLetters[ut],this.lettersChangedFlag=Rt.update(Bn,yn,_n,En,Tn,Ln)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(o,s,et){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(o,s,et),this.textProperty=new TextProperty(this,o.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(o.t,this.renderType,this),this.initTransform(o,s,et),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(o){this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(o,s){var et,tt=s.length,nt,rt="";for(et=0;et<tt;et+=1)s[et].ty==="sh"&&(nt=s[et].ks.k,rt+=buildShapeString(nt,nt.i.length,!0,o));return rt},ITextElement.prototype.updateDocumentData=function(o,s){this.textProperty.updateDocumentData(o,s)},ITextElement.prototype.canResizeFont=function(o){this.textProperty.canResizeFont(o)},ITextElement.prototype.setMinimumFontSize=function(o){this.textProperty.setMinimumFontSize(o)},ITextElement.prototype.applyTextPropertiesToMatrix=function(o,s,et,tt,nt){switch(o.ps&&s.translate(o.ps[0],o.ps[1]+o.ascent,0),s.translate(0,-o.ls,0),o.j){case 1:s.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[et]),0,0);break;case 2:s.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[et])/2,0,0);break}s.translate(tt,nt,0)},ITextElement.prototype.buildColor=function(o){return"rgb("+Math.round(o[0]*255)+","+Math.round(o[1]*255)+","+Math.round(o[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(o,s,et){this.textSpans=[],this.renderType="svg",this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(o){for(var s=0,et=o.length,tt=[],nt="";s<et;)o[s]===String.fromCharCode(13)||o[s]===String.fromCharCode(3)?(tt.push(nt),nt=""):nt+=o[s],s+=1;return tt.push(nt),tt},SVGTextLottieElement.prototype.buildShapeData=function(o,s){if(o.shapes&&o.shapes.length){var et=o.shapes[0];if(et.it){var tt=et.it[et.it.length-1];tt.s&&(tt.s.k[0]=s,tt.s.k[1]=s)}}return o},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var o,s,et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et?et.l.length:0),et.fc?this.layerElement.setAttribute("fill",this.buildColor(et.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),et.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(et.sc)),this.layerElement.setAttribute("stroke-width",et.sw)),this.layerElement.setAttribute("font-size",et.finalSize);var tt=this.globalData.fontManager.getFontByName(et.f);if(tt.fClass)this.layerElement.setAttribute("class",tt.fClass);else{this.layerElement.setAttribute("font-family",tt.fFamily);var nt=et.fWeight,rt=et.fStyle;this.layerElement.setAttribute("font-style",rt),this.layerElement.setAttribute("font-weight",nt)}this.layerElement.setAttribute("aria-label",et.t);var it=et.l||[],st=!!this.globalData.fontManager.chars;s=it.length;var ot,at=this.mHelper,ut="",ht=this.data.singleShape,ft=0,dt=0,vt=!0,gt=et.tr*.001*et.finalSize;if(ht&&!st&&!et.sz){var _t=this.textContainer,pt="start";switch(et.j){case 1:pt="end";break;case 2:pt="middle";break;default:pt="start";break}_t.setAttribute("text-anchor",pt),_t.setAttribute("letter-spacing",gt);var mt=this.buildTextContents(et.finalText);for(s=mt.length,dt=et.ps?et.ps[1]+et.ascent:0,o=0;o<s;o+=1)ot=this.textSpans[o].span||createNS("tspan"),ot.textContent=mt[o],ot.setAttribute("x",0),ot.setAttribute("y",dt),ot.style.display="inherit",_t.appendChild(ot),this.textSpans[o]||(this.textSpans[o]={span:null,glyph:null}),this.textSpans[o].span=ot,dt+=et.finalLineHeight;this.layerElement.appendChild(_t)}else{var yt=this.textSpans.length,xt;for(o=0;o<s;o+=1){if(this.textSpans[o]||(this.textSpans[o]={span:null,childSpan:null,glyph:null}),!st||!ht||o===0){if(ot=yt>o?this.textSpans[o].span:createNS(st?"g":"text"),yt<=o){if(ot.setAttribute("stroke-linecap","butt"),ot.setAttribute("stroke-linejoin","round"),ot.setAttribute("stroke-miterlimit","4"),this.textSpans[o].span=ot,st){var bt=createNS("g");ot.appendChild(bt),this.textSpans[o].childSpan=bt}this.textSpans[o].span=ot,this.layerElement.appendChild(ot)}ot.style.display="inherit"}if(at.reset(),ht&&(it[o].n&&(ft=-gt,dt+=et.yOffset,dt+=vt?1:0,vt=!1),this.applyTextPropertiesToMatrix(et,at,it[o].line,ft,dt),ft+=it[o].l||0,ft+=gt),st){xt=this.globalData.fontManager.getCharData(et.finalText[o],tt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily);var wt;if(xt.t===1)wt=new SVGCompElement(xt.data,this.globalData,this);else{var Ct=emptyShapeData;xt.data&&xt.data.shapes&&(Ct=this.buildShapeData(xt.data,et.finalSize)),wt=new SVGShapeElement(Ct,this.globalData,this)}if(this.textSpans[o].glyph){var Et=this.textSpans[o].glyph;this.textSpans[o].childSpan.removeChild(Et.layerElement),Et.destroy()}this.textSpans[o].glyph=wt,wt._debug=!0,wt.prepareFrame(0),wt.renderFrame(),this.textSpans[o].childSpan.appendChild(wt.layerElement),xt.t===1&&this.textSpans[o].childSpan.setAttribute("transform","scale("+et.finalSize/100+","+et.finalSize/100+")")}else ht&&ot.setAttribute("transform","translate("+at.props[12]+","+at.props[13]+")"),ot.textContent=it[o].val,ot.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ht&&ot&&ot.setAttribute("d",ut)}for(;o<this.textSpans.length;)this.textSpans[o].span.style.display="none",o+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var o=this.layerElement.getBBox();this.bbox={top:o.y,left:o.x,width:o.width,height:o.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var o,s=this.textSpans.length,et;for(this.renderedFrame=this.comp.renderedFrame,o=0;o<s;o+=1)et=this.textSpans[o].glyph,et&&(et.prepareFrame(this.comp.renderedFrame-this.data.st),et._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var o,s,et=this.textAnimator.renderedLetters,tt=this.textProperty.currentData.l;s=tt.length;var nt,rt,it;for(o=0;o<s;o+=1)tt[o].n||(nt=et[o],rt=this.textSpans[o].span,it=this.textSpans[o].glyph,it&&it.renderFrame(),nt._mdf.m&&rt.setAttribute("transform",nt.m),nt._mdf.o&&rt.setAttribute("opacity",nt.o),nt._mdf.sw&&rt.setAttribute("stroke-width",nt.sw),nt._mdf.sc&&rt.setAttribute("stroke",nt.sc),nt._mdf.fc&&rt.setAttribute("fill",nt.fc))}};function ISolidElement(o,s,et){this.initElement(o,s,et)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var o=createNS("rect");o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.layerElement.appendChild(o)};function NullElement(o,s,et){this.initFrame(),this.initBaseData(o,s,et),this.initFrame(),this.initTransform(o,s,et),this.initHierarchy()}NullElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(o){return new NullElement(o,this.globalData,this)},SVGRendererBase.prototype.createShape=function(o){return new SVGShapeElement(o,this.globalData,this)},SVGRendererBase.prototype.createText=function(o){return new SVGTextLottieElement(o,this.globalData,this)},SVGRendererBase.prototype.createImage=function(o){return new IImageElement(o,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(o){return new ISolidElement(o,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(o){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+o.w+" "+o.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",o.w),this.svgElement.setAttribute("height",o.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var s=this.globalData.defs;this.setupGlobalData(o,s),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=o;var et=createNS("clipPath"),tt=createNS("rect");tt.setAttribute("width",o.w),tt.setAttribute("height",o.h),tt.setAttribute("x",0),tt.setAttribute("y",0);var nt=createElementID();et.setAttribute("id",nt),et.appendChild(tt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+nt+")"),s.appendChild(et),this.layers=o.layers,this.elements=createSizedArray(o.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var o,s=this.layers?this.layers.length:0;for(o=0;o<s;o+=1)this.elements[o]&&this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(o){var s=this.elements;if(!(s[o]||this.layers[o].ty===99)){s[o]=!0;var et=this.createItem(this.layers[o]);s[o]=et,getExpressionsPlugin()&&(this.layers[o].ty===0&&this.globalData.projectInterface.registerComposition(et),et.initExpressions()),this.appendElementInPos(et,o),this.layers[o].tt&&(!this.elements[o-1]||this.elements[o-1]===!0?(this.buildItem(o-1),this.addPendingElement(et)):et.setMatte(s[o-1].layerId))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();if(o.checkParenting(),o.data.tt)for(var s=0,et=this.elements.length;s<et;){if(this.elements[s]===o){o.setMatte(this.elements[s-1].layerId);break}s+=1}}},SVGRendererBase.prototype.renderFrame=function(o){if(!(this.renderedFrame===o||this.destroyed)){o===null?o=this.renderedFrame:this.renderedFrame=o,this.globalData.frameNum=o,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=o,this.globalData._mdf=!1;var s,et=this.layers.length;for(this.completeLayers||this.checkLayers(o),s=et-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].prepareFrame(o-this.layers[s].st);if(this.globalData._mdf)for(s=0;s<et;s+=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(o,s){var et=o.getBaseElement();if(!!et){for(var tt=0,nt;tt<s;)this.elements[tt]&&this.elements[tt]!==!0&&this.elements[tt].getBaseElement()&&(nt=this.elements[tt].getBaseElement()),tt+=1;nt?this.layerElement.insertBefore(et,nt):this.layerElement.appendChild(et)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(o,s,et){this.initFrame(),this.initBaseData(o,s,et),this.initTransform(o,s,et),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!s.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(o){if(this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=o/this.data.sr;else{var s=this.tm.v;s===this.data.op&&(s=this.data.op-1),this.renderedFrame=s}var et,tt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&(this.elements[et].prepareFrame(this.renderedFrame-this.layers[et].st),this.elements[et]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var o,s=this.layers.length;for(o=0;o<s;o+=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()},ICompElement.prototype.setElements=function(o){this.elements=o},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var o,s=this.layers.length;for(o=0;o<s;o+=1)this.elements[o]&&this.elements[o].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(o,s,et){this.layers=o.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,s,et),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,s.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function SVGRenderer(o,s){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var et="";if(s&&s.title){var tt=createNS("title"),nt=createElementID();tt.setAttribute("id",nt),tt.textContent=s.title,this.svgElement.appendChild(tt),et+=nt}if(s&&s.description){var rt=createNS("desc"),it=createElementID();rt.setAttribute("id",it),rt.textContent=s.description,this.svgElement.appendChild(rt),et+=" "+it}et&&this.svgElement.setAttribute("aria-labelledby",et);var st=createNS("defs");this.svgElement.appendChild(st);var ot=createNS("g");this.svgElement.appendChild(ot),this.layerElement=ot,this.renderConfig={preserveAspectRatio:s&&s.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:s&&s.contentVisibility||"visible",progressiveLoad:s&&s.progressiveLoad||!1,hideOnTransparent:!(s&&s.hideOnTransparent===!1),viewBoxOnly:s&&s.viewBoxOnly||!1,viewBoxSize:s&&s.viewBoxSize||!1,className:s&&s.className||"",id:s&&s.id||"",focusable:s&&s.focusable,filterSize:{width:s&&s.filterSize&&s.filterSize.width||"100%",height:s&&s.filterSize&&s.filterSize.height||"100%",x:s&&s.filterSize&&s.filterSize.x||"0%",y:s&&s.filterSize&&s.filterSize.y||"0%"},width:s&&s.width,height:s&&s.height},this.globalData={_mdf:!1,frameNum:-1,defs:st,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var o,s=15;for(this.savedOp=createTypedArray("float32",s),o=0;o<s;o+=1)this.saved[o]=createTypedArray("float32",16);this._length=s}CVContextData.prototype.duplicate=function(){var o=this._length*2,s=this.savedOp;this.savedOp=createTypedArray("float32",o),this.savedOp.set(s);var et=0;for(et=this._length;et<o;et+=1)this.saved[et]=createTypedArray("float32",16);this._length=o},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(s){var et,tt=s.length,nt="_";for(et=0;et<tt;et+=1)nt+=s[et].transform.key+"_";var rt=this.sequences[nt];return rt||(rt={transforms:[].concat(s),finalTransform:new Matrix,_mdf:!1},this.sequences[nt]=rt,this.sequenceList.push(rt)),rt},processSequence:function(s,et){for(var tt=0,nt=s.transforms.length,rt=et;tt<nt&&!et;){if(s.transforms[tt].transform.mProps._mdf){rt=!0;break}tt+=1}if(rt){var it;for(s.finalTransform.reset(),tt=nt-1;tt>=0;tt-=1)it=s.transforms[tt].transform.mProps.v.props,s.finalTransform.transform(it[0],it[1],it[2],it[3],it[4],it[5],it[6],it[7],it[8],it[9],it[10],it[11],it[12],it[13],it[14],it[15])}s._mdf=rt},processSequences:function(s){var et,tt=this.sequenceList.length;for(et=0;et<tt;et+=1)this.processSequence(this.sequenceList[et],s)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(o,s){this.data=o,this.element=s,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var et,tt=this.masksProperties.length,nt=!1;for(et=0;et<tt;et+=1)this.masksProperties[et].mode!=="n"&&(nt=!0),this.viewData[et]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[et],3);this.hasMasks=nt,nt&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var o=this.element.finalTransform.mat,s=this.element.canvasContext,et,tt=this.masksProperties.length,nt,rt,it;for(s.beginPath(),et=0;et<tt;et+=1)if(this.masksProperties[et].mode!=="n"){this.masksProperties[et].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),it=this.viewData[et].v,nt=o.applyToPointArray(it.v[0][0],it.v[0][1],0),s.moveTo(nt[0],nt[1]);var st,ot=it._length;for(st=1;st<ot;st+=1)rt=o.applyToTriplePoints(it.o[st-1],it.i[st],it.v[st]),s.bezierCurveTo(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]);rt=o.applyToTriplePoints(it.o[st-1],it.i[0],it.v[0]),s.bezierCurveTo(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var s=this.globalData;if(s.blendMode!==this.data.bm){s.blendMode=this.data.bm;var et=getBlendMode(this.data.bm);s.canvasContext.globalCompositeOperation=et}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var s=this.data.ty===0;this.globalData.renderer.save(s),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(s),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(o,s,et,tt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var nt=4;s.ty==="rc"?nt=5:s.ty==="el"?nt=6:s.ty==="sr"&&(nt=7),this.sh=ShapePropertyFactory.getShapeProp(o,s,nt,o);var rt,it=et.length,st;for(rt=0;rt<it;rt+=1)et[rt].closed||(st={transforms:tt.addTransformSequence(et[rt].transforms),trNodes:[]},this.styledShapes.push(st),et[rt].elements.push(st))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(o,s,et){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(o,s){var et={data:o,type:o.ty,preTransforms:this.transformsManager.addTransformSequence(s),transforms:[],elements:[],closed:o.hd===!0},tt={};if(o.ty==="fl"||o.ty==="st"?(tt.c=PropertyFactory.getProp(this,o.c,1,255,this),tt.c.k||(et.co="rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")")):(o.ty==="gf"||o.ty==="gs")&&(tt.s=PropertyFactory.getProp(this,o.s,1,null,this),tt.e=PropertyFactory.getProp(this,o.e,1,null,this),tt.h=PropertyFactory.getProp(this,o.h||{k:0},0,.01,this),tt.a=PropertyFactory.getProp(this,o.a||{k:0},0,degToRads,this),tt.g=new GradientProperty(this,o.g,this)),tt.o=PropertyFactory.getProp(this,o.o,0,.01,this),o.ty==="st"||o.ty==="gs"){if(et.lc=lineCapEnum[o.lc||2],et.lj=lineJoinEnum[o.lj||2],o.lj==1&&(et.ml=o.ml),tt.w=PropertyFactory.getProp(this,o.w,0,null,this),tt.w.k||(et.wi=tt.w.v),o.d){var nt=new DashProperty(this,o.d,"canvas",this);tt.d=nt,tt.d.k||(et.da=tt.d.dashArray,et.do=tt.d.dashoffset[0])}}else et.r=o.r===2?"evenodd":"nonzero";return this.stylesList.push(et),tt.style=et,tt},CVShapeElement.prototype.createGroupElement=function(){var o={it:[],prevViewData:[]};return o},CVShapeElement.prototype.createTransformElement=function(o){var s={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,o.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,o,this)}};return s},CVShapeElement.prototype.createShapeElement=function(o){var s=new CVShapeData(this,o,this.stylesList,this.transformsManager);return this.shapes.push(s),this.addShapeToModifiers(s),s},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,s=this.itemsData.length;for(o=0;o<s;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),s=this.dynamicProperties.length,o=0;o<s;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(o){var s,et=this.stylesList.length;for(s=0;s<et;s+=1)this.stylesList[s].closed||this.stylesList[s].transforms.push(o)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var o,s=this.stylesList.length;for(o=0;o<s;o+=1)this.stylesList[o].closed||this.stylesList[o].transforms.pop()},CVShapeElement.prototype.closeStyles=function(o){var s,et=o.length;for(s=0;s<et;s+=1)o[s].closed=!0},CVShapeElement.prototype.searchShapes=function(o,s,et,tt,nt){var rt,it=o.length-1,st,ot,at=[],ut=[],ht,ft,dt,vt=[].concat(nt);for(rt=it;rt>=0;rt-=1){if(ht=this.searchProcessedElement(o[rt]),ht?s[rt]=et[ht-1]:o[rt]._shouldRender=tt,o[rt].ty==="fl"||o[rt].ty==="st"||o[rt].ty==="gf"||o[rt].ty==="gs")ht?s[rt].style.closed=!1:s[rt]=this.createStyleElement(o[rt],vt),at.push(s[rt].style);else if(o[rt].ty==="gr"){if(!ht)s[rt]=this.createGroupElement(o[rt]);else for(ot=s[rt].it.length,st=0;st<ot;st+=1)s[rt].prevViewData[st]=s[rt].it[st];this.searchShapes(o[rt].it,s[rt].it,s[rt].prevViewData,tt,vt)}else o[rt].ty==="tr"?(ht||(dt=this.createTransformElement(o[rt]),s[rt]=dt),vt.push(s[rt]),this.addTransformToStyleList(s[rt])):o[rt].ty==="sh"||o[rt].ty==="rc"||o[rt].ty==="el"||o[rt].ty==="sr"?ht||(s[rt]=this.createShapeElement(o[rt])):o[rt].ty==="tm"||o[rt].ty==="rd"||o[rt].ty==="pb"?(ht?(ft=s[rt],ft.closed=!1):(ft=ShapeModifiers.getModifier(o[rt].ty),ft.init(this,o[rt]),s[rt]=ft,this.shapeModifiers.push(ft)),ut.push(ft)):o[rt].ty==="rp"&&(ht?(ft=s[rt],ft.closed=!0):(ft=ShapeModifiers.getModifier(o[rt].ty),s[rt]=ft,ft.init(this,o,rt,s),this.shapeModifiers.push(ft),tt=!1),ut.push(ft));this.addProcessedElement(o[rt],rt+1)}for(this.removeTransformFromStyleList(),this.closeStyles(at),it=ut.length,rt=0;rt<it;rt+=1)ut[rt].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(o,s){(o._opMdf||s.op._mdf||this._isFirstFrame)&&(s.opacity=o.opacity,s.opacity*=s.op.v,s._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var o,s=this.stylesList.length,et,tt,nt,rt,it,st,ot=this.globalData.renderer,at=this.globalData.canvasContext,ut,ht;for(o=0;o<s;o+=1)if(ht=this.stylesList[o],ut=ht.type,!((ut==="st"||ut==="gs")&&ht.wi===0||!ht.data._shouldRender||ht.coOp===0||this.globalData.currentGlobalAlpha===0)){for(ot.save(),it=ht.elements,ut==="st"||ut==="gs"?(at.strokeStyle=ut==="st"?ht.co:ht.grd,at.lineWidth=ht.wi,at.lineCap=ht.lc,at.lineJoin=ht.lj,at.miterLimit=ht.ml||0):at.fillStyle=ut==="fl"?ht.co:ht.grd,ot.ctxOpacity(ht.coOp),ut!=="st"&&ut!=="gs"&&at.beginPath(),ot.ctxTransform(ht.preTransforms.finalTransform.props),tt=it.length,et=0;et<tt;et+=1){for((ut==="st"||ut==="gs")&&(at.beginPath(),ht.da&&(at.setLineDash(ht.da),at.lineDashOffset=ht.do)),st=it[et].trNodes,rt=st.length,nt=0;nt<rt;nt+=1)st[nt].t==="m"?at.moveTo(st[nt].p[0],st[nt].p[1]):st[nt].t==="c"?at.bezierCurveTo(st[nt].pts[0],st[nt].pts[1],st[nt].pts[2],st[nt].pts[3],st[nt].pts[4],st[nt].pts[5]):at.closePath();(ut==="st"||ut==="gs")&&(at.stroke(),ht.da&&at.setLineDash(this.dashResetter))}ut!=="st"&&ut!=="gs"&&at.fill(ht.r),ot.restore()}},CVShapeElement.prototype.renderShape=function(o,s,et,tt){var nt,rt=s.length-1,it;for(it=o,nt=rt;nt>=0;nt-=1)s[nt].ty==="tr"?(it=et[nt].transform,this.renderShapeTransform(o,it)):s[nt].ty==="sh"||s[nt].ty==="el"||s[nt].ty==="rc"||s[nt].ty==="sr"?this.renderPath(s[nt],et[nt]):s[nt].ty==="fl"?this.renderFill(s[nt],et[nt],it):s[nt].ty==="st"?this.renderStroke(s[nt],et[nt],it):s[nt].ty==="gf"||s[nt].ty==="gs"?this.renderGradientFill(s[nt],et[nt],it):s[nt].ty==="gr"?this.renderShape(it,s[nt].it,et[nt].it):s[nt].ty;tt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(o,s){if(this._isFirstFrame||s._mdf||o.transforms._mdf){var et=o.trNodes,tt=s.paths,nt,rt,it,st=tt._length;et.length=0;var ot=o.transforms.finalTransform;for(it=0;it<st;it+=1){var at=tt.shapes[it];if(at&&at.v){for(rt=at._length,nt=1;nt<rt;nt+=1)nt===1&&et.push({t:"m",p:ot.applyToPointArray(at.v[0][0],at.v[0][1],0)}),et.push({t:"c",pts:ot.applyToTriplePoints(at.o[nt-1],at.i[nt],at.v[nt])});rt===1&&et.push({t:"m",p:ot.applyToPointArray(at.v[0][0],at.v[0][1],0)}),at.c&&rt&&(et.push({t:"c",pts:ot.applyToTriplePoints(at.o[nt-1],at.i[0],at.v[0])}),et.push({t:"z"}))}}o.trNodes=et}},CVShapeElement.prototype.renderPath=function(o,s){if(o.hd!==!0&&o._shouldRender){var et,tt=s.styledShapes.length;for(et=0;et<tt;et+=1)this.renderStyledShape(s.styledShapes[et],s.sh)}},CVShapeElement.prototype.renderFill=function(o,s,et){var tt=s.style;(s.c._mdf||this._isFirstFrame)&&(tt.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")"),(s.o._mdf||et._opMdf||this._isFirstFrame)&&(tt.coOp=s.o.v*et.opacity)},CVShapeElement.prototype.renderGradientFill=function(o,s,et){var tt=s.style,nt;if(!tt.grd||s.g._mdf||s.s._mdf||s.e._mdf||o.t!==1&&(s.h._mdf||s.a._mdf)){var rt=this.globalData.canvasContext,it=s.s.v,st=s.e.v;if(o.t===1)nt=rt.createLinearGradient(it[0],it[1],st[0],st[1]);else{var ot=Math.sqrt(Math.pow(it[0]-st[0],2)+Math.pow(it[1]-st[1],2)),at=Math.atan2(st[1]-it[1],st[0]-it[0]),ut=s.h.v;ut>=1?ut=.99:ut<=-1&&(ut=-.99);var ht=ot*ut,ft=Math.cos(at+s.a.v)*ht+it[0],dt=Math.sin(at+s.a.v)*ht+it[1];nt=rt.createRadialGradient(ft,dt,0,it[0],it[1],ot)}var vt,gt=o.g.p,_t=s.g.c,pt=1;for(vt=0;vt<gt;vt+=1)s.g._hasOpacity&&s.g._collapsable&&(pt=s.g.o[vt*2+1]),nt.addColorStop(_t[vt*4]/100,"rgba("+_t[vt*4+1]+","+_t[vt*4+2]+","+_t[vt*4+3]+","+pt+")");tt.grd=nt}tt.coOp=s.o.v*et.opacity},CVShapeElement.prototype.renderStroke=function(o,s,et){var tt=s.style,nt=s.d;nt&&(nt._mdf||this._isFirstFrame)&&(tt.da=nt.dashArray,tt.do=nt.dashoffset[0]),(s.c._mdf||this._isFirstFrame)&&(tt.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")"),(s.o._mdf||et._opMdf||this._isFirstFrame)&&(tt.coOp=s.o.v*et.opacity),(s.w._mdf||this._isFirstFrame)&&(tt.wi=s.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(o,s,et){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var s=!1;o.fc?(s=!0,this.values.fill=this.buildColor(o.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=s;var et=!1;o.sc&&(et=!0,this.values.stroke=this.buildColor(o.sc),this.values.sWidth=o.sw);var tt=this.globalData.fontManager.getFontByName(o.f),nt,rt,it=o.l,st=this.mHelper;this.stroke=et,this.values.fValue=o.finalSize+"px "+this.globalData.fontManager.getFontByName(o.f).fFamily,rt=o.finalText.length;var ot,at,ut,ht,ft,dt,vt,gt,_t,pt,mt=this.data.singleShape,yt=o.tr*.001*o.finalSize,xt=0,bt=0,wt=!0,Ct=0;for(nt=0;nt<rt;nt+=1){ot=this.globalData.fontManager.getCharData(o.finalText[nt],tt.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),at=ot&&ot.data||{},st.reset(),mt&&it[nt].n&&(xt=-yt,bt+=o.yOffset,bt+=wt?1:0,wt=!1),ft=at.shapes?at.shapes[0].it:[],vt=ft.length,st.scale(o.finalSize/100,o.finalSize/100),mt&&this.applyTextPropertiesToMatrix(o,st,it[nt].line,xt,bt),_t=createSizedArray(vt-1);var Et=0;for(dt=0;dt<vt;dt+=1)if(ft[dt].ty==="sh"){for(ht=ft[dt].ks.k.i.length,gt=ft[dt].ks.k,pt=[],ut=1;ut<ht;ut+=1)ut===1&&pt.push(st.applyToX(gt.v[0][0],gt.v[0][1],0),st.applyToY(gt.v[0][0],gt.v[0][1],0)),pt.push(st.applyToX(gt.o[ut-1][0],gt.o[ut-1][1],0),st.applyToY(gt.o[ut-1][0],gt.o[ut-1][1],0),st.applyToX(gt.i[ut][0],gt.i[ut][1],0),st.applyToY(gt.i[ut][0],gt.i[ut][1],0),st.applyToX(gt.v[ut][0],gt.v[ut][1],0),st.applyToY(gt.v[ut][0],gt.v[ut][1],0));pt.push(st.applyToX(gt.o[ut-1][0],gt.o[ut-1][1],0),st.applyToY(gt.o[ut-1][0],gt.o[ut-1][1],0),st.applyToX(gt.i[0][0],gt.i[0][1],0),st.applyToY(gt.i[0][0],gt.i[0][1],0),st.applyToX(gt.v[0][0],gt.v[0][1],0),st.applyToY(gt.v[0][0],gt.v[0][1],0)),_t[Et]=pt,Et+=1}mt&&(xt+=it[nt].l,xt+=yt),this.textSpans[Ct]?this.textSpans[Ct].elem=_t:this.textSpans[Ct]={elem:_t},Ct+=1}},CVTextElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,et,tt,nt,rt,it,st=this.textAnimator.renderedLetters,ot=this.textProperty.currentData.l;et=ot.length;var at,ut=null,ht=null,ft=null,dt,vt;for(s=0;s<et;s+=1)if(!ot[s].n){if(at=st[s],at&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(at.p),this.globalData.renderer.ctxOpacity(at.o)),this.fill){for(at&&at.fc?ut!==at.fc&&(ut=at.fc,o.fillStyle=at.fc):ut!==this.values.fill&&(ut=this.values.fill,o.fillStyle=this.values.fill),dt=this.textSpans[s].elem,nt=dt.length,this.globalData.canvasContext.beginPath(),tt=0;tt<nt;tt+=1)for(vt=dt[tt],it=vt.length,this.globalData.canvasContext.moveTo(vt[0],vt[1]),rt=2;rt<it;rt+=6)this.globalData.canvasContext.bezierCurveTo(vt[rt],vt[rt+1],vt[rt+2],vt[rt+3],vt[rt+4],vt[rt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(at&&at.sw?ft!==at.sw&&(ft=at.sw,o.lineWidth=at.sw):ft!==this.values.sWidth&&(ft=this.values.sWidth,o.lineWidth=this.values.sWidth),at&&at.sc?ht!==at.sc&&(ht=at.sc,o.strokeStyle=at.sc):ht!==this.values.stroke&&(ht=this.values.stroke,o.strokeStyle=this.values.stroke),dt=this.textSpans[s].elem,nt=dt.length,this.globalData.canvasContext.beginPath(),tt=0;tt<nt;tt+=1)for(vt=dt[tt],it=vt.length,this.globalData.canvasContext.moveTo(vt[0],vt[1]),rt=2;rt<it;rt+=6)this.globalData.canvasContext.bezierCurveTo(vt[rt],vt[rt+1],vt[rt+2],vt[rt+3],vt[rt+4],vt[rt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}at&&this.globalData.renderer.restore()}};function CVImageElement(o,s,et){this.assetData=s.getAssetData(o.refId),this.img=s.imageLoader.getAsset(this.assetData),this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var o=createTag("canvas");o.width=this.assetData.w,o.height=this.assetData.h;var s=o.getContext("2d"),et=this.img.width,tt=this.img.height,nt=et/tt,rt=this.assetData.w/this.assetData.h,it,st,ot=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;nt>rt&&ot==="xMidYMid slice"||nt<rt&&ot!=="xMidYMid slice"?(st=tt,it=st*rt):(it=et,st=it/rt),s.drawImage(this.img,(et-it)/2,(tt-st)/2,it,st,0,0,this.assetData.w,this.assetData.h),this.img=o}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(o,s,et){this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.fillStyle=this.data.sc,o.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(o,s){this.animationItem=o,this.renderConfig={clearCanvas:s&&s.clearCanvas!==void 0?s.clearCanvas:!0,context:s&&s.context||null,progressiveLoad:s&&s.progressiveLoad||!1,preserveAspectRatio:s&&s.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:s&&s.contentVisibility||"visible",className:s&&s.className||"",id:s&&s.id||""},this.renderConfig.dpr=s&&s.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=s&&s.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(o){return new CVShapeElement(o,this.globalData,this)},CanvasRendererBase.prototype.createText=function(o){return new CVTextElement(o,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(o){return new CVImageElement(o,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(o){return new CVSolidElement(o,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(o){if(!(o[0]===1&&o[1]===0&&o[4]===0&&o[5]===1&&o[12]===0&&o[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(o[0],o[1],o[4],o[5],o[12],o[13]);return}this.transformMat.cloneFromProps(o);var s=this.contextData.cTr.props;this.transformMat.transform(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13],s[14],s[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var et=this.contextData.cTr.props;this.canvasContext.setTransform(et[0],et[1],et[4],et[5],et[12],et[13])}},CanvasRendererBase.prototype.ctxOpacity=function(o){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=o<0?0:o,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=o<0?0:o,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(o){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}o&&this.canvasContext.save();var s=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var et,tt=this.contextData.saved[this.contextData.cArrPos];for(et=0;et<16;et+=1)tt[et]=s[et];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRendererBase.prototype.restore=function(o){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}o&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var s=this.contextData.saved[this.contextData.cArrPos],et,tt=this.contextData.cTr.props;for(et=0;et<16;et+=1)tt[et]=s[et];this.canvasContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),s=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=s,this.globalData.currentGlobalAlpha!==s&&(this.canvasContext.globalAlpha=s,this.globalData.currentGlobalAlpha=s)},CanvasRendererBase.prototype.configAnimation=function(o){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var s=this.animationItem.container.style;s.width="100%",s.height="100%";var et="0px 0px 0px";s.transformOrigin=et,s.mozTransformOrigin=et,s.webkitTransformOrigin=et,s["-webkit-transform"]=et,s.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=o,this.layers=o.layers,this.transformCanvas={w:o.w,h:o.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(o,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(o.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var o,s;this.animationItem.wrapper&&this.animationItem.container?(o=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",o*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",s*this.renderConfig.dpr)):(o=this.canvasContext.canvas.width*this.renderConfig.dpr,s=this.canvasContext.canvas.height*this.renderConfig.dpr);var et,tt;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var nt=this.renderConfig.preserveAspectRatio.split(" "),rt=nt[1]||"meet",it=nt[0]||"xMidYMid",st=it.substr(0,4),ot=it.substr(4);et=o/s,tt=this.transformCanvas.w/this.transformCanvas.h,tt>et&&rt==="meet"||tt<et&&rt==="slice"?(this.transformCanvas.sx=o/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),st==="xMid"&&(tt<et&&rt==="meet"||tt>et&&rt==="slice")?this.transformCanvas.tx=(o-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:st==="xMax"&&(tt<et&&rt==="meet"||tt>et&&rt==="slice")?this.transformCanvas.tx=(o-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ot==="YMid"&&(tt>et&&rt==="meet"||tt<et&&rt==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(o/this.transformCanvas.w))/2*this.renderConfig.dpr:ot==="YMax"&&(tt>et&&rt==="meet"||tt<et&&rt==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(o/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=o/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var o,s=this.layers?this.layers.length:0;for(o=s-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(o,s){if(!(this.renderedFrame===o&&this.renderConfig.clearCanvas===!0&&!s||this.destroyed||o===-1)){this.renderedFrame=o,this.globalData.frameNum=o-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||s,this.globalData.projectInterface.currentFrame=o;var et,tt=this.layers.length;for(this.completeLayers||this.checkLayers(o),et=0;et<tt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].prepareFrame(o-this.layers[et].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(o){var s=this.elements;if(!(s[o]||this.layers[o].ty===99)){var et=this.createItem(this.layers[o],this,this.globalData);s[o]=et,et.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(o,s,et){this.completeLayers=!1,this.layers=o.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(o,s,et),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,s.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.beginPath(),o.moveTo(0,0),o.lineTo(this.data.w,0),o.lineTo(this.data.w,this.data.h),o.lineTo(0,this.data.h),o.lineTo(0,0),o.clip();var s,et=this.layers.length;for(s=et-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame()},CVCompElement.prototype.destroy=function(){var o,s=this.layers.length;for(o=s-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function CanvasRenderer(o,s){this.animationItem=o,this.renderConfig={clearCanvas:s&&s.clearCanvas!==void 0?s.clearCanvas:!0,context:s&&s.context||null,progressiveLoad:s&&s.progressiveLoad||!1,preserveAspectRatio:s&&s.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:s&&s.contentVisibility||"visible",className:s&&s.className||"",id:s&&s.id||""},this.renderConfig.dpr=s&&s.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=s&&s.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var s=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var et=this.finalTransform.mat.toCSS();s.transform=et,s.webkitTransform=et}this.finalTransform._opMdf&&(s.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(o,s,et){this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var o;this.data.hasMask?(o=createNS("rect"),o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(o=createTag("div"),o.style.width=this.data.sw+"px",o.style.height=this.data.sh+"px",o.style.backgroundColor=this.data.sc),this.layerElement.appendChild(o)};function HShapeElement(o,s,et){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(o,s,et),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var o;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),o=this.svgElement;else{o=createNS("svg");var s=this.comp.data?this.comp.data:this.globalData.compSize;o.setAttribute("width",s.w),o.setAttribute("height",s.h),o.appendChild(this.shapesContainer),this.layerElement.appendChild(o)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=o},HShapeElement.prototype.getTransformedPoint=function(o,s){var et,tt=o.length;for(et=0;et<tt;et+=1)s=o[et].mProps.v.applyToPointArray(s[0],s[1],0);return s},HShapeElement.prototype.calculateShapeBoundingBox=function(o,s){var et=o.sh.v,tt=o.transformers,nt,rt=et._length,it,st,ot,at;if(!(rt<=1)){for(nt=0;nt<rt-1;nt+=1)it=this.getTransformedPoint(tt,et.v[nt]),st=this.getTransformedPoint(tt,et.o[nt]),ot=this.getTransformedPoint(tt,et.i[nt+1]),at=this.getTransformedPoint(tt,et.v[nt+1]),this.checkBounds(it,st,ot,at,s);et.c&&(it=this.getTransformedPoint(tt,et.v[nt]),st=this.getTransformedPoint(tt,et.o[nt]),ot=this.getTransformedPoint(tt,et.i[0]),at=this.getTransformedPoint(tt,et.v[0]),this.checkBounds(it,st,ot,at,s))}},HShapeElement.prototype.checkBounds=function(o,s,et,tt,nt){this.getBoundsOfCurve(o,s,et,tt);var rt=this.shapeBoundingBox;nt.x=bmMin(rt.left,nt.x),nt.xMax=bmMax(rt.right,nt.xMax),nt.y=bmMin(rt.top,nt.y),nt.yMax=bmMax(rt.bottom,nt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(o,s,et,tt){for(var nt=[[o[0],tt[0]],[o[1],tt[1]]],rt,it,st,ot,at,ut,ht,ft=0;ft<2;++ft)it=6*o[ft]-12*s[ft]+6*et[ft],rt=-3*o[ft]+9*s[ft]-9*et[ft]+3*tt[ft],st=3*s[ft]-3*o[ft],it|=0,rt|=0,st|=0,rt===0&&it===0||(rt===0?(ot=-st/it,ot>0&&ot<1&&nt[ft].push(this.calculateF(ot,o,s,et,tt,ft))):(at=it*it-4*st*rt,at>=0&&(ut=(-it+bmSqrt(at))/(2*rt),ut>0&&ut<1&&nt[ft].push(this.calculateF(ut,o,s,et,tt,ft)),ht=(-it-bmSqrt(at))/(2*rt),ht>0&&ht<1&&nt[ft].push(this.calculateF(ht,o,s,et,tt,ft)))));this.shapeBoundingBox.left=bmMin.apply(null,nt[0]),this.shapeBoundingBox.top=bmMin.apply(null,nt[1]),this.shapeBoundingBox.right=bmMax.apply(null,nt[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,nt[1])},HShapeElement.prototype.calculateF=function(o,s,et,tt,nt,rt){return bmPow(1-o,3)*s[rt]+3*bmPow(1-o,2)*o*et[rt]+3*(1-o)*bmPow(o,2)*tt[rt]+bmPow(o,3)*nt[rt]},HShapeElement.prototype.calculateBoundingBox=function(o,s){var et,tt=o.length;for(et=0;et<tt;et+=1)o[et]&&o[et].sh?this.calculateShapeBoundingBox(o[et],s):o[et]&&o[et].it?this.calculateBoundingBox(o[et].it,s):o[et]&&o[et].style&&o[et].w&&this.expandStrokeBoundingBox(o[et].w,s)},HShapeElement.prototype.expandStrokeBoundingBox=function(o,s){var et=0;if(o.keyframes){for(var tt=0;tt<o.keyframes.length;tt+=1){var nt=o.keyframes[tt].s;nt>et&&(et=nt)}et*=o.mult}else et=o.v*o.mult;s.x-=et,s.xMax+=et,s.y-=et,s.yMax+=et},HShapeElement.prototype.currentBoxContains=function(o){return this.currentBBox.x<=o.x&&this.currentBBox.y<=o.y&&this.currentBBox.width+this.currentBBox.x>=o.x+o.width&&this.currentBBox.height+this.currentBBox.y>=o.y+o.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var o=this.tempBoundingBox,s=999999;if(o.x=s,o.xMax=-s,o.y=s,o.yMax=-s,this.calculateBoundingBox(this.itemsData,o),o.width=o.xMax<o.x?0:o.xMax-o.x,o.height=o.yMax<o.y?0:o.yMax-o.y,this.currentBoxContains(o))return;var et=!1;if(this.currentBBox.w!==o.width&&(this.currentBBox.w=o.width,this.shapeCont.setAttribute("width",o.width),et=!0),this.currentBBox.h!==o.height&&(this.currentBBox.h=o.height,this.shapeCont.setAttribute("height",o.height),et=!0),et||this.currentBBox.x!==o.x||this.currentBBox.y!==o.y){this.currentBBox.w=o.width,this.currentBBox.h=o.height,this.currentBBox.x=o.x,this.currentBBox.y=o.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var tt=this.shapeCont.style,nt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";tt.transform=nt,tt.webkitTransform=nt}}};function HTextElement(o,s,et){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var o=createNS("g");this.maskedElement.appendChild(o),this.innerElem=o}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var s=this.innerElem.style,et=o.fc?this.buildColor(o.fc):"rgba(0,0,0,0)";s.fill=et,s.color=et,o.sc&&(s.stroke=this.buildColor(o.sc),s.strokeWidth=o.sw+"px");var tt=this.globalData.fontManager.getFontByName(o.f);if(!this.globalData.fontManager.chars)if(s.fontSize=o.finalSize+"px",s.lineHeight=o.finalSize+"px",tt.fClass)this.innerElem.className=tt.fClass;else{s.fontFamily=tt.fFamily;var nt=o.fWeight,rt=o.fStyle;s.fontStyle=rt,s.fontWeight=nt}var it,st,ot=o.l;st=ot.length;var at,ut,ht,ft=this.mHelper,dt,vt="",gt=0;for(it=0;it<st;it+=1){if(this.globalData.fontManager.chars?(this.textPaths[gt]?at=this.textPaths[gt]:(at=createNS("path"),at.setAttribute("stroke-linecap",lineCapEnum[1]),at.setAttribute("stroke-linejoin",lineJoinEnum[2]),at.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[gt]?(ut=this.textSpans[gt],ht=ut.children[0]):(ut=createTag("div"),ut.style.lineHeight=0,ht=createNS("svg"),ht.appendChild(at),styleDiv(ut)))):this.isMasked?at=this.textPaths[gt]?this.textPaths[gt]:createNS("text"):this.textSpans[gt]?(ut=this.textSpans[gt],at=this.textPaths[gt]):(ut=createTag("span"),styleDiv(ut),at=createTag("span"),styleDiv(at),ut.appendChild(at)),this.globalData.fontManager.chars){var _t=this.globalData.fontManager.getCharData(o.finalText[it],tt.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),pt;if(_t?pt=_t.data:pt=null,ft.reset(),pt&&pt.shapes&&pt.shapes.length&&(dt=pt.shapes[0].it,ft.scale(o.finalSize/100,o.finalSize/100),vt=this.createPathShape(ft,dt),at.setAttribute("d",vt)),this.isMasked)this.innerElem.appendChild(at);else{if(this.innerElem.appendChild(ut),pt&&pt.shapes){document.body.appendChild(ht);var mt=ht.getBBox();ht.setAttribute("width",mt.width+2),ht.setAttribute("height",mt.height+2),ht.setAttribute("viewBox",mt.x-1+" "+(mt.y-1)+" "+(mt.width+2)+" "+(mt.height+2));var yt=ht.style,xt="translate("+(mt.x-1)+"px,"+(mt.y-1)+"px)";yt.transform=xt,yt.webkitTransform=xt,ot[it].yOffset=mt.y-1}else ht.setAttribute("width",1),ht.setAttribute("height",1);ut.appendChild(ht)}}else if(at.textContent=ot[it].val,at.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(at);else{this.innerElem.appendChild(ut);var bt=at.style,wt="translate3d(0,"+-o.finalSize/1.2+"px,0)";bt.transform=wt,bt.webkitTransform=wt}this.isMasked?this.textSpans[gt]=at:this.textSpans[gt]=ut,this.textSpans[gt].style.display="block",this.textPaths[gt]=at,gt+=1}for(;gt<this.textSpans.length;)this.textSpans[gt].style.display="none",gt+=1},HTextElement.prototype.renderInnerContent=function(){var o;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),o=this.svgElement.style;var s="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";o.transform=s,o.webkitTransform=s}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var et,tt,nt=0,rt=this.textAnimator.renderedLetters,it=this.textProperty.currentData.l;tt=it.length;var st,ot,at;for(et=0;et<tt;et+=1)it[et].n?nt+=1:(ot=this.textSpans[et],at=this.textPaths[et],st=rt[nt],nt+=1,st._mdf.m&&(this.isMasked?ot.setAttribute("transform",st.m):(ot.style.webkitTransform=st.m,ot.style.transform=st.m)),ot.style.opacity=st.o,st.sw&&st._mdf.sw&&at.setAttribute("stroke-width",st.sw),st.sc&&st._mdf.sc&&at.setAttribute("stroke",st.sc),st.fc&&st._mdf.fc&&(at.setAttribute("fill",st.fc),at.style.color=st.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ut=this.innerElem.getBBox();this.currentBBox.w!==ut.width&&(this.currentBBox.w=ut.width,this.svgElement.setAttribute("width",ut.width)),this.currentBBox.h!==ut.height&&(this.currentBBox.h=ut.height,this.svgElement.setAttribute("height",ut.height));var ht=1;if(this.currentBBox.w!==ut.width+ht*2||this.currentBBox.h!==ut.height+ht*2||this.currentBBox.x!==ut.x-ht||this.currentBBox.y!==ut.y-ht){this.currentBBox.w=ut.width+ht*2,this.currentBBox.h=ut.height+ht*2,this.currentBBox.x=ut.x-ht,this.currentBBox.y=ut.y-ht,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),o=this.svgElement.style;var ft="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=ft,o.webkitTransform=ft}}}};function HCameraElement(o,s,et){this.initFrame(),this.initBaseData(o,s,et),this.initHierarchy();var tt=PropertyFactory.getProp;if(this.pe=tt(this,o.pe,0,0,this),o.ks.p.s?(this.px=tt(this,o.ks.p.x,1,0,this),this.py=tt(this,o.ks.p.y,1,0,this),this.pz=tt(this,o.ks.p.z,1,0,this)):this.p=tt(this,o.ks.p,1,0,this),o.ks.a&&(this.a=tt(this,o.ks.a,1,0,this)),o.ks.or.k.length&&o.ks.or.k[0].to){var nt,rt=o.ks.or.k.length;for(nt=0;nt<rt;nt+=1)o.ks.or.k[nt].to=null,o.ks.or.k[nt].ti=null}this.or=tt(this,o.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=tt(this,o.ks.rx,0,degToRads,this),this.ry=tt(this,o.ks.ry,0,degToRads,this),this.rz=tt(this,o.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var o,s=this.comp.threeDElements.length,et,tt,nt;for(o=0;o<s;o+=1)if(et=this.comp.threeDElements[o],et.type==="3d"){tt=et.perspectiveElem.style,nt=et.container.style;var rt=this.pe.v+"px",it="0px 0px 0px",st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";tt.perspective=rt,tt.webkitPerspective=rt,nt.transformOrigin=it,nt.mozTransformOrigin=it,nt.webkitTransformOrigin=it,tt.transform=st,tt.webkitTransform=st}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var o=this._isFirstFrame,s,et;if(this.hierarchy)for(et=this.hierarchy.length,s=0;s<et;s+=1)o=this.hierarchy[s].finalTransform.mProp._mdf||o;if(o||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(et=this.hierarchy.length-1,s=et;s>=0;s-=1){var tt=this.hierarchy[s].finalTransform.mProp;this.mat.translate(-tt.p.v[0],-tt.p.v[1],tt.p.v[2]),this.mat.rotateX(-tt.or.v[0]).rotateY(-tt.or.v[1]).rotateZ(tt.or.v[2]),this.mat.rotateX(-tt.rx.v).rotateY(-tt.ry.v).rotateZ(tt.rz.v),this.mat.scale(1/tt.s.v[0],1/tt.s.v[1],1/tt.s.v[2]),this.mat.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var nt;this.p?nt=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:nt=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var rt=Math.sqrt(Math.pow(nt[0],2)+Math.pow(nt[1],2)+Math.pow(nt[2],2)),it=[nt[0]/rt,nt[1]/rt,nt[2]/rt],st=Math.sqrt(it[2]*it[2]+it[0]*it[0]),ot=Math.atan2(it[1],st),at=Math.atan2(it[0],-it[2]);this.mat.rotateY(at).rotateX(-ot)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ut=!this._prevMat.equals(this.mat);if((ut||this.pe._mdf)&&this.comp.threeDElements){et=this.comp.threeDElements.length;var ht,ft,dt;for(s=0;s<et;s+=1)if(ht=this.comp.threeDElements[s],ht.type==="3d"){if(ut){var vt=this.mat.toCSS();dt=ht.container.style,dt.transform=vt,dt.webkitTransform=vt}this.pe._mdf&&(ft=ht.perspectiveElem.style,ft.perspective=this.pe.v+"px",ft.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(o,s,et){this.assetData=s.getAssetData(o.refId),this.initElement(o,s,et)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData),s=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(s),s.crossOrigin="anonymous",s.src=o,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(o,s){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:s&&s.className||"",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(s&&s.hideOnTransparent===!1),filterSize:{width:s&&s.filterSize&&s.filterSize.width||"400%",height:s&&s.filterSize&&s.filterSize.height||"400%",x:s&&s.filterSize&&s.filterSize.x||"-100%",y:s&&s.filterSize&&s.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(o,s){var et=o.getBaseElement();if(!!et){var tt=this.layers[s];if(!tt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(et,s);else{for(var nt=0,rt,it,st;nt<s;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement&&(it=this.elements[nt],st=this.layers[nt].ddd?this.getThreeDContainerByPos(nt):it.getBaseElement(),rt=st||rt),nt+=1;rt?(!tt.ddd||!this.supports3d)&&this.layerElement.insertBefore(et,rt):(!tt.ddd||!this.supports3d)&&this.layerElement.appendChild(et)}else this.addTo3dContainer(et,s)}},HybridRendererBase.prototype.createShape=function(o){return this.supports3d?new HShapeElement(o,this.globalData,this):new SVGShapeElement(o,this.globalData,this)},HybridRendererBase.prototype.createText=function(o){return this.supports3d?new HTextElement(o,this.globalData,this):new SVGTextLottieElement(o,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(o){return this.camera=new HCameraElement(o,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(o){return this.supports3d?new HImageElement(o,this.globalData,this):new IImageElement(o,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(o){return this.supports3d?new HSolidElement(o,this.globalData,this):new ISolidElement(o,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(o){for(var s=0,et=this.threeDElements.length;s<et;){if(this.threeDElements[s].startPos<=o&&this.threeDElements[s].endPos>=o)return this.threeDElements[s].perspectiveElem;s+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(o,s){var et=createTag("div"),tt,nt;styleDiv(et);var rt=createTag("div");if(styleDiv(rt),s==="3d"){tt=et.style,tt.width=this.globalData.compSize.w+"px",tt.height=this.globalData.compSize.h+"px";var it="50% 50%";tt.webkitTransformOrigin=it,tt.mozTransformOrigin=it,tt.transformOrigin=it,nt=rt.style;var st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.transform=st,nt.webkitTransform=st}et.appendChild(rt);var ot={container:rt,perspectiveElem:et,startPos:o,endPos:o,type:s};return this.threeDElements.push(ot),ot},HybridRendererBase.prototype.build3dContainers=function(){var o,s=this.layers.length,et,tt="";for(o=0;o<s;o+=1)this.layers[o].ddd&&this.layers[o].ty!==3?(tt!=="3d"&&(tt="3d",et=this.createThreeDContainer(o,"3d")),et.endPos=Math.max(et.endPos,o)):(tt!=="2d"&&(tt="2d",et=this.createThreeDContainer(o,"2d")),et.endPos=Math.max(et.endPos,o));for(s=this.threeDElements.length,o=s-1;o>=0;o-=1)this.resizerElem.appendChild(this.threeDElements[o].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(o,s){for(var et=0,tt=this.threeDElements.length;et<tt;){if(s<=this.threeDElements[et].endPos){for(var nt=this.threeDElements[et].startPos,rt;nt<s;)this.elements[nt]&&this.elements[nt].getBaseElement&&(rt=this.elements[nt].getBaseElement()),nt+=1;rt?this.threeDElements[et].container.insertBefore(o,rt):this.threeDElements[et].container.appendChild(o);break}et+=1}},HybridRendererBase.prototype.configAnimation=function(o){var s=createTag("div"),et=this.animationItem.wrapper,tt=s.style;tt.width=o.w+"px",tt.height=o.h+"px",this.resizerElem=s,styleDiv(s),tt.transformStyle="flat",tt.mozTransformStyle="flat",tt.webkitTransformStyle="flat",this.renderConfig.className&&s.setAttribute("class",this.renderConfig.className),et.appendChild(s),tt.overflow="hidden";var nt=createNS("svg");nt.setAttribute("width","1"),nt.setAttribute("height","1"),styleDiv(nt),this.resizerElem.appendChild(nt);var rt=createNS("defs");nt.appendChild(rt),this.data=o,this.setupGlobalData(o,nt),this.globalData.defs=rt,this.layers=o.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var o,s=this.layers?this.layers.length:0;for(o=0;o<s;o+=1)this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var o=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,et=o/s,tt=this.globalData.compSize.w/this.globalData.compSize.h,nt,rt,it,st;tt>et?(nt=o/this.globalData.compSize.w,rt=o/this.globalData.compSize.w,it=0,st=(s-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(nt=s/this.globalData.compSize.h,rt=s/this.globalData.compSize.h,it=(o-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,st=0);var ot=this.resizerElem.style;ot.webkitTransform="matrix3d("+nt+",0,0,0,0,"+rt+",0,0,0,0,1,0,"+it+","+st+",0,1)",ot.transform=ot.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var o=this.globalData.compSize.w,s=this.globalData.compSize.h,et,tt=this.threeDElements.length;for(et=0;et<tt;et+=1){var nt=this.threeDElements[et].perspectiveElem.style;nt.webkitPerspective=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))+"px",nt.perspective=nt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(o){var s,et=o.length,tt=createTag("div");for(s=0;s<et;s+=1)if(o[s].xt){var nt=this.createComp(o[s],tt,this.globalData.comp,null);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}};function HCompElement(o,s,et){this.layers=o.layers,this.supports3d=!o.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,s,et),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,s.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(o,s){for(var et=0,tt;et<s;)this.elements[et]&&this.elements[et].getBaseElement&&(tt=this.elements[et].getBaseElement()),et+=1;tt?this.layerElement.insertBefore(o,tt):this.layerElement.appendChild(o)},HCompElement.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};function HybridRenderer(o,s){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:s&&s.className||"",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(s&&s.hideOnTransparent===!1),filterSize:{width:s&&s.filterSize&&s.filterSize.width||"400%",height:s&&s.filterSize&&s.filterSize.height||"400%",x:s&&s.filterSize&&s.filterSize.x||"-100%",y:s&&s.filterSize&&s.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};var Expressions=function(){var o={};o.initExpressions=s;function s(et){var tt=0,nt=[];function rt(){tt+=1}function it(){tt-=1,tt===0&&ot()}function st(at){nt.indexOf(at)===-1&&nt.push(at)}function ot(){var at,ut=nt.length;for(at=0;at<ut;at+=1)nt[at].release();nt.length=0}et.renderer.compInterface=CompExpressionInterface(et.renderer),et.renderer.globalData.projectInterface.registerComposition(et.renderer),et.renderer.globalData.pushExpression=rt,et.renderer.globalData.popExpression=it,et.renderer.globalData.registerExpressionProperty=st}return o}();function _typeof$1(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(et){return typeof et}:_typeof$1=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$1(o)}function seedRandom(o,s){var et=this,tt=256,nt=6,rt=52,it="random",st=s.pow(tt,nt),ot=s.pow(2,rt),at=ot*2,ut=tt-1,ht;function ft(yt,xt,bt){var wt=[];xt=xt===!0?{entropy:!0}:xt||{};var Ct=_t(gt(xt.entropy?[yt,mt(o)]:yt===null?pt():yt,3),wt),Et=new dt(wt),kt=function(){for(var zt=Et.g(nt),Wt=st,Ht=0;zt<ot;)zt=(zt+Ht)*tt,Wt*=tt,Ht=Et.g(1);for(;zt>=at;)zt/=2,Wt/=2,Ht>>>=1;return(zt+Ht)/Wt};return kt.int32=function(){return Et.g(4)|0},kt.quick=function(){return Et.g(4)/4294967296},kt.double=kt,_t(mt(Et.S),o),(xt.pass||bt||function(Dt,zt,Wt,Ht){return Ht&&(Ht.S&&vt(Ht,Et),Dt.state=function(){return vt(Et,{})}),Wt?(s[it]=Dt,zt):Dt})(kt,Ct,"global"in xt?xt.global:this==s,xt.state)}s["seed"+it]=ft;function dt(yt){var xt,bt=yt.length,wt=this,Ct=0,Et=wt.i=wt.j=0,kt=wt.S=[];for(bt||(yt=[bt++]);Ct<tt;)kt[Ct]=Ct++;for(Ct=0;Ct<tt;Ct++)kt[Ct]=kt[Et=ut&Et+yt[Ct%bt]+(xt=kt[Ct])],kt[Et]=xt;wt.g=function(Dt){for(var zt,Wt=0,Ht=wt.i,Gt=wt.j,$t=wt.S;Dt--;)zt=$t[Ht=ut&Ht+1],Wt=Wt*tt+$t[ut&($t[Ht]=$t[Gt=ut&Gt+zt])+($t[Gt]=zt)];return wt.i=Ht,wt.j=Gt,Wt}}function vt(yt,xt){return xt.i=yt.i,xt.j=yt.j,xt.S=yt.S.slice(),xt}function gt(yt,xt){var bt=[],wt=_typeof$1(yt),Ct;if(xt&&wt=="object")for(Ct in yt)try{bt.push(gt(yt[Ct],xt-1))}catch{}return bt.length?bt:wt=="string"?yt:yt+"\0"}function _t(yt,xt){for(var bt=yt+"",wt,Ct=0;Ct<bt.length;)xt[ut&Ct]=ut&(wt^=xt[ut&Ct]*19)+bt.charCodeAt(Ct++);return mt(xt)}function pt(){try{var yt=new Uint8Array(tt);return(et.crypto||et.msCrypto).getRandomValues(yt),mt(yt)}catch{var xt=et.navigator,bt=xt&&xt.plugins;return[+new Date,et,bt,et.screen,mt(o)]}}function mt(yt){return String.fromCharCode.apply(0,yt)}_t(s.random(),o)}function initialize$2(o){seedRandom([],o)}var propTypes={SHAPE:"shape"};function _typeof(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(et){return typeof et}:_typeof=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(o)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(o){return o.constructor===Array||o.constructor===Float32Array}function isNumerable(o,s){return o==="number"||o==="boolean"||o==="string"||s instanceof Number}function $bm_neg(o){var s=_typeof(o);if(s==="number"||s==="boolean"||o instanceof Number)return-o;if($bm_isInstanceOfArray(o)){var et,tt=o.length,nt=[];for(et=0;et<tt;et+=1)nt[et]=-o[et];return nt}return o.propType?o.v:-o}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(o,s){var et=_typeof(o),tt=_typeof(s);if(et==="string"||tt==="string"||isNumerable(et,o)&&isNumerable(tt,s))return o+s;if($bm_isInstanceOfArray(o)&&isNumerable(tt,s))return o=o.slice(0),o[0]+=s,o;if(isNumerable(et,o)&&$bm_isInstanceOfArray(s))return s=s.slice(0),s[0]=o+s[0],s;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(s)){for(var nt=0,rt=o.length,it=s.length,st=[];nt<rt||nt<it;)(typeof o[nt]=="number"||o[nt]instanceof Number)&&(typeof s[nt]=="number"||s[nt]instanceof Number)?st[nt]=o[nt]+s[nt]:st[nt]=s[nt]===void 0?o[nt]:o[nt]||s[nt],nt+=1;return st}return 0}var add=sum;function sub(o,s){var et=_typeof(o),tt=_typeof(s);if(isNumerable(et,o)&&isNumerable(tt,s))return et==="string"&&(o=parseInt(o,10)),tt==="string"&&(s=parseInt(s,10)),o-s;if($bm_isInstanceOfArray(o)&&isNumerable(tt,s))return o=o.slice(0),o[0]-=s,o;if(isNumerable(et,o)&&$bm_isInstanceOfArray(s))return s=s.slice(0),s[0]=o-s[0],s;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(s)){for(var nt=0,rt=o.length,it=s.length,st=[];nt<rt||nt<it;)(typeof o[nt]=="number"||o[nt]instanceof Number)&&(typeof s[nt]=="number"||s[nt]instanceof Number)?st[nt]=o[nt]-s[nt]:st[nt]=s[nt]===void 0?o[nt]:o[nt]||s[nt],nt+=1;return st}return 0}function mul(o,s){var et=_typeof(o),tt=_typeof(s),nt;if(isNumerable(et,o)&&isNumerable(tt,s))return o*s;var rt,it;if($bm_isInstanceOfArray(o)&&isNumerable(tt,s)){for(it=o.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=o[rt]*s;return nt}if(isNumerable(et,o)&&$bm_isInstanceOfArray(s)){for(it=s.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=o*s[rt];return nt}return 0}function div(o,s){var et=_typeof(o),tt=_typeof(s),nt;if(isNumerable(et,o)&&isNumerable(tt,s))return o/s;var rt,it;if($bm_isInstanceOfArray(o)&&isNumerable(tt,s)){for(it=o.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=o[rt]/s;return nt}if(isNumerable(et,o)&&$bm_isInstanceOfArray(s)){for(it=s.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=o/s[rt];return nt}return 0}function mod(o,s){return typeof o=="string"&&(o=parseInt(o,10)),typeof s=="string"&&(s=parseInt(s,10)),o%s}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(o,s,et){if(s>et){var tt=et;et=s,s=tt}return Math.min(Math.max(o,s),et)}function radiansToDegrees(o){return o/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(o){return o*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(o,s){if(typeof o=="number"||o instanceof Number)return s=s||0,Math.abs(o-s);s||(s=helperLengthArray);var et,tt=Math.min(o.length,s.length),nt=0;for(et=0;et<tt;et+=1)nt+=Math.pow(s[et]-o[et],2);return Math.sqrt(nt)}function normalize(o){return div(o,length(o))}function rgbToHsl(o){var s=o[0],et=o[1],tt=o[2],nt=Math.max(s,et,tt),rt=Math.min(s,et,tt),it,st,ot=(nt+rt)/2;if(nt===rt)it=0,st=0;else{var at=nt-rt;switch(st=ot>.5?at/(2-nt-rt):at/(nt+rt),nt){case s:it=(et-tt)/at+(et<tt?6:0);break;case et:it=(tt-s)/at+2;break;case tt:it=(s-et)/at+4;break}it/=6}return[it,st,ot,o[3]]}function hue2rgb(o,s,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?o+(s-o)*6*et:et<1/2?s:et<2/3?o+(s-o)*(2/3-et)*6:o}function hslToRgb(o){var s=o[0],et=o[1],tt=o[2],nt,rt,it;if(et===0)nt=tt,it=tt,rt=tt;else{var st=tt<.5?tt*(1+et):tt+et-tt*et,ot=2*tt-st;nt=hue2rgb(ot,st,s+1/3),rt=hue2rgb(ot,st,s),it=hue2rgb(ot,st,s-1/3)}return[nt,rt,it,o[3]]}function linear(o,s,et,tt,nt){if((tt===void 0||nt===void 0)&&(tt=s,nt=et,s=0,et=1),et<s){var rt=et;et=s,s=rt}if(o<=s)return tt;if(o>=et)return nt;var it=et===s?0:(o-s)/(et-s);if(!tt.length)return tt+(nt-tt)*it;var st,ot=tt.length,at=createTypedArray("float32",ot);for(st=0;st<ot;st+=1)at[st]=tt[st]+(nt[st]-tt[st])*it;return at}function random(o,s){if(s===void 0&&(o===void 0?(o=0,s=1):(s=o,o=void 0)),s.length){var et,tt=s.length;o||(o=createTypedArray("float32",tt));var nt=createTypedArray("float32",tt),rt=BMMath.random();for(et=0;et<tt;et+=1)nt[et]=o[et]+rt*(s[et]-o[et]);return nt}o===void 0&&(o=0);var it=BMMath.random();return o+it*(s-o)}function createPath(o,s,et,tt){var nt,rt=o.length,it=shapePool.newElement();it.setPathData(!!tt,rt);var st=[0,0],ot,at;for(nt=0;nt<rt;nt+=1)ot=s&&s[nt]?s[nt]:st,at=et&&et[nt]?et[nt]:st,it.setTripleAt(o[nt][0],o[nt][1],at[0]+o[nt][0],at[1]+o[nt][1],ot[0]+o[nt][0],ot[1]+o[nt][1],nt,!0);return it}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function o(s,et){var tt,nt,rt=this.pv.length?this.pv.length:1,it=createTypedArray("float32",rt);s=5;var st=Math.floor(time*s);for(tt=0,nt=0;tt<st;){for(nt=0;nt<rt;nt+=1)it[nt]+=-et+et*2*BMMath.random();tt+=1}var ot=time*s,at=ot-Math.floor(ot),ut=createTypedArray("float32",rt);if(rt>1){for(nt=0;nt<rt;nt+=1)ut[nt]=this.pv[nt]+it[nt]+(-et+et*2*BMMath.random())*at;return ut}return this.pv+it[0]+(-et+et*2*BMMath.random())*at}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(o,s){return loopIn(o,s,!0)}function loopOutDuration(o,s){return loopOut(o,s,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(o,s){var et=[s[0]-o[0],s[1]-o[1],s[2]-o[2]],tt=Math.atan2(et[0],Math.sqrt(et[1]*et[1]+et[2]*et[2]))/degToRads,nt=-Math.atan2(et[1],et[2])/degToRads;return[nt,tt,0]}function easeOut(o,s,et,tt,nt){return applyEase(easeOutBez,o,s,et,tt,nt)}function easeIn(o,s,et,tt,nt){return applyEase(easeInBez,o,s,et,tt,nt)}function ease(o,s,et,tt,nt){return applyEase(easeInOutBez,o,s,et,tt,nt)}function applyEase(o,s,et,tt,nt,rt){nt===void 0?(nt=et,rt=tt):s=(s-et)/(tt-et),s>1?s=1:s<0&&(s=0);var it=o(s);if($bm_isInstanceOfArray(nt)){var st,ot=nt.length,at=createTypedArray("float32",ot);for(st=0;st<ot;st+=1)at[st]=(rt[st]-nt[st])*it+nt[st];return at}return(rt-nt)*it+nt}function nearestKey(o){var s,et=data.k.length,tt,nt;if(!data.k.length||typeof data.k[0]=="number")tt=0,nt=0;else if(tt=-1,o*=elem.comp.globalData.frameRate,o<data.k[0].t)tt=1,nt=data.k[0].t;else{for(s=0;s<et-1;s+=1)if(o===data.k[s].t){tt=s+1,nt=data.k[s].t;break}else if(o>data.k[s].t&&o<data.k[s+1].t){o-data.k[s].t>data.k[s+1].t-o?(tt=s+2,nt=data.k[s+1].t):(tt=s+1,nt=data.k[s].t);break}tt===-1&&(tt=s+1,nt=data.k[s].t)}var rt={};return rt.index=tt,rt.time=nt/elem.comp.globalData.frameRate,rt}function key(o){var s,et,tt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+o);o-=1,s={time:data.k[o].t/elem.comp.globalData.frameRate,value:[]};var nt=Object.prototype.hasOwnProperty.call(data.k[o],"s")?data.k[o].s:data.k[o-1].e;for(tt=nt.length,et=0;et<tt;et+=1)s[et]=nt[et],s.value[et]=nt[et];return s}function framesToTime(o,s){return s||(s=elem.comp.globalData.frameRate),o/s}function timeToFrames(o,s){return!o&&o!==0&&(o=time),s||(s=elem.comp.globalData.frameRate),o*s}function seedRandom(o){BMMath.seedrandom(randSeed+o)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(o,s){return typeof value=="string"?s===void 0?value.substring(o):value.substring(o,s):""}function substr(o,s){return typeof value=="string"?s===void 0?value.substr(o):value.substr(o,s):""}function posterizeTime(o){time=o===0?0:Math.floor(time*o)/o,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(o){return value=o,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function o(it,st,ot){st.x&&(ot.k=!0,ot.x=!0,ot.initiateExpression=ExpressionManager.initiateExpression,ot.effectsSequence.push(ot.initiateExpression(it,st,ot).bind(ot)))}function s(it){return it*=this.elem.globalData.frameRate,it-=this.offsetTime,it!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<it?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(it,this._cachingAtTime),this._cachingAtTime.lastFrame=it),this._cachingAtTime.value}function et(it){var st=-.01,ot=this.getValueAtTime(it),at=this.getValueAtTime(it+st),ut=0;if(ot.length){var ht;for(ht=0;ht<ot.length;ht+=1)ut+=Math.pow(at[ht]-ot[ht],2);ut=Math.sqrt(ut)*100}else ut=0;return ut}function tt(it){if(this.vel!==void 0)return this.vel;var st=-.001,ot=this.getValueAtTime(it),at=this.getValueAtTime(it+st),ut;if(ot.length){ut=createTypedArray("float32",ot.length);var ht;for(ht=0;ht<ot.length;ht+=1)ut[ht]=(at[ht]-ot[ht])/st}else ut=(at-ot)/st;return ut}function nt(){return this.pv}function rt(it){this.propertyGroup=it}return{searchExpressions:o,getSpeedAtTime:et,getVelocityAtTime:tt,getValueAtTime:s,getStaticValueAtTime:nt,setGroupProperty:rt}}();function addPropertyDecorator(){function o(ft,dt,vt){if(!this.k||!this.keyframes)return this.pv;ft=ft?ft.toLowerCase():"";var gt=this.comp.renderedFrame,_t=this.keyframes,pt=_t[_t.length-1].t;if(gt<=pt)return this.pv;var mt,yt;vt?(dt?mt=Math.abs(pt-this.elem.comp.globalData.frameRate*dt):mt=Math.max(0,pt-this.elem.data.ip),yt=pt-mt):((!dt||dt>_t.length-1)&&(dt=_t.length-1),yt=_t[_t.length-1-dt].t,mt=pt-yt);var xt,bt,wt;if(ft==="pingpong"){var Ct=Math.floor((gt-yt)/mt);if(Ct%2!==0)return this.getValueAtTime((mt-(gt-yt)%mt+yt)/this.comp.globalData.frameRate,0)}else if(ft==="offset"){var Et=this.getValueAtTime(yt/this.comp.globalData.frameRate,0),kt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime(((gt-yt)%mt+yt)/this.comp.globalData.frameRate,0),zt=Math.floor((gt-yt)/mt);if(this.pv.length){for(wt=new Array(Et.length),bt=wt.length,xt=0;xt<bt;xt+=1)wt[xt]=(kt[xt]-Et[xt])*zt+Dt[xt];return wt}return(kt-Et)*zt+Dt}else if(ft==="continue"){var Wt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Ht=this.getValueAtTime((pt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(wt=new Array(Wt.length),bt=wt.length,xt=0;xt<bt;xt+=1)wt[xt]=Wt[xt]+(Wt[xt]-Ht[xt])*((gt-pt)/this.comp.globalData.frameRate)/5e-4;return wt}return Wt+(Wt-Ht)*((gt-pt)/.001)}return this.getValueAtTime(((gt-yt)%mt+yt)/this.comp.globalData.frameRate,0)}function s(ft,dt,vt){if(!this.k)return this.pv;ft=ft?ft.toLowerCase():"";var gt=this.comp.renderedFrame,_t=this.keyframes,pt=_t[0].t;if(gt>=pt)return this.pv;var mt,yt;vt?(dt?mt=Math.abs(this.elem.comp.globalData.frameRate*dt):mt=Math.max(0,this.elem.data.op-pt),yt=pt+mt):((!dt||dt>_t.length-1)&&(dt=_t.length-1),yt=_t[dt].t,mt=yt-pt);var xt,bt,wt;if(ft==="pingpong"){var Ct=Math.floor((pt-gt)/mt);if(Ct%2===0)return this.getValueAtTime(((pt-gt)%mt+pt)/this.comp.globalData.frameRate,0)}else if(ft==="offset"){var Et=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),kt=this.getValueAtTime(yt/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime((mt-(pt-gt)%mt+pt)/this.comp.globalData.frameRate,0),zt=Math.floor((pt-gt)/mt)+1;if(this.pv.length){for(wt=new Array(Et.length),bt=wt.length,xt=0;xt<bt;xt+=1)wt[xt]=Dt[xt]-(kt[xt]-Et[xt])*zt;return wt}return Dt-(kt-Et)*zt}else if(ft==="continue"){var Wt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Ht=this.getValueAtTime((pt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(wt=new Array(Wt.length),bt=wt.length,xt=0;xt<bt;xt+=1)wt[xt]=Wt[xt]+(Wt[xt]-Ht[xt])*(pt-gt)/.001;return wt}return Wt+(Wt-Ht)*(pt-gt)/.001}return this.getValueAtTime((mt-((pt-gt)%mt+pt))/this.comp.globalData.frameRate,0)}function et(ft,dt){if(!this.k)return this.pv;if(ft=(ft||.4)*.5,dt=Math.floor(dt||5),dt<=1)return this.pv;var vt=this.comp.renderedFrame/this.comp.globalData.frameRate,gt=vt-ft,_t=vt+ft,pt=dt>1?(_t-gt)/(dt-1):1,mt=0,yt=0,xt;this.pv.length?xt=createTypedArray("float32",this.pv.length):xt=0;for(var bt;mt<dt;){if(bt=this.getValueAtTime(gt+mt*pt),this.pv.length)for(yt=0;yt<this.pv.length;yt+=1)xt[yt]+=bt[yt];else xt+=bt;mt+=1}if(this.pv.length)for(yt=0;yt<this.pv.length;yt+=1)xt[yt]/=dt;else xt/=dt;return xt}function tt(ft){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var dt=this._transformCachingAtTime.v;if(dt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var vt=this.a.getValueAtTime(ft);dt.translate(-vt[0]*this.a.mult,-vt[1]*this.a.mult,vt[2]*this.a.mult)}if(this.appliedTransformations<2){var gt=this.s.getValueAtTime(ft);dt.scale(gt[0]*this.s.mult,gt[1]*this.s.mult,gt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var _t=this.sk.getValueAtTime(ft),pt=this.sa.getValueAtTime(ft);dt.skewFromAxis(-_t*this.sk.mult,pt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var mt=this.r.getValueAtTime(ft);dt.rotate(-mt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var yt=this.rz.getValueAtTime(ft),xt=this.ry.getValueAtTime(ft),bt=this.rx.getValueAtTime(ft),wt=this.or.getValueAtTime(ft);dt.rotateZ(-yt*this.rz.mult).rotateY(xt*this.ry.mult).rotateX(bt*this.rx.mult).rotateZ(-wt[2]*this.or.mult).rotateY(wt[1]*this.or.mult).rotateX(wt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ct=this.px.getValueAtTime(ft),Et=this.py.getValueAtTime(ft);if(this.data.p.z){var kt=this.pz.getValueAtTime(ft);dt.translate(Ct*this.px.mult,Et*this.py.mult,-kt*this.pz.mult)}else dt.translate(Ct*this.px.mult,Et*this.py.mult,0)}else{var Dt=this.p.getValueAtTime(ft);dt.translate(Dt[0]*this.p.mult,Dt[1]*this.p.mult,-Dt[2]*this.p.mult)}return dt}function nt(){return this.v.clone(new Matrix)}var rt=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ft,dt,vt){var gt=rt(ft,dt,vt);return gt.dynamicProperties.length?gt.getValueAtTime=tt.bind(gt):gt.getValueAtTime=nt.bind(gt),gt.setGroupProperty=expressionHelpers.setGroupProperty,gt};var it=PropertyFactory.getProp;PropertyFactory.getProp=function(ft,dt,vt,gt,_t){var pt=it(ft,dt,vt,gt,_t);pt.kf?pt.getValueAtTime=expressionHelpers.getValueAtTime.bind(pt):pt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(pt),pt.setGroupProperty=expressionHelpers.setGroupProperty,pt.loopOut=o,pt.loopIn=s,pt.smooth=et,pt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(pt),pt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(pt),pt.numKeys=dt.a===1?dt.k.length:0,pt.propertyIndex=dt.ix;var mt=0;return vt!==0&&(mt=createTypedArray("float32",dt.a===1?dt.k[0].s.length:dt.k.length)),pt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:mt},expressionHelpers.searchExpressions(ft,dt,pt),pt.k&&_t.addDynamicProperty(pt),pt};function st(ft){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ft*=this.elem.globalData.frameRate,ft-=this.offsetTime,ft!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ft?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ft,this.interpolateShape(ft,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var ot=ShapePropertyFactory.getConstructorFunction(),at=ShapePropertyFactory.getKeyframedConstructorFunction();function ut(){}ut.prototype={vertices:function(dt,vt){this.k&&this.getValue();var gt=this.v;vt!==void 0&&(gt=this.getValueAtTime(vt,0));var _t,pt=gt._length,mt=gt[dt],yt=gt.v,xt=createSizedArray(pt);for(_t=0;_t<pt;_t+=1)dt==="i"||dt==="o"?xt[_t]=[mt[_t][0]-yt[_t][0],mt[_t][1]-yt[_t][1]]:xt[_t]=[mt[_t][0],mt[_t][1]];return xt},points:function(dt){return this.vertices("v",dt)},inTangents:function(dt){return this.vertices("i",dt)},outTangents:function(dt){return this.vertices("o",dt)},isClosed:function(){return this.v.c},pointOnPath:function(dt,vt){var gt=this.v;vt!==void 0&&(gt=this.getValueAtTime(vt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(gt));for(var _t=this._segmentsLength,pt=_t.lengths,mt=_t.totalLength*dt,yt=0,xt=pt.length,bt=0,wt;yt<xt;){if(bt+pt[yt].addedLength>mt){var Ct=yt,Et=gt.c&&yt===xt-1?0:yt+1,kt=(mt-bt)/pt[yt].addedLength;wt=bez.getPointInSegment(gt.v[Ct],gt.v[Et],gt.o[Ct],gt.i[Et],kt,pt[yt]);break}else bt+=pt[yt].addedLength;yt+=1}return wt||(wt=gt.c?[gt.v[0][0],gt.v[0][1]]:[gt.v[gt._length-1][0],gt.v[gt._length-1][1]]),wt},vectorOnPath:function(dt,vt,gt){dt==1?dt=this.v.c:dt==0&&(dt=.999);var _t=this.pointOnPath(dt,vt),pt=this.pointOnPath(dt+.001,vt),mt=pt[0]-_t[0],yt=pt[1]-_t[1],xt=Math.sqrt(Math.pow(mt,2)+Math.pow(yt,2));if(xt===0)return[0,0];var bt=gt==="tangent"?[mt/xt,yt/xt]:[-yt/xt,mt/xt];return bt},tangentOnPath:function(dt,vt){return this.vectorOnPath(dt,vt,"tangent")},normalOnPath:function(dt,vt){return this.vectorOnPath(dt,vt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ut],ot),extendPrototype([ut],at),at.prototype.getValueAtTime=st,at.prototype.initiateExpression=ExpressionManager.initiateExpression;var ht=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ft,dt,vt,gt,_t){var pt=ht(ft,dt,vt,gt,_t);return pt.propertyIndex=dt.ix,pt.lock=!1,vt===3?expressionHelpers.searchExpressions(ft,dt.pt,pt):vt===4&&expressionHelpers.searchExpressions(ft,dt.ks,pt),pt.k&&ft.addDynamicProperty(pt),pt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function o(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(s,et){var tt=this.calculateExpression(et);if(s.t!==tt){var nt={};return this.copyData(nt,s),nt.t=tt.toString(),nt.__complete=!1,nt}return s},TextProperty.prototype.searchProperty=function(){var s=this.searchKeyframes(),et=this.searchExpressions();return this.kf=s||et,this.kf},TextProperty.prototype.searchExpressions=o}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function o(s,et){var tt=createNS("feMerge");tt.setAttribute("result",s);var nt,rt;for(rt=0;rt<et.length;rt+=1)nt=createNS("feMergeNode"),nt.setAttribute("in",et[rt]),tt.appendChild(nt),tt.appendChild(nt);return tt}};function SVGTintFilter(o,s,et,tt,nt){this.filterManager=s;var rt=createNS("feColorMatrix");rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","linearRGB"),rt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),rt.setAttribute("result",tt+"_tint_1"),o.appendChild(rt),rt=createNS("feColorMatrix"),rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),rt.setAttribute("result",tt+"_tint_2"),o.appendChild(rt),this.matrixFilter=rt;var it=this.createMergeNode(tt,[nt,tt+"_tint_1",tt+"_tint_2"]);o.appendChild(it)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var s=this.filterManager.effectElements[0].p.v,et=this.filterManager.effectElements[1].p.v,tt=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",et[0]-s[0]+" 0 0 0 "+s[0]+" "+(et[1]-s[1])+" 0 0 0 "+s[1]+" "+(et[2]-s[2])+" 0 0 0 "+s[2]+" 0 0 0 "+tt+" 0")}};function SVGFillFilter(o,s,et,tt){this.filterManager=s;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),nt.setAttribute("result",tt),o.appendChild(nt),this.matrixFilter=nt}SVGFillFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var s=this.filterManager.effectElements[2].p.v,et=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+s[0]+" 0 0 0 0 "+s[1]+" 0 0 0 0 "+s[2]+" 0 0 0 "+et+" 0")}};function SVGStrokeEffect(o,s,et){this.initialized=!1,this.filterManager=s,this.elem=et,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var o=this.elem.layerElement.children||this.elem.layerElement.childNodes,s,et,tt,nt;for(this.filterManager.effectElements[1].p.v===1?(nt=this.elem.maskManager.masksProperties.length,tt=0):(tt=this.filterManager.effectElements[0].p.v-1,nt=tt+1),et=createNS("g"),et.setAttribute("fill","none"),et.setAttribute("stroke-linecap","round"),et.setAttribute("stroke-dashoffset",1),tt;tt<nt;tt+=1)s=createNS("path"),et.appendChild(s),this.paths.push({p:s,m:tt});if(this.filterManager.effectElements[10].p.v===3){var rt=createNS("mask"),it=createElementID();rt.setAttribute("id",it),rt.setAttribute("mask-type","alpha"),rt.appendChild(et),this.elem.globalData.defs.appendChild(rt);var st=createNS("g");for(st.setAttribute("mask","url("+getLocationHref()+"#"+it+")");o[0];)st.appendChild(o[0]);this.elem.layerElement.appendChild(st),this.masker=rt,et.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(et),this.elem.layerElement.removeAttribute("mask"),et.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=et},SVGStrokeEffect.prototype.renderFrame=function(o){this.initialized||this.initialize();var s,et=this.paths.length,tt,nt;for(s=0;s<et;s+=1)if(this.paths[s].m!==-1&&(tt=this.elem.maskManager.viewData[this.paths[s].m],nt=this.paths[s].p,(o||this.filterManager._mdf||tt.prop._mdf)&&nt.setAttribute("d",tt.lastPath),o||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||tt.prop._mdf)){var rt;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var it=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,st=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ot=nt.getTotalLength();rt="0 0 0 "+ot*it+" ";var at=ot*(st-it),ut=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ht=Math.floor(at/ut),ft;for(ft=0;ft<ht;ft+=1)rt+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";rt+="0 "+ot*10+" 0 0"}else rt="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;nt.setAttribute("stroke-dasharray",rt)}if((o||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(o||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(o||this.filterManager.effectElements[3].p._mdf)){var dt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(dt[0]*255)+","+bmFloor(dt[1]*255)+","+bmFloor(dt[2]*255)+")")}};function SVGTritoneFilter(o,s,et,tt){this.filterManager=s;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","linearRGB"),nt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),o.appendChild(nt);var rt=createNS("feComponentTransfer");rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("result",tt),this.matrixFilter=rt;var it=createNS("feFuncR");it.setAttribute("type","table"),rt.appendChild(it),this.feFuncR=it;var st=createNS("feFuncG");st.setAttribute("type","table"),rt.appendChild(st),this.feFuncG=st;var ot=createNS("feFuncB");ot.setAttribute("type","table"),rt.appendChild(ot),this.feFuncB=ot,o.appendChild(rt)}SVGTritoneFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var s=this.filterManager.effectElements[0].p.v,et=this.filterManager.effectElements[1].p.v,tt=this.filterManager.effectElements[2].p.v,nt=tt[0]+" "+et[0]+" "+s[0],rt=tt[1]+" "+et[1]+" "+s[1],it=tt[2]+" "+et[2]+" "+s[2];this.feFuncR.setAttribute("tableValues",nt),this.feFuncG.setAttribute("tableValues",rt),this.feFuncB.setAttribute("tableValues",it)}};function SVGProLevelsFilter(o,s,et,tt){this.filterManager=s;var nt=this.filterManager.effectElements,rt=createNS("feComponentTransfer");(nt[10].p.k||nt[10].p.v!==0||nt[11].p.k||nt[11].p.v!==1||nt[12].p.k||nt[12].p.v!==1||nt[13].p.k||nt[13].p.v!==0||nt[14].p.k||nt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",rt)),(nt[17].p.k||nt[17].p.v!==0||nt[18].p.k||nt[18].p.v!==1||nt[19].p.k||nt[19].p.v!==1||nt[20].p.k||nt[20].p.v!==0||nt[21].p.k||nt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",rt)),(nt[24].p.k||nt[24].p.v!==0||nt[25].p.k||nt[25].p.v!==1||nt[26].p.k||nt[26].p.v!==1||nt[27].p.k||nt[27].p.v!==0||nt[28].p.k||nt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",rt)),(nt[31].p.k||nt[31].p.v!==0||nt[32].p.k||nt[32].p.v!==1||nt[33].p.k||nt[33].p.v!==1||nt[34].p.k||nt[34].p.v!==0||nt[35].p.k||nt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",rt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(rt.setAttribute("color-interpolation-filters","sRGB"),o.appendChild(rt)),(nt[3].p.k||nt[3].p.v!==0||nt[4].p.k||nt[4].p.v!==1||nt[5].p.k||nt[5].p.v!==1||nt[6].p.k||nt[6].p.v!==0||nt[7].p.k||nt[7].p.v!==1)&&(rt=createNS("feComponentTransfer"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("result",tt),o.appendChild(rt),this.feFuncRComposed=this.createFeFunc("feFuncR",rt),this.feFuncGComposed=this.createFeFunc("feFuncG",rt),this.feFuncBComposed=this.createFeFunc("feFuncB",rt))}SVGProLevelsFilter.prototype.createFeFunc=function(o,s){var et=createNS(o);return et.setAttribute("type","table"),s.appendChild(et),et},SVGProLevelsFilter.prototype.getTableValue=function(o,s,et,tt,nt){for(var rt=0,it=256,st,ot=Math.min(o,s),at=Math.max(o,s),ut=Array.call(null,{length:it}),ht,ft=0,dt=nt-tt,vt=s-o;rt<=256;)st=rt/256,st<=ot?ht=vt<0?nt:tt:st>=at?ht=vt<0?tt:nt:ht=tt+dt*Math.pow((st-o)/vt,1/et),ut[ft]=ht,ft+=1,rt+=256/(it-1);return ut.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var s,et=this.filterManager.effectElements;this.feFuncRComposed&&(o||et[3].p._mdf||et[4].p._mdf||et[5].p._mdf||et[6].p._mdf||et[7].p._mdf)&&(s=this.getTableValue(et[3].p.v,et[4].p.v,et[5].p.v,et[6].p.v,et[7].p.v),this.feFuncRComposed.setAttribute("tableValues",s),this.feFuncGComposed.setAttribute("tableValues",s),this.feFuncBComposed.setAttribute("tableValues",s)),this.feFuncR&&(o||et[10].p._mdf||et[11].p._mdf||et[12].p._mdf||et[13].p._mdf||et[14].p._mdf)&&(s=this.getTableValue(et[10].p.v,et[11].p.v,et[12].p.v,et[13].p.v,et[14].p.v),this.feFuncR.setAttribute("tableValues",s)),this.feFuncG&&(o||et[17].p._mdf||et[18].p._mdf||et[19].p._mdf||et[20].p._mdf||et[21].p._mdf)&&(s=this.getTableValue(et[17].p.v,et[18].p.v,et[19].p.v,et[20].p.v,et[21].p.v),this.feFuncG.setAttribute("tableValues",s)),this.feFuncB&&(o||et[24].p._mdf||et[25].p._mdf||et[26].p._mdf||et[27].p._mdf||et[28].p._mdf)&&(s=this.getTableValue(et[24].p.v,et[25].p.v,et[26].p.v,et[27].p.v,et[28].p.v),this.feFuncB.setAttribute("tableValues",s)),this.feFuncA&&(o||et[31].p._mdf||et[32].p._mdf||et[33].p._mdf||et[34].p._mdf||et[35].p._mdf)&&(s=this.getTableValue(et[31].p.v,et[32].p.v,et[33].p.v,et[34].p.v,et[35].p.v),this.feFuncA.setAttribute("tableValues",s))}};function SVGDropShadowEffect(o,s,et,tt,nt){var rt=s.container.globalData.renderConfig.filterSize,it=s.data.fs||rt;o.setAttribute("x",it.x||rt.x),o.setAttribute("y",it.y||rt.y),o.setAttribute("width",it.width||rt.width),o.setAttribute("height",it.height||rt.height),this.filterManager=s;var st=createNS("feGaussianBlur");st.setAttribute("in","SourceAlpha"),st.setAttribute("result",tt+"_drop_shadow_1"),st.setAttribute("stdDeviation","0"),this.feGaussianBlur=st,o.appendChild(st);var ot=createNS("feOffset");ot.setAttribute("dx","25"),ot.setAttribute("dy","0"),ot.setAttribute("in",tt+"_drop_shadow_1"),ot.setAttribute("result",tt+"_drop_shadow_2"),this.feOffset=ot,o.appendChild(ot);var at=createNS("feFlood");at.setAttribute("flood-color","#00ff00"),at.setAttribute("flood-opacity","1"),at.setAttribute("result",tt+"_drop_shadow_3"),this.feFlood=at,o.appendChild(at);var ut=createNS("feComposite");ut.setAttribute("in",tt+"_drop_shadow_3"),ut.setAttribute("in2",tt+"_drop_shadow_2"),ut.setAttribute("operator","in"),ut.setAttribute("result",tt+"_drop_shadow_4"),o.appendChild(ut);var ht=this.createMergeNode(tt,[tt+"_drop_shadow_4",nt]);o.appendChild(ht)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){if((o||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),o||this.filterManager.effectElements[0].p._mdf){var s=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)))}if((o||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),o||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var et=this.filterManager.effectElements[3].p.v,tt=(this.filterManager.effectElements[2].p.v-90)*degToRads,nt=et*Math.cos(tt),rt=et*Math.sin(tt);this.feOffset.setAttribute("dx",nt),this.feOffset.setAttribute("dy",rt)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(o,s,et){this.initialized=!1,this.filterManager=s,this.filterElem=o,this.elem=et,et.matteElement=createNS("g"),et.matteElement.appendChild(et.layerElement),et.matteElement.appendChild(et.transformedElement),et.baseElement=et.matteElement}SVGMatte3Effect.prototype.findSymbol=function(o){for(var s=0,et=_svgMatteSymbols.length;s<et;){if(_svgMatteSymbols[s]===o)return _svgMatteSymbols[s];s+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(o,s){var et=o.layerElement.parentNode;if(!!et){for(var tt=et.children,nt=0,rt=tt.length;nt<rt&&tt[nt]!==o.layerElement;)nt+=1;var it;nt<=rt-2&&(it=tt[nt+1]);var st=createNS("use");st.setAttribute("href","#"+s),it?et.insertBefore(st,it):et.appendChild(st)}},SVGMatte3Effect.prototype.setElementAsMask=function(o,s){if(!this.findSymbol(s)){var et=createElementID(),tt=createNS("mask");tt.setAttribute("id",s.layerId),tt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(s);var nt=o.globalData.defs;nt.appendChild(tt);var rt=createNS("symbol");rt.setAttribute("id",et),this.replaceInParent(s,et),rt.appendChild(s.layerElement),nt.appendChild(rt);var it=createNS("use");it.setAttribute("href","#"+et),tt.appendChild(it),s.data.hd=!1,s.show()}o.setMatte(s.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var o=this.filterManager.effectElements[0].p.v,s=this.elem.comp.elements,et=0,tt=s.length;et<tt;)s[et]&&s[et].data.ind===o&&this.setElementAsMask(this.elem,s[et]),et+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(o,s,et,tt){o.setAttribute("x","-100%"),o.setAttribute("y","-100%"),o.setAttribute("width","300%"),o.setAttribute("height","300%"),this.filterManager=s;var nt=createNS("feGaussianBlur");nt.setAttribute("result",tt),o.appendChild(nt),this.feGaussianBlur=nt}return SVGGaussianBlurEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var s=.3,et=this.filterManager.effectElements[0].p.v*s,tt=this.filterManager.effectElements[1].p.v,nt=tt==3?0:et,rt=tt==2?0:et;this.feGaussianBlur.setAttribute("stdDeviation",nt+" "+rt);var it=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",it)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie,lottie.exports);Object.defineProperty(dist,"__esModule",{value:!0});var _extends2=_extends,_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=getPrototypeOf$2.exports,_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=classCallCheck,_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=createClass,_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=possibleConstructorReturn,_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=inherits,_inherits3=_interopRequireDefault(_inherits2),_react=react.exports,_react2=_interopRequireDefault(_react),_propTypes=propTypes.exports,_propTypes2=_interopRequireDefault(_propTypes),_lottieWeb=lottie.exports,_lottieWeb2=_interopRequireDefault(_lottieWeb);function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}var Lottie=function(o){(0,_inherits3.default)(s,o);function s(){var et,tt,nt,rt;(0,_classCallCheck3.default)(this,s);for(var it=arguments.length,st=Array(it),ot=0;ot<it;ot++)st[ot]=arguments[ot];return rt=(tt=(nt=(0,_possibleConstructorReturn3.default)(this,(et=s.__proto__||(0,_getPrototypeOf2.default)(s)).call.apply(et,[this].concat(st))),nt),nt.handleClickToPause=function(){nt.anim.isPaused?nt.anim.play():nt.anim.pause()},tt),(0,_possibleConstructorReturn3.default)(nt,rt)}return(0,_createClass3.default)(s,[{key:"componentDidMount",value:function(){var tt=this.props,nt=tt.options,rt=tt.eventListeners,it=nt.loop,st=nt.autoplay,ot=nt.animationData,at=nt.rendererSettings,ut=nt.segments;this.options={container:this.el,renderer:"svg",loop:it!==!1,autoplay:st!==!1,segments:ut!==!1,animationData:ot,rendererSettings:at},this.options=(0,_extends3.default)({},this.options,nt),this.anim=_lottieWeb2.default.loadAnimation(this.options),this.registerEvents(rt)}},{key:"componentWillUpdate",value:function(tt){this.options.animationData!==tt.options.animationData&&(this.deRegisterEvents(this.props.eventListeners),this.destroy(),this.options=(0,_extends3.default)({},this.options,tt.options),this.anim=_lottieWeb2.default.loadAnimation(this.options),this.registerEvents(tt.eventListeners))}},{key:"componentDidUpdate",value:function(){this.props.isStopped?this.stop():this.props.segments?this.playSegments():this.play(),this.pause(),this.setSpeed(),this.setDirection()}},{key:"componentWillUnmount",value:function(){this.deRegisterEvents(this.props.eventListeners),this.destroy(),this.options.animationData=null,this.anim=null}},{key:"setSpeed",value:function(){this.anim.setSpeed(this.props.speed)}},{key:"setDirection",value:function(){this.anim.setDirection(this.props.direction)}},{key:"play",value:function(){this.anim.play()}},{key:"playSegments",value:function(){this.anim.playSegments(this.props.segments)}},{key:"stop",value:function(){this.anim.stop()}},{key:"pause",value:function(){this.props.isPaused&&!this.anim.isPaused?this.anim.pause():!this.props.isPaused&&this.anim.isPaused&&this.anim.pause()}},{key:"destroy",value:function(){this.anim.destroy()}},{key:"registerEvents",value:function(tt){var nt=this;tt.forEach(function(rt){nt.anim.addEventListener(rt.eventName,rt.callback)})}},{key:"deRegisterEvents",value:function(tt){var nt=this;tt.forEach(function(rt){nt.anim.removeEventListener(rt.eventName,rt.callback)})}},{key:"render",value:function(){var tt=this,nt=this.props,rt=nt.width,it=nt.height,st=nt.ariaRole,ot=nt.ariaLabel,at=nt.isClickToPauseDisabled,ut=nt.title,ht=function(gt){var _t=void 0;return typeof gt=="number"?_t=gt+"px":_t=gt||"100%",_t},ft=(0,_extends3.default)({width:ht(rt),height:ht(it),overflow:"hidden",margin:"0 auto",outline:"none"},this.props.style),dt=at?function(){return null}:this.handleClickToPause;return _react2.default.createElement("div",{ref:function(gt){tt.el=gt},style:ft,onClick:dt,title:ut,role:st,"aria-label":ot,tabIndex:"0"})}}]),s}(_react2.default.Component),_default=dist.default=Lottie;Lottie.propTypes={eventListeners:_propTypes2.default.arrayOf(_propTypes2.default.object),options:_propTypes2.default.object.isRequired,height:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),width:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),isStopped:_propTypes2.default.bool,isPaused:_propTypes2.default.bool,speed:_propTypes2.default.number,segments:_propTypes2.default.arrayOf(_propTypes2.default.number),direction:_propTypes2.default.number,ariaRole:_propTypes2.default.string,ariaLabel:_propTypes2.default.string,isClickToPauseDisabled:_propTypes2.default.bool,title:_propTypes2.default.string};Lottie.defaultProps={eventListeners:[],isStopped:!1,isPaused:!1,speed:1,ariaRole:"button",ariaLabel:"animation",isClickToPauseDisabled:!1,title:""};const v="5.8.1",fr=60,ip=0,op=154,w=500,h=500,nm="1821-night-sky-moon-stars-flat",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:3,nm:"02092020",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[-105,15,0],ix:2,l:2},a:{a:0,k:[60,60,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"02092020002",np:3,mn:"ADBE Checkbox Control",ix:1,en:1,ef:[{ty:7,nm:"Checkbox",mn:"ADBE Checkbox Control-0001",ix:1,v:{a:0,k:0,ix:1}}]}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"lordicon.com Outlines",cl:"com",sr:1,ks:{o:{a:0,k:100,ix:11,x:`var $bm_rt;
var checkbox = thisComp.layer('02092020').effect('02092020002')('Checkbox');
if (checkbox == 1) {
    $bm_rt = 20;
} else {
    $bm_rt = 0;
}
;`},r:{a:0,k:0,ix:10},p:{a:0,k:[249.934,481.369,0],ix:2,l:2},a:{a:0,k:[79.934,.369,0],ix:1,l:2},s:{a:0,k:[265.159,265.159,100],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[1.415,0],[11.014,0],[11.014,-2.523],[4.656,-2.523],[4.656,-14.809],[1.415,-14.809]],c:!0},ix:2},nm:"l",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,-3.938],[-1.62,-1.723],[-1.949,0],[-1.641,1.846],[0,2.154],[1.579,1.805],[1.579,0]],o:[[0,1.354],[1.354,1.415],[1.231,0],[1.21,-1.354],[0,-1.456],[-1.456,-1.641],[-5.333,0]],v:[[11.167,-7.199],[12.992,-1.661],[18.243,.369],[23.514,-1.743],[25.381,-7.548],[23.494,-13.127],[18.284,-15.137]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,1.415],[-.841,1.026],[-1.19,0],[-.615,-1.825],[0,-.718],[.492,-.738],[1.292,0],[.451,.615]],o:[[0,-1.682],[.595,-.759],[1.518,0],[.308,.902],[0,2.359],[-.595,.923],[-1.477,0],[-.882,-1.149]],v:[[14.49,-7.302],[15.577,-11.609],[18.305,-12.86],[21.689,-10.235],[22.058,-7.589],[21.053,-3.343],[18.284,-1.969],[15.597,-3.159]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[-.287,-.841],[-.144,-.82],[0,0],[.164,.656],[.226,1.743],[2.236,.205],[0,2.769],[.923,.8],[1.641,-.021],[0,0]],o:[[0,0],[0,0],[0,0],[.533,0],[.205,.574],[0,0],[-.164,-.246],[-.103,-.41],[-.267,-1.928],[.718,-.205],[0,-.964],[-1.19,-1.026],[0,0],[0,0]],v:[[27.381,0],[30.622,0],[30.622,-5.989],[33.411,-5.989],[35.011,-5.148],[35.811,0],[39.318,0],[38.867,-1.067],[38.416,-3.938],[35.749,-7.343],[38.847,-10.973],[37.554,-13.824],[33.063,-14.829],[27.381,-14.829]],c:!0},ix:2},nm:"r",mn:"ADBE Vector Shape - Group",hd:!1},{ind:4,ty:"sh",ix:5,ks:{a:0,k:{i:[[0,0],[0,0],[-.492,-.349],[0,-1.005],[.226,-.164],[.369,0],[0,0]],o:[[0,0],[1.005,0],[.287,.185],[0,1.046],[-.513,.41],[0,0],[0,0]],v:[[30.519,-12.491],[32.652,-12.491],[34.744,-12.142],[35.524,-10.481],[34.703,-8.758],[33.083,-8.348],[30.519,-8.348]],c:!0},ix:2},nm:"r",mn:"ADBE Vector Shape - Group",hd:!1},{ind:5,ty:"sh",ix:6,ks:{a:0,k:{i:[[0,0],[0,0],[-.554,.103],[0,4.553],[1.866,1.374],[.82,0],[0,0]],o:[[0,0],[1.497,0],[2.81,-.513],[0,-2.113],[-1.784,-1.313],[0,0],[0,0]],v:[[41.068,0],[45.683,0],[48.349,-.164],[53.6,-7.609],[51.077,-13.434],[45.97,-14.768],[41.068,-14.788]],c:!0},ix:2},nm:"d",mn:"ADBE Vector Shape - Group",hd:!1},{ind:6,ty:"sh",ix:7,ks:{a:0,k:{i:[[0,0],[-.656,-.185],[0,-2.092],[1.251,-1.251],[1.354,0],[.349,.021]],o:[[1.825,-.082],[1.99,.554],[0,.718],[-.923,.923],[-.369,0],[0,0]],v:[[44.288,-12.388],[47.611,-12.183],[50.318,-7.609],[48.985,-3.425],[45.539,-2.4],[44.288,-2.441]],c:!0},ix:2},nm:"d",mn:"ADBE Vector Shape - Group",hd:!1},{ind:7,ty:"sh",ix:8,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[55.669,0],[58.849,0],[58.849,-14.87],[55.669,-14.87]],c:!0},ix:2},nm:"i",mn:"ADBE Vector Shape - Group",hd:!1},{ind:8,ty:"sh",ix:9,ks:{a:0,k:{i:[[0,0],[3.241,0],[0,-4.697],[-5.107,0],[-1.313,1.354],[-.062,.882],[0,0],[1.333,0],[0,.882],[-2.359,0],[-.062,-.513]],o:[[0,-2.954],[-4.164,0],[0,3.671],[1.354,0],[1.19,-1.231],[0,0],[-.062,1.969],[-3.097,0],[0,-3.056],[2.154,0],[0,0]],v:[[73.104,-9.989],[67.587,-14.911],[60.798,-7.097],[67.566,.349],[71.894,-1.313],[73.227,-4.799],[69.884,-4.799],[67.218,-1.99],[64.121,-7.076],[67.464,-12.593],[69.864,-9.989]],c:!0},ix:2},nm:"c",mn:"ADBE Vector Shape - Group",hd:!1},{ind:9,ty:"sh",ix:10,ks:{a:0,k:{i:[[0,-3.938],[-1.62,-1.723],[-1.949,0],[-1.641,1.846],[0,2.154],[1.579,1.805],[1.579,0]],o:[[0,1.354],[1.354,1.415],[1.231,0],[1.21,-1.354],[0,-1.456],[-1.456,-1.641],[-5.333,0]],v:[[74.546,-7.199],[76.372,-1.661],[81.622,.369],[86.894,-1.743],[88.76,-7.548],[86.873,-13.127],[81.663,-15.137]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:10,ty:"sh",ix:11,ks:{a:0,k:{i:[[0,1.415],[-.841,1.026],[-1.19,0],[-.615,-1.825],[0,-.718],[.492,-.738],[1.292,0],[.451,.615]],o:[[0,-1.682],[.595,-.759],[1.518,0],[.308,.902],[0,2.359],[-.595,.923],[-1.477,0],[-.882,-1.149]],v:[[77.869,-7.302],[78.956,-11.609],[81.684,-12.86],[85.068,-10.235],[85.437,-7.589],[84.432,-3.343],[81.663,-1.969],[78.977,-3.159]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:11,ty:"sh",ix:12,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[91.007,0],[94.001,0],[94.001,-12.306],[99.744,0],[104.113,0],[104.113,-14.829],[101.159,-14.829],[101.159,-3.159],[95.601,-14.829],[91.007,-14.829]],c:!0},ix:2},nm:"n",mn:"ADBE Vector Shape - Group",hd:!1},{ind:12,ty:"sh",ix:13,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[106.893,0],[109.497,0],[109.497,-2.728],[106.893,-2.728]],c:!0},ix:2},nm:".",mn:"ADBE Vector Shape - Group",hd:!1},{ind:13,ty:"sh",ix:14,ks:{a:0,k:{i:[[0,0],[3.241,0],[0,-4.697],[-5.107,0],[-1.313,1.354],[-.062,.882],[0,0],[1.333,0],[0,.882],[-2.359,0],[-.062,-.513]],o:[[0,-2.954],[-4.164,0],[0,3.671],[1.354,0],[1.19,-1.231],[0,0],[-.062,1.969],[-3.097,0],[0,-3.056],[2.154,0],[0,0]],v:[[124.04,-9.989],[118.523,-14.911],[111.734,-7.097],[118.502,.349],[122.83,-1.313],[124.163,-4.799],[120.82,-4.799],[118.154,-1.99],[115.057,-7.076],[118.4,-12.593],[120.8,-9.989]],c:!0},ix:2},nm:"c",mn:"ADBE Vector Shape - Group",hd:!1},{ind:14,ty:"sh",ix:15,ks:{a:0,k:{i:[[0,-3.938],[-1.62,-1.723],[-1.949,0],[-1.641,1.846],[0,2.154],[1.579,1.805],[1.579,0]],o:[[0,1.354],[1.354,1.415],[1.231,0],[1.21,-1.354],[0,-1.456],[-1.456,-1.641],[-5.333,0]],v:[[125.482,-7.199],[127.308,-1.661],[132.558,.369],[137.829,-1.743],[139.696,-7.548],[137.809,-13.127],[132.599,-15.137]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:15,ty:"sh",ix:16,ks:{a:0,k:{i:[[0,1.415],[-.841,1.026],[-1.19,0],[-.615,-1.825],[0,-.718],[.492,-.738],[1.292,0],[.451,.615]],o:[[0,-1.682],[.595,-.759],[1.518,0],[.308,.902],[0,2.359],[-.595,.923],[-1.477,0],[-.882,-1.149]],v:[[128.805,-7.302],[129.892,-11.609],[132.62,-12.86],[136.004,-10.235],[136.373,-7.589],[135.368,-3.343],[132.599,-1.969],[129.912,-3.159]],c:!0},ix:2},nm:"o",mn:"ADBE Vector Shape - Group",hd:!1},{ind:16,ty:"sh",ix:17,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[141.696,0],[144.67,0],[144.67,-12.716],[148.629,0],[151.254,0],[155.295,-12.716],[155.295,0],[158.453,0],[158.453,-14.829],[153.408,-14.829],[150.024,-4.041],[146.885,-14.829],[141.696,-14.829]],c:!0},ix:2},nm:"m",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:2.5,op:25,st:0,bm:0},{ddd:0,ind:3,ty:3,nm:"Color  & Stroke Change",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ef:[{ty:5,nm:"Axis",np:3,mn:"ADBE Point Control",ix:1,en:1,ef:[{ty:3,nm:"Point",mn:"ADBE Point Control-0001",ix:1,v:{a:0,k:[250,250],ix:1}}]},{ty:5,nm:"Scale",np:3,mn:"ADBE Slider Control",ix:2,en:1,ef:[{ty:0,nm:"Slider",mn:"ADBE Slider Control-0001",ix:1,v:{a:0,k:100,ix:1}}]},{ty:5,nm:"Primary",np:3,mn:"ADBE Color Control",ix:3,en:1,ef:[{ty:2,nm:"Color",mn:"ADBE Color Control-0001",ix:1,v:{a:0,k:[.922,.902,.937],ix:1}}]},{ty:5,nm:"Secondary",np:3,mn:"ADBE Color Control",ix:4,en:1,ef:[{ty:2,nm:"Color",mn:"ADBE Color Control-0001",ix:1,v:{a:0,k:[1,.78,.22],ix:1}}]}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:4,ty:3,nm:"NULL",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2,l:2,x:`var $bm_rt;
$bm_rt = thisComp.layer('Color  & Stroke Change').effect('Axis')('Point');`},a:{a:0,k:[60,60,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2,x:`var $bm_rt;
var temp;
temp = thisComp.layer('Color  & Stroke Change').effect('Scale')('Slider');
$bm_rt = [
    temp,
    temp
];`}},ao:0,ip:0,op:844,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"mask",parent:4,td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[206.918,-74.469,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:1},o:{x:.167,y:0},t:0,s:[{i:[[2.35,-1.06],[0,0],[.405,-.823],[0,0],[1.423,2.952],[0,0],[.052,.065],[.64,.327],[.091,.039],[0,0],[-2.782,1.502],[-.091,.039],[0,0],[-.405,.823],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.823,.379],[0,0],[-1.437,2.952],[0,0],[-.039,-.078],[-.34,-.64],[-.092,-.078],[0,0],[-2.965,-1.345],[.092,-.052],[0,0],[.836,-.379],[0,0],[1.423,-2.952],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[27.662,2.73],[15.732,19.145],[13.825,21],[-1.638,37.329],[-8.69,37.329],[-18.917,16.25],[-19.047,16.041],[-20.562,14.552],[-20.823,14.395],[-41.302,5.096],[-41.576,-1.891],[-41.302,-2.035],[-23.573,-13.334],[-21.667,-15.188],[-8.69,-34.267],[2.702,-27.41],[10.522,-11.27],[11.982,-9.85],[27.662,-2.73]],c:!0}]},{i:{x:.667,y:1},o:{x:.167,y:0},t:11,s:[{i:[[2.35,-1.06],[0,0],[.405,-.823],[0,0],[1.423,2.952],[0,0],[.052,.065],[.64,.327],[.091,.039],[0,0],[-2.782,1.502],[-.091,.039],[0,0],[-.405,.823],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.823,.379],[0,0],[-1.437,2.952],[0,0],[-.039,-.078],[-.34,-.64],[-.092,-.078],[0,0],[-2.965,-1.345],[.092,-.052],[0,0],[.836,-.379],[0,0],[1.423,-2.952],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[27.662,2.73],[15.732,19.145],[13.825,21],[-1.638,37.329],[-8.69,37.329],[-18.917,16.25],[-19.047,16.041],[-20.562,14.552],[-20.823,14.395],[-41.302,5.096],[-41.576,-1.891],[-41.302,-2.035],[-23.573,-13.334],[-21.667,-15.188],[-8.69,-34.267],[2.702,-27.41],[10.522,-11.27],[11.982,-9.85],[27.662,-2.73]],c:!0}]},{i:{x:.35,y:1},o:{x:.086,y:0},t:29,s:[{i:[[2.351,-.474],[0,0],[.31,-.63],[0,0],[1.292,2.003],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.829,.574],[-.141,.061],[0,0],[-.31,.63],[0,0],[-.089,-1.609],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-.772,2.173],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.608,-.639],[.16,-.032],[0,0],[.64,-.29],[0,0],[.571,-2.61],[0,0],[.31,.63],[0,0],[2.904,.367]],v:[[55.463,1.989],[11.982,9.85],[10.522,11.27],[1.897,54.748],[-2.068,54.678],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-56.558,1.74],[-56.235,-1.234],[-55.812,-1.456],[-11.988,-9.85],[-10.528,-11.27],[-1.371,-56.232],[1.281,-56.183],[10.522,-11.27],[11.982,-9.85],[55.116,-1.676]],c:!0}]},{i:{x:.833,y:1},o:{x:.333,y:0},t:66,s:[{i:[[2.35,-1.06],[0,0],[.31,-.63],[0,0],[1.09,2.26],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-1.1,2.26],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.27,-1.03],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.26],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[27.662,2.73],[11.982,9.85],[10.522,11.27],[2.702,27.41],[-2.698,27.41],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-27.668,2.73],[-27.878,-2.62],[-27.668,-2.73],[-11.988,-9.85],[-10.528,-11.27],[-2.698,-27.41],[2.702,-27.41],[10.522,-11.27],[11.982,-9.85],[27.662,-2.73]],c:!0}]},{t:107,s:[{i:[[2.35,-1.06],[0,0],[.31,-.63],[0,0],[1.09,2.26],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-1.1,2.26],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.27,-1.03],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.26],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[29.287,3.48],[19.357,16.975],[17.897,18.395],[4.702,31.91],[-.698,31.91],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-30.793,1.855],[-31.003,-3.495],[-30.793,-3.605],[-17.863,-16.975],[-16.403,-18.395],[-6.448,-30.41],[-1.048,-30.41],[13.772,-15.145],[15.232,-13.725],[29.287,-1.98]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.443],y:[0]},t:0,s:[0]},{t:106,s:[180],h:1}],ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Star-2 shadow",parent:4,tt:2,sr:1,ks:{o:{a:0,k:50,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[199.418,-66.969,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.936,y:0},t:11,s:[{i:[[2.35,-1.06],[0,0],[.31,-.63],[0,0],[1.09,2.26],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-1.1,2.26],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.27,-1.03],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.26],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[27.662,2.73],[11.982,9.85],[10.522,11.27],[2.702,27.41],[-2.698,27.41],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-27.668,2.73],[-27.878,-2.62],[-27.668,-2.73],[-11.988,-9.85],[-10.528,-11.27],[-2.698,-27.41],[2.702,-27.41],[10.522,-11.27],[11.982,-9.85],[27.662,-2.73]],c:!0}]},{i:{x:.35,y:1},o:{x:.086,y:0},t:29,s:[{i:[[2.351,-.474],[0,0],[.31,-.63],[0,0],[1.292,2.003],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.829,.574],[-.141,.061],[0,0],[-.31,.63],[0,0],[-.089,-1.609],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-.772,2.173],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.608,-.639],[.16,-.032],[0,0],[.64,-.29],[0,0],[.571,-2.61],[0,0],[.31,.63],[0,0],[2.904,.367]],v:[[55.463,1.989],[11.982,9.85],[10.522,11.27],[1.897,54.748],[-2.068,54.678],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-56.558,1.74],[-56.235,-1.234],[-55.812,-1.456],[-11.988,-9.85],[-10.528,-11.27],[-1.371,-56.232],[1.281,-56.183],[10.522,-11.27],[11.982,-9.85],[55.116,-1.676]],c:!0}]},{t:66,s:[{i:[[2.35,-1.06],[0,0],[.31,-.63],[0,0],[1.09,2.26],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-1.1,2.26],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.27,-1.03],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.26],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[27.662,2.73],[11.982,9.85],[10.522,11.27],[2.702,27.41],[-2.698,27.41],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-27.668,2.73],[-27.878,-2.62],[-27.668,-2.73],[-11.988,-9.85],[-10.528,-11.27],[-2.698,-27.41],[2.702,-27.41],[10.522,-11.27],[11.982,-9.85],[27.662,-2.73]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Secondary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.443],y:[0]},t:0,s:[0]},{t:106,s:[180],h:1}],ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:1},{ddd:0,ind:8,ty:4,nm:"Star-2 fill",parent:4,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[199.418,-66.969,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.936,y:0},t:11,s:[{i:[[2.35,-1.06],[0,0],[.31,-.63],[0,0],[1.09,2.26],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-1.1,2.26],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.27,-1.03],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.26],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[27.662,2.73],[11.982,9.85],[10.522,11.27],[2.702,27.41],[-2.698,27.41],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-27.668,2.73],[-27.878,-2.62],[-27.668,-2.73],[-11.988,-9.85],[-10.528,-11.27],[-2.698,-27.41],[2.702,-27.41],[10.522,-11.27],[11.982,-9.85],[27.662,-2.73]],c:!0}]},{i:{x:.35,y:1},o:{x:.086,y:0},t:29,s:[{i:[[2.351,-.474],[0,0],[.31,-.63],[0,0],[1.292,2.003],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.829,.574],[-.141,.061],[0,0],[-.31,.63],[0,0],[-.089,-1.609],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-.772,2.173],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.608,-.639],[.16,-.032],[0,0],[.64,-.29],[0,0],[.571,-2.61],[0,0],[.31,.63],[0,0],[2.904,.367]],v:[[55.463,1.989],[11.982,9.85],[10.522,11.27],[1.897,54.748],[-2.068,54.678],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-56.558,1.74],[-56.235,-1.234],[-55.812,-1.456],[-11.988,-9.85],[-10.528,-11.27],[-1.371,-56.232],[1.281,-56.183],[10.522,-11.27],[11.982,-9.85],[55.116,-1.676]],c:!0}]},{t:66,s:[{i:[[2.35,-1.06],[0,0],[.31,-.63],[0,0],[1.09,2.26],[0,0],[.04,.05],[.49,.25],[.07,.03],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.26],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[-1.1,2.26],[0,0],[-.03,-.06],[-.26,-.49],[-.07,-.06],[0,0],[-2.27,-1.03],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.26],[0,0],[.31,.63],[0,0],[2.35,1.06]],v:[[27.662,2.73],[11.982,9.85],[10.522,11.27],[2.702,27.41],[-2.698,27.41],[-10.528,11.27],[-10.628,11.11],[-11.788,9.97],[-11.988,9.85],[-27.668,2.73],[-27.878,-2.62],[-27.668,-2.73],[-11.988,-9.85],[-10.528,-11.27],[-2.698,-27.41],[2.702,-27.41],[10.522,-11.27],[11.982,-9.85],[27.662,-2.73]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Secondary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.443],y:[0]},t:0,s:[0]},{t:106,s:[180],h:1}],ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"mask",parent:4,td:1,sr:1,ks:{o:{a:0,k:50,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[167.268,151.823,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[4.056,-1.506],[0,0],[.518,-.887],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.535,.887],[0,0],[-1.899,-3.167],[0,0],[-1.088,-.408],[0,0]],o:[[0,0],[-1.088,.408],[0,0],[0,0],[0,0],[-1.899,3.167],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[1.105,-.408],[0,0],[1.882,-3.167],[0,0],[.518,.887],[0,0],[4.056,1.492]],v:[[49.926,-.224],[26.36,17.296],[23.856,19.295],[10.793,27.881],[10.793,27.895],[6.84,34.51],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-18.518,-17.929],[-15.997,-19.942],[.769,-39.657],[10.09,-39.657],[20.356,-19.942],[22.86,-17.929],[49.926,-7.909]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:22,s:[{i:[[4.056,-1.506],[0,0],[.518,-.887],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.535,.887],[0,0],[-1.899,-3.167],[0,0],[-1.088,-.408],[0,0]],o:[[0,0],[-1.088,.408],[0,0],[0,0],[0,0],[-1.899,3.167],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[1.105,-.408],[0,0],[1.882,-3.167],[0,0],[.518,.887],[0,0],[4.056,1.492]],v:[[49.926,-.224],[26.36,17.296],[23.856,19.295],[10.793,27.881],[10.793,27.895],[6.84,34.51],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-18.518,-17.929],[-15.997,-19.942],[.769,-39.657],[10.09,-39.657],[20.356,-19.942],[22.86,-17.929],[49.926,-7.909]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[4.056,-1.506],[0,0],[.518,-.887],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.535,.887],[0,0],[-1.899,-3.167],[0,0],[-1.088,-.408],[0,0]],o:[[0,0],[-1.088,.408],[0,0],[0,0],[0,0],[-1.899,3.167],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[1.105,-.408],[0,0],[1.882,-3.167],[0,0],[.518,.887],[0,0],[4.056,1.492]],v:[[49.926,-.224],[26.36,17.296],[23.856,19.295],[10.793,27.881],[10.793,27.895],[6.84,34.51],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-18.518,-17.929],[-15.997,-19.942],[.769,-39.657],[10.09,-39.657],[20.356,-19.942],[22.86,-17.929],[49.926,-7.909]],c:!0}]},{i:{x:.667,y:1},o:{x:0,y:0},t:66,s:[{i:[[4.782,-2.178],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[2.218,4.579],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-4.335,2.34],[-.143,.061],[0,0],[-.31,.63],[0,0],[-2.238,-4.579],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-2.238,4.579],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-4.62,-2.117],[.143,-.081],[0,0],[.64,-.29],[0,0],[2.218,-4.579],[0,0],[.3,.63],[0,0],[4.782,2.157]],v:[[55.664,1.474],[11.982,9.855],[10.532,11.275],[3.038,44.923],[3.038,44.944],[1.601,55.159],[-2.234,55.256],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-55.867,1.466],[-56.423,-2.544],[-55.996,-2.768],[-11.988,-9.845],[-10.528,-11.275],[-2.121,-54.819],[1.799,-55.151],[10.532,-11.275],[11.982,-9.845],[55.653,-2.717]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:106,s:[{i:[[4.056,-1.506],[0,0],[.518,-.887],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.535,.887],[0,0],[-1.899,-3.167],[0,0],[-1.088,-.408],[0,0]],o:[[0,0],[-1.088,.408],[0,0],[0,0],[0,0],[-1.899,3.167],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[1.105,-.408],[0,0],[1.882,-3.167],[0,0],[.518,.887],[0,0],[4.056,1.492]],v:[[49.926,-.224],[26.36,17.296],[23.856,19.295],[15.793,29.131],[15.793,29.145],[11.84,35.76],[2.302,28.665],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-31.668,3.985],[-31.878,-1.365],[-31.668,-1.475],[-27.018,-24.679],[-24.497,-26.692],[-7.731,-46.407],[1.59,-46.407],[20.356,-19.942],[22.859,-17.929],[49.926,-7.909]],c:!0}]},{t:150,s:[{i:[[4.056,-1.506],[0,0],[.518,-.887],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.535,.887],[0,0],[-1.899,-3.167],[0,0],[-1.088,-.408],[0,0]],o:[[0,0],[-1.088,.408],[0,0],[0,0],[0,0],[-1.899,3.167],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[1.105,-.408],[0,0],[1.882,-3.167],[0,0],[.518,.887],[0,0],[4.056,1.492]],v:[[49.926,-.224],[26.36,17.296],[23.856,19.295],[10.793,27.881],[10.793,27.895],[6.84,34.51],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-18.518,-17.929],[-15.997,-19.942],[.769,-39.657],[10.09,-39.657],[20.356,-19.942],[22.86,-17.929],[49.926,-7.909]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:11,ty:4,nm:"Star-3 shadow",parent:4,tt:2,sr:1,ks:{o:{a:0,k:50,ix:11},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.588],y:[0]},t:22,s:[0]},{t:150,s:[180],h:1}],ix:10},p:{a:0,k:[158.768,160.323,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:22,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{i:{x:.667,y:1},o:{x:1,y:.051},t:46,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{i:{x:.208,y:.96},o:{x:0,y:0},t:66,s:[{i:[[4.782,-2.178],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[2.218,4.579],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-4.335,2.34],[-.143,.061],[0,0],[-.31,.63],[0,0],[-2.238,-4.579],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-2.238,4.579],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-4.62,-2.117],[.143,-.081],[0,0],[.64,-.29],[0,0],[2.218,-4.579],[0,0],[.3,.63],[0,0],[4.782,2.157]],v:[[55.664,1.474],[11.982,9.855],[10.532,11.275],[3.038,44.923],[3.038,44.944],[1.601,55.159],[-2.234,55.256],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-55.867,1.466],[-56.423,-2.544],[-55.996,-2.768],[-11.988,-9.845],[-10.528,-11.275],[-2.121,-54.819],[1.799,-55.151],[10.532,-11.275],[11.982,-9.845],[55.653,-2.717]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:106,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{t:150,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Secondary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:1},{ddd:0,ind:12,ty:4,nm:"Star-3 fill",parent:4,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.588],y:[0]},t:22,s:[0]},{t:150,s:[180],h:1}],ix:10},p:{a:0,k:[158.768,160.323,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:22,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{i:{x:.667,y:1},o:{x:1,y:.051},t:46,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{i:{x:.208,y:.96},o:{x:0,y:0},t:66,s:[{i:[[4.782,-2.178],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[2.218,4.579],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-4.335,2.34],[-.143,.061],[0,0],[-.31,.63],[0,0],[-2.238,-4.579],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-2.238,4.579],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-4.62,-2.117],[.143,-.081],[0,0],[.64,-.29],[0,0],[2.218,-4.579],[0,0],[.3,.63],[0,0],[4.782,2.157]],v:[[55.664,1.474],[11.982,9.855],[10.532,11.275],[3.038,44.923],[3.038,44.944],[1.601,55.159],[-2.234,55.256],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-55.867,1.466],[-56.423,-2.544],[-55.996,-2.768],[-11.988,-9.845],[-10.528,-11.275],[-2.121,-54.819],[1.799,-55.151],[10.532,-11.275],[11.982,-9.845],[55.653,-2.717]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:106,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]},{t:150,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[0,0],[1.09,2.25],[0,0],[.02,.02],[.54,.26],[.05,.02],[0,0],[-2.13,1.15],[-.07,.03],[0,0],[-.31,.63],[0,0],[-1.1,-2.25],[0,0],[-.63,-.29],[0,0]],o:[[0,0],[-.63,.29],[0,0],[0,0],[0,0],[-1.1,2.25],[0,0],[-.01,-.03],[-.28,-.54],[-.05,-.05],[0,0],[-2.27,-1.04],[.07,-.04],[0,0],[.64,-.29],[0,0],[1.09,-2.25],[0,0],[.3,.63],[0,0],[2.35,1.06]],v:[[27.662,2.735],[11.982,9.855],[10.532,11.275],[4.992,22.705],[4.992,22.715],[2.702,27.415],[-2.698,27.415],[-10.528,11.275],[-10.578,11.195],[-11.828,9.955],[-11.988,9.855],[-27.668,2.735],[-27.878,-2.615],[-27.668,-2.725],[-11.988,-9.845],[-10.528,-11.275],[-2.698,-27.415],[2.702,-27.415],[10.532,-11.275],[11.982,-9.845],[27.662,-2.725]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Secondary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:13,ty:4,nm:"mask",parent:4,td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.588],y:[0]},t:0,s:[0]},{t:150,s:[180],h:1}],ix:10},p:{a:0,k:[117.598,29.99,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:1,y:1},o:{x:.333,y:0},t:0,s:[{i:[[2.963,-1.349],[0,0],[.378,-.794],[0,0],[0,0],[1.387,2.837],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.378,.794],[0,0],[-1.374,-2.849],[0,0],[-.807,-.366],[0,0]],o:[[0,0],[-.807,.366],[0,0],[0,0],[-1.374,2.837],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.807,-.366],[0,0],[1.387,-2.849],[0,0],[.378,.794],[0,0],[2.963,1.349]],v:[[52.387,.729],[29.031,22.463],[27.19,24.254],[6.57,42.764],[3.695,48.702],[-3.113,48.702],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-28.949,-27.902],[-27.108,-29.705],[-3.113,-54.14],[3.695,-54.14],[19.19,-22.205],[21.031,-20.402],[52.387,-6.167]],c:!0}]},{i:{x:.198,y:1},o:{x:.181,y:0},t:52,s:[{i:[[4.088,-1.861],[0,0],[.207,-.435],[0,0],[0,0],[1.914,3.914],[0,0],[.028,.048],[.31,.173],[0,0],[.055,.028],[0,0],[-4.032,.845],[-.121,.052],[0,0],[-.207,.435],[0,0],[-1.896,-3.931],[0,0],[-.442,-.2],[0,0]],o:[[0,0],[-.442,.2],[0,0],[0,0],[-1.896,3.914],[0,0],[-.028,-.055],[-.179,-.304],[0,0],[-.048,-.028],[0,0],[-1.777,-.564],[.104,-.087],[0,0],[.442,-.2],[0,0],[1.914,-3.931],[0,0],[.207,.435],[0,0],[4.088,1.861]],v:[[69.269,1.436],[11.352,9.679],[10.344,10.659],[2.974,59.627],[1.979,68.377],[-2.59,68.478],[-10.342,10.659],[-10.425,10.501],[-11.17,9.776],[-11.191,9.762],[-11.349,9.679],[-72.318,.817],[-71.582,-1.997],[-71.252,-2.188],[-11.349,-9.675],[-10.342,-10.662],[-1.357,-69.477],[9.198,-74.748],[18.498,-16.452],[19.505,-15.465],[68.197,-1.86]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:98,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[21.816,22.348],[20.356,23.768],[11.985,46.287],[9.705,50.997],[4.305,50.997],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-25.063,-21.508],[-23.603,-22.938],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]},{t:150,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[26.451,30.529],[24.991,31.949],[8.481,45.079],[6.201,49.789],[.801,49.789],[-22.989,22.949],[-23.109,22.719],[-24.189,21.669],[-24.219,21.649],[-24.449,21.529],[-50.319,-3.761],[-50.509,-9.121],[-50.319,-9.231],[-32.449,-28.021],[-30.989,-29.451],[-4.199,-52.281],[1.201,-52.281],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:14,ty:4,nm:"shadow",parent:4,tt:2,sr:1,ks:{o:{a:0,k:50,ix:11},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.588],y:[0]},t:0,s:[0]},{t:150,s:[180],h:1}],ix:10},p:{a:0,k:[107.598,39.99,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]},{i:{x:1,y:1},o:{x:.62,y:0},t:28,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]},{i:{x:.198,y:1},o:{x:.181,y:0},t:52,s:[{i:[[4.088,-1.861],[0,0],[.207,-.435],[0,0],[0,0],[1.914,3.914],[0,0],[.028,.048],[.31,.173],[0,0],[.055,.028],[0,0],[-4.032,.845],[-.121,.052],[0,0],[-.207,.435],[0,0],[-1.896,-3.931],[0,0],[-.442,-.2],[0,0]],o:[[0,0],[-.442,.2],[0,0],[0,0],[-1.896,3.914],[0,0],[-.028,-.055],[-.179,-.304],[0,0],[-.048,-.028],[0,0],[-1.777,-.564],[.104,-.087],[0,0],[.442,-.2],[0,0],[1.914,-3.931],[0,0],[.207,.435],[0,0],[4.088,1.861]],v:[[69.269,1.436],[11.352,9.679],[10.344,10.659],[2.974,59.627],[1.979,68.377],[-2.59,68.478],[-10.342,10.659],[-10.425,10.501],[-11.17,9.776],[-11.191,9.762],[-11.349,9.679],[-72.318,.817],[-71.582,-1.997],[-71.252,-2.188],[-11.349,-9.675],[-10.342,-10.662],[-1.357,-69.477],[1.045,-68.958],[10.344,-10.662],[11.352,-9.675],[68.197,-1.86]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:98,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]},{t:150,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Secondary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:1},{ddd:0,ind:15,ty:4,nm:"Star-1 fill",parent:4,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.062],y:[1]},o:{x:[.588],y:[0]},t:0,s:[0]},{t:150,s:[180],h:1}],ix:10},p:{a:0,k:[107.598,39.99,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]},{i:{x:1,y:1},o:{x:.62,y:0},t:28,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]},{i:{x:.198,y:1},o:{x:.181,y:0},t:52,s:[{i:[[4.088,-1.861],[0,0],[.207,-.435],[0,0],[0,0],[1.914,3.914],[0,0],[.028,.048],[.31,.173],[0,0],[.055,.028],[0,0],[-4.032,.845],[-.121,.052],[0,0],[-.207,.435],[0,0],[-1.896,-3.931],[0,0],[-.442,-.2],[0,0]],o:[[0,0],[-.442,.2],[0,0],[0,0],[-1.896,3.914],[0,0],[-.028,-.055],[-.179,-.304],[0,0],[-.048,-.028],[0,0],[-1.777,-.564],[.104,-.087],[0,0],[.442,-.2],[0,0],[1.914,-3.931],[0,0],[.207,.435],[0,0],[4.088,1.861]],v:[[69.269,1.436],[11.352,9.679],[10.344,10.659],[2.974,59.627],[1.979,68.377],[-2.59,68.478],[-10.342,10.659],[-10.425,10.501],[-11.17,9.776],[-11.191,9.762],[-11.349,9.679],[-72.318,.817],[-71.582,-1.997],[-71.252,-2.188],[-11.349,-9.675],[-10.342,-10.662],[-1.357,-69.477],[1.045,-68.958],[10.344,-10.662],[11.352,-9.675],[68.197,-1.86]],c:!0}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:98,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]},{t:150,s:[{i:[[2.35,-1.07],[0,0],[.3,-.63],[0,0],[0,0],[1.1,2.25],[0,0],[.04,.07],[.45,.25],[0,0],[.08,.04],[0,0],[-2.16,1.14],[-.07,.03],[0,0],[-.3,.63],[0,0],[-1.09,-2.26],[0,0],[-.64,-.29],[0,0]],o:[[0,0],[-.64,.29],[0,0],[0,0],[-1.09,2.25],[0,0],[-.04,-.08],[-.26,-.44],[0,0],[-.07,-.04],[0,0],[-2.29,-1.04],[.06,-.05],[0,0],[.64,-.29],[0,0],[1.1,-2.26],[0,0],[.3,.63],[0,0],[2.35,1.07]],v:[[41.321,2.739],[16.451,14.029],[14.991,15.449],[4.981,36.079],[2.701,40.789],[-2.699,40.789],[-14.989,15.449],[-15.109,15.219],[-16.189,14.169],[-16.219,14.149],[-16.449,14.029],[-41.319,2.739],[-41.509,-2.621],[-41.319,-2.731],[-16.449,-14.021],[-14.989,-15.451],[-2.699,-40.781],[2.701,-40.781],[14.991,-15.451],[16.451,-14.021],[41.321,-2.731]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.780392169952,.219607844949,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Secondary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:0},{ddd:0,ind:17,ty:4,nm:"Moon fill",parent:4,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[-2.979,72.465,0],ix:2,l:2},a:{a:0,k:[193.271,258.465,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-4.523],[-4.523,0],[0,4.523],[4.523,0]],o:[[0,4.523],[4.523,0],[0,-4.523],[-4.523,0]],v:[[-8.189,0],[0,8.189],[8.189,0],[0,-8.189]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[133.005,278.441],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:1,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-2.659],[-2.659,0],[0,2.659],[2.659,0]],o:[[0,2.659],[2.659,0],[0,-2.659],[-2.659,0]],v:[[-4.815,0],[0,4.815],[4.815,0],[0,-4.815]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[200.766,151.476],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:1,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-2.659],[-2.659,0],[0,2.659],[2.659,0]],o:[[0,2.659],[2.659,0],[0,-2.659],[-2.659,0]],v:[[-4.815,0],[0,4.815],[4.815,0],[0,-4.815]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[181.505,191.88],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:1,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-2.659],[-2.659,0],[0,2.659],[2.659,0]],o:[[0,2.659],[2.659,0],[0,-2.659],[-2.659,0]],v:[[-4.815,0],[0,4.815],[4.815,0],[0,-4.815]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[219.223,374.426],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:1,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.01,0],[-6.19,0],[0,-13.13],[13.14,0],[1.6,11.58],[-.01,.01]],o:[[0,0],[4.23,-3.87],[13.14,0],[0,13.14],[-12.01,0],[-.01,-.01],[0,0]],v:[[-16.166,-17.535],[-16.156,-17.555],[-.116,-23.785],[23.674,-.005],[-.116,23.785],[-23.666,3.285],[-23.666,3.265]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[124.928,215.668],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:1,ix:5,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-9.92],[9.05,-.94],[6.07,6.41],[0,.12],[-9.92,0]],o:[[0,9.3],[-7.12,-5.25],[-.01,-.12],[0,-9.92],[9.93,0]],v:[[17.975,.04],[1.865,17.93],[-17.965,.4],[-17.975,.04],[-.005,-17.93]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[154.417,359.353],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:2,cix:2,bm:1,ix:6,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-8.63,-18.74],[2.34,0],[0,23.3],[-20.97,2.45],[0,-7.45]],o:[[-2.24,.37],[-23.3,0],[0,-21.62],[-1.07,7.16],[0,21.98]],v:[[24.53,41.48],[17.66,42.04],[-24.53,-.14],[12.71,-42.04],[11.09,-20.11]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[190.152,278.583],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:50,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 7",np:2,cix:2,bm:1,ix:7,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.63,-.84],[16.12,.11],[24.18,17.81],[6.07,6.41],[-.62,39.97],[-3.3,11.86],[0,0],[-2.99,6.69],[-.01,0],[-52.21,6.29],[-5.33,.08],[-.68,0],[-14.25,-4.58],[2.51,-1.12],[7.54,-50.6],[0,-7.45],[-8.63,-18.74],[-32.75,-14.56]],o:[[-14.54,4.67],[-32.16,-.21],[-7.12,-5.25],[-25.62,-27.03],[.2,-12.86],[0,0],[1.99,-7.17],[0,0],[20.74,-46.18],[5.18,-.63],[.68,-.01],[15.77,0],[2.61,.84],[-45.22,20.11],[-1.07,7.16],[0,21.98],[14.97,32.52],[2.52,1.12]],v:[[95.291,140.428],[49.111,147.468],[-36.989,118.818],[-56.819,101.288],[-97.359,-2.342],[-92.009,-39.512],[-92.009,-39.532],[-84.509,-60.332],[-84.499,-60.352],[32.271,-146.402],[48.051,-147.462],[50.101,-147.472],[95.311,-140.412],[95.591,-134.822],[9.591,-21.922],[7.971,.008],[21.411,61.598],[95.591,134.828]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568632126,.901960790157,.937254905701,1],ix:4,x:`var $bm_rt;
$bm_rt = comp('1821-night-sky-moon-stars-flat').layer('Color  & Stroke Change').effect('Primary')('Color');`},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[193.271,258.465],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 8",np:2,cix:2,bm:0,ix:8,mn:"ADBE Vector Group",hd:!1}],ip:0,op:844,st:0,bm:0}],markers=[],features=["states"],NightSky={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers,features},variants={open:{y:0,x:0,opacity:1,transition:{y:{type:"spring",stiffness:1200,velocity:-1,delay:1.5}}},closed:{y:0,x:-100,opacity:0,transition:{y:{type:"spring",stiffness:200,delay:1.5}}}},colors=["#FF008C","#D309E1","#9C1AFF","#7700FF","#4400FF"],MenuItem=({i:o})=>{const s={border:`2px solid ${colors[o]}`},et=react.exports.useRef(),nt=[jsx(_default,{options:{loop:!0,autoplay:!0,animationData:NightSky,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:50,width:50,ref:et})],rt=["Home"];return jsxs(motion.li,{variants,whileHover:{scale:1.1},whileTap:{scale:.95},children:[jsx("div",{className:"icon-placeholder",style:s,children:nt[o]}),jsx("div",{className:"text-placeholder",style:s,children:rt[o]})]})},Path=o=>jsx(motion.path,{fill:"transparent",strokeWidth:"3",stroke:"hsl(0, 33.33333333333365%, 98.82352941176471%)",strokeLinecap:"round",...o}),MenuToggle=({toggle:o})=>jsx("button",{onClick:o,className:"fixed left-[48.5px] top-[3.5%] w-auto h-auto ",children:jsxs("svg",{width:"23",height:"23",viewBox:"0 0 23 23",children:[jsx(Path,{variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}}}),jsx(Path,{d:"M 2 9.423 L 20 9.423",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1}}),jsx(Path,{variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}}})]})});function Navigation({isOpen:o}){react.exports.useState();const s={open:{transition:{staggerChildren:.07,delayChildren:.2}},closed:{transition:{staggerChildren:.05,staggerDirection:-1}}};return jsx(_StyledDiv,{$_css:[{},o===!1&&{pointerEvents:"none"}],children:jsx(motion.ul,{variants:s,children:itemIds.map(et=>jsx(MenuItem,{i:et},et))})})}const itemIds=[0,1,2,3,4];var _StyledDiv=styled("div").withConfig({displayName:"Navigation___StyledDiv",componentId:"sc-1in2x6j-0"})(["",""],o=>o.$_css);const useDimensions=o=>{const s=react.exports.useRef({width:0,height:0});return react.exports.useEffect(()=>{s.current.width=o.current.offsetWidth,s.current.height=o.current.offsetHeight},[]),s.current},sidebar={open:(o=300)=>({clipPath:"polygon(-50% 80%,-50% -10%,150% -10%, 100% 60%)",transition:{type:"spring",stiffness:20,restDelta:0}}),closed:{clipPath:"polygon(20% 10%,10% 2.5%,30% 2.5%, 20% 10%)",transition:{type:"spring",stiffness:30,damping:15,restDelta:0}}},Example=()=>{const[o,s]=useCycle(!1,!0),et=react.exports.useRef(null),{height:tt}=useDimensions(et);return jsx("div",{className:"fixed ",children:jsxs(motion.nav,{initial:!1,animate:o?"open":"closed",custom:tt,ref:et,className:"w-[0px]   top-0\r left-0\r bottom-0  ",children:[jsx(motion.div,{className:"fixed bg-[#2e2e2e]   w-[300px]   top-0\r left-0\r bottom-0 pointer-events-none outline-[12px] outline-offset-[6px] outline-[#2e2e2e] outline-double",variants:sidebar}),jsx(Navigation,{isOpen:o}),jsx(MenuToggle,{toggle:()=>s()})]})})};function App(){return jsxs("div",{children:[jsx("div",{className:"absolute h-full w-full  ",children:jsx(Canvas,{})}),jsx("div",{className:"",children:jsx(Example,{})})]})}client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(App,{})}));
