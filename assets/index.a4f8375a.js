function _mergeNamespaces(et,_e){for(var tt=0;tt<_e.length;tt++){const nt=_e[tt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const rt in nt)if(rt!=="default"&&!(rt in et)){const it=Object.getOwnPropertyDescriptor(nt,rt);it&&Object.defineProperty(et,rt,it.get?it:{enumerable:!0,get:()=>nt[rt]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))nt(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const st of it.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&nt(st)}).observe(document,{childList:!0,subtree:!0});function tt(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerpolicy&&(it.referrerPolicy=rt.referrerpolicy),rt.crossorigin==="use-credentials"?it.credentials="include":rt.crossorigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(rt){if(rt.ep)return;rt.ep=!0;const it=tt(rt);fetch(rt.href,it)}})();const App$1="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){var _e=et.default;if(typeof _e=="function"){var tt=function(){return _e.apply(this,arguments)};tt.prototype=_e.prototype}else tt={};return Object.defineProperty(tt,"__esModule",{value:!0}),Object.keys(et).forEach(function(nt){var rt=Object.getOwnPropertyDescriptor(et,nt);Object.defineProperty(tt,nt,rt.get?rt:{enumerable:!0,get:function(){return et[nt]}})}),tt}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$6=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$4=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(et){return et===null||typeof et!="object"?null:(et=z$2&&et[z$2]||et["@@iterator"],typeof et=="function"?et:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$3(et,_e,tt){this.props=et,this.context=_e,this.refs=D$2,this.updater=tt||B$2}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$3.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$2(et,_e,tt){this.props=et,this.context=_e,this.refs=D$2,this.updater=tt||B$2}var H$3=G$2.prototype=new F$2;H$3.constructor=G$2;C$2(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$4=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(et,_e,tt){var nt,rt={},it=null,st=null;if(_e!=null)for(nt in _e.ref!==void 0&&(st=_e.ref),_e.key!==void 0&&(it=""+_e.key),_e)J$2.call(_e,nt)&&!L$3.hasOwnProperty(nt)&&(rt[nt]=_e[nt]);var ot=arguments.length-2;if(ot===1)rt.children=tt;else if(1<ot){for(var at=Array(ot),lt=0;lt<ot;lt++)at[lt]=arguments[lt+2];rt.children=at}if(et&&et.defaultProps)for(nt in ot=et.defaultProps,ot)rt[nt]===void 0&&(rt[nt]=ot[nt]);return{$$typeof:l$6,type:et,key:it,ref:st,props:rt,_owner:K$1.current}}function N$3(et,_e){return{$$typeof:l$6,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$2(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$6}function escape$1(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(tt){return _e[tt]})}var P$2=/\/+/g;function Q$2(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):_e.toString(36)}function R$2(et,_e,tt,nt,rt){var it=typeof et;(it==="undefined"||it==="boolean")&&(et=null);var st=!1;if(et===null)st=!0;else switch(it){case"string":case"number":st=!0;break;case"object":switch(et.$$typeof){case l$6:case n$6:st=!0}}if(st)return st=et,rt=rt(st),et=nt===""?"."+Q$2(st,0):nt,I$4(rt)?(tt="",et!=null&&(tt=et.replace(P$2,"$&/")+"/"),R$2(rt,_e,tt,"",function(lt){return lt})):rt!=null&&(O$2(rt)&&(rt=N$3(rt,tt+(!rt.key||st&&st.key===rt.key?"":(""+rt.key).replace(P$2,"$&/")+"/")+et)),_e.push(rt)),1;if(st=0,nt=nt===""?".":nt+":",I$4(et))for(var ot=0;ot<et.length;ot++){it=et[ot];var at=nt+Q$2(it,ot);st+=R$2(it,_e,tt,at,rt)}else if(at=A$2(et),typeof at=="function")for(et=at.call(et),ot=0;!(it=et.next()).done;)it=it.value,at=nt+Q$2(it,ot++),st+=R$2(it,_e,tt,at,rt);else if(it==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return st}function S$4(et,_e,tt){if(et==null)return et;var nt=[],rt=0;return R$2(et,nt,"","",function(it){return _e.call(tt,it,rt++)}),nt}function T$3(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(tt){(et._status===0||et._status===-1)&&(et._status=1,et._result=tt)},function(tt){(et._status===0||et._status===-1)&&(et._status=2,et._result=tt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$3={current:null},V$4={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$4,ReactCurrentOwner:K$1};react_production_min.Children={map:S$4,forEach:function(et,_e,tt){S$4(et,function(){_e.apply(this,arguments)},tt)},count:function(et){var _e=0;return S$4(et,function(){_e++}),_e},toArray:function(et){return S$4(et,function(_e){return _e})||[]},only:function(et){if(!O$2(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$3;react_production_min.Fragment=p$7;react_production_min.Profiler=r$6;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(et,_e,tt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var nt=C$2({},et.props),rt=et.key,it=et.ref,st=et._owner;if(_e!=null){if(_e.ref!==void 0&&(it=_e.ref,st=K$1.current),_e.key!==void 0&&(rt=""+_e.key),et.type&&et.type.defaultProps)var ot=et.type.defaultProps;for(at in _e)J$2.call(_e,at)&&!L$3.hasOwnProperty(at)&&(nt[at]=_e[at]===void 0&&ot!==void 0?ot[at]:_e[at])}var at=arguments.length-2;if(at===1)nt.children=tt;else if(1<at){ot=Array(at);for(var lt=0;lt<at;lt++)ot[lt]=arguments[lt+2];nt.children=ot}return{$$typeof:l$6,type:et.type,key:rt,ref:it,props:nt,_owner:st}};react_production_min.createContext=function(et){return et={$$typeof:u$4,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$6,_context:et},et.Consumer=et};react_production_min.createElement=M$3;react_production_min.createFactory=function(et){var _e=M$3.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$6,render:et}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(et){return{$$typeof:y$4,_payload:{_status:-1,_result:et},_init:T$3}};react_production_min.memo=function(et,_e){return{$$typeof:x$3,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$4.transition;V$4.transition={};try{et()}finally{V$4.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$3.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$3.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$3.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$3.current.useEffect(et,_e)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(et,_e,tt){return U$3.current.useImperativeHandle(et,_e,tt)};react_production_min.useInsertionEffect=function(et,_e){return U$3.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$3.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$3.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,tt){return U$3.current.useReducer(et,_e,tt)};react_production_min.useRef=function(et){return U$3.current.useRef(et)};react_production_min.useState=function(et){return U$3.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,tt){return U$3.current.useSyncExternalStore(et,_e,tt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";(function(et){et.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports),t$5=_mergeNamespaces({__proto__:null,default:React},[react.exports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(Bt,Lt){var Ft=Bt.length;Bt.push(Lt);e:for(;0<Ft;){var Vt=Ft-1>>>1,Yt=Bt[Vt];if(0<rt(Yt,Lt))Bt[Vt]=Lt,Bt[Ft]=Yt,Ft=Vt;else break e}}function tt(Bt){return Bt.length===0?null:Bt[0]}function nt(Bt){if(Bt.length===0)return null;var Lt=Bt[0],Ft=Bt.pop();if(Ft!==Lt){Bt[0]=Ft;e:for(var Vt=0,Yt=Bt.length,rn=Yt>>>1;Vt<rn;){var sn=2*(Vt+1)-1,cn=Bt[sn],Zt=sn+1,an=Bt[Zt];if(0>rt(cn,Ft))Zt<Yt&&0>rt(an,cn)?(Bt[Vt]=an,Bt[Zt]=Ft,Vt=Zt):(Bt[Vt]=cn,Bt[sn]=Ft,Vt=sn);else if(Zt<Yt&&0>rt(an,Ft))Bt[Vt]=an,Bt[Zt]=Ft,Vt=Zt;else break e}}return Lt}function rt(Bt,Lt){var Ft=Bt.sortIndex-Lt.sortIndex;return Ft!==0?Ft:Bt.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var st=Date,ot=st.now();et.unstable_now=function(){return st.now()-ot}}var at=[],lt=[],ct=1,ut=null,ft=3,ht=!1,pt=!1,gt=!1,dt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(Bt){for(var Lt=tt(lt);Lt!==null;){if(Lt.callback===null)nt(lt);else if(Lt.startTime<=Bt)nt(lt),Lt.sortIndex=Lt.expirationTime,_e(at,Lt);else break;Lt=tt(lt)}}function bt(Bt){if(gt=!1,_t(Bt),!pt)if(tt(at)!==null)pt=!0,jt(At);else{var Lt=tt(lt);Lt!==null&&Ht(bt,Lt.startTime-Bt)}}function At(Bt,Lt){pt=!1,gt&&(gt=!1,vt(St),St=-1),ht=!0;var Ft=ft;try{for(_t(Lt),ut=tt(at);ut!==null&&(!(ut.expirationTime>Lt)||Bt&&!Rt());){var Vt=ut.callback;if(typeof Vt=="function"){ut.callback=null,ft=ut.priorityLevel;var Yt=Vt(ut.expirationTime<=Lt);Lt=et.unstable_now(),typeof Yt=="function"?ut.callback=Yt:ut===tt(at)&&nt(at),_t(Lt)}else nt(at);ut=tt(at)}if(ut!==null)var rn=!0;else{var sn=tt(lt);sn!==null&&Ht(bt,sn.startTime-Lt),rn=!1}return rn}finally{ut=null,ft=Ft,ht=!1}}var Mt=!1,Tt=null,St=-1,Ct=5,Et=-1;function Rt(){return!(et.unstable_now()-Et<Ct)}function It(){if(Tt!==null){var Bt=et.unstable_now();Et=Bt;var Lt=!0;try{Lt=Tt(!0,Bt)}finally{Lt?Ot():(Mt=!1,Tt=null)}}else Mt=!1}var Ot;if(typeof xt=="function")Ot=function(){xt(It)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,$t=kt.port2;kt.port1.onmessage=It,Ot=function(){$t.postMessage(null)}}else Ot=function(){dt(It,0)};function jt(Bt){Tt=Bt,Mt||(Mt=!0,Ot())}function Ht(Bt,Lt){St=dt(function(){Bt(et.unstable_now())},Lt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Bt){Bt.callback=null},et.unstable_continueExecution=function(){pt||ht||(pt=!0,jt(At))},et.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Bt?Math.floor(1e3/Bt):5},et.unstable_getCurrentPriorityLevel=function(){return ft},et.unstable_getFirstCallbackNode=function(){return tt(at)},et.unstable_next=function(Bt){switch(ft){case 1:case 2:case 3:var Lt=3;break;default:Lt=ft}var Ft=ft;ft=Lt;try{return Bt()}finally{ft=Ft}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Bt,Lt){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var Ft=ft;ft=Bt;try{return Lt()}finally{ft=Ft}},et.unstable_scheduleCallback=function(Bt,Lt,Ft){var Vt=et.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Vt+Ft:Vt):Ft=Vt,Bt){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=Ft+Yt,Bt={id:ct++,callback:Lt,priorityLevel:Bt,startTime:Ft,expirationTime:Yt,sortIndex:-1},Ft>Vt?(Bt.sortIndex=Ft,_e(lt,Bt),tt(at)===null&&Bt===tt(lt)&&(gt?(vt(St),St=-1):gt=!0,Ht(bt,Ft-Vt))):(Bt.sortIndex=Yt,_e(at,Bt),pt||ht||(pt=!0,jt(At))),Bt},et.unstable_shouldYield=Rt,et.unstable_wrapCallback=function(Bt){var Lt=ft;return function(){var Ft=ft;ft=Lt;try{return Bt.apply(this,arguments)}finally{ft=Ft}}}})(scheduler_production_min$2);(function(et){et.exports=scheduler_production_min$2})(scheduler$2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca$1=scheduler$2.exports;function p$6(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,tt=1;tt<arguments.length;tt++)_e+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,tt,nt){if(tt!==null&&tt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return nt?!1:tt!==null?!tt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,tt,nt){if(_e===null||typeof _e>"u"||pa(et,_e,tt,nt))return!0;if(nt)return!1;if(tt!==null)switch(tt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$5(et,_e,tt,nt,rt,it,st){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=tt,this.propertyName=et,this.type=_e,this.sanitizeURL=it,this.removeEmptyString=st}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$1[et]=new v$5(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z$1[_e]=new v$5(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$1[et]=new v$5(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$1[et]=new v$5(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$1[et]=new v$5(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$1[et]=new v$5(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$1[et]=new v$5(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$1[et]=new v$5(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$1[et]=new v$5(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$1[_e]=new v$5(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$1[_e]=new v$5(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z$1[_e]=new v$5(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$1[et]=new v$5(et,1,!1,et.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$1[et]=new v$5(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,_e,tt,nt){var rt=z$1.hasOwnProperty(_e)?z$1[_e]:null;(rt!==null?rt.type!==0:nt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,tt,rt,nt)&&(tt=null),nt||rt===null?oa(_e)&&(tt===null?et.removeAttribute(_e):et.setAttribute(_e,""+tt)):rt.mustUseProperty?et[rt.propertyName]=tt===null?rt.type===3?!1:"":tt:(_e=rt.attributeName,nt=rt.attributeNamespace,tt===null?et.removeAttribute(_e):(rt=rt.type,tt=rt===3||rt===4&&tt===!0?"":""+tt,nt?et.setAttributeNS(nt,_e,tt):et.setAttribute(_e,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$1=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(tt){var _e=tt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(lt){var nt=lt}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(lt){nt=lt}et.call(_e.prototype)}else{try{throw Error()}catch(lt){nt=lt}et()}}catch(lt){if(lt&&nt&&typeof lt.stack=="string"){for(var rt=lt.stack.split(`
`),it=nt.stack.split(`
`),st=rt.length-1,ot=it.length-1;1<=st&&0<=ot&&rt[st]!==it[ot];)ot--;for(;1<=st&&0<=ot;st--,ot--)if(rt[st]!==it[ot]){if(st!==1||ot!==1)do if(st--,ot--,0>ot||rt[st]!==it[ot]){var at=`
`+rt[st].replace(" at new "," at ");return et.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",et.displayName)),at}while(1<=st&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",tt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),nt=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var rt=tt.get,it=tt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return rt.call(this)},set:function(st){nt=""+st,it.call(this,st)}}),Object.defineProperty(et,_e,{enumerable:tt.enumerable}),{getValue:function(){return nt},setValue:function(st){nt=""+st},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var tt=_e.getValue(),nt="";return et&&(nt=Ta(et)?et.checked?"true":"false":et.value),et=nt,et!==tt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var tt=_e.checked;return A$1({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt!=null?tt:et._wrapperState.initialChecked})}function Za(et,_e){var tt=_e.defaultValue==null?"":_e.defaultValue,nt=_e.checked!=null?_e.checked:_e.defaultChecked;tt=Sa(_e.value!=null?_e.value:tt),et._wrapperState={initialChecked:nt,initialValue:tt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab$1(et,_e){_e=_e.checked,_e!=null&&ta(et,"checked",_e,!1)}function bb(et,_e){ab$1(et,_e);var tt=Sa(_e.value),nt=_e.type;if(tt!=null)nt==="number"?(tt===0&&et.value===""||et.value!=tt)&&(et.value=""+tt):et.value!==""+tt&&(et.value=""+tt);else if(nt==="submit"||nt==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb$1(et,_e.type,tt):_e.hasOwnProperty("defaultValue")&&cb$1(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,tt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var nt=_e.type;if(!(nt!=="submit"&&nt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,tt||_e===et.value||(et.value=_e),et.defaultValue=_e}tt=et.name,tt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,tt!==""&&(et.name=tt)}function cb$1(et,_e,tt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(tt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+tt&&(et.defaultValue=""+tt))}var eb=Array.isArray;function fb(et,_e,tt,nt){if(et=et.options,_e){_e={};for(var rt=0;rt<tt.length;rt++)_e["$"+tt[rt]]=!0;for(tt=0;tt<et.length;tt++)rt=_e.hasOwnProperty("$"+et[tt].value),et[tt].selected!==rt&&(et[tt].selected=rt),rt&&nt&&(et[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),_e=null,rt=0;rt<et.length;rt++){if(et[rt].value===tt){et[rt].selected=!0,nt&&(et[rt].defaultSelected=!0);return}_e!==null||et[rt].disabled||(_e=et[rt])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$1({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var tt=_e.value;if(tt==null){if(tt=_e.children,_e=_e.defaultValue,tt!=null){if(_e!=null)throw Error(p$6(92));if(eb(tt)){if(1<tt.length)throw Error(p$6(93));tt=tt[0]}_e=tt}_e==null&&(_e=""),tt=_e}et._wrapperState={initialValue:Sa(tt)}}function ib(et,_e){var tt=Sa(_e.value),nt=Sa(_e.defaultValue);tt!=null&&(tt=""+tt,tt!==et.value&&(et.value=tt),_e.defaultValue==null&&et.defaultValue!==tt&&(et.defaultValue=tt)),nt!=null&&(et.defaultValue=""+nt)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,tt,nt,rt){MSApp.execUnsafeLocalFunction(function(){return et(_e,tt,nt,rt)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var tt=et.firstChild;if(tt&&tt===et.lastChild&&tt.nodeType===3){tt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,tt){return _e==null||typeof _e=="boolean"||_e===""?"":tt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var tt in _e)if(_e.hasOwnProperty(tt)){var nt=tt.indexOf("--")===0,rt=rb(tt,_e[tt],nt);tt==="float"&&(tt="cssFloat"),nt?et.setProperty(tt,rt):et[tt]=rt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$6(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$6(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$6(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$6(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$6(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,tt){if(Ib)return et(_e,tt);Ib=!0;try{return Gb(et,_e,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var tt=et.stateNode;if(tt===null)return null;var nt=Db(tt);if(nt===null)return null;tt=nt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(et=et.type,nt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!nt;break e;default:et=!1}if(et)return null;if(tt&&typeof tt!="function")throw Error(p$6(231,_e,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,tt,nt,rt,it,st,ot,at){var lt=Array.prototype.slice.call(arguments,3);try{_e.apply(tt,lt)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,tt,nt,rt,it,st,ot,at){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,tt,nt,rt,it,st,ot,at){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=lt)}}function Vb(et){var _e=et,tt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,(_e.flags&4098)!==0&&(tt=_e.return),et=_e.return;while(et)}return _e.tag===3?tt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$6(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$6(188));return _e!==et?null:et}for(var tt=et,nt=_e;;){var rt=tt.return;if(rt===null)break;var it=rt.alternate;if(it===null){if(nt=rt.return,nt!==null){tt=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===tt)return Xb(rt),et;if(it===nt)return Xb(rt),_e;it=it.sibling}throw Error(p$6(188))}if(tt.return!==nt.return)tt=rt,nt=it;else{for(var st=!1,ot=rt.child;ot;){if(ot===tt){st=!0,tt=rt,nt=it;break}if(ot===nt){st=!0,nt=rt,tt=it;break}ot=ot.sibling}if(!st){for(ot=it.child;ot;){if(ot===tt){st=!0,tt=it,nt=rt;break}if(ot===nt){st=!0,nt=it,tt=rt;break}ot=ot.sibling}if(!st)throw Error(p$6(189))}}if(tt.alternate!==nt)throw Error(p$6(190))}if(tt.tag!==3)throw Error(p$6(188));return tt.stateNode.current===tt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca$1.unstable_scheduleCallback,bc=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec=ca$1.unstable_getCurrentPriorityLevel,fc=ca$1.unstable_ImmediatePriority,gc=ca$1.unstable_UserBlockingPriority,hc=ca$1.unstable_NormalPriority,ic=ca$1.unstable_LowPriority,jc=ca$1.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var tt=et.pendingLanes;if(tt===0)return 0;var nt=0,rt=et.suspendedLanes,it=et.pingedLanes,st=tt&268435455;if(st!==0){var ot=st&~rt;ot!==0?nt=tc(ot):(it&=st,it!==0&&(nt=tc(it)))}else st=tt&~rt,st!==0?nt=tc(st):it!==0&&(nt=tc(it));if(nt===0)return 0;if(_e!==0&&_e!==nt&&(_e&rt)===0&&(rt=nt&-nt,it=_e&-_e,rt>=it||rt===16&&(it&4194240)!==0))return _e;if((nt&4)!==0&&(nt|=tt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=nt;0<_e;)tt=31-oc(_e),rt=1<<tt,nt|=et[tt],_e&=~rt;return nt}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var tt=et.suspendedLanes,nt=et.pingedLanes,rt=et.expirationTimes,it=et.pendingLanes;0<it;){var st=31-oc(it),ot=1<<st,at=rt[st];at===-1?((ot&tt)===0||(ot&nt)!==0)&&(rt[st]=vc(ot,_e)):at<=_e&&(et.expiredLanes|=ot),it&=~ot}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),et}function zc(et){for(var _e=[],tt=0;31>tt;tt++)_e.push(et);return _e}function Ac(et,_e,tt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=tt}function Bc(et,_e){var tt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var nt=et.eventTimes;for(et=et.expirationTimes;0<tt;){var rt=31-oc(tt),it=1<<rt;_e[rt]=0,nt[rt]=-1,et[rt]=-1,tt&=~it}}function Cc(et,_e){var tt=et.entangledLanes|=_e;for(et=et.entanglements;tt;){var nt=31-oc(tt),rt=1<<nt;rt&_e|et[nt]&_e&&(et[nt]|=_e),tt&=~rt}}var C$1=0;function Dc(et){return et&=-et,1<et?4<et?(et&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,tt,nt,rt,it){return et===null||et.nativeEvent!==it?(et={blockedOn:_e,domEventName:tt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[rt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=nt,_e=et.targetContainers,rt!==null&&_e.indexOf(rt)===-1&&_e.push(rt),et)}function Uc(et,_e,tt,nt,rt){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,tt,nt,rt),!0;case"dragenter":return Mc=Tc(Mc,et,_e,tt,nt,rt),!0;case"mouseover":return Nc=Tc(Nc,et,_e,tt,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,et,_e,tt,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,et,_e,tt,nt,rt)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var tt=Vb(_e);if(tt!==null){if(_e=tt.tag,_e===13){if(_e=Wb(tt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(tt)});return}}else if(_e===3&&tt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var tt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(tt===null){tt=et.nativeEvent;var nt=new tt.constructor(tt.type,tt);wb=nt,tt.target.dispatchEvent(nt),wb=null}else return _e=Cb(tt),_e!==null&&Fc(_e),et.blockedOn=tt,!1;_e.shift()}return!0}function Zc(et,_e,tt){Xc(et)&&tt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c)))}function bd(et){function _e(rt){return ad(rt,et)}if(0<Kc.length){ad(Kc[0],et);for(var tt=1;tt<Kc.length;tt++){var nt=Kc[tt];nt.blockedOn===et&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),tt=0;tt<Qc.length;tt++)nt=Qc[tt],nt.blockedOn===et&&(nt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,tt,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(et,_e,tt,nt)}finally{C$1=rt,cd.transition=it}}function gd(et,_e,tt,nt){var rt=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(et,_e,tt,nt)}finally{C$1=rt,cd.transition=it}}function fd(et,_e,tt,nt){if(dd){var rt=Yc(et,_e,tt,nt);if(rt===null)hd(et,_e,nt,id$2,tt),Sc(et,nt);else if(Uc(rt,et,_e,tt,nt))nt.stopPropagation();else if(Sc(et,nt),_e&4&&-1<Rc.indexOf(et)){for(;rt!==null;){var it=Cb(rt);if(it!==null&&Ec(it),it=Yc(et,_e,tt,nt),it===null&&hd(et,_e,nt,id$2,tt),it===rt)break;rt=it}rt!==null&&nt.stopPropagation()}else hd(et,_e,nt,null,tt)}}var id$2=null;function Yc(et,_e,tt,nt){if(id$2=null,et=xb(nt),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(tt=_e.tag,tt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(tt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id$2=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,tt=_e.length,nt,rt="value"in kd?kd.value:kd.textContent,it=rt.length;for(et=0;et<tt&&_e[et]===rt[et];et++);var st=tt-et;for(nt=1;nt<=st&&_e[tt-nt]===rt[it-nt];nt++);return md=rt.slice(et,1<nt?1-nt:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(tt,nt,rt,it,st){this._reactName=tt,this._targetInst=rt,this.type=nt,this.nativeEvent=it,this.target=st,this.currentTarget=null;for(var ot in et)et.hasOwnProperty(ot)&&(tt=et[ot],this[ot]=tt?tt(it):it[ot]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee$1=String.fromCharCode(32),fe=!1;function ge(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je(et,_e){switch(et){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee$1);case"textInput":return et=_e.data,et===ee$1&&fe?null:et;default:return null}}function ke(et,_e){if(ie)return et==="compositionend"||!ae&&ge(et,_e)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le[et.type]:_e==="textarea"}function ne(et,_e,tt,nt){Eb(nt),_e=oe(_e,"onChange"),0<_e.length&&(tt=new td("onChange","change",null,tt,nt),et.push({event:tt,listeners:_e}))}var pe=null,qe=null;function re$1(et){se(et,0)}function te(et){var _e=ue(et);if(Wa(_e))return et}function ve(et,_e){if(et==="change")return _e}var we=!1;if(ia){var xe$1;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe$1=ye}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,et,xb(et)),Jb(re$1,_e)}}function Ce$1(et,_e,tt){et==="focusin"?(Ae(),pe=_e,qe=tt,pe.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee(et,_e){if(et==="click")return te(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te(_e)}function Ge(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(et,_e){if(He(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var tt=Object.keys(et),nt=Object.keys(_e);if(tt.length!==nt.length)return!1;for(nt=0;nt<tt.length;nt++){var rt=tt[nt];if(!ja.call(_e,rt)||!He(et[rt],_e[rt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,_e){var tt=Je(et);et=0;for(var nt;tt;){if(tt.nodeType===3){if(nt=et+tt.textContent.length,et<=_e&&nt>=_e)return{node:tt,offset:_e-et};et=nt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me$1(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var tt=typeof _e.contentWindow.location.href=="string"}catch{tt=!1}if(tt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne$1(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe(et){var _e=Me$1(),tt=et.focusedElem,nt=et.selectionRange;if(_e!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(nt!==null&&Ne$1(tt)){if(_e=nt.start,et=nt.end,et===void 0&&(et=_e),"selectionStart"in tt)tt.selectionStart=_e,tt.selectionEnd=Math.min(et,tt.value.length);else if(et=(_e=tt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var rt=tt.textContent.length,it=Math.min(nt.start,rt);nt=nt.end===void 0?it:Math.min(nt.end,rt),!et.extend&&it>nt&&(rt=nt,nt=it,it=rt),rt=Ke(tt,it);var st=Ke(tt,nt);rt&&st&&(et.rangeCount!==1||et.anchorNode!==rt.node||et.anchorOffset!==rt.offset||et.focusNode!==st.node||et.focusOffset!==st.offset)&&(_e=_e.createRange(),_e.setStart(rt.node,rt.offset),et.removeAllRanges(),it>nt?(et.addRange(_e),et.extend(st.node,st.offset)):(_e.setEnd(st.node,st.offset),et.addRange(_e)))}}for(_e=[],et=tt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<_e.length;tt++)et=_e[tt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(et,_e,tt){var nt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne$1(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se&&Ie(Se,nt)||(Se=nt,nt=oe(Re,"onSelect"),0<nt.length&&(_e=new td("onSelect","select",null,_e,tt),et.push({event:_e,listeners:nt}),_e.target=Qe)))}function Ve(et,_e){var tt={};return tt[et.toLowerCase()]=_e.toLowerCase(),tt["Webkit"+et]="webkit"+_e,tt["Moz"+et]="moz"+_e,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var _e=We[et],tt;for(tt in _e)if(_e.hasOwnProperty(tt)&&tt in Ye)return Xe[et]=_e[tt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,tt){var nt=et.type||"unknown-event";et.currentTarget=tt,Ub(nt,_e,void 0,et),et.currentTarget=null}function se(et,_e){_e=(_e&4)!==0;for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.event;nt=nt.listeners;e:{var it=void 0;if(_e)for(var st=nt.length-1;0<=st;st--){var ot=nt[st],at=ot.instance,lt=ot.currentTarget;if(ot=ot.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,ot,lt),it=at}else for(st=0;st<nt.length;st++){if(ot=nt[st],at=ot.instance,lt=ot.currentTarget,ot=ot.listener,at!==it&&rt.isPropagationStopped())break e;nf(rt,ot,lt),it=at}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,_e){var tt=_e[of];tt===void 0&&(tt=_e[of]=new Set);var nt=et+"__bubble";tt.has(nt)||(pf(_e,et,2,!1),tt.add(nt))}function qf(et,_e,tt){var nt=0;_e&&(nt|=4),pf(tt,et,nt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,et),qf(tt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,tt,nt){switch(jd(_e)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}tt=rt.bind(null,_e,tt,et),rt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(rt=!0),nt?rt!==void 0?et.addEventListener(_e,tt,{capture:!0,passive:rt}):et.addEventListener(_e,tt,!0):rt!==void 0?et.addEventListener(_e,tt,{passive:rt}):et.addEventListener(_e,tt,!1)}function hd(et,_e,tt,nt,rt){var it=nt;if((_e&1)===0&&(_e&2)===0&&nt!==null)e:for(;;){if(nt===null)return;var st=nt.tag;if(st===3||st===4){var ot=nt.stateNode.containerInfo;if(ot===rt||ot.nodeType===8&&ot.parentNode===rt)break;if(st===4)for(st=nt.return;st!==null;){var at=st.tag;if((at===3||at===4)&&(at=st.stateNode.containerInfo,at===rt||at.nodeType===8&&at.parentNode===rt))return;st=st.return}for(;ot!==null;){if(st=Wc(ot),st===null)return;if(at=st.tag,at===5||at===6){nt=it=st;continue e}ot=ot.parentNode}}nt=nt.return}Jb(function(){var lt=it,ct=xb(tt),ut=[];e:{var ft=df.get(et);if(ft!==void 0){var ht=td,pt=et;switch(et){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":pt="focus",ht=Fd;break;case"focusout":pt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td}var gt=(_e&4)!==0,dt=!gt&&et==="scroll",vt=gt?ft!==null?ft+"Capture":null:ft;gt=[];for(var xt=lt,_t;xt!==null;){_t=xt;var bt=_t.stateNode;if(_t.tag===5&&bt!==null&&(_t=bt,vt!==null&&(bt=Kb(xt,vt),bt!=null&&gt.push(tf(xt,bt,_t)))),dt)break;xt=xt.return}0<gt.length&&(ft=new ht(ft,pt,null,tt,ct),ut.push({event:ft,listeners:gt}))}}if((_e&7)===0){e:{if(ft=et==="mouseover"||et==="pointerover",ht=et==="mouseout"||et==="pointerout",ft&&tt!==wb&&(pt=tt.relatedTarget||tt.fromElement)&&(Wc(pt)||pt[uf]))break e;if((ht||ft)&&(ft=ct.window===ct?ct:(ft=ct.ownerDocument)?ft.defaultView||ft.parentWindow:window,ht?(pt=tt.relatedTarget||tt.toElement,ht=lt,pt=pt?Wc(pt):null,pt!==null&&(dt=Vb(pt),pt!==dt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ht=null,pt=lt),ht!==pt)){if(gt=Bd,bt="onMouseLeave",vt="onMouseEnter",xt="mouse",(et==="pointerout"||et==="pointerover")&&(gt=Td,bt="onPointerLeave",vt="onPointerEnter",xt="pointer"),dt=ht==null?ft:ue(ht),_t=pt==null?ft:ue(pt),ft=new gt(bt,xt+"leave",ht,tt,ct),ft.target=dt,ft.relatedTarget=_t,bt=null,Wc(ct)===lt&&(gt=new gt(vt,xt+"enter",pt,tt,ct),gt.target=_t,gt.relatedTarget=dt,bt=gt),dt=bt,ht&&pt)t:{for(gt=ht,vt=pt,xt=0,_t=gt;_t;_t=vf(_t))xt++;for(_t=0,bt=vt;bt;bt=vf(bt))_t++;for(;0<xt-_t;)gt=vf(gt),xt--;for(;0<_t-xt;)vt=vf(vt),_t--;for(;xt--;){if(gt===vt||vt!==null&&gt===vt.alternate)break t;gt=vf(gt),vt=vf(vt)}gt=null}else gt=null;ht!==null&&wf(ut,ft,ht,gt,!1),pt!==null&&dt!==null&&wf(ut,dt,pt,gt,!0)}}e:{if(ft=lt?ue(lt):window,ht=ft.nodeName&&ft.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ft.type==="file")var At=ve;else if(me(ft))if(we)At=Fe;else{At=De;var Mt=Ce$1}else(ht=ft.nodeName)&&ht.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(At=Ee);if(At&&(At=At(et,lt))){ne(ut,At,tt,ct);break e}Mt&&Mt(et,ft,lt),et==="focusout"&&(Mt=ft._wrapperState)&&Mt.controlled&&ft.type==="number"&&cb$1(ft,"number",ft.value)}switch(Mt=lt?ue(lt):window,et){case"focusin":(me(Mt)||Mt.contentEditable==="true")&&(Qe=Mt,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ut,tt,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ut,tt,ct)}var Tt;if(ae)e:{switch(et){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else ie?ge(et,tt)&&(St="onCompositionEnd"):et==="keydown"&&tt.keyCode===229&&(St="onCompositionStart");St&&(de&&tt.locale!=="ko"&&(ie||St!=="onCompositionStart"?St==="onCompositionEnd"&&ie&&(Tt=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Mt=oe(lt,St),0<Mt.length&&(St=new Ld(St,et,null,tt,ct),ut.push({event:St,listeners:Mt}),Tt?St.data=Tt:(Tt=he(tt),Tt!==null&&(St.data=Tt)))),(Tt=ce?je(et,tt):ke(et,tt))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(ct=new Ld("onBeforeInput","beforeinput",null,tt,ct),ut.push({event:ct,listeners:lt}),ct.data=Tt))}se(ut,_e)})}function tf(et,_e,tt){return{instance:et,listener:_e,currentTarget:tt}}function oe(et,_e){for(var tt=_e+"Capture",nt=[];et!==null;){var rt=et,it=rt.stateNode;rt.tag===5&&it!==null&&(rt=it,it=Kb(et,tt),it!=null&&nt.unshift(tf(et,it,rt)),it=Kb(et,_e),it!=null&&nt.push(tf(et,it,rt))),et=et.return}return nt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,tt,nt,rt){for(var it=_e._reactName,st=[];tt!==null&&tt!==nt;){var ot=tt,at=ot.alternate,lt=ot.stateNode;if(at!==null&&at===nt)break;ot.tag===5&&lt!==null&&(ot=lt,rt?(at=Kb(tt,it),at!=null&&st.unshift(tf(tt,at,ot))):rt||(at=Kb(tt,it),at!=null&&st.push(tf(tt,at,ot)))),tt=tt.return}st.length!==0&&et.push({event:_e,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,tt){if(_e=zf(_e),zf(et)!==_e&&tt)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var tt=_e,nt=0;do{var rt=tt.nextSibling;if(et.removeChild(tt),rt&&rt.nodeType===8)if(tt=rt.data,tt==="/$"){if(nt===0){et.removeChild(rt),bd(_e);return}nt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||nt++;tt=rt}while(tt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(_e===0)return et;_e--}else tt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var tt=et.parentNode;tt;){if(_e=tt[uf]||tt[Of]){if(tt=_e.alternate,_e.child!==null||tt!==null&&tt.child!==null)for(et=Mf(et);et!==null;){if(tt=et[Of])return tt;et=Mf(et)}return _e}et=tt,tt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$6(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$2(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var tt=et.type.contextTypes;if(!tt)return Vf;var nt=et.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===_e)return nt.__reactInternalMemoizedMaskedChildContext;var rt={},it;for(it in tt)rt[it]=_e[it];return nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(et,_e,tt){if(H$2.current!==Vf)throw Error(p$6(168));G$1(H$2,_e),G$1(Wf,tt)}function bg(et,_e,tt){var nt=et.stateNode;if(_e=_e.childContextTypes,typeof nt.getChildContext!="function")return tt;nt=nt.getChildContext();for(var rt in nt)if(!(rt in _e))throw Error(p$6(108,Ra(et)||"Unknown",rt));return A$1({},tt,nt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,et),G$1(Wf,Wf.current),!0}function dg(et,_e,tt){var nt=et.stateNode;if(!nt)throw Error(p$6(169));tt?(et=bg(et,_e,Xf),nt.__reactInternalMemoizedMergedChildContext=et,E$2(Wf),E$2(H$2),G$1(H$2,et)):E$2(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C$1;try{var tt=eg;for(C$1=1;et<tt.length;et++){var nt=tt[et];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),rt}finally{C$1=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var nt=rg;et=sg;var rt=32-oc(nt)-1;nt&=~(1<<rt),tt+=1;var it=32-oc(_e)+rt;if(30<it){var st=rt-rt%5;it=(nt&(1<<st)-1).toString(32),nt>>=st,rt-=st,rg=1<<32-oc(_e)+rt|tt<<rt|nt,sg=it+et}else rg=1<<it|tt<<rt|nt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(et,_e){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=_e,tt.return=et,_e=et.deletions,_e===null?(et.deletions=[tt],et.flags|=16):_e.push(tt)}function Cg(et,_e){switch(et.tag){case 5:var tt=et.type;return _e=_e.nodeType!==1||tt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=_e,tt.return=et,et.child=tt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$3){var _e=yg;if(_e){var tt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$6(418));_e=Lf(tt.nextSibling);var nt=xg;_e&&Cg(et,_e)?Ag(nt,tt):(et.flags=et.flags&-4097|2,I$3=!1,xg=et)}}else{if(Dg(et))throw Error(p$6(418));et.flags=et.flags&-4097|2,I$3=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$3)return Fg(et),I$3=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$6(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$6(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$1({},_e),et=et.defaultProps;for(var tt in et)_e[tt]===void 0&&(_e[tt]=et[tt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E$2(Mg),et._currentValue=_e}function Sg(et,_e,tt){for(;et!==null;){var nt=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,nt!==null&&(nt.childLanes|=_e)):nt!==null&&(nt.childLanes&_e)!==_e&&(nt.childLanes|=_e),et===tt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&((et.lanes&_e)!==0&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$6(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,tt,nt){var rt=_e.interleaved;return rt===null?(tt.next=tt,Xg(_e)):(tt.next=rt.next,rt.next=tt),_e.interleaved=tt,Zg(et,nt)}function Zg(et,_e){et.lanes|=_e;var tt=et.alternate;for(tt!==null&&(tt.lanes|=_e),tt=et,et=et.return;et!==null;)et.childLanes|=_e,tt=et.alternate,tt!==null&&(tt.childLanes|=_e),tt=et,et=et.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,tt){var nt=et.updateQueue;if(nt===null)return null;if(nt=nt.shared,(K&2)!==0){var rt=nt.pending;return rt===null?_e.next=_e:(_e.next=rt.next,rt.next=_e),nt.pending=_e,Zg(et,tt)}return rt=nt.interleaved,rt===null?(_e.next=_e,Xg(nt)):(_e.next=rt.next,rt.next=_e),nt.interleaved=_e,Zg(et,tt)}function eh(et,_e,tt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(tt&4194240)!==0)){var nt=_e.lanes;nt&=et.pendingLanes,tt|=nt,_e.lanes=tt,Cc(et,tt)}}function fh(et,_e){var tt=et.updateQueue,nt=et.alternate;if(nt!==null&&(nt=nt.updateQueue,tt===nt)){var rt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var st={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?rt=it=st:it=it.next=st,tt=tt.next}while(tt!==null);it===null?rt=it=_e:it=it.next=_e}else rt=it=_e;tt={baseState:nt.baseState,firstBaseUpdate:rt,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},et.updateQueue=tt;return}et=tt.lastBaseUpdate,et===null?tt.firstBaseUpdate=_e:et.next=_e,tt.lastBaseUpdate=_e}function gh(et,_e,tt,nt){var rt=et.updateQueue;$g=!1;var it=rt.firstBaseUpdate,st=rt.lastBaseUpdate,ot=rt.shared.pending;if(ot!==null){rt.shared.pending=null;var at=ot,lt=at.next;at.next=null,st===null?it=lt:st.next=lt,st=at;var ct=et.alternate;ct!==null&&(ct=ct.updateQueue,ot=ct.lastBaseUpdate,ot!==st&&(ot===null?ct.firstBaseUpdate=lt:ot.next=lt,ct.lastBaseUpdate=at))}if(it!==null){var ut=rt.baseState;st=0,ct=lt=at=null,ot=it;do{var ft=ot.lane,ht=ot.eventTime;if((nt&ft)===ft){ct!==null&&(ct=ct.next={eventTime:ht,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var pt=et,gt=ot;switch(ft=_e,ht=tt,gt.tag){case 1:if(pt=gt.payload,typeof pt=="function"){ut=pt.call(ht,ut,ft);break e}ut=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=gt.payload,ft=typeof pt=="function"?pt.call(ht,ut,ft):pt,ft==null)break e;ut=A$1({},ut,ft);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(et.flags|=64,ft=rt.effects,ft===null?rt.effects=[ot]:ft.push(ot))}else ht={eventTime:ht,lane:ft,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ct===null?(lt=ct=ht,at=ut):ct=ct.next=ht,st|=ft;if(ot=ot.next,ot===null){if(ot=rt.shared.pending,ot===null)break;ft=ot,ot=ft.next,ft.next=null,rt.lastBaseUpdate=ft,rt.shared.pending=null}}while(1);if(ct===null&&(at=ut),rt.baseState=at,rt.firstBaseUpdate=lt,rt.lastBaseUpdate=ct,_e=rt.shared.interleaved,_e!==null){rt=_e;do st|=rt.lane,rt=rt.next;while(rt!==_e)}else it===null&&(rt.shared.lanes=0);hh|=st,et.lanes=st,et.memoizedState=ut}}function ih(et,_e,tt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var nt=et[_e],rt=nt.callback;if(rt!==null){if(nt.callback=null,nt=tt,typeof rt!="function")throw Error(p$6(191,rt));rt.call(nt)}}}var jh=new aa.Component().refs;function kh(et,_e,tt,nt){_e=et.memoizedState,tt=tt(nt,_e),tt=tt==null?_e:A$1({},_e,tt),et.memoizedState=tt,et.lanes===0&&(et.updateQueue.baseState=tt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,tt){et=et._reactInternals;var nt=L$2(),rt=lh(et),it=ch(nt,rt);it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,rt),_e!==null&&(mh(_e,et,rt,nt),eh(_e,et,rt))},enqueueReplaceState:function(et,_e,tt){et=et._reactInternals;var nt=L$2(),rt=lh(et),it=ch(nt,rt);it.tag=1,it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,rt),_e!==null&&(mh(_e,et,rt,nt),eh(_e,et,rt))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var tt=L$2(),nt=lh(et),rt=ch(tt,nt);rt.tag=2,_e!=null&&(rt.callback=_e),_e=dh(et,rt,nt),_e!==null&&(mh(_e,et,nt,tt),eh(_e,et,nt))}};function oh(et,_e,tt,nt,rt,it,st){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(nt,it,st):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(tt,nt)||!Ie(rt,it):!0}function ph(et,_e,tt){var nt=!1,rt=Vf,it=_e.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(rt=Zf(_e)?Xf:H$2.current,nt=_e.contextTypes,it=(nt=nt!=null)?Yf(et,rt):Vf),_e=new _e(tt,it),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=rt,et.__reactInternalMemoizedMaskedChildContext=it),_e}function qh(et,_e,tt,nt){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(tt,nt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(tt,nt),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh(et,_e,tt,nt){var rt=et.stateNode;rt.props=tt,rt.state=et.memoizedState,rt.refs=jh,ah(et);var it=_e.contextType;typeof it=="object"&&it!==null?rt.context=Vg(it):(it=Zf(_e)?Xf:H$2.current,rt.context=Yf(et,it)),rt.state=et.memoizedState,it=_e.getDerivedStateFromProps,typeof it=="function"&&(kh(et,_e,it,tt),rt.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(_e=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),_e!==rt.state&&nh.enqueueReplaceState(rt,rt.state,null),gh(et,tt,rt,nt),rt.state=et.memoizedState),typeof rt.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,_e,tt){if(et=tt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$6(309));var nt=tt.stateNode}if(!nt)throw Error(p$6(147,et));var rt=nt,it=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===it?_e.ref:(_e=function(st){var ot=rt.refs;ot===jh&&(ot=rt.refs={}),st===null?delete ot[it]:ot[it]=st},_e._stringRef=it,_e)}if(typeof et!="string")throw Error(p$6(284));if(!tt._owner)throw Error(p$6(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$6(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh$1(et){function _e(vt,xt){if(et){var _t=vt.deletions;_t===null?(vt.deletions=[xt],vt.flags|=16):_t.push(xt)}}function tt(vt,xt){if(!et)return null;for(;xt!==null;)_e(vt,xt),xt=xt.sibling;return null}function nt(vt,xt){for(vt=new Map;xt!==null;)xt.key!==null?vt.set(xt.key,xt):vt.set(xt.index,xt),xt=xt.sibling;return vt}function rt(vt,xt){return vt=wh(vt,xt),vt.index=0,vt.sibling=null,vt}function it(vt,xt,_t){return vt.index=_t,et?(_t=vt.alternate,_t!==null?(_t=_t.index,_t<xt?(vt.flags|=2,xt):_t):(vt.flags|=2,xt)):(vt.flags|=1048576,xt)}function st(vt){return et&&vt.alternate===null&&(vt.flags|=2),vt}function ot(vt,xt,_t,bt){return xt===null||xt.tag!==6?(xt=xh(_t,vt.mode,bt),xt.return=vt,xt):(xt=rt(xt,_t),xt.return=vt,xt)}function at(vt,xt,_t,bt){var At=_t.type;return At===ya?ct(vt,xt,_t.props.children,bt,_t.key):xt!==null&&(xt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&uh(At)===xt.type)?(bt=rt(xt,_t.props),bt.ref=sh(vt,xt,_t),bt.return=vt,bt):(bt=yh(_t.type,_t.key,_t.props,null,vt.mode,bt),bt.ref=sh(vt,xt,_t),bt.return=vt,bt)}function lt(vt,xt,_t,bt){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==_t.containerInfo||xt.stateNode.implementation!==_t.implementation?(xt=zh(_t,vt.mode,bt),xt.return=vt,xt):(xt=rt(xt,_t.children||[]),xt.return=vt,xt)}function ct(vt,xt,_t,bt,At){return xt===null||xt.tag!==7?(xt=Ah(_t,vt.mode,bt,At),xt.return=vt,xt):(xt=rt(xt,_t),xt.return=vt,xt)}function ut(vt,xt,_t){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return xt=xh(""+xt,vt.mode,_t),xt.return=vt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return _t=yh(xt.type,xt.key,xt.props,null,vt.mode,_t),_t.ref=sh(vt,null,xt),_t.return=vt,_t;case wa:return xt=zh(xt,vt.mode,_t),xt.return=vt,xt;case Ha:var bt=xt._init;return ut(vt,bt(xt._payload),_t)}if(eb(xt)||Ka(xt))return xt=Ah(xt,vt.mode,_t,null),xt.return=vt,xt;th(vt,xt)}return null}function ft(vt,xt,_t,bt){var At=xt!==null?xt.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return At!==null?null:ot(vt,xt,""+_t,bt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return _t.key===At?at(vt,xt,_t,bt):null;case wa:return _t.key===At?lt(vt,xt,_t,bt):null;case Ha:return At=_t._init,ft(vt,xt,At(_t._payload),bt)}if(eb(_t)||Ka(_t))return At!==null?null:ct(vt,xt,_t,bt,null);th(vt,_t)}return null}function ht(vt,xt,_t,bt,At){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return vt=vt.get(_t)||null,ot(xt,vt,""+bt,At);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return vt=vt.get(bt.key===null?_t:bt.key)||null,at(xt,vt,bt,At);case wa:return vt=vt.get(bt.key===null?_t:bt.key)||null,lt(xt,vt,bt,At);case Ha:var Mt=bt._init;return ht(vt,xt,_t,Mt(bt._payload),At)}if(eb(bt)||Ka(bt))return vt=vt.get(_t)||null,ct(xt,vt,bt,At,null);th(xt,bt)}return null}function pt(vt,xt,_t,bt){for(var At=null,Mt=null,Tt=xt,St=xt=0,Ct=null;Tt!==null&&St<_t.length;St++){Tt.index>St?(Ct=Tt,Tt=null):Ct=Tt.sibling;var Et=ft(vt,Tt,_t[St],bt);if(Et===null){Tt===null&&(Tt=Ct);break}et&&Tt&&Et.alternate===null&&_e(vt,Tt),xt=it(Et,xt,St),Mt===null?At=Et:Mt.sibling=Et,Mt=Et,Tt=Ct}if(St===_t.length)return tt(vt,Tt),I$3&&tg(vt,St),At;if(Tt===null){for(;St<_t.length;St++)Tt=ut(vt,_t[St],bt),Tt!==null&&(xt=it(Tt,xt,St),Mt===null?At=Tt:Mt.sibling=Tt,Mt=Tt);return I$3&&tg(vt,St),At}for(Tt=nt(vt,Tt);St<_t.length;St++)Ct=ht(Tt,vt,St,_t[St],bt),Ct!==null&&(et&&Ct.alternate!==null&&Tt.delete(Ct.key===null?St:Ct.key),xt=it(Ct,xt,St),Mt===null?At=Ct:Mt.sibling=Ct,Mt=Ct);return et&&Tt.forEach(function(Rt){return _e(vt,Rt)}),I$3&&tg(vt,St),At}function gt(vt,xt,_t,bt){var At=Ka(_t);if(typeof At!="function")throw Error(p$6(150));if(_t=At.call(_t),_t==null)throw Error(p$6(151));for(var Mt=At=null,Tt=xt,St=xt=0,Ct=null,Et=_t.next();Tt!==null&&!Et.done;St++,Et=_t.next()){Tt.index>St?(Ct=Tt,Tt=null):Ct=Tt.sibling;var Rt=ft(vt,Tt,Et.value,bt);if(Rt===null){Tt===null&&(Tt=Ct);break}et&&Tt&&Rt.alternate===null&&_e(vt,Tt),xt=it(Rt,xt,St),Mt===null?At=Rt:Mt.sibling=Rt,Mt=Rt,Tt=Ct}if(Et.done)return tt(vt,Tt),I$3&&tg(vt,St),At;if(Tt===null){for(;!Et.done;St++,Et=_t.next())Et=ut(vt,Et.value,bt),Et!==null&&(xt=it(Et,xt,St),Mt===null?At=Et:Mt.sibling=Et,Mt=Et);return I$3&&tg(vt,St),At}for(Tt=nt(vt,Tt);!Et.done;St++,Et=_t.next())Et=ht(Tt,vt,St,Et.value,bt),Et!==null&&(et&&Et.alternate!==null&&Tt.delete(Et.key===null?St:Et.key),xt=it(Et,xt,St),Mt===null?At=Et:Mt.sibling=Et,Mt=Et);return et&&Tt.forEach(function(It){return _e(vt,It)}),I$3&&tg(vt,St),At}function dt(vt,xt,_t,bt){if(typeof _t=="object"&&_t!==null&&_t.type===ya&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:e:{for(var At=_t.key,Mt=xt;Mt!==null;){if(Mt.key===At){if(At=_t.type,At===ya){if(Mt.tag===7){tt(vt,Mt.sibling),xt=rt(Mt,_t.props.children),xt.return=vt,vt=xt;break e}}else if(Mt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&uh(At)===Mt.type){tt(vt,Mt.sibling),xt=rt(Mt,_t.props),xt.ref=sh(vt,Mt,_t),xt.return=vt,vt=xt;break e}tt(vt,Mt);break}else _e(vt,Mt);Mt=Mt.sibling}_t.type===ya?(xt=Ah(_t.props.children,vt.mode,bt,_t.key),xt.return=vt,vt=xt):(bt=yh(_t.type,_t.key,_t.props,null,vt.mode,bt),bt.ref=sh(vt,xt,_t),bt.return=vt,vt=bt)}return st(vt);case wa:e:{for(Mt=_t.key;xt!==null;){if(xt.key===Mt)if(xt.tag===4&&xt.stateNode.containerInfo===_t.containerInfo&&xt.stateNode.implementation===_t.implementation){tt(vt,xt.sibling),xt=rt(xt,_t.children||[]),xt.return=vt,vt=xt;break e}else{tt(vt,xt);break}else _e(vt,xt);xt=xt.sibling}xt=zh(_t,vt.mode,bt),xt.return=vt,vt=xt}return st(vt);case Ha:return Mt=_t._init,dt(vt,xt,Mt(_t._payload),bt)}if(eb(_t))return pt(vt,xt,_t,bt);if(Ka(_t))return gt(vt,xt,_t,bt);th(vt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,xt!==null&&xt.tag===6?(tt(vt,xt.sibling),xt=rt(xt,_t),xt.return=vt,vt=xt):(tt(vt,xt),xt=xh(_t,vt.mode,bt),xt.return=vt,vt=xt),st(vt)):tt(vt,xt)}return dt}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$6(174));return et}function Ih(et,_e){switch(G$1(Gh,_e),G$1(Fh,et),G$1(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E$2(Eh),G$1(Eh,_e)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(et){Hh(Gh.current);var _e=Hh(Eh.current),tt=lb(_e,et.type);_e!==tt&&(G$1(Fh,et),G$1(Eh,tt))}function Lh(et){Fh.current===et&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var tt=_e.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if((_e.flags&128)!==0)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$6(321))}function Wh(et,_e){if(_e===null)return!1;for(var tt=0;tt<_e.length&&tt<et.length;tt++)if(!He(et[tt],_e[tt]))return!1;return!0}function Xh(et,_e,tt,nt,rt,it){if(Rh=it,N$2=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=tt(nt,rt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$6(301));it+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,et=tt(nt,rt)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$2=null,Sh=!1,_e)throw Error(p$6(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=et:P$1=P$1.next=et,P$1}function di(){if(O$1===null){var et=N$2.alternate;et=et!==null?et.memoizedState:null}else et=O$1.next;var _e=P$1===null?N$2.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=et;else{if(et===null)throw Error(p$6(310));O$1=et,et={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$2.memoizedState=P$1=et:P$1=P$1.next=et}return P$1}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$6(311));tt.lastRenderedReducer=et;var nt=O$1,rt=nt.baseQueue,it=tt.pending;if(it!==null){if(rt!==null){var st=rt.next;rt.next=it.next,it.next=st}nt.baseQueue=rt=it,tt.pending=null}if(rt!==null){it=rt.next,nt=nt.baseState;var ot=st=null,at=null,lt=it;do{var ct=lt.lane;if((Rh&ct)===ct)at!==null&&(at=at.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),nt=lt.hasEagerState?lt.eagerState:et(nt,lt.action);else{var ut={lane:ct,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};at===null?(ot=at=ut,st=nt):at=at.next=ut,N$2.lanes|=ct,hh|=ct}lt=lt.next}while(lt!==null&&lt!==it);at===null?st=nt:at.next=ot,He(nt,_e.memoizedState)||(Ug=!0),_e.memoizedState=nt,_e.baseState=st,_e.baseQueue=at,tt.lastRenderedState=nt}if(et=tt.interleaved,et!==null){rt=et;do it=rt.lane,N$2.lanes|=it,hh|=it,rt=rt.next;while(rt!==et)}else rt===null&&(tt.lanes=0);return[_e.memoizedState,tt.dispatch]}function gi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$6(311));tt.lastRenderedReducer=et;var nt=tt.dispatch,rt=tt.pending,it=_e.memoizedState;if(rt!==null){tt.pending=null;var st=rt=rt.next;do it=et(it,st.action),st=st.next;while(st!==rt);He(it,_e.memoizedState)||(Ug=!0),_e.memoizedState=it,_e.baseQueue===null&&(_e.baseState=it),tt.lastRenderedState=it}return[it,nt]}function hi(){}function ii(et,_e){var tt=N$2,nt=di(),rt=_e(),it=!He(nt.memoizedState,rt);if(it&&(nt.memoizedState=rt,Ug=!0),nt=nt.queue,ji(ki.bind(null,tt,nt,et),[et]),nt.getSnapshot!==_e||it||P$1!==null&&P$1.memoizedState.tag&1){if(tt.flags|=2048,li(9,mi.bind(null,tt,nt,rt,_e),void 0,null),R$1===null)throw Error(p$6(349));(Rh&30)!==0||ni(tt,_e,rt)}return rt}function ni(et,_e,tt){et.flags|=16384,et={getSnapshot:_e,value:tt},_e=N$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$2.updateQueue=_e,_e.stores=[et]):(tt=_e.stores,tt===null?_e.stores=[et]:tt.push(et))}function mi(et,_e,tt,nt){_e.value=tt,_e.getSnapshot=nt,oi(_e)&&pi(et)}function ki(et,_e,tt){return tt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!He(et,tt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N$2,et),[_e.memoizedState,et]}function li(et,_e,tt,nt){return et={tag:et,create:_e,destroy:tt,deps:nt,next:null},_e=N$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$2.updateQueue=_e,_e.lastEffect=et.next=et):(tt=_e.lastEffect,tt===null?_e.lastEffect=et.next=et:(nt=tt.next,tt.next=et,et.next=nt,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,tt,nt){var rt=ci();N$2.flags|=et,rt.memoizedState=li(1|_e,tt,void 0,nt===void 0?null:nt)}function ui(et,_e,tt,nt){var rt=di();nt=nt===void 0?null:nt;var it=void 0;if(O$1!==null){var st=O$1.memoizedState;if(it=st.destroy,nt!==null&&Wh(nt,st.deps)){rt.memoizedState=li(_e,tt,it,nt);return}}N$2.flags|=et,rt.memoizedState=li(1|_e,tt,it,nt)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),tt)}function Ai(){}function Bi(et,_e){var tt=di();_e=_e===void 0?null:_e;var nt=tt.memoizedState;return nt!==null&&_e!==null&&Wh(_e,nt[1])?nt[0]:(tt.memoizedState=[et,_e],et)}function Ci(et,_e){var tt=di();_e=_e===void 0?null:_e;var nt=tt.memoizedState;return nt!==null&&_e!==null&&Wh(_e,nt[1])?nt[0]:(et=et(),tt.memoizedState=[et,_e],et)}function Di(et,_e,tt){return(Rh&21)===0?(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=tt):(He(tt,_e)||(tt=yc(),N$2.lanes|=tt,hh|=tt,et.baseState=!0),_e)}function Ei(et,_e){var tt=C$1;C$1=tt!==0&&4>tt?tt:4,et(!0);var nt=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C$1=tt,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(et,_e,tt){var nt=lh(et);if(tt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,tt);else if(tt=Yg(et,_e,tt,nt),tt!==null){var rt=L$2();mh(tt,et,nt,rt),Ji(tt,_e,nt)}}function ri(et,_e,tt){var nt=lh(et),rt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,rt);else{var it=et.alternate;if(et.lanes===0&&(it===null||it.lanes===0)&&(it=_e.lastRenderedReducer,it!==null))try{var st=_e.lastRenderedState,ot=it(st,tt);if(rt.hasEagerState=!0,rt.eagerState=ot,He(ot,st)){var at=_e.interleaved;at===null?(rt.next=rt,Xg(_e)):(rt.next=at.next,at.next=rt),_e.interleaved=rt;return}}catch{}finally{}tt=Yg(et,_e,rt,nt),tt!==null&&(rt=L$2(),mh(tt,et,nt,rt),Ji(tt,_e,nt))}}function Hi(et){var _e=et.alternate;return et===N$2||_e!==null&&_e===N$2}function Ii(et,_e){Th=Sh=!0;var tt=et.pending;tt===null?_e.next=_e:(_e.next=tt.next,tt.next=_e),et.pending=_e}function Ji(et,_e,tt){if((tt&4194240)!==0){var nt=_e.lanes;nt&=et.pendingLanes,tt|=nt,_e.lanes=tt,Cc(et,tt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),tt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var tt=ci();return _e=_e===void 0?null:_e,et=et(),tt.memoizedState=[et,_e],et},useReducer:function(et,_e,tt){var nt=ci();return _e=tt!==void 0?tt(_e):_e,nt.memoizedState=nt.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},nt.queue=et,et=et.dispatch=Gi.bind(null,N$2,et),[nt.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,tt){var nt=N$2,rt=ci();if(I$3){if(tt===void 0)throw Error(p$6(407));tt=tt()}else{if(tt=_e(),R$1===null)throw Error(p$6(349));(Rh&30)!==0||ni(nt,_e,tt)}rt.memoizedState=tt;var it={value:tt,getSnapshot:_e};return rt.queue=it,vi(ki.bind(null,nt,it,et),[et]),nt.flags|=2048,li(9,mi.bind(null,nt,it,tt,_e),void 0,null),tt},useId:function(){var et=ci(),_e=R$1.identifierPrefix;if(I$3){var tt=sg,nt=rg;tt=(nt&~(1<<32-oc(nt)-1)).toString(32)+tt,_e=":"+_e+"R"+tt,tt=Uh++,0<tt&&(_e+="H"+tt.toString(32)),_e+=":"}else tt=Vh++,_e=":"+_e+"r"+tt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$1===null?_e.memoizedState=et:Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var tt="",nt=_e;do tt+=Pa(nt),nt=nt.return;while(nt);var rt=tt}catch(it){rt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:et,source:_e,stack:rt,digest:null}}function Li(et,_e,tt){return{value:et,source:null,stack:tt!=null?tt:null,digest:_e!=null?_e:null}}function Mi(et,_e){try{console.error(_e.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var nt=_e.value;return tt.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(et,_e)},tt}function Ri(et,_e,tt){tt=ch(-1,tt),tt.tag=3;var nt=et.type.getDerivedStateFromError;if(typeof nt=="function"){var rt=_e.value;tt.payload=function(){return nt(rt)},tt.callback=function(){Mi(et,_e)}}var it=et.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Mi(et,_e),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var st=_e.stack;this.componentDidCatch(_e.value,{componentStack:st!==null?st:""})}),tt}function Ti(et,_e,tt){var nt=et.pingCache;if(nt===null){nt=et.pingCache=new Ni;var rt=new Set;nt.set(_e,rt)}else rt=nt.get(_e),rt===void 0&&(rt=new Set,nt.set(_e,rt));rt.has(tt)||(rt.add(tt),et=Ui.bind(null,et,_e,tt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,tt,nt,rt){return(et.mode&1)===0?(et===_e?et.flags|=65536:(et.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(_e=ch(-1,1),_e.tag=2,dh(tt,_e,1))),tt.lanes|=1),et):(et.flags|=65536,et.lanes=rt,et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,tt,nt){_e.child=et===null?Ch(_e,null,tt,nt):Bh(_e,et.child,tt,nt)}function Zi(et,_e,tt,nt,rt){tt=tt.render;var it=_e.ref;return Tg(_e,rt),nt=Xh(et,_e,tt,nt,it,rt),tt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~rt,$i(et,_e,rt)):(I$3&&tt&&vg(_e),_e.flags|=1,Yi(et,_e,nt,rt),_e.child)}function aj(et,_e,tt,nt,rt){if(et===null){var it=tt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(_e.tag=15,_e.type=it,cj(et,_e,it,nt,rt)):(et=yh(tt.type,null,nt,_e,_e.mode,rt),et.ref=_e.ref,et.return=_e,_e.child=et)}if(it=et.child,(et.lanes&rt)===0){var st=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(st,nt)&&et.ref===_e.ref)return $i(et,_e,rt)}return _e.flags|=1,et=wh(it,nt),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,tt,nt,rt){if(et!==null){var it=et.memoizedProps;if(Ie(it,nt)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=nt=it,(et.lanes&rt)!==0)(et.flags&131072)!==0&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,rt)}return dj(et,_e,tt,nt,rt)}function ej(et,_e,tt){var nt=_e.pendingProps,rt=nt.children,it=et!==null?et.memoizedState:null;if(nt.mode==="hidden")if((_e.mode&1)===0)_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if((tt&1073741824)===0)return et=it!==null?it.baseLanes|tt:tt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:tt,G$1(fj,gj),gj|=nt}else it!==null?(nt=it.baseLanes|tt,_e.memoizedState=null):nt=tt,G$1(fj,gj),gj|=nt;return Yi(et,_e,rt,tt),_e.child}function hj(et,_e){var tt=_e.ref;(et===null&&tt!==null||et!==null&&et.ref!==tt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,tt,nt,rt){var it=Zf(tt)?Xf:H$2.current;return it=Yf(_e,it),Tg(_e,rt),tt=Xh(et,_e,tt,nt,it,rt),nt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~rt,$i(et,_e,rt)):(I$3&&nt&&vg(_e),_e.flags|=1,Yi(et,_e,tt,rt),_e.child)}function ij(et,_e,tt,nt,rt){if(Zf(tt)){var it=!0;cg(_e)}else it=!1;if(Tg(_e,rt),_e.stateNode===null)jj(et,_e),ph(_e,tt,nt),rh(_e,tt,nt,rt),nt=!0;else if(et===null){var st=_e.stateNode,ot=_e.memoizedProps;st.props=ot;var at=st.context,lt=tt.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(tt)?Xf:H$2.current,lt=Yf(_e,lt));var ct=tt.getDerivedStateFromProps,ut=typeof ct=="function"||typeof st.getSnapshotBeforeUpdate=="function";ut||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ot!==nt||at!==lt)&&qh(_e,st,nt,lt),$g=!1;var ft=_e.memoizedState;st.state=ft,gh(_e,nt,st,rt),at=_e.memoizedState,ot!==nt||ft!==at||Wf.current||$g?(typeof ct=="function"&&(kh(_e,tt,ct,nt),at=_e.memoizedState),(ot=$g||oh(_e,tt,ot,nt,ft,at,lt))?(ut||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof st.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=nt,_e.memoizedState=at),st.props=nt,st.state=at,st.context=lt,nt=ot):(typeof st.componentDidMount=="function"&&(_e.flags|=4194308),nt=!1)}else{st=_e.stateNode,bh(et,_e),ot=_e.memoizedProps,lt=_e.type===_e.elementType?ot:Lg(_e.type,ot),st.props=lt,ut=_e.pendingProps,ft=st.context,at=tt.contextType,typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(tt)?Xf:H$2.current,at=Yf(_e,at));var ht=tt.getDerivedStateFromProps;(ct=typeof ht=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ot!==ut||ft!==at)&&qh(_e,st,nt,at),$g=!1,ft=_e.memoizedState,st.state=ft,gh(_e,nt,st,rt);var pt=_e.memoizedState;ot!==ut||ft!==pt||Wf.current||$g?(typeof ht=="function"&&(kh(_e,tt,ht,nt),pt=_e.memoizedState),(lt=$g||oh(_e,tt,lt,nt,ft,pt,at)||!1)?(ct||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(nt,pt,at),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(nt,pt,at)),typeof st.componentDidUpdate=="function"&&(_e.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof st.componentDidUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=nt,_e.memoizedState=pt),st.props=nt,st.state=pt,st.context=at,nt=lt):(typeof st.componentDidUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(_e.flags|=1024),nt=!1)}return kj(et,_e,tt,nt,it,rt)}function kj(et,_e,tt,nt,rt,it){hj(et,_e);var st=(_e.flags&128)!==0;if(!nt&&!st)return rt&&dg(_e,tt,!1),$i(et,_e,it);nt=_e.stateNode,Xi.current=_e;var ot=st&&typeof tt.getDerivedStateFromError!="function"?null:nt.render();return _e.flags|=1,et!==null&&st?(_e.child=Bh(_e,et.child,null,it),_e.child=Bh(_e,null,ot,it)):Yi(et,_e,ot,it),_e.memoizedState=nt.state,rt&&dg(_e,tt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,tt,nt,rt){return Ig(),Jg(rt),_e.flags|=256,Yi(et,_e,tt,nt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,tt){var nt=_e.pendingProps,rt=M$2.current,it=!1,st=(_e.flags&128)!==0,ot;if((ot=st)||(ot=et!==null&&et.memoizedState===null?!1:(rt&2)!==0),ot?(it=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(rt|=1),G$1(M$2,rt&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?((_e.mode&1)===0?_e.lanes=1:et.data==="$!"?_e.lanes=8:_e.lanes=1073741824,null):(st=nt.children,et=nt.fallback,it?(nt=_e.mode,it=_e.child,st={mode:"hidden",children:st},(nt&1)===0&&it!==null?(it.childLanes=0,it.pendingProps=st):it=qj(st,nt,0,null),et=Ah(et,nt,tt,null),it.return=_e,et.return=_e,it.sibling=et,_e.child=it,_e.child.memoizedState=oj(tt),_e.memoizedState=nj,et):rj(_e,st));if(rt=et.memoizedState,rt!==null&&(ot=rt.dehydrated,ot!==null))return sj(et,_e,st,nt,ot,rt,tt);if(it){it=nt.fallback,st=_e.mode,rt=et.child,ot=rt.sibling;var at={mode:"hidden",children:nt.children};return(st&1)===0&&_e.child!==rt?(nt=_e.child,nt.childLanes=0,nt.pendingProps=at,_e.deletions=null):(nt=wh(rt,at),nt.subtreeFlags=rt.subtreeFlags&14680064),ot!==null?it=wh(ot,it):(it=Ah(it,st,tt,null),it.flags|=2),it.return=_e,nt.return=_e,nt.sibling=it,_e.child=nt,nt=it,it=_e.child,st=et.child.memoizedState,st=st===null?oj(tt):{baseLanes:st.baseLanes|tt,cachePool:null,transitions:st.transitions},it.memoizedState=st,it.childLanes=et.childLanes&~tt,_e.memoizedState=nj,nt}return it=et.child,et=it.sibling,nt=wh(it,{mode:"visible",children:nt.children}),(_e.mode&1)===0&&(nt.lanes=tt),nt.return=_e,nt.sibling=null,et!==null&&(tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)),_e.child=nt,_e.memoizedState=null,nt}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,tt,nt){return nt!==null&&Jg(nt),Bh(_e,et.child,null,tt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,tt,nt,rt,it,st){if(tt)return _e.flags&256?(_e.flags&=-257,nt=Li(Error(p$6(422))),tj(et,_e,st,nt)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(it=nt.fallback,rt=_e.mode,nt=qj({mode:"visible",children:nt.children},rt,0,null),it=Ah(it,rt,st,null),it.flags|=2,nt.return=_e,it.return=_e,nt.sibling=it,_e.child=nt,(_e.mode&1)!==0&&Bh(_e,et.child,null,st),_e.child.memoizedState=oj(st),_e.memoizedState=nj,it);if((_e.mode&1)===0)return tj(et,_e,st,null);if(rt.data==="$!"){if(nt=rt.nextSibling&&rt.nextSibling.dataset,nt)var ot=nt.dgst;return nt=ot,it=Error(p$6(419)),nt=Li(it,nt,void 0),tj(et,_e,st,nt)}if(ot=(st&et.childLanes)!==0,Ug||ot){if(nt=R$1,nt!==null){switch(st&-st){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=(rt&(nt.suspendedLanes|st))!==0?0:rt,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,Zg(et,rt),mh(nt,et,rt,-1))}return uj(),nt=Li(Error(p$6(421))),tj(et,_e,st,nt)}return rt.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),rt._reactRetry=_e,null):(et=it.treeContext,yg=Lf(rt.nextSibling),xg=_e,I$3=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,nt.children),_e.flags|=4096,_e)}function wj(et,_e,tt){et.lanes|=_e;var nt=et.alternate;nt!==null&&(nt.lanes|=_e),Sg(et.return,_e,tt)}function xj(et,_e,tt,nt,rt){var it=et.memoizedState;it===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:nt,tail:tt,tailMode:rt}:(it.isBackwards=_e,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=tt,it.tailMode=rt)}function yj(et,_e,tt){var nt=_e.pendingProps,rt=nt.revealOrder,it=nt.tail;if(Yi(et,_e,nt.children,tt),nt=M$2.current,(nt&2)!==0)nt=nt&1|2,_e.flags|=128;else{if(et!==null&&(et.flags&128)!==0)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,tt,_e);else if(et.tag===19)wj(et,tt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}nt&=1}if(G$1(M$2,nt),(_e.mode&1)===0)_e.memoizedState=null;else switch(rt){case"forwards":for(tt=_e.child,rt=null;tt!==null;)et=tt.alternate,et!==null&&Mh(et)===null&&(rt=tt),tt=tt.sibling;tt=rt,tt===null?(rt=_e.child,_e.child=null):(rt=tt.sibling,tt.sibling=null),xj(_e,!1,rt,tt,it);break;case"backwards":for(tt=null,rt=_e.child,_e.child=null;rt!==null;){if(et=rt.alternate,et!==null&&Mh(et)===null){_e.child=rt;break}et=rt.sibling,rt.sibling=tt,tt=rt,rt=et}xj(_e,!0,tt,null,it);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){(_e.mode&1)===0&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,tt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,(tt&_e.childLanes)===0)return null;if(et!==null&&_e.child!==et.child)throw Error(p$6(153));if(_e.child!==null){for(et=_e.child,tt=wh(et,et.pendingProps),_e.child=tt,tt.return=_e;et.sibling!==null;)et=et.sibling,tt=tt.sibling=wh(et,et.pendingProps),tt.return=_e;tt.sibling=null}return _e.child}function zj(et,_e,tt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var nt=_e.type._context,rt=_e.memoizedProps.value;G$1(Mg,nt._currentValue),nt._currentValue=rt;break;case 13:if(nt=_e.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(M$2,M$2.current&1),_e.flags|=128,null):(tt&_e.child.childLanes)!==0?pj(et,_e,tt):(G$1(M$2,M$2.current&1),et=$i(et,_e,tt),et!==null?et.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(nt=(tt&_e.childLanes)!==0,(et.flags&128)!==0){if(nt)return yj(et,_e,tt);_e.flags|=128}if(rt=_e.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G$1(M$2,M$2.current),nt)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,tt)}return $i(et,_e,tt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var tt=_e.child;tt!==null;){if(tt.tag===5||tt.tag===6)et.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(et,_e,tt,nt){var rt=et.memoizedProps;if(rt!==nt){et=_e.stateNode,Hh(Eh.current);var it=null;switch(tt){case"input":rt=Ya(et,rt),nt=Ya(et,nt),it=[];break;case"select":rt=A$1({},rt,{value:void 0}),nt=A$1({},nt,{value:void 0}),it=[];break;case"textarea":rt=gb(et,rt),nt=gb(et,nt),it=[];break;default:typeof rt.onClick!="function"&&typeof nt.onClick=="function"&&(et.onclick=Bf)}ub(tt,nt);var st;tt=null;for(lt in rt)if(!nt.hasOwnProperty(lt)&&rt.hasOwnProperty(lt)&&rt[lt]!=null)if(lt==="style"){var ot=rt[lt];for(st in ot)ot.hasOwnProperty(st)&&(tt||(tt={}),tt[st]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?it||(it=[]):(it=it||[]).push(lt,null));for(lt in nt){var at=nt[lt];if(ot=rt!=null?rt[lt]:void 0,nt.hasOwnProperty(lt)&&at!==ot&&(at!=null||ot!=null))if(lt==="style")if(ot){for(st in ot)!ot.hasOwnProperty(st)||at&&at.hasOwnProperty(st)||(tt||(tt={}),tt[st]="");for(st in at)at.hasOwnProperty(st)&&ot[st]!==at[st]&&(tt||(tt={}),tt[st]=at[st])}else tt||(it||(it=[]),it.push(lt,tt)),tt=at;else lt==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,ot=ot?ot.__html:void 0,at!=null&&ot!==at&&(it=it||[]).push(lt,at)):lt==="children"?typeof at!="string"&&typeof at!="number"||(it=it||[]).push(lt,""+at):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(at!=null&&lt==="onScroll"&&D$1("scroll",et),it||ot===at||(it=[])):(it=it||[]).push(lt,at))}tt&&(it=it||[]).push("style",tt);var lt=it;(_e.updateQueue=lt)&&(_e.flags|=4)}};Dj=function(et,_e,tt,nt){tt!==nt&&(_e.flags|=4)};function Ej(et,_e){if(!I$3)switch(et.tailMode){case"hidden":_e=et.tail;for(var tt=null;_e!==null;)_e.alternate!==null&&(tt=_e),_e=_e.sibling;tt===null?et.tail=null:tt.sibling=null;break;case"collapsed":tt=et.tail;for(var nt=null;tt!==null;)tt.alternate!==null&&(nt=tt),tt=tt.sibling;nt===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:nt.sibling=null}}function S$3(et){var _e=et.alternate!==null&&et.alternate.child===et.child,tt=0,nt=0;if(_e)for(var rt=et.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags&14680064,nt|=rt.flags&14680064,rt.return=et,rt=rt.sibling;else for(rt=et.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags,nt|=rt.flags,rt.return=et,rt=rt.sibling;return et.subtreeFlags|=nt,et.childLanes=tt,_e}function Fj(et,_e,tt){var nt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(_e),null;case 1:return Zf(_e.type)&&$f(),S$3(_e),null;case 3:return nt=_e.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&(_e.flags&256)===0||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$3(_e),null;case 5:Lh(_e);var rt=Hh(Gh.current);if(tt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,tt,nt,rt),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!nt){if(_e.stateNode===null)throw Error(p$6(166));return S$3(_e),null}if(et=Hh(Eh.current),Gg(_e)){nt=_e.stateNode,tt=_e.type;var it=_e.memoizedProps;switch(nt[Of]=_e,nt[Pf]=it,et=(_e.mode&1)!==0,tt){case"dialog":D$1("cancel",nt),D$1("close",nt);break;case"iframe":case"object":case"embed":D$1("load",nt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],nt);break;case"source":D$1("error",nt);break;case"img":case"image":case"link":D$1("error",nt),D$1("load",nt);break;case"details":D$1("toggle",nt);break;case"input":Za(nt,it),D$1("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$1("invalid",nt);break;case"textarea":hb(nt,it),D$1("invalid",nt)}ub(tt,it),rt=null;for(var st in it)if(it.hasOwnProperty(st)){var ot=it[st];st==="children"?typeof ot=="string"?nt.textContent!==ot&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,et),rt=["children",ot]):typeof ot=="number"&&nt.textContent!==""+ot&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,et),rt=["children",""+ot]):ea.hasOwnProperty(st)&&ot!=null&&st==="onScroll"&&D$1("scroll",nt)}switch(tt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=rt,_e.updateQueue=nt,nt!==null&&(_e.flags|=4)}else{st=rt.nodeType===9?rt:rt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(tt)),et==="http://www.w3.org/1999/xhtml"?tt==="script"?(et=st.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof nt.is=="string"?et=st.createElement(tt,{is:nt.is}):(et=st.createElement(tt),tt==="select"&&(st=et,nt.multiple?st.multiple=!0:nt.size&&(st.size=nt.size))):et=st.createElementNS(et,tt),et[Of]=_e,et[Pf]=nt,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(st=vb(tt,nt),tt){case"dialog":D$1("cancel",et),D$1("close",et),rt=nt;break;case"iframe":case"object":case"embed":D$1("load",et),rt=nt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],et);rt=nt;break;case"source":D$1("error",et),rt=nt;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),rt=nt;break;case"details":D$1("toggle",et),rt=nt;break;case"input":Za(et,nt),rt=Ya(et,nt),D$1("invalid",et);break;case"option":rt=nt;break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},rt=A$1({},nt,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,nt),rt=gb(et,nt),D$1("invalid",et);break;default:rt=nt}ub(tt,rt),ot=rt;for(it in ot)if(ot.hasOwnProperty(it)){var at=ot[it];it==="style"?sb(et,at):it==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&nb(et,at)):it==="children"?typeof at=="string"?(tt!=="textarea"||at!=="")&&ob(et,at):typeof at=="number"&&ob(et,""+at):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?at!=null&&it==="onScroll"&&D$1("scroll",et):at!=null&&ta(et,it,at,st))}switch(tt){case"input":Va(et),db(et,nt,!1);break;case"textarea":Va(et),jb(et);break;case"option":nt.value!=null&&et.setAttribute("value",""+Sa(nt.value));break;case"select":et.multiple=!!nt.multiple,it=nt.value,it!=null?fb(et,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(et,!!nt.multiple,nt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(et.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$3(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,nt);else{if(typeof nt!="string"&&_e.stateNode===null)throw Error(p$6(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(nt=_e.stateNode,tt=_e.memoizedProps,nt[Of]=_e,(it=nt.nodeValue!==tt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(nt.nodeValue,tt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,tt,(et.mode&1)!==0)}it&&(_e.flags|=4)}else nt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(nt),nt[Of]=_e,_e.stateNode=nt}return S$3(_e),null;case 13:if(E$2(M$2),nt=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&(_e.mode&1)!==0&&(_e.flags&128)===0)Hg(),Ig(),_e.flags|=98560,it=!1;else if(it=Gg(_e),nt!==null&&nt.dehydrated!==null){if(et===null){if(!it)throw Error(p$6(318));if(it=_e.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$6(317));it[Of]=_e}else Ig(),(_e.flags&128)===0&&(_e.memoizedState=null),_e.flags|=4;S$3(_e),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return _e.flags&65536?_e:null}return(_e.flags&128)!==0?(_e.lanes=tt,_e):(nt=nt!==null,nt!==(et!==null&&et.memoizedState!==null)&&nt&&(_e.child.flags|=8192,(_e.mode&1)!==0&&(et===null||(M$2.current&1)!==0?T$2===0&&(T$2=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$3(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$3(_e),null;case 10:return Rg(_e.type._context),S$3(_e),null;case 17:return Zf(_e.type)&&$f(),S$3(_e),null;case 19:if(E$2(M$2),it=_e.memoizedState,it===null)return S$3(_e),null;if(nt=(_e.flags&128)!==0,st=it.rendering,st===null)if(nt)Ej(it,!1);else{if(T$2!==0||et!==null&&(et.flags&128)!==0)for(et=_e.child;et!==null;){if(st=Mh(et),st!==null){for(_e.flags|=128,Ej(it,!1),nt=st.updateQueue,nt!==null&&(_e.updateQueue=nt,_e.flags|=4),_e.subtreeFlags=0,nt=tt,tt=_e.child;tt!==null;)it=tt,et=nt,it.flags&=14680066,st=it.alternate,st===null?(it.childLanes=0,it.lanes=et,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=st.childLanes,it.lanes=st.lanes,it.child=st.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=st.memoizedProps,it.memoizedState=st.memoizedState,it.updateQueue=st.updateQueue,it.type=st.type,et=st.dependencies,it.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),tt=tt.sibling;return G$1(M$2,M$2.current&1|2),_e.child}et=et.sibling}it.tail!==null&&B$1()>Hj&&(_e.flags|=128,nt=!0,Ej(it,!1),_e.lanes=4194304)}else{if(!nt)if(et=Mh(st),et!==null){if(_e.flags|=128,nt=!0,tt=et.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!st.alternate&&!I$3)return S$3(_e),null}else 2*B$1()-it.renderingStartTime>Hj&&tt!==1073741824&&(_e.flags|=128,nt=!0,Ej(it,!1),_e.lanes=4194304);it.isBackwards?(st.sibling=_e.child,_e.child=st):(tt=it.last,tt!==null?tt.sibling=st:_e.child=st,it.last=st)}return it.tail!==null?(_e=it.tail,it.rendering=_e,it.tail=_e.sibling,it.renderingStartTime=B$1(),_e.sibling=null,tt=M$2.current,G$1(M$2,nt?tt&1|2:tt&1),_e):(S$3(_e),null);case 22:case 23:return Ij(),nt=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==nt&&(_e.flags|=8192),nt&&(_e.mode&1)!==0?(gj&1073741824)!==0&&(S$3(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$3(_e),null;case 24:return null;case 25:return null}throw Error(p$6(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),et=_e.flags,(et&65536)!==0&&(et&128)===0?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$2(M$2),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$6(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$3=null;function Mj(et,_e){var tt=et.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(nt){W$1(et,_e,nt)}else tt.current=null}function Nj(et,_e,tt){try{tt()}catch(nt){W$1(et,_e,nt)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me$1(),Ne$1(et)){if("selectionStart"in et)var tt={start:et.selectionStart,end:et.selectionEnd};else e:{tt=(tt=et.ownerDocument)&&tt.defaultView||window;var nt=tt.getSelection&&tt.getSelection();if(nt&&nt.rangeCount!==0){tt=nt.anchorNode;var rt=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var st=0,ot=-1,at=-1,lt=0,ct=0,ut=et,ft=null;t:for(;;){for(var ht;ut!==tt||rt!==0&&ut.nodeType!==3||(ot=st+rt),ut!==it||nt!==0&&ut.nodeType!==3||(at=st+nt),ut.nodeType===3&&(st+=ut.nodeValue.length),(ht=ut.firstChild)!==null;)ft=ut,ut=ht;for(;;){if(ut===et)break t;if(ft===tt&&++lt===rt&&(ot=st),ft===it&&++ct===nt&&(at=st),(ht=ut.nextSibling)!==null)break;ut=ft,ft=ut.parentNode}ut=ht}tt=ot===-1||at===-1?null:{start:ot,end:at}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:et,selectionRange:tt},dd=!1,V$3=_e;V$3!==null;)if(_e=V$3,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$3=et;else for(;V$3!==null;){_e=V$3;try{var pt=_e.alternate;if((_e.flags&1024)!==0)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var gt=pt.memoizedProps,dt=pt.memoizedState,vt=_e.stateNode,xt=vt.getSnapshotBeforeUpdate(_e.elementType===_e.type?gt:Lg(_e.type,gt),dt);vt.__reactInternalSnapshotBeforeUpdate=xt}break;case 3:var _t=_e.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(bt){W$1(_e,_e.return,bt)}if(et=_e.sibling,et!==null){et.return=_e.return,V$3=et;break}V$3=_e.return}return pt=Oj,Oj=!1,pt}function Qj(et,_e,tt){var nt=_e.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var rt=nt=nt.next;do{if((rt.tag&et)===et){var it=rt.destroy;rt.destroy=void 0,it!==void 0&&Nj(_e,tt,it)}rt=rt.next}while(rt!==nt)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&et)===et){var nt=tt.create;tt.destroy=nt()}tt=tt.next}while(tt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var tt=et.stateNode;switch(et.tag){case 5:et=tt;break;default:et=tt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,tt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,_e?tt.nodeType===8?tt.parentNode.insertBefore(et,_e):tt.insertBefore(et,_e):(tt.nodeType===8?(_e=tt.parentNode,_e.insertBefore(et,tt)):(_e=tt,_e.appendChild(et)),tt=tt._reactRootContainer,tt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(nt!==4&&(et=et.child,et!==null))for(Wj(et,_e,tt),et=et.sibling;et!==null;)Wj(et,_e,tt),et=et.sibling}function Xj(et,_e,tt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,_e?tt.insertBefore(et,_e):tt.appendChild(et);else if(nt!==4&&(et=et.child,et!==null))for(Xj(et,_e,tt),et=et.sibling;et!==null;)Xj(et,_e,tt),et=et.sibling}var X=null,Yj=!1;function Zj(et,_e,tt){for(tt=tt.child;tt!==null;)ak(et,_e,tt),tt=tt.sibling}function ak(et,_e,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$2||Mj(tt,_e);case 6:var nt=X,rt=Yj;X=null,Zj(et,_e,tt),X=nt,Yj=rt,X!==null&&(Yj?(et=X,tt=tt.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):X.removeChild(tt.stateNode));break;case 18:X!==null&&(Yj?(et=X,tt=tt.stateNode,et.nodeType===8?Kf(et.parentNode,tt):et.nodeType===1&&Kf(et,tt),bd(et)):Kf(X,tt.stateNode));break;case 4:nt=X,rt=Yj,X=tt.stateNode.containerInfo,Yj=!0,Zj(et,_e,tt),X=nt,Yj=rt;break;case 0:case 11:case 14:case 15:if(!U$2&&(nt=tt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){rt=nt=nt.next;do{var it=rt,st=it.destroy;it=it.tag,st!==void 0&&((it&2)!==0||(it&4)!==0)&&Nj(tt,_e,st),rt=rt.next}while(rt!==nt)}Zj(et,_e,tt);break;case 1:if(!U$2&&(Mj(tt,_e),nt=tt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=tt.memoizedProps,nt.state=tt.memoizedState,nt.componentWillUnmount()}catch(ot){W$1(tt,_e,ot)}Zj(et,_e,tt);break;case 21:Zj(et,_e,tt);break;case 22:tt.mode&1?(U$2=(nt=U$2)||tt.memoizedState!==null,Zj(et,_e,tt),U$2=nt):Zj(et,_e,tt);break;default:Zj(et,_e,tt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var tt=et.stateNode;tt===null&&(tt=et.stateNode=new Lj),_e.forEach(function(nt){var rt=ck.bind(null,et,nt);tt.has(nt)||(tt.add(nt),nt.then(rt,rt))})}}function dk(et,_e){var tt=_e.deletions;if(tt!==null)for(var nt=0;nt<tt.length;nt++){var rt=tt[nt];try{var it=et,st=_e,ot=st;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Yj=!1;break e;case 3:X=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X===null)throw Error(p$6(160));ak(it,st,rt),X=null,Yj=!1;var at=rt.alternate;at!==null&&(at.return=null),rt.return=null}catch(lt){W$1(rt,_e,lt)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var tt=et.alternate,nt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),nt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(gt){W$1(et,et.return,gt)}try{Qj(5,et,et.return)}catch(gt){W$1(et,et.return,gt)}}break;case 1:dk(_e,et),fk(et),nt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(_e,et),fk(et),nt&512&&tt!==null&&Mj(tt,tt.return),et.flags&32){var rt=et.stateNode;try{ob(rt,"")}catch(gt){W$1(et,et.return,gt)}}if(nt&4&&(rt=et.stateNode,rt!=null)){var it=et.memoizedProps,st=tt!==null?tt.memoizedProps:it,ot=et.type,at=et.updateQueue;if(et.updateQueue=null,at!==null)try{ot==="input"&&it.type==="radio"&&it.name!=null&&ab$1(rt,it),vb(ot,st);var lt=vb(ot,it);for(st=0;st<at.length;st+=2){var ct=at[st],ut=at[st+1];ct==="style"?sb(rt,ut):ct==="dangerouslySetInnerHTML"?nb(rt,ut):ct==="children"?ob(rt,ut):ta(rt,ct,ut,lt)}switch(ot){case"input":bb(rt,it);break;case"textarea":ib(rt,it);break;case"select":var ft=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!it.multiple;var ht=it.value;ht!=null?fb(rt,!!it.multiple,ht,!1):ft!==!!it.multiple&&(it.defaultValue!=null?fb(rt,!!it.multiple,it.defaultValue,!0):fb(rt,!!it.multiple,it.multiple?[]:"",!1))}rt[Pf]=it}catch(gt){W$1(et,et.return,gt)}}break;case 6:if(dk(_e,et),fk(et),nt&4){if(et.stateNode===null)throw Error(p$6(162));rt=et.stateNode,it=et.memoizedProps;try{rt.nodeValue=it}catch(gt){W$1(et,et.return,gt)}}break;case 3:if(dk(_e,et),fk(et),nt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(gt){W$1(et,et.return,gt)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),rt=et.child,rt.flags&8192&&(it=rt.memoizedState!==null,rt.stateNode.isHidden=it,!it||rt.alternate!==null&&rt.alternate.memoizedState!==null||(gk=B$1())),nt&4&&bk(et);break;case 22:if(ct=tt!==null&&tt.memoizedState!==null,et.mode&1?(U$2=(lt=U$2)||ct,dk(_e,et),U$2=lt):dk(_e,et),fk(et),nt&8192){if(lt=et.memoizedState!==null,(et.stateNode.isHidden=lt)&&!ct&&(et.mode&1)!==0)for(V$3=et,ct=et.child;ct!==null;){for(ut=V$3=ct;V$3!==null;){switch(ft=V$3,ht=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var pt=ft.stateNode;if(typeof pt.componentWillUnmount=="function"){nt=ft,tt=ft.return;try{_e=nt,pt.props=_e.memoizedProps,pt.state=_e.memoizedState,pt.componentWillUnmount()}catch(gt){W$1(nt,tt,gt)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(ut);continue}}ht!==null?(ht.return=ft,V$3=ht):hk(ut)}ct=ct.sibling}e:for(ct=null,ut=et;;){if(ut.tag===5){if(ct===null){ct=ut;try{rt=ut.stateNode,lt?(it=rt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(ot=ut.stateNode,at=ut.memoizedProps.style,st=at!=null&&at.hasOwnProperty("display")?at.display:null,ot.style.display=rb("display",st))}catch(gt){W$1(et,et.return,gt)}}}else if(ut.tag===6){if(ct===null)try{ut.stateNode.nodeValue=lt?"":ut.memoizedProps}catch(gt){W$1(et,et.return,gt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===et)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===et)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===et)break e;ct===ut&&(ct=null),ut=ut.return}ct===ut&&(ct=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:dk(_e,et),fk(et),nt&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var tt=et.return;tt!==null;){if(Uj(tt)){var nt=tt;break e}tt=tt.return}throw Error(p$6(160))}switch(nt.tag){case 5:var rt=nt.stateNode;nt.flags&32&&(ob(rt,""),nt.flags&=-33);var it=Vj(et);Xj(et,it,rt);break;case 3:case 4:var st=nt.stateNode.containerInfo,ot=Vj(et);Wj(et,ot,st);break;default:throw Error(p$6(161))}}catch(at){W$1(et,et.return,at)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,tt){V$3=et,jk(et)}function jk(et,_e,tt){for(var nt=(et.mode&1)!==0;V$3!==null;){var rt=V$3,it=rt.child;if(rt.tag===22&&nt){var st=rt.memoizedState!==null||Kj;if(!st){var ot=rt.alternate,at=ot!==null&&ot.memoizedState!==null||U$2;ot=Kj;var lt=U$2;if(Kj=st,(U$2=at)&&!lt)for(V$3=rt;V$3!==null;)st=V$3,at=st.child,st.tag===22&&st.memoizedState!==null?kk(rt):at!==null?(at.return=st,V$3=at):kk(rt);for(;it!==null;)V$3=it,jk(it),it=it.sibling;V$3=rt,Kj=ot,U$2=lt}lk(et)}else(rt.subtreeFlags&8772)!==0&&it!==null?(it.return=rt,V$3=it):lk(et)}}function lk(et){for(;V$3!==null;){var _e=V$3;if((_e.flags&8772)!==0){var tt=_e.alternate;try{if((_e.flags&8772)!==0)switch(_e.tag){case 0:case 11:case 15:U$2||Rj(5,_e);break;case 1:var nt=_e.stateNode;if(_e.flags&4&&!U$2)if(tt===null)nt.componentDidMount();else{var rt=_e.elementType===_e.type?tt.memoizedProps:Lg(_e.type,tt.memoizedProps);nt.componentDidUpdate(rt,tt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=_e.updateQueue;it!==null&&ih(_e,it,nt);break;case 3:var st=_e.updateQueue;if(st!==null){if(tt=null,_e.child!==null)switch(_e.child.tag){case 5:tt=_e.child.stateNode;break;case 1:tt=_e.child.stateNode}ih(_e,st,tt)}break;case 5:var ot=_e.stateNode;if(tt===null&&_e.flags&4){tt=ot;var at=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&tt.focus();break;case"img":at.src&&(tt.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var lt=_e.alternate;if(lt!==null){var ct=lt.memoizedState;if(ct!==null){var ut=ct.dehydrated;ut!==null&&bd(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$2||_e.flags&512&&Sj(_e)}catch(ft){W$1(_e,_e.return,ft)}}if(_e===et){V$3=null;break}if(tt=_e.sibling,tt!==null){tt.return=_e.return,V$3=tt;break}V$3=_e.return}}function hk(et){for(;V$3!==null;){var _e=V$3;if(_e===et){V$3=null;break}var tt=_e.sibling;if(tt!==null){tt.return=_e.return,V$3=tt;break}V$3=_e.return}}function kk(et){for(;V$3!==null;){var _e=V$3;try{switch(_e.tag){case 0:case 11:case 15:var tt=_e.return;try{Rj(4,_e)}catch(at){W$1(_e,tt,at)}break;case 1:var nt=_e.stateNode;if(typeof nt.componentDidMount=="function"){var rt=_e.return;try{nt.componentDidMount()}catch(at){W$1(_e,rt,at)}}var it=_e.return;try{Sj(_e)}catch(at){W$1(_e,it,at)}break;case 5:var st=_e.return;try{Sj(_e)}catch(at){W$1(_e,st,at)}}}catch(at){W$1(_e,_e.return,at)}if(_e===et){V$3=null;break}var ot=_e.sibling;if(ot!==null){ot.return=_e.return,V$3=ot;break}V$3=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y$2=null,Z=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return(K&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(et){return(et.mode&1)===0?1:(K&2)!==0&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$1,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et)}function mh(et,_e,tt,nt){if(50<zk)throw zk=0,Ak=null,Error(p$6(185));Ac(et,tt,nt),((K&2)===0||et!==R$1)&&(et===R$1&&((K&2)===0&&(rk|=tt),T$2===4&&Dk(et,Z)),Ek(et,nt),tt===1&&K===0&&(_e.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek(et,_e){var tt=et.callbackNode;wc(et,_e);var nt=uc(et,et===R$1?Z:0);if(nt===0)tt!==null&&bc(tt),et.callbackNode=null,et.callbackPriority=0;else if(_e=nt&-nt,et.callbackPriority!==_e){if(tt!=null&&bc(tt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){(K&6)===0&&jg()}),tt=null;else{switch(Dc(nt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=tt}}function Hk(et,_e){if(Bk=-1,Ck=0,(K&6)!==0)throw Error(p$6(327));var tt=et.callbackNode;if(Ik()&&et.callbackNode!==tt)return null;var nt=uc(et,et===R$1?Z:0);if(nt===0)return null;if((nt&30)!==0||(nt&et.expiredLanes)!==0||_e)_e=Jk(et,nt);else{_e=nt;var rt=K;K|=2;var it=Kk();(R$1!==et||Z!==_e)&&(vk=null,Hj=B$1()+500,Lk(et,_e));do try{Mk();break}catch(ot){Nk(et,ot)}while(1);Qg(),nk.current=it,K=rt,Y$2!==null?_e=0:(R$1=null,Z=0,_e=T$2)}if(_e!==0){if(_e===2&&(rt=xc(et),rt!==0&&(nt=rt,_e=Ok(et,rt))),_e===1)throw tt=qk,Lk(et,0),Dk(et,nt),Ek(et,B$1()),tt;if(_e===6)Dk(et,nt);else{if(rt=et.current.alternate,(nt&30)===0&&!Pk(rt)&&(_e=Jk(et,nt),_e===2&&(it=xc(et),it!==0&&(nt=it,_e=Ok(et,it))),_e===1))throw tt=qk,Lk(et,0),Dk(et,nt),Ek(et,B$1()),tt;switch(et.finishedWork=rt,et.finishedLanes=nt,_e){case 0:case 1:throw Error(p$6(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,nt),(nt&130023424)===nt&&(_e=gk+500-B$1(),10<_e)){if(uc(et,0)!==0)break;if(rt=et.suspendedLanes,(rt&nt)!==nt){L$2(),et.pingedLanes|=et.suspendedLanes&rt;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,nt),(nt&4194240)===nt)break;for(_e=et.eventTimes,rt=-1;0<nt;){var st=31-oc(nt);it=1<<st,st=_e[st],st>rt&&(rt=st),nt&=~it}if(nt=rt,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),nt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$6(329))}}}return Ek(et,B$1()),et.callbackNode===tt?Hk.bind(null,et):null}function Ok(et,_e){var tt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=tt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var tt=_e.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=rt.getSnapshot;rt=rt.value;try{if(!He(it(),rt))return!1}catch{return!1}}}if(tt=_e.child,_e.subtreeFlags&16384&&tt!==null)tt.return=_e,_e=tt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var tt=31-oc(_e),nt=1<<tt;et[tt]=-1,_e&=~nt}}function Fk(et){if((K&6)!==0)throw Error(p$6(327));Ik();var _e=uc(et,0);if((_e&1)===0)return Ek(et,B$1()),null;var tt=Jk(et,_e);if(et.tag!==0&&tt===2){var nt=xc(et);nt!==0&&(_e=nt,tt=Ok(et,nt))}if(tt===1)throw tt=qk,Lk(et,0),Dk(et,_e),Ek(et,B$1()),tt;if(tt===6)throw Error(p$6(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B$1()),null}function Rk(et,_e){var tt=K;K|=1;try{return et(_e)}finally{K=tt,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&(K&6)===0&&Ik();var _e=K;K|=1;var tt=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=1,et)return et()}finally{C$1=nt,pk.transition=tt,K=_e,(K&6)===0&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var tt=et.timeoutHandle;if(tt!==-1&&(et.timeoutHandle=-1,Gf(tt)),Y$2!==null)for(tt=Y$2.return;tt!==null;){var nt=tt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$1=et,Y$2=et=wh(et.current,null),Z=gj=_e,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(tt=Wg[_e],nt=tt.interleaved,nt!==null){tt.interleaved=null;var rt=nt.next,it=tt.pending;if(it!==null){var st=it.next;it.next=rt,nt.next=st}tt.pending=nt}Wg=null}return et}function Nk(et,_e){do{var tt=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$2.memoizedState;nt!==null;){var rt=nt.queue;rt!==null&&(rt.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$1=O$1=N$2=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$2=1,qk=_e,Y$2=null;break}e:{var it=et,st=tt.return,ot=tt,at=_e;if(_e=Z,ot.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var lt=at,ct=ot,ut=ct.tag;if((ct.mode&1)===0&&(ut===0||ut===11||ut===15)){var ft=ct.alternate;ft?(ct.updateQueue=ft.updateQueue,ct.memoizedState=ft.memoizedState,ct.lanes=ft.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var ht=Vi(st);if(ht!==null){ht.flags&=-257,Wi(ht,st,ot,it,_e),ht.mode&1&&Ti(it,lt,_e),_e=ht,at=lt;var pt=_e.updateQueue;if(pt===null){var gt=new Set;gt.add(at),_e.updateQueue=gt}else pt.add(at);break e}else{if((_e&1)===0){Ti(it,lt,_e),uj();break e}at=Error(p$6(426))}}else if(I$3&&ot.mode&1){var dt=Vi(st);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Wi(dt,st,ot,it,_e),Jg(Ki(at,ot));break e}}it=at=Ki(at,ot),T$2!==4&&(T$2=2),tk===null?tk=[it]:tk.push(it),it=st;do{switch(it.tag){case 3:it.flags|=65536,_e&=-_e,it.lanes|=_e;var vt=Oi(it,at,_e);fh(it,vt);break e;case 1:ot=at;var xt=it.type,_t=it.stateNode;if((it.flags&128)===0&&(typeof xt.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(Si===null||!Si.has(_t)))){it.flags|=65536,_e&=-_e,it.lanes|=_e;var bt=Ri(it,ot,_e);fh(it,bt);break e}}it=it.return}while(it!==null)}Tk(tt)}catch(At){_e=At,Y$2===tt&&tt!==null&&(Y$2=tt=tt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$1===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z)}function Jk(et,_e){var tt=K;K|=2;var nt=Kk();(R$1!==et||Z!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(rt){Nk(et,rt)}while(1);if(Qg(),K=tt,nk.current=nt,Y$2!==null)throw Error(p$6(261));return R$1=null,Z=0,T$2}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$1();)Vk(Y$2)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$2=_e,ok.current=null}function Tk(et){var _e=et;do{var tt=_e.alternate;if(et=_e.return,(_e.flags&32768)===0){if(tt=Fj(tt,_e,gj),tt!==null){Y$2=tt;return}}else{if(tt=Jj(tt,_e),tt!==null){tt.flags&=32767,Y$2=tt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$2=6,Y$2=null;return}}if(_e=_e.sibling,_e!==null){Y$2=_e;return}Y$2=_e=et}while(_e!==null);T$2===0&&(T$2=5)}function Qk(et,_e,tt){var nt=C$1,rt=pk.transition;try{pk.transition=null,C$1=1,Xk(et,_e,tt,nt)}finally{pk.transition=rt,C$1=nt}return null}function Xk(et,_e,tt,nt){do Ik();while(xk!==null);if((K&6)!==0)throw Error(p$6(327));tt=et.finishedWork;var rt=et.finishedLanes;if(tt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,tt===et.current)throw Error(p$6(177));et.callbackNode=null,et.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(et,it),et===R$1&&(Y$2=R$1=null,Z=0),(tt.subtreeFlags&2064)===0&&(tt.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(tt.flags&15990)!==0,(tt.subtreeFlags&15990)!==0||it){it=pk.transition,pk.transition=null;var st=C$1;C$1=1;var ot=K;K|=4,ok.current=null,Pj(et,tt),ek(tt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=tt,ik(tt),dc(),K=ot,C$1=st,pk.transition=it}else et.current=tt;if(wk&&(wk=!1,xk=et,yk=rt),it=et.pendingLanes,it===0&&(Si=null),mc(tt.stateNode),Ek(et,B$1()),_e!==null)for(nt=et.onRecoverableError,tt=0;tt<_e.length;tt++)rt=_e[tt],nt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return(yk&1)!==0&&et.tag!==0&&Ik(),it=et.pendingLanes,(it&1)!==0?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,tt=C$1;try{if(pk.transition=null,C$1=16>et?16:et,xk===null)var nt=!1;else{if(et=xk,xk=null,yk=0,(K&6)!==0)throw Error(p$6(331));var rt=K;for(K|=4,V$3=et.current;V$3!==null;){var it=V$3,st=it.child;if((V$3.flags&16)!==0){var ot=it.deletions;if(ot!==null){for(var at=0;at<ot.length;at++){var lt=ot[at];for(V$3=lt;V$3!==null;){var ct=V$3;switch(ct.tag){case 0:case 11:case 15:Qj(8,ct,it)}var ut=ct.child;if(ut!==null)ut.return=ct,V$3=ut;else for(;V$3!==null;){ct=V$3;var ft=ct.sibling,ht=ct.return;if(Tj(ct),ct===lt){V$3=null;break}if(ft!==null){ft.return=ht,V$3=ft;break}V$3=ht}}}var pt=it.alternate;if(pt!==null){var gt=pt.child;if(gt!==null){pt.child=null;do{var dt=gt.sibling;gt.sibling=null,gt=dt}while(gt!==null)}}V$3=it}}if((it.subtreeFlags&2064)!==0&&st!==null)st.return=it,V$3=st;else e:for(;V$3!==null;){if(it=V$3,(it.flags&2048)!==0)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var vt=it.sibling;if(vt!==null){vt.return=it.return,V$3=vt;break e}V$3=it.return}}var xt=et.current;for(V$3=xt;V$3!==null;){st=V$3;var _t=st.child;if((st.subtreeFlags&2064)!==0&&_t!==null)_t.return=st,V$3=_t;else e:for(st=xt;V$3!==null;){if(ot=V$3,(ot.flags&2048)!==0)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(At){W$1(ot,ot.return,At)}if(ot===st){V$3=null;break e}var bt=ot.sibling;if(bt!==null){bt.return=ot.return,V$3=bt;break e}V$3=ot.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}nt=!0}return nt}finally{C$1=tt,pk.transition=_e}}return!1}function Yk(et,_e,tt){_e=Ki(tt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L$2(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$1(et,_e,tt){if(et.tag===3)Yk(et,et,tt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,tt);break}else if(_e.tag===1){var nt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){et=Ki(tt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L$2(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,tt){var nt=et.pingCache;nt!==null&&nt.delete(_e),_e=L$2(),et.pingedLanes|=et.suspendedLanes&tt,R$1===et&&(Z&tt)===tt&&(T$2===4||T$2===3&&(Z&130023424)===Z&&500>B$1()-gk?Lk(et,0):sk|=tt),Ek(et,_e)}function Zk(et,_e){_e===0&&((et.mode&1)===0?_e=1:(_e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var tt=L$2();et=Zg(et,_e),et!==null&&(Ac(et,_e,tt),Ek(et,tt))}function vj(et){var _e=et.memoizedState,tt=0;_e!==null&&(tt=_e.retryLane),Zk(et,tt)}function ck(et,_e){var tt=0;switch(et.tag){case 13:var nt=et.stateNode,rt=et.memoizedState;rt!==null&&(tt=rt.retryLane);break;case 19:nt=et.stateNode;break;default:throw Error(p$6(314))}nt!==null&&nt.delete(_e),Zk(et,tt)}var Wk;Wk=function(et,_e,tt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if((et.lanes&tt)===0&&(_e.flags&128)===0)return Ug=!1,zj(et,_e,tt);Ug=(et.flags&131072)!==0}else Ug=!1,I$3&&(_e.flags&1048576)!==0&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var nt=_e.type;jj(et,_e),et=_e.pendingProps;var rt=Yf(_e,H$2.current);Tg(_e,tt),rt=Xh(null,_e,nt,et,rt,tt);var it=bi();return _e.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(nt)?(it=!0,cg(_e)):it=!1,_e.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,ah(_e),rt.updater=nh,_e.stateNode=rt,rt._reactInternals=_e,rh(_e,nt,et,tt),_e=kj(null,_e,nt,!0,it,tt)):(_e.tag=0,I$3&&it&&vg(_e),Yi(null,_e,rt,tt),_e=_e.child),_e;case 16:nt=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,rt=nt._init,nt=rt(nt._payload),_e.type=nt,rt=_e.tag=$k(nt),et=Lg(nt,et),rt){case 0:_e=dj(null,_e,nt,et,tt);break e;case 1:_e=ij(null,_e,nt,et,tt);break e;case 11:_e=Zi(null,_e,nt,et,tt);break e;case 14:_e=aj(null,_e,nt,Lg(nt.type,et),tt);break e}throw Error(p$6(306,nt,""))}return _e;case 0:return nt=_e.type,rt=_e.pendingProps,rt=_e.elementType===nt?rt:Lg(nt,rt),dj(et,_e,nt,rt,tt);case 1:return nt=_e.type,rt=_e.pendingProps,rt=_e.elementType===nt?rt:Lg(nt,rt),ij(et,_e,nt,rt,tt);case 3:e:{if(lj(_e),et===null)throw Error(p$6(387));nt=_e.pendingProps,it=_e.memoizedState,rt=it.element,bh(et,_e),gh(_e,nt,null,tt);var st=_e.memoizedState;if(nt=st.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},_e.updateQueue.baseState=it,_e.memoizedState=it,_e.flags&256){rt=Ki(Error(p$6(423)),_e),_e=mj(et,_e,nt,tt,rt);break e}else if(nt!==rt){rt=Ki(Error(p$6(424)),_e),_e=mj(et,_e,nt,tt,rt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$3=!0,zg=null,tt=Ch(_e,null,nt,tt),_e.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),nt===rt){_e=$i(et,_e,tt);break e}Yi(et,_e,nt,tt)}_e=_e.child}return _e;case 5:return Kh(_e),et===null&&Eg(_e),nt=_e.type,rt=_e.pendingProps,it=et!==null?et.memoizedProps:null,st=rt.children,Ef(nt,rt)?st=null:it!==null&&Ef(nt,it)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,st,tt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,tt);case 4:return Ih(_e,_e.stateNode.containerInfo),nt=_e.pendingProps,et===null?_e.child=Bh(_e,null,nt,tt):Yi(et,_e,nt,tt),_e.child;case 11:return nt=_e.type,rt=_e.pendingProps,rt=_e.elementType===nt?rt:Lg(nt,rt),Zi(et,_e,nt,rt,tt);case 7:return Yi(et,_e,_e.pendingProps,tt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 10:e:{if(nt=_e.type._context,rt=_e.pendingProps,it=_e.memoizedProps,st=rt.value,G$1(Mg,nt._currentValue),nt._currentValue=st,it!==null)if(He(it.value,st)){if(it.children===rt.children&&!Wf.current){_e=$i(et,_e,tt);break e}}else for(it=_e.child,it!==null&&(it.return=_e);it!==null;){var ot=it.dependencies;if(ot!==null){st=it.child;for(var at=ot.firstContext;at!==null;){if(at.context===nt){if(it.tag===1){at=ch(-1,tt&-tt),at.tag=2;var lt=it.updateQueue;if(lt!==null){lt=lt.shared;var ct=lt.pending;ct===null?at.next=at:(at.next=ct.next,ct.next=at),lt.pending=at}}it.lanes|=tt,at=it.alternate,at!==null&&(at.lanes|=tt),Sg(it.return,tt,_e),ot.lanes|=tt;break}at=at.next}}else if(it.tag===10)st=it.type===_e.type?null:it.child;else if(it.tag===18){if(st=it.return,st===null)throw Error(p$6(341));st.lanes|=tt,ot=st.alternate,ot!==null&&(ot.lanes|=tt),Sg(st,tt,_e),st=it.sibling}else st=it.child;if(st!==null)st.return=it;else for(st=it;st!==null;){if(st===_e){st=null;break}if(it=st.sibling,it!==null){it.return=st.return,st=it;break}st=st.return}it=st}Yi(et,_e,rt.children,tt),_e=_e.child}return _e;case 9:return rt=_e.type,nt=_e.pendingProps.children,Tg(_e,tt),rt=Vg(rt),nt=nt(rt),_e.flags|=1,Yi(et,_e,nt,tt),_e.child;case 14:return nt=_e.type,rt=Lg(nt,_e.pendingProps),rt=Lg(nt.type,rt),aj(et,_e,nt,rt,tt);case 15:return cj(et,_e,_e.type,_e.pendingProps,tt);case 17:return nt=_e.type,rt=_e.pendingProps,rt=_e.elementType===nt?rt:Lg(nt,rt),jj(et,_e),_e.tag=1,Zf(nt)?(et=!0,cg(_e)):et=!1,Tg(_e,tt),ph(_e,nt,rt),rh(_e,nt,rt,tt),kj(null,_e,nt,!0,et,tt);case 19:return yj(et,_e,tt);case 22:return ej(et,_e,tt)}throw Error(p$6(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,tt,nt){this.tag=et,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,tt,nt){return new al(et,_e,tt,nt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var tt=et.alternate;return tt===null?(tt=Bg(et.tag,_e,et.key,et.mode),tt.elementType=et.elementType,tt.type=et.type,tt.stateNode=et.stateNode,tt.alternate=et,et.alternate=tt):(tt.pendingProps=_e,tt.type=et.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=et.flags&14680064,tt.childLanes=et.childLanes,tt.lanes=et.lanes,tt.child=et.child,tt.memoizedProps=et.memoizedProps,tt.memoizedState=et.memoizedState,tt.updateQueue=et.updateQueue,_e=et.dependencies,tt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},tt.sibling=et.sibling,tt.index=et.index,tt.ref=et.ref,tt}function yh(et,_e,tt,nt,rt,it){var st=2;if(nt=et,typeof et=="function")bj(et)&&(st=1);else if(typeof et=="string")st=5;else e:switch(et){case ya:return Ah(tt.children,rt,it,_e);case za:st=8,rt|=8;break;case Aa:return et=Bg(12,tt,_e,rt|2),et.elementType=Aa,et.lanes=it,et;case Ea:return et=Bg(13,tt,_e,rt),et.elementType=Ea,et.lanes=it,et;case Fa:return et=Bg(19,tt,_e,rt),et.elementType=Fa,et.lanes=it,et;case Ia:return qj(tt,rt,it,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,nt=null;break e}throw Error(p$6(130,et==null?et:typeof et,""))}return _e=Bg(st,tt,_e,rt),_e.elementType=et,_e.type=nt,_e.lanes=it,_e}function Ah(et,_e,tt,nt){return et=Bg(7,et,nt,_e),et.lanes=tt,et}function qj(et,_e,tt,nt){return et=Bg(22,et,nt,_e),et.elementType=Ia,et.lanes=tt,et.stateNode={isHidden:!1},et}function xh(et,_e,tt){return et=Bg(6,et,null,_e),et.lanes=tt,et}function zh(et,_e,tt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=tt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,tt,nt,rt){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function cl(et,_e,tt,nt,rt,it,st,ot,at){return et=new bl(et,_e,tt,ot,at),_e===1?(_e=1,it===!0&&(_e|=8)):_e=0,it=Bg(3,null,null,_e),et.current=it,it.stateNode=et,it.memoizedState={element:nt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),et}function dl(et,_e,tt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:et,containerInfo:_e,implementation:tt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$6(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$6(171))}if(et.tag===1){var tt=et.type;if(Zf(tt))return bg(et,tt,_e)}return _e}function fl(et,_e,tt,nt,rt,it,st,ot,at){return et=cl(tt,nt,!0,et,rt,it,st,ot,at),et.context=el(null),tt=et.current,nt=L$2(),rt=lh(tt),it=ch(nt,rt),it.callback=_e!=null?_e:null,dh(tt,it,rt),et.current.lanes=rt,Ac(et,rt,nt),Ek(et,nt),et}function gl(et,_e,tt,nt){var rt=_e.current,it=L$2(),st=lh(rt);return tt=el(tt),_e.context===null?_e.context=tt:_e.pendingContext=tt,_e=ch(it,st),_e.payload={element:et},nt=nt===void 0?null:nt,nt!==null&&(_e.callback=nt),et=dh(rt,_e,st),et!==null&&(mh(et,rt,st,it),eh(et,rt,st)),st}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var tt=et.retryLane;et.retryLane=tt!==0&&tt<_e?tt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$6(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var tt=0;tt<Qc.length&&_e!==0&&_e<Qc[tt].priority;tt++);Qc.splice(tt,0,et),tt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,tt,nt,rt){if(rt){if(typeof nt=="function"){var it=nt;nt=function(){var lt=hl(st);it.call(lt)}}var st=fl(_e,nt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=st,et[uf]=st.current,sf(et.nodeType===8?et.parentNode:et),Sk(),st}for(;rt=et.lastChild;)et.removeChild(rt);if(typeof nt=="function"){var ot=nt;nt=function(){var lt=hl(at);ot.call(lt)}}var at=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=at,et[uf]=at.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,at,tt,nt)}),at}function sl(et,_e,tt,nt,rt){var it=tt._reactRootContainer;if(it){var st=it;if(typeof rt=="function"){var ot=rt;rt=function(){var at=hl(st);ot.call(at)}}gl(_e,st,et,rt)}else st=rl(tt,_e,et,rt,nt);return hl(st)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var tt=tc(_e.pendingLanes);tt!==0&&(Cc(_e,tt|1),Ek(_e,B$1()),(K&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(et,1);if(nt!==null){var rt=L$2();mh(nt,et,1,rt)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var tt=L$2();mh(_e,et,134217728,tt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),tt=Zg(et,_e);if(tt!==null){var nt=L$2();mh(tt,et,_e,nt)}jl(et,_e)}};Hc=function(){return C$1};Ic=function(et,_e){var tt=C$1;try{return C$1=et,_e()}finally{C$1=tt}};yb=function(et,_e,tt){switch(_e){case"input":if(bb(et,tt),_e=tt.name,tt.type==="radio"&&_e!=null){for(tt=et;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<tt.length;_e++){var nt=tt[_e];if(nt!==et&&nt.form===et.form){var rt=Db(nt);if(!rt)throw Error(p$6(90));Wa(nt),bb(nt,rt)}}}break;case"textarea":ib(et,tt);break;case"select":_e=tt.value,_e!=null&&fb(et,!!tt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$6(200));return dl(et,_e,null,tt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$6(299));var tt=!1,nt="",rt=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(nt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(rt=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,tt,!1,nt,rt),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$6(188)):(et=Object.keys(et).join(","),Error(p$6(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,tt){if(!pl(_e))throw Error(p$6(200));return sl(null,et,_e,!0,tt)};reactDom_production_min.hydrateRoot=function(et,_e,tt){if(!ol(et))throw Error(p$6(405));var nt=tt!=null&&tt.hydratedSources||null,rt=!1,it="",st=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(rt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(st=tt.onRecoverableError)),_e=fl(_e,null,et,1,tt!=null?tt:null,rt,!1,it,st),et[uf]=_e.current,sf(et),nt)for(et=0;et<nt.length;et++)tt=nt[et],rt=tt._getVersion,rt=rt(tt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[tt,rt]:_e.mutableSourceEagerHydrationData.push(tt,rt);return new nl(_e)};reactDom_production_min.render=function(et,_e,tt){if(!pl(_e))throw Error(p$6(200));return sl(null,et,_e,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$6(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,tt,nt){if(!pl(tt))throw Error(p$6(200));if(et==null||et._reactInternals===void 0)throw Error(p$6(38));return sl(et,_e,tt,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(et){function _e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_e)}catch(tt){console.error(tt)}}_e(),et.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDom.exports);var createRoot$1,m$5=reactDom.exports;createRoot$1=client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])}return et},_extends$2.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function _e(nt,rt){let{pathname:it,search:st,hash:ot}=nt.location;return createLocation("",{pathname:it,search:st,hash:ot},rt.state&&rt.state.usr||null,rt.state&&rt.state.key||"default")}function tt(nt,rt){return typeof rt=="string"?rt:createPath(rt)}return getUrlBasedHistory(_e,tt,null,et)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et){return{usr:et.state,key:et.key}}function createLocation(et,_e,tt,nt){return tt===void 0&&(tt=null),_extends$2({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:tt,key:_e&&_e.key||nt||createKey()})}function createPath(et){let{pathname:_e="/",search:tt="",hash:nt=""}=et;return tt&&tt!=="?"&&(_e+=tt.charAt(0)==="?"?tt:"?"+tt),nt&&nt!=="#"&&(_e+=nt.charAt(0)==="#"?nt:"#"+nt),_e}function parsePath(et){let _e={};if(et){let tt=et.indexOf("#");tt>=0&&(_e.hash=et.substr(tt),et=et.substr(0,tt));let nt=et.indexOf("?");nt>=0&&(_e.search=et.substr(nt),et=et.substr(0,nt)),et&&(_e.pathname=et)}return _e}function getUrlBasedHistory(et,_e,tt,nt){nt===void 0&&(nt={});let{window:rt=document.defaultView,v5Compat:it=!1}=nt,st=rt.history,ot=Action.Pop,at=null;function lt(){ot=Action.Pop,at&&at({action:ot,location:ft.location})}function ct(ht,pt){ot=Action.Push;let gt=createLocation(ft.location,ht,pt);tt&&tt(gt,ht);let dt=getHistoryState(gt),vt=ft.createHref(gt);try{st.pushState(dt,"",vt)}catch{rt.location.assign(vt)}it&&at&&at({action:ot,location:gt})}function ut(ht,pt){ot=Action.Replace;let gt=createLocation(ft.location,ht,pt);tt&&tt(gt,ht);let dt=getHistoryState(gt),vt=ft.createHref(gt);st.replaceState(dt,"",vt),it&&at&&at({action:ot,location:gt})}let ft={get action(){return ot},get location(){return et(rt,st)},listen(ht){if(at)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,lt),at=ht,()=>{rt.removeEventListener(PopStateEventType,lt),at=null}},createHref(ht){return _e(rt,ht)},push:ct,replace:ut,go(ht){return st.go(ht)}};return ft}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function matchRoutes(et,_e,tt){tt===void 0&&(tt="/");let nt=typeof _e=="string"?parsePath(_e):_e,rt=stripBasename(nt.pathname||"/",tt);if(rt==null)return null;let it=flattenRoutes(et);rankRouteBranches(it);let st=null;for(let ot=0;st==null&&ot<it.length;++ot)st=matchRouteBranch(it[ot],rt);return st}function flattenRoutes(et,_e,tt,nt){return _e===void 0&&(_e=[]),tt===void 0&&(tt=[]),nt===void 0&&(nt=""),et.forEach((rt,it)=>{let st={relativePath:rt.path||"",caseSensitive:rt.caseSensitive===!0,childrenIndex:it,route:rt};st.relativePath.startsWith("/")&&(invariant$1(st.relativePath.startsWith(nt),'Absolute route path "'+st.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),st.relativePath=st.relativePath.slice(nt.length));let ot=joinPaths([nt,st.relativePath]),at=tt.concat(st);rt.children&&rt.children.length>0&&(invariant$1(rt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ot+'".')),flattenRoutes(rt.children,_e,at,ot)),!(rt.path==null&&!rt.index)&&_e.push({path:ot,score:computeScore(ot,rt.index),routesMeta:at})}),_e}function rankRouteBranches(et){et.sort((_e,tt)=>_e.score!==tt.score?tt.score-_e.score:compareIndexes(_e.routesMeta.map(nt=>nt.childrenIndex),tt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,_e){let tt=et.split("/"),nt=tt.length;return tt.some(isSplat)&&(nt+=splatPenalty),_e&&(nt+=indexRouteValue),tt.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(et,_e){return et.length===_e.length&&et.slice(0,-1).every((nt,rt)=>nt===_e[rt])?et[et.length-1]-_e[_e.length-1]:0}function matchRouteBranch(et,_e){let{routesMeta:tt}=et,nt={},rt="/",it=[];for(let st=0;st<tt.length;++st){let ot=tt[st],at=st===tt.length-1,lt=rt==="/"?_e:_e.slice(rt.length)||"/",ct=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:at},lt);if(!ct)return null;Object.assign(nt,ct.params);let ut=ot.route;it.push({params:nt,pathname:joinPaths([rt,ct.pathname]),pathnameBase:normalizePathname(joinPaths([rt,ct.pathnameBase])),route:ut}),ct.pathnameBase!=="/"&&(rt=joinPaths([rt,ct.pathnameBase]))}return it}function matchPath(et,_e){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[tt,nt]=compilePath(et.path,et.caseSensitive,et.end),rt=_e.match(tt);if(!rt)return null;let it=rt[0],st=it.replace(/(.)\/+$/,"$1"),ot=rt.slice(1);return{params:nt.reduce((lt,ct,ut)=>{if(ct==="*"){let ft=ot[ut]||"";st=it.slice(0,it.length-ft.length).replace(/(.)\/+$/,"$1")}return lt[ct]=safelyDecodeURIComponent(ot[ut]||"",ct),lt},{}),pathname:it,pathnameBase:st,pattern:et}}function compilePath(et,_e,tt){_e===void 0&&(_e=!1),tt===void 0&&(tt=!0),warning$1(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let nt=[],rt="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(st,ot)=>(nt.push(ot),"([^\\/]+)"));return et.endsWith("*")?(nt.push("*"),rt+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?rt+="\\/*$":et!==""&&et!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,_e?void 0:"i"),nt]}function safelyDecodeURIComponent(et,_e){try{return decodeURIComponent(et)}catch(tt){return warning$1(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+et+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+tt+").")),et}}function stripBasename(et,_e){if(_e==="/")return et;if(!et.toLowerCase().startsWith(_e.toLowerCase()))return null;let tt=_e.endsWith("/")?_e.length-1:_e.length,nt=et.charAt(tt);return nt&&nt!=="/"?null:et.slice(tt)||"/"}function invariant$1(et,_e){if(et===!1||et===null||typeof et>"u")throw new Error(_e)}function warning$1(et,_e){if(!et){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function resolvePath(et,_e){_e===void 0&&(_e="/");let{pathname:tt,search:nt="",hash:rt=""}=typeof et=="string"?parsePath(et):et;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,_e):_e,search:normalizeSearch(nt),hash:normalizeHash(rt)}}function resolvePathname(et,_e){let tt=_e.replace(/\/+$/,"").split("/");return et.split("/").forEach(rt=>{rt===".."?tt.length>1&&tt.pop():rt!=="."&&tt.push(rt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(et,_e,tt,nt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+tt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function resolveTo(et,_e,tt,nt){nt===void 0&&(nt=!1);let rt;typeof et=="string"?rt=parsePath(et):(rt=_extends$2({},et),invariant$1(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant$1(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant$1(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let it=et===""||rt.pathname==="",st=it?"/":rt.pathname,ot;if(nt||st==null)ot=tt;else{let ut=_e.length-1;if(st.startsWith("..")){let ft=st.split("/");for(;ft[0]==="..";)ft.shift(),ut-=1;rt.pathname=ft.join("/")}ot=ut>=0?_e[ut]:"/"}let at=resolvePath(rt,ot),lt=st&&st!=="/"&&st.endsWith("/"),ct=(it||st===".")&&tt.endsWith("/");return!at.pathname.endsWith("/")&&(lt||ct)&&(at.pathname+="/"),at}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;class ErrorResponse{constructor(_e,tt,nt){this.status=_e,this.statusText=tt||"",this.data=nt}}function isRouteErrorResponse(et){return et instanceof ErrorResponse}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=react.exports,k$4=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$5=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$2(et,_e,tt){var nt,rt={},it=null,st=null;tt!==void 0&&(it=""+tt),_e.key!==void 0&&(it=""+_e.key),_e.ref!==void 0&&(st=_e.ref);for(nt in _e)m$4.call(_e,nt)&&!p$5.hasOwnProperty(nt)&&(rt[nt]=_e[nt]);if(et&&et.defaultProps)for(nt in _e=et.defaultProps,_e)rt[nt]===void 0&&(rt[nt]=_e[nt]);return{$$typeof:k$4,type:et,key:it,ref:st,props:rt,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function(et){et.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])}return et},_extends$1.apply(this,arguments)}function isPolyfill(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}const is$1=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect:useLayoutEffect$4,useDebugValue}=t$5;function useSyncExternalStore$2(et,_e,tt){const nt=_e(),[{inst:rt},it]=useState({inst:{value:nt,getSnapshot:_e}});return useLayoutEffect$4(()=>{rt.value=nt,rt.getSnapshot=_e,checkIfSnapshotChanged(rt)&&it({inst:rt})},[et,nt,_e]),useEffect(()=>(checkIfSnapshotChanged(rt)&&it({inst:rt}),et(()=>{checkIfSnapshotChanged(rt)&&it({inst:rt})})),[et]),useDebugValue(nt),nt}function checkIfSnapshotChanged(et){const _e=et.getSnapshot,tt=et.value;try{const nt=_e();return!is$1(tt,nt)}catch{return!0}}function useSyncExternalStore$1(et,_e,tt){return _e()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in t$5&&(et=>et.useSyncExternalStore)(t$5);const DataStaticRouterContext=react.exports.createContext(null),DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react.exports.createContext(null);function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),react.exports.useContext(LocationContext).location}function getPathContributingMatches(et){return et.filter((_e,tt)=>tt===0||!_e.route.index&&_e.pathnameBase!==et[tt-1].pathnameBase)}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:et,navigator:_e}=react.exports.useContext(NavigationContext),{matches:tt}=react.exports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getPathContributingMatches(tt).map(ot=>ot.pathnameBase)),it=react.exports.useRef(!1);return react.exports.useEffect(()=>{it.current=!0}),react.exports.useCallback(function(ot,at){if(at===void 0&&(at={}),!it.current)return;if(typeof ot=="number"){_e.go(ot);return}let lt=resolveTo(ot,JSON.parse(rt),nt,at.relative==="path");et!=="/"&&(lt.pathname=lt.pathname==="/"?et:joinPaths([et,lt.pathname])),(at.replace?_e.replace:_e.push)(lt,at.state,at)},[et,_e,rt,nt])}function useRoutes(et,_e){useInRouterContext()||invariant$1(!1);let tt=react.exports.useContext(DataRouterStateContext),{matches:nt}=react.exports.useContext(RouteContext),rt=nt[nt.length-1],it=rt?rt.params:{};rt&&rt.pathname;let st=rt?rt.pathnameBase:"/";rt&&rt.route;let ot=useLocation(),at;if(_e){var lt;let pt=typeof _e=="string"?parsePath(_e):_e;st==="/"||((lt=pt.pathname)==null?void 0:lt.startsWith(st))||invariant$1(!1),at=pt}else at=ot;let ct=at.pathname||"/",ut=st==="/"?ct:ct.slice(st.length)||"/",ft=matchRoutes(et,{pathname:ut}),ht=_renderMatches(ft&&ft.map(pt=>Object.assign({},pt,{params:Object.assign({},it,pt.params),pathname:joinPaths([st,pt.pathname]),pathnameBase:pt.pathnameBase==="/"?st:joinPaths([st,pt.pathnameBase])})),nt,tt||void 0);return _e?jsx(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},at),navigationType:Action.Pop},children:ht}):ht}function DefaultErrorElement(){let et=useRouteError(),_e=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),tt=et instanceof Error?et.stack:null,nt="rgba(200,200,200, 0.5)",rt={padding:"0.5rem",backgroundColor:nt},it={padding:"2px 4px",backgroundColor:nt};return jsxs(Fragment,{children:[jsx("h2",{children:"Unhandled Thrown Error!"}),jsx("h3",{style:{fontStyle:"italic"},children:_e}),tt?jsx("pre",{style:rt,children:tt}):null,jsx("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),jsxs("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",jsx("code",{style:it,children:"errorElement"})," props on\xA0",jsx("code",{style:it,children:"<Route>"})]})]})}class RenderErrorBoundary extends react.exports.Component{constructor(_e){super(_e),this.state={location:_e.location,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,tt){return tt.location!==_e.location?{error:_e.error,location:_e.location}:{error:_e.error||tt.error,location:tt.location}}componentDidCatch(_e,tt){console.error("React Router caught the following error during render",_e,tt)}render(){return this.state.error?jsx(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function RenderedRoute(et){let{routeContext:_e,match:tt,children:nt}=et,rt=react.exports.useContext(DataStaticRouterContext);return rt&&tt.route.errorElement&&(rt._deepestRenderedBoundaryId=tt.route.id),jsx(RouteContext.Provider,{value:_e,children:nt})}function _renderMatches(et,_e,tt){if(_e===void 0&&(_e=[]),et==null)if(tt!=null&&tt.errors)et=tt.matches;else return null;let nt=et,rt=tt==null?void 0:tt.errors;if(rt!=null){let it=nt.findIndex(st=>st.route.id&&(rt==null?void 0:rt[st.route.id]));it>=0||invariant$1(!1),nt=nt.slice(0,Math.min(nt.length,it+1))}return nt.reduceRight((it,st,ot)=>{let at=st.route.id?rt==null?void 0:rt[st.route.id]:null,lt=tt?st.route.errorElement||jsx(DefaultErrorElement,{}):null,ct=()=>jsx(RenderedRoute,{match:st,routeContext:{outlet:it,matches:_e.concat(nt.slice(0,ot+1))},children:at?lt:st.route.element!==void 0?st.route.element:it});return tt&&(st.route.errorElement||ot===0)?jsx(RenderErrorBoundary,{location:tt.location,component:lt,error:at,children:ct()}):ct()},null)}var DataRouterHook$1;(function(et){et.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(et){et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(et){let _e=react.exports.useContext(DataRouterStateContext);return _e||invariant$1(!1),_e}function useRouteError(){var et;let _e=react.exports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=react.exports.useContext(RouteContext),rt=nt.matches[nt.matches.length-1];return _e||(nt||invariant$1(!1),rt.route.id||invariant$1(!1),(et=tt.errors)==null?void 0:et[rt.route.id])}function Route(et){invariant$1(!1)}function Router(et){let{basename:_e="/",children:tt=null,location:nt,navigationType:rt=Action.Pop,navigator:it,static:st=!1}=et;useInRouterContext()&&invariant$1(!1);let ot=_e.replace(/^\/*/,"/"),at=react.exports.useMemo(()=>({basename:ot,navigator:it,static:st}),[ot,it,st]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:lt="/",search:ct="",hash:ut="",state:ft=null,key:ht="default"}=nt,pt=react.exports.useMemo(()=>{let gt=stripBasename(lt,ot);return gt==null?null:{pathname:gt,search:ct,hash:ut,state:ft,key:ht}},[ot,lt,ct,ut,ft,ht]);return pt==null?null:jsx(NavigationContext.Provider,{value:at,children:jsx(LocationContext.Provider,{children:tt,value:{location:pt,navigationType:rt}})})}function Routes(et){let{children:_e,location:tt}=et,nt=react.exports.useContext(DataRouterContext),rt=nt&&!_e?nt.router.routes:createRoutesFromChildren(_e);return useRoutes(rt,tt)}var AwaitRenderStatus;(function(et){et[et.pending=0]="pending",et[et.success=1]="success",et[et.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(et,_e){_e===void 0&&(_e=[]);let tt=[];return react.exports.Children.forEach(et,(nt,rt)=>{if(!react.exports.isValidElement(nt))return;if(nt.type===react.exports.Fragment){tt.push.apply(tt,createRoutesFromChildren(nt.props.children,_e));return}nt.type!==Route&&invariant$1(!1),!nt.props.index||!nt.props.children||invariant$1(!1);let it=[..._e,rt],st={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,hasErrorBoundary:nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle};nt.props.children&&(st.children=createRoutesFromChildren(nt.props.children,it)),tt.push(st)}),tt}/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BrowserRouter(et){let{basename:_e,children:tt,window:nt}=et,rt=react.exports.useRef();rt.current==null&&(rt.current=createBrowserHistory({window:nt,v5Compat:!0}));let it=rt.current,[st,ot]=react.exports.useState({action:it.action,location:it.location});return react.exports.useLayoutEffect(()=>it.listen(ot),[it]),jsx(Router,{basename:_e,children:tt,location:st.location,navigationType:st.action,navigator:it})}var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmitImpl="useSubmitImpl",et.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])}return et},_extends.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="145",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(_e,tt){this._listeners===void 0&&(this._listeners={});const nt=this._listeners;nt[_e]===void 0&&(nt[_e]=[]),nt[_e].indexOf(tt)===-1&&nt[_e].push(tt)}hasEventListener(_e,tt){if(this._listeners===void 0)return!1;const nt=this._listeners;return nt[_e]!==void 0&&nt[_e].indexOf(tt)!==-1}removeEventListener(_e,tt){if(this._listeners===void 0)return;const rt=this._listeners[_e];if(rt!==void 0){const it=rt.indexOf(tt);it!==-1&&rt.splice(it,1)}}dispatchEvent(_e){if(this._listeners===void 0)return;const nt=this._listeners[_e.type];if(nt!==void 0){_e.target=this;const rt=nt.slice(0);for(let it=0,st=rt.length;it<st;it++)rt[it].call(this,_e);_e.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const et=Math.random()*4294967295|0,_e=Math.random()*4294967295|0,tt=Math.random()*4294967295|0,nt=Math.random()*4294967295|0;return(_lut$1[et&255]+_lut$1[et>>8&255]+_lut$1[et>>16&255]+_lut$1[et>>24&255]+"-"+_lut$1[_e&255]+_lut$1[_e>>8&255]+"-"+_lut$1[_e>>16&15|64]+_lut$1[_e>>24&255]+"-"+_lut$1[tt&63|128]+_lut$1[tt>>8&255]+"-"+_lut$1[tt>>16&255]+_lut$1[tt>>24&255]+_lut$1[nt&255]+_lut$1[nt>>8&255]+_lut$1[nt>>16&255]+_lut$1[nt>>24&255]).toLowerCase()}function clamp$5(et,_e,tt){return Math.max(_e,Math.min(tt,et))}function euclideanModulo(et,_e){return(et%_e+_e)%_e}function mapLinear(et,_e,tt,nt,rt){return nt+(et-_e)*(rt-nt)/(tt-_e)}function inverseLerp(et,_e,tt){return et!==_e?(tt-et)/(_e-et):0}function lerp(et,_e,tt){return(1-tt)*et+tt*_e}function damp(et,_e,tt,nt){return lerp(et,_e,1-Math.exp(-tt*nt))}function pingpong(et,_e=1){return _e-Math.abs(euclideanModulo(et,_e*2)-_e)}function smoothstep(et,_e,tt){return et<=_e?0:et>=tt?1:(et=(et-_e)/(tt-_e),et*et*(3-2*et))}function smootherstep(et,_e,tt){return et<=_e?0:et>=tt?1:(et=(et-_e)/(tt-_e),et*et*et*(et*(et*6-15)+10))}function randInt(et,_e){return et+Math.floor(Math.random()*(_e-et+1))}function randFloat(et,_e){return et+Math.random()*(_e-et)}function randFloatSpread(et){return et*(.5-Math.random())}function seededRandom(et){et!==void 0&&(_seed=et);let _e=_seed+=1831565813;return _e=Math.imul(_e^_e>>>15,_e|1),_e^=_e+Math.imul(_e^_e>>>7,_e|61),((_e^_e>>>14)>>>0)/4294967296}function degToRad(et){return et*DEG2RAD}function radToDeg(et){return et*RAD2DEG}function isPowerOfTwo(et){return(et&et-1)===0&&et!==0}function ceilPowerOfTwo(et){return Math.pow(2,Math.ceil(Math.log(et)/Math.LN2))}function floorPowerOfTwo(et){return Math.pow(2,Math.floor(Math.log(et)/Math.LN2))}function setQuaternionFromProperEuler(et,_e,tt,nt,rt){const it=Math.cos,st=Math.sin,ot=it(tt/2),at=st(tt/2),lt=it((_e+nt)/2),ct=st((_e+nt)/2),ut=it((_e-nt)/2),ft=st((_e-nt)/2),ht=it((nt-_e)/2),pt=st((nt-_e)/2);switch(rt){case"XYX":et.set(ot*ct,at*ut,at*ft,ot*lt);break;case"YZY":et.set(at*ft,ot*ct,at*ut,ot*lt);break;case"ZXZ":et.set(at*ut,at*ft,ot*ct,ot*lt);break;case"XZX":et.set(ot*ct,at*pt,at*ht,ot*lt);break;case"YXY":et.set(at*ht,ot*ct,at*pt,ot*lt);break;case"ZYZ":et.set(at*pt,at*ht,ot*ct,ot*lt);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+rt)}}function denormalize(et,_e){switch(_e.constructor){case Float32Array:return et;case Uint16Array:return et/65535;case Uint8Array:return et/255;case Int16Array:return Math.max(et/32767,-1);case Int8Array:return Math.max(et/127,-1);default:throw new Error("Invalid component type.")}}function normalize$5(et,_e){switch(_e.constructor){case Float32Array:return et;case Uint16Array:return Math.round(et*65535);case Uint8Array:return Math.round(et*255);case Int16Array:return Math.round(et*32767);case Int8Array:return Math.round(et*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp:clamp$5,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$5,denormalize});class Vector2{constructor(_e=0,tt=0){Vector2.prototype.isVector2=!0,this.x=_e,this.y=tt}get width(){return this.x}set width(_e){this.x=_e}get height(){return this.y}set height(_e){this.y=_e}set(_e,tt){return this.x=_e,this.y=tt,this}setScalar(_e){return this.x=_e,this.y=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setComponent(_e,tt){switch(_e){case 0:this.x=tt;break;case 1:this.y=tt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y)}copy(_e){return this.x=_e.x,this.y=_e.y,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this}addScalar(_e){return this.x+=_e,this.y+=_e,this}addVectors(_e,tt){return this.x=_e.x+tt.x,this.y=_e.y+tt.y,this}addScaledVector(_e,tt){return this.x+=_e.x*tt,this.y+=_e.y*tt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this}subScalar(_e){return this.x-=_e,this.y-=_e,this}subVectors(_e,tt){return this.x=_e.x-tt.x,this.y=_e.y-tt.y,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this}divide(_e){return this.x/=_e.x,this.y/=_e.y,this}divideScalar(_e){return this.multiplyScalar(1/_e)}applyMatrix3(_e){const tt=this.x,nt=this.y,rt=_e.elements;return this.x=rt[0]*tt+rt[3]*nt+rt[6],this.y=rt[1]*tt+rt[4]*nt+rt[7],this}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this}clamp(_e,tt){return this.x=Math.max(_e.x,Math.min(tt.x,this.x)),this.y=Math.max(_e.y,Math.min(tt.y,this.y)),this}clampScalar(_e,tt){return this.x=Math.max(_e,Math.min(tt,this.x)),this.y=Math.max(_e,Math.min(tt,this.y)),this}clampLength(_e,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(_e,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(_e){return this.x*_e.x+this.y*_e.y}cross(_e){return this.x*_e.y-this.y*_e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(_e){return Math.sqrt(this.distanceToSquared(_e))}distanceToSquared(_e){const tt=this.x-_e.x,nt=this.y-_e.y;return tt*tt+nt*nt}manhattanDistanceTo(_e){return Math.abs(this.x-_e.x)+Math.abs(this.y-_e.y)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,tt){return this.x+=(_e.x-this.x)*tt,this.y+=(_e.y-this.y)*tt,this}lerpVectors(_e,tt,nt){return this.x=_e.x+(tt.x-_e.x)*nt,this.y=_e.y+(tt.y-_e.y)*nt,this}equals(_e){return _e.x===this.x&&_e.y===this.y}fromArray(_e,tt=0){return this.x=_e[tt],this.y=_e[tt+1],this}toArray(_e=[],tt=0){return _e[tt]=this.x,_e[tt+1]=this.y,_e}fromBufferAttribute(_e,tt){return this.x=_e.getX(tt),this.y=_e.getY(tt),this}rotateAround(_e,tt){const nt=Math.cos(tt),rt=Math.sin(tt),it=this.x-_e.x,st=this.y-_e.y;return this.x=it*nt-st*rt+_e.x,this.y=it*rt+st*nt+_e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(_e,tt,nt,rt,it,st,ot,at,lt){const ct=this.elements;return ct[0]=_e,ct[1]=rt,ct[2]=ot,ct[3]=tt,ct[4]=it,ct[5]=at,ct[6]=nt,ct[7]=st,ct[8]=lt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(_e){const tt=this.elements,nt=_e.elements;return tt[0]=nt[0],tt[1]=nt[1],tt[2]=nt[2],tt[3]=nt[3],tt[4]=nt[4],tt[5]=nt[5],tt[6]=nt[6],tt[7]=nt[7],tt[8]=nt[8],this}extractBasis(_e,tt,nt){return _e.setFromMatrix3Column(this,0),tt.setFromMatrix3Column(this,1),nt.setFromMatrix3Column(this,2),this}setFromMatrix4(_e){const tt=_e.elements;return this.set(tt[0],tt[4],tt[8],tt[1],tt[5],tt[9],tt[2],tt[6],tt[10]),this}multiply(_e){return this.multiplyMatrices(this,_e)}premultiply(_e){return this.multiplyMatrices(_e,this)}multiplyMatrices(_e,tt){const nt=_e.elements,rt=tt.elements,it=this.elements,st=nt[0],ot=nt[3],at=nt[6],lt=nt[1],ct=nt[4],ut=nt[7],ft=nt[2],ht=nt[5],pt=nt[8],gt=rt[0],dt=rt[3],vt=rt[6],xt=rt[1],_t=rt[4],bt=rt[7],At=rt[2],Mt=rt[5],Tt=rt[8];return it[0]=st*gt+ot*xt+at*At,it[3]=st*dt+ot*_t+at*Mt,it[6]=st*vt+ot*bt+at*Tt,it[1]=lt*gt+ct*xt+ut*At,it[4]=lt*dt+ct*_t+ut*Mt,it[7]=lt*vt+ct*bt+ut*Tt,it[2]=ft*gt+ht*xt+pt*At,it[5]=ft*dt+ht*_t+pt*Mt,it[8]=ft*vt+ht*bt+pt*Tt,this}multiplyScalar(_e){const tt=this.elements;return tt[0]*=_e,tt[3]*=_e,tt[6]*=_e,tt[1]*=_e,tt[4]*=_e,tt[7]*=_e,tt[2]*=_e,tt[5]*=_e,tt[8]*=_e,this}determinant(){const _e=this.elements,tt=_e[0],nt=_e[1],rt=_e[2],it=_e[3],st=_e[4],ot=_e[5],at=_e[6],lt=_e[7],ct=_e[8];return tt*st*ct-tt*ot*lt-nt*it*ct+nt*ot*at+rt*it*lt-rt*st*at}invert(){const _e=this.elements,tt=_e[0],nt=_e[1],rt=_e[2],it=_e[3],st=_e[4],ot=_e[5],at=_e[6],lt=_e[7],ct=_e[8],ut=ct*st-ot*lt,ft=ot*at-ct*it,ht=lt*it-st*at,pt=tt*ut+nt*ft+rt*ht;if(pt===0)return this.set(0,0,0,0,0,0,0,0,0);const gt=1/pt;return _e[0]=ut*gt,_e[1]=(rt*lt-ct*nt)*gt,_e[2]=(ot*nt-rt*st)*gt,_e[3]=ft*gt,_e[4]=(ct*tt-rt*at)*gt,_e[5]=(rt*it-ot*tt)*gt,_e[6]=ht*gt,_e[7]=(nt*at-lt*tt)*gt,_e[8]=(st*tt-nt*it)*gt,this}transpose(){let _e;const tt=this.elements;return _e=tt[1],tt[1]=tt[3],tt[3]=_e,_e=tt[2],tt[2]=tt[6],tt[6]=_e,_e=tt[5],tt[5]=tt[7],tt[7]=_e,this}getNormalMatrix(_e){return this.setFromMatrix4(_e).invert().transpose()}transposeIntoArray(_e){const tt=this.elements;return _e[0]=tt[0],_e[1]=tt[3],_e[2]=tt[6],_e[3]=tt[1],_e[4]=tt[4],_e[5]=tt[7],_e[6]=tt[2],_e[7]=tt[5],_e[8]=tt[8],this}setUvTransform(_e,tt,nt,rt,it,st,ot){const at=Math.cos(it),lt=Math.sin(it);return this.set(nt*at,nt*lt,-nt*(at*st+lt*ot)+st+_e,-rt*lt,rt*at,-rt*(-lt*st+at*ot)+ot+tt,0,0,1),this}scale(_e,tt){const nt=this.elements;return nt[0]*=_e,nt[3]*=_e,nt[6]*=_e,nt[1]*=tt,nt[4]*=tt,nt[7]*=tt,this}rotate(_e){const tt=Math.cos(_e),nt=Math.sin(_e),rt=this.elements,it=rt[0],st=rt[3],ot=rt[6],at=rt[1],lt=rt[4],ct=rt[7];return rt[0]=tt*it+nt*at,rt[3]=tt*st+nt*lt,rt[6]=tt*ot+nt*ct,rt[1]=-nt*it+tt*at,rt[4]=-nt*st+tt*lt,rt[7]=-nt*ot+tt*ct,this}translate(_e,tt){const nt=this.elements;return nt[0]+=_e*nt[2],nt[3]+=_e*nt[5],nt[6]+=_e*nt[8],nt[1]+=tt*nt[2],nt[4]+=tt*nt[5],nt[7]+=tt*nt[8],this}equals(_e){const tt=this.elements,nt=_e.elements;for(let rt=0;rt<9;rt++)if(tt[rt]!==nt[rt])return!1;return!0}fromArray(_e,tt=0){for(let nt=0;nt<9;nt++)this.elements[nt]=_e[nt+tt];return this}toArray(_e=[],tt=0){const nt=this.elements;return _e[tt]=nt[0],_e[tt+1]=nt[1],_e[tt+2]=nt[2],_e[tt+3]=nt[3],_e[tt+4]=nt[4],_e[tt+5]=nt[5],_e[tt+6]=nt[6],_e[tt+7]=nt[7],_e[tt+8]=nt[8],_e}clone(){return new this.constructor().fromArray(this.elements)}}function arrayNeedsUint32(et){for(let _e=et.length-1;_e>=0;--_e)if(et[_e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(et,_e){return new TYPED_ARRAYS[et](_e)}function createElementNS(et){return document.createElementNS("http://www.w3.org/1999/xhtml",et)}function SRGBToLinear(et){return et<.04045?et*.0773993808:Math.pow(et*.9478672986+.0521327014,2.4)}function LinearToSRGB(et){return et<.0031308?et*12.92:1.055*Math.pow(et,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(et){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(et,_e,tt){if(this.legacyMode||_e===tt||!_e||!tt)return et;if(FN[_e]&&FN[_e][tt]!==void 0){const nt=FN[_e][tt];return et.r=nt(et.r),et.g=nt(et.g),et.b=nt(et.b),et}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(et,_e){return this.convert(et,this.workingColorSpace,_e)},toWorkingColorSpace:function(et,_e){return this.convert(et,_e,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(et,_e,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(_e-et)*6*tt:tt<1/2?_e:tt<2/3?et+(_e-et)*6*(2/3-tt):et}function toComponents(et,_e){return _e.r=et.r,_e.g=et.g,_e.b=et.b,_e}class Color$2{constructor(_e,tt,nt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,tt===void 0&&nt===void 0?this.set(_e):this.setRGB(_e,tt,nt)}set(_e){return _e&&_e.isColor?this.copy(_e):typeof _e=="number"?this.setHex(_e):typeof _e=="string"&&this.setStyle(_e),this}setScalar(_e){return this.r=_e,this.g=_e,this.b=_e,this}setHex(_e,tt=SRGBColorSpace){return _e=Math.floor(_e),this.r=(_e>>16&255)/255,this.g=(_e>>8&255)/255,this.b=(_e&255)/255,ColorManagement.toWorkingColorSpace(this,tt),this}setRGB(_e,tt,nt,rt=LinearSRGBColorSpace){return this.r=_e,this.g=tt,this.b=nt,ColorManagement.toWorkingColorSpace(this,rt),this}setHSL(_e,tt,nt,rt=LinearSRGBColorSpace){if(_e=euclideanModulo(_e,1),tt=clamp$5(tt,0,1),nt=clamp$5(nt,0,1),tt===0)this.r=this.g=this.b=nt;else{const it=nt<=.5?nt*(1+tt):nt+tt-nt*tt,st=2*nt-it;this.r=hue2rgb(st,it,_e+1/3),this.g=hue2rgb(st,it,_e),this.b=hue2rgb(st,it,_e-1/3)}return ColorManagement.toWorkingColorSpace(this,rt),this}setStyle(_e,tt=SRGBColorSpace){function nt(it){it!==void 0&&parseFloat(it)<1&&console.warn("THREE.Color: Alpha component of "+_e+" will be ignored.")}let rt;if(rt=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(_e)){let it;const st=rt[1],ot=rt[2];switch(st){case"rgb":case"rgba":if(it=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return this.r=Math.min(255,parseInt(it[1],10))/255,this.g=Math.min(255,parseInt(it[2],10))/255,this.b=Math.min(255,parseInt(it[3],10))/255,ColorManagement.toWorkingColorSpace(this,tt),nt(it[4]),this;if(it=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return this.r=Math.min(100,parseInt(it[1],10))/100,this.g=Math.min(100,parseInt(it[2],10))/100,this.b=Math.min(100,parseInt(it[3],10))/100,ColorManagement.toWorkingColorSpace(this,tt),nt(it[4]),this;break;case"hsl":case"hsla":if(it=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot)){const at=parseFloat(it[1])/360,lt=parseFloat(it[2])/100,ct=parseFloat(it[3])/100;return nt(it[4]),this.setHSL(at,lt,ct,tt)}break}}else if(rt=/^\#([A-Fa-f\d]+)$/.exec(_e)){const it=rt[1],st=it.length;if(st===3)return this.r=parseInt(it.charAt(0)+it.charAt(0),16)/255,this.g=parseInt(it.charAt(1)+it.charAt(1),16)/255,this.b=parseInt(it.charAt(2)+it.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,tt),this;if(st===6)return this.r=parseInt(it.charAt(0)+it.charAt(1),16)/255,this.g=parseInt(it.charAt(2)+it.charAt(3),16)/255,this.b=parseInt(it.charAt(4)+it.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,tt),this}return _e&&_e.length>0?this.setColorName(_e,tt):this}setColorName(_e,tt=SRGBColorSpace){const nt=_colorKeywords[_e.toLowerCase()];return nt!==void 0?this.setHex(nt,tt):console.warn("THREE.Color: Unknown color "+_e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(_e){return this.r=_e.r,this.g=_e.g,this.b=_e.b,this}copySRGBToLinear(_e){return this.r=SRGBToLinear(_e.r),this.g=SRGBToLinear(_e.g),this.b=SRGBToLinear(_e.b),this}copyLinearToSRGB(_e){return this.r=LinearToSRGB(_e.r),this.g=LinearToSRGB(_e.g),this.b=LinearToSRGB(_e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(_e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),_e),clamp$5(_rgb.r*255,0,255)<<16^clamp$5(_rgb.g*255,0,255)<<8^clamp$5(_rgb.b*255,0,255)<<0}getHexString(_e=SRGBColorSpace){return("000000"+this.getHex(_e).toString(16)).slice(-6)}getHSL(_e,tt=LinearSRGBColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),tt);const nt=_rgb.r,rt=_rgb.g,it=_rgb.b,st=Math.max(nt,rt,it),ot=Math.min(nt,rt,it);let at,lt;const ct=(ot+st)/2;if(ot===st)at=0,lt=0;else{const ut=st-ot;switch(lt=ct<=.5?ut/(st+ot):ut/(2-st-ot),st){case nt:at=(rt-it)/ut+(rt<it?6:0);break;case rt:at=(it-nt)/ut+2;break;case it:at=(nt-rt)/ut+4;break}at/=6}return _e.h=at,_e.s=lt,_e.l=ct,_e}getRGB(_e,tt=LinearSRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),tt),_e.r=_rgb.r,_e.g=_rgb.g,_e.b=_rgb.b,_e}getStyle(_e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),_e),_e!==SRGBColorSpace?`color(${_e} ${_rgb.r} ${_rgb.g} ${_rgb.b})`:`rgb(${_rgb.r*255|0},${_rgb.g*255|0},${_rgb.b*255|0})`}offsetHSL(_e,tt,nt){return this.getHSL(_hslA),_hslA.h+=_e,_hslA.s+=tt,_hslA.l+=nt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(_e){return this.r+=_e.r,this.g+=_e.g,this.b+=_e.b,this}addColors(_e,tt){return this.r=_e.r+tt.r,this.g=_e.g+tt.g,this.b=_e.b+tt.b,this}addScalar(_e){return this.r+=_e,this.g+=_e,this.b+=_e,this}sub(_e){return this.r=Math.max(0,this.r-_e.r),this.g=Math.max(0,this.g-_e.g),this.b=Math.max(0,this.b-_e.b),this}multiply(_e){return this.r*=_e.r,this.g*=_e.g,this.b*=_e.b,this}multiplyScalar(_e){return this.r*=_e,this.g*=_e,this.b*=_e,this}lerp(_e,tt){return this.r+=(_e.r-this.r)*tt,this.g+=(_e.g-this.g)*tt,this.b+=(_e.b-this.b)*tt,this}lerpColors(_e,tt,nt){return this.r=_e.r+(tt.r-_e.r)*nt,this.g=_e.g+(tt.g-_e.g)*nt,this.b=_e.b+(tt.b-_e.b)*nt,this}lerpHSL(_e,tt){this.getHSL(_hslA),_e.getHSL(_hslB);const nt=lerp(_hslA.h,_hslB.h,tt),rt=lerp(_hslA.s,_hslB.s,tt),it=lerp(_hslA.l,_hslB.l,tt);return this.setHSL(nt,rt,it),this}equals(_e){return _e.r===this.r&&_e.g===this.g&&_e.b===this.b}fromArray(_e,tt=0){return this.r=_e[tt],this.g=_e[tt+1],this.b=_e[tt+2],this}toArray(_e=[],tt=0){return _e[tt]=this.r,_e[tt+1]=this.g,_e[tt+2]=this.b,_e}fromBufferAttribute(_e,tt){return this.r=_e.getX(tt),this.g=_e.getY(tt),this.b=_e.getZ(tt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color$2.NAMES=_colorKeywords;let _canvas;class ImageUtils{static getDataURL(_e){if(/^data:/i.test(_e.src)||typeof HTMLCanvasElement>"u")return _e.src;let tt;if(_e instanceof HTMLCanvasElement)tt=_e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=_e.width,_canvas.height=_e.height;const nt=_canvas.getContext("2d");_e instanceof ImageData?nt.putImageData(_e,0,0):nt.drawImage(_e,0,0,_e.width,_e.height),tt=_canvas}return tt.width>2048||tt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",_e),tt.toDataURL("image/jpeg",.6)):tt.toDataURL("image/png")}static sRGBToLinear(_e){if(typeof HTMLImageElement<"u"&&_e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_e instanceof ImageBitmap){const tt=createElementNS("canvas");tt.width=_e.width,tt.height=_e.height;const nt=tt.getContext("2d");nt.drawImage(_e,0,0,_e.width,_e.height);const rt=nt.getImageData(0,0,_e.width,_e.height),it=rt.data;for(let st=0;st<it.length;st++)it[st]=SRGBToLinear(it[st]/255)*255;return nt.putImageData(rt,0,0),tt}else if(_e.data){const tt=_e.data.slice(0);for(let nt=0;nt<tt.length;nt++)tt instanceof Uint8Array||tt instanceof Uint8ClampedArray?tt[nt]=Math.floor(SRGBToLinear(tt[nt]/255)*255):tt[nt]=SRGBToLinear(tt[nt]);return{data:tt,width:_e.width,height:_e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),_e}}class Source{constructor(_e=null){this.isSource=!0,this.uuid=generateUUID$1(),this.data=_e,this.version=0}set needsUpdate(_e){_e===!0&&this.version++}toJSON(_e){const tt=_e===void 0||typeof _e=="string";if(!tt&&_e.images[this.uuid]!==void 0)return _e.images[this.uuid];const nt={uuid:this.uuid,url:""},rt=this.data;if(rt!==null){let it;if(Array.isArray(rt)){it=[];for(let st=0,ot=rt.length;st<ot;st++)rt[st].isDataTexture?it.push(serializeImage(rt[st].image)):it.push(serializeImage(rt[st]))}else it=serializeImage(rt);nt.url=it}return tt||(_e.images[this.uuid]=nt),nt}}function serializeImage(et){return typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&et instanceof ImageBitmap?ImageUtils.getDataURL(et):et.data?{data:Array.from(et.data),width:et.width,height:et.height,type:et.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(_e=Texture.DEFAULT_IMAGE,tt=Texture.DEFAULT_MAPPING,nt=ClampToEdgeWrapping,rt=ClampToEdgeWrapping,it=LinearFilter,st=LinearMipmapLinearFilter,ot=RGBAFormat,at=UnsignedByteType,lt=1,ct=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(_e),this.mipmaps=[],this.mapping=tt,this.wrapS=nt,this.wrapT=rt,this.magFilter=it,this.minFilter=st,this.anisotropy=lt,this.format=ot,this.internalFormat=null,this.type=at,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ct,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(_e){this.source.data=_e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(_e){return this.name=_e.name,this.source=_e.source,this.mipmaps=_e.mipmaps.slice(0),this.mapping=_e.mapping,this.wrapS=_e.wrapS,this.wrapT=_e.wrapT,this.magFilter=_e.magFilter,this.minFilter=_e.minFilter,this.anisotropy=_e.anisotropy,this.format=_e.format,this.internalFormat=_e.internalFormat,this.type=_e.type,this.offset.copy(_e.offset),this.repeat.copy(_e.repeat),this.center.copy(_e.center),this.rotation=_e.rotation,this.matrixAutoUpdate=_e.matrixAutoUpdate,this.matrix.copy(_e.matrix),this.generateMipmaps=_e.generateMipmaps,this.premultiplyAlpha=_e.premultiplyAlpha,this.flipY=_e.flipY,this.unpackAlignment=_e.unpackAlignment,this.encoding=_e.encoding,this.userData=JSON.parse(JSON.stringify(_e.userData)),this.needsUpdate=!0,this}toJSON(_e){const tt=_e===void 0||typeof _e=="string";if(!tt&&_e.textures[this.uuid]!==void 0)return _e.textures[this.uuid];const nt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(_e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(nt.userData=this.userData),tt||(_e.textures[this.uuid]=nt),nt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(_e){if(this.mapping!==UVMapping)return _e;if(_e.applyMatrix3(this.matrix),_e.x<0||_e.x>1)switch(this.wrapS){case RepeatWrapping:_e.x=_e.x-Math.floor(_e.x);break;case ClampToEdgeWrapping:_e.x=_e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_e.x)%2)===1?_e.x=Math.ceil(_e.x)-_e.x:_e.x=_e.x-Math.floor(_e.x);break}if(_e.y<0||_e.y>1)switch(this.wrapT){case RepeatWrapping:_e.y=_e.y-Math.floor(_e.y);break;case ClampToEdgeWrapping:_e.y=_e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_e.y)%2)===1?_e.y=Math.ceil(_e.y)-_e.y:_e.y=_e.y-Math.floor(_e.y);break}return this.flipY&&(_e.y=1-_e.y),_e}set needsUpdate(_e){_e===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;class Vector4{constructor(_e=0,tt=0,nt=0,rt=1){Vector4.prototype.isVector4=!0,this.x=_e,this.y=tt,this.z=nt,this.w=rt}get width(){return this.z}set width(_e){this.z=_e}get height(){return this.w}set height(_e){this.w=_e}set(_e,tt,nt,rt){return this.x=_e,this.y=tt,this.z=nt,this.w=rt,this}setScalar(_e){return this.x=_e,this.y=_e,this.z=_e,this.w=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setZ(_e){return this.z=_e,this}setW(_e){return this.w=_e,this}setComponent(_e,tt){switch(_e){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;case 3:this.w=tt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(_e){return this.x=_e.x,this.y=_e.y,this.z=_e.z,this.w=_e.w!==void 0?_e.w:1,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this.z+=_e.z,this.w+=_e.w,this}addScalar(_e){return this.x+=_e,this.y+=_e,this.z+=_e,this.w+=_e,this}addVectors(_e,tt){return this.x=_e.x+tt.x,this.y=_e.y+tt.y,this.z=_e.z+tt.z,this.w=_e.w+tt.w,this}addScaledVector(_e,tt){return this.x+=_e.x*tt,this.y+=_e.y*tt,this.z+=_e.z*tt,this.w+=_e.w*tt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this.z-=_e.z,this.w-=_e.w,this}subScalar(_e){return this.x-=_e,this.y-=_e,this.z-=_e,this.w-=_e,this}subVectors(_e,tt){return this.x=_e.x-tt.x,this.y=_e.y-tt.y,this.z=_e.z-tt.z,this.w=_e.w-tt.w,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this.z*=_e.z,this.w*=_e.w,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this.z*=_e,this.w*=_e,this}applyMatrix4(_e){const tt=this.x,nt=this.y,rt=this.z,it=this.w,st=_e.elements;return this.x=st[0]*tt+st[4]*nt+st[8]*rt+st[12]*it,this.y=st[1]*tt+st[5]*nt+st[9]*rt+st[13]*it,this.z=st[2]*tt+st[6]*nt+st[10]*rt+st[14]*it,this.w=st[3]*tt+st[7]*nt+st[11]*rt+st[15]*it,this}divideScalar(_e){return this.multiplyScalar(1/_e)}setAxisAngleFromQuaternion(_e){this.w=2*Math.acos(_e.w);const tt=Math.sqrt(1-_e.w*_e.w);return tt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=_e.x/tt,this.y=_e.y/tt,this.z=_e.z/tt),this}setAxisAngleFromRotationMatrix(_e){let tt,nt,rt,it;const at=_e.elements,lt=at[0],ct=at[4],ut=at[8],ft=at[1],ht=at[5],pt=at[9],gt=at[2],dt=at[6],vt=at[10];if(Math.abs(ct-ft)<.01&&Math.abs(ut-gt)<.01&&Math.abs(pt-dt)<.01){if(Math.abs(ct+ft)<.1&&Math.abs(ut+gt)<.1&&Math.abs(pt+dt)<.1&&Math.abs(lt+ht+vt-3)<.1)return this.set(1,0,0,0),this;tt=Math.PI;const _t=(lt+1)/2,bt=(ht+1)/2,At=(vt+1)/2,Mt=(ct+ft)/4,Tt=(ut+gt)/4,St=(pt+dt)/4;return _t>bt&&_t>At?_t<.01?(nt=0,rt=.707106781,it=.707106781):(nt=Math.sqrt(_t),rt=Mt/nt,it=Tt/nt):bt>At?bt<.01?(nt=.707106781,rt=0,it=.707106781):(rt=Math.sqrt(bt),nt=Mt/rt,it=St/rt):At<.01?(nt=.707106781,rt=.707106781,it=0):(it=Math.sqrt(At),nt=Tt/it,rt=St/it),this.set(nt,rt,it,tt),this}let xt=Math.sqrt((dt-pt)*(dt-pt)+(ut-gt)*(ut-gt)+(ft-ct)*(ft-ct));return Math.abs(xt)<.001&&(xt=1),this.x=(dt-pt)/xt,this.y=(ut-gt)/xt,this.z=(ft-ct)/xt,this.w=Math.acos((lt+ht+vt-1)/2),this}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this.z=Math.min(this.z,_e.z),this.w=Math.min(this.w,_e.w),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this.z=Math.max(this.z,_e.z),this.w=Math.max(this.w,_e.w),this}clamp(_e,tt){return this.x=Math.max(_e.x,Math.min(tt.x,this.x)),this.y=Math.max(_e.y,Math.min(tt.y,this.y)),this.z=Math.max(_e.z,Math.min(tt.z,this.z)),this.w=Math.max(_e.w,Math.min(tt.w,this.w)),this}clampScalar(_e,tt){return this.x=Math.max(_e,Math.min(tt,this.x)),this.y=Math.max(_e,Math.min(tt,this.y)),this.z=Math.max(_e,Math.min(tt,this.z)),this.w=Math.max(_e,Math.min(tt,this.w)),this}clampLength(_e,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(_e,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(_e){return this.x*_e.x+this.y*_e.y+this.z*_e.z+this.w*_e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,tt){return this.x+=(_e.x-this.x)*tt,this.y+=(_e.y-this.y)*tt,this.z+=(_e.z-this.z)*tt,this.w+=(_e.w-this.w)*tt,this}lerpVectors(_e,tt,nt){return this.x=_e.x+(tt.x-_e.x)*nt,this.y=_e.y+(tt.y-_e.y)*nt,this.z=_e.z+(tt.z-_e.z)*nt,this.w=_e.w+(tt.w-_e.w)*nt,this}equals(_e){return _e.x===this.x&&_e.y===this.y&&_e.z===this.z&&_e.w===this.w}fromArray(_e,tt=0){return this.x=_e[tt],this.y=_e[tt+1],this.z=_e[tt+2],this.w=_e[tt+3],this}toArray(_e=[],tt=0){return _e[tt]=this.x,_e[tt+1]=this.y,_e[tt+2]=this.z,_e[tt+3]=this.w,_e}fromBufferAttribute(_e,tt){return this.x=_e.getX(tt),this.y=_e.getY(tt),this.z=_e.getZ(tt),this.w=_e.getW(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(_e,tt,nt={}){super(),this.isWebGLRenderTarget=!0,this.width=_e,this.height=tt,this.depth=1,this.scissor=new Vector4(0,0,_e,tt),this.scissorTest=!1,this.viewport=new Vector4(0,0,_e,tt);const rt={width:_e,height:tt,depth:1};this.texture=new Texture(rt,nt.mapping,nt.wrapS,nt.wrapT,nt.magFilter,nt.minFilter,nt.format,nt.type,nt.anisotropy,nt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=nt.generateMipmaps!==void 0?nt.generateMipmaps:!1,this.texture.internalFormat=nt.internalFormat!==void 0?nt.internalFormat:null,this.texture.minFilter=nt.minFilter!==void 0?nt.minFilter:LinearFilter,this.depthBuffer=nt.depthBuffer!==void 0?nt.depthBuffer:!0,this.stencilBuffer=nt.stencilBuffer!==void 0?nt.stencilBuffer:!1,this.depthTexture=nt.depthTexture!==void 0?nt.depthTexture:null,this.samples=nt.samples!==void 0?nt.samples:0}setSize(_e,tt,nt=1){(this.width!==_e||this.height!==tt||this.depth!==nt)&&(this.width=_e,this.height=tt,this.depth=nt,this.texture.image.width=_e,this.texture.image.height=tt,this.texture.image.depth=nt,this.dispose()),this.viewport.set(0,0,_e,tt),this.scissor.set(0,0,_e,tt)}clone(){return new this.constructor().copy(this)}copy(_e){this.width=_e.width,this.height=_e.height,this.depth=_e.depth,this.viewport.copy(_e.viewport),this.texture=_e.texture.clone(),this.texture.isRenderTargetTexture=!0;const tt=Object.assign({},_e.texture.image);return this.texture.source=new Source(tt),this.depthBuffer=_e.depthBuffer,this.stencilBuffer=_e.stencilBuffer,_e.depthTexture!==null&&(this.depthTexture=_e.depthTexture.clone()),this.samples=_e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(_e=null,tt=1,nt=1,rt=1){super(null),this.isDataArrayTexture=!0,this.image={data:_e,width:tt,height:nt,depth:rt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(_e,tt,nt){super(_e,tt),this.isWebGLArrayRenderTarget=!0,this.depth=nt,this.texture=new DataArrayTexture(null,_e,tt,nt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(_e=null,tt=1,nt=1,rt=1){super(null),this.isData3DTexture=!0,this.image={data:_e,width:tt,height:nt,depth:rt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(_e,tt,nt){super(_e,tt),this.isWebGL3DRenderTarget=!0,this.depth=nt,this.texture=new Data3DTexture(null,_e,tt,nt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(_e,tt,nt,rt={}){super(_e,tt,rt),this.isWebGLMultipleRenderTargets=!0;const it=this.texture;this.texture=[];for(let st=0;st<nt;st++)this.texture[st]=it.clone(),this.texture[st].isRenderTargetTexture=!0}setSize(_e,tt,nt=1){if(this.width!==_e||this.height!==tt||this.depth!==nt){this.width=_e,this.height=tt,this.depth=nt;for(let rt=0,it=this.texture.length;rt<it;rt++)this.texture[rt].image.width=_e,this.texture[rt].image.height=tt,this.texture[rt].image.depth=nt;this.dispose()}return this.viewport.set(0,0,_e,tt),this.scissor.set(0,0,_e,tt),this}copy(_e){this.dispose(),this.width=_e.width,this.height=_e.height,this.depth=_e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=_e.depthBuffer,this.stencilBuffer=_e.stencilBuffer,_e.depthTexture!==null&&(this.depthTexture=_e.depthTexture.clone()),this.texture.length=0;for(let tt=0,nt=_e.texture.length;tt<nt;tt++)this.texture[tt]=_e.texture[tt].clone(),this.texture[tt].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(_e=0,tt=0,nt=0,rt=1){this.isQuaternion=!0,this._x=_e,this._y=tt,this._z=nt,this._w=rt}static slerpFlat(_e,tt,nt,rt,it,st,ot){let at=nt[rt+0],lt=nt[rt+1],ct=nt[rt+2],ut=nt[rt+3];const ft=it[st+0],ht=it[st+1],pt=it[st+2],gt=it[st+3];if(ot===0){_e[tt+0]=at,_e[tt+1]=lt,_e[tt+2]=ct,_e[tt+3]=ut;return}if(ot===1){_e[tt+0]=ft,_e[tt+1]=ht,_e[tt+2]=pt,_e[tt+3]=gt;return}if(ut!==gt||at!==ft||lt!==ht||ct!==pt){let dt=1-ot;const vt=at*ft+lt*ht+ct*pt+ut*gt,xt=vt>=0?1:-1,_t=1-vt*vt;if(_t>Number.EPSILON){const At=Math.sqrt(_t),Mt=Math.atan2(At,vt*xt);dt=Math.sin(dt*Mt)/At,ot=Math.sin(ot*Mt)/At}const bt=ot*xt;if(at=at*dt+ft*bt,lt=lt*dt+ht*bt,ct=ct*dt+pt*bt,ut=ut*dt+gt*bt,dt===1-ot){const At=1/Math.sqrt(at*at+lt*lt+ct*ct+ut*ut);at*=At,lt*=At,ct*=At,ut*=At}}_e[tt]=at,_e[tt+1]=lt,_e[tt+2]=ct,_e[tt+3]=ut}static multiplyQuaternionsFlat(_e,tt,nt,rt,it,st){const ot=nt[rt],at=nt[rt+1],lt=nt[rt+2],ct=nt[rt+3],ut=it[st],ft=it[st+1],ht=it[st+2],pt=it[st+3];return _e[tt]=ot*pt+ct*ut+at*ht-lt*ft,_e[tt+1]=at*pt+ct*ft+lt*ut-ot*ht,_e[tt+2]=lt*pt+ct*ht+ot*ft-at*ut,_e[tt+3]=ct*pt-ot*ut-at*ft-lt*ht,_e}get x(){return this._x}set x(_e){this._x=_e,this._onChangeCallback()}get y(){return this._y}set y(_e){this._y=_e,this._onChangeCallback()}get z(){return this._z}set z(_e){this._z=_e,this._onChangeCallback()}get w(){return this._w}set w(_e){this._w=_e,this._onChangeCallback()}set(_e,tt,nt,rt){return this._x=_e,this._y=tt,this._z=nt,this._w=rt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(_e){return this._x=_e.x,this._y=_e.y,this._z=_e.z,this._w=_e.w,this._onChangeCallback(),this}setFromEuler(_e,tt){const nt=_e._x,rt=_e._y,it=_e._z,st=_e._order,ot=Math.cos,at=Math.sin,lt=ot(nt/2),ct=ot(rt/2),ut=ot(it/2),ft=at(nt/2),ht=at(rt/2),pt=at(it/2);switch(st){case"XYZ":this._x=ft*ct*ut+lt*ht*pt,this._y=lt*ht*ut-ft*ct*pt,this._z=lt*ct*pt+ft*ht*ut,this._w=lt*ct*ut-ft*ht*pt;break;case"YXZ":this._x=ft*ct*ut+lt*ht*pt,this._y=lt*ht*ut-ft*ct*pt,this._z=lt*ct*pt-ft*ht*ut,this._w=lt*ct*ut+ft*ht*pt;break;case"ZXY":this._x=ft*ct*ut-lt*ht*pt,this._y=lt*ht*ut+ft*ct*pt,this._z=lt*ct*pt+ft*ht*ut,this._w=lt*ct*ut-ft*ht*pt;break;case"ZYX":this._x=ft*ct*ut-lt*ht*pt,this._y=lt*ht*ut+ft*ct*pt,this._z=lt*ct*pt-ft*ht*ut,this._w=lt*ct*ut+ft*ht*pt;break;case"YZX":this._x=ft*ct*ut+lt*ht*pt,this._y=lt*ht*ut+ft*ct*pt,this._z=lt*ct*pt-ft*ht*ut,this._w=lt*ct*ut-ft*ht*pt;break;case"XZY":this._x=ft*ct*ut-lt*ht*pt,this._y=lt*ht*ut-ft*ct*pt,this._z=lt*ct*pt+ft*ht*ut,this._w=lt*ct*ut+ft*ht*pt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+st)}return tt!==!1&&this._onChangeCallback(),this}setFromAxisAngle(_e,tt){const nt=tt/2,rt=Math.sin(nt);return this._x=_e.x*rt,this._y=_e.y*rt,this._z=_e.z*rt,this._w=Math.cos(nt),this._onChangeCallback(),this}setFromRotationMatrix(_e){const tt=_e.elements,nt=tt[0],rt=tt[4],it=tt[8],st=tt[1],ot=tt[5],at=tt[9],lt=tt[2],ct=tt[6],ut=tt[10],ft=nt+ot+ut;if(ft>0){const ht=.5/Math.sqrt(ft+1);this._w=.25/ht,this._x=(ct-at)*ht,this._y=(it-lt)*ht,this._z=(st-rt)*ht}else if(nt>ot&&nt>ut){const ht=2*Math.sqrt(1+nt-ot-ut);this._w=(ct-at)/ht,this._x=.25*ht,this._y=(rt+st)/ht,this._z=(it+lt)/ht}else if(ot>ut){const ht=2*Math.sqrt(1+ot-nt-ut);this._w=(it-lt)/ht,this._x=(rt+st)/ht,this._y=.25*ht,this._z=(at+ct)/ht}else{const ht=2*Math.sqrt(1+ut-nt-ot);this._w=(st-rt)/ht,this._x=(it+lt)/ht,this._y=(at+ct)/ht,this._z=.25*ht}return this._onChangeCallback(),this}setFromUnitVectors(_e,tt){let nt=_e.dot(tt)+1;return nt<Number.EPSILON?(nt=0,Math.abs(_e.x)>Math.abs(_e.z)?(this._x=-_e.y,this._y=_e.x,this._z=0,this._w=nt):(this._x=0,this._y=-_e.z,this._z=_e.y,this._w=nt)):(this._x=_e.y*tt.z-_e.z*tt.y,this._y=_e.z*tt.x-_e.x*tt.z,this._z=_e.x*tt.y-_e.y*tt.x,this._w=nt),this.normalize()}angleTo(_e){return 2*Math.acos(Math.abs(clamp$5(this.dot(_e),-1,1)))}rotateTowards(_e,tt){const nt=this.angleTo(_e);if(nt===0)return this;const rt=Math.min(1,tt/nt);return this.slerp(_e,rt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(_e){return this._x*_e._x+this._y*_e._y+this._z*_e._z+this._w*_e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let _e=this.length();return _e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(_e=1/_e,this._x=this._x*_e,this._y=this._y*_e,this._z=this._z*_e,this._w=this._w*_e),this._onChangeCallback(),this}multiply(_e){return this.multiplyQuaternions(this,_e)}premultiply(_e){return this.multiplyQuaternions(_e,this)}multiplyQuaternions(_e,tt){const nt=_e._x,rt=_e._y,it=_e._z,st=_e._w,ot=tt._x,at=tt._y,lt=tt._z,ct=tt._w;return this._x=nt*ct+st*ot+rt*lt-it*at,this._y=rt*ct+st*at+it*ot-nt*lt,this._z=it*ct+st*lt+nt*at-rt*ot,this._w=st*ct-nt*ot-rt*at-it*lt,this._onChangeCallback(),this}slerp(_e,tt){if(tt===0)return this;if(tt===1)return this.copy(_e);const nt=this._x,rt=this._y,it=this._z,st=this._w;let ot=st*_e._w+nt*_e._x+rt*_e._y+it*_e._z;if(ot<0?(this._w=-_e._w,this._x=-_e._x,this._y=-_e._y,this._z=-_e._z,ot=-ot):this.copy(_e),ot>=1)return this._w=st,this._x=nt,this._y=rt,this._z=it,this;const at=1-ot*ot;if(at<=Number.EPSILON){const ht=1-tt;return this._w=ht*st+tt*this._w,this._x=ht*nt+tt*this._x,this._y=ht*rt+tt*this._y,this._z=ht*it+tt*this._z,this.normalize(),this._onChangeCallback(),this}const lt=Math.sqrt(at),ct=Math.atan2(lt,ot),ut=Math.sin((1-tt)*ct)/lt,ft=Math.sin(tt*ct)/lt;return this._w=st*ut+this._w*ft,this._x=nt*ut+this._x*ft,this._y=rt*ut+this._y*ft,this._z=it*ut+this._z*ft,this._onChangeCallback(),this}slerpQuaternions(_e,tt,nt){return this.copy(_e).slerp(tt,nt)}random(){const _e=Math.random(),tt=Math.sqrt(1-_e),nt=Math.sqrt(_e),rt=2*Math.PI*Math.random(),it=2*Math.PI*Math.random();return this.set(tt*Math.cos(rt),nt*Math.sin(it),nt*Math.cos(it),tt*Math.sin(rt))}equals(_e){return _e._x===this._x&&_e._y===this._y&&_e._z===this._z&&_e._w===this._w}fromArray(_e,tt=0){return this._x=_e[tt],this._y=_e[tt+1],this._z=_e[tt+2],this._w=_e[tt+3],this._onChangeCallback(),this}toArray(_e=[],tt=0){return _e[tt]=this._x,_e[tt+1]=this._y,_e[tt+2]=this._z,_e[tt+3]=this._w,_e}fromBufferAttribute(_e,tt){return this._x=_e.getX(tt),this._y=_e.getY(tt),this._z=_e.getZ(tt),this._w=_e.getW(tt),this}_onChange(_e){return this._onChangeCallback=_e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(_e=0,tt=0,nt=0){Vector3.prototype.isVector3=!0,this.x=_e,this.y=tt,this.z=nt}set(_e,tt,nt){return nt===void 0&&(nt=this.z),this.x=_e,this.y=tt,this.z=nt,this}setScalar(_e){return this.x=_e,this.y=_e,this.z=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setZ(_e){return this.z=_e,this}setComponent(_e,tt){switch(_e){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(_e){return this.x=_e.x,this.y=_e.y,this.z=_e.z,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this.z+=_e.z,this}addScalar(_e){return this.x+=_e,this.y+=_e,this.z+=_e,this}addVectors(_e,tt){return this.x=_e.x+tt.x,this.y=_e.y+tt.y,this.z=_e.z+tt.z,this}addScaledVector(_e,tt){return this.x+=_e.x*tt,this.y+=_e.y*tt,this.z+=_e.z*tt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this.z-=_e.z,this}subScalar(_e){return this.x-=_e,this.y-=_e,this.z-=_e,this}subVectors(_e,tt){return this.x=_e.x-tt.x,this.y=_e.y-tt.y,this.z=_e.z-tt.z,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this.z*=_e.z,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this.z*=_e,this}multiplyVectors(_e,tt){return this.x=_e.x*tt.x,this.y=_e.y*tt.y,this.z=_e.z*tt.z,this}applyEuler(_e){return this.applyQuaternion(_quaternion$4.setFromEuler(_e))}applyAxisAngle(_e,tt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(_e,tt))}applyMatrix3(_e){const tt=this.x,nt=this.y,rt=this.z,it=_e.elements;return this.x=it[0]*tt+it[3]*nt+it[6]*rt,this.y=it[1]*tt+it[4]*nt+it[7]*rt,this.z=it[2]*tt+it[5]*nt+it[8]*rt,this}applyNormalMatrix(_e){return this.applyMatrix3(_e).normalize()}applyMatrix4(_e){const tt=this.x,nt=this.y,rt=this.z,it=_e.elements,st=1/(it[3]*tt+it[7]*nt+it[11]*rt+it[15]);return this.x=(it[0]*tt+it[4]*nt+it[8]*rt+it[12])*st,this.y=(it[1]*tt+it[5]*nt+it[9]*rt+it[13])*st,this.z=(it[2]*tt+it[6]*nt+it[10]*rt+it[14])*st,this}applyQuaternion(_e){const tt=this.x,nt=this.y,rt=this.z,it=_e.x,st=_e.y,ot=_e.z,at=_e.w,lt=at*tt+st*rt-ot*nt,ct=at*nt+ot*tt-it*rt,ut=at*rt+it*nt-st*tt,ft=-it*tt-st*nt-ot*rt;return this.x=lt*at+ft*-it+ct*-ot-ut*-st,this.y=ct*at+ft*-st+ut*-it-lt*-ot,this.z=ut*at+ft*-ot+lt*-st-ct*-it,this}project(_e){return this.applyMatrix4(_e.matrixWorldInverse).applyMatrix4(_e.projectionMatrix)}unproject(_e){return this.applyMatrix4(_e.projectionMatrixInverse).applyMatrix4(_e.matrixWorld)}transformDirection(_e){const tt=this.x,nt=this.y,rt=this.z,it=_e.elements;return this.x=it[0]*tt+it[4]*nt+it[8]*rt,this.y=it[1]*tt+it[5]*nt+it[9]*rt,this.z=it[2]*tt+it[6]*nt+it[10]*rt,this.normalize()}divide(_e){return this.x/=_e.x,this.y/=_e.y,this.z/=_e.z,this}divideScalar(_e){return this.multiplyScalar(1/_e)}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this.z=Math.min(this.z,_e.z),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this.z=Math.max(this.z,_e.z),this}clamp(_e,tt){return this.x=Math.max(_e.x,Math.min(tt.x,this.x)),this.y=Math.max(_e.y,Math.min(tt.y,this.y)),this.z=Math.max(_e.z,Math.min(tt.z,this.z)),this}clampScalar(_e,tt){return this.x=Math.max(_e,Math.min(tt,this.x)),this.y=Math.max(_e,Math.min(tt,this.y)),this.z=Math.max(_e,Math.min(tt,this.z)),this}clampLength(_e,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(_e,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(_e){return this.x*_e.x+this.y*_e.y+this.z*_e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,tt){return this.x+=(_e.x-this.x)*tt,this.y+=(_e.y-this.y)*tt,this.z+=(_e.z-this.z)*tt,this}lerpVectors(_e,tt,nt){return this.x=_e.x+(tt.x-_e.x)*nt,this.y=_e.y+(tt.y-_e.y)*nt,this.z=_e.z+(tt.z-_e.z)*nt,this}cross(_e){return this.crossVectors(this,_e)}crossVectors(_e,tt){const nt=_e.x,rt=_e.y,it=_e.z,st=tt.x,ot=tt.y,at=tt.z;return this.x=rt*at-it*ot,this.y=it*st-nt*at,this.z=nt*ot-rt*st,this}projectOnVector(_e){const tt=_e.lengthSq();if(tt===0)return this.set(0,0,0);const nt=_e.dot(this)/tt;return this.copy(_e).multiplyScalar(nt)}projectOnPlane(_e){return _vector$c.copy(this).projectOnVector(_e),this.sub(_vector$c)}reflect(_e){return this.sub(_vector$c.copy(_e).multiplyScalar(2*this.dot(_e)))}angleTo(_e){const tt=Math.sqrt(this.lengthSq()*_e.lengthSq());if(tt===0)return Math.PI/2;const nt=this.dot(_e)/tt;return Math.acos(clamp$5(nt,-1,1))}distanceTo(_e){return Math.sqrt(this.distanceToSquared(_e))}distanceToSquared(_e){const tt=this.x-_e.x,nt=this.y-_e.y,rt=this.z-_e.z;return tt*tt+nt*nt+rt*rt}manhattanDistanceTo(_e){return Math.abs(this.x-_e.x)+Math.abs(this.y-_e.y)+Math.abs(this.z-_e.z)}setFromSpherical(_e){return this.setFromSphericalCoords(_e.radius,_e.phi,_e.theta)}setFromSphericalCoords(_e,tt,nt){const rt=Math.sin(tt)*_e;return this.x=rt*Math.sin(nt),this.y=Math.cos(tt)*_e,this.z=rt*Math.cos(nt),this}setFromCylindrical(_e){return this.setFromCylindricalCoords(_e.radius,_e.theta,_e.y)}setFromCylindricalCoords(_e,tt,nt){return this.x=_e*Math.sin(tt),this.y=nt,this.z=_e*Math.cos(tt),this}setFromMatrixPosition(_e){const tt=_e.elements;return this.x=tt[12],this.y=tt[13],this.z=tt[14],this}setFromMatrixScale(_e){const tt=this.setFromMatrixColumn(_e,0).length(),nt=this.setFromMatrixColumn(_e,1).length(),rt=this.setFromMatrixColumn(_e,2).length();return this.x=tt,this.y=nt,this.z=rt,this}setFromMatrixColumn(_e,tt){return this.fromArray(_e.elements,tt*4)}setFromMatrix3Column(_e,tt){return this.fromArray(_e.elements,tt*3)}setFromEuler(_e){return this.x=_e._x,this.y=_e._y,this.z=_e._z,this}equals(_e){return _e.x===this.x&&_e.y===this.y&&_e.z===this.z}fromArray(_e,tt=0){return this.x=_e[tt],this.y=_e[tt+1],this.z=_e[tt+2],this}toArray(_e=[],tt=0){return _e[tt]=this.x,_e[tt+1]=this.y,_e[tt+2]=this.z,_e}fromBufferAttribute(_e,tt){return this.x=_e.getX(tt),this.y=_e.getY(tt),this.z=_e.getZ(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const _e=(Math.random()-.5)*2,tt=Math.random()*Math.PI*2,nt=Math.sqrt(1-_e**2);return this.x=nt*Math.cos(tt),this.y=nt*Math.sin(tt),this.z=_e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(_e=new Vector3(1/0,1/0,1/0),tt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=_e,this.max=tt}set(_e,tt){return this.min.copy(_e),this.max.copy(tt),this}setFromArray(_e){let tt=1/0,nt=1/0,rt=1/0,it=-1/0,st=-1/0,ot=-1/0;for(let at=0,lt=_e.length;at<lt;at+=3){const ct=_e[at],ut=_e[at+1],ft=_e[at+2];ct<tt&&(tt=ct),ut<nt&&(nt=ut),ft<rt&&(rt=ft),ct>it&&(it=ct),ut>st&&(st=ut),ft>ot&&(ot=ft)}return this.min.set(tt,nt,rt),this.max.set(it,st,ot),this}setFromBufferAttribute(_e){let tt=1/0,nt=1/0,rt=1/0,it=-1/0,st=-1/0,ot=-1/0;for(let at=0,lt=_e.count;at<lt;at++){const ct=_e.getX(at),ut=_e.getY(at),ft=_e.getZ(at);ct<tt&&(tt=ct),ut<nt&&(nt=ut),ft<rt&&(rt=ft),ct>it&&(it=ct),ut>st&&(st=ut),ft>ot&&(ot=ft)}return this.min.set(tt,nt,rt),this.max.set(it,st,ot),this}setFromPoints(_e){this.makeEmpty();for(let tt=0,nt=_e.length;tt<nt;tt++)this.expandByPoint(_e[tt]);return this}setFromCenterAndSize(_e,tt){const nt=_vector$b.copy(tt).multiplyScalar(.5);return this.min.copy(_e).sub(nt),this.max.copy(_e).add(nt),this}setFromObject(_e,tt=!1){return this.makeEmpty(),this.expandByObject(_e,tt)}clone(){return new this.constructor().copy(this)}copy(_e){return this.min.copy(_e.min),this.max.copy(_e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(_e){return this.isEmpty()?_e.set(0,0,0):_e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_e){return this.isEmpty()?_e.set(0,0,0):_e.subVectors(this.max,this.min)}expandByPoint(_e){return this.min.min(_e),this.max.max(_e),this}expandByVector(_e){return this.min.sub(_e),this.max.add(_e),this}expandByScalar(_e){return this.min.addScalar(-_e),this.max.addScalar(_e),this}expandByObject(_e,tt=!1){_e.updateWorldMatrix(!1,!1);const nt=_e.geometry;if(nt!==void 0)if(tt&&nt.attributes!=null&&nt.attributes.position!==void 0){const it=nt.attributes.position;for(let st=0,ot=it.count;st<ot;st++)_vector$b.fromBufferAttribute(it,st).applyMatrix4(_e.matrixWorld),this.expandByPoint(_vector$b)}else nt.boundingBox===null&&nt.computeBoundingBox(),_box$3.copy(nt.boundingBox),_box$3.applyMatrix4(_e.matrixWorld),this.union(_box$3);const rt=_e.children;for(let it=0,st=rt.length;it<st;it++)this.expandByObject(rt[it],tt);return this}containsPoint(_e){return!(_e.x<this.min.x||_e.x>this.max.x||_e.y<this.min.y||_e.y>this.max.y||_e.z<this.min.z||_e.z>this.max.z)}containsBox(_e){return this.min.x<=_e.min.x&&_e.max.x<=this.max.x&&this.min.y<=_e.min.y&&_e.max.y<=this.max.y&&this.min.z<=_e.min.z&&_e.max.z<=this.max.z}getParameter(_e,tt){return tt.set((_e.x-this.min.x)/(this.max.x-this.min.x),(_e.y-this.min.y)/(this.max.y-this.min.y),(_e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(_e){return!(_e.max.x<this.min.x||_e.min.x>this.max.x||_e.max.y<this.min.y||_e.min.y>this.max.y||_e.max.z<this.min.z||_e.min.z>this.max.z)}intersectsSphere(_e){return this.clampPoint(_e.center,_vector$b),_vector$b.distanceToSquared(_e.center)<=_e.radius*_e.radius}intersectsPlane(_e){let tt,nt;return _e.normal.x>0?(tt=_e.normal.x*this.min.x,nt=_e.normal.x*this.max.x):(tt=_e.normal.x*this.max.x,nt=_e.normal.x*this.min.x),_e.normal.y>0?(tt+=_e.normal.y*this.min.y,nt+=_e.normal.y*this.max.y):(tt+=_e.normal.y*this.max.y,nt+=_e.normal.y*this.min.y),_e.normal.z>0?(tt+=_e.normal.z*this.min.z,nt+=_e.normal.z*this.max.z):(tt+=_e.normal.z*this.max.z,nt+=_e.normal.z*this.min.z),tt<=-_e.constant&&nt>=-_e.constant}intersectsTriangle(_e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(_e.a,_center),_v1$7.subVectors(_e.b,_center),_v2$3.subVectors(_e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$3,_v1$7),_f2.subVectors(_v0$2,_v2$3);let tt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(tt,_v0$2,_v1$7,_v2$3,_extents)||(tt=[1,0,0,0,1,0,0,0,1],!satForAxes(tt,_v0$2,_v1$7,_v2$3,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),tt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(tt,_v0$2,_v1$7,_v2$3,_extents))}clampPoint(_e,tt){return tt.copy(_e).clamp(this.min,this.max)}distanceToPoint(_e){return _vector$b.copy(_e).clamp(this.min,this.max).sub(_e).length()}getBoundingSphere(_e){return this.getCenter(_e.center),_e.radius=this.getSize(_vector$b).length()*.5,_e}intersect(_e){return this.min.max(_e.min),this.max.min(_e.max),this.isEmpty()&&this.makeEmpty(),this}union(_e){return this.min.min(_e.min),this.max.max(_e.max),this}applyMatrix4(_e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(_e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(_e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(_e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(_e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(_e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(_e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(_e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(_e),this.setFromPoints(_points),this)}translate(_e){return this.min.add(_e),this.max.add(_e),this}equals(_e){return _e.min.equals(this.min)&&_e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$3=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(et,_e,tt,nt,rt){for(let it=0,st=et.length-3;it<=st;it+=3){_testAxis.fromArray(et,it);const ot=rt.x*Math.abs(_testAxis.x)+rt.y*Math.abs(_testAxis.y)+rt.z*Math.abs(_testAxis.z),at=_e.dot(_testAxis),lt=tt.dot(_testAxis),ct=nt.dot(_testAxis);if(Math.max(-Math.max(at,lt,ct),Math.min(at,lt,ct))>ot)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_toFarthestPoint=new Vector3,_toPoint=new Vector3;class Sphere$1{constructor(_e=new Vector3,tt=-1){this.center=_e,this.radius=tt}set(_e,tt){return this.center.copy(_e),this.radius=tt,this}setFromPoints(_e,tt){const nt=this.center;tt!==void 0?nt.copy(tt):_box$2.setFromPoints(_e).getCenter(nt);let rt=0;for(let it=0,st=_e.length;it<st;it++)rt=Math.max(rt,nt.distanceToSquared(_e[it]));return this.radius=Math.sqrt(rt),this}copy(_e){return this.center.copy(_e.center),this.radius=_e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(_e){return _e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(_e){return _e.distanceTo(this.center)-this.radius}intersectsSphere(_e){const tt=this.radius+_e.radius;return _e.center.distanceToSquared(this.center)<=tt*tt}intersectsBox(_e){return _e.intersectsSphere(this)}intersectsPlane(_e){return Math.abs(_e.distanceToPoint(this.center))<=this.radius}clampPoint(_e,tt){const nt=this.center.distanceToSquared(_e);return tt.copy(_e),nt>this.radius*this.radius&&(tt.sub(this.center).normalize(),tt.multiplyScalar(this.radius).add(this.center)),tt}getBoundingBox(_e){return this.isEmpty()?(_e.makeEmpty(),_e):(_e.set(this.center,this.center),_e.expandByScalar(this.radius),_e)}applyMatrix4(_e){return this.center.applyMatrix4(_e),this.radius=this.radius*_e.getMaxScaleOnAxis(),this}translate(_e){return this.center.add(_e),this}expandByPoint(_e){if(this.isEmpty())return this.center.copy(_e),this.radius=0,this;_toPoint.subVectors(_e,this.center);const tt=_toPoint.lengthSq();if(tt>this.radius*this.radius){const nt=Math.sqrt(tt),rt=(nt-this.radius)*.5;this.center.add(_toPoint.multiplyScalar(rt/nt)),this.radius+=rt}return this}union(_e){return _e.isEmpty()?this:this.isEmpty()?(this.copy(_e),this):(this.center.equals(_e.center)===!0?_toFarthestPoint.set(0,0,1).multiplyScalar(_e.radius):_toFarthestPoint.subVectors(_e.center,this.center).normalize().multiplyScalar(_e.radius),this.expandByPoint(_v1$6.copy(_e.center).add(_toFarthestPoint)),this.expandByPoint(_v1$6.copy(_e.center).sub(_toFarthestPoint)),this)}equals(_e){return _e.center.equals(this.center)&&_e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(_e=new Vector3,tt=new Vector3(0,0,-1)){this.origin=_e,this.direction=tt}set(_e,tt){return this.origin.copy(_e),this.direction.copy(tt),this}copy(_e){return this.origin.copy(_e.origin),this.direction.copy(_e.direction),this}at(_e,tt){return tt.copy(this.direction).multiplyScalar(_e).add(this.origin)}lookAt(_e){return this.direction.copy(_e).sub(this.origin).normalize(),this}recast(_e){return this.origin.copy(this.at(_e,_vector$a)),this}closestPointToPoint(_e,tt){tt.subVectors(_e,this.origin);const nt=tt.dot(this.direction);return nt<0?tt.copy(this.origin):tt.copy(this.direction).multiplyScalar(nt).add(this.origin)}distanceToPoint(_e){return Math.sqrt(this.distanceSqToPoint(_e))}distanceSqToPoint(_e){const tt=_vector$a.subVectors(_e,this.origin).dot(this.direction);return tt<0?this.origin.distanceToSquared(_e):(_vector$a.copy(this.direction).multiplyScalar(tt).add(this.origin),_vector$a.distanceToSquared(_e))}distanceSqToSegment(_e,tt,nt,rt){_segCenter.copy(_e).add(tt).multiplyScalar(.5),_segDir.copy(tt).sub(_e).normalize(),_diff.copy(this.origin).sub(_segCenter);const it=_e.distanceTo(tt)*.5,st=-this.direction.dot(_segDir),ot=_diff.dot(this.direction),at=-_diff.dot(_segDir),lt=_diff.lengthSq(),ct=Math.abs(1-st*st);let ut,ft,ht,pt;if(ct>0)if(ut=st*at-ot,ft=st*ot-at,pt=it*ct,ut>=0)if(ft>=-pt)if(ft<=pt){const gt=1/ct;ut*=gt,ft*=gt,ht=ut*(ut+st*ft+2*ot)+ft*(st*ut+ft+2*at)+lt}else ft=it,ut=Math.max(0,-(st*ft+ot)),ht=-ut*ut+ft*(ft+2*at)+lt;else ft=-it,ut=Math.max(0,-(st*ft+ot)),ht=-ut*ut+ft*(ft+2*at)+lt;else ft<=-pt?(ut=Math.max(0,-(-st*it+ot)),ft=ut>0?-it:Math.min(Math.max(-it,-at),it),ht=-ut*ut+ft*(ft+2*at)+lt):ft<=pt?(ut=0,ft=Math.min(Math.max(-it,-at),it),ht=ft*(ft+2*at)+lt):(ut=Math.max(0,-(st*it+ot)),ft=ut>0?it:Math.min(Math.max(-it,-at),it),ht=-ut*ut+ft*(ft+2*at)+lt);else ft=st>0?-it:it,ut=Math.max(0,-(st*ft+ot)),ht=-ut*ut+ft*(ft+2*at)+lt;return nt&&nt.copy(this.direction).multiplyScalar(ut).add(this.origin),rt&&rt.copy(_segDir).multiplyScalar(ft).add(_segCenter),ht}intersectSphere(_e,tt){_vector$a.subVectors(_e.center,this.origin);const nt=_vector$a.dot(this.direction),rt=_vector$a.dot(_vector$a)-nt*nt,it=_e.radius*_e.radius;if(rt>it)return null;const st=Math.sqrt(it-rt),ot=nt-st,at=nt+st;return ot<0&&at<0?null:ot<0?this.at(at,tt):this.at(ot,tt)}intersectsSphere(_e){return this.distanceSqToPoint(_e.center)<=_e.radius*_e.radius}distanceToPlane(_e){const tt=_e.normal.dot(this.direction);if(tt===0)return _e.distanceToPoint(this.origin)===0?0:null;const nt=-(this.origin.dot(_e.normal)+_e.constant)/tt;return nt>=0?nt:null}intersectPlane(_e,tt){const nt=this.distanceToPlane(_e);return nt===null?null:this.at(nt,tt)}intersectsPlane(_e){const tt=_e.distanceToPoint(this.origin);return tt===0||_e.normal.dot(this.direction)*tt<0}intersectBox(_e,tt){let nt,rt,it,st,ot,at;const lt=1/this.direction.x,ct=1/this.direction.y,ut=1/this.direction.z,ft=this.origin;return lt>=0?(nt=(_e.min.x-ft.x)*lt,rt=(_e.max.x-ft.x)*lt):(nt=(_e.max.x-ft.x)*lt,rt=(_e.min.x-ft.x)*lt),ct>=0?(it=(_e.min.y-ft.y)*ct,st=(_e.max.y-ft.y)*ct):(it=(_e.max.y-ft.y)*ct,st=(_e.min.y-ft.y)*ct),nt>st||it>rt||((it>nt||nt!==nt)&&(nt=it),(st<rt||rt!==rt)&&(rt=st),ut>=0?(ot=(_e.min.z-ft.z)*ut,at=(_e.max.z-ft.z)*ut):(ot=(_e.max.z-ft.z)*ut,at=(_e.min.z-ft.z)*ut),nt>at||ot>rt)||((ot>nt||nt!==nt)&&(nt=ot),(at<rt||rt!==rt)&&(rt=at),rt<0)?null:this.at(nt>=0?nt:rt,tt)}intersectsBox(_e){return this.intersectBox(_e,_vector$a)!==null}intersectTriangle(_e,tt,nt,rt,it){_edge1.subVectors(tt,_e),_edge2.subVectors(nt,_e),_normal$1.crossVectors(_edge1,_edge2);let st=this.direction.dot(_normal$1),ot;if(st>0){if(rt)return null;ot=1}else if(st<0)ot=-1,st=-st;else return null;_diff.subVectors(this.origin,_e);const at=ot*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(at<0)return null;const lt=ot*this.direction.dot(_edge1.cross(_diff));if(lt<0||at+lt>st)return null;const ct=-ot*_diff.dot(_normal$1);return ct<0?null:this.at(ct/st,it)}applyMatrix4(_e){return this.origin.applyMatrix4(_e),this.direction.transformDirection(_e),this}equals(_e){return _e.origin.equals(this.origin)&&_e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(_e,tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,pt,gt,dt){const vt=this.elements;return vt[0]=_e,vt[4]=tt,vt[8]=nt,vt[12]=rt,vt[1]=it,vt[5]=st,vt[9]=ot,vt[13]=at,vt[2]=lt,vt[6]=ct,vt[10]=ut,vt[14]=ft,vt[3]=ht,vt[7]=pt,vt[11]=gt,vt[15]=dt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(_e){const tt=this.elements,nt=_e.elements;return tt[0]=nt[0],tt[1]=nt[1],tt[2]=nt[2],tt[3]=nt[3],tt[4]=nt[4],tt[5]=nt[5],tt[6]=nt[6],tt[7]=nt[7],tt[8]=nt[8],tt[9]=nt[9],tt[10]=nt[10],tt[11]=nt[11],tt[12]=nt[12],tt[13]=nt[13],tt[14]=nt[14],tt[15]=nt[15],this}copyPosition(_e){const tt=this.elements,nt=_e.elements;return tt[12]=nt[12],tt[13]=nt[13],tt[14]=nt[14],this}setFromMatrix3(_e){const tt=_e.elements;return this.set(tt[0],tt[3],tt[6],0,tt[1],tt[4],tt[7],0,tt[2],tt[5],tt[8],0,0,0,0,1),this}extractBasis(_e,tt,nt){return _e.setFromMatrixColumn(this,0),tt.setFromMatrixColumn(this,1),nt.setFromMatrixColumn(this,2),this}makeBasis(_e,tt,nt){return this.set(_e.x,tt.x,nt.x,0,_e.y,tt.y,nt.y,0,_e.z,tt.z,nt.z,0,0,0,0,1),this}extractRotation(_e){const tt=this.elements,nt=_e.elements,rt=1/_v1$5.setFromMatrixColumn(_e,0).length(),it=1/_v1$5.setFromMatrixColumn(_e,1).length(),st=1/_v1$5.setFromMatrixColumn(_e,2).length();return tt[0]=nt[0]*rt,tt[1]=nt[1]*rt,tt[2]=nt[2]*rt,tt[3]=0,tt[4]=nt[4]*it,tt[5]=nt[5]*it,tt[6]=nt[6]*it,tt[7]=0,tt[8]=nt[8]*st,tt[9]=nt[9]*st,tt[10]=nt[10]*st,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromEuler(_e){const tt=this.elements,nt=_e.x,rt=_e.y,it=_e.z,st=Math.cos(nt),ot=Math.sin(nt),at=Math.cos(rt),lt=Math.sin(rt),ct=Math.cos(it),ut=Math.sin(it);if(_e.order==="XYZ"){const ft=st*ct,ht=st*ut,pt=ot*ct,gt=ot*ut;tt[0]=at*ct,tt[4]=-at*ut,tt[8]=lt,tt[1]=ht+pt*lt,tt[5]=ft-gt*lt,tt[9]=-ot*at,tt[2]=gt-ft*lt,tt[6]=pt+ht*lt,tt[10]=st*at}else if(_e.order==="YXZ"){const ft=at*ct,ht=at*ut,pt=lt*ct,gt=lt*ut;tt[0]=ft+gt*ot,tt[4]=pt*ot-ht,tt[8]=st*lt,tt[1]=st*ut,tt[5]=st*ct,tt[9]=-ot,tt[2]=ht*ot-pt,tt[6]=gt+ft*ot,tt[10]=st*at}else if(_e.order==="ZXY"){const ft=at*ct,ht=at*ut,pt=lt*ct,gt=lt*ut;tt[0]=ft-gt*ot,tt[4]=-st*ut,tt[8]=pt+ht*ot,tt[1]=ht+pt*ot,tt[5]=st*ct,tt[9]=gt-ft*ot,tt[2]=-st*lt,tt[6]=ot,tt[10]=st*at}else if(_e.order==="ZYX"){const ft=st*ct,ht=st*ut,pt=ot*ct,gt=ot*ut;tt[0]=at*ct,tt[4]=pt*lt-ht,tt[8]=ft*lt+gt,tt[1]=at*ut,tt[5]=gt*lt+ft,tt[9]=ht*lt-pt,tt[2]=-lt,tt[6]=ot*at,tt[10]=st*at}else if(_e.order==="YZX"){const ft=st*at,ht=st*lt,pt=ot*at,gt=ot*lt;tt[0]=at*ct,tt[4]=gt-ft*ut,tt[8]=pt*ut+ht,tt[1]=ut,tt[5]=st*ct,tt[9]=-ot*ct,tt[2]=-lt*ct,tt[6]=ht*ut+pt,tt[10]=ft-gt*ut}else if(_e.order==="XZY"){const ft=st*at,ht=st*lt,pt=ot*at,gt=ot*lt;tt[0]=at*ct,tt[4]=-ut,tt[8]=lt*ct,tt[1]=ft*ut+gt,tt[5]=st*ct,tt[9]=ht*ut-pt,tt[2]=pt*ut-ht,tt[6]=ot*ct,tt[10]=gt*ut+ft}return tt[3]=0,tt[7]=0,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromQuaternion(_e){return this.compose(_zero,_e,_one)}lookAt(_e,tt,nt){const rt=this.elements;return _z.subVectors(_e,tt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(nt,_z),_x.lengthSq()===0&&(Math.abs(nt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(nt,_z)),_x.normalize(),_y.crossVectors(_z,_x),rt[0]=_x.x,rt[4]=_y.x,rt[8]=_z.x,rt[1]=_x.y,rt[5]=_y.y,rt[9]=_z.y,rt[2]=_x.z,rt[6]=_y.z,rt[10]=_z.z,this}multiply(_e){return this.multiplyMatrices(this,_e)}premultiply(_e){return this.multiplyMatrices(_e,this)}multiplyMatrices(_e,tt){const nt=_e.elements,rt=tt.elements,it=this.elements,st=nt[0],ot=nt[4],at=nt[8],lt=nt[12],ct=nt[1],ut=nt[5],ft=nt[9],ht=nt[13],pt=nt[2],gt=nt[6],dt=nt[10],vt=nt[14],xt=nt[3],_t=nt[7],bt=nt[11],At=nt[15],Mt=rt[0],Tt=rt[4],St=rt[8],Ct=rt[12],Et=rt[1],Rt=rt[5],It=rt[9],Ot=rt[13],kt=rt[2],$t=rt[6],jt=rt[10],Ht=rt[14],Bt=rt[3],Lt=rt[7],Ft=rt[11],Vt=rt[15];return it[0]=st*Mt+ot*Et+at*kt+lt*Bt,it[4]=st*Tt+ot*Rt+at*$t+lt*Lt,it[8]=st*St+ot*It+at*jt+lt*Ft,it[12]=st*Ct+ot*Ot+at*Ht+lt*Vt,it[1]=ct*Mt+ut*Et+ft*kt+ht*Bt,it[5]=ct*Tt+ut*Rt+ft*$t+ht*Lt,it[9]=ct*St+ut*It+ft*jt+ht*Ft,it[13]=ct*Ct+ut*Ot+ft*Ht+ht*Vt,it[2]=pt*Mt+gt*Et+dt*kt+vt*Bt,it[6]=pt*Tt+gt*Rt+dt*$t+vt*Lt,it[10]=pt*St+gt*It+dt*jt+vt*Ft,it[14]=pt*Ct+gt*Ot+dt*Ht+vt*Vt,it[3]=xt*Mt+_t*Et+bt*kt+At*Bt,it[7]=xt*Tt+_t*Rt+bt*$t+At*Lt,it[11]=xt*St+_t*It+bt*jt+At*Ft,it[15]=xt*Ct+_t*Ot+bt*Ht+At*Vt,this}multiplyScalar(_e){const tt=this.elements;return tt[0]*=_e,tt[4]*=_e,tt[8]*=_e,tt[12]*=_e,tt[1]*=_e,tt[5]*=_e,tt[9]*=_e,tt[13]*=_e,tt[2]*=_e,tt[6]*=_e,tt[10]*=_e,tt[14]*=_e,tt[3]*=_e,tt[7]*=_e,tt[11]*=_e,tt[15]*=_e,this}determinant(){const _e=this.elements,tt=_e[0],nt=_e[4],rt=_e[8],it=_e[12],st=_e[1],ot=_e[5],at=_e[9],lt=_e[13],ct=_e[2],ut=_e[6],ft=_e[10],ht=_e[14],pt=_e[3],gt=_e[7],dt=_e[11],vt=_e[15];return pt*(+it*at*ut-rt*lt*ut-it*ot*ft+nt*lt*ft+rt*ot*ht-nt*at*ht)+gt*(+tt*at*ht-tt*lt*ft+it*st*ft-rt*st*ht+rt*lt*ct-it*at*ct)+dt*(+tt*lt*ut-tt*ot*ht-it*st*ut+nt*st*ht+it*ot*ct-nt*lt*ct)+vt*(-rt*ot*ct-tt*at*ut+tt*ot*ft+rt*st*ut-nt*st*ft+nt*at*ct)}transpose(){const _e=this.elements;let tt;return tt=_e[1],_e[1]=_e[4],_e[4]=tt,tt=_e[2],_e[2]=_e[8],_e[8]=tt,tt=_e[6],_e[6]=_e[9],_e[9]=tt,tt=_e[3],_e[3]=_e[12],_e[12]=tt,tt=_e[7],_e[7]=_e[13],_e[13]=tt,tt=_e[11],_e[11]=_e[14],_e[14]=tt,this}setPosition(_e,tt,nt){const rt=this.elements;return _e.isVector3?(rt[12]=_e.x,rt[13]=_e.y,rt[14]=_e.z):(rt[12]=_e,rt[13]=tt,rt[14]=nt),this}invert(){const _e=this.elements,tt=_e[0],nt=_e[1],rt=_e[2],it=_e[3],st=_e[4],ot=_e[5],at=_e[6],lt=_e[7],ct=_e[8],ut=_e[9],ft=_e[10],ht=_e[11],pt=_e[12],gt=_e[13],dt=_e[14],vt=_e[15],xt=ut*dt*lt-gt*ft*lt+gt*at*ht-ot*dt*ht-ut*at*vt+ot*ft*vt,_t=pt*ft*lt-ct*dt*lt-pt*at*ht+st*dt*ht+ct*at*vt-st*ft*vt,bt=ct*gt*lt-pt*ut*lt+pt*ot*ht-st*gt*ht-ct*ot*vt+st*ut*vt,At=pt*ut*at-ct*gt*at-pt*ot*ft+st*gt*ft+ct*ot*dt-st*ut*dt,Mt=tt*xt+nt*_t+rt*bt+it*At;if(Mt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Tt=1/Mt;return _e[0]=xt*Tt,_e[1]=(gt*ft*it-ut*dt*it-gt*rt*ht+nt*dt*ht+ut*rt*vt-nt*ft*vt)*Tt,_e[2]=(ot*dt*it-gt*at*it+gt*rt*lt-nt*dt*lt-ot*rt*vt+nt*at*vt)*Tt,_e[3]=(ut*at*it-ot*ft*it-ut*rt*lt+nt*ft*lt+ot*rt*ht-nt*at*ht)*Tt,_e[4]=_t*Tt,_e[5]=(ct*dt*it-pt*ft*it+pt*rt*ht-tt*dt*ht-ct*rt*vt+tt*ft*vt)*Tt,_e[6]=(pt*at*it-st*dt*it-pt*rt*lt+tt*dt*lt+st*rt*vt-tt*at*vt)*Tt,_e[7]=(st*ft*it-ct*at*it+ct*rt*lt-tt*ft*lt-st*rt*ht+tt*at*ht)*Tt,_e[8]=bt*Tt,_e[9]=(pt*ut*it-ct*gt*it-pt*nt*ht+tt*gt*ht+ct*nt*vt-tt*ut*vt)*Tt,_e[10]=(st*gt*it-pt*ot*it+pt*nt*lt-tt*gt*lt-st*nt*vt+tt*ot*vt)*Tt,_e[11]=(ct*ot*it-st*ut*it-ct*nt*lt+tt*ut*lt+st*nt*ht-tt*ot*ht)*Tt,_e[12]=At*Tt,_e[13]=(ct*gt*rt-pt*ut*rt+pt*nt*ft-tt*gt*ft-ct*nt*dt+tt*ut*dt)*Tt,_e[14]=(pt*ot*rt-st*gt*rt-pt*nt*at+tt*gt*at+st*nt*dt-tt*ot*dt)*Tt,_e[15]=(st*ut*rt-ct*ot*rt+ct*nt*at-tt*ut*at-st*nt*ft+tt*ot*ft)*Tt,this}scale(_e){const tt=this.elements,nt=_e.x,rt=_e.y,it=_e.z;return tt[0]*=nt,tt[4]*=rt,tt[8]*=it,tt[1]*=nt,tt[5]*=rt,tt[9]*=it,tt[2]*=nt,tt[6]*=rt,tt[10]*=it,tt[3]*=nt,tt[7]*=rt,tt[11]*=it,this}getMaxScaleOnAxis(){const _e=this.elements,tt=_e[0]*_e[0]+_e[1]*_e[1]+_e[2]*_e[2],nt=_e[4]*_e[4]+_e[5]*_e[5]+_e[6]*_e[6],rt=_e[8]*_e[8]+_e[9]*_e[9]+_e[10]*_e[10];return Math.sqrt(Math.max(tt,nt,rt))}makeTranslation(_e,tt,nt){return this.set(1,0,0,_e,0,1,0,tt,0,0,1,nt,0,0,0,1),this}makeRotationX(_e){const tt=Math.cos(_e),nt=Math.sin(_e);return this.set(1,0,0,0,0,tt,-nt,0,0,nt,tt,0,0,0,0,1),this}makeRotationY(_e){const tt=Math.cos(_e),nt=Math.sin(_e);return this.set(tt,0,nt,0,0,1,0,0,-nt,0,tt,0,0,0,0,1),this}makeRotationZ(_e){const tt=Math.cos(_e),nt=Math.sin(_e);return this.set(tt,-nt,0,0,nt,tt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_e,tt){const nt=Math.cos(tt),rt=Math.sin(tt),it=1-nt,st=_e.x,ot=_e.y,at=_e.z,lt=it*st,ct=it*ot;return this.set(lt*st+nt,lt*ot-rt*at,lt*at+rt*ot,0,lt*ot+rt*at,ct*ot+nt,ct*at-rt*st,0,lt*at-rt*ot,ct*at+rt*st,it*at*at+nt,0,0,0,0,1),this}makeScale(_e,tt,nt){return this.set(_e,0,0,0,0,tt,0,0,0,0,nt,0,0,0,0,1),this}makeShear(_e,tt,nt,rt,it,st){return this.set(1,nt,it,0,_e,1,st,0,tt,rt,1,0,0,0,0,1),this}compose(_e,tt,nt){const rt=this.elements,it=tt._x,st=tt._y,ot=tt._z,at=tt._w,lt=it+it,ct=st+st,ut=ot+ot,ft=it*lt,ht=it*ct,pt=it*ut,gt=st*ct,dt=st*ut,vt=ot*ut,xt=at*lt,_t=at*ct,bt=at*ut,At=nt.x,Mt=nt.y,Tt=nt.z;return rt[0]=(1-(gt+vt))*At,rt[1]=(ht+bt)*At,rt[2]=(pt-_t)*At,rt[3]=0,rt[4]=(ht-bt)*Mt,rt[5]=(1-(ft+vt))*Mt,rt[6]=(dt+xt)*Mt,rt[7]=0,rt[8]=(pt+_t)*Tt,rt[9]=(dt-xt)*Tt,rt[10]=(1-(ft+gt))*Tt,rt[11]=0,rt[12]=_e.x,rt[13]=_e.y,rt[14]=_e.z,rt[15]=1,this}decompose(_e,tt,nt){const rt=this.elements;let it=_v1$5.set(rt[0],rt[1],rt[2]).length();const st=_v1$5.set(rt[4],rt[5],rt[6]).length(),ot=_v1$5.set(rt[8],rt[9],rt[10]).length();this.determinant()<0&&(it=-it),_e.x=rt[12],_e.y=rt[13],_e.z=rt[14],_m1$2.copy(this);const lt=1/it,ct=1/st,ut=1/ot;return _m1$2.elements[0]*=lt,_m1$2.elements[1]*=lt,_m1$2.elements[2]*=lt,_m1$2.elements[4]*=ct,_m1$2.elements[5]*=ct,_m1$2.elements[6]*=ct,_m1$2.elements[8]*=ut,_m1$2.elements[9]*=ut,_m1$2.elements[10]*=ut,tt.setFromRotationMatrix(_m1$2),nt.x=it,nt.y=st,nt.z=ot,this}makePerspective(_e,tt,nt,rt,it,st){const ot=this.elements,at=2*it/(tt-_e),lt=2*it/(nt-rt),ct=(tt+_e)/(tt-_e),ut=(nt+rt)/(nt-rt),ft=-(st+it)/(st-it),ht=-2*st*it/(st-it);return ot[0]=at,ot[4]=0,ot[8]=ct,ot[12]=0,ot[1]=0,ot[5]=lt,ot[9]=ut,ot[13]=0,ot[2]=0,ot[6]=0,ot[10]=ft,ot[14]=ht,ot[3]=0,ot[7]=0,ot[11]=-1,ot[15]=0,this}makeOrthographic(_e,tt,nt,rt,it,st){const ot=this.elements,at=1/(tt-_e),lt=1/(nt-rt),ct=1/(st-it),ut=(tt+_e)*at,ft=(nt+rt)*lt,ht=(st+it)*ct;return ot[0]=2*at,ot[4]=0,ot[8]=0,ot[12]=-ut,ot[1]=0,ot[5]=2*lt,ot[9]=0,ot[13]=-ft,ot[2]=0,ot[6]=0,ot[10]=-2*ct,ot[14]=-ht,ot[3]=0,ot[7]=0,ot[11]=0,ot[15]=1,this}equals(_e){const tt=this.elements,nt=_e.elements;for(let rt=0;rt<16;rt++)if(tt[rt]!==nt[rt])return!1;return!0}fromArray(_e,tt=0){for(let nt=0;nt<16;nt++)this.elements[nt]=_e[nt+tt];return this}toArray(_e=[],tt=0){const nt=this.elements;return _e[tt]=nt[0],_e[tt+1]=nt[1],_e[tt+2]=nt[2],_e[tt+3]=nt[3],_e[tt+4]=nt[4],_e[tt+5]=nt[5],_e[tt+6]=nt[6],_e[tt+7]=nt[7],_e[tt+8]=nt[8],_e[tt+9]=nt[9],_e[tt+10]=nt[10],_e[tt+11]=nt[11],_e[tt+12]=nt[12],_e[tt+13]=nt[13],_e[tt+14]=nt[14],_e[tt+15]=nt[15],_e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(_e=0,tt=0,nt=0,rt=Euler.DefaultOrder){this.isEuler=!0,this._x=_e,this._y=tt,this._z=nt,this._order=rt}get x(){return this._x}set x(_e){this._x=_e,this._onChangeCallback()}get y(){return this._y}set y(_e){this._y=_e,this._onChangeCallback()}get z(){return this._z}set z(_e){this._z=_e,this._onChangeCallback()}get order(){return this._order}set order(_e){this._order=_e,this._onChangeCallback()}set(_e,tt,nt,rt=this._order){return this._x=_e,this._y=tt,this._z=nt,this._order=rt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(_e){return this._x=_e._x,this._y=_e._y,this._z=_e._z,this._order=_e._order,this._onChangeCallback(),this}setFromRotationMatrix(_e,tt=this._order,nt=!0){const rt=_e.elements,it=rt[0],st=rt[4],ot=rt[8],at=rt[1],lt=rt[5],ct=rt[9],ut=rt[2],ft=rt[6],ht=rt[10];switch(tt){case"XYZ":this._y=Math.asin(clamp$5(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(-ct,ht),this._z=Math.atan2(-st,it)):(this._x=Math.atan2(ft,lt),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$5(ct,-1,1)),Math.abs(ct)<.9999999?(this._y=Math.atan2(ot,ht),this._z=Math.atan2(at,lt)):(this._y=Math.atan2(-ut,it),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$5(ft,-1,1)),Math.abs(ft)<.9999999?(this._y=Math.atan2(-ut,ht),this._z=Math.atan2(-st,lt)):(this._y=0,this._z=Math.atan2(at,it));break;case"ZYX":this._y=Math.asin(-clamp$5(ut,-1,1)),Math.abs(ut)<.9999999?(this._x=Math.atan2(ft,ht),this._z=Math.atan2(at,it)):(this._x=0,this._z=Math.atan2(-st,lt));break;case"YZX":this._z=Math.asin(clamp$5(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(-ct,lt),this._y=Math.atan2(-ut,it)):(this._x=0,this._y=Math.atan2(ot,ht));break;case"XZY":this._z=Math.asin(-clamp$5(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(ft,lt),this._y=Math.atan2(ot,it)):(this._x=Math.atan2(-ct,ht),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+tt)}return this._order=tt,nt===!0&&this._onChangeCallback(),this}setFromQuaternion(_e,tt,nt){return _matrix$1.makeRotationFromQuaternion(_e),this.setFromRotationMatrix(_matrix$1,tt,nt)}setFromVector3(_e,tt=this._order){return this.set(_e.x,_e.y,_e.z,tt)}reorder(_e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,_e)}equals(_e){return _e._x===this._x&&_e._y===this._y&&_e._z===this._z&&_e._order===this._order}fromArray(_e){return this._x=_e[0],this._y=_e[1],this._z=_e[2],_e[3]!==void 0&&(this._order=_e[3]),this._onChangeCallback(),this}toArray(_e=[],tt=0){return _e[tt]=this._x,_e[tt+1]=this._y,_e[tt+2]=this._z,_e[tt+3]=this._order,_e}_onChange(_e){return this._onChangeCallback=_e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Euler.DefaultOrder="XYZ";Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers{constructor(){this.mask=1}set(_e){this.mask=(1<<_e|0)>>>0}enable(_e){this.mask|=1<<_e|0}enableAll(){this.mask=-1}toggle(_e){this.mask^=1<<_e|0}disable(_e){this.mask&=~(1<<_e|0)}disableAll(){this.mask=0}test(_e){return(this.mask&_e.mask)!==0}isEnabled(_e){return(this.mask&(1<<_e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const _e=new Vector3,tt=new Euler,nt=new Quaternion,rt=new Vector3(1,1,1);function it(){nt.setFromEuler(tt,!1)}function st(){tt.setFromQuaternion(nt,void 0,!1)}tt._onChange(it),nt._onChange(st),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_e},rotation:{configurable:!0,enumerable:!0,value:tt},quaternion:{configurable:!0,enumerable:!0,value:nt},scale:{configurable:!0,enumerable:!0,value:rt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DefaultMatrixWorldAutoUpdate,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(_e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(_e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(_e){return this.quaternion.premultiply(_e),this}setRotationFromAxisAngle(_e,tt){this.quaternion.setFromAxisAngle(_e,tt)}setRotationFromEuler(_e){this.quaternion.setFromEuler(_e,!0)}setRotationFromMatrix(_e){this.quaternion.setFromRotationMatrix(_e)}setRotationFromQuaternion(_e){this.quaternion.copy(_e)}rotateOnAxis(_e,tt){return _q1.setFromAxisAngle(_e,tt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(_e,tt){return _q1.setFromAxisAngle(_e,tt),this.quaternion.premultiply(_q1),this}rotateX(_e){return this.rotateOnAxis(_xAxis,_e)}rotateY(_e){return this.rotateOnAxis(_yAxis,_e)}rotateZ(_e){return this.rotateOnAxis(_zAxis,_e)}translateOnAxis(_e,tt){return _v1$4.copy(_e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(tt)),this}translateX(_e){return this.translateOnAxis(_xAxis,_e)}translateY(_e){return this.translateOnAxis(_yAxis,_e)}translateZ(_e){return this.translateOnAxis(_zAxis,_e)}localToWorld(_e){return _e.applyMatrix4(this.matrixWorld)}worldToLocal(_e){return _e.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(_e,tt,nt){_e.isVector3?_target.copy(_e):_target.set(_e,tt,nt);const rt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),rt&&(_m1$1.extractRotation(rt.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(_e){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.add(arguments[tt]);return this}return _e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",_e),this):(_e&&_e.isObject3D?(_e.parent!==null&&_e.parent.remove(_e),_e.parent=this,this.children.push(_e),_e.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",_e),this)}remove(_e){if(arguments.length>1){for(let nt=0;nt<arguments.length;nt++)this.remove(arguments[nt]);return this}const tt=this.children.indexOf(_e);return tt!==-1&&(_e.parent=null,this.children.splice(tt,1),_e.dispatchEvent(_removedEvent)),this}removeFromParent(){const _e=this.parent;return _e!==null&&_e.remove(this),this}clear(){for(let _e=0;_e<this.children.length;_e++){const tt=this.children[_e];tt.parent=null,tt.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(_e){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),_e.parent!==null&&(_e.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(_e.parent.matrixWorld)),_e.applyMatrix4(_m1$1),this.add(_e),_e.updateWorldMatrix(!1,!0),this}getObjectById(_e){return this.getObjectByProperty("id",_e)}getObjectByName(_e){return this.getObjectByProperty("name",_e)}getObjectByProperty(_e,tt){if(this[_e]===tt)return this;for(let nt=0,rt=this.children.length;nt<rt;nt++){const st=this.children[nt].getObjectByProperty(_e,tt);if(st!==void 0)return st}}getWorldPosition(_e){return this.updateWorldMatrix(!0,!1),_e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(_e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_e,_scale$2),_e}getWorldScale(_e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,_e),_e}getWorldDirection(_e){this.updateWorldMatrix(!0,!1);const tt=this.matrixWorld.elements;return _e.set(tt[8],tt[9],tt[10]).normalize()}raycast(){}traverse(_e){_e(this);const tt=this.children;for(let nt=0,rt=tt.length;nt<rt;nt++)tt[nt].traverse(_e)}traverseVisible(_e){if(this.visible===!1)return;_e(this);const tt=this.children;for(let nt=0,rt=tt.length;nt<rt;nt++)tt[nt].traverseVisible(_e)}traverseAncestors(_e){const tt=this.parent;tt!==null&&(_e(tt),tt.traverseAncestors(_e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(_e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,_e=!0);const tt=this.children;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];(it.matrixWorldAutoUpdate===!0||_e===!0)&&it.updateMatrixWorld(_e)}}updateWorldMatrix(_e,tt){const nt=this.parent;if(_e===!0&&nt!==null&&nt.matrixWorldAutoUpdate===!0&&nt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),tt===!0){const rt=this.children;for(let it=0,st=rt.length;it<st;it++){const ot=rt[it];ot.matrixWorldAutoUpdate===!0&&ot.updateWorldMatrix(!1,!0)}}}toJSON(_e){const tt=_e===void 0||typeof _e=="string",nt={};tt&&(_e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},nt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const rt={};rt.uuid=this.uuid,rt.type=this.type,this.name!==""&&(rt.name=this.name),this.castShadow===!0&&(rt.castShadow=!0),this.receiveShadow===!0&&(rt.receiveShadow=!0),this.visible===!1&&(rt.visible=!1),this.frustumCulled===!1&&(rt.frustumCulled=!1),this.renderOrder!==0&&(rt.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(rt.userData=this.userData),rt.layers=this.layers.mask,rt.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(rt.matrixAutoUpdate=!1),this.isInstancedMesh&&(rt.type="InstancedMesh",rt.count=this.count,rt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(rt.instanceColor=this.instanceColor.toJSON()));function it(ot,at){return ot[at.uuid]===void 0&&(ot[at.uuid]=at.toJSON(_e)),at.uuid}if(this.isScene)this.background&&(this.background.isColor?rt.background=this.background.toJSON():this.background.isTexture&&(rt.background=this.background.toJSON(_e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(rt.environment=this.environment.toJSON(_e).uuid);else if(this.isMesh||this.isLine||this.isPoints){rt.geometry=it(_e.geometries,this.geometry);const ot=this.geometry.parameters;if(ot!==void 0&&ot.shapes!==void 0){const at=ot.shapes;if(Array.isArray(at))for(let lt=0,ct=at.length;lt<ct;lt++){const ut=at[lt];it(_e.shapes,ut)}else it(_e.shapes,at)}}if(this.isSkinnedMesh&&(rt.bindMode=this.bindMode,rt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(it(_e.skeletons,this.skeleton),rt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const ot=[];for(let at=0,lt=this.material.length;at<lt;at++)ot.push(it(_e.materials,this.material[at]));rt.material=ot}else rt.material=it(_e.materials,this.material);if(this.children.length>0){rt.children=[];for(let ot=0;ot<this.children.length;ot++)rt.children.push(this.children[ot].toJSON(_e).object)}if(this.animations.length>0){rt.animations=[];for(let ot=0;ot<this.animations.length;ot++){const at=this.animations[ot];rt.animations.push(it(_e.animations,at))}}if(tt){const ot=st(_e.geometries),at=st(_e.materials),lt=st(_e.textures),ct=st(_e.images),ut=st(_e.shapes),ft=st(_e.skeletons),ht=st(_e.animations),pt=st(_e.nodes);ot.length>0&&(nt.geometries=ot),at.length>0&&(nt.materials=at),lt.length>0&&(nt.textures=lt),ct.length>0&&(nt.images=ct),ut.length>0&&(nt.shapes=ut),ft.length>0&&(nt.skeletons=ft),ht.length>0&&(nt.animations=ht),pt.length>0&&(nt.nodes=pt)}return nt.object=rt,nt;function st(ot){const at=[];for(const lt in ot){const ct=ot[lt];delete ct.metadata,at.push(ct)}return at}}clone(_e){return new this.constructor().copy(this,_e)}copy(_e,tt=!0){if(this.name=_e.name,this.up.copy(_e.up),this.position.copy(_e.position),this.rotation.order=_e.rotation.order,this.quaternion.copy(_e.quaternion),this.scale.copy(_e.scale),this.matrix.copy(_e.matrix),this.matrixWorld.copy(_e.matrixWorld),this.matrixAutoUpdate=_e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=_e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=_e.matrixWorldAutoUpdate,this.layers.mask=_e.layers.mask,this.visible=_e.visible,this.castShadow=_e.castShadow,this.receiveShadow=_e.receiveShadow,this.frustumCulled=_e.frustumCulled,this.renderOrder=_e.renderOrder,this.userData=JSON.parse(JSON.stringify(_e.userData)),tt===!0)for(let nt=0;nt<_e.children.length;nt++){const rt=_e.children[nt];this.add(rt.clone())}return this}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.DefaultMatrixWorldAutoUpdate=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(_e=new Vector3,tt=new Vector3,nt=new Vector3){this.a=_e,this.b=tt,this.c=nt}static getNormal(_e,tt,nt,rt){rt.subVectors(nt,tt),_v0$1.subVectors(_e,tt),rt.cross(_v0$1);const it=rt.lengthSq();return it>0?rt.multiplyScalar(1/Math.sqrt(it)):rt.set(0,0,0)}static getBarycoord(_e,tt,nt,rt,it){_v0$1.subVectors(rt,tt),_v1$3.subVectors(nt,tt),_v2$2.subVectors(_e,tt);const st=_v0$1.dot(_v0$1),ot=_v0$1.dot(_v1$3),at=_v0$1.dot(_v2$2),lt=_v1$3.dot(_v1$3),ct=_v1$3.dot(_v2$2),ut=st*lt-ot*ot;if(ut===0)return it.set(-2,-1,-1);const ft=1/ut,ht=(lt*at-ot*ct)*ft,pt=(st*ct-ot*at)*ft;return it.set(1-ht-pt,pt,ht)}static containsPoint(_e,tt,nt,rt){return this.getBarycoord(_e,tt,nt,rt,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(_e,tt,nt,rt,it,st,ot,at){return this.getBarycoord(_e,tt,nt,rt,_v3$1),at.set(0,0),at.addScaledVector(it,_v3$1.x),at.addScaledVector(st,_v3$1.y),at.addScaledVector(ot,_v3$1.z),at}static isFrontFacing(_e,tt,nt,rt){return _v0$1.subVectors(nt,tt),_v1$3.subVectors(_e,tt),_v0$1.cross(_v1$3).dot(rt)<0}set(_e,tt,nt){return this.a.copy(_e),this.b.copy(tt),this.c.copy(nt),this}setFromPointsAndIndices(_e,tt,nt,rt){return this.a.copy(_e[tt]),this.b.copy(_e[nt]),this.c.copy(_e[rt]),this}setFromAttributeAndIndices(_e,tt,nt,rt){return this.a.fromBufferAttribute(_e,tt),this.b.fromBufferAttribute(_e,nt),this.c.fromBufferAttribute(_e,rt),this}clone(){return new this.constructor().copy(this)}copy(_e){return this.a.copy(_e.a),this.b.copy(_e.b),this.c.copy(_e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(_e){return _e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(_e){return Triangle.getNormal(this.a,this.b,this.c,_e)}getPlane(_e){return _e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(_e,tt){return Triangle.getBarycoord(_e,this.a,this.b,this.c,tt)}getUV(_e,tt,nt,rt,it){return Triangle.getUV(_e,this.a,this.b,this.c,tt,nt,rt,it)}containsPoint(_e){return Triangle.containsPoint(_e,this.a,this.b,this.c)}isFrontFacing(_e){return Triangle.isFrontFacing(this.a,this.b,this.c,_e)}intersectsBox(_e){return _e.intersectsTriangle(this)}closestPointToPoint(_e,tt){const nt=this.a,rt=this.b,it=this.c;let st,ot;_vab.subVectors(rt,nt),_vac.subVectors(it,nt),_vap.subVectors(_e,nt);const at=_vab.dot(_vap),lt=_vac.dot(_vap);if(at<=0&&lt<=0)return tt.copy(nt);_vbp.subVectors(_e,rt);const ct=_vab.dot(_vbp),ut=_vac.dot(_vbp);if(ct>=0&&ut<=ct)return tt.copy(rt);const ft=at*ut-ct*lt;if(ft<=0&&at>=0&&ct<=0)return st=at/(at-ct),tt.copy(nt).addScaledVector(_vab,st);_vcp.subVectors(_e,it);const ht=_vab.dot(_vcp),pt=_vac.dot(_vcp);if(pt>=0&&ht<=pt)return tt.copy(it);const gt=ht*lt-at*pt;if(gt<=0&&lt>=0&&pt<=0)return ot=lt/(lt-pt),tt.copy(nt).addScaledVector(_vac,ot);const dt=ct*pt-ht*ut;if(dt<=0&&ut-ct>=0&&ht-pt>=0)return _vbc.subVectors(it,rt),ot=(ut-ct)/(ut-ct+(ht-pt)),tt.copy(rt).addScaledVector(_vbc,ot);const vt=1/(dt+gt+ft);return st=gt*vt,ot=ft*vt,tt.copy(nt).addScaledVector(_vab,st).addScaledVector(_vac,ot)}equals(_e){return _e.a.equals(this.a)&&_e.b.equals(this.b)&&_e.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(_e){this._alphaTest>0!=_e>0&&this.version++,this._alphaTest=_e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(_e){if(_e!==void 0)for(const tt in _e){const nt=_e[tt];if(nt===void 0){console.warn("THREE.Material: '"+tt+"' parameter is undefined.");continue}const rt=this[tt];if(rt===void 0){console.warn("THREE."+this.type+": '"+tt+"' is not a property of this material.");continue}rt&&rt.isColor?rt.set(nt):rt&&rt.isVector3&&nt&&nt.isVector3?rt.copy(nt):this[tt]=nt}}toJSON(_e){const tt=_e===void 0||typeof _e=="string";tt&&(_e={textures:{},images:{}});const nt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.color&&this.color.isColor&&(nt.color=this.color.getHex()),this.roughness!==void 0&&(nt.roughness=this.roughness),this.metalness!==void 0&&(nt.metalness=this.metalness),this.sheen!==void 0&&(nt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(nt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(nt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(nt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(nt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(nt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(nt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(nt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(nt.shininess=this.shininess),this.clearcoat!==void 0&&(nt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(nt.clearcoatMap=this.clearcoatMap.toJSON(_e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(nt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(_e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(nt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(_e).uuid,nt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(nt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(nt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(nt.iridescenceMap=this.iridescenceMap.toJSON(_e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(nt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(_e).uuid),this.map&&this.map.isTexture&&(nt.map=this.map.toJSON(_e).uuid),this.matcap&&this.matcap.isTexture&&(nt.matcap=this.matcap.toJSON(_e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(nt.alphaMap=this.alphaMap.toJSON(_e).uuid),this.lightMap&&this.lightMap.isTexture&&(nt.lightMap=this.lightMap.toJSON(_e).uuid,nt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(nt.aoMap=this.aoMap.toJSON(_e).uuid,nt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(nt.bumpMap=this.bumpMap.toJSON(_e).uuid,nt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(nt.normalMap=this.normalMap.toJSON(_e).uuid,nt.normalMapType=this.normalMapType,nt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(nt.displacementMap=this.displacementMap.toJSON(_e).uuid,nt.displacementScale=this.displacementScale,nt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(nt.roughnessMap=this.roughnessMap.toJSON(_e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(nt.metalnessMap=this.metalnessMap.toJSON(_e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(nt.emissiveMap=this.emissiveMap.toJSON(_e).uuid),this.specularMap&&this.specularMap.isTexture&&(nt.specularMap=this.specularMap.toJSON(_e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(nt.specularIntensityMap=this.specularIntensityMap.toJSON(_e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(nt.specularColorMap=this.specularColorMap.toJSON(_e).uuid),this.envMap&&this.envMap.isTexture&&(nt.envMap=this.envMap.toJSON(_e).uuid,this.combine!==void 0&&(nt.combine=this.combine)),this.envMapIntensity!==void 0&&(nt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(nt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(nt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(nt.gradientMap=this.gradientMap.toJSON(_e).uuid),this.transmission!==void 0&&(nt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(nt.transmissionMap=this.transmissionMap.toJSON(_e).uuid),this.thickness!==void 0&&(nt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(nt.thicknessMap=this.thicknessMap.toJSON(_e).uuid),this.attenuationDistance!==void 0&&(nt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(nt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(nt.size=this.size),this.shadowSide!==null&&(nt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(nt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(nt.blending=this.blending),this.side!==FrontSide&&(nt.side=this.side),this.vertexColors&&(nt.vertexColors=!0),this.opacity<1&&(nt.opacity=this.opacity),this.transparent===!0&&(nt.transparent=this.transparent),nt.depthFunc=this.depthFunc,nt.depthTest=this.depthTest,nt.depthWrite=this.depthWrite,nt.colorWrite=this.colorWrite,nt.stencilWrite=this.stencilWrite,nt.stencilWriteMask=this.stencilWriteMask,nt.stencilFunc=this.stencilFunc,nt.stencilRef=this.stencilRef,nt.stencilFuncMask=this.stencilFuncMask,nt.stencilFail=this.stencilFail,nt.stencilZFail=this.stencilZFail,nt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(nt.rotation=this.rotation),this.polygonOffset===!0&&(nt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(nt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(nt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(nt.linewidth=this.linewidth),this.dashSize!==void 0&&(nt.dashSize=this.dashSize),this.gapSize!==void 0&&(nt.gapSize=this.gapSize),this.scale!==void 0&&(nt.scale=this.scale),this.dithering===!0&&(nt.dithering=!0),this.alphaTest>0&&(nt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(nt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(nt.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(nt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(nt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(nt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(nt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(nt.flatShading=this.flatShading),this.visible===!1&&(nt.visible=!1),this.toneMapped===!1&&(nt.toneMapped=!1),this.fog===!1&&(nt.fog=!1),JSON.stringify(this.userData)!=="{}"&&(nt.userData=this.userData);function rt(it){const st=[];for(const ot in it){const at=it[ot];delete at.metadata,st.push(at)}return st}if(tt){const it=rt(_e.textures),st=rt(_e.images);it.length>0&&(nt.textures=it),st.length>0&&(nt.images=st)}return nt}clone(){return new this.constructor().copy(this)}copy(_e){this.name=_e.name,this.blending=_e.blending,this.side=_e.side,this.vertexColors=_e.vertexColors,this.opacity=_e.opacity,this.transparent=_e.transparent,this.blendSrc=_e.blendSrc,this.blendDst=_e.blendDst,this.blendEquation=_e.blendEquation,this.blendSrcAlpha=_e.blendSrcAlpha,this.blendDstAlpha=_e.blendDstAlpha,this.blendEquationAlpha=_e.blendEquationAlpha,this.depthFunc=_e.depthFunc,this.depthTest=_e.depthTest,this.depthWrite=_e.depthWrite,this.stencilWriteMask=_e.stencilWriteMask,this.stencilFunc=_e.stencilFunc,this.stencilRef=_e.stencilRef,this.stencilFuncMask=_e.stencilFuncMask,this.stencilFail=_e.stencilFail,this.stencilZFail=_e.stencilZFail,this.stencilZPass=_e.stencilZPass,this.stencilWrite=_e.stencilWrite;const tt=_e.clippingPlanes;let nt=null;if(tt!==null){const rt=tt.length;nt=new Array(rt);for(let it=0;it!==rt;++it)nt[it]=tt[it].clone()}return this.clippingPlanes=nt,this.clipIntersection=_e.clipIntersection,this.clipShadows=_e.clipShadows,this.shadowSide=_e.shadowSide,this.colorWrite=_e.colorWrite,this.precision=_e.precision,this.polygonOffset=_e.polygonOffset,this.polygonOffsetFactor=_e.polygonOffsetFactor,this.polygonOffsetUnits=_e.polygonOffsetUnits,this.dithering=_e.dithering,this.alphaTest=_e.alphaTest,this.alphaToCoverage=_e.alphaToCoverage,this.premultipliedAlpha=_e.premultipliedAlpha,this.visible=_e.visible,this.toneMapped=_e.toneMapped,this.userData=JSON.parse(JSON.stringify(_e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_e){_e===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(_e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$2(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.fog=_e.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(_e,tt,nt){if(Array.isArray(_e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=_e,this.itemSize=tt,this.count=_e!==void 0?_e.length/tt:0,this.normalized=nt===!0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(_e){_e===!0&&this.version++}setUsage(_e){return this.usage=_e,this}copy(_e){return this.name=_e.name,this.array=new _e.array.constructor(_e.array),this.itemSize=_e.itemSize,this.count=_e.count,this.normalized=_e.normalized,this.usage=_e.usage,this}copyAt(_e,tt,nt){_e*=this.itemSize,nt*=tt.itemSize;for(let rt=0,it=this.itemSize;rt<it;rt++)this.array[_e+rt]=tt.array[nt+rt];return this}copyArray(_e){return this.array.set(_e),this}applyMatrix3(_e){if(this.itemSize===2)for(let tt=0,nt=this.count;tt<nt;tt++)_vector2$1.fromBufferAttribute(this,tt),_vector2$1.applyMatrix3(_e),this.setXY(tt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyMatrix3(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(_e){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyMatrix4(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(_e){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyNormalMatrix(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(_e){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.transformDirection(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(_e,tt=0){return this.array.set(_e,tt),this}getX(_e){let tt=this.array[_e*this.itemSize];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setX(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.array[_e*this.itemSize]=tt,this}getY(_e){let tt=this.array[_e*this.itemSize+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setY(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.array[_e*this.itemSize+1]=tt,this}getZ(_e){let tt=this.array[_e*this.itemSize+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setZ(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.array[_e*this.itemSize+2]=tt,this}getW(_e){let tt=this.array[_e*this.itemSize+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setW(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.array[_e*this.itemSize+3]=tt,this}setXY(_e,tt,nt){return _e*=this.itemSize,this.normalized&&(tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array)),this.array[_e+0]=tt,this.array[_e+1]=nt,this}setXYZ(_e,tt,nt,rt){return _e*=this.itemSize,this.normalized&&(tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array),rt=normalize$5(rt,this.array)),this.array[_e+0]=tt,this.array[_e+1]=nt,this.array[_e+2]=rt,this}setXYZW(_e,tt,nt,rt,it){return _e*=this.itemSize,this.normalized&&(tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array),rt=normalize$5(rt,this.array),it=normalize$5(it,this.array)),this.array[_e+0]=tt,this.array[_e+1]=nt,this.array[_e+2]=rt,this.array[_e+3]=it,this}onUpload(_e){return this.onUploadCallback=_e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const _e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(_e.name=this.name),this.usage!==StaticDrawUsage&&(_e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(_e.updateRange=this.updateRange),_e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Int8Array(_e),tt,nt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Uint8Array(_e),tt,nt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Uint8ClampedArray(_e),tt,nt)}}class Int16BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Int16Array(_e),tt,nt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Uint16Array(_e),tt,nt)}}class Int32BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Int32Array(_e),tt,nt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Uint32Array(_e),tt,nt)}}class Float16BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Uint16Array(_e),tt,nt),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Float32Array(_e),tt,nt)}}class Float64BufferAttribute extends BufferAttribute{constructor(_e,tt,nt){super(new Float64Array(_e),tt,nt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(_e){return Array.isArray(_e)?this.index=new(arrayNeedsUint32(_e)?Uint32BufferAttribute:Uint16BufferAttribute)(_e,1):this.index=_e,this}getAttribute(_e){return this.attributes[_e]}setAttribute(_e,tt){return this.attributes[_e]=tt,this}deleteAttribute(_e){return delete this.attributes[_e],this}hasAttribute(_e){return this.attributes[_e]!==void 0}addGroup(_e,tt,nt=0){this.groups.push({start:_e,count:tt,materialIndex:nt})}clearGroups(){this.groups=[]}setDrawRange(_e,tt){this.drawRange.start=_e,this.drawRange.count=tt}applyMatrix4(_e){const tt=this.attributes.position;tt!==void 0&&(tt.applyMatrix4(_e),tt.needsUpdate=!0);const nt=this.attributes.normal;if(nt!==void 0){const it=new Matrix3().getNormalMatrix(_e);nt.applyNormalMatrix(it),nt.needsUpdate=!0}const rt=this.attributes.tangent;return rt!==void 0&&(rt.transformDirection(_e),rt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(_e){return _m1.makeRotationFromQuaternion(_e),this.applyMatrix4(_m1),this}rotateX(_e){return _m1.makeRotationX(_e),this.applyMatrix4(_m1),this}rotateY(_e){return _m1.makeRotationY(_e),this.applyMatrix4(_m1),this}rotateZ(_e){return _m1.makeRotationZ(_e),this.applyMatrix4(_m1),this}translate(_e,tt,nt){return _m1.makeTranslation(_e,tt,nt),this.applyMatrix4(_m1),this}scale(_e,tt,nt){return _m1.makeScale(_e,tt,nt),this.applyMatrix4(_m1),this}lookAt(_e){return _obj.lookAt(_e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(_e){const tt=[];for(let nt=0,rt=_e.length;nt<rt;nt++){const it=_e[nt];tt.push(it.x,it.y,it.z||0)}return this.setAttribute("position",new Float32BufferAttribute(tt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _e=this.attributes.position,tt=this.morphAttributes.position;if(_e&&_e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(_e!==void 0){if(this.boundingBox.setFromBufferAttribute(_e),tt)for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];_box$1.setFromBufferAttribute(it),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const _e=this.attributes.position,tt=this.morphAttributes.position;if(_e&&_e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(_e){const nt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(_e),tt)for(let it=0,st=tt.length;it<st;it++){const ot=tt[it];_boxMorphTargets.setFromBufferAttribute(ot),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(nt);let rt=0;for(let it=0,st=_e.count;it<st;it++)_vector$8.fromBufferAttribute(_e,it),rt=Math.max(rt,nt.distanceToSquared(_vector$8));if(tt)for(let it=0,st=tt.length;it<st;it++){const ot=tt[it],at=this.morphTargetsRelative;for(let lt=0,ct=ot.count;lt<ct;lt++)_vector$8.fromBufferAttribute(ot,lt),at&&(_offset.fromBufferAttribute(_e,lt),_vector$8.add(_offset)),rt=Math.max(rt,nt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(rt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const _e=this.index,tt=this.attributes;if(_e===null||tt.position===void 0||tt.normal===void 0||tt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const nt=_e.array,rt=tt.position.array,it=tt.normal.array,st=tt.uv.array,ot=rt.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*ot),4));const at=this.getAttribute("tangent").array,lt=[],ct=[];for(let Et=0;Et<ot;Et++)lt[Et]=new Vector3,ct[Et]=new Vector3;const ut=new Vector3,ft=new Vector3,ht=new Vector3,pt=new Vector2,gt=new Vector2,dt=new Vector2,vt=new Vector3,xt=new Vector3;function _t(Et,Rt,It){ut.fromArray(rt,Et*3),ft.fromArray(rt,Rt*3),ht.fromArray(rt,It*3),pt.fromArray(st,Et*2),gt.fromArray(st,Rt*2),dt.fromArray(st,It*2),ft.sub(ut),ht.sub(ut),gt.sub(pt),dt.sub(pt);const Ot=1/(gt.x*dt.y-dt.x*gt.y);!isFinite(Ot)||(vt.copy(ft).multiplyScalar(dt.y).addScaledVector(ht,-gt.y).multiplyScalar(Ot),xt.copy(ht).multiplyScalar(gt.x).addScaledVector(ft,-dt.x).multiplyScalar(Ot),lt[Et].add(vt),lt[Rt].add(vt),lt[It].add(vt),ct[Et].add(xt),ct[Rt].add(xt),ct[It].add(xt))}let bt=this.groups;bt.length===0&&(bt=[{start:0,count:nt.length}]);for(let Et=0,Rt=bt.length;Et<Rt;++Et){const It=bt[Et],Ot=It.start,kt=It.count;for(let $t=Ot,jt=Ot+kt;$t<jt;$t+=3)_t(nt[$t+0],nt[$t+1],nt[$t+2])}const At=new Vector3,Mt=new Vector3,Tt=new Vector3,St=new Vector3;function Ct(Et){Tt.fromArray(it,Et*3),St.copy(Tt);const Rt=lt[Et];At.copy(Rt),At.sub(Tt.multiplyScalar(Tt.dot(Rt))).normalize(),Mt.crossVectors(St,Rt);const Ot=Mt.dot(ct[Et])<0?-1:1;at[Et*4]=At.x,at[Et*4+1]=At.y,at[Et*4+2]=At.z,at[Et*4+3]=Ot}for(let Et=0,Rt=bt.length;Et<Rt;++Et){const It=bt[Et],Ot=It.start,kt=It.count;for(let $t=Ot,jt=Ot+kt;$t<jt;$t+=3)Ct(nt[$t+0]),Ct(nt[$t+1]),Ct(nt[$t+2])}}computeVertexNormals(){const _e=this.index,tt=this.getAttribute("position");if(tt!==void 0){let nt=this.getAttribute("normal");if(nt===void 0)nt=new BufferAttribute(new Float32Array(tt.count*3),3),this.setAttribute("normal",nt);else for(let ft=0,ht=nt.count;ft<ht;ft++)nt.setXYZ(ft,0,0,0);const rt=new Vector3,it=new Vector3,st=new Vector3,ot=new Vector3,at=new Vector3,lt=new Vector3,ct=new Vector3,ut=new Vector3;if(_e)for(let ft=0,ht=_e.count;ft<ht;ft+=3){const pt=_e.getX(ft+0),gt=_e.getX(ft+1),dt=_e.getX(ft+2);rt.fromBufferAttribute(tt,pt),it.fromBufferAttribute(tt,gt),st.fromBufferAttribute(tt,dt),ct.subVectors(st,it),ut.subVectors(rt,it),ct.cross(ut),ot.fromBufferAttribute(nt,pt),at.fromBufferAttribute(nt,gt),lt.fromBufferAttribute(nt,dt),ot.add(ct),at.add(ct),lt.add(ct),nt.setXYZ(pt,ot.x,ot.y,ot.z),nt.setXYZ(gt,at.x,at.y,at.z),nt.setXYZ(dt,lt.x,lt.y,lt.z)}else for(let ft=0,ht=tt.count;ft<ht;ft+=3)rt.fromBufferAttribute(tt,ft+0),it.fromBufferAttribute(tt,ft+1),st.fromBufferAttribute(tt,ft+2),ct.subVectors(st,it),ut.subVectors(rt,it),ct.cross(ut),nt.setXYZ(ft+0,ct.x,ct.y,ct.z),nt.setXYZ(ft+1,ct.x,ct.y,ct.z),nt.setXYZ(ft+2,ct.x,ct.y,ct.z);this.normalizeNormals(),nt.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const _e=this.attributes.normal;for(let tt=0,nt=_e.count;tt<nt;tt++)_vector$8.fromBufferAttribute(_e,tt),_vector$8.normalize(),_e.setXYZ(tt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function _e(ot,at){const lt=ot.array,ct=ot.itemSize,ut=ot.normalized,ft=new lt.constructor(at.length*ct);let ht=0,pt=0;for(let gt=0,dt=at.length;gt<dt;gt++){ot.isInterleavedBufferAttribute?ht=at[gt]*ot.data.stride+ot.offset:ht=at[gt]*ct;for(let vt=0;vt<ct;vt++)ft[pt++]=lt[ht++]}return new BufferAttribute(ft,ct,ut)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const tt=new BufferGeometry,nt=this.index.array,rt=this.attributes;for(const ot in rt){const at=rt[ot],lt=_e(at,nt);tt.setAttribute(ot,lt)}const it=this.morphAttributes;for(const ot in it){const at=[],lt=it[ot];for(let ct=0,ut=lt.length;ct<ut;ct++){const ft=lt[ct],ht=_e(ft,nt);at.push(ht)}tt.morphAttributes[ot]=at}tt.morphTargetsRelative=this.morphTargetsRelative;const st=this.groups;for(let ot=0,at=st.length;ot<at;ot++){const lt=st[ot];tt.addGroup(lt.start,lt.count,lt.materialIndex)}return tt}toJSON(){const _e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(_e.uuid=this.uuid,_e.type=this.type,this.name!==""&&(_e.name=this.name),Object.keys(this.userData).length>0&&(_e.userData=this.userData),this.parameters!==void 0){const at=this.parameters;for(const lt in at)at[lt]!==void 0&&(_e[lt]=at[lt]);return _e}_e.data={attributes:{}};const tt=this.index;tt!==null&&(_e.data.index={type:tt.array.constructor.name,array:Array.prototype.slice.call(tt.array)});const nt=this.attributes;for(const at in nt){const lt=nt[at];_e.data.attributes[at]=lt.toJSON(_e.data)}const rt={};let it=!1;for(const at in this.morphAttributes){const lt=this.morphAttributes[at],ct=[];for(let ut=0,ft=lt.length;ut<ft;ut++){const ht=lt[ut];ct.push(ht.toJSON(_e.data))}ct.length>0&&(rt[at]=ct,it=!0)}it&&(_e.data.morphAttributes=rt,_e.data.morphTargetsRelative=this.morphTargetsRelative);const st=this.groups;st.length>0&&(_e.data.groups=JSON.parse(JSON.stringify(st)));const ot=this.boundingSphere;return ot!==null&&(_e.data.boundingSphere={center:ot.center.toArray(),radius:ot.radius}),_e}clone(){return new this.constructor().copy(this)}copy(_e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const tt={};this.name=_e.name;const nt=_e.index;nt!==null&&this.setIndex(nt.clone(tt));const rt=_e.attributes;for(const lt in rt){const ct=rt[lt];this.setAttribute(lt,ct.clone(tt))}const it=_e.morphAttributes;for(const lt in it){const ct=[],ut=it[lt];for(let ft=0,ht=ut.length;ft<ht;ft++)ct.push(ut[ft].clone(tt));this.morphAttributes[lt]=ct}this.morphTargetsRelative=_e.morphTargetsRelative;const st=_e.groups;for(let lt=0,ct=st.length;lt<ct;lt++){const ut=st[lt];this.addGroup(ut.start,ut.count,ut.materialIndex)}const ot=_e.boundingBox;ot!==null&&(this.boundingBox=ot.clone());const at=_e.boundingSphere;return at!==null&&(this.boundingSphere=at.clone()),this.drawRange.start=_e.drawRange.start,this.drawRange.count=_e.drawRange.count,this.userData=_e.userData,_e.parameters!==void 0&&(this.parameters=Object.assign({},_e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere$1,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_tempB=new Vector3,_tempC=new Vector3,_morphA=new Vector3,_morphB=new Vector3,_morphC=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(_e=new BufferGeometry,tt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=_e,this.material=tt,this.updateMorphTargets()}copy(_e,tt){return super.copy(_e,tt),_e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=_e.morphTargetInfluences.slice()),_e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},_e.morphTargetDictionary)),this.material=_e.material,this.geometry=_e.geometry,this}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const rt=tt[nt[0]];if(rt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,st=rt.length;it<st;it++){const ot=rt[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=it}}}}raycast(_e,tt){const nt=this.geometry,rt=this.material,it=this.matrixWorld;if(rt===void 0||(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$3.copy(nt.boundingSphere),_sphere$3.applyMatrix4(it),_e.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(it).invert(),_ray$2.copy(_e.ray).applyMatrix4(_inverseMatrix$2),nt.boundingBox!==null&&_ray$2.intersectsBox(nt.boundingBox)===!1))return;let st;const ot=nt.index,at=nt.attributes.position,lt=nt.morphAttributes.position,ct=nt.morphTargetsRelative,ut=nt.attributes.uv,ft=nt.attributes.uv2,ht=nt.groups,pt=nt.drawRange;if(ot!==null)if(Array.isArray(rt))for(let gt=0,dt=ht.length;gt<dt;gt++){const vt=ht[gt],xt=rt[vt.materialIndex],_t=Math.max(vt.start,pt.start),bt=Math.min(ot.count,Math.min(vt.start+vt.count,pt.start+pt.count));for(let At=_t,Mt=bt;At<Mt;At+=3){const Tt=ot.getX(At),St=ot.getX(At+1),Ct=ot.getX(At+2);st=checkBufferGeometryIntersection(this,xt,_e,_ray$2,at,lt,ct,ut,ft,Tt,St,Ct),st&&(st.faceIndex=Math.floor(At/3),st.face.materialIndex=vt.materialIndex,tt.push(st))}}else{const gt=Math.max(0,pt.start),dt=Math.min(ot.count,pt.start+pt.count);for(let vt=gt,xt=dt;vt<xt;vt+=3){const _t=ot.getX(vt),bt=ot.getX(vt+1),At=ot.getX(vt+2);st=checkBufferGeometryIntersection(this,rt,_e,_ray$2,at,lt,ct,ut,ft,_t,bt,At),st&&(st.faceIndex=Math.floor(vt/3),tt.push(st))}}else if(at!==void 0)if(Array.isArray(rt))for(let gt=0,dt=ht.length;gt<dt;gt++){const vt=ht[gt],xt=rt[vt.materialIndex],_t=Math.max(vt.start,pt.start),bt=Math.min(at.count,Math.min(vt.start+vt.count,pt.start+pt.count));for(let At=_t,Mt=bt;At<Mt;At+=3){const Tt=At,St=At+1,Ct=At+2;st=checkBufferGeometryIntersection(this,xt,_e,_ray$2,at,lt,ct,ut,ft,Tt,St,Ct),st&&(st.faceIndex=Math.floor(At/3),st.face.materialIndex=vt.materialIndex,tt.push(st))}}else{const gt=Math.max(0,pt.start),dt=Math.min(at.count,pt.start+pt.count);for(let vt=gt,xt=dt;vt<xt;vt+=3){const _t=vt,bt=vt+1,At=vt+2;st=checkBufferGeometryIntersection(this,rt,_e,_ray$2,at,lt,ct,ut,ft,_t,bt,At),st&&(st.faceIndex=Math.floor(vt/3),tt.push(st))}}}}function checkIntersection(et,_e,tt,nt,rt,it,st,ot){let at;if(_e.side===BackSide?at=nt.intersectTriangle(st,it,rt,!0,ot):at=nt.intersectTriangle(rt,it,st,_e.side!==DoubleSide,ot),at===null)return null;_intersectionPointWorld.copy(ot),_intersectionPointWorld.applyMatrix4(et.matrixWorld);const lt=tt.ray.origin.distanceTo(_intersectionPointWorld);return lt<tt.near||lt>tt.far?null:{distance:lt,point:_intersectionPointWorld.clone(),object:et}}function checkBufferGeometryIntersection(et,_e,tt,nt,rt,it,st,ot,at,lt,ct,ut){_vA$1.fromBufferAttribute(rt,lt),_vB$1.fromBufferAttribute(rt,ct),_vC$1.fromBufferAttribute(rt,ut);const ft=et.morphTargetInfluences;if(it&&ft){_morphA.set(0,0,0),_morphB.set(0,0,0),_morphC.set(0,0,0);for(let pt=0,gt=it.length;pt<gt;pt++){const dt=ft[pt],vt=it[pt];dt!==0&&(_tempA.fromBufferAttribute(vt,lt),_tempB.fromBufferAttribute(vt,ct),_tempC.fromBufferAttribute(vt,ut),st?(_morphA.addScaledVector(_tempA,dt),_morphB.addScaledVector(_tempB,dt),_morphC.addScaledVector(_tempC,dt)):(_morphA.addScaledVector(_tempA.sub(_vA$1),dt),_morphB.addScaledVector(_tempB.sub(_vB$1),dt),_morphC.addScaledVector(_tempC.sub(_vC$1),dt)))}_vA$1.add(_morphA),_vB$1.add(_morphB),_vC$1.add(_morphC)}et.isSkinnedMesh&&(et.boneTransform(lt,_vA$1),et.boneTransform(ct,_vB$1),et.boneTransform(ut,_vC$1));const ht=checkIntersection(et,_e,tt,nt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ht){ot&&(_uvA$1.fromBufferAttribute(ot,lt),_uvB$1.fromBufferAttribute(ot,ct),_uvC$1.fromBufferAttribute(ot,ut),ht.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),at&&(_uvA$1.fromBufferAttribute(at,lt),_uvB$1.fromBufferAttribute(at,ct),_uvC$1.fromBufferAttribute(at,ut),ht.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const pt={a:lt,b:ct,c:ut,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,pt.normal),ht.face=pt}return ht}class BoxGeometry extends BufferGeometry{constructor(_e=1,tt=1,nt=1,rt=1,it=1,st=1){super(),this.type="BoxGeometry",this.parameters={width:_e,height:tt,depth:nt,widthSegments:rt,heightSegments:it,depthSegments:st};const ot=this;rt=Math.floor(rt),it=Math.floor(it),st=Math.floor(st);const at=[],lt=[],ct=[],ut=[];let ft=0,ht=0;pt("z","y","x",-1,-1,nt,tt,_e,st,it,0),pt("z","y","x",1,-1,nt,tt,-_e,st,it,1),pt("x","z","y",1,1,_e,nt,tt,rt,st,2),pt("x","z","y",1,-1,_e,nt,-tt,rt,st,3),pt("x","y","z",1,-1,_e,tt,nt,rt,it,4),pt("x","y","z",-1,-1,_e,tt,-nt,rt,it,5),this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function pt(gt,dt,vt,xt,_t,bt,At,Mt,Tt,St,Ct){const Et=bt/Tt,Rt=At/St,It=bt/2,Ot=At/2,kt=Mt/2,$t=Tt+1,jt=St+1;let Ht=0,Bt=0;const Lt=new Vector3;for(let Ft=0;Ft<jt;Ft++){const Vt=Ft*Rt-Ot;for(let Yt=0;Yt<$t;Yt++){const rn=Yt*Et-It;Lt[gt]=rn*xt,Lt[dt]=Vt*_t,Lt[vt]=kt,lt.push(Lt.x,Lt.y,Lt.z),Lt[gt]=0,Lt[dt]=0,Lt[vt]=Mt>0?1:-1,ct.push(Lt.x,Lt.y,Lt.z),ut.push(Yt/Tt),ut.push(1-Ft/St),Ht+=1}}for(let Ft=0;Ft<St;Ft++)for(let Vt=0;Vt<Tt;Vt++){const Yt=ft+Vt+$t*Ft,rn=ft+Vt+$t*(Ft+1),sn=ft+(Vt+1)+$t*(Ft+1),cn=ft+(Vt+1)+$t*Ft;at.push(Yt,rn,cn),at.push(rn,sn,cn),Bt+=6}ot.addGroup(ht,Bt,Ct),ht+=Bt,ft+=Ht}}static fromJSON(_e){return new BoxGeometry(_e.width,_e.height,_e.depth,_e.widthSegments,_e.heightSegments,_e.depthSegments)}}function cloneUniforms(et){const _e={};for(const tt in et){_e[tt]={};for(const nt in et[tt]){const rt=et[tt][nt];rt&&(rt.isColor||rt.isMatrix3||rt.isMatrix4||rt.isVector2||rt.isVector3||rt.isVector4||rt.isTexture||rt.isQuaternion)?_e[tt][nt]=rt.clone():Array.isArray(rt)?_e[tt][nt]=rt.slice():_e[tt][nt]=rt}}return _e}function mergeUniforms(et){const _e={};for(let tt=0;tt<et.length;tt++){const nt=cloneUniforms(et[tt]);for(const rt in nt)_e[rt]=nt[rt]}return _e}function cloneUniformsGroups(et){const _e=[];for(let tt=0;tt<et.length;tt++)_e.push(et[tt].clone());return _e}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(_e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,_e!==void 0&&this.setValues(_e)}copy(_e){return super.copy(_e),this.fragmentShader=_e.fragmentShader,this.vertexShader=_e.vertexShader,this.uniforms=cloneUniforms(_e.uniforms),this.uniformsGroups=cloneUniformsGroups(_e.uniformsGroups),this.defines=Object.assign({},_e.defines),this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.fog=_e.fog,this.lights=_e.lights,this.clipping=_e.clipping,this.extensions=Object.assign({},_e.extensions),this.glslVersion=_e.glslVersion,this}toJSON(_e){const tt=super.toJSON(_e);tt.glslVersion=this.glslVersion,tt.uniforms={};for(const rt in this.uniforms){const st=this.uniforms[rt].value;st&&st.isTexture?tt.uniforms[rt]={type:"t",value:st.toJSON(_e).uuid}:st&&st.isColor?tt.uniforms[rt]={type:"c",value:st.getHex()}:st&&st.isVector2?tt.uniforms[rt]={type:"v2",value:st.toArray()}:st&&st.isVector3?tt.uniforms[rt]={type:"v3",value:st.toArray()}:st&&st.isVector4?tt.uniforms[rt]={type:"v4",value:st.toArray()}:st&&st.isMatrix3?tt.uniforms[rt]={type:"m3",value:st.toArray()}:st&&st.isMatrix4?tt.uniforms[rt]={type:"m4",value:st.toArray()}:tt.uniforms[rt]={value:st}}Object.keys(this.defines).length>0&&(tt.defines=this.defines),tt.vertexShader=this.vertexShader,tt.fragmentShader=this.fragmentShader;const nt={};for(const rt in this.extensions)this.extensions[rt]===!0&&(nt[rt]=!0);return Object.keys(nt).length>0&&(tt.extensions=nt),tt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(_e,tt){return super.copy(_e,tt),this.matrixWorldInverse.copy(_e.matrixWorldInverse),this.projectionMatrix.copy(_e.projectionMatrix),this.projectionMatrixInverse.copy(_e.projectionMatrixInverse),this}getWorldDirection(_e){this.updateWorldMatrix(!0,!1);const tt=this.matrixWorld.elements;return _e.set(-tt[8],-tt[9],-tt[10]).normalize()}updateMatrixWorld(_e){super.updateMatrixWorld(_e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(_e,tt){super.updateWorldMatrix(_e,tt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera$1 extends Camera{constructor(_e=50,tt=1,nt=.1,rt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=_e,this.zoom=1,this.near=nt,this.far=rt,this.focus=10,this.aspect=tt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(_e,tt){return super.copy(_e,tt),this.fov=_e.fov,this.zoom=_e.zoom,this.near=_e.near,this.far=_e.far,this.focus=_e.focus,this.aspect=_e.aspect,this.view=_e.view===null?null:Object.assign({},_e.view),this.filmGauge=_e.filmGauge,this.filmOffset=_e.filmOffset,this}setFocalLength(_e){const tt=.5*this.getFilmHeight()/_e;this.fov=RAD2DEG*2*Math.atan(tt),this.updateProjectionMatrix()}getFocalLength(){const _e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/_e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(_e,tt,nt,rt,it,st){this.aspect=_e/tt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_e,this.view.fullHeight=tt,this.view.offsetX=nt,this.view.offsetY=rt,this.view.width=it,this.view.height=st,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _e=this.near;let tt=_e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,nt=2*tt,rt=this.aspect*nt,it=-.5*rt;const st=this.view;if(this.view!==null&&this.view.enabled){const at=st.fullWidth,lt=st.fullHeight;it+=st.offsetX*rt/at,tt-=st.offsetY*nt/lt,rt*=st.width/at,nt*=st.height/lt}const ot=this.filmOffset;ot!==0&&(it+=_e*ot/this.getFilmWidth()),this.projectionMatrix.makePerspective(it,it+rt,tt,tt-nt,_e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_e){const tt=super.toJSON(_e);return tt.object.fov=this.fov,tt.object.zoom=this.zoom,tt.object.near=this.near,tt.object.far=this.far,tt.object.focus=this.focus,tt.object.aspect=this.aspect,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt.object.filmGauge=this.filmGauge,tt.object.filmOffset=this.filmOffset,tt}}const fov=90,aspect=1;class CubeCamera extends Object3D{constructor(_e,tt,nt){super(),this.type="CubeCamera",this.renderTarget=nt;const rt=new PerspectiveCamera$1(fov,aspect,_e,tt);rt.layers=this.layers,rt.up.set(0,-1,0),rt.lookAt(new Vector3(1,0,0)),this.add(rt);const it=new PerspectiveCamera$1(fov,aspect,_e,tt);it.layers=this.layers,it.up.set(0,-1,0),it.lookAt(new Vector3(-1,0,0)),this.add(it);const st=new PerspectiveCamera$1(fov,aspect,_e,tt);st.layers=this.layers,st.up.set(0,0,1),st.lookAt(new Vector3(0,1,0)),this.add(st);const ot=new PerspectiveCamera$1(fov,aspect,_e,tt);ot.layers=this.layers,ot.up.set(0,0,-1),ot.lookAt(new Vector3(0,-1,0)),this.add(ot);const at=new PerspectiveCamera$1(fov,aspect,_e,tt);at.layers=this.layers,at.up.set(0,-1,0),at.lookAt(new Vector3(0,0,1)),this.add(at);const lt=new PerspectiveCamera$1(fov,aspect,_e,tt);lt.layers=this.layers,lt.up.set(0,-1,0),lt.lookAt(new Vector3(0,0,-1)),this.add(lt)}update(_e,tt){this.parent===null&&this.updateMatrixWorld();const nt=this.renderTarget,[rt,it,st,ot,at,lt]=this.children,ct=_e.getRenderTarget(),ut=_e.toneMapping,ft=_e.xr.enabled;_e.toneMapping=NoToneMapping,_e.xr.enabled=!1;const ht=nt.texture.generateMipmaps;nt.texture.generateMipmaps=!1,_e.setRenderTarget(nt,0),_e.render(tt,rt),_e.setRenderTarget(nt,1),_e.render(tt,it),_e.setRenderTarget(nt,2),_e.render(tt,st),_e.setRenderTarget(nt,3),_e.render(tt,ot),_e.setRenderTarget(nt,4),_e.render(tt,at),nt.texture.generateMipmaps=ht,_e.setRenderTarget(nt,5),_e.render(tt,lt),_e.setRenderTarget(ct),_e.toneMapping=ut,_e.xr.enabled=ft,nt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(_e,tt,nt,rt,it,st,ot,at,lt,ct){_e=_e!==void 0?_e:[],tt=tt!==void 0?tt:CubeReflectionMapping,super(_e,tt,nt,rt,it,st,ot,at,lt,ct),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(_e){this.image=_e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(_e,tt={}){super(_e,_e,tt),this.isWebGLCubeRenderTarget=!0;const nt={width:_e,height:_e,depth:1},rt=[nt,nt,nt,nt,nt,nt];this.texture=new CubeTexture(rt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=tt.generateMipmaps!==void 0?tt.generateMipmaps:!1,this.texture.minFilter=tt.minFilter!==void 0?tt.minFilter:LinearFilter}fromEquirectangularTexture(_e,tt){this.texture.type=tt.type,this.texture.encoding=tt.encoding,this.texture.generateMipmaps=tt.generateMipmaps,this.texture.minFilter=tt.minFilter,this.texture.magFilter=tt.magFilter;const nt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},rt=new BoxGeometry(5,5,5),it=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(nt.uniforms),vertexShader:nt.vertexShader,fragmentShader:nt.fragmentShader,side:BackSide,blending:NoBlending});it.uniforms.tEquirect.value=tt;const st=new Mesh(rt,it),ot=tt.minFilter;return tt.minFilter===LinearMipmapLinearFilter&&(tt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(_e,st),tt.minFilter=ot,st.geometry.dispose(),st.material.dispose(),this}clear(_e,tt,nt,rt){const it=_e.getRenderTarget();for(let st=0;st<6;st++)_e.setRenderTarget(this,st),_e.clear(tt,nt,rt);_e.setRenderTarget(it)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane$1{constructor(_e=new Vector3(1,0,0),tt=0){this.isPlane=!0,this.normal=_e,this.constant=tt}set(_e,tt){return this.normal.copy(_e),this.constant=tt,this}setComponents(_e,tt,nt,rt){return this.normal.set(_e,tt,nt),this.constant=rt,this}setFromNormalAndCoplanarPoint(_e,tt){return this.normal.copy(_e),this.constant=-tt.dot(this.normal),this}setFromCoplanarPoints(_e,tt,nt){const rt=_vector1.subVectors(nt,tt).cross(_vector2.subVectors(_e,tt)).normalize();return this.setFromNormalAndCoplanarPoint(rt,_e),this}copy(_e){return this.normal.copy(_e.normal),this.constant=_e.constant,this}normalize(){const _e=1/this.normal.length();return this.normal.multiplyScalar(_e),this.constant*=_e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(_e){return this.normal.dot(_e)+this.constant}distanceToSphere(_e){return this.distanceToPoint(_e.center)-_e.radius}projectPoint(_e,tt){return tt.copy(this.normal).multiplyScalar(-this.distanceToPoint(_e)).add(_e)}intersectLine(_e,tt){const nt=_e.delta(_vector1),rt=this.normal.dot(nt);if(rt===0)return this.distanceToPoint(_e.start)===0?tt.copy(_e.start):null;const it=-(_e.start.dot(this.normal)+this.constant)/rt;return it<0||it>1?null:tt.copy(nt).multiplyScalar(it).add(_e.start)}intersectsLine(_e){const tt=this.distanceToPoint(_e.start),nt=this.distanceToPoint(_e.end);return tt<0&&nt>0||nt<0&&tt>0}intersectsBox(_e){return _e.intersectsPlane(this)}intersectsSphere(_e){return _e.intersectsPlane(this)}coplanarPoint(_e){return _e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(_e,tt){const nt=tt||_normalMatrix.getNormalMatrix(_e),rt=this.coplanarPoint(_vector1).applyMatrix4(_e),it=this.normal.applyMatrix3(nt).normalize();return this.constant=-rt.dot(it),this}translate(_e){return this.constant-=_e.dot(this.normal),this}equals(_e){return _e.normal.equals(this.normal)&&_e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$2=new Sphere$1,_vector$7=new Vector3;class Frustum{constructor(_e=new Plane$1,tt=new Plane$1,nt=new Plane$1,rt=new Plane$1,it=new Plane$1,st=new Plane$1){this.planes=[_e,tt,nt,rt,it,st]}set(_e,tt,nt,rt,it,st){const ot=this.planes;return ot[0].copy(_e),ot[1].copy(tt),ot[2].copy(nt),ot[3].copy(rt),ot[4].copy(it),ot[5].copy(st),this}copy(_e){const tt=this.planes;for(let nt=0;nt<6;nt++)tt[nt].copy(_e.planes[nt]);return this}setFromProjectionMatrix(_e){const tt=this.planes,nt=_e.elements,rt=nt[0],it=nt[1],st=nt[2],ot=nt[3],at=nt[4],lt=nt[5],ct=nt[6],ut=nt[7],ft=nt[8],ht=nt[9],pt=nt[10],gt=nt[11],dt=nt[12],vt=nt[13],xt=nt[14],_t=nt[15];return tt[0].setComponents(ot-rt,ut-at,gt-ft,_t-dt).normalize(),tt[1].setComponents(ot+rt,ut+at,gt+ft,_t+dt).normalize(),tt[2].setComponents(ot+it,ut+lt,gt+ht,_t+vt).normalize(),tt[3].setComponents(ot-it,ut-lt,gt-ht,_t-vt).normalize(),tt[4].setComponents(ot-st,ut-ct,gt-pt,_t-xt).normalize(),tt[5].setComponents(ot+st,ut+ct,gt+pt,_t+xt).normalize(),this}intersectsObject(_e){const tt=_e.geometry;return tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$2.copy(tt.boundingSphere).applyMatrix4(_e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(_e){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(_e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(_e){const tt=this.planes,nt=_e.center,rt=-_e.radius;for(let it=0;it<6;it++)if(tt[it].distanceToPoint(nt)<rt)return!1;return!0}intersectsBox(_e){const tt=this.planes;for(let nt=0;nt<6;nt++){const rt=tt[nt];if(_vector$7.x=rt.normal.x>0?_e.max.x:_e.min.x,_vector$7.y=rt.normal.y>0?_e.max.y:_e.min.y,_vector$7.z=rt.normal.z>0?_e.max.z:_e.min.z,rt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(_e){const tt=this.planes;for(let nt=0;nt<6;nt++)if(tt[nt].distanceToPoint(_e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let et=null,_e=!1,tt=null,nt=null;function rt(it,st){tt(it,st),nt=et.requestAnimationFrame(rt)}return{start:function(){_e!==!0&&tt!==null&&(nt=et.requestAnimationFrame(rt),_e=!0)},stop:function(){et.cancelAnimationFrame(nt),_e=!1},setAnimationLoop:function(it){tt=it},setContext:function(it){et=it}}}function WebGLAttributes(et,_e){const tt=_e.isWebGL2,nt=new WeakMap;function rt(lt,ct){const ut=lt.array,ft=lt.usage,ht=et.createBuffer();et.bindBuffer(ct,ht),et.bufferData(ct,ut,ft),lt.onUploadCallback();let pt;if(ut instanceof Float32Array)pt=5126;else if(ut instanceof Uint16Array)if(lt.isFloat16BufferAttribute)if(tt)pt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else pt=5123;else if(ut instanceof Int16Array)pt=5122;else if(ut instanceof Uint32Array)pt=5125;else if(ut instanceof Int32Array)pt=5124;else if(ut instanceof Int8Array)pt=5120;else if(ut instanceof Uint8Array)pt=5121;else if(ut instanceof Uint8ClampedArray)pt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ut);return{buffer:ht,type:pt,bytesPerElement:ut.BYTES_PER_ELEMENT,version:lt.version}}function it(lt,ct,ut){const ft=ct.array,ht=ct.updateRange;et.bindBuffer(ut,lt),ht.count===-1?et.bufferSubData(ut,0,ft):(tt?et.bufferSubData(ut,ht.offset*ft.BYTES_PER_ELEMENT,ft,ht.offset,ht.count):et.bufferSubData(ut,ht.offset*ft.BYTES_PER_ELEMENT,ft.subarray(ht.offset,ht.offset+ht.count)),ht.count=-1)}function st(lt){return lt.isInterleavedBufferAttribute&&(lt=lt.data),nt.get(lt)}function ot(lt){lt.isInterleavedBufferAttribute&&(lt=lt.data);const ct=nt.get(lt);ct&&(et.deleteBuffer(ct.buffer),nt.delete(lt))}function at(lt,ct){if(lt.isGLBufferAttribute){const ft=nt.get(lt);(!ft||ft.version<lt.version)&&nt.set(lt,{buffer:lt.buffer,type:lt.type,bytesPerElement:lt.elementSize,version:lt.version});return}lt.isInterleavedBufferAttribute&&(lt=lt.data);const ut=nt.get(lt);ut===void 0?nt.set(lt,rt(lt,ct)):ut.version<lt.version&&(it(ut.buffer,lt,ct),ut.version=lt.version)}return{get:st,remove:ot,update:at}}class PlaneGeometry extends BufferGeometry{constructor(_e=1,tt=1,nt=1,rt=1){super(),this.type="PlaneGeometry",this.parameters={width:_e,height:tt,widthSegments:nt,heightSegments:rt};const it=_e/2,st=tt/2,ot=Math.floor(nt),at=Math.floor(rt),lt=ot+1,ct=at+1,ut=_e/ot,ft=tt/at,ht=[],pt=[],gt=[],dt=[];for(let vt=0;vt<ct;vt++){const xt=vt*ft-st;for(let _t=0;_t<lt;_t++){const bt=_t*ut-it;pt.push(bt,-xt,0),gt.push(0,0,1),dt.push(_t/ot),dt.push(1-vt/at)}}for(let vt=0;vt<at;vt++)for(let xt=0;xt<ot;xt++){const _t=xt+lt*vt,bt=xt+lt*(vt+1),At=xt+1+lt*(vt+1),Mt=xt+1+lt*vt;ht.push(_t,bt,Mt),ht.push(bt,At,Mt)}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(pt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2))}static fromJSON(_e){return new PlaneGeometry(_e.width,_e.height,_e.widthSegments,_e.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$g=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$g=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$g,background_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$2(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$2(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$2(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$2(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$2(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$2(0)},specular:{value:new Color$2(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$2(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$2(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$2(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color$2(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color$2(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color$2(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(et,_e,tt,nt,rt,it){const st=new Color$2(0);let ot=rt===!0?0:1,at,lt,ct=null,ut=0,ft=null;function ht(gt,dt){let vt=!1,xt=dt.isScene===!0?dt.background:null;xt&&xt.isTexture&&(xt=_e.get(xt));const _t=et.xr,bt=_t.getSession&&_t.getSession();bt&&bt.environmentBlendMode==="additive"&&(xt=null),xt===null?pt(st,ot):xt&&xt.isColor&&(pt(xt,1),vt=!0),(et.autoClear||vt)&&et.clear(et.autoClearColor,et.autoClearDepth,et.autoClearStencil),xt&&(xt.isCubeTexture||xt.mapping===CubeUVReflectionMapping)?(lt===void 0&&(lt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),lt.geometry.deleteAttribute("uv"),lt.onBeforeRender=function(At,Mt,Tt){this.matrixWorld.copyPosition(Tt.matrixWorld)},Object.defineProperty(lt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),nt.update(lt)),lt.material.uniforms.envMap.value=xt,lt.material.uniforms.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1,(ct!==xt||ut!==xt.version||ft!==et.toneMapping)&&(lt.material.needsUpdate=!0,ct=xt,ut=xt.version,ft=et.toneMapping),lt.layers.enableAll(),gt.unshift(lt,lt.geometry,lt.material,0,0,null)):xt&&xt.isTexture&&(at===void 0&&(at=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),at.geometry.deleteAttribute("normal"),Object.defineProperty(at.material,"map",{get:function(){return this.uniforms.t2D.value}}),nt.update(at)),at.material.uniforms.t2D.value=xt,xt.matrixAutoUpdate===!0&&xt.updateMatrix(),at.material.uniforms.uvTransform.value.copy(xt.matrix),(ct!==xt||ut!==xt.version||ft!==et.toneMapping)&&(at.material.needsUpdate=!0,ct=xt,ut=xt.version,ft=et.toneMapping),at.layers.enableAll(),gt.unshift(at,at.geometry,at.material,0,0,null))}function pt(gt,dt){tt.buffers.color.setClear(gt.r,gt.g,gt.b,dt,it)}return{getClearColor:function(){return st},setClearColor:function(gt,dt=1){st.set(gt),ot=dt,pt(st,ot)},getClearAlpha:function(){return ot},setClearAlpha:function(gt){ot=gt,pt(st,ot)},render:ht}}function WebGLBindingStates(et,_e,tt,nt){const rt=et.getParameter(34921),it=nt.isWebGL2?null:_e.get("OES_vertex_array_object"),st=nt.isWebGL2||it!==null,ot={},at=dt(null);let lt=at,ct=!1;function ut(kt,$t,jt,Ht,Bt){let Lt=!1;if(st){const Ft=gt(Ht,jt,$t);lt!==Ft&&(lt=Ft,ht(lt.object)),Lt=vt(kt,Ht,jt,Bt),Lt&&xt(kt,Ht,jt,Bt)}else{const Ft=$t.wireframe===!0;(lt.geometry!==Ht.id||lt.program!==jt.id||lt.wireframe!==Ft)&&(lt.geometry=Ht.id,lt.program=jt.id,lt.wireframe=Ft,Lt=!0)}Bt!==null&&tt.update(Bt,34963),(Lt||ct)&&(ct=!1,St(kt,$t,jt,Ht),Bt!==null&&et.bindBuffer(34963,tt.get(Bt).buffer))}function ft(){return nt.isWebGL2?et.createVertexArray():it.createVertexArrayOES()}function ht(kt){return nt.isWebGL2?et.bindVertexArray(kt):it.bindVertexArrayOES(kt)}function pt(kt){return nt.isWebGL2?et.deleteVertexArray(kt):it.deleteVertexArrayOES(kt)}function gt(kt,$t,jt){const Ht=jt.wireframe===!0;let Bt=ot[kt.id];Bt===void 0&&(Bt={},ot[kt.id]=Bt);let Lt=Bt[$t.id];Lt===void 0&&(Lt={},Bt[$t.id]=Lt);let Ft=Lt[Ht];return Ft===void 0&&(Ft=dt(ft()),Lt[Ht]=Ft),Ft}function dt(kt){const $t=[],jt=[],Ht=[];for(let Bt=0;Bt<rt;Bt++)$t[Bt]=0,jt[Bt]=0,Ht[Bt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$t,enabledAttributes:jt,attributeDivisors:Ht,object:kt,attributes:{},index:null}}function vt(kt,$t,jt,Ht){const Bt=lt.attributes,Lt=$t.attributes;let Ft=0;const Vt=jt.getAttributes();for(const Yt in Vt)if(Vt[Yt].location>=0){const sn=Bt[Yt];let cn=Lt[Yt];if(cn===void 0&&(Yt==="instanceMatrix"&&kt.instanceMatrix&&(cn=kt.instanceMatrix),Yt==="instanceColor"&&kt.instanceColor&&(cn=kt.instanceColor)),sn===void 0||sn.attribute!==cn||cn&&sn.data!==cn.data)return!0;Ft++}return lt.attributesNum!==Ft||lt.index!==Ht}function xt(kt,$t,jt,Ht){const Bt={},Lt=$t.attributes;let Ft=0;const Vt=jt.getAttributes();for(const Yt in Vt)if(Vt[Yt].location>=0){let sn=Lt[Yt];sn===void 0&&(Yt==="instanceMatrix"&&kt.instanceMatrix&&(sn=kt.instanceMatrix),Yt==="instanceColor"&&kt.instanceColor&&(sn=kt.instanceColor));const cn={};cn.attribute=sn,sn&&sn.data&&(cn.data=sn.data),Bt[Yt]=cn,Ft++}lt.attributes=Bt,lt.attributesNum=Ft,lt.index=Ht}function _t(){const kt=lt.newAttributes;for(let $t=0,jt=kt.length;$t<jt;$t++)kt[$t]=0}function bt(kt){At(kt,0)}function At(kt,$t){const jt=lt.newAttributes,Ht=lt.enabledAttributes,Bt=lt.attributeDivisors;jt[kt]=1,Ht[kt]===0&&(et.enableVertexAttribArray(kt),Ht[kt]=1),Bt[kt]!==$t&&((nt.isWebGL2?et:_e.get("ANGLE_instanced_arrays"))[nt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](kt,$t),Bt[kt]=$t)}function Mt(){const kt=lt.newAttributes,$t=lt.enabledAttributes;for(let jt=0,Ht=$t.length;jt<Ht;jt++)$t[jt]!==kt[jt]&&(et.disableVertexAttribArray(jt),$t[jt]=0)}function Tt(kt,$t,jt,Ht,Bt,Lt){nt.isWebGL2===!0&&(jt===5124||jt===5125)?et.vertexAttribIPointer(kt,$t,jt,Bt,Lt):et.vertexAttribPointer(kt,$t,jt,Ht,Bt,Lt)}function St(kt,$t,jt,Ht){if(nt.isWebGL2===!1&&(kt.isInstancedMesh||Ht.isInstancedBufferGeometry)&&_e.get("ANGLE_instanced_arrays")===null)return;_t();const Bt=Ht.attributes,Lt=jt.getAttributes(),Ft=$t.defaultAttributeValues;for(const Vt in Lt){const Yt=Lt[Vt];if(Yt.location>=0){let rn=Bt[Vt];if(rn===void 0&&(Vt==="instanceMatrix"&&kt.instanceMatrix&&(rn=kt.instanceMatrix),Vt==="instanceColor"&&kt.instanceColor&&(rn=kt.instanceColor)),rn!==void 0){const sn=rn.normalized,cn=rn.itemSize,Zt=tt.get(rn);if(Zt===void 0)continue;const an=Zt.buffer,Qt=Zt.type,Ut=Zt.bytesPerElement;if(rn.isInterleavedBufferAttribute){const Gt=rn.data,Wt=Gt.stride,Jt=rn.offset;if(Gt.isInstancedInterleavedBuffer){for(let Kt=0;Kt<Yt.locationSize;Kt++)At(Yt.location+Kt,Gt.meshPerAttribute);kt.isInstancedMesh!==!0&&Ht._maxInstanceCount===void 0&&(Ht._maxInstanceCount=Gt.meshPerAttribute*Gt.count)}else for(let Kt=0;Kt<Yt.locationSize;Kt++)bt(Yt.location+Kt);et.bindBuffer(34962,an);for(let Kt=0;Kt<Yt.locationSize;Kt++)Tt(Yt.location+Kt,cn/Yt.locationSize,Qt,sn,Wt*Ut,(Jt+cn/Yt.locationSize*Kt)*Ut)}else{if(rn.isInstancedBufferAttribute){for(let Gt=0;Gt<Yt.locationSize;Gt++)At(Yt.location+Gt,rn.meshPerAttribute);kt.isInstancedMesh!==!0&&Ht._maxInstanceCount===void 0&&(Ht._maxInstanceCount=rn.meshPerAttribute*rn.count)}else for(let Gt=0;Gt<Yt.locationSize;Gt++)bt(Yt.location+Gt);et.bindBuffer(34962,an);for(let Gt=0;Gt<Yt.locationSize;Gt++)Tt(Yt.location+Gt,cn/Yt.locationSize,Qt,sn,cn*Ut,cn/Yt.locationSize*Gt*Ut)}}else if(Ft!==void 0){const sn=Ft[Vt];if(sn!==void 0)switch(sn.length){case 2:et.vertexAttrib2fv(Yt.location,sn);break;case 3:et.vertexAttrib3fv(Yt.location,sn);break;case 4:et.vertexAttrib4fv(Yt.location,sn);break;default:et.vertexAttrib1fv(Yt.location,sn)}}}}Mt()}function Ct(){It();for(const kt in ot){const $t=ot[kt];for(const jt in $t){const Ht=$t[jt];for(const Bt in Ht)pt(Ht[Bt].object),delete Ht[Bt];delete $t[jt]}delete ot[kt]}}function Et(kt){if(ot[kt.id]===void 0)return;const $t=ot[kt.id];for(const jt in $t){const Ht=$t[jt];for(const Bt in Ht)pt(Ht[Bt].object),delete Ht[Bt];delete $t[jt]}delete ot[kt.id]}function Rt(kt){for(const $t in ot){const jt=ot[$t];if(jt[kt.id]===void 0)continue;const Ht=jt[kt.id];for(const Bt in Ht)pt(Ht[Bt].object),delete Ht[Bt];delete jt[kt.id]}}function It(){Ot(),ct=!0,lt!==at&&(lt=at,ht(lt.object))}function Ot(){at.geometry=null,at.program=null,at.wireframe=!1}return{setup:ut,reset:It,resetDefaultState:Ot,dispose:Ct,releaseStatesOfGeometry:Et,releaseStatesOfProgram:Rt,initAttributes:_t,enableAttribute:bt,disableUnusedAttributes:Mt}}function WebGLBufferRenderer(et,_e,tt,nt){const rt=nt.isWebGL2;let it;function st(lt){it=lt}function ot(lt,ct){et.drawArrays(it,lt,ct),tt.update(ct,it,1)}function at(lt,ct,ut){if(ut===0)return;let ft,ht;if(rt)ft=et,ht="drawArraysInstanced";else if(ft=_e.get("ANGLE_instanced_arrays"),ht="drawArraysInstancedANGLE",ft===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ft[ht](it,lt,ct,ut),tt.update(ct,it,ut)}this.setMode=st,this.render=ot,this.renderInstances=at}function WebGLCapabilities(et,_e,tt){let nt;function rt(){if(nt!==void 0)return nt;if(_e.has("EXT_texture_filter_anisotropic")===!0){const Tt=_e.get("EXT_texture_filter_anisotropic");nt=et.getParameter(Tt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else nt=0;return nt}function it(Tt){if(Tt==="highp"){if(et.getShaderPrecisionFormat(35633,36338).precision>0&&et.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Tt="mediump"}return Tt==="mediump"&&et.getShaderPrecisionFormat(35633,36337).precision>0&&et.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const st=typeof WebGL2RenderingContext<"u"&&et instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&et instanceof WebGL2ComputeRenderingContext;let ot=tt.precision!==void 0?tt.precision:"highp";const at=it(ot);at!==ot&&(console.warn("THREE.WebGLRenderer:",ot,"not supported, using",at,"instead."),ot=at);const lt=st||_e.has("WEBGL_draw_buffers"),ct=tt.logarithmicDepthBuffer===!0,ut=et.getParameter(34930),ft=et.getParameter(35660),ht=et.getParameter(3379),pt=et.getParameter(34076),gt=et.getParameter(34921),dt=et.getParameter(36347),vt=et.getParameter(36348),xt=et.getParameter(36349),_t=ft>0,bt=st||_e.has("OES_texture_float"),At=_t&&bt,Mt=st?et.getParameter(36183):0;return{isWebGL2:st,drawBuffers:lt,getMaxAnisotropy:rt,getMaxPrecision:it,precision:ot,logarithmicDepthBuffer:ct,maxTextures:ut,maxVertexTextures:ft,maxTextureSize:ht,maxCubemapSize:pt,maxAttributes:gt,maxVertexUniforms:dt,maxVaryings:vt,maxFragmentUniforms:xt,vertexTextures:_t,floatFragmentTextures:bt,floatVertexTextures:At,maxSamples:Mt}}function WebGLClipping(et){const _e=this;let tt=null,nt=0,rt=!1,it=!1;const st=new Plane$1,ot=new Matrix3,at={value:null,needsUpdate:!1};this.uniform=at,this.numPlanes=0,this.numIntersection=0,this.init=function(ut,ft,ht){const pt=ut.length!==0||ft||nt!==0||rt;return rt=ft,tt=ct(ut,ht,0),nt=ut.length,pt},this.beginShadows=function(){it=!0,ct(null)},this.endShadows=function(){it=!1,lt()},this.setState=function(ut,ft,ht){const pt=ut.clippingPlanes,gt=ut.clipIntersection,dt=ut.clipShadows,vt=et.get(ut);if(!rt||pt===null||pt.length===0||it&&!dt)it?ct(null):lt();else{const xt=it?0:nt,_t=xt*4;let bt=vt.clippingState||null;at.value=bt,bt=ct(pt,ft,_t,ht);for(let At=0;At!==_t;++At)bt[At]=tt[At];vt.clippingState=bt,this.numIntersection=gt?this.numPlanes:0,this.numPlanes+=xt}};function lt(){at.value!==tt&&(at.value=tt,at.needsUpdate=nt>0),_e.numPlanes=nt,_e.numIntersection=0}function ct(ut,ft,ht,pt){const gt=ut!==null?ut.length:0;let dt=null;if(gt!==0){if(dt=at.value,pt!==!0||dt===null){const vt=ht+gt*4,xt=ft.matrixWorldInverse;ot.getNormalMatrix(xt),(dt===null||dt.length<vt)&&(dt=new Float32Array(vt));for(let _t=0,bt=ht;_t!==gt;++_t,bt+=4)st.copy(ut[_t]).applyMatrix4(xt,ot),st.normal.toArray(dt,bt),dt[bt+3]=st.constant}at.value=dt,at.needsUpdate=!0}return _e.numPlanes=gt,_e.numIntersection=0,dt}}function WebGLCubeMaps(et){let _e=new WeakMap;function tt(st,ot){return ot===EquirectangularReflectionMapping?st.mapping=CubeReflectionMapping:ot===EquirectangularRefractionMapping&&(st.mapping=CubeRefractionMapping),st}function nt(st){if(st&&st.isTexture&&st.isRenderTargetTexture===!1){const ot=st.mapping;if(ot===EquirectangularReflectionMapping||ot===EquirectangularRefractionMapping)if(_e.has(st)){const at=_e.get(st).texture;return tt(at,st.mapping)}else{const at=st.image;if(at&&at.height>0){const lt=new WebGLCubeRenderTarget(at.height/2);return lt.fromEquirectangularTexture(et,st),_e.set(st,lt),st.addEventListener("dispose",rt),tt(lt.texture,st.mapping)}else return null}}return st}function rt(st){const ot=st.target;ot.removeEventListener("dispose",rt);const at=_e.get(ot);at!==void 0&&(_e.delete(ot),at.dispose())}function it(){_e=new WeakMap}return{get:nt,dispose:it}}class OrthographicCamera extends Camera{constructor(_e=-1,tt=1,nt=1,rt=-1,it=.1,st=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_e,this.right=tt,this.top=nt,this.bottom=rt,this.near=it,this.far=st,this.updateProjectionMatrix()}copy(_e,tt){return super.copy(_e,tt),this.left=_e.left,this.right=_e.right,this.top=_e.top,this.bottom=_e.bottom,this.near=_e.near,this.far=_e.far,this.zoom=_e.zoom,this.view=_e.view===null?null:Object.assign({},_e.view),this}setViewOffset(_e,tt,nt,rt,it,st){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_e,this.view.fullHeight=tt,this.view.offsetX=nt,this.view.offsetY=rt,this.view.width=it,this.view.height=st,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _e=(this.right-this.left)/(2*this.zoom),tt=(this.top-this.bottom)/(2*this.zoom),nt=(this.right+this.left)/2,rt=(this.top+this.bottom)/2;let it=nt-_e,st=nt+_e,ot=rt+tt,at=rt-tt;if(this.view!==null&&this.view.enabled){const lt=(this.right-this.left)/this.view.fullWidth/this.zoom,ct=(this.top-this.bottom)/this.view.fullHeight/this.zoom;it+=lt*this.view.offsetX,st=it+lt*this.view.width,ot-=ct*this.view.offsetY,at=ot-ct*this.view.height}this.projectionMatrix.makeOrthographic(it,st,ot,at,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_e){const tt=super.toJSON(_e);return tt.object.zoom=this.zoom,tt.object.left=this.left,tt.object.right=this.right,tt.object.top=this.top,tt.object.bottom=this.bottom,tt.object.near=this.near,tt.object.far=this.far,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$2;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(_e){this._renderer=_e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(_e,tt=0,nt=.1,rt=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const it=this._allocateTargets();return it.depthBuffer=!0,this._sceneToCubeUV(_e,nt,rt,it),tt>0&&this._blur(it,0,0,tt),this._applyPMREM(it),this._cleanup(it),it}fromEquirectangular(_e,tt=null){return this._fromTexture(_e,tt)}fromCubemap(_e,tt=null){return this._fromTexture(_e,tt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(_e){this._lodMax=Math.floor(Math.log2(_e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let _e=0;_e<this._lodPlanes.length;_e++)this._lodPlanes[_e].dispose()}_cleanup(_e){this._renderer.setRenderTarget(_oldTarget),_e.scissorTest=!1,_setViewport(_e,0,0,_e.width,_e.height)}_fromTexture(_e,tt){_e.mapping===CubeReflectionMapping||_e.mapping===CubeRefractionMapping?this._setSize(_e.image.length===0?16:_e.image[0].width||_e.image[0].image.width):this._setSize(_e.image.width/4),_oldTarget=this._renderer.getRenderTarget();const nt=tt||this._allocateTargets();return this._textureToCubeUV(_e,nt),this._applyPMREM(nt),this._cleanup(nt),nt}_allocateTargets(){const _e=3*Math.max(this._cubeSize,112),tt=4*this._cubeSize,nt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},rt=_createRenderTarget(_e,tt,nt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==_e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(_e,tt,nt);const{_lodMax:it}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(it)),this._blurMaterial=_getBlurShader(it,_e,tt)}return rt}_compileMaterial(_e){const tt=new Mesh(this._lodPlanes[0],_e);this._renderer.compile(tt,_flatCamera)}_sceneToCubeUV(_e,tt,nt,rt){const ot=new PerspectiveCamera$1(90,1,tt,nt),at=[1,-1,1,1,1,1],lt=[1,1,1,-1,-1,-1],ct=this._renderer,ut=ct.autoClear,ft=ct.toneMapping;ct.getClearColor(_clearColor),ct.toneMapping=NoToneMapping,ct.autoClear=!1;const ht=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),pt=new Mesh(new BoxGeometry,ht);let gt=!1;const dt=_e.background;dt?dt.isColor&&(ht.color.copy(dt),_e.background=null,gt=!0):(ht.color.copy(_clearColor),gt=!0);for(let vt=0;vt<6;vt++){const xt=vt%3;xt===0?(ot.up.set(0,at[vt],0),ot.lookAt(lt[vt],0,0)):xt===1?(ot.up.set(0,0,at[vt]),ot.lookAt(0,lt[vt],0)):(ot.up.set(0,at[vt],0),ot.lookAt(0,0,lt[vt]));const _t=this._cubeSize;_setViewport(rt,xt*_t,vt>2?_t:0,_t,_t),ct.setRenderTarget(rt),gt&&ct.render(pt,ot),ct.render(_e,ot)}pt.geometry.dispose(),pt.material.dispose(),ct.toneMapping=ft,ct.autoClear=ut,_e.background=dt}_textureToCubeUV(_e,tt){const nt=this._renderer,rt=_e.mapping===CubeReflectionMapping||_e.mapping===CubeRefractionMapping;rt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=_e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const it=rt?this._cubemapMaterial:this._equirectMaterial,st=new Mesh(this._lodPlanes[0],it),ot=it.uniforms;ot.envMap.value=_e;const at=this._cubeSize;_setViewport(tt,0,0,3*at,2*at),nt.setRenderTarget(tt),nt.render(st,_flatCamera)}_applyPMREM(_e){const tt=this._renderer,nt=tt.autoClear;tt.autoClear=!1;for(let rt=1;rt<this._lodPlanes.length;rt++){const it=Math.sqrt(this._sigmas[rt]*this._sigmas[rt]-this._sigmas[rt-1]*this._sigmas[rt-1]),st=_axisDirections[(rt-1)%_axisDirections.length];this._blur(_e,rt-1,rt,it,st)}tt.autoClear=nt}_blur(_e,tt,nt,rt,it){const st=this._pingPongRenderTarget;this._halfBlur(_e,st,tt,nt,rt,"latitudinal",it),this._halfBlur(st,_e,nt,nt,rt,"longitudinal",it)}_halfBlur(_e,tt,nt,rt,it,st,ot){const at=this._renderer,lt=this._blurMaterial;st!=="latitudinal"&&st!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ct=3,ut=new Mesh(this._lodPlanes[rt],lt),ft=lt.uniforms,ht=this._sizeLods[nt]-1,pt=isFinite(it)?Math.PI/(2*ht):2*Math.PI/(2*MAX_SAMPLES-1),gt=it/pt,dt=isFinite(it)?1+Math.floor(ct*gt):MAX_SAMPLES;dt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${it}, is too large and will clip, as it requested ${dt} samples when the maximum is set to ${MAX_SAMPLES}`);const vt=[];let xt=0;for(let Tt=0;Tt<MAX_SAMPLES;++Tt){const St=Tt/gt,Ct=Math.exp(-St*St/2);vt.push(Ct),Tt===0?xt+=Ct:Tt<dt&&(xt+=2*Ct)}for(let Tt=0;Tt<vt.length;Tt++)vt[Tt]=vt[Tt]/xt;ft.envMap.value=_e.texture,ft.samples.value=dt,ft.weights.value=vt,ft.latitudinal.value=st==="latitudinal",ot&&(ft.poleAxis.value=ot);const{_lodMax:_t}=this;ft.dTheta.value=pt,ft.mipInt.value=_t-nt;const bt=this._sizeLods[rt],At=3*bt*(rt>_t-LOD_MIN?rt-_t+LOD_MIN:0),Mt=4*(this._cubeSize-bt);_setViewport(tt,At,Mt,3*bt,2*bt),at.setRenderTarget(tt),at.render(ut,_flatCamera)}}function _createPlanes(et){const _e=[],tt=[],nt=[];let rt=et;const it=et-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let st=0;st<it;st++){const ot=Math.pow(2,rt);tt.push(ot);let at=1/ot;st>et-LOD_MIN?at=EXTRA_LOD_SIGMA[st-et+LOD_MIN-1]:st===0&&(at=0),nt.push(at);const lt=1/(ot-2),ct=-lt,ut=1+lt,ft=[ct,ct,ut,ct,ut,ut,ct,ct,ut,ut,ct,ut],ht=6,pt=6,gt=3,dt=2,vt=1,xt=new Float32Array(gt*pt*ht),_t=new Float32Array(dt*pt*ht),bt=new Float32Array(vt*pt*ht);for(let Mt=0;Mt<ht;Mt++){const Tt=Mt%3*2/3-1,St=Mt>2?0:-1,Ct=[Tt,St,0,Tt+2/3,St,0,Tt+2/3,St+1,0,Tt,St,0,Tt+2/3,St+1,0,Tt,St+1,0];xt.set(Ct,gt*pt*Mt),_t.set(ft,dt*pt*Mt);const Et=[Mt,Mt,Mt,Mt,Mt,Mt];bt.set(Et,vt*pt*Mt)}const At=new BufferGeometry;At.setAttribute("position",new BufferAttribute(xt,gt)),At.setAttribute("uv",new BufferAttribute(_t,dt)),At.setAttribute("faceIndex",new BufferAttribute(bt,vt)),_e.push(At),rt>LOD_MIN&&rt--}return{lodPlanes:_e,sizeLods:tt,sigmas:nt}}function _createRenderTarget(et,_e,tt){const nt=new WebGLRenderTarget(et,_e,tt);return nt.texture.mapping=CubeUVReflectionMapping,nt.texture.name="PMREM.cubeUv",nt.scissorTest=!0,nt}function _setViewport(et,_e,tt,nt,rt){et.viewport.set(_e,tt,nt,rt),et.scissor.set(_e,tt,nt,rt)}function _getBlurShader(et,_e,tt){const nt=new Float32Array(MAX_SAMPLES),rt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/_e,CUBEUV_TEXEL_HEIGHT:1/tt,CUBEUV_MAX_MIP:`${et}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:nt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:rt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(et){let _e=new WeakMap,tt=null;function nt(ot){if(ot&&ot.isTexture){const at=ot.mapping,lt=at===EquirectangularReflectionMapping||at===EquirectangularRefractionMapping,ct=at===CubeReflectionMapping||at===CubeRefractionMapping;if(lt||ct)if(ot.isRenderTargetTexture&&ot.needsPMREMUpdate===!0){ot.needsPMREMUpdate=!1;let ut=_e.get(ot);return tt===null&&(tt=new PMREMGenerator(et)),ut=lt?tt.fromEquirectangular(ot,ut):tt.fromCubemap(ot,ut),_e.set(ot,ut),ut.texture}else{if(_e.has(ot))return _e.get(ot).texture;{const ut=ot.image;if(lt&&ut&&ut.height>0||ct&&ut&&rt(ut)){tt===null&&(tt=new PMREMGenerator(et));const ft=lt?tt.fromEquirectangular(ot):tt.fromCubemap(ot);return _e.set(ot,ft),ot.addEventListener("dispose",it),ft.texture}else return null}}}return ot}function rt(ot){let at=0;const lt=6;for(let ct=0;ct<lt;ct++)ot[ct]!==void 0&&at++;return at===lt}function it(ot){const at=ot.target;at.removeEventListener("dispose",it);const lt=_e.get(at);lt!==void 0&&(_e.delete(at),lt.dispose())}function st(){_e=new WeakMap,tt!==null&&(tt.dispose(),tt=null)}return{get:nt,dispose:st}}function WebGLExtensions(et){const _e={};function tt(nt){if(_e[nt]!==void 0)return _e[nt];let rt;switch(nt){case"WEBGL_depth_texture":rt=et.getExtension("WEBGL_depth_texture")||et.getExtension("MOZ_WEBGL_depth_texture")||et.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":rt=et.getExtension("EXT_texture_filter_anisotropic")||et.getExtension("MOZ_EXT_texture_filter_anisotropic")||et.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":rt=et.getExtension("WEBGL_compressed_texture_s3tc")||et.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":rt=et.getExtension("WEBGL_compressed_texture_pvrtc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:rt=et.getExtension(nt)}return _e[nt]=rt,rt}return{has:function(nt){return tt(nt)!==null},init:function(nt){nt.isWebGL2?tt("EXT_color_buffer_float"):(tt("WEBGL_depth_texture"),tt("OES_texture_float"),tt("OES_texture_half_float"),tt("OES_texture_half_float_linear"),tt("OES_standard_derivatives"),tt("OES_element_index_uint"),tt("OES_vertex_array_object"),tt("ANGLE_instanced_arrays")),tt("OES_texture_float_linear"),tt("EXT_color_buffer_half_float"),tt("WEBGL_multisampled_render_to_texture")},get:function(nt){const rt=tt(nt);return rt===null&&console.warn("THREE.WebGLRenderer: "+nt+" extension not supported."),rt}}}function WebGLGeometries(et,_e,tt,nt){const rt={},it=new WeakMap;function st(ut){const ft=ut.target;ft.index!==null&&_e.remove(ft.index);for(const pt in ft.attributes)_e.remove(ft.attributes[pt]);ft.removeEventListener("dispose",st),delete rt[ft.id];const ht=it.get(ft);ht&&(_e.remove(ht),it.delete(ft)),nt.releaseStatesOfGeometry(ft),ft.isInstancedBufferGeometry===!0&&delete ft._maxInstanceCount,tt.memory.geometries--}function ot(ut,ft){return rt[ft.id]===!0||(ft.addEventListener("dispose",st),rt[ft.id]=!0,tt.memory.geometries++),ft}function at(ut){const ft=ut.attributes;for(const pt in ft)_e.update(ft[pt],34962);const ht=ut.morphAttributes;for(const pt in ht){const gt=ht[pt];for(let dt=0,vt=gt.length;dt<vt;dt++)_e.update(gt[dt],34962)}}function lt(ut){const ft=[],ht=ut.index,pt=ut.attributes.position;let gt=0;if(ht!==null){const xt=ht.array;gt=ht.version;for(let _t=0,bt=xt.length;_t<bt;_t+=3){const At=xt[_t+0],Mt=xt[_t+1],Tt=xt[_t+2];ft.push(At,Mt,Mt,Tt,Tt,At)}}else{const xt=pt.array;gt=pt.version;for(let _t=0,bt=xt.length/3-1;_t<bt;_t+=3){const At=_t+0,Mt=_t+1,Tt=_t+2;ft.push(At,Mt,Mt,Tt,Tt,At)}}const dt=new(arrayNeedsUint32(ft)?Uint32BufferAttribute:Uint16BufferAttribute)(ft,1);dt.version=gt;const vt=it.get(ut);vt&&_e.remove(vt),it.set(ut,dt)}function ct(ut){const ft=it.get(ut);if(ft){const ht=ut.index;ht!==null&&ft.version<ht.version&&lt(ut)}else lt(ut);return it.get(ut)}return{get:ot,update:at,getWireframeAttribute:ct}}function WebGLIndexedBufferRenderer(et,_e,tt,nt){const rt=nt.isWebGL2;let it;function st(ft){it=ft}let ot,at;function lt(ft){ot=ft.type,at=ft.bytesPerElement}function ct(ft,ht){et.drawElements(it,ht,ot,ft*at),tt.update(ht,it,1)}function ut(ft,ht,pt){if(pt===0)return;let gt,dt;if(rt)gt=et,dt="drawElementsInstanced";else if(gt=_e.get("ANGLE_instanced_arrays"),dt="drawElementsInstancedANGLE",gt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}gt[dt](it,ht,ot,ft*at,pt),tt.update(ht,it,pt)}this.setMode=st,this.setIndex=lt,this.render=ct,this.renderInstances=ut}function WebGLInfo(et){const _e={geometries:0,textures:0},tt={frame:0,calls:0,triangles:0,points:0,lines:0};function nt(it,st,ot){switch(tt.calls++,st){case 4:tt.triangles+=ot*(it/3);break;case 1:tt.lines+=ot*(it/2);break;case 3:tt.lines+=ot*(it-1);break;case 2:tt.lines+=ot*it;break;case 0:tt.points+=ot*it;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",st);break}}function rt(){tt.frame++,tt.calls=0,tt.triangles=0,tt.points=0,tt.lines=0}return{memory:_e,render:tt,programs:null,autoReset:!0,reset:rt,update:nt}}function numericalSort(et,_e){return et[0]-_e[0]}function absNumericalSort(et,_e){return Math.abs(_e[1])-Math.abs(et[1])}function WebGLMorphtargets(et,_e,tt){const nt={},rt=new Float32Array(8),it=new WeakMap,st=new Vector4,ot=[];for(let lt=0;lt<8;lt++)ot[lt]=[lt,0];function at(lt,ct,ut,ft){const ht=lt.morphTargetInfluences;if(_e.isWebGL2===!0){const gt=ct.morphAttributes.position||ct.morphAttributes.normal||ct.morphAttributes.color,dt=gt!==void 0?gt.length:0;let vt=it.get(ct);if(vt===void 0||vt.count!==dt){let jt=function(){kt.dispose(),it.delete(ct),ct.removeEventListener("dispose",jt)};var pt=jt;vt!==void 0&&vt.texture.dispose();const bt=ct.morphAttributes.position!==void 0,At=ct.morphAttributes.normal!==void 0,Mt=ct.morphAttributes.color!==void 0,Tt=ct.morphAttributes.position||[],St=ct.morphAttributes.normal||[],Ct=ct.morphAttributes.color||[];let Et=0;bt===!0&&(Et=1),At===!0&&(Et=2),Mt===!0&&(Et=3);let Rt=ct.attributes.position.count*Et,It=1;Rt>_e.maxTextureSize&&(It=Math.ceil(Rt/_e.maxTextureSize),Rt=_e.maxTextureSize);const Ot=new Float32Array(Rt*It*4*dt),kt=new DataArrayTexture(Ot,Rt,It,dt);kt.type=FloatType,kt.needsUpdate=!0;const $t=Et*4;for(let Ht=0;Ht<dt;Ht++){const Bt=Tt[Ht],Lt=St[Ht],Ft=Ct[Ht],Vt=Rt*It*4*Ht;for(let Yt=0;Yt<Bt.count;Yt++){const rn=Yt*$t;bt===!0&&(st.fromBufferAttribute(Bt,Yt),Ot[Vt+rn+0]=st.x,Ot[Vt+rn+1]=st.y,Ot[Vt+rn+2]=st.z,Ot[Vt+rn+3]=0),At===!0&&(st.fromBufferAttribute(Lt,Yt),Ot[Vt+rn+4]=st.x,Ot[Vt+rn+5]=st.y,Ot[Vt+rn+6]=st.z,Ot[Vt+rn+7]=0),Mt===!0&&(st.fromBufferAttribute(Ft,Yt),Ot[Vt+rn+8]=st.x,Ot[Vt+rn+9]=st.y,Ot[Vt+rn+10]=st.z,Ot[Vt+rn+11]=Ft.itemSize===4?st.w:1)}}vt={count:dt,texture:kt,size:new Vector2(Rt,It)},it.set(ct,vt),ct.addEventListener("dispose",jt)}let xt=0;for(let bt=0;bt<ht.length;bt++)xt+=ht[bt];const _t=ct.morphTargetsRelative?1:1-xt;ft.getUniforms().setValue(et,"morphTargetBaseInfluence",_t),ft.getUniforms().setValue(et,"morphTargetInfluences",ht),ft.getUniforms().setValue(et,"morphTargetsTexture",vt.texture,tt),ft.getUniforms().setValue(et,"morphTargetsTextureSize",vt.size)}else{const gt=ht===void 0?0:ht.length;let dt=nt[ct.id];if(dt===void 0||dt.length!==gt){dt=[];for(let At=0;At<gt;At++)dt[At]=[At,0];nt[ct.id]=dt}for(let At=0;At<gt;At++){const Mt=dt[At];Mt[0]=At,Mt[1]=ht[At]}dt.sort(absNumericalSort);for(let At=0;At<8;At++)At<gt&&dt[At][1]?(ot[At][0]=dt[At][0],ot[At][1]=dt[At][1]):(ot[At][0]=Number.MAX_SAFE_INTEGER,ot[At][1]=0);ot.sort(numericalSort);const vt=ct.morphAttributes.position,xt=ct.morphAttributes.normal;let _t=0;for(let At=0;At<8;At++){const Mt=ot[At],Tt=Mt[0],St=Mt[1];Tt!==Number.MAX_SAFE_INTEGER&&St?(vt&&ct.getAttribute("morphTarget"+At)!==vt[Tt]&&ct.setAttribute("morphTarget"+At,vt[Tt]),xt&&ct.getAttribute("morphNormal"+At)!==xt[Tt]&&ct.setAttribute("morphNormal"+At,xt[Tt]),rt[At]=St,_t+=St):(vt&&ct.hasAttribute("morphTarget"+At)===!0&&ct.deleteAttribute("morphTarget"+At),xt&&ct.hasAttribute("morphNormal"+At)===!0&&ct.deleteAttribute("morphNormal"+At),rt[At]=0)}const bt=ct.morphTargetsRelative?1:1-_t;ft.getUniforms().setValue(et,"morphTargetBaseInfluence",bt),ft.getUniforms().setValue(et,"morphTargetInfluences",rt)}}return{update:at}}function WebGLObjects(et,_e,tt,nt){let rt=new WeakMap;function it(at){const lt=nt.render.frame,ct=at.geometry,ut=_e.get(at,ct);return rt.get(ut)!==lt&&(_e.update(ut),rt.set(ut,lt)),at.isInstancedMesh&&(at.hasEventListener("dispose",ot)===!1&&at.addEventListener("dispose",ot),tt.update(at.instanceMatrix,34962),at.instanceColor!==null&&tt.update(at.instanceColor,34962)),ut}function st(){rt=new WeakMap}function ot(at){const lt=at.target;lt.removeEventListener("dispose",ot),tt.remove(lt.instanceMatrix),lt.instanceColor!==null&&tt.remove(lt.instanceColor)}return{update:it,dispose:st}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten$1(et,_e,tt){const nt=et[0];if(nt<=0||nt>0)return et;const rt=_e*tt;let it=arrayCacheF32[rt];if(it===void 0&&(it=new Float32Array(rt),arrayCacheF32[rt]=it),_e!==0){nt.toArray(it,0);for(let st=1,ot=0;st!==_e;++st)ot+=tt,et[st].toArray(it,ot)}return it}function arraysEqual(et,_e){if(et.length!==_e.length)return!1;for(let tt=0,nt=et.length;tt<nt;tt++)if(et[tt]!==_e[tt])return!1;return!0}function copyArray(et,_e){for(let tt=0,nt=_e.length;tt<nt;tt++)et[tt]=_e[tt]}function allocTexUnits(et,_e){let tt=arrayCacheI32[_e];tt===void 0&&(tt=new Int32Array(_e),arrayCacheI32[_e]=tt);for(let nt=0;nt!==_e;++nt)tt[nt]=et.allocateTextureUnit();return tt}function setValueV1f(et,_e){const tt=this.cache;tt[0]!==_e&&(et.uniform1f(this.addr,_e),tt[0]=_e)}function setValueV2f(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y)&&(et.uniform2f(this.addr,_e.x,_e.y),tt[0]=_e.x,tt[1]=_e.y);else{if(arraysEqual(tt,_e))return;et.uniform2fv(this.addr,_e),copyArray(tt,_e)}}function setValueV3f(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z)&&(et.uniform3f(this.addr,_e.x,_e.y,_e.z),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z);else if(_e.r!==void 0)(tt[0]!==_e.r||tt[1]!==_e.g||tt[2]!==_e.b)&&(et.uniform3f(this.addr,_e.r,_e.g,_e.b),tt[0]=_e.r,tt[1]=_e.g,tt[2]=_e.b);else{if(arraysEqual(tt,_e))return;et.uniform3fv(this.addr,_e),copyArray(tt,_e)}}function setValueV4f(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z||tt[3]!==_e.w)&&(et.uniform4f(this.addr,_e.x,_e.y,_e.z,_e.w),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z,tt[3]=_e.w);else{if(arraysEqual(tt,_e))return;et.uniform4fv(this.addr,_e),copyArray(tt,_e)}}function setValueM2(et,_e){const tt=this.cache,nt=_e.elements;if(nt===void 0){if(arraysEqual(tt,_e))return;et.uniformMatrix2fv(this.addr,!1,_e),copyArray(tt,_e)}else{if(arraysEqual(tt,nt))return;mat2array.set(nt),et.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(tt,nt)}}function setValueM3(et,_e){const tt=this.cache,nt=_e.elements;if(nt===void 0){if(arraysEqual(tt,_e))return;et.uniformMatrix3fv(this.addr,!1,_e),copyArray(tt,_e)}else{if(arraysEqual(tt,nt))return;mat3array.set(nt),et.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(tt,nt)}}function setValueM4(et,_e){const tt=this.cache,nt=_e.elements;if(nt===void 0){if(arraysEqual(tt,_e))return;et.uniformMatrix4fv(this.addr,!1,_e),copyArray(tt,_e)}else{if(arraysEqual(tt,nt))return;mat4array.set(nt),et.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(tt,nt)}}function setValueV1i(et,_e){const tt=this.cache;tt[0]!==_e&&(et.uniform1i(this.addr,_e),tt[0]=_e)}function setValueV2i(et,_e){const tt=this.cache;arraysEqual(tt,_e)||(et.uniform2iv(this.addr,_e),copyArray(tt,_e))}function setValueV3i(et,_e){const tt=this.cache;arraysEqual(tt,_e)||(et.uniform3iv(this.addr,_e),copyArray(tt,_e))}function setValueV4i(et,_e){const tt=this.cache;arraysEqual(tt,_e)||(et.uniform4iv(this.addr,_e),copyArray(tt,_e))}function setValueV1ui(et,_e){const tt=this.cache;tt[0]!==_e&&(et.uniform1ui(this.addr,_e),tt[0]=_e)}function setValueV2ui(et,_e){const tt=this.cache;arraysEqual(tt,_e)||(et.uniform2uiv(this.addr,_e),copyArray(tt,_e))}function setValueV3ui(et,_e){const tt=this.cache;arraysEqual(tt,_e)||(et.uniform3uiv(this.addr,_e),copyArray(tt,_e))}function setValueV4ui(et,_e){const tt=this.cache;arraysEqual(tt,_e)||(et.uniform4uiv(this.addr,_e),copyArray(tt,_e))}function setValueT1(et,_e,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt),tt.setTexture2D(_e||emptyTexture,rt)}function setValueT3D1(et,_e,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt),tt.setTexture3D(_e||empty3dTexture,rt)}function setValueT6(et,_e,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt),tt.setTextureCube(_e||emptyCubeTexture,rt)}function setValueT2DArray1(et,_e,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt),tt.setTexture2DArray(_e||emptyArrayTexture,rt)}function getSingularSetter(et){switch(et){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(et,_e){et.uniform1fv(this.addr,_e)}function setValueV2fArray(et,_e){const tt=flatten$1(_e,this.size,2);et.uniform2fv(this.addr,tt)}function setValueV3fArray(et,_e){const tt=flatten$1(_e,this.size,3);et.uniform3fv(this.addr,tt)}function setValueV4fArray(et,_e){const tt=flatten$1(_e,this.size,4);et.uniform4fv(this.addr,tt)}function setValueM2Array(et,_e){const tt=flatten$1(_e,this.size,4);et.uniformMatrix2fv(this.addr,!1,tt)}function setValueM3Array(et,_e){const tt=flatten$1(_e,this.size,9);et.uniformMatrix3fv(this.addr,!1,tt)}function setValueM4Array(et,_e){const tt=flatten$1(_e,this.size,16);et.uniformMatrix4fv(this.addr,!1,tt)}function setValueV1iArray(et,_e){et.uniform1iv(this.addr,_e)}function setValueV2iArray(et,_e){et.uniform2iv(this.addr,_e)}function setValueV3iArray(et,_e){et.uniform3iv(this.addr,_e)}function setValueV4iArray(et,_e){et.uniform4iv(this.addr,_e)}function setValueV1uiArray(et,_e){et.uniform1uiv(this.addr,_e)}function setValueV2uiArray(et,_e){et.uniform2uiv(this.addr,_e)}function setValueV3uiArray(et,_e){et.uniform3uiv(this.addr,_e)}function setValueV4uiArray(et,_e){et.uniform4uiv(this.addr,_e)}function setValueT1Array(et,_e,tt){const nt=this.cache,rt=_e.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTexture2D(_e[st]||emptyTexture,it[st])}function setValueT3DArray(et,_e,tt){const nt=this.cache,rt=_e.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTexture3D(_e[st]||empty3dTexture,it[st])}function setValueT6Array(et,_e,tt){const nt=this.cache,rt=_e.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTextureCube(_e[st]||emptyCubeTexture,it[st])}function setValueT2DArrayArray(et,_e,tt){const nt=this.cache,rt=_e.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTexture2DArray(_e[st]||emptyArrayTexture,it[st])}function getPureArraySetter(et){switch(et){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(_e,tt,nt){this.id=_e,this.addr=nt,this.cache=[],this.setValue=getSingularSetter(tt.type)}}class PureArrayUniform{constructor(_e,tt,nt){this.id=_e,this.addr=nt,this.cache=[],this.size=tt.size,this.setValue=getPureArraySetter(tt.type)}}class StructuredUniform{constructor(_e){this.id=_e,this.seq=[],this.map={}}setValue(_e,tt,nt){const rt=this.seq;for(let it=0,st=rt.length;it!==st;++it){const ot=rt[it];ot.setValue(_e,tt[ot.id],nt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(et,_e){et.seq.push(_e),et.map[_e.id]=_e}function parseUniform(et,_e,tt){const nt=et.name,rt=nt.length;for(RePathPart.lastIndex=0;;){const it=RePathPart.exec(nt),st=RePathPart.lastIndex;let ot=it[1];const at=it[2]==="]",lt=it[3];if(at&&(ot=ot|0),lt===void 0||lt==="["&&st+2===rt){addUniform(tt,lt===void 0?new SingleUniform(ot,et,_e):new PureArrayUniform(ot,et,_e));break}else{let ut=tt.map[ot];ut===void 0&&(ut=new StructuredUniform(ot),addUniform(tt,ut)),tt=ut}}}class WebGLUniforms{constructor(_e,tt){this.seq=[],this.map={};const nt=_e.getProgramParameter(tt,35718);for(let rt=0;rt<nt;++rt){const it=_e.getActiveUniform(tt,rt),st=_e.getUniformLocation(tt,it.name);parseUniform(it,st,this)}}setValue(_e,tt,nt,rt){const it=this.map[tt];it!==void 0&&it.setValue(_e,nt,rt)}setOptional(_e,tt,nt){const rt=tt[nt];rt!==void 0&&this.setValue(_e,nt,rt)}static upload(_e,tt,nt,rt){for(let it=0,st=tt.length;it!==st;++it){const ot=tt[it],at=nt[ot.id];at.needsUpdate!==!1&&ot.setValue(_e,at.value,rt)}}static seqWithValue(_e,tt){const nt=[];for(let rt=0,it=_e.length;rt!==it;++rt){const st=_e[rt];st.id in tt&&nt.push(st)}return nt}}function WebGLShader(et,_e,tt){const nt=et.createShader(_e);return et.shaderSource(nt,tt),et.compileShader(nt),nt}let programIdCount=0;function handleSource(et,_e){const tt=et.split(`
`),nt=[],rt=Math.max(_e-6,0),it=Math.min(_e+6,tt.length);for(let st=rt;st<it;st++){const ot=st+1;nt.push(`${ot===_e?">":" "} ${ot}: ${tt[st]}`)}return nt.join(`
`)}function getEncodingComponents(et){switch(et){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",et),["Linear","( value )"]}}function getShaderErrors(et,_e,tt){const nt=et.getShaderParameter(_e,35713),rt=et.getShaderInfoLog(_e).trim();if(nt&&rt==="")return"";const it=/ERROR: 0:(\d+)/.exec(rt);if(it){const st=parseInt(it[1]);return tt.toUpperCase()+`

`+rt+`

`+handleSource(et.getShaderSource(_e),st)}else return rt}function getTexelEncodingFunction(et,_e){const tt=getEncodingComponents(_e);return"vec4 "+et+"( vec4 value ) { return LinearTo"+tt[0]+tt[1]+"; }"}function getToneMappingFunction(et,_e){let tt;switch(_e){case LinearToneMapping:tt="Linear";break;case ReinhardToneMapping:tt="Reinhard";break;case CineonToneMapping:tt="OptimizedCineon";break;case ACESFilmicToneMapping:tt="ACESFilmic";break;case CustomToneMapping:tt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",_e),tt="Linear"}return"vec3 "+et+"( vec3 color ) { return "+tt+"ToneMapping( color ); }"}function generateExtensions(et){return[et.extensionDerivatives||!!et.envMapCubeUVHeight||et.bumpMap||et.tangentSpaceNormalMap||et.clearcoatNormalMap||et.flatShading||et.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(et.extensionFragDepth||et.logarithmicDepthBuffer)&&et.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",et.extensionDrawBuffers&&et.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(et.extensionShaderTextureLOD||et.envMap||et.transmission)&&et.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(et){const _e=[];for(const tt in et){const nt=et[tt];nt!==!1&&_e.push("#define "+tt+" "+nt)}return _e.join(`
`)}function fetchAttributeLocations(et,_e){const tt={},nt=et.getProgramParameter(_e,35721);for(let rt=0;rt<nt;rt++){const it=et.getActiveAttrib(_e,rt),st=it.name;let ot=1;it.type===35674&&(ot=2),it.type===35675&&(ot=3),it.type===35676&&(ot=4),tt[st]={type:it.type,location:et.getAttribLocation(_e,st),locationSize:ot}}return tt}function filterEmptyLine(et){return et!==""}function replaceLightNums(et,_e){const tt=_e.numSpotLightShadows+_e.numSpotLightMaps-_e.numSpotLightShadowsWithMaps;return et.replace(/NUM_DIR_LIGHTS/g,_e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,_e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,tt).replace(/NUM_RECT_AREA_LIGHTS/g,_e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_e.numPointLightShadows)}function replaceClippingPlaneNums(et,_e){return et.replace(/NUM_CLIPPING_PLANES/g,_e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_e.numClippingPlanes-_e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(et){return et.replace(includePattern,includeReplacer)}function includeReplacer(et,_e){const tt=ShaderChunk[_e];if(tt===void 0)throw new Error("Can not resolve #include <"+_e+">");return resolveIncludes(tt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(et){return et.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(et,_e,tt,nt){let rt="";for(let it=parseInt(_e);it<parseInt(tt);it++)rt+=nt.replace(/\[\s*i\s*\]/g,"[ "+it+" ]").replace(/UNROLLED_LOOP_INDEX/g,it);return rt}function generatePrecision(et){let _e="precision "+et.precision+` float;
precision `+et.precision+" int;";return et.precision==="highp"?_e+=`
#define HIGH_PRECISION`:et.precision==="mediump"?_e+=`
#define MEDIUM_PRECISION`:et.precision==="lowp"&&(_e+=`
#define LOW_PRECISION`),_e}function generateShadowMapTypeDefine(et){let _e="SHADOWMAP_TYPE_BASIC";return et.shadowMapType===PCFShadowMap?_e="SHADOWMAP_TYPE_PCF":et.shadowMapType===PCFSoftShadowMap?_e="SHADOWMAP_TYPE_PCF_SOFT":et.shadowMapType===VSMShadowMap&&(_e="SHADOWMAP_TYPE_VSM"),_e}function generateEnvMapTypeDefine(et){let _e="ENVMAP_TYPE_CUBE";if(et.envMap)switch(et.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:_e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:_e="ENVMAP_TYPE_CUBE_UV";break}return _e}function generateEnvMapModeDefine(et){let _e="ENVMAP_MODE_REFLECTION";if(et.envMap)switch(et.envMapMode){case CubeRefractionMapping:_e="ENVMAP_MODE_REFRACTION";break}return _e}function generateEnvMapBlendingDefine(et){let _e="ENVMAP_BLENDING_NONE";if(et.envMap)switch(et.combine){case MultiplyOperation:_e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:_e="ENVMAP_BLENDING_MIX";break;case AddOperation:_e="ENVMAP_BLENDING_ADD";break}return _e}function generateCubeUVSize(et){const _e=et.envMapCubeUVHeight;if(_e===null)return null;const tt=Math.log2(_e)-2,nt=1/_e;return{texelWidth:1/(3*Math.max(Math.pow(2,tt),7*16)),texelHeight:nt,maxMip:tt}}function WebGLProgram(et,_e,tt,nt){const rt=et.getContext(),it=tt.defines;let st=tt.vertexShader,ot=tt.fragmentShader;const at=generateShadowMapTypeDefine(tt),lt=generateEnvMapTypeDefine(tt),ct=generateEnvMapModeDefine(tt),ut=generateEnvMapBlendingDefine(tt),ft=generateCubeUVSize(tt),ht=tt.isWebGL2?"":generateExtensions(tt),pt=generateDefines(it),gt=rt.createProgram();let dt,vt,xt=tt.glslVersion?"#version "+tt.glslVersion+`
`:"";tt.isRawShaderMaterial?(dt=[pt].filter(filterEmptyLine).join(`
`),dt.length>0&&(dt+=`
`),vt=[ht,pt].filter(filterEmptyLine).join(`
`),vt.length>0&&(vt+=`
`)):(dt=[generatePrecision(tt),"#define SHADER_NAME "+tt.shaderName,pt,tt.instancing?"#define USE_INSTANCING":"",tt.instancingColor?"#define USE_INSTANCING_COLOR":"",tt.supportsVertexTextures?"#define VERTEX_TEXTURES":"",tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.map?"#define USE_MAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+ct:"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMap&&tt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",tt.normalMap&&tt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.displacementMap&&tt.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",tt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",tt.vertexTangents?"#define USE_TANGENT":"",tt.vertexColors?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUvs?"#define USE_UV":"",tt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",tt.flatShading?"#define FLAT_SHADED":"",tt.skinning?"#define USE_SKINNING":"",tt.morphTargets?"#define USE_MORPHTARGETS":"",tt.morphNormals&&tt.flatShading===!1?"#define USE_MORPHNORMALS":"",tt.morphColors&&tt.isWebGL2?"#define USE_MORPHCOLORS":"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+tt.morphTextureStride:"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_COUNT "+tt.morphTargetsCount:"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+at:"",tt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",tt.logarithmicDepthBuffer&&tt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),vt=[ht,generatePrecision(tt),"#define SHADER_NAME "+tt.shaderName,pt,tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.map?"#define USE_MAP":"",tt.matcap?"#define USE_MATCAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+lt:"",tt.envMap?"#define "+ct:"",tt.envMap?"#define "+ut:"",ft?"#define CUBEUV_TEXEL_WIDTH "+ft.texelWidth:"",ft?"#define CUBEUV_TEXEL_HEIGHT "+ft.texelHeight:"",ft?"#define CUBEUV_MAX_MIP "+ft.maxMip+".0":"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMap&&tt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",tt.normalMap&&tt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",tt.clearcoat?"#define USE_CLEARCOAT":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.iridescence?"#define USE_IRIDESCENCE":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",tt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.alphaTest?"#define USE_ALPHATEST":"",tt.sheen?"#define USE_SHEEN":"",tt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",tt.vertexTangents?"#define USE_TANGENT":"",tt.vertexColors||tt.instancingColor?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUvs?"#define USE_UV":"",tt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",tt.gradientMap?"#define USE_GRADIENTMAP":"",tt.flatShading?"#define FLAT_SHADED":"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+at:"",tt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",tt.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",tt.logarithmicDepthBuffer&&tt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",tt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",tt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",tt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",tt.toneMapping):"",tt.dithering?"#define DITHERING":"",tt.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",tt.outputEncoding),tt.useDepthPacking?"#define DEPTH_PACKING "+tt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),st=resolveIncludes(st),st=replaceLightNums(st,tt),st=replaceClippingPlaneNums(st,tt),ot=resolveIncludes(ot),ot=replaceLightNums(ot,tt),ot=replaceClippingPlaneNums(ot,tt),st=unrollLoops(st),ot=unrollLoops(ot),tt.isWebGL2&&tt.isRawShaderMaterial!==!0&&(xt=`#version 300 es
`,dt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+dt,vt=["#define varying in",tt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",tt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+vt);const _t=xt+dt+st,bt=xt+vt+ot,At=WebGLShader(rt,35633,_t),Mt=WebGLShader(rt,35632,bt);if(rt.attachShader(gt,At),rt.attachShader(gt,Mt),tt.index0AttributeName!==void 0?rt.bindAttribLocation(gt,0,tt.index0AttributeName):tt.morphTargets===!0&&rt.bindAttribLocation(gt,0,"position"),rt.linkProgram(gt),et.debug.checkShaderErrors){const Ct=rt.getProgramInfoLog(gt).trim(),Et=rt.getShaderInfoLog(At).trim(),Rt=rt.getShaderInfoLog(Mt).trim();let It=!0,Ot=!0;if(rt.getProgramParameter(gt,35714)===!1){It=!1;const kt=getShaderErrors(rt,At,"vertex"),$t=getShaderErrors(rt,Mt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+rt.getError()+" - VALIDATE_STATUS "+rt.getProgramParameter(gt,35715)+`

Program Info Log: `+Ct+`
`+kt+`
`+$t)}else Ct!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ct):(Et===""||Rt==="")&&(Ot=!1);Ot&&(this.diagnostics={runnable:It,programLog:Ct,vertexShader:{log:Et,prefix:dt},fragmentShader:{log:Rt,prefix:vt}})}rt.deleteShader(At),rt.deleteShader(Mt);let Tt;this.getUniforms=function(){return Tt===void 0&&(Tt=new WebGLUniforms(rt,gt)),Tt};let St;return this.getAttributes=function(){return St===void 0&&(St=fetchAttributeLocations(rt,gt)),St},this.destroy=function(){nt.releaseStatesOfProgram(this),rt.deleteProgram(gt),this.program=void 0},this.name=tt.shaderName,this.id=programIdCount++,this.cacheKey=_e,this.usedTimes=1,this.program=gt,this.vertexShader=At,this.fragmentShader=Mt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(_e){const tt=_e.vertexShader,nt=_e.fragmentShader,rt=this._getShaderStage(tt),it=this._getShaderStage(nt),st=this._getShaderCacheForMaterial(_e);return st.has(rt)===!1&&(st.add(rt),rt.usedTimes++),st.has(it)===!1&&(st.add(it),it.usedTimes++),this}remove(_e){const tt=this.materialCache.get(_e);for(const nt of tt)nt.usedTimes--,nt.usedTimes===0&&this.shaderCache.delete(nt.code);return this.materialCache.delete(_e),this}getVertexShaderID(_e){return this._getShaderStage(_e.vertexShader).id}getFragmentShaderID(_e){return this._getShaderStage(_e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(_e){const tt=this.materialCache;let nt=tt.get(_e);return nt===void 0&&(nt=new Set,tt.set(_e,nt)),nt}_getShaderStage(_e){const tt=this.shaderCache;let nt=tt.get(_e);return nt===void 0&&(nt=new WebGLShaderStage(_e),tt.set(_e,nt)),nt}}class WebGLShaderStage{constructor(_e){this.id=_id++,this.code=_e,this.usedTimes=0}}function WebGLPrograms(et,_e,tt,nt,rt,it,st){const ot=new Layers,at=new WebGLShaderCache,lt=[],ct=rt.isWebGL2,ut=rt.logarithmicDepthBuffer,ft=rt.vertexTextures;let ht=rt.precision;const pt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function gt(St,Ct,Et,Rt,It){const Ot=Rt.fog,kt=It.geometry,$t=St.isMeshStandardMaterial?Rt.environment:null,jt=(St.isMeshStandardMaterial?tt:_e).get(St.envMap||$t),Ht=!!jt&&jt.mapping===CubeUVReflectionMapping?jt.image.height:null,Bt=pt[St.type];St.precision!==null&&(ht=rt.getMaxPrecision(St.precision),ht!==St.precision&&console.warn("THREE.WebGLProgram.getParameters:",St.precision,"not supported, using",ht,"instead."));const Lt=kt.morphAttributes.position||kt.morphAttributes.normal||kt.morphAttributes.color,Ft=Lt!==void 0?Lt.length:0;let Vt=0;kt.morphAttributes.position!==void 0&&(Vt=1),kt.morphAttributes.normal!==void 0&&(Vt=2),kt.morphAttributes.color!==void 0&&(Vt=3);let Yt,rn,sn,cn;if(Bt){const Wt=ShaderLib[Bt];Yt=Wt.vertexShader,rn=Wt.fragmentShader}else Yt=St.vertexShader,rn=St.fragmentShader,at.update(St),sn=at.getVertexShaderID(St),cn=at.getFragmentShaderID(St);const Zt=et.getRenderTarget(),an=St.alphaTest>0,Qt=St.clearcoat>0,Ut=St.iridescence>0;return{isWebGL2:ct,shaderID:Bt,shaderName:St.type,vertexShader:Yt,fragmentShader:rn,defines:St.defines,customVertexShaderID:sn,customFragmentShaderID:cn,isRawShaderMaterial:St.isRawShaderMaterial===!0,glslVersion:St.glslVersion,precision:ht,instancing:It.isInstancedMesh===!0,instancingColor:It.isInstancedMesh===!0&&It.instanceColor!==null,supportsVertexTextures:ft,outputEncoding:Zt===null?et.outputEncoding:Zt.isXRRenderTarget===!0?Zt.texture.encoding:LinearEncoding,map:!!St.map,matcap:!!St.matcap,envMap:!!jt,envMapMode:jt&&jt.mapping,envMapCubeUVHeight:Ht,lightMap:!!St.lightMap,aoMap:!!St.aoMap,emissiveMap:!!St.emissiveMap,bumpMap:!!St.bumpMap,normalMap:!!St.normalMap,objectSpaceNormalMap:St.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:St.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!St.map&&St.map.isVideoTexture===!0&&St.map.encoding===sRGBEncoding,clearcoat:Qt,clearcoatMap:Qt&&!!St.clearcoatMap,clearcoatRoughnessMap:Qt&&!!St.clearcoatRoughnessMap,clearcoatNormalMap:Qt&&!!St.clearcoatNormalMap,iridescence:Ut,iridescenceMap:Ut&&!!St.iridescenceMap,iridescenceThicknessMap:Ut&&!!St.iridescenceThicknessMap,displacementMap:!!St.displacementMap,roughnessMap:!!St.roughnessMap,metalnessMap:!!St.metalnessMap,specularMap:!!St.specularMap,specularIntensityMap:!!St.specularIntensityMap,specularColorMap:!!St.specularColorMap,opaque:St.transparent===!1&&St.blending===NormalBlending,alphaMap:!!St.alphaMap,alphaTest:an,gradientMap:!!St.gradientMap,sheen:St.sheen>0,sheenColorMap:!!St.sheenColorMap,sheenRoughnessMap:!!St.sheenRoughnessMap,transmission:St.transmission>0,transmissionMap:!!St.transmissionMap,thicknessMap:!!St.thicknessMap,combine:St.combine,vertexTangents:!!St.normalMap&&!!kt.attributes.tangent,vertexColors:St.vertexColors,vertexAlphas:St.vertexColors===!0&&!!kt.attributes.color&&kt.attributes.color.itemSize===4,vertexUvs:!!St.map||!!St.bumpMap||!!St.normalMap||!!St.specularMap||!!St.alphaMap||!!St.emissiveMap||!!St.roughnessMap||!!St.metalnessMap||!!St.clearcoatMap||!!St.clearcoatRoughnessMap||!!St.clearcoatNormalMap||!!St.iridescenceMap||!!St.iridescenceThicknessMap||!!St.displacementMap||!!St.transmissionMap||!!St.thicknessMap||!!St.specularIntensityMap||!!St.specularColorMap||!!St.sheenColorMap||!!St.sheenRoughnessMap,uvsVertexOnly:!(!!St.map||!!St.bumpMap||!!St.normalMap||!!St.specularMap||!!St.alphaMap||!!St.emissiveMap||!!St.roughnessMap||!!St.metalnessMap||!!St.clearcoatNormalMap||!!St.iridescenceMap||!!St.iridescenceThicknessMap||St.transmission>0||!!St.transmissionMap||!!St.thicknessMap||!!St.specularIntensityMap||!!St.specularColorMap||St.sheen>0||!!St.sheenColorMap||!!St.sheenRoughnessMap)&&!!St.displacementMap,fog:!!Ot,useFog:St.fog===!0,fogExp2:Ot&&Ot.isFogExp2,flatShading:!!St.flatShading,sizeAttenuation:St.sizeAttenuation,logarithmicDepthBuffer:ut,skinning:It.isSkinnedMesh===!0,morphTargets:kt.morphAttributes.position!==void 0,morphNormals:kt.morphAttributes.normal!==void 0,morphColors:kt.morphAttributes.color!==void 0,morphTargetsCount:Ft,morphTextureStride:Vt,numDirLights:Ct.directional.length,numPointLights:Ct.point.length,numSpotLights:Ct.spot.length,numSpotLightMaps:Ct.spotLightMap.length,numRectAreaLights:Ct.rectArea.length,numHemiLights:Ct.hemi.length,numDirLightShadows:Ct.directionalShadowMap.length,numPointLightShadows:Ct.pointShadowMap.length,numSpotLightShadows:Ct.spotShadowMap.length,numSpotLightShadowsWithMaps:Ct.numSpotLightShadowsWithMaps,numClippingPlanes:st.numPlanes,numClipIntersection:st.numIntersection,dithering:St.dithering,shadowMapEnabled:et.shadowMap.enabled&&Et.length>0,shadowMapType:et.shadowMap.type,toneMapping:St.toneMapped?et.toneMapping:NoToneMapping,physicallyCorrectLights:et.physicallyCorrectLights,premultipliedAlpha:St.premultipliedAlpha,doubleSided:St.side===DoubleSide,flipSided:St.side===BackSide,useDepthPacking:!!St.depthPacking,depthPacking:St.depthPacking||0,index0AttributeName:St.index0AttributeName,extensionDerivatives:St.extensions&&St.extensions.derivatives,extensionFragDepth:St.extensions&&St.extensions.fragDepth,extensionDrawBuffers:St.extensions&&St.extensions.drawBuffers,extensionShaderTextureLOD:St.extensions&&St.extensions.shaderTextureLOD,rendererExtensionFragDepth:ct||nt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ct||nt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ct||nt.has("EXT_shader_texture_lod"),customProgramCacheKey:St.customProgramCacheKey()}}function dt(St){const Ct=[];if(St.shaderID?Ct.push(St.shaderID):(Ct.push(St.customVertexShaderID),Ct.push(St.customFragmentShaderID)),St.defines!==void 0)for(const Et in St.defines)Ct.push(Et),Ct.push(St.defines[Et]);return St.isRawShaderMaterial===!1&&(vt(Ct,St),xt(Ct,St),Ct.push(et.outputEncoding)),Ct.push(St.customProgramCacheKey),Ct.join()}function vt(St,Ct){St.push(Ct.precision),St.push(Ct.outputEncoding),St.push(Ct.envMapMode),St.push(Ct.envMapCubeUVHeight),St.push(Ct.combine),St.push(Ct.vertexUvs),St.push(Ct.fogExp2),St.push(Ct.sizeAttenuation),St.push(Ct.morphTargetsCount),St.push(Ct.morphAttributeCount),St.push(Ct.numDirLights),St.push(Ct.numPointLights),St.push(Ct.numSpotLights),St.push(Ct.numSpotLightMaps),St.push(Ct.numHemiLights),St.push(Ct.numRectAreaLights),St.push(Ct.numDirLightShadows),St.push(Ct.numPointLightShadows),St.push(Ct.numSpotLightShadows),St.push(Ct.numSpotLightShadowsWithMaps),St.push(Ct.shadowMapType),St.push(Ct.toneMapping),St.push(Ct.numClippingPlanes),St.push(Ct.numClipIntersection),St.push(Ct.depthPacking)}function xt(St,Ct){ot.disableAll(),Ct.isWebGL2&&ot.enable(0),Ct.supportsVertexTextures&&ot.enable(1),Ct.instancing&&ot.enable(2),Ct.instancingColor&&ot.enable(3),Ct.map&&ot.enable(4),Ct.matcap&&ot.enable(5),Ct.envMap&&ot.enable(6),Ct.lightMap&&ot.enable(7),Ct.aoMap&&ot.enable(8),Ct.emissiveMap&&ot.enable(9),Ct.bumpMap&&ot.enable(10),Ct.normalMap&&ot.enable(11),Ct.objectSpaceNormalMap&&ot.enable(12),Ct.tangentSpaceNormalMap&&ot.enable(13),Ct.clearcoat&&ot.enable(14),Ct.clearcoatMap&&ot.enable(15),Ct.clearcoatRoughnessMap&&ot.enable(16),Ct.clearcoatNormalMap&&ot.enable(17),Ct.iridescence&&ot.enable(18),Ct.iridescenceMap&&ot.enable(19),Ct.iridescenceThicknessMap&&ot.enable(20),Ct.displacementMap&&ot.enable(21),Ct.specularMap&&ot.enable(22),Ct.roughnessMap&&ot.enable(23),Ct.metalnessMap&&ot.enable(24),Ct.gradientMap&&ot.enable(25),Ct.alphaMap&&ot.enable(26),Ct.alphaTest&&ot.enable(27),Ct.vertexColors&&ot.enable(28),Ct.vertexAlphas&&ot.enable(29),Ct.vertexUvs&&ot.enable(30),Ct.vertexTangents&&ot.enable(31),Ct.uvsVertexOnly&&ot.enable(32),St.push(ot.mask),ot.disableAll(),Ct.fog&&ot.enable(0),Ct.useFog&&ot.enable(1),Ct.flatShading&&ot.enable(2),Ct.logarithmicDepthBuffer&&ot.enable(3),Ct.skinning&&ot.enable(4),Ct.morphTargets&&ot.enable(5),Ct.morphNormals&&ot.enable(6),Ct.morphColors&&ot.enable(7),Ct.premultipliedAlpha&&ot.enable(8),Ct.shadowMapEnabled&&ot.enable(9),Ct.physicallyCorrectLights&&ot.enable(10),Ct.doubleSided&&ot.enable(11),Ct.flipSided&&ot.enable(12),Ct.useDepthPacking&&ot.enable(13),Ct.dithering&&ot.enable(14),Ct.specularIntensityMap&&ot.enable(15),Ct.specularColorMap&&ot.enable(16),Ct.transmission&&ot.enable(17),Ct.transmissionMap&&ot.enable(18),Ct.thicknessMap&&ot.enable(19),Ct.sheen&&ot.enable(20),Ct.sheenColorMap&&ot.enable(21),Ct.sheenRoughnessMap&&ot.enable(22),Ct.decodeVideoTexture&&ot.enable(23),Ct.opaque&&ot.enable(24),St.push(ot.mask)}function _t(St){const Ct=pt[St.type];let Et;if(Ct){const Rt=ShaderLib[Ct];Et=UniformsUtils.clone(Rt.uniforms)}else Et=St.uniforms;return Et}function bt(St,Ct){let Et;for(let Rt=0,It=lt.length;Rt<It;Rt++){const Ot=lt[Rt];if(Ot.cacheKey===Ct){Et=Ot,++Et.usedTimes;break}}return Et===void 0&&(Et=new WebGLProgram(et,Ct,St,it),lt.push(Et)),Et}function At(St){if(--St.usedTimes===0){const Ct=lt.indexOf(St);lt[Ct]=lt[lt.length-1],lt.pop(),St.destroy()}}function Mt(St){at.remove(St)}function Tt(){at.dispose()}return{getParameters:gt,getProgramCacheKey:dt,getUniforms:_t,acquireProgram:bt,releaseProgram:At,releaseShaderCache:Mt,programs:lt,dispose:Tt}}function WebGLProperties(){let et=new WeakMap;function _e(it){let st=et.get(it);return st===void 0&&(st={},et.set(it,st)),st}function tt(it){et.delete(it)}function nt(it,st,ot){et.get(it)[st]=ot}function rt(){et=new WeakMap}return{get:_e,remove:tt,update:nt,dispose:rt}}function painterSortStable(et,_e){return et.groupOrder!==_e.groupOrder?et.groupOrder-_e.groupOrder:et.renderOrder!==_e.renderOrder?et.renderOrder-_e.renderOrder:et.material.id!==_e.material.id?et.material.id-_e.material.id:et.z!==_e.z?et.z-_e.z:et.id-_e.id}function reversePainterSortStable(et,_e){return et.groupOrder!==_e.groupOrder?et.groupOrder-_e.groupOrder:et.renderOrder!==_e.renderOrder?et.renderOrder-_e.renderOrder:et.z!==_e.z?_e.z-et.z:et.id-_e.id}function WebGLRenderList(){const et=[];let _e=0;const tt=[],nt=[],rt=[];function it(){_e=0,tt.length=0,nt.length=0,rt.length=0}function st(ut,ft,ht,pt,gt,dt){let vt=et[_e];return vt===void 0?(vt={id:ut.id,object:ut,geometry:ft,material:ht,groupOrder:pt,renderOrder:ut.renderOrder,z:gt,group:dt},et[_e]=vt):(vt.id=ut.id,vt.object=ut,vt.geometry=ft,vt.material=ht,vt.groupOrder=pt,vt.renderOrder=ut.renderOrder,vt.z=gt,vt.group=dt),_e++,vt}function ot(ut,ft,ht,pt,gt,dt){const vt=st(ut,ft,ht,pt,gt,dt);ht.transmission>0?nt.push(vt):ht.transparent===!0?rt.push(vt):tt.push(vt)}function at(ut,ft,ht,pt,gt,dt){const vt=st(ut,ft,ht,pt,gt,dt);ht.transmission>0?nt.unshift(vt):ht.transparent===!0?rt.unshift(vt):tt.unshift(vt)}function lt(ut,ft){tt.length>1&&tt.sort(ut||painterSortStable),nt.length>1&&nt.sort(ft||reversePainterSortStable),rt.length>1&&rt.sort(ft||reversePainterSortStable)}function ct(){for(let ut=_e,ft=et.length;ut<ft;ut++){const ht=et[ut];if(ht.id===null)break;ht.id=null,ht.object=null,ht.geometry=null,ht.material=null,ht.group=null}}return{opaque:tt,transmissive:nt,transparent:rt,init:it,push:ot,unshift:at,finish:ct,sort:lt}}function WebGLRenderLists(){let et=new WeakMap;function _e(nt,rt){const it=et.get(nt);let st;return it===void 0?(st=new WebGLRenderList,et.set(nt,[st])):rt>=it.length?(st=new WebGLRenderList,it.push(st)):st=it[rt],st}function tt(){et=new WeakMap}return{get:_e,dispose:tt}}function UniformsCache(){const et={};return{get:function(_e){if(et[_e.id]!==void 0)return et[_e.id];let tt;switch(_e.type){case"DirectionalLight":tt={direction:new Vector3,color:new Color$2};break;case"SpotLight":tt={position:new Vector3,direction:new Vector3,color:new Color$2,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":tt={position:new Vector3,color:new Color$2,distance:0,decay:0};break;case"HemisphereLight":tt={direction:new Vector3,skyColor:new Color$2,groundColor:new Color$2};break;case"RectAreaLight":tt={color:new Color$2,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return et[_e.id]=tt,tt}}}function ShadowUniformsCache(){const et={};return{get:function(_e){if(et[_e.id]!==void 0)return et[_e.id];let tt;switch(_e.type){case"DirectionalLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return et[_e.id]=tt,tt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(et,_e){return(_e.castShadow?2:0)-(et.castShadow?2:0)+(_e.map?1:0)-(et.map?1:0)}function WebGLLights(et,_e){const tt=new UniformsCache,nt=ShadowUniformsCache(),rt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let ct=0;ct<9;ct++)rt.probe.push(new Vector3);const it=new Vector3,st=new Matrix4,ot=new Matrix4;function at(ct,ut){let ft=0,ht=0,pt=0;for(let Rt=0;Rt<9;Rt++)rt.probe[Rt].set(0,0,0);let gt=0,dt=0,vt=0,xt=0,_t=0,bt=0,At=0,Mt=0,Tt=0,St=0;ct.sort(shadowCastingAndTexturingLightsFirst);const Ct=ut!==!0?Math.PI:1;for(let Rt=0,It=ct.length;Rt<It;Rt++){const Ot=ct[Rt],kt=Ot.color,$t=Ot.intensity,jt=Ot.distance,Ht=Ot.shadow&&Ot.shadow.map?Ot.shadow.map.texture:null;if(Ot.isAmbientLight)ft+=kt.r*$t*Ct,ht+=kt.g*$t*Ct,pt+=kt.b*$t*Ct;else if(Ot.isLightProbe)for(let Bt=0;Bt<9;Bt++)rt.probe[Bt].addScaledVector(Ot.sh.coefficients[Bt],$t);else if(Ot.isDirectionalLight){const Bt=tt.get(Ot);if(Bt.color.copy(Ot.color).multiplyScalar(Ot.intensity*Ct),Ot.castShadow){const Lt=Ot.shadow,Ft=nt.get(Ot);Ft.shadowBias=Lt.bias,Ft.shadowNormalBias=Lt.normalBias,Ft.shadowRadius=Lt.radius,Ft.shadowMapSize=Lt.mapSize,rt.directionalShadow[gt]=Ft,rt.directionalShadowMap[gt]=Ht,rt.directionalShadowMatrix[gt]=Ot.shadow.matrix,bt++}rt.directional[gt]=Bt,gt++}else if(Ot.isSpotLight){const Bt=tt.get(Ot);Bt.position.setFromMatrixPosition(Ot.matrixWorld),Bt.color.copy(kt).multiplyScalar($t*Ct),Bt.distance=jt,Bt.coneCos=Math.cos(Ot.angle),Bt.penumbraCos=Math.cos(Ot.angle*(1-Ot.penumbra)),Bt.decay=Ot.decay,rt.spot[vt]=Bt;const Lt=Ot.shadow;if(Ot.map&&(rt.spotLightMap[Tt]=Ot.map,Tt++,Lt.updateMatrices(Ot),Ot.castShadow&&St++),rt.spotLightMatrix[vt]=Lt.matrix,Ot.castShadow){const Ft=nt.get(Ot);Ft.shadowBias=Lt.bias,Ft.shadowNormalBias=Lt.normalBias,Ft.shadowRadius=Lt.radius,Ft.shadowMapSize=Lt.mapSize,rt.spotShadow[vt]=Ft,rt.spotShadowMap[vt]=Ht,Mt++}vt++}else if(Ot.isRectAreaLight){const Bt=tt.get(Ot);Bt.color.copy(kt).multiplyScalar($t),Bt.halfWidth.set(Ot.width*.5,0,0),Bt.halfHeight.set(0,Ot.height*.5,0),rt.rectArea[xt]=Bt,xt++}else if(Ot.isPointLight){const Bt=tt.get(Ot);if(Bt.color.copy(Ot.color).multiplyScalar(Ot.intensity*Ct),Bt.distance=Ot.distance,Bt.decay=Ot.decay,Ot.castShadow){const Lt=Ot.shadow,Ft=nt.get(Ot);Ft.shadowBias=Lt.bias,Ft.shadowNormalBias=Lt.normalBias,Ft.shadowRadius=Lt.radius,Ft.shadowMapSize=Lt.mapSize,Ft.shadowCameraNear=Lt.camera.near,Ft.shadowCameraFar=Lt.camera.far,rt.pointShadow[dt]=Ft,rt.pointShadowMap[dt]=Ht,rt.pointShadowMatrix[dt]=Ot.shadow.matrix,At++}rt.point[dt]=Bt,dt++}else if(Ot.isHemisphereLight){const Bt=tt.get(Ot);Bt.skyColor.copy(Ot.color).multiplyScalar($t*Ct),Bt.groundColor.copy(Ot.groundColor).multiplyScalar($t*Ct),rt.hemi[_t]=Bt,_t++}}xt>0&&(_e.isWebGL2||et.has("OES_texture_float_linear")===!0?(rt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,rt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):et.has("OES_texture_half_float_linear")===!0?(rt.rectAreaLTC1=UniformsLib.LTC_HALF_1,rt.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),rt.ambient[0]=ft,rt.ambient[1]=ht,rt.ambient[2]=pt;const Et=rt.hash;(Et.directionalLength!==gt||Et.pointLength!==dt||Et.spotLength!==vt||Et.rectAreaLength!==xt||Et.hemiLength!==_t||Et.numDirectionalShadows!==bt||Et.numPointShadows!==At||Et.numSpotShadows!==Mt||Et.numSpotMaps!==Tt)&&(rt.directional.length=gt,rt.spot.length=vt,rt.rectArea.length=xt,rt.point.length=dt,rt.hemi.length=_t,rt.directionalShadow.length=bt,rt.directionalShadowMap.length=bt,rt.pointShadow.length=At,rt.pointShadowMap.length=At,rt.spotShadow.length=Mt,rt.spotShadowMap.length=Mt,rt.directionalShadowMatrix.length=bt,rt.pointShadowMatrix.length=At,rt.spotLightMatrix.length=Mt+Tt-St,rt.spotLightMap.length=Tt,rt.numSpotLightShadowsWithMaps=St,Et.directionalLength=gt,Et.pointLength=dt,Et.spotLength=vt,Et.rectAreaLength=xt,Et.hemiLength=_t,Et.numDirectionalShadows=bt,Et.numPointShadows=At,Et.numSpotShadows=Mt,Et.numSpotMaps=Tt,rt.version=nextVersion++)}function lt(ct,ut){let ft=0,ht=0,pt=0,gt=0,dt=0;const vt=ut.matrixWorldInverse;for(let xt=0,_t=ct.length;xt<_t;xt++){const bt=ct[xt];if(bt.isDirectionalLight){const At=rt.directional[ft];At.direction.setFromMatrixPosition(bt.matrixWorld),it.setFromMatrixPosition(bt.target.matrixWorld),At.direction.sub(it),At.direction.transformDirection(vt),ft++}else if(bt.isSpotLight){const At=rt.spot[pt];At.position.setFromMatrixPosition(bt.matrixWorld),At.position.applyMatrix4(vt),At.direction.setFromMatrixPosition(bt.matrixWorld),it.setFromMatrixPosition(bt.target.matrixWorld),At.direction.sub(it),At.direction.transformDirection(vt),pt++}else if(bt.isRectAreaLight){const At=rt.rectArea[gt];At.position.setFromMatrixPosition(bt.matrixWorld),At.position.applyMatrix4(vt),ot.identity(),st.copy(bt.matrixWorld),st.premultiply(vt),ot.extractRotation(st),At.halfWidth.set(bt.width*.5,0,0),At.halfHeight.set(0,bt.height*.5,0),At.halfWidth.applyMatrix4(ot),At.halfHeight.applyMatrix4(ot),gt++}else if(bt.isPointLight){const At=rt.point[ht];At.position.setFromMatrixPosition(bt.matrixWorld),At.position.applyMatrix4(vt),ht++}else if(bt.isHemisphereLight){const At=rt.hemi[dt];At.direction.setFromMatrixPosition(bt.matrixWorld),At.direction.transformDirection(vt),dt++}}}return{setup:at,setupView:lt,state:rt}}function WebGLRenderState(et,_e){const tt=new WebGLLights(et,_e),nt=[],rt=[];function it(){nt.length=0,rt.length=0}function st(ut){nt.push(ut)}function ot(ut){rt.push(ut)}function at(ut){tt.setup(nt,ut)}function lt(ut){tt.setupView(nt,ut)}return{init:it,state:{lightsArray:nt,shadowsArray:rt,lights:tt},setupLights:at,setupLightsView:lt,pushLight:st,pushShadow:ot}}function WebGLRenderStates(et,_e){let tt=new WeakMap;function nt(it,st=0){const ot=tt.get(it);let at;return ot===void 0?(at=new WebGLRenderState(et,_e),tt.set(it,[at])):st>=ot.length?(at=new WebGLRenderState(et,_e),ot.push(at)):at=ot[st],at}function rt(){tt=new WeakMap}return{get:nt,dispose:rt}}class MeshDepthMaterial extends Material{constructor(_e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_e)}copy(_e){return super.copy(_e),this.depthPacking=_e.depthPacking,this.map=_e.map,this.alphaMap=_e.alphaMap,this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(_e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(_e)}copy(_e){return super.copy(_e),this.referencePosition.copy(_e.referencePosition),this.nearDistance=_e.nearDistance,this.farDistance=_e.farDistance,this.map=_e.map,this.alphaMap=_e.alphaMap,this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(et,_e,tt){let nt=new Frustum;const rt=new Vector2,it=new Vector2,st=new Vector4,ot=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),at=new MeshDistanceMaterial,lt={},ct=tt.maxTextureSize,ut={0:BackSide,1:FrontSide,2:DoubleSide},ft=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ht=ft.clone();ht.defines.HORIZONTAL_PASS=1;const pt=new BufferGeometry;pt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const gt=new Mesh(pt,ft),dt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(bt,At,Mt){if(dt.enabled===!1||dt.autoUpdate===!1&&dt.needsUpdate===!1||bt.length===0)return;const Tt=et.getRenderTarget(),St=et.getActiveCubeFace(),Ct=et.getActiveMipmapLevel(),Et=et.state;Et.setBlending(NoBlending),Et.buffers.color.setClear(1,1,1,1),Et.buffers.depth.setTest(!0),Et.setScissorTest(!1);for(let Rt=0,It=bt.length;Rt<It;Rt++){const Ot=bt[Rt],kt=Ot.shadow;if(kt===void 0){console.warn("THREE.WebGLShadowMap:",Ot,"has no shadow.");continue}if(kt.autoUpdate===!1&&kt.needsUpdate===!1)continue;rt.copy(kt.mapSize);const $t=kt.getFrameExtents();if(rt.multiply($t),it.copy(kt.mapSize),(rt.x>ct||rt.y>ct)&&(rt.x>ct&&(it.x=Math.floor(ct/$t.x),rt.x=it.x*$t.x,kt.mapSize.x=it.x),rt.y>ct&&(it.y=Math.floor(ct/$t.y),rt.y=it.y*$t.y,kt.mapSize.y=it.y)),kt.map===null){const Ht=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};kt.map=new WebGLRenderTarget(rt.x,rt.y,Ht),kt.map.texture.name=Ot.name+".shadowMap",kt.camera.updateProjectionMatrix()}et.setRenderTarget(kt.map),et.clear();const jt=kt.getViewportCount();for(let Ht=0;Ht<jt;Ht++){const Bt=kt.getViewport(Ht);st.set(it.x*Bt.x,it.y*Bt.y,it.x*Bt.z,it.y*Bt.w),Et.viewport(st),kt.updateMatrices(Ot,Ht),nt=kt.getFrustum(),_t(At,Mt,kt.camera,Ot,this.type)}kt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&vt(kt,Mt),kt.needsUpdate=!1}dt.needsUpdate=!1,et.setRenderTarget(Tt,St,Ct)};function vt(bt,At){const Mt=_e.update(gt);ft.defines.VSM_SAMPLES!==bt.blurSamples&&(ft.defines.VSM_SAMPLES=bt.blurSamples,ht.defines.VSM_SAMPLES=bt.blurSamples,ft.needsUpdate=!0,ht.needsUpdate=!0),bt.mapPass===null&&(bt.mapPass=new WebGLRenderTarget(rt.x,rt.y)),ft.uniforms.shadow_pass.value=bt.map.texture,ft.uniforms.resolution.value=bt.mapSize,ft.uniforms.radius.value=bt.radius,et.setRenderTarget(bt.mapPass),et.clear(),et.renderBufferDirect(At,null,Mt,ft,gt,null),ht.uniforms.shadow_pass.value=bt.mapPass.texture,ht.uniforms.resolution.value=bt.mapSize,ht.uniforms.radius.value=bt.radius,et.setRenderTarget(bt.map),et.clear(),et.renderBufferDirect(At,null,Mt,ht,gt,null)}function xt(bt,At,Mt,Tt,St,Ct){let Et=null;const Rt=Mt.isPointLight===!0?bt.customDistanceMaterial:bt.customDepthMaterial;if(Rt!==void 0?Et=Rt:Et=Mt.isPointLight===!0?at:ot,et.localClippingEnabled&&At.clipShadows===!0&&Array.isArray(At.clippingPlanes)&&At.clippingPlanes.length!==0||At.displacementMap&&At.displacementScale!==0||At.alphaMap&&At.alphaTest>0){const It=Et.uuid,Ot=At.uuid;let kt=lt[It];kt===void 0&&(kt={},lt[It]=kt);let $t=kt[Ot];$t===void 0&&($t=Et.clone(),kt[Ot]=$t),Et=$t}return Et.visible=At.visible,Et.wireframe=At.wireframe,Ct===VSMShadowMap?Et.side=At.shadowSide!==null?At.shadowSide:At.side:Et.side=At.shadowSide!==null?At.shadowSide:ut[At.side],Et.alphaMap=At.alphaMap,Et.alphaTest=At.alphaTest,Et.clipShadows=At.clipShadows,Et.clippingPlanes=At.clippingPlanes,Et.clipIntersection=At.clipIntersection,Et.displacementMap=At.displacementMap,Et.displacementScale=At.displacementScale,Et.displacementBias=At.displacementBias,Et.wireframeLinewidth=At.wireframeLinewidth,Et.linewidth=At.linewidth,Mt.isPointLight===!0&&Et.isMeshDistanceMaterial===!0&&(Et.referencePosition.setFromMatrixPosition(Mt.matrixWorld),Et.nearDistance=Tt,Et.farDistance=St),Et}function _t(bt,At,Mt,Tt,St){if(bt.visible===!1)return;if(bt.layers.test(At.layers)&&(bt.isMesh||bt.isLine||bt.isPoints)&&(bt.castShadow||bt.receiveShadow&&St===VSMShadowMap)&&(!bt.frustumCulled||nt.intersectsObject(bt))){bt.modelViewMatrix.multiplyMatrices(Mt.matrixWorldInverse,bt.matrixWorld);const Rt=_e.update(bt),It=bt.material;if(Array.isArray(It)){const Ot=Rt.groups;for(let kt=0,$t=Ot.length;kt<$t;kt++){const jt=Ot[kt],Ht=It[jt.materialIndex];if(Ht&&Ht.visible){const Bt=xt(bt,Ht,Tt,Mt.near,Mt.far,St);et.renderBufferDirect(Mt,null,Rt,Bt,bt,jt)}}}else if(It.visible){const Ot=xt(bt,It,Tt,Mt.near,Mt.far,St);et.renderBufferDirect(Mt,null,Rt,Ot,bt,null)}}const Et=bt.children;for(let Rt=0,It=Et.length;Rt<It;Rt++)_t(Et[Rt],At,Mt,Tt,St)}}function WebGLState(et,_e,tt){const nt=tt.isWebGL2;function rt(){let ln=!1;const Un=new Vector4;let Ln=null;const Mn=new Vector4(0,0,0,0);return{setMask:function(Nn){Ln!==Nn&&!ln&&(et.colorMask(Nn,Nn,Nn,Nn),Ln=Nn)},setLocked:function(Nn){ln=Nn},setClear:function(Nn,Yn,er,yr,hr){hr===!0&&(Nn*=yr,Yn*=yr,er*=yr),Un.set(Nn,Yn,er,yr),Mn.equals(Un)===!1&&(et.clearColor(Nn,Yn,er,yr),Mn.copy(Un))},reset:function(){ln=!1,Ln=null,Mn.set(-1,0,0,0)}}}function it(){let ln=!1,Un=null,Ln=null,Mn=null;return{setTest:function(Nn){Nn?an(2929):Qt(2929)},setMask:function(Nn){Un!==Nn&&!ln&&(et.depthMask(Nn),Un=Nn)},setFunc:function(Nn){if(Ln!==Nn){switch(Nn){case NeverDepth:et.depthFunc(512);break;case AlwaysDepth:et.depthFunc(519);break;case LessDepth:et.depthFunc(513);break;case LessEqualDepth:et.depthFunc(515);break;case EqualDepth:et.depthFunc(514);break;case GreaterEqualDepth:et.depthFunc(518);break;case GreaterDepth:et.depthFunc(516);break;case NotEqualDepth:et.depthFunc(517);break;default:et.depthFunc(515)}Ln=Nn}},setLocked:function(Nn){ln=Nn},setClear:function(Nn){Mn!==Nn&&(et.clearDepth(Nn),Mn=Nn)},reset:function(){ln=!1,Un=null,Ln=null,Mn=null}}}function st(){let ln=!1,Un=null,Ln=null,Mn=null,Nn=null,Yn=null,er=null,yr=null,hr=null;return{setTest:function(Jn){ln||(Jn?an(2960):Qt(2960))},setMask:function(Jn){Un!==Jn&&!ln&&(et.stencilMask(Jn),Un=Jn)},setFunc:function(Jn,xr,br){(Ln!==Jn||Mn!==xr||Nn!==br)&&(et.stencilFunc(Jn,xr,br),Ln=Jn,Mn=xr,Nn=br)},setOp:function(Jn,xr,br){(Yn!==Jn||er!==xr||yr!==br)&&(et.stencilOp(Jn,xr,br),Yn=Jn,er=xr,yr=br)},setLocked:function(Jn){ln=Jn},setClear:function(Jn){hr!==Jn&&(et.clearStencil(Jn),hr=Jn)},reset:function(){ln=!1,Un=null,Ln=null,Mn=null,Nn=null,Yn=null,er=null,yr=null,hr=null}}}const ot=new rt,at=new it,lt=new st,ct=new WeakMap,ut=new WeakMap;let ft={},ht={},pt=new WeakMap,gt=[],dt=null,vt=!1,xt=null,_t=null,bt=null,At=null,Mt=null,Tt=null,St=null,Ct=!1,Et=null,Rt=null,It=null,Ot=null,kt=null;const $t=et.getParameter(35661);let jt=!1,Ht=0;const Bt=et.getParameter(7938);Bt.indexOf("WebGL")!==-1?(Ht=parseFloat(/^WebGL (\d)/.exec(Bt)[1]),jt=Ht>=1):Bt.indexOf("OpenGL ES")!==-1&&(Ht=parseFloat(/^OpenGL ES (\d)/.exec(Bt)[1]),jt=Ht>=2);let Lt=null,Ft={};const Vt=et.getParameter(3088),Yt=et.getParameter(2978),rn=new Vector4().fromArray(Vt),sn=new Vector4().fromArray(Yt);function cn(ln,Un,Ln){const Mn=new Uint8Array(4),Nn=et.createTexture();et.bindTexture(ln,Nn),et.texParameteri(ln,10241,9728),et.texParameteri(ln,10240,9728);for(let Yn=0;Yn<Ln;Yn++)et.texImage2D(Un+Yn,0,6408,1,1,0,6408,5121,Mn);return Nn}const Zt={};Zt[3553]=cn(3553,3553,1),Zt[34067]=cn(34067,34069,6),ot.setClear(0,0,0,1),at.setClear(1),lt.setClear(0),an(2929),at.setFunc(LessEqualDepth),hn(!1),bn(CullFaceBack),an(2884),nn(NoBlending);function an(ln){ft[ln]!==!0&&(et.enable(ln),ft[ln]=!0)}function Qt(ln){ft[ln]!==!1&&(et.disable(ln),ft[ln]=!1)}function Ut(ln,Un){return ht[ln]!==Un?(et.bindFramebuffer(ln,Un),ht[ln]=Un,nt&&(ln===36009&&(ht[36160]=Un),ln===36160&&(ht[36009]=Un)),!0):!1}function Gt(ln,Un){let Ln=gt,Mn=!1;if(ln)if(Ln=pt.get(Un),Ln===void 0&&(Ln=[],pt.set(Un,Ln)),ln.isWebGLMultipleRenderTargets){const Nn=ln.texture;if(Ln.length!==Nn.length||Ln[0]!==36064){for(let Yn=0,er=Nn.length;Yn<er;Yn++)Ln[Yn]=36064+Yn;Ln.length=Nn.length,Mn=!0}}else Ln[0]!==36064&&(Ln[0]=36064,Mn=!0);else Ln[0]!==1029&&(Ln[0]=1029,Mn=!0);Mn&&(tt.isWebGL2?et.drawBuffers(Ln):_e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ln))}function Wt(ln){return dt!==ln?(et.useProgram(ln),dt=ln,!0):!1}const Jt={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(nt)Jt[MinEquation]=32775,Jt[MaxEquation]=32776;else{const ln=_e.get("EXT_blend_minmax");ln!==null&&(Jt[MinEquation]=ln.MIN_EXT,Jt[MaxEquation]=ln.MAX_EXT)}const Kt={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function nn(ln,Un,Ln,Mn,Nn,Yn,er,yr){if(ln===NoBlending){vt===!0&&(Qt(3042),vt=!1);return}if(vt===!1&&(an(3042),vt=!0),ln!==CustomBlending){if(ln!==xt||yr!==Ct){if((_t!==AddEquation||Mt!==AddEquation)&&(et.blendEquation(32774),_t=AddEquation,Mt=AddEquation),yr)switch(ln){case NormalBlending:et.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:et.blendFunc(1,1);break;case SubtractiveBlending:et.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:et.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ln);break}else switch(ln){case NormalBlending:et.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:et.blendFunc(770,1);break;case SubtractiveBlending:et.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:et.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ln);break}bt=null,At=null,Tt=null,St=null,xt=ln,Ct=yr}return}Nn=Nn||Un,Yn=Yn||Ln,er=er||Mn,(Un!==_t||Nn!==Mt)&&(et.blendEquationSeparate(Jt[Un],Jt[Nn]),_t=Un,Mt=Nn),(Ln!==bt||Mn!==At||Yn!==Tt||er!==St)&&(et.blendFuncSeparate(Kt[Ln],Kt[Mn],Kt[Yn],Kt[er]),bt=Ln,At=Mn,Tt=Yn,St=er),xt=ln,Ct=null}function fn(ln,Un){ln.side===DoubleSide?Qt(2884):an(2884);let Ln=ln.side===BackSide;Un&&(Ln=!Ln),hn(Ln),ln.blending===NormalBlending&&ln.transparent===!1?nn(NoBlending):nn(ln.blending,ln.blendEquation,ln.blendSrc,ln.blendDst,ln.blendEquationAlpha,ln.blendSrcAlpha,ln.blendDstAlpha,ln.premultipliedAlpha),at.setFunc(ln.depthFunc),at.setTest(ln.depthTest),at.setMask(ln.depthWrite),ot.setMask(ln.colorWrite);const Mn=ln.stencilWrite;lt.setTest(Mn),Mn&&(lt.setMask(ln.stencilWriteMask),lt.setFunc(ln.stencilFunc,ln.stencilRef,ln.stencilFuncMask),lt.setOp(ln.stencilFail,ln.stencilZFail,ln.stencilZPass)),gn(ln.polygonOffset,ln.polygonOffsetFactor,ln.polygonOffsetUnits),ln.alphaToCoverage===!0?an(32926):Qt(32926)}function hn(ln){Et!==ln&&(ln?et.frontFace(2304):et.frontFace(2305),Et=ln)}function bn(ln){ln!==CullFaceNone?(an(2884),ln!==Rt&&(ln===CullFaceBack?et.cullFace(1029):ln===CullFaceFront?et.cullFace(1028):et.cullFace(1032))):Qt(2884),Rt=ln}function un(ln){ln!==It&&(jt&&et.lineWidth(ln),It=ln)}function gn(ln,Un,Ln){ln?(an(32823),(Ot!==Un||kt!==Ln)&&(et.polygonOffset(Un,Ln),Ot=Un,kt=Ln)):Qt(32823)}function vn(ln){ln?an(3089):Qt(3089)}function on(ln){ln===void 0&&(ln=33984+$t-1),Lt!==ln&&(et.activeTexture(ln),Lt=ln)}function Xt(ln,Un,Ln){Ln===void 0&&(Lt===null?Ln=33984+$t-1:Ln=Lt);let Mn=Ft[Ln];Mn===void 0&&(Mn={type:void 0,texture:void 0},Ft[Ln]=Mn),(Mn.type!==ln||Mn.texture!==Un)&&(Lt!==Ln&&(et.activeTexture(Ln),Lt=Ln),et.bindTexture(ln,Un||Zt[ln]),Mn.type=ln,Mn.texture=Un)}function zt(){const ln=Ft[Lt];ln!==void 0&&ln.type!==void 0&&(et.bindTexture(ln.type,null),ln.type=void 0,ln.texture=void 0)}function tn(){try{et.compressedTexImage2D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function pn(){try{et.texSubImage2D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function Sn(){try{et.texSubImage3D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function Pn(){try{et.compressedTexSubImage2D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function Rn(){try{et.texStorage2D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function Tn(){try{et.texStorage3D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function wn(){try{et.texImage2D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function kn(){try{et.texImage3D.apply(et,arguments)}catch(ln){console.error("THREE.WebGLState:",ln)}}function Gn(ln){rn.equals(ln)===!1&&(et.scissor(ln.x,ln.y,ln.z,ln.w),rn.copy(ln))}function Fn(ln){sn.equals(ln)===!1&&(et.viewport(ln.x,ln.y,ln.z,ln.w),sn.copy(ln))}function Dn(ln,Un){let Ln=ut.get(Un);Ln===void 0&&(Ln=new WeakMap,ut.set(Un,Ln));let Mn=Ln.get(ln);Mn===void 0&&(Mn=et.getUniformBlockIndex(Un,ln.name),Ln.set(ln,Mn))}function In(ln,Un){const Mn=ut.get(Un).get(ln);ct.get(ln)!==Mn&&(et.uniformBlockBinding(Un,Mn,ln.__bindingPointIndex),ct.set(ln,Mn))}function Hn(){et.disable(3042),et.disable(2884),et.disable(2929),et.disable(32823),et.disable(3089),et.disable(2960),et.disable(32926),et.blendEquation(32774),et.blendFunc(1,0),et.blendFuncSeparate(1,0,1,0),et.colorMask(!0,!0,!0,!0),et.clearColor(0,0,0,0),et.depthMask(!0),et.depthFunc(513),et.clearDepth(1),et.stencilMask(4294967295),et.stencilFunc(519,0,4294967295),et.stencilOp(7680,7680,7680),et.clearStencil(0),et.cullFace(1029),et.frontFace(2305),et.polygonOffset(0,0),et.activeTexture(33984),et.bindFramebuffer(36160,null),nt===!0&&(et.bindFramebuffer(36009,null),et.bindFramebuffer(36008,null)),et.useProgram(null),et.lineWidth(1),et.scissor(0,0,et.canvas.width,et.canvas.height),et.viewport(0,0,et.canvas.width,et.canvas.height),ft={},Lt=null,Ft={},ht={},pt=new WeakMap,gt=[],dt=null,vt=!1,xt=null,_t=null,bt=null,At=null,Mt=null,Tt=null,St=null,Ct=!1,Et=null,Rt=null,It=null,Ot=null,kt=null,rn.set(0,0,et.canvas.width,et.canvas.height),sn.set(0,0,et.canvas.width,et.canvas.height),ot.reset(),at.reset(),lt.reset()}return{buffers:{color:ot,depth:at,stencil:lt},enable:an,disable:Qt,bindFramebuffer:Ut,drawBuffers:Gt,useProgram:Wt,setBlending:nn,setMaterial:fn,setFlipSided:hn,setCullFace:bn,setLineWidth:un,setPolygonOffset:gn,setScissorTest:vn,activeTexture:on,bindTexture:Xt,unbindTexture:zt,compressedTexImage2D:tn,texImage2D:wn,texImage3D:kn,updateUBOMapping:Dn,uniformBlockBinding:In,texStorage2D:Rn,texStorage3D:Tn,texSubImage2D:pn,texSubImage3D:Sn,compressedTexSubImage2D:Pn,scissor:Gn,viewport:Fn,reset:Hn}}function WebGLTextures(et,_e,tt,nt,rt,it,st){const ot=rt.isWebGL2,at=rt.maxTextures,lt=rt.maxCubemapSize,ct=rt.maxTextureSize,ut=rt.maxSamples,ft=_e.has("WEBGL_multisampled_render_to_texture")?_e.get("WEBGL_multisampled_render_to_texture"):null,ht=/OculusBrowser/g.test(navigator.userAgent),pt=new WeakMap;let gt;const dt=new WeakMap;let vt=!1;try{vt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function xt(Xt,zt){return vt?new OffscreenCanvas(Xt,zt):createElementNS("canvas")}function _t(Xt,zt,tn,pn){let Sn=1;if((Xt.width>pn||Xt.height>pn)&&(Sn=pn/Math.max(Xt.width,Xt.height)),Sn<1||zt===!0)if(typeof HTMLImageElement<"u"&&Xt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Xt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Xt instanceof ImageBitmap){const Pn=zt?floorPowerOfTwo:Math.floor,Rn=Pn(Sn*Xt.width),Tn=Pn(Sn*Xt.height);gt===void 0&&(gt=xt(Rn,Tn));const wn=tn?xt(Rn,Tn):gt;return wn.width=Rn,wn.height=Tn,wn.getContext("2d").drawImage(Xt,0,0,Rn,Tn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Xt.width+"x"+Xt.height+") to ("+Rn+"x"+Tn+")."),wn}else return"data"in Xt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Xt.width+"x"+Xt.height+")."),Xt;return Xt}function bt(Xt){return isPowerOfTwo(Xt.width)&&isPowerOfTwo(Xt.height)}function At(Xt){return ot?!1:Xt.wrapS!==ClampToEdgeWrapping||Xt.wrapT!==ClampToEdgeWrapping||Xt.minFilter!==NearestFilter&&Xt.minFilter!==LinearFilter}function Mt(Xt,zt){return Xt.generateMipmaps&&zt&&Xt.minFilter!==NearestFilter&&Xt.minFilter!==LinearFilter}function Tt(Xt){et.generateMipmap(Xt)}function St(Xt,zt,tn,pn,Sn=!1){if(ot===!1)return zt;if(Xt!==null){if(et[Xt]!==void 0)return et[Xt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Xt+"'")}let Pn=zt;return zt===6403&&(tn===5126&&(Pn=33326),tn===5131&&(Pn=33325),tn===5121&&(Pn=33321)),zt===33319&&(tn===5126&&(Pn=33328),tn===5131&&(Pn=33327),tn===5121&&(Pn=33323)),zt===6408&&(tn===5126&&(Pn=34836),tn===5131&&(Pn=34842),tn===5121&&(Pn=pn===sRGBEncoding&&Sn===!1?35907:32856),tn===32819&&(Pn=32854),tn===32820&&(Pn=32855)),(Pn===33325||Pn===33326||Pn===33327||Pn===33328||Pn===34842||Pn===34836)&&_e.get("EXT_color_buffer_float"),Pn}function Ct(Xt,zt,tn){return Mt(Xt,tn)===!0||Xt.isFramebufferTexture&&Xt.minFilter!==NearestFilter&&Xt.minFilter!==LinearFilter?Math.log2(Math.max(zt.width,zt.height))+1:Xt.mipmaps!==void 0&&Xt.mipmaps.length>0?Xt.mipmaps.length:Xt.isCompressedTexture&&Array.isArray(Xt.image)?zt.mipmaps.length:1}function Et(Xt){return Xt===NearestFilter||Xt===NearestMipmapNearestFilter||Xt===NearestMipmapLinearFilter?9728:9729}function Rt(Xt){const zt=Xt.target;zt.removeEventListener("dispose",Rt),Ot(zt),zt.isVideoTexture&&pt.delete(zt)}function It(Xt){const zt=Xt.target;zt.removeEventListener("dispose",It),$t(zt)}function Ot(Xt){const zt=nt.get(Xt);if(zt.__webglInit===void 0)return;const tn=Xt.source,pn=dt.get(tn);if(pn){const Sn=pn[zt.__cacheKey];Sn.usedTimes--,Sn.usedTimes===0&&kt(Xt),Object.keys(pn).length===0&&dt.delete(tn)}nt.remove(Xt)}function kt(Xt){const zt=nt.get(Xt);et.deleteTexture(zt.__webglTexture);const tn=Xt.source,pn=dt.get(tn);delete pn[zt.__cacheKey],st.memory.textures--}function $t(Xt){const zt=Xt.texture,tn=nt.get(Xt),pn=nt.get(zt);if(pn.__webglTexture!==void 0&&(et.deleteTexture(pn.__webglTexture),st.memory.textures--),Xt.depthTexture&&Xt.depthTexture.dispose(),Xt.isWebGLCubeRenderTarget)for(let Sn=0;Sn<6;Sn++)et.deleteFramebuffer(tn.__webglFramebuffer[Sn]),tn.__webglDepthbuffer&&et.deleteRenderbuffer(tn.__webglDepthbuffer[Sn]);else{if(et.deleteFramebuffer(tn.__webglFramebuffer),tn.__webglDepthbuffer&&et.deleteRenderbuffer(tn.__webglDepthbuffer),tn.__webglMultisampledFramebuffer&&et.deleteFramebuffer(tn.__webglMultisampledFramebuffer),tn.__webglColorRenderbuffer)for(let Sn=0;Sn<tn.__webglColorRenderbuffer.length;Sn++)tn.__webglColorRenderbuffer[Sn]&&et.deleteRenderbuffer(tn.__webglColorRenderbuffer[Sn]);tn.__webglDepthRenderbuffer&&et.deleteRenderbuffer(tn.__webglDepthRenderbuffer)}if(Xt.isWebGLMultipleRenderTargets)for(let Sn=0,Pn=zt.length;Sn<Pn;Sn++){const Rn=nt.get(zt[Sn]);Rn.__webglTexture&&(et.deleteTexture(Rn.__webglTexture),st.memory.textures--),nt.remove(zt[Sn])}nt.remove(zt),nt.remove(Xt)}let jt=0;function Ht(){jt=0}function Bt(){const Xt=jt;return Xt>=at&&console.warn("THREE.WebGLTextures: Trying to use "+Xt+" texture units while this GPU supports only "+at),jt+=1,Xt}function Lt(Xt){const zt=[];return zt.push(Xt.wrapS),zt.push(Xt.wrapT),zt.push(Xt.magFilter),zt.push(Xt.minFilter),zt.push(Xt.anisotropy),zt.push(Xt.internalFormat),zt.push(Xt.format),zt.push(Xt.type),zt.push(Xt.generateMipmaps),zt.push(Xt.premultiplyAlpha),zt.push(Xt.flipY),zt.push(Xt.unpackAlignment),zt.push(Xt.encoding),zt.join()}function Ft(Xt,zt){const tn=nt.get(Xt);if(Xt.isVideoTexture&&vn(Xt),Xt.isRenderTargetTexture===!1&&Xt.version>0&&tn.__version!==Xt.version){const pn=Xt.image;if(pn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Qt(tn,Xt,zt);return}}tt.bindTexture(3553,tn.__webglTexture,33984+zt)}function Vt(Xt,zt){const tn=nt.get(Xt);if(Xt.version>0&&tn.__version!==Xt.version){Qt(tn,Xt,zt);return}tt.bindTexture(35866,tn.__webglTexture,33984+zt)}function Yt(Xt,zt){const tn=nt.get(Xt);if(Xt.version>0&&tn.__version!==Xt.version){Qt(tn,Xt,zt);return}tt.bindTexture(32879,tn.__webglTexture,33984+zt)}function rn(Xt,zt){const tn=nt.get(Xt);if(Xt.version>0&&tn.__version!==Xt.version){Ut(tn,Xt,zt);return}tt.bindTexture(34067,tn.__webglTexture,33984+zt)}const sn={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},cn={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Zt(Xt,zt,tn){if(tn?(et.texParameteri(Xt,10242,sn[zt.wrapS]),et.texParameteri(Xt,10243,sn[zt.wrapT]),(Xt===32879||Xt===35866)&&et.texParameteri(Xt,32882,sn[zt.wrapR]),et.texParameteri(Xt,10240,cn[zt.magFilter]),et.texParameteri(Xt,10241,cn[zt.minFilter])):(et.texParameteri(Xt,10242,33071),et.texParameteri(Xt,10243,33071),(Xt===32879||Xt===35866)&&et.texParameteri(Xt,32882,33071),(zt.wrapS!==ClampToEdgeWrapping||zt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),et.texParameteri(Xt,10240,Et(zt.magFilter)),et.texParameteri(Xt,10241,Et(zt.minFilter)),zt.minFilter!==NearestFilter&&zt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),_e.has("EXT_texture_filter_anisotropic")===!0){const pn=_e.get("EXT_texture_filter_anisotropic");if(zt.type===FloatType&&_e.has("OES_texture_float_linear")===!1||ot===!1&&zt.type===HalfFloatType&&_e.has("OES_texture_half_float_linear")===!1)return;(zt.anisotropy>1||nt.get(zt).__currentAnisotropy)&&(et.texParameterf(Xt,pn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(zt.anisotropy,rt.getMaxAnisotropy())),nt.get(zt).__currentAnisotropy=zt.anisotropy)}}function an(Xt,zt){let tn=!1;Xt.__webglInit===void 0&&(Xt.__webglInit=!0,zt.addEventListener("dispose",Rt));const pn=zt.source;let Sn=dt.get(pn);Sn===void 0&&(Sn={},dt.set(pn,Sn));const Pn=Lt(zt);if(Pn!==Xt.__cacheKey){Sn[Pn]===void 0&&(Sn[Pn]={texture:et.createTexture(),usedTimes:0},st.memory.textures++,tn=!0),Sn[Pn].usedTimes++;const Rn=Sn[Xt.__cacheKey];Rn!==void 0&&(Sn[Xt.__cacheKey].usedTimes--,Rn.usedTimes===0&&kt(zt)),Xt.__cacheKey=Pn,Xt.__webglTexture=Sn[Pn].texture}return tn}function Qt(Xt,zt,tn){let pn=3553;zt.isDataArrayTexture&&(pn=35866),zt.isData3DTexture&&(pn=32879);const Sn=an(Xt,zt),Pn=zt.source;tt.bindTexture(pn,Xt.__webglTexture,33984+tn);const Rn=nt.get(Pn);if(Pn.version!==Rn.__version||Sn===!0){tt.activeTexture(33984+tn),et.pixelStorei(37440,zt.flipY),et.pixelStorei(37441,zt.premultiplyAlpha),et.pixelStorei(3317,zt.unpackAlignment),et.pixelStorei(37443,0);const Tn=At(zt)&&bt(zt.image)===!1;let wn=_t(zt.image,Tn,!1,ct);wn=on(zt,wn);const kn=bt(wn)||ot,Gn=it.convert(zt.format,zt.encoding);let Fn=it.convert(zt.type),Dn=St(zt.internalFormat,Gn,Fn,zt.encoding,zt.isVideoTexture);Zt(pn,zt,kn);let In;const Hn=zt.mipmaps,ln=ot&&zt.isVideoTexture!==!0,Un=Rn.__version===void 0||Sn===!0,Ln=Ct(zt,wn,kn);if(zt.isDepthTexture)Dn=6402,ot?zt.type===FloatType?Dn=36012:zt.type===UnsignedIntType?Dn=33190:zt.type===UnsignedInt248Type?Dn=35056:Dn=33189:zt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),zt.format===DepthFormat&&Dn===6402&&zt.type!==UnsignedShortType&&zt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),zt.type=UnsignedIntType,Fn=it.convert(zt.type)),zt.format===DepthStencilFormat&&Dn===6402&&(Dn=34041,zt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),zt.type=UnsignedInt248Type,Fn=it.convert(zt.type))),Un&&(ln?tt.texStorage2D(3553,1,Dn,wn.width,wn.height):tt.texImage2D(3553,0,Dn,wn.width,wn.height,0,Gn,Fn,null));else if(zt.isDataTexture)if(Hn.length>0&&kn){ln&&Un&&tt.texStorage2D(3553,Ln,Dn,Hn[0].width,Hn[0].height);for(let Mn=0,Nn=Hn.length;Mn<Nn;Mn++)In=Hn[Mn],ln?tt.texSubImage2D(3553,Mn,0,0,In.width,In.height,Gn,Fn,In.data):tt.texImage2D(3553,Mn,Dn,In.width,In.height,0,Gn,Fn,In.data);zt.generateMipmaps=!1}else ln?(Un&&tt.texStorage2D(3553,Ln,Dn,wn.width,wn.height),tt.texSubImage2D(3553,0,0,0,wn.width,wn.height,Gn,Fn,wn.data)):tt.texImage2D(3553,0,Dn,wn.width,wn.height,0,Gn,Fn,wn.data);else if(zt.isCompressedTexture){ln&&Un&&tt.texStorage2D(3553,Ln,Dn,Hn[0].width,Hn[0].height);for(let Mn=0,Nn=Hn.length;Mn<Nn;Mn++)In=Hn[Mn],zt.format!==RGBAFormat?Gn!==null?ln?tt.compressedTexSubImage2D(3553,Mn,0,0,In.width,In.height,Gn,In.data):tt.compressedTexImage2D(3553,Mn,Dn,In.width,In.height,0,In.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ln?tt.texSubImage2D(3553,Mn,0,0,In.width,In.height,Gn,Fn,In.data):tt.texImage2D(3553,Mn,Dn,In.width,In.height,0,Gn,Fn,In.data)}else if(zt.isDataArrayTexture)ln?(Un&&tt.texStorage3D(35866,Ln,Dn,wn.width,wn.height,wn.depth),tt.texSubImage3D(35866,0,0,0,0,wn.width,wn.height,wn.depth,Gn,Fn,wn.data)):tt.texImage3D(35866,0,Dn,wn.width,wn.height,wn.depth,0,Gn,Fn,wn.data);else if(zt.isData3DTexture)ln?(Un&&tt.texStorage3D(32879,Ln,Dn,wn.width,wn.height,wn.depth),tt.texSubImage3D(32879,0,0,0,0,wn.width,wn.height,wn.depth,Gn,Fn,wn.data)):tt.texImage3D(32879,0,Dn,wn.width,wn.height,wn.depth,0,Gn,Fn,wn.data);else if(zt.isFramebufferTexture){if(Un)if(ln)tt.texStorage2D(3553,Ln,Dn,wn.width,wn.height);else{let Mn=wn.width,Nn=wn.height;for(let Yn=0;Yn<Ln;Yn++)tt.texImage2D(3553,Yn,Dn,Mn,Nn,0,Gn,Fn,null),Mn>>=1,Nn>>=1}}else if(Hn.length>0&&kn){ln&&Un&&tt.texStorage2D(3553,Ln,Dn,Hn[0].width,Hn[0].height);for(let Mn=0,Nn=Hn.length;Mn<Nn;Mn++)In=Hn[Mn],ln?tt.texSubImage2D(3553,Mn,0,0,Gn,Fn,In):tt.texImage2D(3553,Mn,Dn,Gn,Fn,In);zt.generateMipmaps=!1}else ln?(Un&&tt.texStorage2D(3553,Ln,Dn,wn.width,wn.height),tt.texSubImage2D(3553,0,0,0,Gn,Fn,wn)):tt.texImage2D(3553,0,Dn,Gn,Fn,wn);Mt(zt,kn)&&Tt(pn),Rn.__version=Pn.version,zt.onUpdate&&zt.onUpdate(zt)}Xt.__version=zt.version}function Ut(Xt,zt,tn){if(zt.image.length!==6)return;const pn=an(Xt,zt),Sn=zt.source;tt.bindTexture(34067,Xt.__webglTexture,33984+tn);const Pn=nt.get(Sn);if(Sn.version!==Pn.__version||pn===!0){tt.activeTexture(33984+tn),et.pixelStorei(37440,zt.flipY),et.pixelStorei(37441,zt.premultiplyAlpha),et.pixelStorei(3317,zt.unpackAlignment),et.pixelStorei(37443,0);const Rn=zt.isCompressedTexture||zt.image[0].isCompressedTexture,Tn=zt.image[0]&&zt.image[0].isDataTexture,wn=[];for(let Mn=0;Mn<6;Mn++)!Rn&&!Tn?wn[Mn]=_t(zt.image[Mn],!1,!0,lt):wn[Mn]=Tn?zt.image[Mn].image:zt.image[Mn],wn[Mn]=on(zt,wn[Mn]);const kn=wn[0],Gn=bt(kn)||ot,Fn=it.convert(zt.format,zt.encoding),Dn=it.convert(zt.type),In=St(zt.internalFormat,Fn,Dn,zt.encoding),Hn=ot&&zt.isVideoTexture!==!0,ln=Pn.__version===void 0||pn===!0;let Un=Ct(zt,kn,Gn);Zt(34067,zt,Gn);let Ln;if(Rn){Hn&&ln&&tt.texStorage2D(34067,Un,In,kn.width,kn.height);for(let Mn=0;Mn<6;Mn++){Ln=wn[Mn].mipmaps;for(let Nn=0;Nn<Ln.length;Nn++){const Yn=Ln[Nn];zt.format!==RGBAFormat?Fn!==null?Hn?tt.compressedTexSubImage2D(34069+Mn,Nn,0,0,Yn.width,Yn.height,Fn,Yn.data):tt.compressedTexImage2D(34069+Mn,Nn,In,Yn.width,Yn.height,0,Yn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Hn?tt.texSubImage2D(34069+Mn,Nn,0,0,Yn.width,Yn.height,Fn,Dn,Yn.data):tt.texImage2D(34069+Mn,Nn,In,Yn.width,Yn.height,0,Fn,Dn,Yn.data)}}}else{Ln=zt.mipmaps,Hn&&ln&&(Ln.length>0&&Un++,tt.texStorage2D(34067,Un,In,wn[0].width,wn[0].height));for(let Mn=0;Mn<6;Mn++)if(Tn){Hn?tt.texSubImage2D(34069+Mn,0,0,0,wn[Mn].width,wn[Mn].height,Fn,Dn,wn[Mn].data):tt.texImage2D(34069+Mn,0,In,wn[Mn].width,wn[Mn].height,0,Fn,Dn,wn[Mn].data);for(let Nn=0;Nn<Ln.length;Nn++){const er=Ln[Nn].image[Mn].image;Hn?tt.texSubImage2D(34069+Mn,Nn+1,0,0,er.width,er.height,Fn,Dn,er.data):tt.texImage2D(34069+Mn,Nn+1,In,er.width,er.height,0,Fn,Dn,er.data)}}else{Hn?tt.texSubImage2D(34069+Mn,0,0,0,Fn,Dn,wn[Mn]):tt.texImage2D(34069+Mn,0,In,Fn,Dn,wn[Mn]);for(let Nn=0;Nn<Ln.length;Nn++){const Yn=Ln[Nn];Hn?tt.texSubImage2D(34069+Mn,Nn+1,0,0,Fn,Dn,Yn.image[Mn]):tt.texImage2D(34069+Mn,Nn+1,In,Fn,Dn,Yn.image[Mn])}}}Mt(zt,Gn)&&Tt(34067),Pn.__version=Sn.version,zt.onUpdate&&zt.onUpdate(zt)}Xt.__version=zt.version}function Gt(Xt,zt,tn,pn,Sn){const Pn=it.convert(tn.format,tn.encoding),Rn=it.convert(tn.type),Tn=St(tn.internalFormat,Pn,Rn,tn.encoding);nt.get(zt).__hasExternalTextures||(Sn===32879||Sn===35866?tt.texImage3D(Sn,0,Tn,zt.width,zt.height,zt.depth,0,Pn,Rn,null):tt.texImage2D(Sn,0,Tn,zt.width,zt.height,0,Pn,Rn,null)),tt.bindFramebuffer(36160,Xt),gn(zt)?ft.framebufferTexture2DMultisampleEXT(36160,pn,Sn,nt.get(tn).__webglTexture,0,un(zt)):et.framebufferTexture2D(36160,pn,Sn,nt.get(tn).__webglTexture,0),tt.bindFramebuffer(36160,null)}function Wt(Xt,zt,tn){if(et.bindRenderbuffer(36161,Xt),zt.depthBuffer&&!zt.stencilBuffer){let pn=33189;if(tn||gn(zt)){const Sn=zt.depthTexture;Sn&&Sn.isDepthTexture&&(Sn.type===FloatType?pn=36012:Sn.type===UnsignedIntType&&(pn=33190));const Pn=un(zt);gn(zt)?ft.renderbufferStorageMultisampleEXT(36161,Pn,pn,zt.width,zt.height):et.renderbufferStorageMultisample(36161,Pn,pn,zt.width,zt.height)}else et.renderbufferStorage(36161,pn,zt.width,zt.height);et.framebufferRenderbuffer(36160,36096,36161,Xt)}else if(zt.depthBuffer&&zt.stencilBuffer){const pn=un(zt);tn&&gn(zt)===!1?et.renderbufferStorageMultisample(36161,pn,35056,zt.width,zt.height):gn(zt)?ft.renderbufferStorageMultisampleEXT(36161,pn,35056,zt.width,zt.height):et.renderbufferStorage(36161,34041,zt.width,zt.height),et.framebufferRenderbuffer(36160,33306,36161,Xt)}else{const pn=zt.isWebGLMultipleRenderTargets===!0?zt.texture:[zt.texture];for(let Sn=0;Sn<pn.length;Sn++){const Pn=pn[Sn],Rn=it.convert(Pn.format,Pn.encoding),Tn=it.convert(Pn.type),wn=St(Pn.internalFormat,Rn,Tn,Pn.encoding),kn=un(zt);tn&&gn(zt)===!1?et.renderbufferStorageMultisample(36161,kn,wn,zt.width,zt.height):gn(zt)?ft.renderbufferStorageMultisampleEXT(36161,kn,wn,zt.width,zt.height):et.renderbufferStorage(36161,wn,zt.width,zt.height)}}et.bindRenderbuffer(36161,null)}function Jt(Xt,zt){if(zt&&zt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(tt.bindFramebuffer(36160,Xt),!(zt.depthTexture&&zt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!nt.get(zt.depthTexture).__webglTexture||zt.depthTexture.image.width!==zt.width||zt.depthTexture.image.height!==zt.height)&&(zt.depthTexture.image.width=zt.width,zt.depthTexture.image.height=zt.height,zt.depthTexture.needsUpdate=!0),Ft(zt.depthTexture,0);const pn=nt.get(zt.depthTexture).__webglTexture,Sn=un(zt);if(zt.depthTexture.format===DepthFormat)gn(zt)?ft.framebufferTexture2DMultisampleEXT(36160,36096,3553,pn,0,Sn):et.framebufferTexture2D(36160,36096,3553,pn,0);else if(zt.depthTexture.format===DepthStencilFormat)gn(zt)?ft.framebufferTexture2DMultisampleEXT(36160,33306,3553,pn,0,Sn):et.framebufferTexture2D(36160,33306,3553,pn,0);else throw new Error("Unknown depthTexture format")}function Kt(Xt){const zt=nt.get(Xt),tn=Xt.isWebGLCubeRenderTarget===!0;if(Xt.depthTexture&&!zt.__autoAllocateDepthBuffer){if(tn)throw new Error("target.depthTexture not supported in Cube render targets");Jt(zt.__webglFramebuffer,Xt)}else if(tn){zt.__webglDepthbuffer=[];for(let pn=0;pn<6;pn++)tt.bindFramebuffer(36160,zt.__webglFramebuffer[pn]),zt.__webglDepthbuffer[pn]=et.createRenderbuffer(),Wt(zt.__webglDepthbuffer[pn],Xt,!1)}else tt.bindFramebuffer(36160,zt.__webglFramebuffer),zt.__webglDepthbuffer=et.createRenderbuffer(),Wt(zt.__webglDepthbuffer,Xt,!1);tt.bindFramebuffer(36160,null)}function nn(Xt,zt,tn){const pn=nt.get(Xt);zt!==void 0&&Gt(pn.__webglFramebuffer,Xt,Xt.texture,36064,3553),tn!==void 0&&Kt(Xt)}function fn(Xt){const zt=Xt.texture,tn=nt.get(Xt),pn=nt.get(zt);Xt.addEventListener("dispose",It),Xt.isWebGLMultipleRenderTargets!==!0&&(pn.__webglTexture===void 0&&(pn.__webglTexture=et.createTexture()),pn.__version=zt.version,st.memory.textures++);const Sn=Xt.isWebGLCubeRenderTarget===!0,Pn=Xt.isWebGLMultipleRenderTargets===!0,Rn=bt(Xt)||ot;if(Sn){tn.__webglFramebuffer=[];for(let Tn=0;Tn<6;Tn++)tn.__webglFramebuffer[Tn]=et.createFramebuffer()}else{if(tn.__webglFramebuffer=et.createFramebuffer(),Pn)if(rt.drawBuffers){const Tn=Xt.texture;for(let wn=0,kn=Tn.length;wn<kn;wn++){const Gn=nt.get(Tn[wn]);Gn.__webglTexture===void 0&&(Gn.__webglTexture=et.createTexture(),st.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(ot&&Xt.samples>0&&gn(Xt)===!1){const Tn=Pn?zt:[zt];tn.__webglMultisampledFramebuffer=et.createFramebuffer(),tn.__webglColorRenderbuffer=[],tt.bindFramebuffer(36160,tn.__webglMultisampledFramebuffer);for(let wn=0;wn<Tn.length;wn++){const kn=Tn[wn];tn.__webglColorRenderbuffer[wn]=et.createRenderbuffer(),et.bindRenderbuffer(36161,tn.__webglColorRenderbuffer[wn]);const Gn=it.convert(kn.format,kn.encoding),Fn=it.convert(kn.type),Dn=St(kn.internalFormat,Gn,Fn,kn.encoding,Xt.isXRRenderTarget===!0),In=un(Xt);et.renderbufferStorageMultisample(36161,In,Dn,Xt.width,Xt.height),et.framebufferRenderbuffer(36160,36064+wn,36161,tn.__webglColorRenderbuffer[wn])}et.bindRenderbuffer(36161,null),Xt.depthBuffer&&(tn.__webglDepthRenderbuffer=et.createRenderbuffer(),Wt(tn.__webglDepthRenderbuffer,Xt,!0)),tt.bindFramebuffer(36160,null)}}if(Sn){tt.bindTexture(34067,pn.__webglTexture),Zt(34067,zt,Rn);for(let Tn=0;Tn<6;Tn++)Gt(tn.__webglFramebuffer[Tn],Xt,zt,36064,34069+Tn);Mt(zt,Rn)&&Tt(34067),tt.unbindTexture()}else if(Pn){const Tn=Xt.texture;for(let wn=0,kn=Tn.length;wn<kn;wn++){const Gn=Tn[wn],Fn=nt.get(Gn);tt.bindTexture(3553,Fn.__webglTexture),Zt(3553,Gn,Rn),Gt(tn.__webglFramebuffer,Xt,Gn,36064+wn,3553),Mt(Gn,Rn)&&Tt(3553)}tt.unbindTexture()}else{let Tn=3553;(Xt.isWebGL3DRenderTarget||Xt.isWebGLArrayRenderTarget)&&(ot?Tn=Xt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),tt.bindTexture(Tn,pn.__webglTexture),Zt(Tn,zt,Rn),Gt(tn.__webglFramebuffer,Xt,zt,36064,Tn),Mt(zt,Rn)&&Tt(Tn),tt.unbindTexture()}Xt.depthBuffer&&Kt(Xt)}function hn(Xt){const zt=bt(Xt)||ot,tn=Xt.isWebGLMultipleRenderTargets===!0?Xt.texture:[Xt.texture];for(let pn=0,Sn=tn.length;pn<Sn;pn++){const Pn=tn[pn];if(Mt(Pn,zt)){const Rn=Xt.isWebGLCubeRenderTarget?34067:3553,Tn=nt.get(Pn).__webglTexture;tt.bindTexture(Rn,Tn),Tt(Rn),tt.unbindTexture()}}}function bn(Xt){if(ot&&Xt.samples>0&&gn(Xt)===!1){const zt=Xt.isWebGLMultipleRenderTargets?Xt.texture:[Xt.texture],tn=Xt.width,pn=Xt.height;let Sn=16384;const Pn=[],Rn=Xt.stencilBuffer?33306:36096,Tn=nt.get(Xt),wn=Xt.isWebGLMultipleRenderTargets===!0;if(wn)for(let kn=0;kn<zt.length;kn++)tt.bindFramebuffer(36160,Tn.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(36160,36064+kn,36161,null),tt.bindFramebuffer(36160,Tn.__webglFramebuffer),et.framebufferTexture2D(36009,36064+kn,3553,null,0);tt.bindFramebuffer(36008,Tn.__webglMultisampledFramebuffer),tt.bindFramebuffer(36009,Tn.__webglFramebuffer);for(let kn=0;kn<zt.length;kn++){Pn.push(36064+kn),Xt.depthBuffer&&Pn.push(Rn);const Gn=Tn.__ignoreDepthValues!==void 0?Tn.__ignoreDepthValues:!1;if(Gn===!1&&(Xt.depthBuffer&&(Sn|=256),Xt.stencilBuffer&&(Sn|=1024)),wn&&et.framebufferRenderbuffer(36008,36064,36161,Tn.__webglColorRenderbuffer[kn]),Gn===!0&&(et.invalidateFramebuffer(36008,[Rn]),et.invalidateFramebuffer(36009,[Rn])),wn){const Fn=nt.get(zt[kn]).__webglTexture;et.framebufferTexture2D(36009,36064,3553,Fn,0)}et.blitFramebuffer(0,0,tn,pn,0,0,tn,pn,Sn,9728),ht&&et.invalidateFramebuffer(36008,Pn)}if(tt.bindFramebuffer(36008,null),tt.bindFramebuffer(36009,null),wn)for(let kn=0;kn<zt.length;kn++){tt.bindFramebuffer(36160,Tn.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(36160,36064+kn,36161,Tn.__webglColorRenderbuffer[kn]);const Gn=nt.get(zt[kn]).__webglTexture;tt.bindFramebuffer(36160,Tn.__webglFramebuffer),et.framebufferTexture2D(36009,36064+kn,3553,Gn,0)}tt.bindFramebuffer(36009,Tn.__webglMultisampledFramebuffer)}}function un(Xt){return Math.min(ut,Xt.samples)}function gn(Xt){const zt=nt.get(Xt);return ot&&Xt.samples>0&&_e.has("WEBGL_multisampled_render_to_texture")===!0&&zt.__useRenderToTexture!==!1}function vn(Xt){const zt=st.render.frame;pt.get(Xt)!==zt&&(pt.set(Xt,zt),Xt.update())}function on(Xt,zt){const tn=Xt.encoding,pn=Xt.format,Sn=Xt.type;return Xt.isCompressedTexture===!0||Xt.isVideoTexture===!0||Xt.format===_SRGBAFormat||tn!==LinearEncoding&&(tn===sRGBEncoding?ot===!1?_e.has("EXT_sRGB")===!0&&pn===RGBAFormat?(Xt.format=_SRGBAFormat,Xt.minFilter=LinearFilter,Xt.generateMipmaps=!1):zt=ImageUtils.sRGBToLinear(zt):(pn!==RGBAFormat||Sn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",tn)),zt}this.allocateTextureUnit=Bt,this.resetTextureUnits=Ht,this.setTexture2D=Ft,this.setTexture2DArray=Vt,this.setTexture3D=Yt,this.setTextureCube=rn,this.rebindTextures=nn,this.setupRenderTarget=fn,this.updateRenderTargetMipmap=hn,this.updateMultisampleRenderTarget=bn,this.setupDepthRenderbuffer=Kt,this.setupFrameBufferTexture=Gt,this.useMultisampledRTT=gn}function WebGLUtils(et,_e,tt){const nt=tt.isWebGL2;function rt(it,st=null){let ot;if(it===UnsignedByteType)return 5121;if(it===UnsignedShort4444Type)return 32819;if(it===UnsignedShort5551Type)return 32820;if(it===ByteType)return 5120;if(it===ShortType)return 5122;if(it===UnsignedShortType)return 5123;if(it===IntType)return 5124;if(it===UnsignedIntType)return 5125;if(it===FloatType)return 5126;if(it===HalfFloatType)return nt?5131:(ot=_e.get("OES_texture_half_float"),ot!==null?ot.HALF_FLOAT_OES:null);if(it===AlphaFormat)return 6406;if(it===RGBAFormat)return 6408;if(it===LuminanceFormat)return 6409;if(it===LuminanceAlphaFormat)return 6410;if(it===DepthFormat)return 6402;if(it===DepthStencilFormat)return 34041;if(it===RedFormat)return 6403;if(it===RGBFormat)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(it===_SRGBAFormat)return ot=_e.get("EXT_sRGB"),ot!==null?ot.SRGB_ALPHA_EXT:null;if(it===RedIntegerFormat)return 36244;if(it===RGFormat)return 33319;if(it===RGIntegerFormat)return 33320;if(it===RGBAIntegerFormat)return 36249;if(it===RGB_S3TC_DXT1_Format||it===RGBA_S3TC_DXT1_Format||it===RGBA_S3TC_DXT3_Format||it===RGBA_S3TC_DXT5_Format)if(st===sRGBEncoding)if(ot=_e.get("WEBGL_compressed_texture_s3tc_srgb"),ot!==null){if(it===RGB_S3TC_DXT1_Format)return ot.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT1_Format)return ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT3_Format)return ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(it===RGBA_S3TC_DXT5_Format)return ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(ot=_e.get("WEBGL_compressed_texture_s3tc"),ot!==null){if(it===RGB_S3TC_DXT1_Format)return ot.COMPRESSED_RGB_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT1_Format)return ot.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT3_Format)return ot.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(it===RGBA_S3TC_DXT5_Format)return ot.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(it===RGB_PVRTC_4BPPV1_Format||it===RGB_PVRTC_2BPPV1_Format||it===RGBA_PVRTC_4BPPV1_Format||it===RGBA_PVRTC_2BPPV1_Format)if(ot=_e.get("WEBGL_compressed_texture_pvrtc"),ot!==null){if(it===RGB_PVRTC_4BPPV1_Format)return ot.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(it===RGB_PVRTC_2BPPV1_Format)return ot.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(it===RGBA_PVRTC_4BPPV1_Format)return ot.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(it===RGBA_PVRTC_2BPPV1_Format)return ot.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(it===RGB_ETC1_Format)return ot=_e.get("WEBGL_compressed_texture_etc1"),ot!==null?ot.COMPRESSED_RGB_ETC1_WEBGL:null;if(it===RGB_ETC2_Format||it===RGBA_ETC2_EAC_Format)if(ot=_e.get("WEBGL_compressed_texture_etc"),ot!==null){if(it===RGB_ETC2_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ETC2:ot.COMPRESSED_RGB8_ETC2;if(it===RGBA_ETC2_EAC_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:ot.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(it===RGBA_ASTC_4x4_Format||it===RGBA_ASTC_5x4_Format||it===RGBA_ASTC_5x5_Format||it===RGBA_ASTC_6x5_Format||it===RGBA_ASTC_6x6_Format||it===RGBA_ASTC_8x5_Format||it===RGBA_ASTC_8x6_Format||it===RGBA_ASTC_8x8_Format||it===RGBA_ASTC_10x5_Format||it===RGBA_ASTC_10x6_Format||it===RGBA_ASTC_10x8_Format||it===RGBA_ASTC_10x10_Format||it===RGBA_ASTC_12x10_Format||it===RGBA_ASTC_12x12_Format)if(ot=_e.get("WEBGL_compressed_texture_astc"),ot!==null){if(it===RGBA_ASTC_4x4_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:ot.COMPRESSED_RGBA_ASTC_4x4_KHR;if(it===RGBA_ASTC_5x4_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:ot.COMPRESSED_RGBA_ASTC_5x4_KHR;if(it===RGBA_ASTC_5x5_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:ot.COMPRESSED_RGBA_ASTC_5x5_KHR;if(it===RGBA_ASTC_6x5_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:ot.COMPRESSED_RGBA_ASTC_6x5_KHR;if(it===RGBA_ASTC_6x6_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:ot.COMPRESSED_RGBA_ASTC_6x6_KHR;if(it===RGBA_ASTC_8x5_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:ot.COMPRESSED_RGBA_ASTC_8x5_KHR;if(it===RGBA_ASTC_8x6_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:ot.COMPRESSED_RGBA_ASTC_8x6_KHR;if(it===RGBA_ASTC_8x8_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:ot.COMPRESSED_RGBA_ASTC_8x8_KHR;if(it===RGBA_ASTC_10x5_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:ot.COMPRESSED_RGBA_ASTC_10x5_KHR;if(it===RGBA_ASTC_10x6_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:ot.COMPRESSED_RGBA_ASTC_10x6_KHR;if(it===RGBA_ASTC_10x8_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:ot.COMPRESSED_RGBA_ASTC_10x8_KHR;if(it===RGBA_ASTC_10x10_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:ot.COMPRESSED_RGBA_ASTC_10x10_KHR;if(it===RGBA_ASTC_12x10_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:ot.COMPRESSED_RGBA_ASTC_12x10_KHR;if(it===RGBA_ASTC_12x12_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:ot.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(it===RGBA_BPTC_Format)if(ot=_e.get("EXT_texture_compression_bptc"),ot!==null){if(it===RGBA_BPTC_Format)return st===sRGBEncoding?ot.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:ot.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return it===UnsignedInt248Type?nt?34042:(ot=_e.get("WEBGL_depth_texture"),ot!==null?ot.UNSIGNED_INT_24_8_WEBGL:null):et[it]!==void 0?et[it]:null}return{convert:rt}}class ArrayCamera extends PerspectiveCamera$1{constructor(_e=[]){super(),this.isArrayCamera=!0,this.cameras=_e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(_e){return this._targetRay!==null&&this._targetRay.dispatchEvent(_e),this._grip!==null&&this._grip.dispatchEvent(_e),this._hand!==null&&this._hand.dispatchEvent(_e),this}disconnect(_e){return this.dispatchEvent({type:"disconnected",data:_e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(_e,tt,nt){let rt=null,it=null,st=null;const ot=this._targetRay,at=this._grip,lt=this._hand;if(_e&&tt.session.visibilityState!=="visible-blurred"){if(lt&&_e.hand){st=!0;for(const gt of _e.hand.values()){const dt=tt.getJointPose(gt,nt);if(lt.joints[gt.jointName]===void 0){const xt=new Group;xt.matrixAutoUpdate=!1,xt.visible=!1,lt.joints[gt.jointName]=xt,lt.add(xt)}const vt=lt.joints[gt.jointName];dt!==null&&(vt.matrix.fromArray(dt.transform.matrix),vt.matrix.decompose(vt.position,vt.rotation,vt.scale),vt.jointRadius=dt.radius),vt.visible=dt!==null}const ct=lt.joints["index-finger-tip"],ut=lt.joints["thumb-tip"],ft=ct.position.distanceTo(ut.position),ht=.02,pt=.005;lt.inputState.pinching&&ft>ht+pt?(lt.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:_e.handedness,target:this})):!lt.inputState.pinching&&ft<=ht-pt&&(lt.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:_e.handedness,target:this}))}else at!==null&&_e.gripSpace&&(it=tt.getPose(_e.gripSpace,nt),it!==null&&(at.matrix.fromArray(it.transform.matrix),at.matrix.decompose(at.position,at.rotation,at.scale),it.linearVelocity?(at.hasLinearVelocity=!0,at.linearVelocity.copy(it.linearVelocity)):at.hasLinearVelocity=!1,it.angularVelocity?(at.hasAngularVelocity=!0,at.angularVelocity.copy(it.angularVelocity)):at.hasAngularVelocity=!1));ot!==null&&(rt=tt.getPose(_e.targetRaySpace,nt),rt===null&&it!==null&&(rt=it),rt!==null&&(ot.matrix.fromArray(rt.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),rt.linearVelocity?(ot.hasLinearVelocity=!0,ot.linearVelocity.copy(rt.linearVelocity)):ot.hasLinearVelocity=!1,rt.angularVelocity?(ot.hasAngularVelocity=!0,ot.angularVelocity.copy(rt.angularVelocity)):ot.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return ot!==null&&(ot.visible=rt!==null),at!==null&&(at.visible=it!==null),lt!==null&&(lt.visible=st!==null),this}}class DepthTexture extends Texture{constructor(_e,tt,nt,rt,it,st,ot,at,lt,ct){if(ct=ct!==void 0?ct:DepthFormat,ct!==DepthFormat&&ct!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");nt===void 0&&ct===DepthFormat&&(nt=UnsignedIntType),nt===void 0&&ct===DepthStencilFormat&&(nt=UnsignedInt248Type),super(null,rt,it,st,ot,at,ct,nt,lt),this.isDepthTexture=!0,this.image={width:_e,height:tt},this.magFilter=ot!==void 0?ot:NearestFilter,this.minFilter=at!==void 0?at:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(_e,tt){super();const nt=this;let rt=null,it=1,st=null,ot="local-floor",at=null,lt=null,ct=null,ut=null,ft=null,ht=null;const pt=tt.getContextAttributes();let gt=null,dt=null;const vt=[],xt=[],_t=new PerspectiveCamera$1;_t.layers.enable(1),_t.viewport=new Vector4;const bt=new PerspectiveCamera$1;bt.layers.enable(2),bt.viewport=new Vector4;const At=[_t,bt],Mt=new ArrayCamera;Mt.layers.enable(1),Mt.layers.enable(2);let Tt=null,St=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Lt){let Ft=vt[Lt];return Ft===void 0&&(Ft=new WebXRController,vt[Lt]=Ft),Ft.getTargetRaySpace()},this.getControllerGrip=function(Lt){let Ft=vt[Lt];return Ft===void 0&&(Ft=new WebXRController,vt[Lt]=Ft),Ft.getGripSpace()},this.getHand=function(Lt){let Ft=vt[Lt];return Ft===void 0&&(Ft=new WebXRController,vt[Lt]=Ft),Ft.getHandSpace()};function Ct(Lt){const Ft=xt.indexOf(Lt.inputSource);if(Ft===-1)return;const Vt=vt[Ft];Vt!==void 0&&Vt.dispatchEvent({type:Lt.type,data:Lt.inputSource})}function Et(){rt.removeEventListener("select",Ct),rt.removeEventListener("selectstart",Ct),rt.removeEventListener("selectend",Ct),rt.removeEventListener("squeeze",Ct),rt.removeEventListener("squeezestart",Ct),rt.removeEventListener("squeezeend",Ct),rt.removeEventListener("end",Et),rt.removeEventListener("inputsourceschange",Rt);for(let Lt=0;Lt<vt.length;Lt++){const Ft=xt[Lt];Ft!==null&&(xt[Lt]=null,vt[Lt].disconnect(Ft))}Tt=null,St=null,_e.setRenderTarget(gt),ft=null,ut=null,ct=null,rt=null,dt=null,Bt.stop(),nt.isPresenting=!1,nt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Lt){it=Lt,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Lt){ot=Lt,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return at||st},this.setReferenceSpace=function(Lt){at=Lt},this.getBaseLayer=function(){return ut!==null?ut:ft},this.getBinding=function(){return ct},this.getFrame=function(){return ht},this.getSession=function(){return rt},this.setSession=async function(Lt){if(rt=Lt,rt!==null){if(gt=_e.getRenderTarget(),rt.addEventListener("select",Ct),rt.addEventListener("selectstart",Ct),rt.addEventListener("selectend",Ct),rt.addEventListener("squeeze",Ct),rt.addEventListener("squeezestart",Ct),rt.addEventListener("squeezeend",Ct),rt.addEventListener("end",Et),rt.addEventListener("inputsourceschange",Rt),pt.xrCompatible!==!0&&await tt.makeXRCompatible(),rt.renderState.layers===void 0||_e.capabilities.isWebGL2===!1){const Ft={antialias:rt.renderState.layers===void 0?pt.antialias:!0,alpha:pt.alpha,depth:pt.depth,stencil:pt.stencil,framebufferScaleFactor:it};ft=new XRWebGLLayer(rt,tt,Ft),rt.updateRenderState({baseLayer:ft}),dt=new WebGLRenderTarget(ft.framebufferWidth,ft.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:_e.outputEncoding,stencilBuffer:pt.stencil})}else{let Ft=null,Vt=null,Yt=null;pt.depth&&(Yt=pt.stencil?35056:33190,Ft=pt.stencil?DepthStencilFormat:DepthFormat,Vt=pt.stencil?UnsignedInt248Type:UnsignedIntType);const rn={colorFormat:32856,depthFormat:Yt,scaleFactor:it};ct=new XRWebGLBinding(rt,tt),ut=ct.createProjectionLayer(rn),rt.updateRenderState({layers:[ut]}),dt=new WebGLRenderTarget(ut.textureWidth,ut.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ut.textureWidth,ut.textureHeight,Vt,void 0,void 0,void 0,void 0,void 0,void 0,Ft),stencilBuffer:pt.stencil,encoding:_e.outputEncoding,samples:pt.antialias?4:0});const sn=_e.properties.get(dt);sn.__ignoreDepthValues=ut.ignoreDepthValues}dt.isXRRenderTarget=!0,this.setFoveation(1),at=null,st=await rt.requestReferenceSpace(ot),Bt.setContext(rt),Bt.start(),nt.isPresenting=!0,nt.dispatchEvent({type:"sessionstart"})}};function Rt(Lt){for(let Ft=0;Ft<Lt.removed.length;Ft++){const Vt=Lt.removed[Ft],Yt=xt.indexOf(Vt);Yt>=0&&(xt[Yt]=null,vt[Yt].dispatchEvent({type:"disconnected",data:Vt}))}for(let Ft=0;Ft<Lt.added.length;Ft++){const Vt=Lt.added[Ft];let Yt=xt.indexOf(Vt);if(Yt===-1){for(let sn=0;sn<vt.length;sn++)if(sn>=xt.length){xt.push(Vt),Yt=sn;break}else if(xt[sn]===null){xt[sn]=Vt,Yt=sn;break}if(Yt===-1)break}const rn=vt[Yt];rn&&rn.dispatchEvent({type:"connected",data:Vt})}}const It=new Vector3,Ot=new Vector3;function kt(Lt,Ft,Vt){It.setFromMatrixPosition(Ft.matrixWorld),Ot.setFromMatrixPosition(Vt.matrixWorld);const Yt=It.distanceTo(Ot),rn=Ft.projectionMatrix.elements,sn=Vt.projectionMatrix.elements,cn=rn[14]/(rn[10]-1),Zt=rn[14]/(rn[10]+1),an=(rn[9]+1)/rn[5],Qt=(rn[9]-1)/rn[5],Ut=(rn[8]-1)/rn[0],Gt=(sn[8]+1)/sn[0],Wt=cn*Ut,Jt=cn*Gt,Kt=Yt/(-Ut+Gt),nn=Kt*-Ut;Ft.matrixWorld.decompose(Lt.position,Lt.quaternion,Lt.scale),Lt.translateX(nn),Lt.translateZ(Kt),Lt.matrixWorld.compose(Lt.position,Lt.quaternion,Lt.scale),Lt.matrixWorldInverse.copy(Lt.matrixWorld).invert();const fn=cn+Kt,hn=Zt+Kt,bn=Wt-nn,un=Jt+(Yt-nn),gn=an*Zt/hn*fn,vn=Qt*Zt/hn*fn;Lt.projectionMatrix.makePerspective(bn,un,gn,vn,fn,hn)}function $t(Lt,Ft){Ft===null?Lt.matrixWorld.copy(Lt.matrix):Lt.matrixWorld.multiplyMatrices(Ft.matrixWorld,Lt.matrix),Lt.matrixWorldInverse.copy(Lt.matrixWorld).invert()}this.updateCamera=function(Lt){if(rt===null)return;Mt.near=bt.near=_t.near=Lt.near,Mt.far=bt.far=_t.far=Lt.far,(Tt!==Mt.near||St!==Mt.far)&&(rt.updateRenderState({depthNear:Mt.near,depthFar:Mt.far}),Tt=Mt.near,St=Mt.far);const Ft=Lt.parent,Vt=Mt.cameras;$t(Mt,Ft);for(let rn=0;rn<Vt.length;rn++)$t(Vt[rn],Ft);Mt.matrixWorld.decompose(Mt.position,Mt.quaternion,Mt.scale),Lt.matrix.copy(Mt.matrix),Lt.matrix.decompose(Lt.position,Lt.quaternion,Lt.scale);const Yt=Lt.children;for(let rn=0,sn=Yt.length;rn<sn;rn++)Yt[rn].updateMatrixWorld(!0);Vt.length===2?kt(Mt,_t,bt):Mt.projectionMatrix.copy(_t.projectionMatrix)},this.getCamera=function(){return Mt},this.getFoveation=function(){if(ut!==null)return ut.fixedFoveation;if(ft!==null)return ft.fixedFoveation},this.setFoveation=function(Lt){ut!==null&&(ut.fixedFoveation=Lt),ft!==null&&ft.fixedFoveation!==void 0&&(ft.fixedFoveation=Lt)};let jt=null;function Ht(Lt,Ft){if(lt=Ft.getViewerPose(at||st),ht=Ft,lt!==null){const Vt=lt.views;ft!==null&&(_e.setRenderTargetFramebuffer(dt,ft.framebuffer),_e.setRenderTarget(dt));let Yt=!1;Vt.length!==Mt.cameras.length&&(Mt.cameras.length=0,Yt=!0);for(let rn=0;rn<Vt.length;rn++){const sn=Vt[rn];let cn=null;if(ft!==null)cn=ft.getViewport(sn);else{const an=ct.getViewSubImage(ut,sn);cn=an.viewport,rn===0&&(_e.setRenderTargetTextures(dt,an.colorTexture,ut.ignoreDepthValues?void 0:an.depthStencilTexture),_e.setRenderTarget(dt))}let Zt=At[rn];Zt===void 0&&(Zt=new PerspectiveCamera$1,Zt.layers.enable(rn),Zt.viewport=new Vector4,At[rn]=Zt),Zt.matrix.fromArray(sn.transform.matrix),Zt.projectionMatrix.fromArray(sn.projectionMatrix),Zt.viewport.set(cn.x,cn.y,cn.width,cn.height),rn===0&&Mt.matrix.copy(Zt.matrix),Yt===!0&&Mt.cameras.push(Zt)}}for(let Vt=0;Vt<vt.length;Vt++){const Yt=xt[Vt],rn=vt[Vt];Yt!==null&&rn!==void 0&&rn.update(Yt,Ft,at||st)}jt&&jt(Lt,Ft),ht=null}const Bt=new WebGLAnimation;Bt.setAnimationLoop(Ht),this.setAnimationLoop=function(Lt){jt=Lt},this.dispose=function(){}}}function WebGLMaterials(et,_e){function tt(gt,dt){gt.fogColor.value.copy(dt.color),dt.isFog?(gt.fogNear.value=dt.near,gt.fogFar.value=dt.far):dt.isFogExp2&&(gt.fogDensity.value=dt.density)}function nt(gt,dt,vt,xt,_t){dt.isMeshBasicMaterial||dt.isMeshLambertMaterial?rt(gt,dt):dt.isMeshToonMaterial?(rt(gt,dt),ct(gt,dt)):dt.isMeshPhongMaterial?(rt(gt,dt),lt(gt,dt)):dt.isMeshStandardMaterial?(rt(gt,dt),ut(gt,dt),dt.isMeshPhysicalMaterial&&ft(gt,dt,_t)):dt.isMeshMatcapMaterial?(rt(gt,dt),ht(gt,dt)):dt.isMeshDepthMaterial?rt(gt,dt):dt.isMeshDistanceMaterial?(rt(gt,dt),pt(gt,dt)):dt.isMeshNormalMaterial?rt(gt,dt):dt.isLineBasicMaterial?(it(gt,dt),dt.isLineDashedMaterial&&st(gt,dt)):dt.isPointsMaterial?ot(gt,dt,vt,xt):dt.isSpriteMaterial?at(gt,dt):dt.isShadowMaterial?(gt.color.value.copy(dt.color),gt.opacity.value=dt.opacity):dt.isShaderMaterial&&(dt.uniformsNeedUpdate=!1)}function rt(gt,dt){gt.opacity.value=dt.opacity,dt.color&&gt.diffuse.value.copy(dt.color),dt.emissive&&gt.emissive.value.copy(dt.emissive).multiplyScalar(dt.emissiveIntensity),dt.map&&(gt.map.value=dt.map),dt.alphaMap&&(gt.alphaMap.value=dt.alphaMap),dt.bumpMap&&(gt.bumpMap.value=dt.bumpMap,gt.bumpScale.value=dt.bumpScale,dt.side===BackSide&&(gt.bumpScale.value*=-1)),dt.displacementMap&&(gt.displacementMap.value=dt.displacementMap,gt.displacementScale.value=dt.displacementScale,gt.displacementBias.value=dt.displacementBias),dt.emissiveMap&&(gt.emissiveMap.value=dt.emissiveMap),dt.normalMap&&(gt.normalMap.value=dt.normalMap,gt.normalScale.value.copy(dt.normalScale),dt.side===BackSide&&gt.normalScale.value.negate()),dt.specularMap&&(gt.specularMap.value=dt.specularMap),dt.alphaTest>0&&(gt.alphaTest.value=dt.alphaTest);const vt=_e.get(dt).envMap;if(vt&&(gt.envMap.value=vt,gt.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1,gt.reflectivity.value=dt.reflectivity,gt.ior.value=dt.ior,gt.refractionRatio.value=dt.refractionRatio),dt.lightMap){gt.lightMap.value=dt.lightMap;const bt=et.physicallyCorrectLights!==!0?Math.PI:1;gt.lightMapIntensity.value=dt.lightMapIntensity*bt}dt.aoMap&&(gt.aoMap.value=dt.aoMap,gt.aoMapIntensity.value=dt.aoMapIntensity);let xt;dt.map?xt=dt.map:dt.specularMap?xt=dt.specularMap:dt.displacementMap?xt=dt.displacementMap:dt.normalMap?xt=dt.normalMap:dt.bumpMap?xt=dt.bumpMap:dt.roughnessMap?xt=dt.roughnessMap:dt.metalnessMap?xt=dt.metalnessMap:dt.alphaMap?xt=dt.alphaMap:dt.emissiveMap?xt=dt.emissiveMap:dt.clearcoatMap?xt=dt.clearcoatMap:dt.clearcoatNormalMap?xt=dt.clearcoatNormalMap:dt.clearcoatRoughnessMap?xt=dt.clearcoatRoughnessMap:dt.iridescenceMap?xt=dt.iridescenceMap:dt.iridescenceThicknessMap?xt=dt.iridescenceThicknessMap:dt.specularIntensityMap?xt=dt.specularIntensityMap:dt.specularColorMap?xt=dt.specularColorMap:dt.transmissionMap?xt=dt.transmissionMap:dt.thicknessMap?xt=dt.thicknessMap:dt.sheenColorMap?xt=dt.sheenColorMap:dt.sheenRoughnessMap&&(xt=dt.sheenRoughnessMap),xt!==void 0&&(xt.isWebGLRenderTarget&&(xt=xt.texture),xt.matrixAutoUpdate===!0&&xt.updateMatrix(),gt.uvTransform.value.copy(xt.matrix));let _t;dt.aoMap?_t=dt.aoMap:dt.lightMap&&(_t=dt.lightMap),_t!==void 0&&(_t.isWebGLRenderTarget&&(_t=_t.texture),_t.matrixAutoUpdate===!0&&_t.updateMatrix(),gt.uv2Transform.value.copy(_t.matrix))}function it(gt,dt){gt.diffuse.value.copy(dt.color),gt.opacity.value=dt.opacity}function st(gt,dt){gt.dashSize.value=dt.dashSize,gt.totalSize.value=dt.dashSize+dt.gapSize,gt.scale.value=dt.scale}function ot(gt,dt,vt,xt){gt.diffuse.value.copy(dt.color),gt.opacity.value=dt.opacity,gt.size.value=dt.size*vt,gt.scale.value=xt*.5,dt.map&&(gt.map.value=dt.map),dt.alphaMap&&(gt.alphaMap.value=dt.alphaMap),dt.alphaTest>0&&(gt.alphaTest.value=dt.alphaTest);let _t;dt.map?_t=dt.map:dt.alphaMap&&(_t=dt.alphaMap),_t!==void 0&&(_t.matrixAutoUpdate===!0&&_t.updateMatrix(),gt.uvTransform.value.copy(_t.matrix))}function at(gt,dt){gt.diffuse.value.copy(dt.color),gt.opacity.value=dt.opacity,gt.rotation.value=dt.rotation,dt.map&&(gt.map.value=dt.map),dt.alphaMap&&(gt.alphaMap.value=dt.alphaMap),dt.alphaTest>0&&(gt.alphaTest.value=dt.alphaTest);let vt;dt.map?vt=dt.map:dt.alphaMap&&(vt=dt.alphaMap),vt!==void 0&&(vt.matrixAutoUpdate===!0&&vt.updateMatrix(),gt.uvTransform.value.copy(vt.matrix))}function lt(gt,dt){gt.specular.value.copy(dt.specular),gt.shininess.value=Math.max(dt.shininess,1e-4)}function ct(gt,dt){dt.gradientMap&&(gt.gradientMap.value=dt.gradientMap)}function ut(gt,dt){gt.roughness.value=dt.roughness,gt.metalness.value=dt.metalness,dt.roughnessMap&&(gt.roughnessMap.value=dt.roughnessMap),dt.metalnessMap&&(gt.metalnessMap.value=dt.metalnessMap),_e.get(dt).envMap&&(gt.envMapIntensity.value=dt.envMapIntensity)}function ft(gt,dt,vt){gt.ior.value=dt.ior,dt.sheen>0&&(gt.sheenColor.value.copy(dt.sheenColor).multiplyScalar(dt.sheen),gt.sheenRoughness.value=dt.sheenRoughness,dt.sheenColorMap&&(gt.sheenColorMap.value=dt.sheenColorMap),dt.sheenRoughnessMap&&(gt.sheenRoughnessMap.value=dt.sheenRoughnessMap)),dt.clearcoat>0&&(gt.clearcoat.value=dt.clearcoat,gt.clearcoatRoughness.value=dt.clearcoatRoughness,dt.clearcoatMap&&(gt.clearcoatMap.value=dt.clearcoatMap),dt.clearcoatRoughnessMap&&(gt.clearcoatRoughnessMap.value=dt.clearcoatRoughnessMap),dt.clearcoatNormalMap&&(gt.clearcoatNormalScale.value.copy(dt.clearcoatNormalScale),gt.clearcoatNormalMap.value=dt.clearcoatNormalMap,dt.side===BackSide&&gt.clearcoatNormalScale.value.negate())),dt.iridescence>0&&(gt.iridescence.value=dt.iridescence,gt.iridescenceIOR.value=dt.iridescenceIOR,gt.iridescenceThicknessMinimum.value=dt.iridescenceThicknessRange[0],gt.iridescenceThicknessMaximum.value=dt.iridescenceThicknessRange[1],dt.iridescenceMap&&(gt.iridescenceMap.value=dt.iridescenceMap),dt.iridescenceThicknessMap&&(gt.iridescenceThicknessMap.value=dt.iridescenceThicknessMap)),dt.transmission>0&&(gt.transmission.value=dt.transmission,gt.transmissionSamplerMap.value=vt.texture,gt.transmissionSamplerSize.value.set(vt.width,vt.height),dt.transmissionMap&&(gt.transmissionMap.value=dt.transmissionMap),gt.thickness.value=dt.thickness,dt.thicknessMap&&(gt.thicknessMap.value=dt.thicknessMap),gt.attenuationDistance.value=dt.attenuationDistance,gt.attenuationColor.value.copy(dt.attenuationColor)),gt.specularIntensity.value=dt.specularIntensity,gt.specularColor.value.copy(dt.specularColor),dt.specularIntensityMap&&(gt.specularIntensityMap.value=dt.specularIntensityMap),dt.specularColorMap&&(gt.specularColorMap.value=dt.specularColorMap)}function ht(gt,dt){dt.matcap&&(gt.matcap.value=dt.matcap)}function pt(gt,dt){gt.referencePosition.value.copy(dt.referencePosition),gt.nearDistance.value=dt.nearDistance,gt.farDistance.value=dt.farDistance}return{refreshFogUniforms:tt,refreshMaterialUniforms:nt}}function WebGLUniformsGroups(et,_e,tt,nt){let rt={},it={},st=[];const ot=tt.isWebGL2?et.getParameter(35375):0;function at(xt,_t){const bt=_t.program;nt.uniformBlockBinding(xt,bt)}function lt(xt,_t){let bt=rt[xt.id];bt===void 0&&(pt(xt),bt=ct(xt),rt[xt.id]=bt,xt.addEventListener("dispose",dt));const At=_t.program;nt.updateUBOMapping(xt,At);const Mt=_e.render.frame;it[xt.id]!==Mt&&(ft(xt),it[xt.id]=Mt)}function ct(xt){const _t=ut();xt.__bindingPointIndex=_t;const bt=et.createBuffer(),At=xt.__size,Mt=xt.usage;return et.bindBuffer(35345,bt),et.bufferData(35345,At,Mt),et.bindBuffer(35345,null),et.bindBufferBase(35345,_t,bt),bt}function ut(){for(let xt=0;xt<ot;xt++)if(st.indexOf(xt)===-1)return st.push(xt),xt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ft(xt){const _t=rt[xt.id],bt=xt.uniforms,At=xt.__cache;et.bindBuffer(35345,_t);for(let Mt=0,Tt=bt.length;Mt<Tt;Mt++){const St=bt[Mt];if(ht(St,Mt,At)===!0){const Ct=St.value,Et=St.__offset;typeof Ct=="number"?(St.__data[0]=Ct,et.bufferSubData(35345,Et,St.__data)):(St.value.isMatrix3?(St.__data[0]=St.value.elements[0],St.__data[1]=St.value.elements[1],St.__data[2]=St.value.elements[2],St.__data[3]=St.value.elements[0],St.__data[4]=St.value.elements[3],St.__data[5]=St.value.elements[4],St.__data[6]=St.value.elements[5],St.__data[7]=St.value.elements[0],St.__data[8]=St.value.elements[6],St.__data[9]=St.value.elements[7],St.__data[10]=St.value.elements[8],St.__data[11]=St.value.elements[0]):Ct.toArray(St.__data),et.bufferSubData(35345,Et,St.__data))}}et.bindBuffer(35345,null)}function ht(xt,_t,bt){const At=xt.value;if(bt[_t]===void 0)return typeof At=="number"?bt[_t]=At:bt[_t]=At.clone(),!0;if(typeof At=="number"){if(bt[_t]!==At)return bt[_t]=At,!0}else{const Mt=bt[_t];if(Mt.equals(At)===!1)return Mt.copy(At),!0}return!1}function pt(xt){const _t=xt.uniforms;let bt=0;const At=16;let Mt=0;for(let Tt=0,St=_t.length;Tt<St;Tt++){const Ct=_t[Tt],Et=gt(Ct);if(Ct.__data=new Float32Array(Et.storage/Float32Array.BYTES_PER_ELEMENT),Ct.__offset=bt,Tt>0){Mt=bt%At;const Rt=At-Mt;Mt!==0&&Rt-Et.boundary<0&&(bt+=At-Mt,Ct.__offset=bt)}bt+=Et.storage}return Mt=bt%At,Mt>0&&(bt+=At-Mt),xt.__size=bt,xt.__cache={},this}function gt(xt){const _t=xt.value,bt={boundary:0,storage:0};return typeof _t=="number"?(bt.boundary=4,bt.storage=4):_t.isVector2?(bt.boundary=8,bt.storage=8):_t.isVector3||_t.isColor?(bt.boundary=16,bt.storage=12):_t.isVector4?(bt.boundary=16,bt.storage=16):_t.isMatrix3?(bt.boundary=48,bt.storage=48):_t.isMatrix4?(bt.boundary=64,bt.storage=64):_t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_t),bt}function dt(xt){const _t=xt.target;_t.removeEventListener("dispose",dt);const bt=st.indexOf(_t.__bindingPointIndex);st.splice(bt,1),et.deleteBuffer(rt[_t.id]),delete rt[_t.id],delete it[_t.id]}function vt(){for(const xt in rt)et.deleteBuffer(rt[xt]);st=[],rt={},it={}}return{bind:at,update:lt,dispose:vt}}function createCanvasElement(){const et=createElementNS("canvas");return et.style.display="block",et}function WebGLRenderer(et={}){this.isWebGLRenderer=!0;const _e=et.canvas!==void 0?et.canvas:createCanvasElement(),tt=et.context!==void 0?et.context:null,nt=et.depth!==void 0?et.depth:!0,rt=et.stencil!==void 0?et.stencil:!0,it=et.antialias!==void 0?et.antialias:!1,st=et.premultipliedAlpha!==void 0?et.premultipliedAlpha:!0,ot=et.preserveDrawingBuffer!==void 0?et.preserveDrawingBuffer:!1,at=et.powerPreference!==void 0?et.powerPreference:"default",lt=et.failIfMajorPerformanceCaveat!==void 0?et.failIfMajorPerformanceCaveat:!1;let ct;tt!==null?ct=tt.getContextAttributes().alpha:ct=et.alpha!==void 0?et.alpha:!1;let ut=null,ft=null;const ht=[],pt=[];this.domElement=_e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const gt=this;let dt=!1,vt=0,xt=0,_t=null,bt=-1,At=null;const Mt=new Vector4,Tt=new Vector4;let St=null,Ct=_e.width,Et=_e.height,Rt=1,It=null,Ot=null;const kt=new Vector4(0,0,Ct,Et),$t=new Vector4(0,0,Ct,Et);let jt=!1;const Ht=new Frustum;let Bt=!1,Lt=!1,Ft=null;const Vt=new Matrix4,Yt=new Vector2,rn=new Vector3,sn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function cn(){return _t===null?Rt:1}let Zt=tt;function an(qt,yn){for(let En=0;En<qt.length;En++){const xn=qt[En],Bn=_e.getContext(xn,yn);if(Bn!==null)return Bn}return null}try{const qt={alpha:!0,depth:nt,stencil:rt,antialias:it,premultipliedAlpha:st,preserveDrawingBuffer:ot,powerPreference:at,failIfMajorPerformanceCaveat:lt};if("setAttribute"in _e&&_e.setAttribute("data-engine",`three.js r${REVISION}`),_e.addEventListener("webglcontextlost",Dn,!1),_e.addEventListener("webglcontextrestored",In,!1),_e.addEventListener("webglcontextcreationerror",Hn,!1),Zt===null){const yn=["webgl2","webgl","experimental-webgl"];if(gt.isWebGL1Renderer===!0&&yn.shift(),Zt=an(yn,qt),Zt===null)throw an(yn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Zt.getShaderPrecisionFormat===void 0&&(Zt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(qt){throw console.error("THREE.WebGLRenderer: "+qt.message),qt}let Qt,Ut,Gt,Wt,Jt,Kt,nn,fn,hn,bn,un,gn,vn,on,Xt,zt,tn,pn,Sn,Pn,Rn,Tn,wn,kn;function Gn(){Qt=new WebGLExtensions(Zt),Ut=new WebGLCapabilities(Zt,Qt,et),Qt.init(Ut),Tn=new WebGLUtils(Zt,Qt,Ut),Gt=new WebGLState(Zt,Qt,Ut),Wt=new WebGLInfo,Jt=new WebGLProperties,Kt=new WebGLTextures(Zt,Qt,Gt,Jt,Ut,Tn,Wt),nn=new WebGLCubeMaps(gt),fn=new WebGLCubeUVMaps(gt),hn=new WebGLAttributes(Zt,Ut),wn=new WebGLBindingStates(Zt,Qt,hn,Ut),bn=new WebGLGeometries(Zt,hn,Wt,wn),un=new WebGLObjects(Zt,bn,hn,Wt),Sn=new WebGLMorphtargets(Zt,Ut,Kt),zt=new WebGLClipping(Jt),gn=new WebGLPrograms(gt,nn,fn,Qt,Ut,wn,zt),vn=new WebGLMaterials(gt,Jt),on=new WebGLRenderLists,Xt=new WebGLRenderStates(Qt,Ut),pn=new WebGLBackground(gt,nn,Gt,un,ct,st),tn=new WebGLShadowMap(gt,un,Ut),kn=new WebGLUniformsGroups(Zt,Wt,Ut,Gt),Pn=new WebGLBufferRenderer(Zt,Qt,Wt,Ut),Rn=new WebGLIndexedBufferRenderer(Zt,Qt,Wt,Ut),Wt.programs=gn.programs,gt.capabilities=Ut,gt.extensions=Qt,gt.properties=Jt,gt.renderLists=on,gt.shadowMap=tn,gt.state=Gt,gt.info=Wt}Gn();const Fn=new WebXRManager(gt,Zt);this.xr=Fn,this.getContext=function(){return Zt},this.getContextAttributes=function(){return Zt.getContextAttributes()},this.forceContextLoss=function(){const qt=Qt.get("WEBGL_lose_context");qt&&qt.loseContext()},this.forceContextRestore=function(){const qt=Qt.get("WEBGL_lose_context");qt&&qt.restoreContext()},this.getPixelRatio=function(){return Rt},this.setPixelRatio=function(qt){qt!==void 0&&(Rt=qt,this.setSize(Ct,Et,!1))},this.getSize=function(qt){return qt.set(Ct,Et)},this.setSize=function(qt,yn,En){if(Fn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ct=qt,Et=yn,_e.width=Math.floor(qt*Rt),_e.height=Math.floor(yn*Rt),En!==!1&&(_e.style.width=qt+"px",_e.style.height=yn+"px"),this.setViewport(0,0,qt,yn)},this.getDrawingBufferSize=function(qt){return qt.set(Ct*Rt,Et*Rt).floor()},this.setDrawingBufferSize=function(qt,yn,En){Ct=qt,Et=yn,Rt=En,_e.width=Math.floor(qt*En),_e.height=Math.floor(yn*En),this.setViewport(0,0,qt,yn)},this.getCurrentViewport=function(qt){return qt.copy(Mt)},this.getViewport=function(qt){return qt.copy(kt)},this.setViewport=function(qt,yn,En,xn){qt.isVector4?kt.set(qt.x,qt.y,qt.z,qt.w):kt.set(qt,yn,En,xn),Gt.viewport(Mt.copy(kt).multiplyScalar(Rt).floor())},this.getScissor=function(qt){return qt.copy($t)},this.setScissor=function(qt,yn,En,xn){qt.isVector4?$t.set(qt.x,qt.y,qt.z,qt.w):$t.set(qt,yn,En,xn),Gt.scissor(Tt.copy($t).multiplyScalar(Rt).floor())},this.getScissorTest=function(){return jt},this.setScissorTest=function(qt){Gt.setScissorTest(jt=qt)},this.setOpaqueSort=function(qt){It=qt},this.setTransparentSort=function(qt){Ot=qt},this.getClearColor=function(qt){return qt.copy(pn.getClearColor())},this.setClearColor=function(){pn.setClearColor.apply(pn,arguments)},this.getClearAlpha=function(){return pn.getClearAlpha()},this.setClearAlpha=function(){pn.setClearAlpha.apply(pn,arguments)},this.clear=function(qt=!0,yn=!0,En=!0){let xn=0;qt&&(xn|=16384),yn&&(xn|=256),En&&(xn|=1024),Zt.clear(xn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){_e.removeEventListener("webglcontextlost",Dn,!1),_e.removeEventListener("webglcontextrestored",In,!1),_e.removeEventListener("webglcontextcreationerror",Hn,!1),on.dispose(),Xt.dispose(),Jt.dispose(),nn.dispose(),fn.dispose(),un.dispose(),wn.dispose(),kn.dispose(),gn.dispose(),Fn.dispose(),Fn.removeEventListener("sessionstart",Yn),Fn.removeEventListener("sessionend",er),Ft&&(Ft.dispose(),Ft=null),yr.stop()};function Dn(qt){qt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),dt=!0}function In(){console.log("THREE.WebGLRenderer: Context Restored."),dt=!1;const qt=Wt.autoReset,yn=tn.enabled,En=tn.autoUpdate,xn=tn.needsUpdate,Bn=tn.type;Gn(),Wt.autoReset=qt,tn.enabled=yn,tn.autoUpdate=En,tn.needsUpdate=xn,tn.type=Bn}function Hn(qt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",qt.statusMessage)}function ln(qt){const yn=qt.target;yn.removeEventListener("dispose",ln),Un(yn)}function Un(qt){Ln(qt),Jt.remove(qt)}function Ln(qt){const yn=Jt.get(qt).programs;yn!==void 0&&(yn.forEach(function(En){gn.releaseProgram(En)}),qt.isShaderMaterial&&gn.releaseShaderCache(qt))}this.renderBufferDirect=function(qt,yn,En,xn,Bn,Xn){yn===null&&(yn=sn);const Qn=Bn.isMesh&&Bn.matrixWorld.determinant()<0,ir=Dr(qt,yn,En,xn,Bn);Gt.setMaterial(xn,Qn);let Zn=En.index;const dr=En.attributes.position;if(Zn===null){if(dr===void 0||dr.count===0)return}else if(Zn.count===0)return;let ar=1;xn.wireframe===!0&&(Zn=bn.getWireframeAttribute(En),ar=2),wn.setup(Bn,xn,ir,En,Zn);let pr,wr=Pn;Zn!==null&&(pr=hn.get(Zn),wr=Rn,wr.setIndex(pr));const us=Zn!==null?Zn.count:dr.count,Ss=En.drawRange.start*ar,ws=En.drawRange.count*ar,$n=Xn!==null?Xn.start*ar:0,sr=Xn!==null?Xn.count*ar:1/0,As=Math.max(Ss,$n),Sr=Math.min(us,Ss+ws,$n+sr)-1,Wr=Math.max(0,Sr-As+1);if(Wr!==0){if(Bn.isMesh)xn.wireframe===!0?(Gt.setLineWidth(xn.wireframeLinewidth*cn()),wr.setMode(1)):wr.setMode(4);else if(Bn.isLine){let Yr=xn.linewidth;Yr===void 0&&(Yr=1),Gt.setLineWidth(Yr*cn()),Bn.isLineSegments?wr.setMode(1):Bn.isLineLoop?wr.setMode(2):wr.setMode(3)}else Bn.isPoints?wr.setMode(0):Bn.isSprite&&wr.setMode(4);if(Bn.isInstancedMesh)wr.renderInstances(As,Wr,Bn.count);else if(En.isInstancedBufferGeometry){const Yr=Math.min(En.instanceCount,En._maxInstanceCount);wr.renderInstances(As,Wr,Yr)}else wr.render(As,Wr)}},this.compile=function(qt,yn){function En(xn,Bn,Xn){xn.transparent===!0&&xn.side===DoubleSide?(xn.side=BackSide,xn.needsUpdate=!0,Rr(xn,Bn,Xn),xn.side=FrontSide,xn.needsUpdate=!0,Rr(xn,Bn,Xn),xn.side=DoubleSide):Rr(xn,Bn,Xn)}ft=Xt.get(qt),ft.init(),pt.push(ft),qt.traverseVisible(function(xn){xn.isLight&&xn.layers.test(yn.layers)&&(ft.pushLight(xn),xn.castShadow&&ft.pushShadow(xn))}),ft.setupLights(gt.physicallyCorrectLights),qt.traverse(function(xn){const Bn=xn.material;if(Bn)if(Array.isArray(Bn))for(let Xn=0;Xn<Bn.length;Xn++){const Qn=Bn[Xn];En(Qn,qt,xn)}else En(Bn,qt,xn)}),pt.pop(),ft=null};let Mn=null;function Nn(qt){Mn&&Mn(qt)}function Yn(){yr.stop()}function er(){yr.start()}const yr=new WebGLAnimation;yr.setAnimationLoop(Nn),typeof self<"u"&&yr.setContext(self),this.setAnimationLoop=function(qt){Mn=qt,Fn.setAnimationLoop(qt),qt===null?yr.stop():yr.start()},Fn.addEventListener("sessionstart",Yn),Fn.addEventListener("sessionend",er),this.render=function(qt,yn){if(yn!==void 0&&yn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(dt===!0)return;qt.matrixWorldAutoUpdate===!0&&qt.updateMatrixWorld(),yn.parent===null&&yn.matrixWorldAutoUpdate===!0&&yn.updateMatrixWorld(),Fn.enabled===!0&&Fn.isPresenting===!0&&(Fn.cameraAutoUpdate===!0&&Fn.updateCamera(yn),yn=Fn.getCamera()),qt.isScene===!0&&qt.onBeforeRender(gt,qt,yn,_t),ft=Xt.get(qt,pt.length),ft.init(),pt.push(ft),Vt.multiplyMatrices(yn.projectionMatrix,yn.matrixWorldInverse),Ht.setFromProjectionMatrix(Vt),Lt=this.localClippingEnabled,Bt=zt.init(this.clippingPlanes,Lt,yn),ut=on.get(qt,ht.length),ut.init(),ht.push(ut),hr(qt,yn,0,gt.sortObjects),ut.finish(),gt.sortObjects===!0&&ut.sort(It,Ot),Bt===!0&&zt.beginShadows();const En=ft.state.shadowsArray;if(tn.render(En,qt,yn),Bt===!0&&zt.endShadows(),this.info.autoReset===!0&&this.info.reset(),pn.render(ut,qt),ft.setupLights(gt.physicallyCorrectLights),yn.isArrayCamera){const xn=yn.cameras;for(let Bn=0,Xn=xn.length;Bn<Xn;Bn++){const Qn=xn[Bn];Jn(ut,qt,Qn,Qn.viewport)}}else Jn(ut,qt,yn);_t!==null&&(Kt.updateMultisampleRenderTarget(_t),Kt.updateRenderTargetMipmap(_t)),qt.isScene===!0&&qt.onAfterRender(gt,qt,yn),wn.resetDefaultState(),bt=-1,At=null,pt.pop(),pt.length>0?ft=pt[pt.length-1]:ft=null,ht.pop(),ht.length>0?ut=ht[ht.length-1]:ut=null};function hr(qt,yn,En,xn){if(qt.visible===!1)return;if(qt.layers.test(yn.layers)){if(qt.isGroup)En=qt.renderOrder;else if(qt.isLOD)qt.autoUpdate===!0&&qt.update(yn);else if(qt.isLight)ft.pushLight(qt),qt.castShadow&&ft.pushShadow(qt);else if(qt.isSprite){if(!qt.frustumCulled||Ht.intersectsSprite(qt)){xn&&rn.setFromMatrixPosition(qt.matrixWorld).applyMatrix4(Vt);const Qn=un.update(qt),ir=qt.material;ir.visible&&ut.push(qt,Qn,ir,En,rn.z,null)}}else if((qt.isMesh||qt.isLine||qt.isPoints)&&(qt.isSkinnedMesh&&qt.skeleton.frame!==Wt.render.frame&&(qt.skeleton.update(),qt.skeleton.frame=Wt.render.frame),!qt.frustumCulled||Ht.intersectsObject(qt))){xn&&rn.setFromMatrixPosition(qt.matrixWorld).applyMatrix4(Vt);const Qn=un.update(qt),ir=qt.material;if(Array.isArray(ir)){const Zn=Qn.groups;for(let dr=0,ar=Zn.length;dr<ar;dr++){const pr=Zn[dr],wr=ir[pr.materialIndex];wr&&wr.visible&&ut.push(qt,Qn,wr,En,rn.z,pr)}}else ir.visible&&ut.push(qt,Qn,ir,En,rn.z,null)}}const Xn=qt.children;for(let Qn=0,ir=Xn.length;Qn<ir;Qn++)hr(Xn[Qn],yn,En,xn)}function Jn(qt,yn,En,xn){const Bn=qt.opaque,Xn=qt.transmissive,Qn=qt.transparent;ft.setupLightsView(En),Xn.length>0&&xr(Bn,yn,En),xn&&Gt.viewport(Mt.copy(xn)),Bn.length>0&&br(Bn,yn,En),Xn.length>0&&br(Xn,yn,En),Qn.length>0&&br(Qn,yn,En),Gt.buffers.depth.setTest(!0),Gt.buffers.depth.setMask(!0),Gt.buffers.color.setMask(!0),Gt.setPolygonOffset(!1)}function xr(qt,yn,En){const xn=Ut.isWebGL2;Ft===null&&(Ft=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Qt.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:xn&&it===!0?4:0})),gt.getDrawingBufferSize(Yt),xn?Ft.setSize(Yt.x,Yt.y):Ft.setSize(floorPowerOfTwo(Yt.x),floorPowerOfTwo(Yt.y));const Bn=gt.getRenderTarget();gt.setRenderTarget(Ft),gt.clear();const Xn=gt.toneMapping;gt.toneMapping=NoToneMapping,br(qt,yn,En),gt.toneMapping=Xn,Kt.updateMultisampleRenderTarget(Ft),Kt.updateRenderTargetMipmap(Ft),gt.setRenderTarget(Bn)}function br(qt,yn,En){const xn=yn.isScene===!0?yn.overrideMaterial:null;for(let Bn=0,Xn=qt.length;Bn<Xn;Bn++){const Qn=qt[Bn],ir=Qn.object,Zn=Qn.geometry,dr=xn===null?Qn.material:xn,ar=Qn.group;ir.layers.test(En.layers)&&_r(ir,yn,En,Zn,dr,ar)}}function _r(qt,yn,En,xn,Bn,Xn){qt.onBeforeRender(gt,yn,En,xn,Bn,Xn),qt.modelViewMatrix.multiplyMatrices(En.matrixWorldInverse,qt.matrixWorld),qt.normalMatrix.getNormalMatrix(qt.modelViewMatrix),Bn.onBeforeRender(gt,yn,En,xn,qt,Xn),Bn.transparent===!0&&Bn.side===DoubleSide?(Bn.side=BackSide,Bn.needsUpdate=!0,gt.renderBufferDirect(En,yn,xn,Bn,qt,Xn),Bn.side=FrontSide,Bn.needsUpdate=!0,gt.renderBufferDirect(En,yn,xn,Bn,qt,Xn),Bn.side=DoubleSide):gt.renderBufferDirect(En,yn,xn,Bn,qt,Xn),qt.onAfterRender(gt,yn,En,xn,Bn,Xn)}function Rr(qt,yn,En){yn.isScene!==!0&&(yn=sn);const xn=Jt.get(qt),Bn=ft.state.lights,Xn=ft.state.shadowsArray,Qn=Bn.state.version,ir=gn.getParameters(qt,Bn.state,Xn,yn,En),Zn=gn.getProgramCacheKey(ir);let dr=xn.programs;xn.environment=qt.isMeshStandardMaterial?yn.environment:null,xn.fog=yn.fog,xn.envMap=(qt.isMeshStandardMaterial?fn:nn).get(qt.envMap||xn.environment),dr===void 0&&(qt.addEventListener("dispose",ln),dr=new Map,xn.programs=dr);let ar=dr.get(Zn);if(ar!==void 0){if(xn.currentProgram===ar&&xn.lightsStateVersion===Qn)return ns(qt,ir),ar}else ir.uniforms=gn.getUniforms(qt),qt.onBuild(En,ir,gt),qt.onBeforeCompile(ir,gt),ar=gn.acquireProgram(ir,Zn),dr.set(Zn,ar),xn.uniforms=ir.uniforms;const pr=xn.uniforms;(!qt.isShaderMaterial&&!qt.isRawShaderMaterial||qt.clipping===!0)&&(pr.clippingPlanes=zt.uniform),ns(qt,ir),xn.needsLights=Gr(qt),xn.lightsStateVersion=Qn,xn.needsLights&&(pr.ambientLightColor.value=Bn.state.ambient,pr.lightProbe.value=Bn.state.probe,pr.directionalLights.value=Bn.state.directional,pr.directionalLightShadows.value=Bn.state.directionalShadow,pr.spotLights.value=Bn.state.spot,pr.spotLightShadows.value=Bn.state.spotShadow,pr.rectAreaLights.value=Bn.state.rectArea,pr.ltc_1.value=Bn.state.rectAreaLTC1,pr.ltc_2.value=Bn.state.rectAreaLTC2,pr.pointLights.value=Bn.state.point,pr.pointLightShadows.value=Bn.state.pointShadow,pr.hemisphereLights.value=Bn.state.hemi,pr.directionalShadowMap.value=Bn.state.directionalShadowMap,pr.directionalShadowMatrix.value=Bn.state.directionalShadowMatrix,pr.spotShadowMap.value=Bn.state.spotShadowMap,pr.spotLightMatrix.value=Bn.state.spotLightMatrix,pr.spotLightMap.value=Bn.state.spotLightMap,pr.pointShadowMap.value=Bn.state.pointShadowMap,pr.pointShadowMatrix.value=Bn.state.pointShadowMatrix);const wr=ar.getUniforms(),us=WebGLUniforms.seqWithValue(wr.seq,pr);return xn.currentProgram=ar,xn.uniformsList=us,ar}function ns(qt,yn){const En=Jt.get(qt);En.outputEncoding=yn.outputEncoding,En.instancing=yn.instancing,En.skinning=yn.skinning,En.morphTargets=yn.morphTargets,En.morphNormals=yn.morphNormals,En.morphColors=yn.morphColors,En.morphTargetsCount=yn.morphTargetsCount,En.numClippingPlanes=yn.numClippingPlanes,En.numIntersection=yn.numClipIntersection,En.vertexAlphas=yn.vertexAlphas,En.vertexTangents=yn.vertexTangents,En.toneMapping=yn.toneMapping}function Dr(qt,yn,En,xn,Bn){yn.isScene!==!0&&(yn=sn),Kt.resetTextureUnits();const Xn=yn.fog,Qn=xn.isMeshStandardMaterial?yn.environment:null,ir=_t===null?gt.outputEncoding:_t.isXRRenderTarget===!0?_t.texture.encoding:LinearEncoding,Zn=(xn.isMeshStandardMaterial?fn:nn).get(xn.envMap||Qn),dr=xn.vertexColors===!0&&!!En.attributes.color&&En.attributes.color.itemSize===4,ar=!!xn.normalMap&&!!En.attributes.tangent,pr=!!En.morphAttributes.position,wr=!!En.morphAttributes.normal,us=!!En.morphAttributes.color,Ss=xn.toneMapped?gt.toneMapping:NoToneMapping,ws=En.morphAttributes.position||En.morphAttributes.normal||En.morphAttributes.color,$n=ws!==void 0?ws.length:0,sr=Jt.get(xn),As=ft.state.lights;if(Bt===!0&&(Lt===!0||qt!==At)){const mr=qt===At&&xn.id===bt;zt.setState(xn,qt,mr)}let Sr=!1;xn.version===sr.__version?(sr.needsLights&&sr.lightsStateVersion!==As.state.version||sr.outputEncoding!==ir||Bn.isInstancedMesh&&sr.instancing===!1||!Bn.isInstancedMesh&&sr.instancing===!0||Bn.isSkinnedMesh&&sr.skinning===!1||!Bn.isSkinnedMesh&&sr.skinning===!0||sr.envMap!==Zn||xn.fog===!0&&sr.fog!==Xn||sr.numClippingPlanes!==void 0&&(sr.numClippingPlanes!==zt.numPlanes||sr.numIntersection!==zt.numIntersection)||sr.vertexAlphas!==dr||sr.vertexTangents!==ar||sr.morphTargets!==pr||sr.morphNormals!==wr||sr.morphColors!==us||sr.toneMapping!==Ss||Ut.isWebGL2===!0&&sr.morphTargetsCount!==$n)&&(Sr=!0):(Sr=!0,sr.__version=xn.version);let Wr=sr.currentProgram;Sr===!0&&(Wr=Rr(xn,yn,Bn));let Yr=!1,Kr=!1,Xr=!1;const tr=Wr.getUniforms(),lr=sr.uniforms;if(Gt.useProgram(Wr.program)&&(Yr=!0,Kr=!0,Xr=!0),xn.id!==bt&&(bt=xn.id,Kr=!0),Yr||At!==qt){if(tr.setValue(Zt,"projectionMatrix",qt.projectionMatrix),Ut.logarithmicDepthBuffer&&tr.setValue(Zt,"logDepthBufFC",2/(Math.log(qt.far+1)/Math.LN2)),At!==qt&&(At=qt,Kr=!0,Xr=!0),xn.isShaderMaterial||xn.isMeshPhongMaterial||xn.isMeshToonMaterial||xn.isMeshStandardMaterial||xn.envMap){const mr=tr.map.cameraPosition;mr!==void 0&&mr.setValue(Zt,rn.setFromMatrixPosition(qt.matrixWorld))}(xn.isMeshPhongMaterial||xn.isMeshToonMaterial||xn.isMeshLambertMaterial||xn.isMeshBasicMaterial||xn.isMeshStandardMaterial||xn.isShaderMaterial)&&tr.setValue(Zt,"isOrthographic",qt.isOrthographicCamera===!0),(xn.isMeshPhongMaterial||xn.isMeshToonMaterial||xn.isMeshLambertMaterial||xn.isMeshBasicMaterial||xn.isMeshStandardMaterial||xn.isShaderMaterial||xn.isShadowMaterial||Bn.isSkinnedMesh)&&tr.setValue(Zt,"viewMatrix",qt.matrixWorldInverse)}if(Bn.isSkinnedMesh){tr.setOptional(Zt,Bn,"bindMatrix"),tr.setOptional(Zt,Bn,"bindMatrixInverse");const mr=Bn.skeleton;mr&&(Ut.floatVertexTextures?(mr.boneTexture===null&&mr.computeBoneTexture(),tr.setValue(Zt,"boneTexture",mr.boneTexture,Kt),tr.setValue(Zt,"boneTextureSize",mr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const rs=En.morphAttributes;if((rs.position!==void 0||rs.normal!==void 0||rs.color!==void 0&&Ut.isWebGL2===!0)&&Sn.update(Bn,En,xn,Wr),(Kr||sr.receiveShadow!==Bn.receiveShadow)&&(sr.receiveShadow=Bn.receiveShadow,tr.setValue(Zt,"receiveShadow",Bn.receiveShadow)),xn.isMeshGouraudMaterial&&xn.envMap!==null&&(lr.envMap.value=Zn,lr.flipEnvMap.value=Zn.isCubeTexture&&Zn.isRenderTargetTexture===!1?-1:1),Kr&&(tr.setValue(Zt,"toneMappingExposure",gt.toneMappingExposure),sr.needsLights&&Tr(lr,Xr),Xn&&xn.fog===!0&&vn.refreshFogUniforms(lr,Xn),vn.refreshMaterialUniforms(lr,xn,Rt,Et,Ft),WebGLUniforms.upload(Zt,sr.uniformsList,lr,Kt)),xn.isShaderMaterial&&xn.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Zt,sr.uniformsList,lr,Kt),xn.uniformsNeedUpdate=!1),xn.isSpriteMaterial&&tr.setValue(Zt,"center",Bn.center),tr.setValue(Zt,"modelViewMatrix",Bn.modelViewMatrix),tr.setValue(Zt,"normalMatrix",Bn.normalMatrix),tr.setValue(Zt,"modelMatrix",Bn.matrixWorld),xn.isShaderMaterial||xn.isRawShaderMaterial){const mr=xn.uniformsGroups;for(let Ir=0,ss=mr.length;Ir<ss;Ir++)if(Ut.isWebGL2){const ms=mr[Ir];kn.update(ms,Wr),kn.bind(ms,Wr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Wr}function Tr(qt,yn){qt.ambientLightColor.needsUpdate=yn,qt.lightProbe.needsUpdate=yn,qt.directionalLights.needsUpdate=yn,qt.directionalLightShadows.needsUpdate=yn,qt.pointLights.needsUpdate=yn,qt.pointLightShadows.needsUpdate=yn,qt.spotLights.needsUpdate=yn,qt.spotLightShadows.needsUpdate=yn,qt.rectAreaLights.needsUpdate=yn,qt.hemisphereLights.needsUpdate=yn}function Gr(qt){return qt.isMeshLambertMaterial||qt.isMeshToonMaterial||qt.isMeshPhongMaterial||qt.isMeshStandardMaterial||qt.isShadowMaterial||qt.isShaderMaterial&&qt.lights===!0}this.getActiveCubeFace=function(){return vt},this.getActiveMipmapLevel=function(){return xt},this.getRenderTarget=function(){return _t},this.setRenderTargetTextures=function(qt,yn,En){Jt.get(qt.texture).__webglTexture=yn,Jt.get(qt.depthTexture).__webglTexture=En;const xn=Jt.get(qt);xn.__hasExternalTextures=!0,xn.__hasExternalTextures&&(xn.__autoAllocateDepthBuffer=En===void 0,xn.__autoAllocateDepthBuffer||Qt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xn.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(qt,yn){const En=Jt.get(qt);En.__webglFramebuffer=yn,En.__useDefaultFramebuffer=yn===void 0},this.setRenderTarget=function(qt,yn=0,En=0){_t=qt,vt=yn,xt=En;let xn=!0;if(qt){const Zn=Jt.get(qt);Zn.__useDefaultFramebuffer!==void 0?(Gt.bindFramebuffer(36160,null),xn=!1):Zn.__webglFramebuffer===void 0?Kt.setupRenderTarget(qt):Zn.__hasExternalTextures&&Kt.rebindTextures(qt,Jt.get(qt.texture).__webglTexture,Jt.get(qt.depthTexture).__webglTexture)}let Bn=null,Xn=!1,Qn=!1;if(qt){const Zn=qt.texture;(Zn.isData3DTexture||Zn.isDataArrayTexture)&&(Qn=!0);const dr=Jt.get(qt).__webglFramebuffer;qt.isWebGLCubeRenderTarget?(Bn=dr[yn],Xn=!0):Ut.isWebGL2&&qt.samples>0&&Kt.useMultisampledRTT(qt)===!1?Bn=Jt.get(qt).__webglMultisampledFramebuffer:Bn=dr,Mt.copy(qt.viewport),Tt.copy(qt.scissor),St=qt.scissorTest}else Mt.copy(kt).multiplyScalar(Rt).floor(),Tt.copy($t).multiplyScalar(Rt).floor(),St=jt;if(Gt.bindFramebuffer(36160,Bn)&&Ut.drawBuffers&&xn&&Gt.drawBuffers(qt,Bn),Gt.viewport(Mt),Gt.scissor(Tt),Gt.setScissorTest(St),Xn){const Zn=Jt.get(qt.texture);Zt.framebufferTexture2D(36160,36064,34069+yn,Zn.__webglTexture,En)}else if(Qn){const Zn=Jt.get(qt.texture),dr=yn||0;Zt.framebufferTextureLayer(36160,36064,Zn.__webglTexture,En||0,dr)}bt=-1},this.readRenderTargetPixels=function(qt,yn,En,xn,Bn,Xn,Qn){if(!(qt&&qt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ir=Jt.get(qt).__webglFramebuffer;if(qt.isWebGLCubeRenderTarget&&Qn!==void 0&&(ir=ir[Qn]),ir){Gt.bindFramebuffer(36160,ir);try{const Zn=qt.texture,dr=Zn.format,ar=Zn.type;if(dr!==RGBAFormat&&Tn.convert(dr)!==Zt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const pr=ar===HalfFloatType&&(Qt.has("EXT_color_buffer_half_float")||Ut.isWebGL2&&Qt.has("EXT_color_buffer_float"));if(ar!==UnsignedByteType&&Tn.convert(ar)!==Zt.getParameter(35738)&&!(ar===FloatType&&(Ut.isWebGL2||Qt.has("OES_texture_float")||Qt.has("WEBGL_color_buffer_float")))&&!pr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}yn>=0&&yn<=qt.width-xn&&En>=0&&En<=qt.height-Bn&&Zt.readPixels(yn,En,xn,Bn,Tn.convert(dr),Tn.convert(ar),Xn)}finally{const Zn=_t!==null?Jt.get(_t).__webglFramebuffer:null;Gt.bindFramebuffer(36160,Zn)}}},this.copyFramebufferToTexture=function(qt,yn,En=0){const xn=Math.pow(2,-En),Bn=Math.floor(yn.image.width*xn),Xn=Math.floor(yn.image.height*xn);Kt.setTexture2D(yn,0),Zt.copyTexSubImage2D(3553,En,0,0,qt.x,qt.y,Bn,Xn),Gt.unbindTexture()},this.copyTextureToTexture=function(qt,yn,En,xn=0){const Bn=yn.image.width,Xn=yn.image.height,Qn=Tn.convert(En.format),ir=Tn.convert(En.type);Kt.setTexture2D(En,0),Zt.pixelStorei(37440,En.flipY),Zt.pixelStorei(37441,En.premultiplyAlpha),Zt.pixelStorei(3317,En.unpackAlignment),yn.isDataTexture?Zt.texSubImage2D(3553,xn,qt.x,qt.y,Bn,Xn,Qn,ir,yn.image.data):yn.isCompressedTexture?Zt.compressedTexSubImage2D(3553,xn,qt.x,qt.y,yn.mipmaps[0].width,yn.mipmaps[0].height,Qn,yn.mipmaps[0].data):Zt.texSubImage2D(3553,xn,qt.x,qt.y,Qn,ir,yn.image),xn===0&&En.generateMipmaps&&Zt.generateMipmap(3553),Gt.unbindTexture()},this.copyTextureToTexture3D=function(qt,yn,En,xn,Bn=0){if(gt.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Xn=qt.max.x-qt.min.x+1,Qn=qt.max.y-qt.min.y+1,ir=qt.max.z-qt.min.z+1,Zn=Tn.convert(xn.format),dr=Tn.convert(xn.type);let ar;if(xn.isData3DTexture)Kt.setTexture3D(xn,0),ar=32879;else if(xn.isDataArrayTexture)Kt.setTexture2DArray(xn,0),ar=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Zt.pixelStorei(37440,xn.flipY),Zt.pixelStorei(37441,xn.premultiplyAlpha),Zt.pixelStorei(3317,xn.unpackAlignment);const pr=Zt.getParameter(3314),wr=Zt.getParameter(32878),us=Zt.getParameter(3316),Ss=Zt.getParameter(3315),ws=Zt.getParameter(32877),$n=En.isCompressedTexture?En.mipmaps[0]:En.image;Zt.pixelStorei(3314,$n.width),Zt.pixelStorei(32878,$n.height),Zt.pixelStorei(3316,qt.min.x),Zt.pixelStorei(3315,qt.min.y),Zt.pixelStorei(32877,qt.min.z),En.isDataTexture||En.isData3DTexture?Zt.texSubImage3D(ar,Bn,yn.x,yn.y,yn.z,Xn,Qn,ir,Zn,dr,$n.data):En.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Zt.compressedTexSubImage3D(ar,Bn,yn.x,yn.y,yn.z,Xn,Qn,ir,Zn,$n.data)):Zt.texSubImage3D(ar,Bn,yn.x,yn.y,yn.z,Xn,Qn,ir,Zn,dr,$n),Zt.pixelStorei(3314,pr),Zt.pixelStorei(32878,wr),Zt.pixelStorei(3316,us),Zt.pixelStorei(3315,Ss),Zt.pixelStorei(32877,ws),Bn===0&&xn.generateMipmaps&&Zt.generateMipmap(ar),Gt.unbindTexture()},this.initTexture=function(qt){qt.isCubeTexture?Kt.setTextureCube(qt,0):qt.isData3DTexture?Kt.setTexture3D(qt,0):qt.isDataArrayTexture?Kt.setTexture2DArray(qt,0):Kt.setTexture2D(qt,0),Gt.unbindTexture()},this.resetState=function(){vt=0,xt=0,_t=null,Gt.reset(),wn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(_e,tt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$2(_e),this.density=tt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(_e,tt=1,nt=1e3){this.isFog=!0,this.name="",this.color=new Color$2(_e),this.near=tt,this.far=nt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(_e,tt){return super.copy(_e,tt),_e.background!==null&&(this.background=_e.background.clone()),_e.environment!==null&&(this.environment=_e.environment.clone()),_e.fog!==null&&(this.fog=_e.fog.clone()),_e.overrideMaterial!==null&&(this.overrideMaterial=_e.overrideMaterial.clone()),this.matrixAutoUpdate=_e.matrixAutoUpdate,this}toJSON(_e){const tt=super.toJSON(_e);return this.fog!==null&&(tt.object.fog=this.fog.toJSON()),tt}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(_e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=_e}}class InterleavedBuffer{constructor(_e,tt){this.isInterleavedBuffer=!0,this.array=_e,this.stride=tt,this.count=_e!==void 0?_e.length/tt:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(_e){_e===!0&&this.version++}setUsage(_e){return this.usage=_e,this}copy(_e){return this.array=new _e.array.constructor(_e.array),this.count=_e.count,this.stride=_e.stride,this.usage=_e.usage,this}copyAt(_e,tt,nt){_e*=this.stride,nt*=tt.stride;for(let rt=0,it=this.stride;rt<it;rt++)this.array[_e+rt]=tt.array[nt+rt];return this}set(_e,tt=0){return this.array.set(_e,tt),this}clone(_e){_e.arrayBuffers===void 0&&(_e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),_e.arrayBuffers[this.array.buffer._uuid]===void 0&&(_e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const tt=new this.array.constructor(_e.arrayBuffers[this.array.buffer._uuid]),nt=new this.constructor(tt,this.stride);return nt.setUsage(this.usage),nt}onUpload(_e){return this.onUploadCallback=_e,this}toJSON(_e){return _e.arrayBuffers===void 0&&(_e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),_e.arrayBuffers[this.array.buffer._uuid]===void 0&&(_e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(_e,tt,nt,rt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=_e,this.itemSize=tt,this.offset=nt,this.normalized=rt===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(_e){this.data.needsUpdate=_e}applyMatrix4(_e){for(let tt=0,nt=this.data.count;tt<nt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.applyMatrix4(_e),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(_e){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.applyNormalMatrix(_e),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(_e){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.transformDirection(_e),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.data.array[_e*this.data.stride+this.offset]=tt,this}setY(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.data.array[_e*this.data.stride+this.offset+1]=tt,this}setZ(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.data.array[_e*this.data.stride+this.offset+2]=tt,this}setW(_e,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.data.array[_e*this.data.stride+this.offset+3]=tt,this}getX(_e){let tt=this.data.array[_e*this.data.stride+this.offset];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getY(_e){let tt=this.data.array[_e*this.data.stride+this.offset+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getZ(_e){let tt=this.data.array[_e*this.data.stride+this.offset+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getW(_e){let tt=this.data.array[_e*this.data.stride+this.offset+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setXY(_e,tt,nt){return _e=_e*this.data.stride+this.offset,this.normalized&&(tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array)),this.data.array[_e+0]=tt,this.data.array[_e+1]=nt,this}setXYZ(_e,tt,nt,rt){return _e=_e*this.data.stride+this.offset,this.normalized&&(tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array),rt=normalize$5(rt,this.array)),this.data.array[_e+0]=tt,this.data.array[_e+1]=nt,this.data.array[_e+2]=rt,this}setXYZW(_e,tt,nt,rt,it){return _e=_e*this.data.stride+this.offset,this.normalized&&(tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array),rt=normalize$5(rt,this.array),it=normalize$5(it,this.array)),this.data.array[_e+0]=tt,this.data.array[_e+1]=nt,this.data.array[_e+2]=rt,this.data.array[_e+3]=it,this}clone(_e){if(_e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const tt=[];for(let nt=0;nt<this.count;nt++){const rt=nt*this.data.stride+this.offset;for(let it=0;it<this.itemSize;it++)tt.push(this.data.array[rt+it])}return new BufferAttribute(new this.array.constructor(tt),this.itemSize,this.normalized)}else return _e.interleavedBuffers===void 0&&(_e.interleavedBuffers={}),_e.interleavedBuffers[this.data.uuid]===void 0&&(_e.interleavedBuffers[this.data.uuid]=this.data.clone(_e)),new InterleavedBufferAttribute(_e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(_e){if(_e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const tt=[];for(let nt=0;nt<this.count;nt++){const rt=nt*this.data.stride+this.offset;for(let it=0;it<this.itemSize;it++)tt.push(this.data.array[rt+it])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:tt,normalized:this.normalized}}else return _e.interleavedBuffers===void 0&&(_e.interleavedBuffers={}),_e.interleavedBuffers[this.data.uuid]===void 0&&(_e.interleavedBuffers[this.data.uuid]=this.data.toJSON(_e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(_e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$2(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.alphaMap=_e.alphaMap,this.rotation=_e.rotation,this.sizeAttenuation=_e.sizeAttenuation,this.fog=_e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(_e){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const tt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),nt=new InterleavedBuffer(tt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(nt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(nt,2,3,!1))}this.geometry=_geometry,this.material=_e!==void 0?_e:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(_e,tt){_e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(_e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(_e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),_e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const nt=this.material.rotation;let rt,it;nt!==0&&(it=Math.cos(nt),rt=Math.sin(nt));const st=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,st,_worldScale,rt,it),transformVertex(_vB.set(.5,-.5,0),_mvPosition,st,_worldScale,rt,it),transformVertex(_vC.set(.5,.5,0),_mvPosition,st,_worldScale,rt,it),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let ot=_e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(ot===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,st,_worldScale,rt,it),_uvB.set(0,1),ot=_e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),ot===null))return;const at=_e.ray.origin.distanceTo(_intersectPoint);at<_e.near||at>_e.far||tt.push({distance:at,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(_e,tt){return super.copy(_e,tt),_e.center!==void 0&&this.center.copy(_e.center),this.material=_e.material,this}}function transformVertex(et,_e,tt,nt,rt,it){_alignedPosition.subVectors(et,tt).addScalar(.5).multiply(nt),rt!==void 0?(_rotatedPosition.x=it*_alignedPosition.x-rt*_alignedPosition.y,_rotatedPosition.y=rt*_alignedPosition.x+it*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),et.copy(_e),et.x+=_rotatedPosition.x,et.y+=_rotatedPosition.y,et.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(_e){super.copy(_e,!1);const tt=_e.levels;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];this.addLevel(it.object.clone(),it.distance)}return this.autoUpdate=_e.autoUpdate,this}addLevel(_e,tt=0){tt=Math.abs(tt);const nt=this.levels;let rt;for(rt=0;rt<nt.length&&!(tt<nt[rt].distance);rt++);return nt.splice(rt,0,{distance:tt,object:_e}),this.add(_e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(_e){const tt=this.levels;if(tt.length>0){let nt,rt;for(nt=1,rt=tt.length;nt<rt&&!(_e<tt[nt].distance);nt++);return tt[nt-1].object}return null}raycast(_e,tt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const rt=_e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(rt).raycast(_e,tt)}}update(_e){const tt=this.levels;if(tt.length>1){_v1$2.setFromMatrixPosition(_e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const nt=_v1$2.distanceTo(_v2$1)/_e.zoom;tt[0].object.visible=!0;let rt,it;for(rt=1,it=tt.length;rt<it&&nt>=tt[rt].distance;rt++)tt[rt-1].object.visible=!1,tt[rt].object.visible=!0;for(this._currentLevel=rt-1;rt<it;rt++)tt[rt].object.visible=!1}}toJSON(_e){const tt=super.toJSON(_e);this.autoUpdate===!1&&(tt.object.autoUpdate=!1),tt.object.levels=[];const nt=this.levels;for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt];tt.object.levels.push({object:st.object.uuid,distance:st.distance})}return tt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(_e,tt){super(_e,tt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(_e,tt){return super.copy(_e,tt),this.bindMode=_e.bindMode,this.bindMatrix.copy(_e.bindMatrix),this.bindMatrixInverse.copy(_e.bindMatrixInverse),this.skeleton=_e.skeleton,this}bind(_e,tt){this.skeleton=_e,tt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),tt=this.matrixWorld),this.bindMatrix.copy(tt),this.bindMatrixInverse.copy(tt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const _e=new Vector4,tt=this.geometry.attributes.skinWeight;for(let nt=0,rt=tt.count;nt<rt;nt++){_e.fromBufferAttribute(tt,nt);const it=1/_e.manhattanLength();it!==1/0?_e.multiplyScalar(it):_e.set(1,0,0,0),tt.setXYZW(nt,_e.x,_e.y,_e.z,_e.w)}}updateMatrixWorld(_e){super.updateMatrixWorld(_e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(_e,tt){const nt=this.skeleton,rt=this.geometry;_skinIndex.fromBufferAttribute(rt.attributes.skinIndex,_e),_skinWeight.fromBufferAttribute(rt.attributes.skinWeight,_e),_basePosition.copy(tt).applyMatrix4(this.bindMatrix),tt.set(0,0,0);for(let it=0;it<4;it++){const st=_skinWeight.getComponent(it);if(st!==0){const ot=_skinIndex.getComponent(it);_matrix.multiplyMatrices(nt.bones[ot].matrixWorld,nt.boneInverses[ot]),tt.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),st)}}return tt.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(_e=null,tt=1,nt=1,rt,it,st,ot,at,lt=NearestFilter,ct=NearestFilter,ut,ft){super(null,st,ot,at,lt,ct,rt,it,ut,ft),this.isDataTexture=!0,this.image={data:_e,width:tt,height:nt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(_e=[],tt=[]){this.uuid=generateUUID$1(),this.bones=_e.slice(0),this.boneInverses=tt,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const _e=this.bones,tt=this.boneInverses;if(this.boneMatrices=new Float32Array(_e.length*16),tt.length===0)this.calculateInverses();else if(_e.length!==tt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let nt=0,rt=this.bones.length;nt<rt;nt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let _e=0,tt=this.bones.length;_e<tt;_e++){const nt=new Matrix4;this.bones[_e]&&nt.copy(this.bones[_e].matrixWorld).invert(),this.boneInverses.push(nt)}}pose(){for(let _e=0,tt=this.bones.length;_e<tt;_e++){const nt=this.bones[_e];nt&&nt.matrixWorld.copy(this.boneInverses[_e]).invert()}for(let _e=0,tt=this.bones.length;_e<tt;_e++){const nt=this.bones[_e];nt&&(nt.parent&&nt.parent.isBone?(nt.matrix.copy(nt.parent.matrixWorld).invert(),nt.matrix.multiply(nt.matrixWorld)):nt.matrix.copy(nt.matrixWorld),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale))}}update(){const _e=this.bones,tt=this.boneInverses,nt=this.boneMatrices,rt=this.boneTexture;for(let it=0,st=_e.length;it<st;it++){const ot=_e[it]?_e[it].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(ot,tt[it]),_offsetMatrix.toArray(nt,it*16)}rt!==null&&(rt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let _e=Math.sqrt(this.bones.length*4);_e=ceilPowerOfTwo(_e),_e=Math.max(_e,4);const tt=new Float32Array(_e*_e*4);tt.set(this.boneMatrices);const nt=new DataTexture(tt,_e,_e,RGBAFormat,FloatType);return nt.needsUpdate=!0,this.boneMatrices=tt,this.boneTexture=nt,this.boneTextureSize=_e,this}getBoneByName(_e){for(let tt=0,nt=this.bones.length;tt<nt;tt++){const rt=this.bones[tt];if(rt.name===_e)return rt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(_e,tt){this.uuid=_e.uuid;for(let nt=0,rt=_e.bones.length;nt<rt;nt++){const it=_e.bones[nt];let st=tt[it];st===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",it),st=new Bone),this.bones.push(st),this.boneInverses.push(new Matrix4().fromArray(_e.boneInverses[nt]))}return this.init(),this}toJSON(){const _e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};_e.uuid=this.uuid;const tt=this.bones,nt=this.boneInverses;for(let rt=0,it=tt.length;rt<it;rt++){const st=tt[rt];_e.bones.push(st.uuid);const ot=nt[rt];_e.boneInverses.push(ot.toArray())}return _e}}class InstancedBufferAttribute extends BufferAttribute{constructor(_e,tt,nt,rt=1){super(_e,tt,nt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=rt}copy(_e){return super.copy(_e),this.meshPerAttribute=_e.meshPerAttribute,this}toJSON(){const _e=super.toJSON();return _e.meshPerAttribute=this.meshPerAttribute,_e.isInstancedBufferAttribute=!0,_e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(_e,tt,nt){super(_e,tt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(nt*16),16),this.instanceColor=null,this.count=nt,this.frustumCulled=!1}copy(_e,tt){return super.copy(_e,tt),this.instanceMatrix.copy(_e.instanceMatrix),_e.instanceColor!==null&&(this.instanceColor=_e.instanceColor.clone()),this.count=_e.count,this}getColorAt(_e,tt){tt.fromArray(this.instanceColor.array,_e*3)}getMatrixAt(_e,tt){tt.fromArray(this.instanceMatrix.array,_e*16)}raycast(_e,tt){const nt=this.matrixWorld,rt=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let it=0;it<rt;it++){this.getMatrixAt(it,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(nt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(_e,_instanceIntersects);for(let st=0,ot=_instanceIntersects.length;st<ot;st++){const at=_instanceIntersects[st];at.instanceId=it,at.object=this,tt.push(at)}_instanceIntersects.length=0}}setColorAt(_e,tt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),tt.toArray(this.instanceColor.array,_e*3)}setMatrixAt(_e,tt){tt.toArray(this.instanceMatrix.array,_e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(_e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$2(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.linewidth=_e.linewidth,this.linecap=_e.linecap,this.linejoin=_e.linejoin,this.fog=_e.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere$1;class Line extends Object3D{constructor(_e=new BufferGeometry,tt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=_e,this.material=tt,this.updateMorphTargets()}copy(_e,tt){return super.copy(_e,tt),this.material=_e.material,this.geometry=_e.geometry,this}computeLineDistances(){const _e=this.geometry;if(_e.index===null){const tt=_e.attributes.position,nt=[0];for(let rt=1,it=tt.count;rt<it;rt++)_start$1.fromBufferAttribute(tt,rt-1),_end$1.fromBufferAttribute(tt,rt),nt[rt]=nt[rt-1],nt[rt]+=_start$1.distanceTo(_end$1);_e.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(_e,tt){const nt=this.geometry,rt=this.matrixWorld,it=_e.params.Line.threshold,st=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$1.copy(nt.boundingSphere),_sphere$1.applyMatrix4(rt),_sphere$1.radius+=it,_e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(rt).invert(),_ray$1.copy(_e.ray).applyMatrix4(_inverseMatrix$1);const ot=it/((this.scale.x+this.scale.y+this.scale.z)/3),at=ot*ot,lt=new Vector3,ct=new Vector3,ut=new Vector3,ft=new Vector3,ht=this.isLineSegments?2:1,pt=nt.index,dt=nt.attributes.position;if(pt!==null){const vt=Math.max(0,st.start),xt=Math.min(pt.count,st.start+st.count);for(let _t=vt,bt=xt-1;_t<bt;_t+=ht){const At=pt.getX(_t),Mt=pt.getX(_t+1);if(lt.fromBufferAttribute(dt,At),ct.fromBufferAttribute(dt,Mt),_ray$1.distanceSqToSegment(lt,ct,ft,ut)>at)continue;ft.applyMatrix4(this.matrixWorld);const St=_e.ray.origin.distanceTo(ft);St<_e.near||St>_e.far||tt.push({distance:St,point:ut.clone().applyMatrix4(this.matrixWorld),index:_t,face:null,faceIndex:null,object:this})}}else{const vt=Math.max(0,st.start),xt=Math.min(dt.count,st.start+st.count);for(let _t=vt,bt=xt-1;_t<bt;_t+=ht){if(lt.fromBufferAttribute(dt,_t),ct.fromBufferAttribute(dt,_t+1),_ray$1.distanceSqToSegment(lt,ct,ft,ut)>at)continue;ft.applyMatrix4(this.matrixWorld);const Mt=_e.ray.origin.distanceTo(ft);Mt<_e.near||Mt>_e.far||tt.push({distance:Mt,point:ut.clone().applyMatrix4(this.matrixWorld),index:_t,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const rt=tt[nt[0]];if(rt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,st=rt.length;it<st;it++){const ot=rt[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=it}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(_e,tt){super(_e,tt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const _e=this.geometry;if(_e.index===null){const tt=_e.attributes.position,nt=[];for(let rt=0,it=tt.count;rt<it;rt+=2)_start.fromBufferAttribute(tt,rt),_end.fromBufferAttribute(tt,rt+1),nt[rt]=rt===0?0:nt[rt-1],nt[rt+1]=nt[rt]+_start.distanceTo(_end);_e.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(_e,tt){super(_e,tt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(_e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$2(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.alphaMap=_e.alphaMap,this.size=_e.size,this.sizeAttenuation=_e.sizeAttenuation,this.fog=_e.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere$1,_position$2=new Vector3;class Points$1 extends Object3D{constructor(_e=new BufferGeometry,tt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=_e,this.material=tt,this.updateMorphTargets()}copy(_e,tt){return super.copy(_e,tt),this.material=_e.material,this.geometry=_e.geometry,this}raycast(_e,tt){const nt=this.geometry,rt=this.matrixWorld,it=_e.params.Points.threshold,st=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere.copy(nt.boundingSphere),_sphere.applyMatrix4(rt),_sphere.radius+=it,_e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(rt).invert(),_ray.copy(_e.ray).applyMatrix4(_inverseMatrix);const ot=it/((this.scale.x+this.scale.y+this.scale.z)/3),at=ot*ot,lt=nt.index,ut=nt.attributes.position;if(lt!==null){const ft=Math.max(0,st.start),ht=Math.min(lt.count,st.start+st.count);for(let pt=ft,gt=ht;pt<gt;pt++){const dt=lt.getX(pt);_position$2.fromBufferAttribute(ut,dt),testPoint(_position$2,dt,at,rt,_e,tt,this)}}else{const ft=Math.max(0,st.start),ht=Math.min(ut.count,st.start+st.count);for(let pt=ft,gt=ht;pt<gt;pt++)_position$2.fromBufferAttribute(ut,pt),testPoint(_position$2,pt,at,rt,_e,tt,this)}}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const rt=tt[nt[0]];if(rt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,st=rt.length;it<st;it++){const ot=rt[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=it}}}}}function testPoint(et,_e,tt,nt,rt,it,st){const ot=_ray.distanceSqToPoint(et);if(ot<tt){const at=new Vector3;_ray.closestPointToPoint(et,at),at.applyMatrix4(nt);const lt=rt.ray.origin.distanceTo(at);if(lt<rt.near||lt>rt.far)return;it.push({distance:lt,distanceToRay:Math.sqrt(ot),point:at,index:_e,face:null,object:st})}}class VideoTexture extends Texture{constructor(_e,tt,nt,rt,it,st,ot,at,lt){super(_e,tt,nt,rt,it,st,ot,at,lt),this.isVideoTexture=!0,this.minFilter=st!==void 0?st:LinearFilter,this.magFilter=it!==void 0?it:LinearFilter,this.generateMipmaps=!1;const ct=this;function ut(){ct.needsUpdate=!0,_e.requestVideoFrameCallback(ut)}"requestVideoFrameCallback"in _e&&_e.requestVideoFrameCallback(ut)}clone(){return new this.constructor(this.image).copy(this)}update(){const _e=this.image;"requestVideoFrameCallback"in _e===!1&&_e.readyState>=_e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(_e,tt,nt){super({width:_e,height:tt}),this.isFramebufferTexture=!0,this.format=nt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(_e,tt,nt,rt,it,st,ot,at,lt,ct,ut,ft){super(null,st,ot,at,lt,ct,rt,it,ut,ft),this.isCompressedTexture=!0,this.image={width:tt,height:nt},this.mipmaps=_e,this.flipY=!1,this.generateMipmaps=!1}}class CanvasTexture extends Texture{constructor(_e,tt,nt,rt,it,st,ot,at,lt){super(_e,tt,nt,rt,it,st,ot,at,lt),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(_e,tt){const nt=this.getUtoTmapping(_e);return this.getPoint(nt,tt)}getPoints(_e=5){const tt=[];for(let nt=0;nt<=_e;nt++)tt.push(this.getPoint(nt/_e));return tt}getSpacedPoints(_e=5){const tt=[];for(let nt=0;nt<=_e;nt++)tt.push(this.getPointAt(nt/_e));return tt}getLength(){const _e=this.getLengths();return _e[_e.length-1]}getLengths(_e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===_e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const tt=[];let nt,rt=this.getPoint(0),it=0;tt.push(0);for(let st=1;st<=_e;st++)nt=this.getPoint(st/_e),it+=nt.distanceTo(rt),tt.push(it),rt=nt;return this.cacheArcLengths=tt,tt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(_e,tt){const nt=this.getLengths();let rt=0;const it=nt.length;let st;tt?st=tt:st=_e*nt[it-1];let ot=0,at=it-1,lt;for(;ot<=at;)if(rt=Math.floor(ot+(at-ot)/2),lt=nt[rt]-st,lt<0)ot=rt+1;else if(lt>0)at=rt-1;else{at=rt;break}if(rt=at,nt[rt]===st)return rt/(it-1);const ct=nt[rt],ft=nt[rt+1]-ct,ht=(st-ct)/ft;return(rt+ht)/(it-1)}getTangent(_e,tt){let rt=_e-1e-4,it=_e+1e-4;rt<0&&(rt=0),it>1&&(it=1);const st=this.getPoint(rt),ot=this.getPoint(it),at=tt||(st.isVector2?new Vector2:new Vector3);return at.copy(ot).sub(st).normalize(),at}getTangentAt(_e,tt){const nt=this.getUtoTmapping(_e);return this.getTangent(nt,tt)}computeFrenetFrames(_e,tt){const nt=new Vector3,rt=[],it=[],st=[],ot=new Vector3,at=new Matrix4;for(let ht=0;ht<=_e;ht++){const pt=ht/_e;rt[ht]=this.getTangentAt(pt,new Vector3)}it[0]=new Vector3,st[0]=new Vector3;let lt=Number.MAX_VALUE;const ct=Math.abs(rt[0].x),ut=Math.abs(rt[0].y),ft=Math.abs(rt[0].z);ct<=lt&&(lt=ct,nt.set(1,0,0)),ut<=lt&&(lt=ut,nt.set(0,1,0)),ft<=lt&&nt.set(0,0,1),ot.crossVectors(rt[0],nt).normalize(),it[0].crossVectors(rt[0],ot),st[0].crossVectors(rt[0],it[0]);for(let ht=1;ht<=_e;ht++){if(it[ht]=it[ht-1].clone(),st[ht]=st[ht-1].clone(),ot.crossVectors(rt[ht-1],rt[ht]),ot.length()>Number.EPSILON){ot.normalize();const pt=Math.acos(clamp$5(rt[ht-1].dot(rt[ht]),-1,1));it[ht].applyMatrix4(at.makeRotationAxis(ot,pt))}st[ht].crossVectors(rt[ht],it[ht])}if(tt===!0){let ht=Math.acos(clamp$5(it[0].dot(it[_e]),-1,1));ht/=_e,rt[0].dot(ot.crossVectors(it[0],it[_e]))>0&&(ht=-ht);for(let pt=1;pt<=_e;pt++)it[pt].applyMatrix4(at.makeRotationAxis(rt[pt],ht*pt)),st[pt].crossVectors(rt[pt],it[pt])}return{tangents:rt,normals:it,binormals:st}}clone(){return new this.constructor().copy(this)}copy(_e){return this.arcLengthDivisions=_e.arcLengthDivisions,this}toJSON(){const _e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return _e.arcLengthDivisions=this.arcLengthDivisions,_e.type=this.type,_e}fromJSON(_e){return this.arcLengthDivisions=_e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(_e=0,tt=0,nt=1,rt=1,it=0,st=Math.PI*2,ot=!1,at=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=_e,this.aY=tt,this.xRadius=nt,this.yRadius=rt,this.aStartAngle=it,this.aEndAngle=st,this.aClockwise=ot,this.aRotation=at}getPoint(_e,tt){const nt=tt||new Vector2,rt=Math.PI*2;let it=this.aEndAngle-this.aStartAngle;const st=Math.abs(it)<Number.EPSILON;for(;it<0;)it+=rt;for(;it>rt;)it-=rt;it<Number.EPSILON&&(st?it=0:it=rt),this.aClockwise===!0&&!st&&(it===rt?it=-rt:it=it-rt);const ot=this.aStartAngle+_e*it;let at=this.aX+this.xRadius*Math.cos(ot),lt=this.aY+this.yRadius*Math.sin(ot);if(this.aRotation!==0){const ct=Math.cos(this.aRotation),ut=Math.sin(this.aRotation),ft=at-this.aX,ht=lt-this.aY;at=ft*ct-ht*ut+this.aX,lt=ft*ut+ht*ct+this.aY}return nt.set(at,lt)}copy(_e){return super.copy(_e),this.aX=_e.aX,this.aY=_e.aY,this.xRadius=_e.xRadius,this.yRadius=_e.yRadius,this.aStartAngle=_e.aStartAngle,this.aEndAngle=_e.aEndAngle,this.aClockwise=_e.aClockwise,this.aRotation=_e.aRotation,this}toJSON(){const _e=super.toJSON();return _e.aX=this.aX,_e.aY=this.aY,_e.xRadius=this.xRadius,_e.yRadius=this.yRadius,_e.aStartAngle=this.aStartAngle,_e.aEndAngle=this.aEndAngle,_e.aClockwise=this.aClockwise,_e.aRotation=this.aRotation,_e}fromJSON(_e){return super.fromJSON(_e),this.aX=_e.aX,this.aY=_e.aY,this.xRadius=_e.xRadius,this.yRadius=_e.yRadius,this.aStartAngle=_e.aStartAngle,this.aEndAngle=_e.aEndAngle,this.aClockwise=_e.aClockwise,this.aRotation=_e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(_e,tt,nt,rt,it,st){super(_e,tt,nt,nt,rt,it,st),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let et=0,_e=0,tt=0,nt=0;function rt(it,st,ot,at){et=it,_e=ot,tt=-3*it+3*st-2*ot-at,nt=2*it-2*st+ot+at}return{initCatmullRom:function(it,st,ot,at,lt){rt(st,ot,lt*(ot-it),lt*(at-st))},initNonuniformCatmullRom:function(it,st,ot,at,lt,ct,ut){let ft=(st-it)/lt-(ot-it)/(lt+ct)+(ot-st)/ct,ht=(ot-st)/ct-(at-st)/(ct+ut)+(at-ot)/ut;ft*=ct,ht*=ct,rt(st,ot,ft,ht)},calc:function(it){const st=it*it,ot=st*it;return et+_e*it+tt*st+nt*ot}}}const tmp=new Vector3,px$1=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(_e=[],tt=!1,nt="centripetal",rt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=_e,this.closed=tt,this.curveType=nt,this.tension=rt}getPoint(_e,tt=new Vector3){const nt=tt,rt=this.points,it=rt.length,st=(it-(this.closed?0:1))*_e;let ot=Math.floor(st),at=st-ot;this.closed?ot+=ot>0?0:(Math.floor(Math.abs(ot)/it)+1)*it:at===0&&ot===it-1&&(ot=it-2,at=1);let lt,ct;this.closed||ot>0?lt=rt[(ot-1)%it]:(tmp.subVectors(rt[0],rt[1]).add(rt[0]),lt=tmp);const ut=rt[ot%it],ft=rt[(ot+1)%it];if(this.closed||ot+2<it?ct=rt[(ot+2)%it]:(tmp.subVectors(rt[it-1],rt[it-2]).add(rt[it-1]),ct=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ht=this.curveType==="chordal"?.5:.25;let pt=Math.pow(lt.distanceToSquared(ut),ht),gt=Math.pow(ut.distanceToSquared(ft),ht),dt=Math.pow(ft.distanceToSquared(ct),ht);gt<1e-4&&(gt=1),pt<1e-4&&(pt=gt),dt<1e-4&&(dt=gt),px$1.initNonuniformCatmullRom(lt.x,ut.x,ft.x,ct.x,pt,gt,dt),py.initNonuniformCatmullRom(lt.y,ut.y,ft.y,ct.y,pt,gt,dt),pz.initNonuniformCatmullRom(lt.z,ut.z,ft.z,ct.z,pt,gt,dt)}else this.curveType==="catmullrom"&&(px$1.initCatmullRom(lt.x,ut.x,ft.x,ct.x,this.tension),py.initCatmullRom(lt.y,ut.y,ft.y,ct.y,this.tension),pz.initCatmullRom(lt.z,ut.z,ft.z,ct.z,this.tension));return nt.set(px$1.calc(at),py.calc(at),pz.calc(at)),nt}copy(_e){super.copy(_e),this.points=[];for(let tt=0,nt=_e.points.length;tt<nt;tt++){const rt=_e.points[tt];this.points.push(rt.clone())}return this.closed=_e.closed,this.curveType=_e.curveType,this.tension=_e.tension,this}toJSON(){const _e=super.toJSON();_e.points=[];for(let tt=0,nt=this.points.length;tt<nt;tt++){const rt=this.points[tt];_e.points.push(rt.toArray())}return _e.closed=this.closed,_e.curveType=this.curveType,_e.tension=this.tension,_e}fromJSON(_e){super.fromJSON(_e),this.points=[];for(let tt=0,nt=_e.points.length;tt<nt;tt++){const rt=_e.points[tt];this.points.push(new Vector3().fromArray(rt))}return this.closed=_e.closed,this.curveType=_e.curveType,this.tension=_e.tension,this}}function CatmullRom(et,_e,tt,nt,rt){const it=(nt-_e)*.5,st=(rt-tt)*.5,ot=et*et,at=et*ot;return(2*tt-2*nt+it+st)*at+(-3*tt+3*nt-2*it-st)*ot+it*et+tt}function QuadraticBezierP0(et,_e){const tt=1-et;return tt*tt*_e}function QuadraticBezierP1(et,_e){return 2*(1-et)*et*_e}function QuadraticBezierP2(et,_e){return et*et*_e}function QuadraticBezier(et,_e,tt,nt){return QuadraticBezierP0(et,_e)+QuadraticBezierP1(et,tt)+QuadraticBezierP2(et,nt)}function CubicBezierP0(et,_e){const tt=1-et;return tt*tt*tt*_e}function CubicBezierP1(et,_e){const tt=1-et;return 3*tt*tt*et*_e}function CubicBezierP2(et,_e){return 3*(1-et)*et*et*_e}function CubicBezierP3(et,_e){return et*et*et*_e}function CubicBezier(et,_e,tt,nt,rt){return CubicBezierP0(et,_e)+CubicBezierP1(et,tt)+CubicBezierP2(et,nt)+CubicBezierP3(et,rt)}class CubicBezierCurve extends Curve{constructor(_e=new Vector2,tt=new Vector2,nt=new Vector2,rt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=_e,this.v1=tt,this.v2=nt,this.v3=rt}getPoint(_e,tt=new Vector2){const nt=tt,rt=this.v0,it=this.v1,st=this.v2,ot=this.v3;return nt.set(CubicBezier(_e,rt.x,it.x,st.x,ot.x),CubicBezier(_e,rt.y,it.y,st.y,ot.y)),nt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this.v3.copy(_e.v3),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e.v3=this.v3.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this.v3.fromArray(_e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(_e=new Vector3,tt=new Vector3,nt=new Vector3,rt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=_e,this.v1=tt,this.v2=nt,this.v3=rt}getPoint(_e,tt=new Vector3){const nt=tt,rt=this.v0,it=this.v1,st=this.v2,ot=this.v3;return nt.set(CubicBezier(_e,rt.x,it.x,st.x,ot.x),CubicBezier(_e,rt.y,it.y,st.y,ot.y),CubicBezier(_e,rt.z,it.z,st.z,ot.z)),nt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this.v3.copy(_e.v3),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e.v3=this.v3.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this.v3.fromArray(_e.v3),this}}class LineCurve extends Curve{constructor(_e=new Vector2,tt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=_e,this.v2=tt}getPoint(_e,tt=new Vector2){const nt=tt;return _e===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(_e).add(this.v1)),nt}getPointAt(_e,tt){return this.getPoint(_e,tt)}getTangent(_e,tt){const nt=tt||new Vector2;return nt.copy(this.v2).sub(this.v1).normalize(),nt}copy(_e){return super.copy(_e),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class LineCurve3 extends Curve{constructor(_e=new Vector3,tt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=_e,this.v2=tt}getPoint(_e,tt=new Vector3){const nt=tt;return _e===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(_e).add(this.v1)),nt}getPointAt(_e,tt){return this.getPoint(_e,tt)}copy(_e){return super.copy(_e),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(_e=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=_e,this.v1=tt,this.v2=nt}getPoint(_e,tt=new Vector2){const nt=tt,rt=this.v0,it=this.v1,st=this.v2;return nt.set(QuadraticBezier(_e,rt.x,it.x,st.x),QuadraticBezier(_e,rt.y,it.y,st.y)),nt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(_e=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=_e,this.v1=tt,this.v2=nt}getPoint(_e,tt=new Vector3){const nt=tt,rt=this.v0,it=this.v1,st=this.v2;return nt.set(QuadraticBezier(_e,rt.x,it.x,st.x),QuadraticBezier(_e,rt.y,it.y,st.y),QuadraticBezier(_e,rt.z,it.z,st.z)),nt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class SplineCurve extends Curve{constructor(_e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=_e}getPoint(_e,tt=new Vector2){const nt=tt,rt=this.points,it=(rt.length-1)*_e,st=Math.floor(it),ot=it-st,at=rt[st===0?st:st-1],lt=rt[st],ct=rt[st>rt.length-2?rt.length-1:st+1],ut=rt[st>rt.length-3?rt.length-1:st+2];return nt.set(CatmullRom(ot,at.x,lt.x,ct.x,ut.x),CatmullRom(ot,at.y,lt.y,ct.y,ut.y)),nt}copy(_e){super.copy(_e),this.points=[];for(let tt=0,nt=_e.points.length;tt<nt;tt++){const rt=_e.points[tt];this.points.push(rt.clone())}return this}toJSON(){const _e=super.toJSON();_e.points=[];for(let tt=0,nt=this.points.length;tt<nt;tt++){const rt=this.points[tt];_e.points.push(rt.toArray())}return _e}fromJSON(_e){super.fromJSON(_e),this.points=[];for(let tt=0,nt=_e.points.length;tt<nt;tt++){const rt=_e.points[tt];this.points.push(new Vector2().fromArray(rt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(_e){this.curves.push(_e)}closePath(){const _e=this.curves[0].getPoint(0),tt=this.curves[this.curves.length-1].getPoint(1);_e.equals(tt)||this.curves.push(new LineCurve(tt,_e))}getPoint(_e,tt){const nt=_e*this.getLength(),rt=this.getCurveLengths();let it=0;for(;it<rt.length;){if(rt[it]>=nt){const st=rt[it]-nt,ot=this.curves[it],at=ot.getLength(),lt=at===0?0:1-st/at;return ot.getPointAt(lt,tt)}it++}return null}getLength(){const _e=this.getCurveLengths();return _e[_e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const _e=[];let tt=0;for(let nt=0,rt=this.curves.length;nt<rt;nt++)tt+=this.curves[nt].getLength(),_e.push(tt);return this.cacheLengths=_e,_e}getSpacedPoints(_e=40){const tt=[];for(let nt=0;nt<=_e;nt++)tt.push(this.getPoint(nt/_e));return this.autoClose&&tt.push(tt[0]),tt}getPoints(_e=12){const tt=[];let nt;for(let rt=0,it=this.curves;rt<it.length;rt++){const st=it[rt],ot=st.isEllipseCurve?_e*2:st.isLineCurve||st.isLineCurve3?1:st.isSplineCurve?_e*st.points.length:_e,at=st.getPoints(ot);for(let lt=0;lt<at.length;lt++){const ct=at[lt];nt&&nt.equals(ct)||(tt.push(ct),nt=ct)}}return this.autoClose&&tt.length>1&&!tt[tt.length-1].equals(tt[0])&&tt.push(tt[0]),tt}copy(_e){super.copy(_e),this.curves=[];for(let tt=0,nt=_e.curves.length;tt<nt;tt++){const rt=_e.curves[tt];this.curves.push(rt.clone())}return this.autoClose=_e.autoClose,this}toJSON(){const _e=super.toJSON();_e.autoClose=this.autoClose,_e.curves=[];for(let tt=0,nt=this.curves.length;tt<nt;tt++){const rt=this.curves[tt];_e.curves.push(rt.toJSON())}return _e}fromJSON(_e){super.fromJSON(_e),this.autoClose=_e.autoClose,this.curves=[];for(let tt=0,nt=_e.curves.length;tt<nt;tt++){const rt=_e.curves[tt];this.curves.push(new Curves[rt.type]().fromJSON(rt))}return this}}class Path extends CurvePath{constructor(_e){super(),this.type="Path",this.currentPoint=new Vector2,_e&&this.setFromPoints(_e)}setFromPoints(_e){this.moveTo(_e[0].x,_e[0].y);for(let tt=1,nt=_e.length;tt<nt;tt++)this.lineTo(_e[tt].x,_e[tt].y);return this}moveTo(_e,tt){return this.currentPoint.set(_e,tt),this}lineTo(_e,tt){const nt=new LineCurve(this.currentPoint.clone(),new Vector2(_e,tt));return this.curves.push(nt),this.currentPoint.set(_e,tt),this}quadraticCurveTo(_e,tt,nt,rt){const it=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(_e,tt),new Vector2(nt,rt));return this.curves.push(it),this.currentPoint.set(nt,rt),this}bezierCurveTo(_e,tt,nt,rt,it,st){const ot=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(_e,tt),new Vector2(nt,rt),new Vector2(it,st));return this.curves.push(ot),this.currentPoint.set(it,st),this}splineThru(_e){const tt=[this.currentPoint.clone()].concat(_e),nt=new SplineCurve(tt);return this.curves.push(nt),this.currentPoint.copy(_e[_e.length-1]),this}arc(_e,tt,nt,rt,it,st){const ot=this.currentPoint.x,at=this.currentPoint.y;return this.absarc(_e+ot,tt+at,nt,rt,it,st),this}absarc(_e,tt,nt,rt,it,st){return this.absellipse(_e,tt,nt,nt,rt,it,st),this}ellipse(_e,tt,nt,rt,it,st,ot,at){const lt=this.currentPoint.x,ct=this.currentPoint.y;return this.absellipse(_e+lt,tt+ct,nt,rt,it,st,ot,at),this}absellipse(_e,tt,nt,rt,it,st,ot,at){const lt=new EllipseCurve(_e,tt,nt,rt,it,st,ot,at);if(this.curves.length>0){const ut=lt.getPoint(0);ut.equals(this.currentPoint)||this.lineTo(ut.x,ut.y)}this.curves.push(lt);const ct=lt.getPoint(1);return this.currentPoint.copy(ct),this}copy(_e){return super.copy(_e),this.currentPoint.copy(_e.currentPoint),this}toJSON(){const _e=super.toJSON();return _e.currentPoint=this.currentPoint.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.currentPoint.fromArray(_e.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(_e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],tt=12,nt=0,rt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:_e,segments:tt,phiStart:nt,phiLength:rt},tt=Math.floor(tt),rt=clamp$5(rt,0,Math.PI*2);const it=[],st=[],ot=[],at=[],lt=[],ct=1/tt,ut=new Vector3,ft=new Vector2,ht=new Vector3,pt=new Vector3,gt=new Vector3;let dt=0,vt=0;for(let xt=0;xt<=_e.length-1;xt++)switch(xt){case 0:dt=_e[xt+1].x-_e[xt].x,vt=_e[xt+1].y-_e[xt].y,ht.x=vt*1,ht.y=-dt,ht.z=vt*0,gt.copy(ht),ht.normalize(),at.push(ht.x,ht.y,ht.z);break;case _e.length-1:at.push(gt.x,gt.y,gt.z);break;default:dt=_e[xt+1].x-_e[xt].x,vt=_e[xt+1].y-_e[xt].y,ht.x=vt*1,ht.y=-dt,ht.z=vt*0,pt.copy(ht),ht.x+=gt.x,ht.y+=gt.y,ht.z+=gt.z,ht.normalize(),at.push(ht.x,ht.y,ht.z),gt.copy(pt)}for(let xt=0;xt<=tt;xt++){const _t=nt+xt*ct*rt,bt=Math.sin(_t),At=Math.cos(_t);for(let Mt=0;Mt<=_e.length-1;Mt++){ut.x=_e[Mt].x*bt,ut.y=_e[Mt].y,ut.z=_e[Mt].x*At,st.push(ut.x,ut.y,ut.z),ft.x=xt/tt,ft.y=Mt/(_e.length-1),ot.push(ft.x,ft.y);const Tt=at[3*Mt+0]*bt,St=at[3*Mt+1],Ct=at[3*Mt+0]*At;lt.push(Tt,St,Ct)}}for(let xt=0;xt<tt;xt++)for(let _t=0;_t<_e.length-1;_t++){const bt=_t+xt*_e.length,At=bt,Mt=bt+_e.length,Tt=bt+_e.length+1,St=bt+1;it.push(At,Mt,St),it.push(Tt,St,Mt)}this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2)),this.setAttribute("normal",new Float32BufferAttribute(lt,3))}static fromJSON(_e){return new LatheGeometry(_e.points,_e.segments,_e.phiStart,_e.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(_e=1,tt=1,nt=4,rt=8){const it=new Path;it.absarc(0,-tt/2,_e,Math.PI*1.5,0),it.absarc(0,tt/2,_e,0,Math.PI*.5),super(it.getPoints(nt),rt),this.type="CapsuleGeometry",this.parameters={radius:_e,height:tt,capSegments:nt,radialSegments:rt}}static fromJSON(_e){return new CapsuleGeometry(_e.radius,_e.length,_e.capSegments,_e.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(_e=1,tt=8,nt=0,rt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:_e,segments:tt,thetaStart:nt,thetaLength:rt},tt=Math.max(3,tt);const it=[],st=[],ot=[],at=[],lt=new Vector3,ct=new Vector2;st.push(0,0,0),ot.push(0,0,1),at.push(.5,.5);for(let ut=0,ft=3;ut<=tt;ut++,ft+=3){const ht=nt+ut/tt*rt;lt.x=_e*Math.cos(ht),lt.y=_e*Math.sin(ht),st.push(lt.x,lt.y,lt.z),ot.push(0,0,1),ct.x=(st[ft]/_e+1)/2,ct.y=(st[ft+1]/_e+1)/2,at.push(ct.x,ct.y)}for(let ut=1;ut<=tt;ut++)it.push(ut,ut+1,0);this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2))}static fromJSON(_e){return new CircleGeometry(_e.radius,_e.segments,_e.thetaStart,_e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(_e=1,tt=1,nt=1,rt=8,it=1,st=!1,ot=0,at=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:_e,radiusBottom:tt,height:nt,radialSegments:rt,heightSegments:it,openEnded:st,thetaStart:ot,thetaLength:at};const lt=this;rt=Math.floor(rt),it=Math.floor(it);const ct=[],ut=[],ft=[],ht=[];let pt=0;const gt=[],dt=nt/2;let vt=0;xt(),st===!1&&(_e>0&&_t(!0),tt>0&&_t(!1)),this.setIndex(ct),this.setAttribute("position",new Float32BufferAttribute(ut,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2));function xt(){const bt=new Vector3,At=new Vector3;let Mt=0;const Tt=(tt-_e)/nt;for(let St=0;St<=it;St++){const Ct=[],Et=St/it,Rt=Et*(tt-_e)+_e;for(let It=0;It<=rt;It++){const Ot=It/rt,kt=Ot*at+ot,$t=Math.sin(kt),jt=Math.cos(kt);At.x=Rt*$t,At.y=-Et*nt+dt,At.z=Rt*jt,ut.push(At.x,At.y,At.z),bt.set($t,Tt,jt).normalize(),ft.push(bt.x,bt.y,bt.z),ht.push(Ot,1-Et),Ct.push(pt++)}gt.push(Ct)}for(let St=0;St<rt;St++)for(let Ct=0;Ct<it;Ct++){const Et=gt[Ct][St],Rt=gt[Ct+1][St],It=gt[Ct+1][St+1],Ot=gt[Ct][St+1];ct.push(Et,Rt,Ot),ct.push(Rt,It,Ot),Mt+=6}lt.addGroup(vt,Mt,0),vt+=Mt}function _t(bt){const At=pt,Mt=new Vector2,Tt=new Vector3;let St=0;const Ct=bt===!0?_e:tt,Et=bt===!0?1:-1;for(let It=1;It<=rt;It++)ut.push(0,dt*Et,0),ft.push(0,Et,0),ht.push(.5,.5),pt++;const Rt=pt;for(let It=0;It<=rt;It++){const kt=It/rt*at+ot,$t=Math.cos(kt),jt=Math.sin(kt);Tt.x=Ct*jt,Tt.y=dt*Et,Tt.z=Ct*$t,ut.push(Tt.x,Tt.y,Tt.z),ft.push(0,Et,0),Mt.x=$t*.5+.5,Mt.y=jt*.5*Et+.5,ht.push(Mt.x,Mt.y),pt++}for(let It=0;It<rt;It++){const Ot=At+It,kt=Rt+It;bt===!0?ct.push(kt,kt+1,Ot):ct.push(kt+1,kt,Ot),St+=3}lt.addGroup(vt,St,bt===!0?1:2),vt+=St}}static fromJSON(_e){return new CylinderGeometry(_e.radiusTop,_e.radiusBottom,_e.height,_e.radialSegments,_e.heightSegments,_e.openEnded,_e.thetaStart,_e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(_e=1,tt=1,nt=8,rt=1,it=!1,st=0,ot=Math.PI*2){super(0,_e,tt,nt,rt,it,st,ot),this.type="ConeGeometry",this.parameters={radius:_e,height:tt,radialSegments:nt,heightSegments:rt,openEnded:it,thetaStart:st,thetaLength:ot}}static fromJSON(_e){return new ConeGeometry(_e.radius,_e.height,_e.radialSegments,_e.heightSegments,_e.openEnded,_e.thetaStart,_e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(_e=[],tt=[],nt=1,rt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:_e,indices:tt,radius:nt,detail:rt};const it=[],st=[];ot(rt),lt(nt),ct(),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(it.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),rt===0?this.computeVertexNormals():this.normalizeNormals();function ot(xt){const _t=new Vector3,bt=new Vector3,At=new Vector3;for(let Mt=0;Mt<tt.length;Mt+=3)ht(tt[Mt+0],_t),ht(tt[Mt+1],bt),ht(tt[Mt+2],At),at(_t,bt,At,xt)}function at(xt,_t,bt,At){const Mt=At+1,Tt=[];for(let St=0;St<=Mt;St++){Tt[St]=[];const Ct=xt.clone().lerp(bt,St/Mt),Et=_t.clone().lerp(bt,St/Mt),Rt=Mt-St;for(let It=0;It<=Rt;It++)It===0&&St===Mt?Tt[St][It]=Ct:Tt[St][It]=Ct.clone().lerp(Et,It/Rt)}for(let St=0;St<Mt;St++)for(let Ct=0;Ct<2*(Mt-St)-1;Ct++){const Et=Math.floor(Ct/2);Ct%2===0?(ft(Tt[St][Et+1]),ft(Tt[St+1][Et]),ft(Tt[St][Et])):(ft(Tt[St][Et+1]),ft(Tt[St+1][Et+1]),ft(Tt[St+1][Et]))}}function lt(xt){const _t=new Vector3;for(let bt=0;bt<it.length;bt+=3)_t.x=it[bt+0],_t.y=it[bt+1],_t.z=it[bt+2],_t.normalize().multiplyScalar(xt),it[bt+0]=_t.x,it[bt+1]=_t.y,it[bt+2]=_t.z}function ct(){const xt=new Vector3;for(let _t=0;_t<it.length;_t+=3){xt.x=it[_t+0],xt.y=it[_t+1],xt.z=it[_t+2];const bt=dt(xt)/2/Math.PI+.5,At=vt(xt)/Math.PI+.5;st.push(bt,1-At)}pt(),ut()}function ut(){for(let xt=0;xt<st.length;xt+=6){const _t=st[xt+0],bt=st[xt+2],At=st[xt+4],Mt=Math.max(_t,bt,At),Tt=Math.min(_t,bt,At);Mt>.9&&Tt<.1&&(_t<.2&&(st[xt+0]+=1),bt<.2&&(st[xt+2]+=1),At<.2&&(st[xt+4]+=1))}}function ft(xt){it.push(xt.x,xt.y,xt.z)}function ht(xt,_t){const bt=xt*3;_t.x=_e[bt+0],_t.y=_e[bt+1],_t.z=_e[bt+2]}function pt(){const xt=new Vector3,_t=new Vector3,bt=new Vector3,At=new Vector3,Mt=new Vector2,Tt=new Vector2,St=new Vector2;for(let Ct=0,Et=0;Ct<it.length;Ct+=9,Et+=6){xt.set(it[Ct+0],it[Ct+1],it[Ct+2]),_t.set(it[Ct+3],it[Ct+4],it[Ct+5]),bt.set(it[Ct+6],it[Ct+7],it[Ct+8]),Mt.set(st[Et+0],st[Et+1]),Tt.set(st[Et+2],st[Et+3]),St.set(st[Et+4],st[Et+5]),At.copy(xt).add(_t).add(bt).divideScalar(3);const Rt=dt(At);gt(Mt,Et+0,xt,Rt),gt(Tt,Et+2,_t,Rt),gt(St,Et+4,bt,Rt)}}function gt(xt,_t,bt,At){At<0&&xt.x===1&&(st[_t]=xt.x-1),bt.x===0&&bt.z===0&&(st[_t]=At/2/Math.PI+.5)}function dt(xt){return Math.atan2(xt.z,-xt.x)}function vt(xt){return Math.atan2(-xt.y,Math.sqrt(xt.x*xt.x+xt.z*xt.z))}}static fromJSON(_e){return new PolyhedronGeometry(_e.vertices,_e.indices,_e.radius,_e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const nt=(1+Math.sqrt(5))/2,rt=1/nt,it=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-rt,-nt,0,-rt,nt,0,rt,-nt,0,rt,nt,-rt,-nt,0,-rt,nt,0,rt,-nt,0,rt,nt,0,-nt,0,-rt,nt,0,-rt,-nt,0,rt,nt,0,rt],st=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(it,st,_e,tt),this.type="DodecahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new DodecahedronGeometry(_e.radius,_e.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(_e=null,tt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:_e,thresholdAngle:tt},_e!==null){const rt=Math.pow(10,4),it=Math.cos(DEG2RAD*tt),st=_e.getIndex(),ot=_e.getAttribute("position"),at=st?st.count:ot.count,lt=[0,0,0],ct=["a","b","c"],ut=new Array(3),ft={},ht=[];for(let pt=0;pt<at;pt+=3){st?(lt[0]=st.getX(pt),lt[1]=st.getX(pt+1),lt[2]=st.getX(pt+2)):(lt[0]=pt,lt[1]=pt+1,lt[2]=pt+2);const{a:gt,b:dt,c:vt}=_triangle;if(gt.fromBufferAttribute(ot,lt[0]),dt.fromBufferAttribute(ot,lt[1]),vt.fromBufferAttribute(ot,lt[2]),_triangle.getNormal(_normal),ut[0]=`${Math.round(gt.x*rt)},${Math.round(gt.y*rt)},${Math.round(gt.z*rt)}`,ut[1]=`${Math.round(dt.x*rt)},${Math.round(dt.y*rt)},${Math.round(dt.z*rt)}`,ut[2]=`${Math.round(vt.x*rt)},${Math.round(vt.y*rt)},${Math.round(vt.z*rt)}`,!(ut[0]===ut[1]||ut[1]===ut[2]||ut[2]===ut[0]))for(let xt=0;xt<3;xt++){const _t=(xt+1)%3,bt=ut[xt],At=ut[_t],Mt=_triangle[ct[xt]],Tt=_triangle[ct[_t]],St=`${bt}_${At}`,Ct=`${At}_${bt}`;Ct in ft&&ft[Ct]?(_normal.dot(ft[Ct].normal)<=it&&(ht.push(Mt.x,Mt.y,Mt.z),ht.push(Tt.x,Tt.y,Tt.z)),ft[Ct]=null):St in ft||(ft[St]={index0:lt[xt],index1:lt[_t],normal:_normal.clone()})}}for(const pt in ft)if(ft[pt]){const{index0:gt,index1:dt}=ft[pt];_v0.fromBufferAttribute(ot,gt),_v1$1.fromBufferAttribute(ot,dt),ht.push(_v0.x,_v0.y,_v0.z),ht.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ht,3))}}}class Shape extends Path{constructor(_e){super(_e),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(_e){const tt=[];for(let nt=0,rt=this.holes.length;nt<rt;nt++)tt[nt]=this.holes[nt].getPoints(_e);return tt}extractPoints(_e){return{shape:this.getPoints(_e),holes:this.getPointsHoles(_e)}}copy(_e){super.copy(_e),this.holes=[];for(let tt=0,nt=_e.holes.length;tt<nt;tt++){const rt=_e.holes[tt];this.holes.push(rt.clone())}return this}toJSON(){const _e=super.toJSON();_e.uuid=this.uuid,_e.holes=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++){const rt=this.holes[tt];_e.holes.push(rt.toJSON())}return _e}fromJSON(_e){super.fromJSON(_e),this.uuid=_e.uuid,this.holes=[];for(let tt=0,nt=_e.holes.length;tt<nt;tt++){const rt=_e.holes[tt];this.holes.push(new Path().fromJSON(rt))}return this}}const Earcut={triangulate:function(et,_e,tt=2){const nt=_e&&_e.length,rt=nt?_e[0]*tt:et.length;let it=linkedList(et,0,rt,tt,!0);const st=[];if(!it||it.next===it.prev)return st;let ot,at,lt,ct,ut,ft,ht;if(nt&&(it=eliminateHoles(et,_e,it,tt)),et.length>80*tt){ot=lt=et[0],at=ct=et[1];for(let pt=tt;pt<rt;pt+=tt)ut=et[pt],ft=et[pt+1],ut<ot&&(ot=ut),ft<at&&(at=ft),ut>lt&&(lt=ut),ft>ct&&(ct=ft);ht=Math.max(lt-ot,ct-at),ht=ht!==0?1/ht:0}return earcutLinked(it,st,tt,ot,at,ht),st}};function linkedList(et,_e,tt,nt,rt){let it,st;if(rt===signedArea(et,_e,tt,nt)>0)for(it=_e;it<tt;it+=nt)st=insertNode(it,et[it],et[it+1],st);else for(it=tt-nt;it>=_e;it-=nt)st=insertNode(it,et[it],et[it+1],st);return st&&equals(st,st.next)&&(removeNode(st),st=st.next),st}function filterPoints(et,_e){if(!et)return et;_e||(_e=et);let tt=et,nt;do if(nt=!1,!tt.steiner&&(equals(tt,tt.next)||area(tt.prev,tt,tt.next)===0)){if(removeNode(tt),tt=_e=tt.prev,tt===tt.next)break;nt=!0}else tt=tt.next;while(nt||tt!==_e);return _e}function earcutLinked(et,_e,tt,nt,rt,it,st){if(!et)return;!st&&it&&indexCurve(et,nt,rt,it);let ot=et,at,lt;for(;et.prev!==et.next;){if(at=et.prev,lt=et.next,it?isEarHashed(et,nt,rt,it):isEar(et)){_e.push(at.i/tt),_e.push(et.i/tt),_e.push(lt.i/tt),removeNode(et),et=lt.next,ot=lt.next;continue}if(et=lt,et===ot){st?st===1?(et=cureLocalIntersections(filterPoints(et),_e,tt),earcutLinked(et,_e,tt,nt,rt,it,2)):st===2&&splitEarcut(et,_e,tt,nt,rt,it):earcutLinked(filterPoints(et),_e,tt,nt,rt,it,1);break}}}function isEar(et){const _e=et.prev,tt=et,nt=et.next;if(area(_e,tt,nt)>=0)return!1;let rt=et.next.next;for(;rt!==et.prev;){if(pointInTriangle(_e.x,_e.y,tt.x,tt.y,nt.x,nt.y,rt.x,rt.y)&&area(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function isEarHashed(et,_e,tt,nt){const rt=et.prev,it=et,st=et.next;if(area(rt,it,st)>=0)return!1;const ot=rt.x<it.x?rt.x<st.x?rt.x:st.x:it.x<st.x?it.x:st.x,at=rt.y<it.y?rt.y<st.y?rt.y:st.y:it.y<st.y?it.y:st.y,lt=rt.x>it.x?rt.x>st.x?rt.x:st.x:it.x>st.x?it.x:st.x,ct=rt.y>it.y?rt.y>st.y?rt.y:st.y:it.y>st.y?it.y:st.y,ut=zOrder(ot,at,_e,tt,nt),ft=zOrder(lt,ct,_e,tt,nt);let ht=et.prevZ,pt=et.nextZ;for(;ht&&ht.z>=ut&&pt&&pt.z<=ft;){if(ht!==et.prev&&ht!==et.next&&pointInTriangle(rt.x,rt.y,it.x,it.y,st.x,st.y,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,pt!==et.prev&&pt!==et.next&&pointInTriangle(rt.x,rt.y,it.x,it.y,st.x,st.y,pt.x,pt.y)&&area(pt.prev,pt,pt.next)>=0))return!1;pt=pt.nextZ}for(;ht&&ht.z>=ut;){if(ht!==et.prev&&ht!==et.next&&pointInTriangle(rt.x,rt.y,it.x,it.y,st.x,st.y,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;pt&&pt.z<=ft;){if(pt!==et.prev&&pt!==et.next&&pointInTriangle(rt.x,rt.y,it.x,it.y,st.x,st.y,pt.x,pt.y)&&area(pt.prev,pt,pt.next)>=0)return!1;pt=pt.nextZ}return!0}function cureLocalIntersections(et,_e,tt){let nt=et;do{const rt=nt.prev,it=nt.next.next;!equals(rt,it)&&intersects(rt,nt,nt.next,it)&&locallyInside(rt,it)&&locallyInside(it,rt)&&(_e.push(rt.i/tt),_e.push(nt.i/tt),_e.push(it.i/tt),removeNode(nt),removeNode(nt.next),nt=et=it),nt=nt.next}while(nt!==et);return filterPoints(nt)}function splitEarcut(et,_e,tt,nt,rt,it){let st=et;do{let ot=st.next.next;for(;ot!==st.prev;){if(st.i!==ot.i&&isValidDiagonal(st,ot)){let at=splitPolygon(st,ot);st=filterPoints(st,st.next),at=filterPoints(at,at.next),earcutLinked(st,_e,tt,nt,rt,it),earcutLinked(at,_e,tt,nt,rt,it);return}ot=ot.next}st=st.next}while(st!==et)}function eliminateHoles(et,_e,tt,nt){const rt=[];let it,st,ot,at,lt;for(it=0,st=_e.length;it<st;it++)ot=_e[it]*nt,at=it<st-1?_e[it+1]*nt:et.length,lt=linkedList(et,ot,at,nt,!1),lt===lt.next&&(lt.steiner=!0),rt.push(getLeftmost(lt));for(rt.sort(compareX),it=0;it<rt.length;it++)eliminateHole(rt[it],tt),tt=filterPoints(tt,tt.next);return tt}function compareX(et,_e){return et.x-_e.x}function eliminateHole(et,_e){if(_e=findHoleBridge(et,_e),_e){const tt=splitPolygon(_e,et);filterPoints(_e,_e.next),filterPoints(tt,tt.next)}}function findHoleBridge(et,_e){let tt=_e;const nt=et.x,rt=et.y;let it=-1/0,st;do{if(rt<=tt.y&&rt>=tt.next.y&&tt.next.y!==tt.y){const ft=tt.x+(rt-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(ft<=nt&&ft>it){if(it=ft,ft===nt){if(rt===tt.y)return tt;if(rt===tt.next.y)return tt.next}st=tt.x<tt.next.x?tt:tt.next}}tt=tt.next}while(tt!==_e);if(!st)return null;if(nt===it)return st;const ot=st,at=st.x,lt=st.y;let ct=1/0,ut;tt=st;do nt>=tt.x&&tt.x>=at&&nt!==tt.x&&pointInTriangle(rt<lt?nt:it,rt,at,lt,rt<lt?it:nt,rt,tt.x,tt.y)&&(ut=Math.abs(rt-tt.y)/(nt-tt.x),locallyInside(tt,et)&&(ut<ct||ut===ct&&(tt.x>st.x||tt.x===st.x&&sectorContainsSector(st,tt)))&&(st=tt,ct=ut)),tt=tt.next;while(tt!==ot);return st}function sectorContainsSector(et,_e){return area(et.prev,et,_e.prev)<0&&area(_e.next,et,et.next)<0}function indexCurve(et,_e,tt,nt){let rt=et;do rt.z===null&&(rt.z=zOrder(rt.x,rt.y,_e,tt,nt)),rt.prevZ=rt.prev,rt.nextZ=rt.next,rt=rt.next;while(rt!==et);rt.prevZ.nextZ=null,rt.prevZ=null,sortLinked(rt)}function sortLinked(et){let _e,tt,nt,rt,it,st,ot,at,lt=1;do{for(tt=et,et=null,it=null,st=0;tt;){for(st++,nt=tt,ot=0,_e=0;_e<lt&&(ot++,nt=nt.nextZ,!!nt);_e++);for(at=lt;ot>0||at>0&&nt;)ot!==0&&(at===0||!nt||tt.z<=nt.z)?(rt=tt,tt=tt.nextZ,ot--):(rt=nt,nt=nt.nextZ,at--),it?it.nextZ=rt:et=rt,rt.prevZ=it,it=rt;tt=nt}it.nextZ=null,lt*=2}while(st>1);return et}function zOrder(et,_e,tt,nt,rt){return et=32767*(et-tt)*rt,_e=32767*(_e-nt)*rt,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,_e=(_e|_e<<8)&16711935,_e=(_e|_e<<4)&252645135,_e=(_e|_e<<2)&858993459,_e=(_e|_e<<1)&1431655765,et|_e<<1}function getLeftmost(et){let _e=et,tt=et;do(_e.x<tt.x||_e.x===tt.x&&_e.y<tt.y)&&(tt=_e),_e=_e.next;while(_e!==et);return tt}function pointInTriangle(et,_e,tt,nt,rt,it,st,ot){return(rt-st)*(_e-ot)-(et-st)*(it-ot)>=0&&(et-st)*(nt-ot)-(tt-st)*(_e-ot)>=0&&(tt-st)*(it-ot)-(rt-st)*(nt-ot)>=0}function isValidDiagonal(et,_e){return et.next.i!==_e.i&&et.prev.i!==_e.i&&!intersectsPolygon(et,_e)&&(locallyInside(et,_e)&&locallyInside(_e,et)&&middleInside(et,_e)&&(area(et.prev,et,_e.prev)||area(et,_e.prev,_e))||equals(et,_e)&&area(et.prev,et,et.next)>0&&area(_e.prev,_e,_e.next)>0)}function area(et,_e,tt){return(_e.y-et.y)*(tt.x-_e.x)-(_e.x-et.x)*(tt.y-_e.y)}function equals(et,_e){return et.x===_e.x&&et.y===_e.y}function intersects(et,_e,tt,nt){const rt=sign(area(et,_e,tt)),it=sign(area(et,_e,nt)),st=sign(area(tt,nt,et)),ot=sign(area(tt,nt,_e));return!!(rt!==it&&st!==ot||rt===0&&onSegment(et,tt,_e)||it===0&&onSegment(et,nt,_e)||st===0&&onSegment(tt,et,nt)||ot===0&&onSegment(tt,_e,nt))}function onSegment(et,_e,tt){return _e.x<=Math.max(et.x,tt.x)&&_e.x>=Math.min(et.x,tt.x)&&_e.y<=Math.max(et.y,tt.y)&&_e.y>=Math.min(et.y,tt.y)}function sign(et){return et>0?1:et<0?-1:0}function intersectsPolygon(et,_e){let tt=et;do{if(tt.i!==et.i&&tt.next.i!==et.i&&tt.i!==_e.i&&tt.next.i!==_e.i&&intersects(tt,tt.next,et,_e))return!0;tt=tt.next}while(tt!==et);return!1}function locallyInside(et,_e){return area(et.prev,et,et.next)<0?area(et,_e,et.next)>=0&&area(et,et.prev,_e)>=0:area(et,_e,et.prev)<0||area(et,et.next,_e)<0}function middleInside(et,_e){let tt=et,nt=!1;const rt=(et.x+_e.x)/2,it=(et.y+_e.y)/2;do tt.y>it!=tt.next.y>it&&tt.next.y!==tt.y&&rt<(tt.next.x-tt.x)*(it-tt.y)/(tt.next.y-tt.y)+tt.x&&(nt=!nt),tt=tt.next;while(tt!==et);return nt}function splitPolygon(et,_e){const tt=new Node(et.i,et.x,et.y),nt=new Node(_e.i,_e.x,_e.y),rt=et.next,it=_e.prev;return et.next=_e,_e.prev=et,tt.next=rt,rt.prev=tt,nt.next=tt,tt.prev=nt,it.next=nt,nt.prev=it,nt}function insertNode(et,_e,tt,nt){const rt=new Node(et,_e,tt);return nt?(rt.next=nt.next,rt.prev=nt,nt.next.prev=rt,nt.next=rt):(rt.prev=rt,rt.next=rt),rt}function removeNode(et){et.next.prev=et.prev,et.prev.next=et.next,et.prevZ&&(et.prevZ.nextZ=et.nextZ),et.nextZ&&(et.nextZ.prevZ=et.prevZ)}function Node(et,_e,tt){this.i=et,this.x=_e,this.y=tt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(et,_e,tt,nt){let rt=0;for(let it=_e,st=tt-nt;it<tt;it+=nt)rt+=(et[st]-et[it])*(et[it+1]+et[st+1]),st=it;return rt}class ShapeUtils{static area(_e){const tt=_e.length;let nt=0;for(let rt=tt-1,it=0;it<tt;rt=it++)nt+=_e[rt].x*_e[it].y-_e[it].x*_e[rt].y;return nt*.5}static isClockWise(_e){return ShapeUtils.area(_e)<0}static triangulateShape(_e,tt){const nt=[],rt=[],it=[];removeDupEndPts(_e),addContour(nt,_e);let st=_e.length;tt.forEach(removeDupEndPts);for(let at=0;at<tt.length;at++)rt.push(st),st+=tt[at].length,addContour(nt,tt[at]);const ot=Earcut.triangulate(nt,rt);for(let at=0;at<ot.length;at+=3)it.push(ot.slice(at,at+3));return it}}function removeDupEndPts(et){const _e=et.length;_e>2&&et[_e-1].equals(et[0])&&et.pop()}function addContour(et,_e){for(let tt=0;tt<_e.length;tt++)et.push(_e[tt].x),et.push(_e[tt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(_e=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:_e,options:tt},_e=Array.isArray(_e)?_e:[_e];const nt=this,rt=[],it=[];for(let ot=0,at=_e.length;ot<at;ot++){const lt=_e[ot];st(lt)}this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2)),this.computeVertexNormals();function st(ot){const at=[],lt=tt.curveSegments!==void 0?tt.curveSegments:12,ct=tt.steps!==void 0?tt.steps:1,ut=tt.depth!==void 0?tt.depth:1;let ft=tt.bevelEnabled!==void 0?tt.bevelEnabled:!0,ht=tt.bevelThickness!==void 0?tt.bevelThickness:.2,pt=tt.bevelSize!==void 0?tt.bevelSize:ht-.1,gt=tt.bevelOffset!==void 0?tt.bevelOffset:0,dt=tt.bevelSegments!==void 0?tt.bevelSegments:3;const vt=tt.extrudePath,xt=tt.UVGenerator!==void 0?tt.UVGenerator:WorldUVGenerator;let _t,bt=!1,At,Mt,Tt,St;vt&&(_t=vt.getSpacedPoints(ct),bt=!0,ft=!1,At=vt.computeFrenetFrames(ct,!1),Mt=new Vector3,Tt=new Vector3,St=new Vector3),ft||(dt=0,ht=0,pt=0,gt=0);const Ct=ot.extractPoints(lt);let Et=Ct.shape;const Rt=Ct.holes;if(!ShapeUtils.isClockWise(Et)){Et=Et.reverse();for(let Jt=0,Kt=Rt.length;Jt<Kt;Jt++){const nn=Rt[Jt];ShapeUtils.isClockWise(nn)&&(Rt[Jt]=nn.reverse())}}const Ot=ShapeUtils.triangulateShape(Et,Rt),kt=Et;for(let Jt=0,Kt=Rt.length;Jt<Kt;Jt++){const nn=Rt[Jt];Et=Et.concat(nn)}function $t(Jt,Kt,nn){return Kt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Kt.clone().multiplyScalar(nn).add(Jt)}const jt=Et.length,Ht=Ot.length;function Bt(Jt,Kt,nn){let fn,hn,bn;const un=Jt.x-Kt.x,gn=Jt.y-Kt.y,vn=nn.x-Jt.x,on=nn.y-Jt.y,Xt=un*un+gn*gn,zt=un*on-gn*vn;if(Math.abs(zt)>Number.EPSILON){const tn=Math.sqrt(Xt),pn=Math.sqrt(vn*vn+on*on),Sn=Kt.x-gn/tn,Pn=Kt.y+un/tn,Rn=nn.x-on/pn,Tn=nn.y+vn/pn,wn=((Rn-Sn)*on-(Tn-Pn)*vn)/(un*on-gn*vn);fn=Sn+un*wn-Jt.x,hn=Pn+gn*wn-Jt.y;const kn=fn*fn+hn*hn;if(kn<=2)return new Vector2(fn,hn);bn=Math.sqrt(kn/2)}else{let tn=!1;un>Number.EPSILON?vn>Number.EPSILON&&(tn=!0):un<-Number.EPSILON?vn<-Number.EPSILON&&(tn=!0):Math.sign(gn)===Math.sign(on)&&(tn=!0),tn?(fn=-gn,hn=un,bn=Math.sqrt(Xt)):(fn=un,hn=gn,bn=Math.sqrt(Xt/2))}return new Vector2(fn/bn,hn/bn)}const Lt=[];for(let Jt=0,Kt=kt.length,nn=Kt-1,fn=Jt+1;Jt<Kt;Jt++,nn++,fn++)nn===Kt&&(nn=0),fn===Kt&&(fn=0),Lt[Jt]=Bt(kt[Jt],kt[nn],kt[fn]);const Ft=[];let Vt,Yt=Lt.concat();for(let Jt=0,Kt=Rt.length;Jt<Kt;Jt++){const nn=Rt[Jt];Vt=[];for(let fn=0,hn=nn.length,bn=hn-1,un=fn+1;fn<hn;fn++,bn++,un++)bn===hn&&(bn=0),un===hn&&(un=0),Vt[fn]=Bt(nn[fn],nn[bn],nn[un]);Ft.push(Vt),Yt=Yt.concat(Vt)}for(let Jt=0;Jt<dt;Jt++){const Kt=Jt/dt,nn=ht*Math.cos(Kt*Math.PI/2),fn=pt*Math.sin(Kt*Math.PI/2)+gt;for(let hn=0,bn=kt.length;hn<bn;hn++){const un=$t(kt[hn],Lt[hn],fn);an(un.x,un.y,-nn)}for(let hn=0,bn=Rt.length;hn<bn;hn++){const un=Rt[hn];Vt=Ft[hn];for(let gn=0,vn=un.length;gn<vn;gn++){const on=$t(un[gn],Vt[gn],fn);an(on.x,on.y,-nn)}}}const rn=pt+gt;for(let Jt=0;Jt<jt;Jt++){const Kt=ft?$t(Et[Jt],Yt[Jt],rn):Et[Jt];bt?(Tt.copy(At.normals[0]).multiplyScalar(Kt.x),Mt.copy(At.binormals[0]).multiplyScalar(Kt.y),St.copy(_t[0]).add(Tt).add(Mt),an(St.x,St.y,St.z)):an(Kt.x,Kt.y,0)}for(let Jt=1;Jt<=ct;Jt++)for(let Kt=0;Kt<jt;Kt++){const nn=ft?$t(Et[Kt],Yt[Kt],rn):Et[Kt];bt?(Tt.copy(At.normals[Jt]).multiplyScalar(nn.x),Mt.copy(At.binormals[Jt]).multiplyScalar(nn.y),St.copy(_t[Jt]).add(Tt).add(Mt),an(St.x,St.y,St.z)):an(nn.x,nn.y,ut/ct*Jt)}for(let Jt=dt-1;Jt>=0;Jt--){const Kt=Jt/dt,nn=ht*Math.cos(Kt*Math.PI/2),fn=pt*Math.sin(Kt*Math.PI/2)+gt;for(let hn=0,bn=kt.length;hn<bn;hn++){const un=$t(kt[hn],Lt[hn],fn);an(un.x,un.y,ut+nn)}for(let hn=0,bn=Rt.length;hn<bn;hn++){const un=Rt[hn];Vt=Ft[hn];for(let gn=0,vn=un.length;gn<vn;gn++){const on=$t(un[gn],Vt[gn],fn);bt?an(on.x,on.y+_t[ct-1].y,_t[ct-1].x+nn):an(on.x,on.y,ut+nn)}}}sn(),cn();function sn(){const Jt=rt.length/3;if(ft){let Kt=0,nn=jt*Kt;for(let fn=0;fn<Ht;fn++){const hn=Ot[fn];Qt(hn[2]+nn,hn[1]+nn,hn[0]+nn)}Kt=ct+dt*2,nn=jt*Kt;for(let fn=0;fn<Ht;fn++){const hn=Ot[fn];Qt(hn[0]+nn,hn[1]+nn,hn[2]+nn)}}else{for(let Kt=0;Kt<Ht;Kt++){const nn=Ot[Kt];Qt(nn[2],nn[1],nn[0])}for(let Kt=0;Kt<Ht;Kt++){const nn=Ot[Kt];Qt(nn[0]+jt*ct,nn[1]+jt*ct,nn[2]+jt*ct)}}nt.addGroup(Jt,rt.length/3-Jt,0)}function cn(){const Jt=rt.length/3;let Kt=0;Zt(kt,Kt),Kt+=kt.length;for(let nn=0,fn=Rt.length;nn<fn;nn++){const hn=Rt[nn];Zt(hn,Kt),Kt+=hn.length}nt.addGroup(Jt,rt.length/3-Jt,1)}function Zt(Jt,Kt){let nn=Jt.length;for(;--nn>=0;){const fn=nn;let hn=nn-1;hn<0&&(hn=Jt.length-1);for(let bn=0,un=ct+dt*2;bn<un;bn++){const gn=jt*bn,vn=jt*(bn+1),on=Kt+fn+gn,Xt=Kt+hn+gn,zt=Kt+hn+vn,tn=Kt+fn+vn;Ut(on,Xt,zt,tn)}}}function an(Jt,Kt,nn){at.push(Jt),at.push(Kt),at.push(nn)}function Qt(Jt,Kt,nn){Gt(Jt),Gt(Kt),Gt(nn);const fn=rt.length/3,hn=xt.generateTopUV(nt,rt,fn-3,fn-2,fn-1);Wt(hn[0]),Wt(hn[1]),Wt(hn[2])}function Ut(Jt,Kt,nn,fn){Gt(Jt),Gt(Kt),Gt(fn),Gt(Kt),Gt(nn),Gt(fn);const hn=rt.length/3,bn=xt.generateSideWallUV(nt,rt,hn-6,hn-3,hn-2,hn-1);Wt(bn[0]),Wt(bn[1]),Wt(bn[3]),Wt(bn[1]),Wt(bn[2]),Wt(bn[3])}function Gt(Jt){rt.push(at[Jt*3+0]),rt.push(at[Jt*3+1]),rt.push(at[Jt*3+2])}function Wt(Jt){it.push(Jt.x),it.push(Jt.y)}}}toJSON(){const _e=super.toJSON(),tt=this.parameters.shapes,nt=this.parameters.options;return toJSON$1(tt,nt,_e)}static fromJSON(_e,tt){const nt=[];for(let it=0,st=_e.shapes.length;it<st;it++){const ot=tt[_e.shapes[it]];nt.push(ot)}const rt=_e.options.extrudePath;return rt!==void 0&&(_e.options.extrudePath=new Curves[rt.type]().fromJSON(rt)),new ExtrudeGeometry(nt,_e.options)}}const WorldUVGenerator={generateTopUV:function(et,_e,tt,nt,rt){const it=_e[tt*3],st=_e[tt*3+1],ot=_e[nt*3],at=_e[nt*3+1],lt=_e[rt*3],ct=_e[rt*3+1];return[new Vector2(it,st),new Vector2(ot,at),new Vector2(lt,ct)]},generateSideWallUV:function(et,_e,tt,nt,rt,it){const st=_e[tt*3],ot=_e[tt*3+1],at=_e[tt*3+2],lt=_e[nt*3],ct=_e[nt*3+1],ut=_e[nt*3+2],ft=_e[rt*3],ht=_e[rt*3+1],pt=_e[rt*3+2],gt=_e[it*3],dt=_e[it*3+1],vt=_e[it*3+2];return Math.abs(ot-ct)<Math.abs(st-lt)?[new Vector2(st,1-at),new Vector2(lt,1-ut),new Vector2(ft,1-pt),new Vector2(gt,1-vt)]:[new Vector2(ot,1-at),new Vector2(ct,1-ut),new Vector2(ht,1-pt),new Vector2(dt,1-vt)]}};function toJSON$1(et,_e,tt){if(tt.shapes=[],Array.isArray(et))for(let nt=0,rt=et.length;nt<rt;nt++){const it=et[nt];tt.shapes.push(it.uuid)}else tt.shapes.push(et.uuid);return tt.options=Object.assign({},_e),_e.extrudePath!==void 0&&(tt.options.extrudePath=_e.extrudePath.toJSON()),tt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const nt=(1+Math.sqrt(5))/2,rt=[-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,0,0,-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,nt,0,-1,nt,0,1,-nt,0,-1,-nt,0,1],it=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(rt,it,_e,tt),this.type="IcosahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new IcosahedronGeometry(_e.radius,_e.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const nt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],rt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(nt,rt,_e,tt),this.type="OctahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new OctahedronGeometry(_e.radius,_e.detail)}}class RingGeometry extends BufferGeometry{constructor(_e=.5,tt=1,nt=8,rt=1,it=0,st=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:_e,outerRadius:tt,thetaSegments:nt,phiSegments:rt,thetaStart:it,thetaLength:st},nt=Math.max(3,nt),rt=Math.max(1,rt);const ot=[],at=[],lt=[],ct=[];let ut=_e;const ft=(tt-_e)/rt,ht=new Vector3,pt=new Vector2;for(let gt=0;gt<=rt;gt++){for(let dt=0;dt<=nt;dt++){const vt=it+dt/nt*st;ht.x=ut*Math.cos(vt),ht.y=ut*Math.sin(vt),at.push(ht.x,ht.y,ht.z),lt.push(0,0,1),pt.x=(ht.x/tt+1)/2,pt.y=(ht.y/tt+1)/2,ct.push(pt.x,pt.y)}ut+=ft}for(let gt=0;gt<rt;gt++){const dt=gt*(nt+1);for(let vt=0;vt<nt;vt++){const xt=vt+dt,_t=xt,bt=xt+nt+1,At=xt+nt+2,Mt=xt+1;ot.push(_t,bt,Mt),ot.push(bt,At,Mt)}}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2))}static fromJSON(_e){return new RingGeometry(_e.innerRadius,_e.outerRadius,_e.thetaSegments,_e.phiSegments,_e.thetaStart,_e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(_e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:_e,curveSegments:tt};const nt=[],rt=[],it=[],st=[];let ot=0,at=0;if(Array.isArray(_e)===!1)lt(_e);else for(let ct=0;ct<_e.length;ct++)lt(_e[ct]),this.addGroup(ot,at,ct),ot+=at,at=0;this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2));function lt(ct){const ut=rt.length/3,ft=ct.extractPoints(tt);let ht=ft.shape;const pt=ft.holes;ShapeUtils.isClockWise(ht)===!1&&(ht=ht.reverse());for(let dt=0,vt=pt.length;dt<vt;dt++){const xt=pt[dt];ShapeUtils.isClockWise(xt)===!0&&(pt[dt]=xt.reverse())}const gt=ShapeUtils.triangulateShape(ht,pt);for(let dt=0,vt=pt.length;dt<vt;dt++){const xt=pt[dt];ht=ht.concat(xt)}for(let dt=0,vt=ht.length;dt<vt;dt++){const xt=ht[dt];rt.push(xt.x,xt.y,0),it.push(0,0,1),st.push(xt.x,xt.y)}for(let dt=0,vt=gt.length;dt<vt;dt++){const xt=gt[dt],_t=xt[0]+ut,bt=xt[1]+ut,At=xt[2]+ut;nt.push(_t,bt,At),at+=3}}}toJSON(){const _e=super.toJSON(),tt=this.parameters.shapes;return toJSON(tt,_e)}static fromJSON(_e,tt){const nt=[];for(let rt=0,it=_e.shapes.length;rt<it;rt++){const st=tt[_e.shapes[rt]];nt.push(st)}return new ShapeGeometry(nt,_e.curveSegments)}}function toJSON(et,_e){if(_e.shapes=[],Array.isArray(et))for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];_e.shapes.push(rt.uuid)}else _e.shapes.push(et.uuid);return _e}class SphereGeometry extends BufferGeometry{constructor(_e=1,tt=32,nt=16,rt=0,it=Math.PI*2,st=0,ot=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:_e,widthSegments:tt,heightSegments:nt,phiStart:rt,phiLength:it,thetaStart:st,thetaLength:ot},tt=Math.max(3,Math.floor(tt)),nt=Math.max(2,Math.floor(nt));const at=Math.min(st+ot,Math.PI);let lt=0;const ct=[],ut=new Vector3,ft=new Vector3,ht=[],pt=[],gt=[],dt=[];for(let vt=0;vt<=nt;vt++){const xt=[],_t=vt/nt;let bt=0;vt==0&&st==0?bt=.5/tt:vt==nt&&at==Math.PI&&(bt=-.5/tt);for(let At=0;At<=tt;At++){const Mt=At/tt;ut.x=-_e*Math.cos(rt+Mt*it)*Math.sin(st+_t*ot),ut.y=_e*Math.cos(st+_t*ot),ut.z=_e*Math.sin(rt+Mt*it)*Math.sin(st+_t*ot),pt.push(ut.x,ut.y,ut.z),ft.copy(ut).normalize(),gt.push(ft.x,ft.y,ft.z),dt.push(Mt+bt,1-_t),xt.push(lt++)}ct.push(xt)}for(let vt=0;vt<nt;vt++)for(let xt=0;xt<tt;xt++){const _t=ct[vt][xt+1],bt=ct[vt][xt],At=ct[vt+1][xt],Mt=ct[vt+1][xt+1];(vt!==0||st>0)&&ht.push(_t,bt,Mt),(vt!==nt-1||at<Math.PI)&&ht.push(bt,At,Mt)}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(pt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2))}static fromJSON(_e){return new SphereGeometry(_e.radius,_e.widthSegments,_e.heightSegments,_e.phiStart,_e.phiLength,_e.thetaStart,_e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const nt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],rt=[2,1,0,0,3,2,1,3,0,2,3,1];super(nt,rt,_e,tt),this.type="TetrahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new TetrahedronGeometry(_e.radius,_e.detail)}}class TorusGeometry extends BufferGeometry{constructor(_e=1,tt=.4,nt=8,rt=6,it=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:_e,tube:tt,radialSegments:nt,tubularSegments:rt,arc:it},nt=Math.floor(nt),rt=Math.floor(rt);const st=[],ot=[],at=[],lt=[],ct=new Vector3,ut=new Vector3,ft=new Vector3;for(let ht=0;ht<=nt;ht++)for(let pt=0;pt<=rt;pt++){const gt=pt/rt*it,dt=ht/nt*Math.PI*2;ut.x=(_e+tt*Math.cos(dt))*Math.cos(gt),ut.y=(_e+tt*Math.cos(dt))*Math.sin(gt),ut.z=tt*Math.sin(dt),ot.push(ut.x,ut.y,ut.z),ct.x=_e*Math.cos(gt),ct.y=_e*Math.sin(gt),ft.subVectors(ut,ct).normalize(),at.push(ft.x,ft.y,ft.z),lt.push(pt/rt),lt.push(ht/nt)}for(let ht=1;ht<=nt;ht++)for(let pt=1;pt<=rt;pt++){const gt=(rt+1)*ht+pt-1,dt=(rt+1)*(ht-1)+pt-1,vt=(rt+1)*(ht-1)+pt,xt=(rt+1)*ht+pt;st.push(gt,dt,xt),st.push(dt,vt,xt)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}static fromJSON(_e){return new TorusGeometry(_e.radius,_e.tube,_e.radialSegments,_e.tubularSegments,_e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(_e=1,tt=.4,nt=64,rt=8,it=2,st=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:_e,tube:tt,tubularSegments:nt,radialSegments:rt,p:it,q:st},nt=Math.floor(nt),rt=Math.floor(rt);const ot=[],at=[],lt=[],ct=[],ut=new Vector3,ft=new Vector3,ht=new Vector3,pt=new Vector3,gt=new Vector3,dt=new Vector3,vt=new Vector3;for(let _t=0;_t<=nt;++_t){const bt=_t/nt*it*Math.PI*2;xt(bt,it,st,_e,ht),xt(bt+.01,it,st,_e,pt),dt.subVectors(pt,ht),vt.addVectors(pt,ht),gt.crossVectors(dt,vt),vt.crossVectors(gt,dt),gt.normalize(),vt.normalize();for(let At=0;At<=rt;++At){const Mt=At/rt*Math.PI*2,Tt=-tt*Math.cos(Mt),St=tt*Math.sin(Mt);ut.x=ht.x+(Tt*vt.x+St*gt.x),ut.y=ht.y+(Tt*vt.y+St*gt.y),ut.z=ht.z+(Tt*vt.z+St*gt.z),at.push(ut.x,ut.y,ut.z),ft.subVectors(ut,ht).normalize(),lt.push(ft.x,ft.y,ft.z),ct.push(_t/nt),ct.push(At/rt)}}for(let _t=1;_t<=nt;_t++)for(let bt=1;bt<=rt;bt++){const At=(rt+1)*(_t-1)+(bt-1),Mt=(rt+1)*_t+(bt-1),Tt=(rt+1)*_t+bt,St=(rt+1)*(_t-1)+bt;ot.push(At,Mt,St),ot.push(Mt,Tt,St)}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2));function xt(_t,bt,At,Mt,Tt){const St=Math.cos(_t),Ct=Math.sin(_t),Et=At/bt*_t,Rt=Math.cos(Et);Tt.x=Mt*(2+Rt)*.5*St,Tt.y=Mt*(2+Rt)*Ct*.5,Tt.z=Mt*Math.sin(Et)*.5}}static fromJSON(_e){return new TorusKnotGeometry(_e.radius,_e.tube,_e.tubularSegments,_e.radialSegments,_e.p,_e.q)}}class TubeGeometry extends BufferGeometry{constructor(_e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),tt=64,nt=1,rt=8,it=!1){super(),this.type="TubeGeometry",this.parameters={path:_e,tubularSegments:tt,radius:nt,radialSegments:rt,closed:it};const st=_e.computeFrenetFrames(tt,it);this.tangents=st.tangents,this.normals=st.normals,this.binormals=st.binormals;const ot=new Vector3,at=new Vector3,lt=new Vector2;let ct=new Vector3;const ut=[],ft=[],ht=[],pt=[];gt(),this.setIndex(pt),this.setAttribute("position",new Float32BufferAttribute(ut,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2));function gt(){for(let _t=0;_t<tt;_t++)dt(_t);dt(it===!1?tt:0),xt(),vt()}function dt(_t){ct=_e.getPointAt(_t/tt,ct);const bt=st.normals[_t],At=st.binormals[_t];for(let Mt=0;Mt<=rt;Mt++){const Tt=Mt/rt*Math.PI*2,St=Math.sin(Tt),Ct=-Math.cos(Tt);at.x=Ct*bt.x+St*At.x,at.y=Ct*bt.y+St*At.y,at.z=Ct*bt.z+St*At.z,at.normalize(),ft.push(at.x,at.y,at.z),ot.x=ct.x+nt*at.x,ot.y=ct.y+nt*at.y,ot.z=ct.z+nt*at.z,ut.push(ot.x,ot.y,ot.z)}}function vt(){for(let _t=1;_t<=tt;_t++)for(let bt=1;bt<=rt;bt++){const At=(rt+1)*(_t-1)+(bt-1),Mt=(rt+1)*_t+(bt-1),Tt=(rt+1)*_t+bt,St=(rt+1)*(_t-1)+bt;pt.push(At,Mt,St),pt.push(Mt,Tt,St)}}function xt(){for(let _t=0;_t<=tt;_t++)for(let bt=0;bt<=rt;bt++)lt.x=_t/tt,lt.y=bt/rt,ht.push(lt.x,lt.y)}}toJSON(){const _e=super.toJSON();return _e.path=this.parameters.path.toJSON(),_e}static fromJSON(_e){return new TubeGeometry(new Curves[_e.path.type]().fromJSON(_e.path),_e.tubularSegments,_e.radius,_e.radialSegments,_e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(_e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:_e},_e!==null){const tt=[],nt=new Set,rt=new Vector3,it=new Vector3;if(_e.index!==null){const st=_e.attributes.position,ot=_e.index;let at=_e.groups;at.length===0&&(at=[{start:0,count:ot.count,materialIndex:0}]);for(let lt=0,ct=at.length;lt<ct;++lt){const ut=at[lt],ft=ut.start,ht=ut.count;for(let pt=ft,gt=ft+ht;pt<gt;pt+=3)for(let dt=0;dt<3;dt++){const vt=ot.getX(pt+dt),xt=ot.getX(pt+(dt+1)%3);rt.fromBufferAttribute(st,vt),it.fromBufferAttribute(st,xt),isUniqueEdge(rt,it,nt)===!0&&(tt.push(rt.x,rt.y,rt.z),tt.push(it.x,it.y,it.z))}}}else{const st=_e.attributes.position;for(let ot=0,at=st.count/3;ot<at;ot++)for(let lt=0;lt<3;lt++){const ct=3*ot+lt,ut=3*ot+(lt+1)%3;rt.fromBufferAttribute(st,ct),it.fromBufferAttribute(st,ut),isUniqueEdge(rt,it,nt)===!0&&(tt.push(rt.x,rt.y,rt.z),tt.push(it.x,it.y,it.z))}}this.setAttribute("position",new Float32BufferAttribute(tt,3))}}}function isUniqueEdge(et,_e,tt){const nt=`${et.x},${et.y},${et.z}-${_e.x},${_e.y},${_e.z}`,rt=`${_e.x},${_e.y},${_e.z}-${et.x},${et.y},${et.z}`;return tt.has(nt)===!0||tt.has(rt)===!0?!1:(tt.add(nt),tt.add(rt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(_e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$2(0),this.transparent=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.fog=_e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(_e){super(_e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(_e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color$2(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.defines={STANDARD:""},this.color.copy(_e.color),this.roughness=_e.roughness,this.metalness=_e.metalness,this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.roughnessMap=_e.roughnessMap,this.metalnessMap=_e.metalnessMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.envMapIntensity=_e.envMapIntensity,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(_e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$5(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(tt){this.ior=(1+.4*tt)/(1-.4*tt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$2(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$2(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$2(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(_e)}get sheen(){return this._sheen}set sheen(_e){this._sheen>0!=_e>0&&this.version++,this._sheen=_e}get clearcoat(){return this._clearcoat}set clearcoat(_e){this._clearcoat>0!=_e>0&&this.version++,this._clearcoat=_e}get iridescence(){return this._iridescence}set iridescence(_e){this._iridescence>0!=_e>0&&this.version++,this._iridescence=_e}get transmission(){return this._transmission}set transmission(_e){this._transmission>0!=_e>0&&this.version++,this._transmission=_e}copy(_e){return super.copy(_e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=_e.clearcoat,this.clearcoatMap=_e.clearcoatMap,this.clearcoatRoughness=_e.clearcoatRoughness,this.clearcoatRoughnessMap=_e.clearcoatRoughnessMap,this.clearcoatNormalMap=_e.clearcoatNormalMap,this.clearcoatNormalScale.copy(_e.clearcoatNormalScale),this.ior=_e.ior,this.iridescence=_e.iridescence,this.iridescenceMap=_e.iridescenceMap,this.iridescenceIOR=_e.iridescenceIOR,this.iridescenceThicknessRange=[..._e.iridescenceThicknessRange],this.iridescenceThicknessMap=_e.iridescenceThicknessMap,this.sheen=_e.sheen,this.sheenColor.copy(_e.sheenColor),this.sheenColorMap=_e.sheenColorMap,this.sheenRoughness=_e.sheenRoughness,this.sheenRoughnessMap=_e.sheenRoughnessMap,this.transmission=_e.transmission,this.transmissionMap=_e.transmissionMap,this.thickness=_e.thickness,this.thicknessMap=_e.thicknessMap,this.attenuationDistance=_e.attenuationDistance,this.attenuationColor.copy(_e.attenuationColor),this.specularIntensity=_e.specularIntensity,this.specularIntensityMap=_e.specularIntensityMap,this.specularColor.copy(_e.specularColor),this.specularColorMap=_e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(_e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$2(16777215),this.specular=new Color$2(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.specular.copy(_e.specular),this.shininess=_e.shininess,this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshToonMaterial extends Material{constructor(_e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$2(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.gradientMap=_e.gradientMap,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.alphaMap=_e.alphaMap,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.fog=_e.fog,this}}class MeshNormalMaterial extends Material{constructor(_e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(_e)}copy(_e){return super.copy(_e),this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.flatShading=_e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(_e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$2(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshMatcapMaterial extends Material{constructor(_e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$2(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.defines={MATCAP:""},this.color.copy(_e.color),this.matcap=_e.matcap,this.map=_e.map,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.alphaMap=_e.alphaMap,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(_e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(_e)}copy(_e){return super.copy(_e),this.scale=_e.scale,this.dashSize=_e.dashSize,this.gapSize=_e.gapSize,this}}function arraySlice(et,_e,tt){return isTypedArray(et)?new et.constructor(et.subarray(_e,tt!==void 0?tt:et.length)):et.slice(_e,tt)}function convertArray(et,_e,tt){return!et||!tt&&et.constructor===_e?et:typeof _e.BYTES_PER_ELEMENT=="number"?new _e(et):Array.prototype.slice.call(et)}function isTypedArray(et){return ArrayBuffer.isView(et)&&!(et instanceof DataView)}function getKeyframeOrder(et){function _e(rt,it){return et[rt]-et[it]}const tt=et.length,nt=new Array(tt);for(let rt=0;rt!==tt;++rt)nt[rt]=rt;return nt.sort(_e),nt}function sortedArray(et,_e,tt){const nt=et.length,rt=new et.constructor(nt);for(let it=0,st=0;st!==nt;++it){const ot=tt[it]*_e;for(let at=0;at!==_e;++at)rt[st++]=et[ot+at]}return rt}function flattenJSON(et,_e,tt,nt){let rt=1,it=et[0];for(;it!==void 0&&it[nt]===void 0;)it=et[rt++];if(it===void 0)return;let st=it[nt];if(st!==void 0)if(Array.isArray(st))do st=it[nt],st!==void 0&&(_e.push(it.time),tt.push.apply(tt,st)),it=et[rt++];while(it!==void 0);else if(st.toArray!==void 0)do st=it[nt],st!==void 0&&(_e.push(it.time),st.toArray(tt,tt.length)),it=et[rt++];while(it!==void 0);else do st=it[nt],st!==void 0&&(_e.push(it.time),tt.push(st)),it=et[rt++];while(it!==void 0)}function subclip(et,_e,tt,nt,rt=30){const it=et.clone();it.name=_e;const st=[];for(let at=0;at<it.tracks.length;++at){const lt=it.tracks[at],ct=lt.getValueSize(),ut=[],ft=[];for(let ht=0;ht<lt.times.length;++ht){const pt=lt.times[ht]*rt;if(!(pt<tt||pt>=nt)){ut.push(lt.times[ht]);for(let gt=0;gt<ct;++gt)ft.push(lt.values[ht*ct+gt])}}ut.length!==0&&(lt.times=convertArray(ut,lt.times.constructor),lt.values=convertArray(ft,lt.values.constructor),st.push(lt))}it.tracks=st;let ot=1/0;for(let at=0;at<it.tracks.length;++at)ot>it.tracks[at].times[0]&&(ot=it.tracks[at].times[0]);for(let at=0;at<it.tracks.length;++at)it.tracks[at].shift(-1*ot);return it.resetDuration(),it}function makeClipAdditive(et,_e=0,tt=et,nt=30){nt<=0&&(nt=30);const rt=tt.tracks.length,it=_e/nt;for(let st=0;st<rt;++st){const ot=tt.tracks[st],at=ot.ValueTypeName;if(at==="bool"||at==="string")continue;const lt=et.tracks.find(function(vt){return vt.name===ot.name&&vt.ValueTypeName===at});if(lt===void 0)continue;let ct=0;const ut=ot.getValueSize();ot.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ct=ut/3);let ft=0;const ht=lt.getValueSize();lt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ft=ht/3);const pt=ot.times.length-1;let gt;if(it<=ot.times[0]){const vt=ct,xt=ut-ct;gt=arraySlice(ot.values,vt,xt)}else if(it>=ot.times[pt]){const vt=pt*ut+ct,xt=vt+ut-ct;gt=arraySlice(ot.values,vt,xt)}else{const vt=ot.createInterpolant(),xt=ct,_t=ut-ct;vt.evaluate(it),gt=arraySlice(vt.resultBuffer,xt,_t)}at==="quaternion"&&new Quaternion().fromArray(gt).normalize().conjugate().toArray(gt);const dt=lt.times.length;for(let vt=0;vt<dt;++vt){const xt=vt*ht+ft;if(at==="quaternion")Quaternion.multiplyQuaternionsFlat(lt.values,xt,gt,0,lt.values,xt);else{const _t=ht-ft*2;for(let bt=0;bt<_t;++bt)lt.values[xt+bt]-=gt[bt]}}}return et.blendMode=AdditiveAnimationBlendMode,et}var AnimationUtils=Object.freeze({__proto__:null,arraySlice,convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive});class Interpolant{constructor(_e,tt,nt,rt){this.parameterPositions=_e,this._cachedIndex=0,this.resultBuffer=rt!==void 0?rt:new tt.constructor(nt),this.sampleValues=tt,this.valueSize=nt,this.settings=null,this.DefaultSettings_={}}evaluate(_e){const tt=this.parameterPositions;let nt=this._cachedIndex,rt=tt[nt],it=tt[nt-1];e:{t:{let st;n:{r:if(!(_e<rt)){for(let ot=nt+2;;){if(rt===void 0){if(_e<it)break r;return nt=tt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}if(nt===ot)break;if(it=rt,rt=tt[++nt],_e<rt)break t}st=tt.length;break n}if(!(_e>=it)){const ot=tt[1];_e<ot&&(nt=2,it=ot);for(let at=nt-2;;){if(it===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===at)break;if(rt=it,it=tt[--nt-1],_e>=it)break t}st=nt,nt=0;break n}break e}for(;nt<st;){const ot=nt+st>>>1;_e<tt[ot]?st=ot:nt=ot+1}if(rt=tt[nt],it=tt[nt-1],it===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(rt===void 0)return nt=tt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}this._cachedIndex=nt,this.intervalChanged_(nt,it,rt)}return this.interpolate_(nt,it,_e,rt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(_e){const tt=this.resultBuffer,nt=this.sampleValues,rt=this.valueSize,it=_e*rt;for(let st=0;st!==rt;++st)tt[st]=nt[it+st];return tt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(_e,tt,nt,rt){super(_e,tt,nt,rt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(_e,tt,nt){const rt=this.parameterPositions;let it=_e-2,st=_e+1,ot=rt[it],at=rt[st];if(ot===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:it=_e,ot=2*tt-nt;break;case WrapAroundEnding:it=rt.length-2,ot=tt+rt[it]-rt[it+1];break;default:it=_e,ot=nt}if(at===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:st=_e,at=2*nt-tt;break;case WrapAroundEnding:st=1,at=nt+rt[1]-rt[0];break;default:st=_e-1,at=tt}const lt=(nt-tt)*.5,ct=this.valueSize;this._weightPrev=lt/(tt-ot),this._weightNext=lt/(at-nt),this._offsetPrev=it*ct,this._offsetNext=st*ct}interpolate_(_e,tt,nt,rt){const it=this.resultBuffer,st=this.sampleValues,ot=this.valueSize,at=_e*ot,lt=at-ot,ct=this._offsetPrev,ut=this._offsetNext,ft=this._weightPrev,ht=this._weightNext,pt=(nt-tt)/(rt-tt),gt=pt*pt,dt=gt*pt,vt=-ft*dt+2*ft*gt-ft*pt,xt=(1+ft)*dt+(-1.5-2*ft)*gt+(-.5+ft)*pt+1,_t=(-1-ht)*dt+(1.5+ht)*gt+.5*pt,bt=ht*dt-ht*gt;for(let At=0;At!==ot;++At)it[At]=vt*st[ct+At]+xt*st[lt+At]+_t*st[at+At]+bt*st[ut+At];return it}}class LinearInterpolant extends Interpolant{constructor(_e,tt,nt,rt){super(_e,tt,nt,rt)}interpolate_(_e,tt,nt,rt){const it=this.resultBuffer,st=this.sampleValues,ot=this.valueSize,at=_e*ot,lt=at-ot,ct=(nt-tt)/(rt-tt),ut=1-ct;for(let ft=0;ft!==ot;++ft)it[ft]=st[lt+ft]*ut+st[at+ft]*ct;return it}}class DiscreteInterpolant extends Interpolant{constructor(_e,tt,nt,rt){super(_e,tt,nt,rt)}interpolate_(_e){return this.copySampleValue_(_e-1)}}class KeyframeTrack{constructor(_e,tt,nt,rt){if(_e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(tt===void 0||tt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+_e);this.name=_e,this.times=convertArray(tt,this.TimeBufferType),this.values=convertArray(nt,this.ValueBufferType),this.setInterpolation(rt||this.DefaultInterpolation)}static toJSON(_e){const tt=_e.constructor;let nt;if(tt.toJSON!==this.toJSON)nt=tt.toJSON(_e);else{nt={name:_e.name,times:convertArray(_e.times,Array),values:convertArray(_e.values,Array)};const rt=_e.getInterpolation();rt!==_e.DefaultInterpolation&&(nt.interpolation=rt)}return nt.type=_e.ValueTypeName,nt}InterpolantFactoryMethodDiscrete(_e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),_e)}InterpolantFactoryMethodLinear(_e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),_e)}InterpolantFactoryMethodSmooth(_e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),_e)}setInterpolation(_e){let tt;switch(_e){case InterpolateDiscrete:tt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:tt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:tt=this.InterpolantFactoryMethodSmooth;break}if(tt===void 0){const nt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(_e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(nt);return console.warn("THREE.KeyframeTrack:",nt),this}return this.createInterpolant=tt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(_e){if(_e!==0){const tt=this.times;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]+=_e}return this}scale(_e){if(_e!==1){const tt=this.times;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]*=_e}return this}trim(_e,tt){const nt=this.times,rt=nt.length;let it=0,st=rt-1;for(;it!==rt&&nt[it]<_e;)++it;for(;st!==-1&&nt[st]>tt;)--st;if(++st,it!==0||st!==rt){it>=st&&(st=Math.max(st,1),it=st-1);const ot=this.getValueSize();this.times=arraySlice(nt,it,st),this.values=arraySlice(this.values,it*ot,st*ot)}return this}validate(){let _e=!0;const tt=this.getValueSize();tt-Math.floor(tt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),_e=!1);const nt=this.times,rt=this.values,it=nt.length;it===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),_e=!1);let st=null;for(let ot=0;ot!==it;ot++){const at=nt[ot];if(typeof at=="number"&&isNaN(at)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,ot,at),_e=!1;break}if(st!==null&&st>at){console.error("THREE.KeyframeTrack: Out of order keys.",this,ot,at,st),_e=!1;break}st=at}if(rt!==void 0&&isTypedArray(rt))for(let ot=0,at=rt.length;ot!==at;++ot){const lt=rt[ot];if(isNaN(lt)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,ot,lt),_e=!1;break}}return _e}optimize(){const _e=arraySlice(this.times),tt=arraySlice(this.values),nt=this.getValueSize(),rt=this.getInterpolation()===InterpolateSmooth,it=_e.length-1;let st=1;for(let ot=1;ot<it;++ot){let at=!1;const lt=_e[ot],ct=_e[ot+1];if(lt!==ct&&(ot!==1||lt!==_e[0]))if(rt)at=!0;else{const ut=ot*nt,ft=ut-nt,ht=ut+nt;for(let pt=0;pt!==nt;++pt){const gt=tt[ut+pt];if(gt!==tt[ft+pt]||gt!==tt[ht+pt]){at=!0;break}}}if(at){if(ot!==st){_e[st]=_e[ot];const ut=ot*nt,ft=st*nt;for(let ht=0;ht!==nt;++ht)tt[ft+ht]=tt[ut+ht]}++st}}if(it>0){_e[st]=_e[it];for(let ot=it*nt,at=st*nt,lt=0;lt!==nt;++lt)tt[at+lt]=tt[ot+lt];++st}return st!==_e.length?(this.times=arraySlice(_e,0,st),this.values=arraySlice(tt,0,st*nt)):(this.times=_e,this.values=tt),this}clone(){const _e=arraySlice(this.times,0),tt=arraySlice(this.values,0),nt=this.constructor,rt=new nt(this.name,_e,tt);return rt.createInterpolant=this.createInterpolant,rt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(_e,tt,nt,rt){super(_e,tt,nt,rt)}interpolate_(_e,tt,nt,rt){const it=this.resultBuffer,st=this.sampleValues,ot=this.valueSize,at=(nt-tt)/(rt-tt);let lt=_e*ot;for(let ct=lt+ot;lt!==ct;lt+=4)Quaternion.slerpFlat(it,0,st,lt-ot,st,lt,at);return it}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(_e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),_e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(_e,tt=-1,nt,rt=NormalAnimationBlendMode){this.name=_e,this.tracks=nt,this.duration=tt,this.blendMode=rt,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(_e){const tt=[],nt=_e.tracks,rt=1/(_e.fps||1);for(let st=0,ot=nt.length;st!==ot;++st)tt.push(parseKeyframeTrack(nt[st]).scale(rt));const it=new this(_e.name,_e.duration,tt,_e.blendMode);return it.uuid=_e.uuid,it}static toJSON(_e){const tt=[],nt=_e.tracks,rt={name:_e.name,duration:_e.duration,tracks:tt,uuid:_e.uuid,blendMode:_e.blendMode};for(let it=0,st=nt.length;it!==st;++it)tt.push(KeyframeTrack.toJSON(nt[it]));return rt}static CreateFromMorphTargetSequence(_e,tt,nt,rt){const it=tt.length,st=[];for(let ot=0;ot<it;ot++){let at=[],lt=[];at.push((ot+it-1)%it,ot,(ot+1)%it),lt.push(0,1,0);const ct=getKeyframeOrder(at);at=sortedArray(at,1,ct),lt=sortedArray(lt,1,ct),!rt&&at[0]===0&&(at.push(it),lt.push(lt[0])),st.push(new NumberKeyframeTrack(".morphTargetInfluences["+tt[ot].name+"]",at,lt).scale(1/nt))}return new this(_e,-1,st)}static findByName(_e,tt){let nt=_e;if(!Array.isArray(_e)){const rt=_e;nt=rt.geometry&&rt.geometry.animations||rt.animations}for(let rt=0;rt<nt.length;rt++)if(nt[rt].name===tt)return nt[rt];return null}static CreateClipsFromMorphTargetSequences(_e,tt,nt){const rt={},it=/^([\w-]*?)([\d]+)$/;for(let ot=0,at=_e.length;ot<at;ot++){const lt=_e[ot],ct=lt.name.match(it);if(ct&&ct.length>1){const ut=ct[1];let ft=rt[ut];ft||(rt[ut]=ft=[]),ft.push(lt)}}const st=[];for(const ot in rt)st.push(this.CreateFromMorphTargetSequence(ot,rt[ot],tt,nt));return st}static parseAnimation(_e,tt){if(!_e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const nt=function(ut,ft,ht,pt,gt){if(ht.length!==0){const dt=[],vt=[];flattenJSON(ht,dt,vt,pt),dt.length!==0&&gt.push(new ut(ft,dt,vt))}},rt=[],it=_e.name||"default",st=_e.fps||30,ot=_e.blendMode;let at=_e.length||-1;const lt=_e.hierarchy||[];for(let ut=0;ut<lt.length;ut++){const ft=lt[ut].keys;if(!(!ft||ft.length===0))if(ft[0].morphTargets){const ht={};let pt;for(pt=0;pt<ft.length;pt++)if(ft[pt].morphTargets)for(let gt=0;gt<ft[pt].morphTargets.length;gt++)ht[ft[pt].morphTargets[gt]]=-1;for(const gt in ht){const dt=[],vt=[];for(let xt=0;xt!==ft[pt].morphTargets.length;++xt){const _t=ft[pt];dt.push(_t.time),vt.push(_t.morphTarget===gt?1:0)}rt.push(new NumberKeyframeTrack(".morphTargetInfluence["+gt+"]",dt,vt))}at=ht.length*st}else{const ht=".bones["+tt[ut].name+"]";nt(VectorKeyframeTrack,ht+".position",ft,"pos",rt),nt(QuaternionKeyframeTrack,ht+".quaternion",ft,"rot",rt),nt(VectorKeyframeTrack,ht+".scale",ft,"scl",rt)}}return rt.length===0?null:new this(it,at,rt,ot)}resetDuration(){const _e=this.tracks;let tt=0;for(let nt=0,rt=_e.length;nt!==rt;++nt){const it=this.tracks[nt];tt=Math.max(tt,it.times[it.times.length-1])}return this.duration=tt,this}trim(){for(let _e=0;_e<this.tracks.length;_e++)this.tracks[_e].trim(0,this.duration);return this}validate(){let _e=!0;for(let tt=0;tt<this.tracks.length;tt++)_e=_e&&this.tracks[tt].validate();return _e}optimize(){for(let _e=0;_e<this.tracks.length;_e++)this.tracks[_e].optimize();return this}clone(){const _e=[];for(let tt=0;tt<this.tracks.length;tt++)_e.push(this.tracks[tt].clone());return new this.constructor(this.name,this.duration,_e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(et){switch(et.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+et)}function parseKeyframeTrack(et){if(et.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const _e=getTrackTypeForValueTypeName(et.type);if(et.times===void 0){const tt=[],nt=[];flattenJSON(et.keys,tt,nt,"value"),et.times=tt,et.values=nt}return _e.parse!==void 0?_e.parse(et):new _e(et.name,et.times,et.values,et.interpolation)}const Cache={enabled:!1,files:{},add:function(et,_e){this.enabled!==!1&&(this.files[et]=_e)},get:function(et){if(this.enabled!==!1)return this.files[et]},remove:function(et){delete this.files[et]},clear:function(){this.files={}}};class LoadingManager{constructor(_e,tt,nt){const rt=this;let it=!1,st=0,ot=0,at;const lt=[];this.onStart=void 0,this.onLoad=_e,this.onProgress=tt,this.onError=nt,this.itemStart=function(ct){ot++,it===!1&&rt.onStart!==void 0&&rt.onStart(ct,st,ot),it=!0},this.itemEnd=function(ct){st++,rt.onProgress!==void 0&&rt.onProgress(ct,st,ot),st===ot&&(it=!1,rt.onLoad!==void 0&&rt.onLoad())},this.itemError=function(ct){rt.onError!==void 0&&rt.onError(ct)},this.resolveURL=function(ct){return at?at(ct):ct},this.setURLModifier=function(ct){return at=ct,this},this.addHandler=function(ct,ut){return lt.push(ct,ut),this},this.removeHandler=function(ct){const ut=lt.indexOf(ct);return ut!==-1&&lt.splice(ut,2),this},this.getHandler=function(ct){for(let ut=0,ft=lt.length;ut<ft;ut+=2){const ht=lt[ut],pt=lt[ut+1];if(ht.global&&(ht.lastIndex=0),ht.test(ct))return pt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(_e){this.manager=_e!==void 0?_e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(_e,tt){const nt=this;return new Promise(function(rt,it){nt.load(_e,rt,tt,it)})}parse(){}setCrossOrigin(_e){return this.crossOrigin=_e,this}setWithCredentials(_e){return this.withCredentials=_e,this}setPath(_e){return this.path=_e,this}setResourcePath(_e){return this.resourcePath=_e,this}setRequestHeader(_e){return this.requestHeader=_e,this}}const loading={};class HttpError extends Error{constructor(_e,tt){super(_e),this.response=tt}}class FileLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){_e===void 0&&(_e=""),this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const it=Cache.get(_e);if(it!==void 0)return this.manager.itemStart(_e),setTimeout(()=>{tt&&tt(it),this.manager.itemEnd(_e)},0),it;if(loading[_e]!==void 0){loading[_e].push({onLoad:tt,onProgress:nt,onError:rt});return}loading[_e]=[],loading[_e].push({onLoad:tt,onProgress:nt,onError:rt});const st=new Request(_e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),ot=this.mimeType,at=this.responseType;fetch(st).then(lt=>{if(lt.status===200||lt.status===0){if(lt.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||lt.body===void 0||lt.body.getReader===void 0)return lt;const ct=loading[_e],ut=lt.body.getReader(),ft=lt.headers.get("Content-Length"),ht=ft?parseInt(ft):0,pt=ht!==0;let gt=0;const dt=new ReadableStream({start(vt){xt();function xt(){ut.read().then(({done:_t,value:bt})=>{if(_t)vt.close();else{gt+=bt.byteLength;const At=new ProgressEvent("progress",{lengthComputable:pt,loaded:gt,total:ht});for(let Mt=0,Tt=ct.length;Mt<Tt;Mt++){const St=ct[Mt];St.onProgress&&St.onProgress(At)}vt.enqueue(bt),xt()}})}}});return new Response(dt)}else throw new HttpError(`fetch for "${lt.url}" responded with ${lt.status}: ${lt.statusText}`,lt)}).then(lt=>{switch(at){case"arraybuffer":return lt.arrayBuffer();case"blob":return lt.blob();case"document":return lt.text().then(ct=>new DOMParser().parseFromString(ct,ot));case"json":return lt.json();default:if(ot===void 0)return lt.text();{const ut=/charset="?([^;"\s]*)"?/i.exec(ot),ft=ut&&ut[1]?ut[1].toLowerCase():void 0,ht=new TextDecoder(ft);return lt.arrayBuffer().then(pt=>ht.decode(pt))}}}).then(lt=>{Cache.add(_e,lt);const ct=loading[_e];delete loading[_e];for(let ut=0,ft=ct.length;ut<ft;ut++){const ht=ct[ut];ht.onLoad&&ht.onLoad(lt)}}).catch(lt=>{const ct=loading[_e];if(ct===void 0)throw this.manager.itemError(_e),lt;delete loading[_e];for(let ut=0,ft=ct.length;ut<ft;ut++){const ht=ct[ut];ht.onError&&ht.onError(lt)}this.manager.itemError(_e)}).finally(()=>{this.manager.itemEnd(_e)}),this.manager.itemStart(_e)}setResponseType(_e){return this.responseType=_e,this}setMimeType(_e){return this.mimeType=_e,this}}class AnimationLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=this,st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(_e,function(ot){try{tt(it.parse(JSON.parse(ot)))}catch(at){rt?rt(at):console.error(at),it.manager.itemError(_e)}},nt,rt)}parse(_e){const tt=[];for(let nt=0;nt<_e.length;nt++){const rt=AnimationClip.parse(_e[nt]);tt.push(rt)}return tt}}class CompressedTextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=this,st=[],ot=new CompressedTexture,at=new FileLoader(this.manager);at.setPath(this.path),at.setResponseType("arraybuffer"),at.setRequestHeader(this.requestHeader),at.setWithCredentials(it.withCredentials);let lt=0;function ct(ut){at.load(_e[ut],function(ft){const ht=it.parse(ft,!0);st[ut]={width:ht.width,height:ht.height,format:ht.format,mipmaps:ht.mipmaps},lt+=1,lt===6&&(ht.mipmapCount===1&&(ot.minFilter=LinearFilter),ot.image=st,ot.format=ht.format,ot.needsUpdate=!0,tt&&tt(ot))},nt,rt)}if(Array.isArray(_e))for(let ut=0,ft=_e.length;ut<ft;++ut)ct(ut);else at.load(_e,function(ut){const ft=it.parse(ut,!0);if(ft.isCubemap){const ht=ft.mipmaps.length/ft.mipmapCount;for(let pt=0;pt<ht;pt++){st[pt]={mipmaps:[]};for(let gt=0;gt<ft.mipmapCount;gt++)st[pt].mipmaps.push(ft.mipmaps[pt*ft.mipmapCount+gt]),st[pt].format=ft.format,st[pt].width=ft.width,st[pt].height=ft.height}ot.image=st}else ot.image.width=ft.width,ot.image.height=ft.height,ot.mipmaps=ft.mipmaps;ft.mipmapCount===1&&(ot.minFilter=LinearFilter),ot.format=ft.format,ot.needsUpdate=!0,tt&&tt(ot)},nt,rt);return ot}}class ImageLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const it=this,st=Cache.get(_e);if(st!==void 0)return it.manager.itemStart(_e),setTimeout(function(){tt&&tt(st),it.manager.itemEnd(_e)},0),st;const ot=createElementNS("img");function at(){ct(),Cache.add(_e,this),tt&&tt(this),it.manager.itemEnd(_e)}function lt(ut){ct(),rt&&rt(ut),it.manager.itemError(_e),it.manager.itemEnd(_e)}function ct(){ot.removeEventListener("load",at,!1),ot.removeEventListener("error",lt,!1)}return ot.addEventListener("load",at,!1),ot.addEventListener("error",lt,!1),_e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(ot.crossOrigin=this.crossOrigin),it.manager.itemStart(_e),ot.src=_e,ot}}class CubeTextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=new CubeTexture,st=new ImageLoader(this.manager);st.setCrossOrigin(this.crossOrigin),st.setPath(this.path);let ot=0;function at(lt){st.load(_e[lt],function(ct){it.images[lt]=ct,ot++,ot===6&&(it.needsUpdate=!0,tt&&tt(it))},void 0,rt)}for(let lt=0;lt<_e.length;++lt)at(lt);return it}}class DataTextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=this,st=new DataTexture,ot=new FileLoader(this.manager);return ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setPath(this.path),ot.setWithCredentials(it.withCredentials),ot.load(_e,function(at){const lt=it.parse(at);!lt||(lt.image!==void 0?st.image=lt.image:lt.data!==void 0&&(st.image.width=lt.width,st.image.height=lt.height,st.image.data=lt.data),st.wrapS=lt.wrapS!==void 0?lt.wrapS:ClampToEdgeWrapping,st.wrapT=lt.wrapT!==void 0?lt.wrapT:ClampToEdgeWrapping,st.magFilter=lt.magFilter!==void 0?lt.magFilter:LinearFilter,st.minFilter=lt.minFilter!==void 0?lt.minFilter:LinearFilter,st.anisotropy=lt.anisotropy!==void 0?lt.anisotropy:1,lt.encoding!==void 0&&(st.encoding=lt.encoding),lt.flipY!==void 0&&(st.flipY=lt.flipY),lt.format!==void 0&&(st.format=lt.format),lt.type!==void 0&&(st.type=lt.type),lt.mipmaps!==void 0&&(st.mipmaps=lt.mipmaps,st.minFilter=LinearMipmapLinearFilter),lt.mipmapCount===1&&(st.minFilter=LinearFilter),lt.generateMipmaps!==void 0&&(st.generateMipmaps=lt.generateMipmaps),st.needsUpdate=!0,tt&&tt(st,lt))},nt,rt),st}}class TextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=new Texture,st=new ImageLoader(this.manager);return st.setCrossOrigin(this.crossOrigin),st.setPath(this.path),st.load(_e,function(ot){it.image=ot,it.needsUpdate=!0,tt!==void 0&&tt(it)},nt,rt),it}}class Light extends Object3D{constructor(_e,tt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$2(_e),this.intensity=tt}dispose(){}copy(_e,tt){return super.copy(_e,tt),this.color.copy(_e.color),this.intensity=_e.intensity,this}toJSON(_e){const tt=super.toJSON(_e);return tt.object.color=this.color.getHex(),tt.object.intensity=this.intensity,this.groundColor!==void 0&&(tt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(tt.object.distance=this.distance),this.angle!==void 0&&(tt.object.angle=this.angle),this.decay!==void 0&&(tt.object.decay=this.decay),this.penumbra!==void 0&&(tt.object.penumbra=this.penumbra),this.shadow!==void 0&&(tt.object.shadow=this.shadow.toJSON()),tt}}class HemisphereLight extends Light{constructor(_e,tt,nt){super(_e,nt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color$2(tt)}copy(_e,tt){return super.copy(_e,tt),this.groundColor.copy(_e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(_e){this.camera=_e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(_e){const tt=this.camera,nt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(_e.matrixWorld),tt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(_e.target.matrixWorld),tt.lookAt(_lookTarget$1),tt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),nt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),nt.multiply(_projScreenMatrix$1)}getViewport(_e){return this._viewports[_e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(_e){return this.camera=_e.camera.clone(),this.bias=_e.bias,this.radius=_e.radius,this.mapSize.copy(_e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const _e={};return this.bias!==0&&(_e.bias=this.bias),this.normalBias!==0&&(_e.normalBias=this.normalBias),this.radius!==1&&(_e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(_e.mapSize=this.mapSize.toArray()),_e.camera=this.camera.toJSON(!1).object,delete _e.camera.matrix,_e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(_e){const tt=this.camera,nt=RAD2DEG*2*_e.angle*this.focus,rt=this.mapSize.width/this.mapSize.height,it=_e.distance||tt.far;(nt!==tt.fov||rt!==tt.aspect||it!==tt.far)&&(tt.fov=nt,tt.aspect=rt,tt.far=it,tt.updateProjectionMatrix()),super.updateMatrices(_e)}copy(_e){return super.copy(_e),this.focus=_e.focus,this}}class SpotLight extends Light{constructor(_e,tt,nt=0,rt=Math.PI/3,it=0,st=1){super(_e,tt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.distance=nt,this.angle=rt,this.penumbra=it,this.decay=st,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(_e){this.intensity=_e/Math.PI}dispose(){this.shadow.dispose()}copy(_e,tt){return super.copy(_e,tt),this.distance=_e.distance,this.angle=_e.angle,this.penumbra=_e.penumbra,this.decay=_e.decay,this.target=_e.target.clone(),this.shadow=_e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(_e,tt=0){const nt=this.camera,rt=this.matrix,it=_e.distance||nt.far;it!==nt.far&&(nt.far=it,nt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(_e.matrixWorld),nt.position.copy(_lightPositionWorld),_lookTarget.copy(nt.position),_lookTarget.add(this._cubeDirections[tt]),nt.up.copy(this._cubeUps[tt]),nt.lookAt(_lookTarget),nt.updateMatrixWorld(),rt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(_e,tt,nt=0,rt=1){super(_e,tt),this.isPointLight=!0,this.type="PointLight",this.distance=nt,this.decay=rt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(_e){this.intensity=_e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(_e,tt){return super.copy(_e,tt),this.distance=_e.distance,this.decay=_e.decay,this.shadow=_e.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(_e,tt){super(_e,tt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(_e){return super.copy(_e),this.target=_e.target.clone(),this.shadow=_e.shadow.clone(),this}}class AmbientLight extends Light{constructor(_e,tt){super(_e,tt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(_e,tt,nt=10,rt=10){super(_e,tt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=nt,this.height=rt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(_e){this.intensity=_e/(this.width*this.height*Math.PI)}copy(_e){return super.copy(_e),this.width=_e.width,this.height=_e.height,this}toJSON(_e){const tt=super.toJSON(_e);return tt.object.width=this.width,tt.object.height=this.height,tt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let _e=0;_e<9;_e++)this.coefficients.push(new Vector3)}set(_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].copy(_e[tt]);return this}zero(){for(let _e=0;_e<9;_e++)this.coefficients[_e].set(0,0,0);return this}getAt(_e,tt){const nt=_e.x,rt=_e.y,it=_e.z,st=this.coefficients;return tt.copy(st[0]).multiplyScalar(.282095),tt.addScaledVector(st[1],.488603*rt),tt.addScaledVector(st[2],.488603*it),tt.addScaledVector(st[3],.488603*nt),tt.addScaledVector(st[4],1.092548*(nt*rt)),tt.addScaledVector(st[5],1.092548*(rt*it)),tt.addScaledVector(st[6],.315392*(3*it*it-1)),tt.addScaledVector(st[7],1.092548*(nt*it)),tt.addScaledVector(st[8],.546274*(nt*nt-rt*rt)),tt}getIrradianceAt(_e,tt){const nt=_e.x,rt=_e.y,it=_e.z,st=this.coefficients;return tt.copy(st[0]).multiplyScalar(.886227),tt.addScaledVector(st[1],2*.511664*rt),tt.addScaledVector(st[2],2*.511664*it),tt.addScaledVector(st[3],2*.511664*nt),tt.addScaledVector(st[4],2*.429043*nt*rt),tt.addScaledVector(st[5],2*.429043*rt*it),tt.addScaledVector(st[6],.743125*it*it-.247708),tt.addScaledVector(st[7],2*.429043*nt*it),tt.addScaledVector(st[8],.429043*(nt*nt-rt*rt)),tt}add(_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].add(_e.coefficients[tt]);return this}addScaledSH(_e,tt){for(let nt=0;nt<9;nt++)this.coefficients[nt].addScaledVector(_e.coefficients[nt],tt);return this}scale(_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].multiplyScalar(_e);return this}lerp(_e,tt){for(let nt=0;nt<9;nt++)this.coefficients[nt].lerp(_e.coefficients[nt],tt);return this}equals(_e){for(let tt=0;tt<9;tt++)if(!this.coefficients[tt].equals(_e.coefficients[tt]))return!1;return!0}copy(_e){return this.set(_e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(_e,tt=0){const nt=this.coefficients;for(let rt=0;rt<9;rt++)nt[rt].fromArray(_e,tt+rt*3);return this}toArray(_e=[],tt=0){const nt=this.coefficients;for(let rt=0;rt<9;rt++)nt[rt].toArray(_e,tt+rt*3);return _e}static getBasisAt(_e,tt){const nt=_e.x,rt=_e.y,it=_e.z;tt[0]=.282095,tt[1]=.488603*rt,tt[2]=.488603*it,tt[3]=.488603*nt,tt[4]=1.092548*nt*rt,tt[5]=1.092548*rt*it,tt[6]=.315392*(3*it*it-1),tt[7]=1.092548*nt*it,tt[8]=.546274*(nt*nt-rt*rt)}}class LightProbe extends Light{constructor(_e=new SphericalHarmonics3,tt=1){super(void 0,tt),this.isLightProbe=!0,this.sh=_e}copy(_e){return super.copy(_e),this.sh.copy(_e.sh),this}fromJSON(_e){return this.intensity=_e.intensity,this.sh.fromArray(_e.sh),this}toJSON(_e){const tt=super.toJSON(_e);return tt.object.sh=this.sh.toArray(),tt}}class MaterialLoader extends Loader{constructor(_e){super(_e),this.textures={}}load(_e,tt,nt,rt){const it=this,st=new FileLoader(it.manager);st.setPath(it.path),st.setRequestHeader(it.requestHeader),st.setWithCredentials(it.withCredentials),st.load(_e,function(ot){try{tt(it.parse(JSON.parse(ot)))}catch(at){rt?rt(at):console.error(at),it.manager.itemError(_e)}},nt,rt)}parse(_e){const tt=this.textures;function nt(it){return tt[it]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",it),tt[it]}const rt=MaterialLoader.createMaterialFromType(_e.type);if(_e.uuid!==void 0&&(rt.uuid=_e.uuid),_e.name!==void 0&&(rt.name=_e.name),_e.color!==void 0&&rt.color!==void 0&&rt.color.setHex(_e.color),_e.roughness!==void 0&&(rt.roughness=_e.roughness),_e.metalness!==void 0&&(rt.metalness=_e.metalness),_e.sheen!==void 0&&(rt.sheen=_e.sheen),_e.sheenColor!==void 0&&(rt.sheenColor=new Color$2().setHex(_e.sheenColor)),_e.sheenRoughness!==void 0&&(rt.sheenRoughness=_e.sheenRoughness),_e.emissive!==void 0&&rt.emissive!==void 0&&rt.emissive.setHex(_e.emissive),_e.specular!==void 0&&rt.specular!==void 0&&rt.specular.setHex(_e.specular),_e.specularIntensity!==void 0&&(rt.specularIntensity=_e.specularIntensity),_e.specularColor!==void 0&&rt.specularColor!==void 0&&rt.specularColor.setHex(_e.specularColor),_e.shininess!==void 0&&(rt.shininess=_e.shininess),_e.clearcoat!==void 0&&(rt.clearcoat=_e.clearcoat),_e.clearcoatRoughness!==void 0&&(rt.clearcoatRoughness=_e.clearcoatRoughness),_e.iridescence!==void 0&&(rt.iridescence=_e.iridescence),_e.iridescenceIOR!==void 0&&(rt.iridescenceIOR=_e.iridescenceIOR),_e.iridescenceThicknessRange!==void 0&&(rt.iridescenceThicknessRange=_e.iridescenceThicknessRange),_e.transmission!==void 0&&(rt.transmission=_e.transmission),_e.thickness!==void 0&&(rt.thickness=_e.thickness),_e.attenuationDistance!==void 0&&(rt.attenuationDistance=_e.attenuationDistance),_e.attenuationColor!==void 0&&rt.attenuationColor!==void 0&&rt.attenuationColor.setHex(_e.attenuationColor),_e.fog!==void 0&&(rt.fog=_e.fog),_e.flatShading!==void 0&&(rt.flatShading=_e.flatShading),_e.blending!==void 0&&(rt.blending=_e.blending),_e.combine!==void 0&&(rt.combine=_e.combine),_e.side!==void 0&&(rt.side=_e.side),_e.shadowSide!==void 0&&(rt.shadowSide=_e.shadowSide),_e.opacity!==void 0&&(rt.opacity=_e.opacity),_e.transparent!==void 0&&(rt.transparent=_e.transparent),_e.alphaTest!==void 0&&(rt.alphaTest=_e.alphaTest),_e.depthTest!==void 0&&(rt.depthTest=_e.depthTest),_e.depthWrite!==void 0&&(rt.depthWrite=_e.depthWrite),_e.colorWrite!==void 0&&(rt.colorWrite=_e.colorWrite),_e.stencilWrite!==void 0&&(rt.stencilWrite=_e.stencilWrite),_e.stencilWriteMask!==void 0&&(rt.stencilWriteMask=_e.stencilWriteMask),_e.stencilFunc!==void 0&&(rt.stencilFunc=_e.stencilFunc),_e.stencilRef!==void 0&&(rt.stencilRef=_e.stencilRef),_e.stencilFuncMask!==void 0&&(rt.stencilFuncMask=_e.stencilFuncMask),_e.stencilFail!==void 0&&(rt.stencilFail=_e.stencilFail),_e.stencilZFail!==void 0&&(rt.stencilZFail=_e.stencilZFail),_e.stencilZPass!==void 0&&(rt.stencilZPass=_e.stencilZPass),_e.wireframe!==void 0&&(rt.wireframe=_e.wireframe),_e.wireframeLinewidth!==void 0&&(rt.wireframeLinewidth=_e.wireframeLinewidth),_e.wireframeLinecap!==void 0&&(rt.wireframeLinecap=_e.wireframeLinecap),_e.wireframeLinejoin!==void 0&&(rt.wireframeLinejoin=_e.wireframeLinejoin),_e.rotation!==void 0&&(rt.rotation=_e.rotation),_e.linewidth!==1&&(rt.linewidth=_e.linewidth),_e.dashSize!==void 0&&(rt.dashSize=_e.dashSize),_e.gapSize!==void 0&&(rt.gapSize=_e.gapSize),_e.scale!==void 0&&(rt.scale=_e.scale),_e.polygonOffset!==void 0&&(rt.polygonOffset=_e.polygonOffset),_e.polygonOffsetFactor!==void 0&&(rt.polygonOffsetFactor=_e.polygonOffsetFactor),_e.polygonOffsetUnits!==void 0&&(rt.polygonOffsetUnits=_e.polygonOffsetUnits),_e.dithering!==void 0&&(rt.dithering=_e.dithering),_e.alphaToCoverage!==void 0&&(rt.alphaToCoverage=_e.alphaToCoverage),_e.premultipliedAlpha!==void 0&&(rt.premultipliedAlpha=_e.premultipliedAlpha),_e.visible!==void 0&&(rt.visible=_e.visible),_e.toneMapped!==void 0&&(rt.toneMapped=_e.toneMapped),_e.userData!==void 0&&(rt.userData=_e.userData),_e.vertexColors!==void 0&&(typeof _e.vertexColors=="number"?rt.vertexColors=_e.vertexColors>0:rt.vertexColors=_e.vertexColors),_e.uniforms!==void 0)for(const it in _e.uniforms){const st=_e.uniforms[it];switch(rt.uniforms[it]={},st.type){case"t":rt.uniforms[it].value=nt(st.value);break;case"c":rt.uniforms[it].value=new Color$2().setHex(st.value);break;case"v2":rt.uniforms[it].value=new Vector2().fromArray(st.value);break;case"v3":rt.uniforms[it].value=new Vector3().fromArray(st.value);break;case"v4":rt.uniforms[it].value=new Vector4().fromArray(st.value);break;case"m3":rt.uniforms[it].value=new Matrix3().fromArray(st.value);break;case"m4":rt.uniforms[it].value=new Matrix4().fromArray(st.value);break;default:rt.uniforms[it].value=st.value}}if(_e.defines!==void 0&&(rt.defines=_e.defines),_e.vertexShader!==void 0&&(rt.vertexShader=_e.vertexShader),_e.fragmentShader!==void 0&&(rt.fragmentShader=_e.fragmentShader),_e.glslVersion!==void 0&&(rt.glslVersion=_e.glslVersion),_e.extensions!==void 0)for(const it in _e.extensions)rt.extensions[it]=_e.extensions[it];if(_e.size!==void 0&&(rt.size=_e.size),_e.sizeAttenuation!==void 0&&(rt.sizeAttenuation=_e.sizeAttenuation),_e.map!==void 0&&(rt.map=nt(_e.map)),_e.matcap!==void 0&&(rt.matcap=nt(_e.matcap)),_e.alphaMap!==void 0&&(rt.alphaMap=nt(_e.alphaMap)),_e.bumpMap!==void 0&&(rt.bumpMap=nt(_e.bumpMap)),_e.bumpScale!==void 0&&(rt.bumpScale=_e.bumpScale),_e.normalMap!==void 0&&(rt.normalMap=nt(_e.normalMap)),_e.normalMapType!==void 0&&(rt.normalMapType=_e.normalMapType),_e.normalScale!==void 0){let it=_e.normalScale;Array.isArray(it)===!1&&(it=[it,it]),rt.normalScale=new Vector2().fromArray(it)}return _e.displacementMap!==void 0&&(rt.displacementMap=nt(_e.displacementMap)),_e.displacementScale!==void 0&&(rt.displacementScale=_e.displacementScale),_e.displacementBias!==void 0&&(rt.displacementBias=_e.displacementBias),_e.roughnessMap!==void 0&&(rt.roughnessMap=nt(_e.roughnessMap)),_e.metalnessMap!==void 0&&(rt.metalnessMap=nt(_e.metalnessMap)),_e.emissiveMap!==void 0&&(rt.emissiveMap=nt(_e.emissiveMap)),_e.emissiveIntensity!==void 0&&(rt.emissiveIntensity=_e.emissiveIntensity),_e.specularMap!==void 0&&(rt.specularMap=nt(_e.specularMap)),_e.specularIntensityMap!==void 0&&(rt.specularIntensityMap=nt(_e.specularIntensityMap)),_e.specularColorMap!==void 0&&(rt.specularColorMap=nt(_e.specularColorMap)),_e.envMap!==void 0&&(rt.envMap=nt(_e.envMap)),_e.envMapIntensity!==void 0&&(rt.envMapIntensity=_e.envMapIntensity),_e.reflectivity!==void 0&&(rt.reflectivity=_e.reflectivity),_e.refractionRatio!==void 0&&(rt.refractionRatio=_e.refractionRatio),_e.lightMap!==void 0&&(rt.lightMap=nt(_e.lightMap)),_e.lightMapIntensity!==void 0&&(rt.lightMapIntensity=_e.lightMapIntensity),_e.aoMap!==void 0&&(rt.aoMap=nt(_e.aoMap)),_e.aoMapIntensity!==void 0&&(rt.aoMapIntensity=_e.aoMapIntensity),_e.gradientMap!==void 0&&(rt.gradientMap=nt(_e.gradientMap)),_e.clearcoatMap!==void 0&&(rt.clearcoatMap=nt(_e.clearcoatMap)),_e.clearcoatRoughnessMap!==void 0&&(rt.clearcoatRoughnessMap=nt(_e.clearcoatRoughnessMap)),_e.clearcoatNormalMap!==void 0&&(rt.clearcoatNormalMap=nt(_e.clearcoatNormalMap)),_e.clearcoatNormalScale!==void 0&&(rt.clearcoatNormalScale=new Vector2().fromArray(_e.clearcoatNormalScale)),_e.iridescenceMap!==void 0&&(rt.iridescenceMap=nt(_e.iridescenceMap)),_e.iridescenceThicknessMap!==void 0&&(rt.iridescenceThicknessMap=nt(_e.iridescenceThicknessMap)),_e.transmissionMap!==void 0&&(rt.transmissionMap=nt(_e.transmissionMap)),_e.thicknessMap!==void 0&&(rt.thicknessMap=nt(_e.thicknessMap)),_e.sheenColorMap!==void 0&&(rt.sheenColorMap=nt(_e.sheenColorMap)),_e.sheenRoughnessMap!==void 0&&(rt.sheenRoughnessMap=nt(_e.sheenRoughnessMap)),rt}setTextures(_e){return this.textures=_e,this}static createMaterialFromType(_e){const tt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new tt[_e]}}class LoaderUtils{static decodeText(_e){if(typeof TextDecoder<"u")return new TextDecoder().decode(_e);let tt="";for(let nt=0,rt=_e.length;nt<rt;nt++)tt+=String.fromCharCode(_e[nt]);try{return decodeURIComponent(escape(tt))}catch{return tt}}static extractUrlBase(_e){const tt=_e.lastIndexOf("/");return tt===-1?"./":_e.slice(0,tt+1)}static resolveURL(_e,tt){return typeof _e!="string"||_e===""?"":(/^https?:\/\//i.test(tt)&&/^\//.test(_e)&&(tt=tt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(_e)||/^data:.*,.*$/i.test(_e)||/^blob:.*$/i.test(_e)?_e:tt+_e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(_e){return super.copy(_e),this.instanceCount=_e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const _e=super.toJSON(this);return _e.instanceCount=this.instanceCount,_e.isInstancedBufferGeometry=!0,_e}}class BufferGeometryLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=this,st=new FileLoader(it.manager);st.setPath(it.path),st.setRequestHeader(it.requestHeader),st.setWithCredentials(it.withCredentials),st.load(_e,function(ot){try{tt(it.parse(JSON.parse(ot)))}catch(at){rt?rt(at):console.error(at),it.manager.itemError(_e)}},nt,rt)}parse(_e){const tt={},nt={};function rt(ht,pt){if(tt[pt]!==void 0)return tt[pt];const dt=ht.interleavedBuffers[pt],vt=it(ht,dt.buffer),xt=getTypedArray(dt.type,vt),_t=new InterleavedBuffer(xt,dt.stride);return _t.uuid=dt.uuid,tt[pt]=_t,_t}function it(ht,pt){if(nt[pt]!==void 0)return nt[pt];const dt=ht.arrayBuffers[pt],vt=new Uint32Array(dt).buffer;return nt[pt]=vt,vt}const st=_e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,ot=_e.data.index;if(ot!==void 0){const ht=getTypedArray(ot.type,ot.array);st.setIndex(new BufferAttribute(ht,1))}const at=_e.data.attributes;for(const ht in at){const pt=at[ht];let gt;if(pt.isInterleavedBufferAttribute){const dt=rt(_e.data,pt.data);gt=new InterleavedBufferAttribute(dt,pt.itemSize,pt.offset,pt.normalized)}else{const dt=getTypedArray(pt.type,pt.array),vt=pt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;gt=new vt(dt,pt.itemSize,pt.normalized)}pt.name!==void 0&&(gt.name=pt.name),pt.usage!==void 0&&gt.setUsage(pt.usage),pt.updateRange!==void 0&&(gt.updateRange.offset=pt.updateRange.offset,gt.updateRange.count=pt.updateRange.count),st.setAttribute(ht,gt)}const lt=_e.data.morphAttributes;if(lt)for(const ht in lt){const pt=lt[ht],gt=[];for(let dt=0,vt=pt.length;dt<vt;dt++){const xt=pt[dt];let _t;if(xt.isInterleavedBufferAttribute){const bt=rt(_e.data,xt.data);_t=new InterleavedBufferAttribute(bt,xt.itemSize,xt.offset,xt.normalized)}else{const bt=getTypedArray(xt.type,xt.array);_t=new BufferAttribute(bt,xt.itemSize,xt.normalized)}xt.name!==void 0&&(_t.name=xt.name),gt.push(_t)}st.morphAttributes[ht]=gt}_e.data.morphTargetsRelative&&(st.morphTargetsRelative=!0);const ut=_e.data.groups||_e.data.drawcalls||_e.data.offsets;if(ut!==void 0)for(let ht=0,pt=ut.length;ht!==pt;++ht){const gt=ut[ht];st.addGroup(gt.start,gt.count,gt.materialIndex)}const ft=_e.data.boundingSphere;if(ft!==void 0){const ht=new Vector3;ft.center!==void 0&&ht.fromArray(ft.center),st.boundingSphere=new Sphere$1(ht,ft.radius)}return _e.name&&(st.name=_e.name),_e.userData&&(st.userData=_e.userData),st}}class ObjectLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=this,st=this.path===""?LoaderUtils.extractUrlBase(_e):this.path;this.resourcePath=this.resourcePath||st;const ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load(_e,function(at){let lt=null;try{lt=JSON.parse(at)}catch(ut){rt!==void 0&&rt(ut),console.error("THREE:ObjectLoader: Can't parse "+_e+".",ut.message);return}const ct=lt.metadata;if(ct===void 0||ct.type===void 0||ct.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+_e);return}it.parse(lt,tt)},nt,rt)}async loadAsync(_e,tt){const nt=this,rt=this.path===""?LoaderUtils.extractUrlBase(_e):this.path;this.resourcePath=this.resourcePath||rt;const it=new FileLoader(this.manager);it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials);const st=await it.loadAsync(_e,tt),ot=JSON.parse(st),at=ot.metadata;if(at===void 0||at.type===void 0||at.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+_e);return await nt.parseAsync(ot)}parse(_e,tt){const nt=this.parseAnimations(_e.animations),rt=this.parseShapes(_e.shapes),it=this.parseGeometries(_e.geometries,rt),st=this.parseImages(_e.images,function(){tt!==void 0&&tt(lt)}),ot=this.parseTextures(_e.textures,st),at=this.parseMaterials(_e.materials,ot),lt=this.parseObject(_e.object,it,at,ot,nt),ct=this.parseSkeletons(_e.skeletons,lt);if(this.bindSkeletons(lt,ct),tt!==void 0){let ut=!1;for(const ft in st)if(st[ft].data instanceof HTMLImageElement){ut=!0;break}ut===!1&&tt(lt)}return lt}async parseAsync(_e){const tt=this.parseAnimations(_e.animations),nt=this.parseShapes(_e.shapes),rt=this.parseGeometries(_e.geometries,nt),it=await this.parseImagesAsync(_e.images),st=this.parseTextures(_e.textures,it),ot=this.parseMaterials(_e.materials,st),at=this.parseObject(_e.object,rt,ot,st,tt),lt=this.parseSkeletons(_e.skeletons,at);return this.bindSkeletons(at,lt),at}parseShapes(_e){const tt={};if(_e!==void 0)for(let nt=0,rt=_e.length;nt<rt;nt++){const it=new Shape().fromJSON(_e[nt]);tt[it.uuid]=it}return tt}parseSkeletons(_e,tt){const nt={},rt={};if(tt.traverse(function(it){it.isBone&&(rt[it.uuid]=it)}),_e!==void 0)for(let it=0,st=_e.length;it<st;it++){const ot=new Skeleton().fromJSON(_e[it],rt);nt[ot.uuid]=ot}return nt}parseGeometries(_e,tt){const nt={};if(_e!==void 0){const rt=new BufferGeometryLoader;for(let it=0,st=_e.length;it<st;it++){let ot;const at=_e[it];switch(at.type){case"BufferGeometry":case"InstancedBufferGeometry":ot=rt.parse(at);break;default:at.type in Geometries?ot=Geometries[at.type].fromJSON(at,tt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${at.type}"`)}ot.uuid=at.uuid,at.name!==void 0&&(ot.name=at.name),ot.isBufferGeometry===!0&&at.userData!==void 0&&(ot.userData=at.userData),nt[at.uuid]=ot}}return nt}parseMaterials(_e,tt){const nt={},rt={};if(_e!==void 0){const it=new MaterialLoader;it.setTextures(tt);for(let st=0,ot=_e.length;st<ot;st++){const at=_e[st];nt[at.uuid]===void 0&&(nt[at.uuid]=it.parse(at)),rt[at.uuid]=nt[at.uuid]}}return rt}parseAnimations(_e){const tt={};if(_e!==void 0)for(let nt=0;nt<_e.length;nt++){const rt=_e[nt],it=AnimationClip.parse(rt);tt[it.uuid]=it}return tt}parseImages(_e,tt){const nt=this,rt={};let it;function st(at){return nt.manager.itemStart(at),it.load(at,function(){nt.manager.itemEnd(at)},void 0,function(){nt.manager.itemError(at),nt.manager.itemEnd(at)})}function ot(at){if(typeof at=="string"){const lt=at,ct=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(lt)?lt:nt.resourcePath+lt;return st(ct)}else return at.data?{data:getTypedArray(at.type,at.data),width:at.width,height:at.height}:null}if(_e!==void 0&&_e.length>0){const at=new LoadingManager(tt);it=new ImageLoader(at),it.setCrossOrigin(this.crossOrigin);for(let lt=0,ct=_e.length;lt<ct;lt++){const ut=_e[lt],ft=ut.url;if(Array.isArray(ft)){const ht=[];for(let pt=0,gt=ft.length;pt<gt;pt++){const dt=ft[pt],vt=ot(dt);vt!==null&&(vt instanceof HTMLImageElement?ht.push(vt):ht.push(new DataTexture(vt.data,vt.width,vt.height)))}rt[ut.uuid]=new Source(ht)}else{const ht=ot(ut.url);rt[ut.uuid]=new Source(ht)}}}return rt}async parseImagesAsync(_e){const tt=this,nt={};let rt;async function it(st){if(typeof st=="string"){const ot=st,at=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ot)?ot:tt.resourcePath+ot;return await rt.loadAsync(at)}else return st.data?{data:getTypedArray(st.type,st.data),width:st.width,height:st.height}:null}if(_e!==void 0&&_e.length>0){rt=new ImageLoader(this.manager),rt.setCrossOrigin(this.crossOrigin);for(let st=0,ot=_e.length;st<ot;st++){const at=_e[st],lt=at.url;if(Array.isArray(lt)){const ct=[];for(let ut=0,ft=lt.length;ut<ft;ut++){const ht=lt[ut],pt=await it(ht);pt!==null&&(pt instanceof HTMLImageElement?ct.push(pt):ct.push(new DataTexture(pt.data,pt.width,pt.height)))}nt[at.uuid]=new Source(ct)}else{const ct=await it(at.url);nt[at.uuid]=new Source(ct)}}}return nt}parseTextures(_e,tt){function nt(it,st){return typeof it=="number"?it:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",it),st[it])}const rt={};if(_e!==void 0)for(let it=0,st=_e.length;it<st;it++){const ot=_e[it];ot.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',ot.uuid),tt[ot.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",ot.image);const at=tt[ot.image],lt=at.data;let ct;Array.isArray(lt)?(ct=new CubeTexture,lt.length===6&&(ct.needsUpdate=!0)):(lt&&lt.data?ct=new DataTexture:ct=new Texture,lt&&(ct.needsUpdate=!0)),ct.source=at,ct.uuid=ot.uuid,ot.name!==void 0&&(ct.name=ot.name),ot.mapping!==void 0&&(ct.mapping=nt(ot.mapping,TEXTURE_MAPPING)),ot.offset!==void 0&&ct.offset.fromArray(ot.offset),ot.repeat!==void 0&&ct.repeat.fromArray(ot.repeat),ot.center!==void 0&&ct.center.fromArray(ot.center),ot.rotation!==void 0&&(ct.rotation=ot.rotation),ot.wrap!==void 0&&(ct.wrapS=nt(ot.wrap[0],TEXTURE_WRAPPING),ct.wrapT=nt(ot.wrap[1],TEXTURE_WRAPPING)),ot.format!==void 0&&(ct.format=ot.format),ot.type!==void 0&&(ct.type=ot.type),ot.encoding!==void 0&&(ct.encoding=ot.encoding),ot.minFilter!==void 0&&(ct.minFilter=nt(ot.minFilter,TEXTURE_FILTER)),ot.magFilter!==void 0&&(ct.magFilter=nt(ot.magFilter,TEXTURE_FILTER)),ot.anisotropy!==void 0&&(ct.anisotropy=ot.anisotropy),ot.flipY!==void 0&&(ct.flipY=ot.flipY),ot.premultiplyAlpha!==void 0&&(ct.premultiplyAlpha=ot.premultiplyAlpha),ot.unpackAlignment!==void 0&&(ct.unpackAlignment=ot.unpackAlignment),ot.userData!==void 0&&(ct.userData=ot.userData),rt[ot.uuid]=ct}return rt}parseObject(_e,tt,nt,rt,it){let st;function ot(ft){return tt[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ft),tt[ft]}function at(ft){if(ft!==void 0){if(Array.isArray(ft)){const ht=[];for(let pt=0,gt=ft.length;pt<gt;pt++){const dt=ft[pt];nt[dt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",dt),ht.push(nt[dt])}return ht}return nt[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ft),nt[ft]}}function lt(ft){return rt[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ft),rt[ft]}let ct,ut;switch(_e.type){case"Scene":st=new Scene,_e.background!==void 0&&(Number.isInteger(_e.background)?st.background=new Color$2(_e.background):st.background=lt(_e.background)),_e.environment!==void 0&&(st.environment=lt(_e.environment)),_e.fog!==void 0&&(_e.fog.type==="Fog"?st.fog=new Fog(_e.fog.color,_e.fog.near,_e.fog.far):_e.fog.type==="FogExp2"&&(st.fog=new FogExp2(_e.fog.color,_e.fog.density)));break;case"PerspectiveCamera":st=new PerspectiveCamera$1(_e.fov,_e.aspect,_e.near,_e.far),_e.focus!==void 0&&(st.focus=_e.focus),_e.zoom!==void 0&&(st.zoom=_e.zoom),_e.filmGauge!==void 0&&(st.filmGauge=_e.filmGauge),_e.filmOffset!==void 0&&(st.filmOffset=_e.filmOffset),_e.view!==void 0&&(st.view=Object.assign({},_e.view));break;case"OrthographicCamera":st=new OrthographicCamera(_e.left,_e.right,_e.top,_e.bottom,_e.near,_e.far),_e.zoom!==void 0&&(st.zoom=_e.zoom),_e.view!==void 0&&(st.view=Object.assign({},_e.view));break;case"AmbientLight":st=new AmbientLight(_e.color,_e.intensity);break;case"DirectionalLight":st=new DirectionalLight(_e.color,_e.intensity);break;case"PointLight":st=new PointLight(_e.color,_e.intensity,_e.distance,_e.decay);break;case"RectAreaLight":st=new RectAreaLight(_e.color,_e.intensity,_e.width,_e.height);break;case"SpotLight":st=new SpotLight(_e.color,_e.intensity,_e.distance,_e.angle,_e.penumbra,_e.decay);break;case"HemisphereLight":st=new HemisphereLight(_e.color,_e.groundColor,_e.intensity);break;case"LightProbe":st=new LightProbe().fromJSON(_e);break;case"SkinnedMesh":ct=ot(_e.geometry),ut=at(_e.material),st=new SkinnedMesh(ct,ut),_e.bindMode!==void 0&&(st.bindMode=_e.bindMode),_e.bindMatrix!==void 0&&st.bindMatrix.fromArray(_e.bindMatrix),_e.skeleton!==void 0&&(st.skeleton=_e.skeleton);break;case"Mesh":ct=ot(_e.geometry),ut=at(_e.material),st=new Mesh(ct,ut);break;case"InstancedMesh":ct=ot(_e.geometry),ut=at(_e.material);const ft=_e.count,ht=_e.instanceMatrix,pt=_e.instanceColor;st=new InstancedMesh(ct,ut,ft),st.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ht.array),16),pt!==void 0&&(st.instanceColor=new InstancedBufferAttribute(new Float32Array(pt.array),pt.itemSize));break;case"LOD":st=new LOD;break;case"Line":st=new Line(ot(_e.geometry),at(_e.material));break;case"LineLoop":st=new LineLoop(ot(_e.geometry),at(_e.material));break;case"LineSegments":st=new LineSegments(ot(_e.geometry),at(_e.material));break;case"PointCloud":case"Points":st=new Points$1(ot(_e.geometry),at(_e.material));break;case"Sprite":st=new Sprite(at(_e.material));break;case"Group":st=new Group;break;case"Bone":st=new Bone;break;default:st=new Object3D}if(st.uuid=_e.uuid,_e.name!==void 0&&(st.name=_e.name),_e.matrix!==void 0?(st.matrix.fromArray(_e.matrix),_e.matrixAutoUpdate!==void 0&&(st.matrixAutoUpdate=_e.matrixAutoUpdate),st.matrixAutoUpdate&&st.matrix.decompose(st.position,st.quaternion,st.scale)):(_e.position!==void 0&&st.position.fromArray(_e.position),_e.rotation!==void 0&&st.rotation.fromArray(_e.rotation),_e.quaternion!==void 0&&st.quaternion.fromArray(_e.quaternion),_e.scale!==void 0&&st.scale.fromArray(_e.scale)),_e.castShadow!==void 0&&(st.castShadow=_e.castShadow),_e.receiveShadow!==void 0&&(st.receiveShadow=_e.receiveShadow),_e.shadow&&(_e.shadow.bias!==void 0&&(st.shadow.bias=_e.shadow.bias),_e.shadow.normalBias!==void 0&&(st.shadow.normalBias=_e.shadow.normalBias),_e.shadow.radius!==void 0&&(st.shadow.radius=_e.shadow.radius),_e.shadow.mapSize!==void 0&&st.shadow.mapSize.fromArray(_e.shadow.mapSize),_e.shadow.camera!==void 0&&(st.shadow.camera=this.parseObject(_e.shadow.camera))),_e.visible!==void 0&&(st.visible=_e.visible),_e.frustumCulled!==void 0&&(st.frustumCulled=_e.frustumCulled),_e.renderOrder!==void 0&&(st.renderOrder=_e.renderOrder),_e.userData!==void 0&&(st.userData=_e.userData),_e.layers!==void 0&&(st.layers.mask=_e.layers),_e.children!==void 0){const ft=_e.children;for(let ht=0;ht<ft.length;ht++)st.add(this.parseObject(ft[ht],tt,nt,rt,it))}if(_e.animations!==void 0){const ft=_e.animations;for(let ht=0;ht<ft.length;ht++){const pt=ft[ht];st.animations.push(it[pt])}}if(_e.type==="LOD"){_e.autoUpdate!==void 0&&(st.autoUpdate=_e.autoUpdate);const ft=_e.levels;for(let ht=0;ht<ft.length;ht++){const pt=ft[ht],gt=st.getObjectByProperty("uuid",pt.object);gt!==void 0&&st.addLevel(gt,pt.distance)}}return st}bindSkeletons(_e,tt){Object.keys(tt).length!==0&&_e.traverse(function(nt){if(nt.isSkinnedMesh===!0&&nt.skeleton!==void 0){const rt=tt[nt.skeleton];rt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",nt.skeleton):nt.bind(rt,nt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(_e){super(_e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(_e){return this.options=_e,this}load(_e,tt,nt,rt){_e===void 0&&(_e=""),this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const it=this,st=Cache.get(_e);if(st!==void 0)return it.manager.itemStart(_e),setTimeout(function(){tt&&tt(st),it.manager.itemEnd(_e)},0),st;const ot={};ot.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",ot.headers=this.requestHeader,fetch(_e,ot).then(function(at){return at.blob()}).then(function(at){return createImageBitmap(at,Object.assign(it.options,{colorSpaceConversion:"none"}))}).then(function(at){Cache.add(_e,at),tt&&tt(at),it.manager.itemEnd(_e)}).catch(function(at){rt&&rt(at),it.manager.itemError(_e),it.manager.itemEnd(_e)}),it.manager.itemStart(_e)}}let _context;const AudioContext={getContext:function(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context},setContext:function(et){_context=et}};class AudioLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,nt,rt){const it=this,st=new FileLoader(this.manager);st.setResponseType("arraybuffer"),st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(_e,function(ot){try{const at=ot.slice(0);AudioContext.getContext().decodeAudioData(at,function(ct){tt(ct)})}catch(at){rt?rt(at):console.error(at),it.manager.itemError(_e)}},nt,rt)}}class HemisphereLightProbe extends LightProbe{constructor(_e,tt,nt=1){super(void 0,nt),this.isHemisphereLightProbe=!0;const rt=new Color$2().set(_e),it=new Color$2().set(tt),st=new Vector3(rt.r,rt.g,rt.b),ot=new Vector3(it.r,it.g,it.b),at=Math.sqrt(Math.PI),lt=at*Math.sqrt(.75);this.sh.coefficients[0].copy(st).add(ot).multiplyScalar(at),this.sh.coefficients[1].copy(st).sub(ot).multiplyScalar(lt)}}class AmbientLightProbe extends LightProbe{constructor(_e,tt=1){super(void 0,tt),this.isAmbientLightProbe=!0;const nt=new Color$2().set(_e);this.sh.coefficients[0].set(nt.r,nt.g,nt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(_e){const tt=this._cache;if(tt.focus!==_e.focus||tt.fov!==_e.fov||tt.aspect!==_e.aspect*this.aspect||tt.near!==_e.near||tt.far!==_e.far||tt.zoom!==_e.zoom||tt.eyeSep!==this.eyeSep){tt.focus=_e.focus,tt.fov=_e.fov,tt.aspect=_e.aspect*this.aspect,tt.near=_e.near,tt.far=_e.far,tt.zoom=_e.zoom,tt.eyeSep=this.eyeSep,_projectionMatrix.copy(_e.projectionMatrix);const rt=tt.eyeSep/2,it=rt*tt.near/tt.focus,st=tt.near*Math.tan(DEG2RAD*tt.fov*.5)/tt.zoom;let ot,at;_eyeLeft.elements[12]=-rt,_eyeRight.elements[12]=rt,ot=-st*tt.aspect+it,at=st*tt.aspect+it,_projectionMatrix.elements[0]=2*tt.near/(at-ot),_projectionMatrix.elements[8]=(at+ot)/(at-ot),this.cameraL.projectionMatrix.copy(_projectionMatrix),ot=-st*tt.aspect-it,at=st*tt.aspect-it,_projectionMatrix.elements[0]=2*tt.near/(at-ot),_projectionMatrix.elements[8]=(at+ot)/(at-ot),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(_e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(_e.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(_e=!0){this.autoStart=_e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let _e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const tt=now$2();_e=(tt-this.oldTime)/1e3,this.oldTime=tt,this.elapsedTime+=_e}return _e}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(_e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=_e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(_e){return this.gain.gain.setTargetAtTime(_e,this.context.currentTime,.01),this}updateMatrixWorld(_e){super.updateMatrixWorld(_e);const tt=this.context.listener,nt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),tt.positionX){const rt=this.context.currentTime+this.timeDelta;tt.positionX.linearRampToValueAtTime(_position$1.x,rt),tt.positionY.linearRampToValueAtTime(_position$1.y,rt),tt.positionZ.linearRampToValueAtTime(_position$1.z,rt),tt.forwardX.linearRampToValueAtTime(_orientation$1.x,rt),tt.forwardY.linearRampToValueAtTime(_orientation$1.y,rt),tt.forwardZ.linearRampToValueAtTime(_orientation$1.z,rt),tt.upX.linearRampToValueAtTime(nt.x,rt),tt.upY.linearRampToValueAtTime(nt.y,rt),tt.upZ.linearRampToValueAtTime(nt.z,rt)}else tt.setPosition(_position$1.x,_position$1.y,_position$1.z),tt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,nt.x,nt.y,nt.z)}}class Audio extends Object3D{constructor(_e){super(),this.type="Audio",this.listener=_e,this.context=_e.context,this.gain=this.context.createGain(),this.gain.connect(_e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(_e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=_e,this.connect(),this}setMediaElementSource(_e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(_e),this.connect(),this}setMediaStreamSource(_e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(_e),this.connect(),this}setBuffer(_e){return this.buffer=_e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(_e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+_e;const tt=this.context.createBufferSource();return tt.buffer=this.buffer,tt.loop=this.loop,tt.loopStart=this.loopStart,tt.loopEnd=this.loopEnd,tt.onended=this.onEnded.bind(this),tt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=tt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let _e=1,tt=this.filters.length;_e<tt;_e++)this.filters[_e-1].connect(this.filters[_e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let _e=1,tt=this.filters.length;_e<tt;_e++)this.filters[_e-1].disconnect(this.filters[_e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(_e){return _e||(_e=[]),this._connected===!0?(this.disconnect(),this.filters=_e.slice(),this.connect()):this.filters=_e.slice(),this}setDetune(_e){if(this.detune=_e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(_e){return this.setFilters(_e?[_e]:[])}setPlaybackRate(_e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=_e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(_e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=_e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(_e){return this.loopStart=_e,this}setLoopEnd(_e){return this.loopEnd=_e,this}getVolume(){return this.gain.gain.value}setVolume(_e){return this.gain.gain.setTargetAtTime(_e,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(_e){super(_e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(_e){return this.panner.refDistance=_e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(_e){return this.panner.rolloffFactor=_e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(_e){return this.panner.distanceModel=_e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(_e){return this.panner.maxDistance=_e,this}setDirectionalCone(_e,tt,nt){return this.panner.coneInnerAngle=_e,this.panner.coneOuterAngle=tt,this.panner.coneOuterGain=nt,this}updateMatrixWorld(_e){if(super.updateMatrixWorld(_e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const tt=this.panner;if(tt.positionX){const nt=this.context.currentTime+this.listener.timeDelta;tt.positionX.linearRampToValueAtTime(_position.x,nt),tt.positionY.linearRampToValueAtTime(_position.y,nt),tt.positionZ.linearRampToValueAtTime(_position.z,nt),tt.orientationX.linearRampToValueAtTime(_orientation.x,nt),tt.orientationY.linearRampToValueAtTime(_orientation.y,nt),tt.orientationZ.linearRampToValueAtTime(_orientation.z,nt)}else tt.setPosition(_position.x,_position.y,_position.z),tt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(_e,tt=2048){this.analyser=_e.context.createAnalyser(),this.analyser.fftSize=tt,this.data=new Uint8Array(this.analyser.frequencyBinCount),_e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let _e=0;const tt=this.getFrequencyData();for(let nt=0;nt<tt.length;nt++)_e+=tt[nt];return _e/tt.length}}class PropertyMixer{constructor(_e,tt,nt){this.binding=_e,this.valueSize=nt;let rt,it,st;switch(tt){case"quaternion":rt=this._slerp,it=this._slerpAdditive,st=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(nt*6),this._workIndex=5;break;case"string":case"bool":rt=this._select,it=this._select,st=this._setAdditiveIdentityOther,this.buffer=new Array(nt*5);break;default:rt=this._lerp,it=this._lerpAdditive,st=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(nt*5)}this._mixBufferRegion=rt,this._mixBufferRegionAdditive=it,this._setIdentity=st,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(_e,tt){const nt=this.buffer,rt=this.valueSize,it=_e*rt+rt;let st=this.cumulativeWeight;if(st===0){for(let ot=0;ot!==rt;++ot)nt[it+ot]=nt[ot];st=tt}else{st+=tt;const ot=tt/st;this._mixBufferRegion(nt,it,0,ot,rt)}this.cumulativeWeight=st}accumulateAdditive(_e){const tt=this.buffer,nt=this.valueSize,rt=nt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(tt,rt,0,_e,nt),this.cumulativeWeightAdditive+=_e}apply(_e){const tt=this.valueSize,nt=this.buffer,rt=_e*tt+tt,it=this.cumulativeWeight,st=this.cumulativeWeightAdditive,ot=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,it<1){const at=tt*this._origIndex;this._mixBufferRegion(nt,rt,at,1-it,tt)}st>0&&this._mixBufferRegionAdditive(nt,rt,this._addIndex*tt,1,tt);for(let at=tt,lt=tt+tt;at!==lt;++at)if(nt[at]!==nt[at+tt]){ot.setValue(nt,rt);break}}saveOriginalState(){const _e=this.binding,tt=this.buffer,nt=this.valueSize,rt=nt*this._origIndex;_e.getValue(tt,rt);for(let it=nt,st=rt;it!==st;++it)tt[it]=tt[rt+it%nt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const _e=this.valueSize*3;this.binding.setValue(this.buffer,_e)}_setAdditiveIdentityNumeric(){const _e=this._addIndex*this.valueSize,tt=_e+this.valueSize;for(let nt=_e;nt<tt;nt++)this.buffer[nt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const _e=this._origIndex*this.valueSize,tt=this._addIndex*this.valueSize;for(let nt=0;nt<this.valueSize;nt++)this.buffer[tt+nt]=this.buffer[_e+nt]}_select(_e,tt,nt,rt,it){if(rt>=.5)for(let st=0;st!==it;++st)_e[tt+st]=_e[nt+st]}_slerp(_e,tt,nt,rt){Quaternion.slerpFlat(_e,tt,_e,tt,_e,nt,rt)}_slerpAdditive(_e,tt,nt,rt,it){const st=this._workIndex*it;Quaternion.multiplyQuaternionsFlat(_e,st,_e,tt,_e,nt),Quaternion.slerpFlat(_e,tt,_e,tt,_e,st,rt)}_lerp(_e,tt,nt,rt,it){const st=1-rt;for(let ot=0;ot!==it;++ot){const at=tt+ot;_e[at]=_e[at]*st+_e[nt+ot]*rt}}_lerpAdditive(_e,tt,nt,rt,it){for(let st=0;st!==it;++st){const ot=tt+st;_e[ot]=_e[ot]+_e[nt+st]*rt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(_e,tt,nt){const rt=nt||PropertyBinding.parseTrackName(tt);this._targetGroup=_e,this._bindings=_e.subscribe_(tt,rt)}getValue(_e,tt){this.bind();const nt=this._targetGroup.nCachedObjects_,rt=this._bindings[nt];rt!==void 0&&rt.getValue(_e,tt)}setValue(_e,tt){const nt=this._bindings;for(let rt=this._targetGroup.nCachedObjects_,it=nt.length;rt!==it;++rt)nt[rt].setValue(_e,tt)}bind(){const _e=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,nt=_e.length;tt!==nt;++tt)_e[tt].bind()}unbind(){const _e=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,nt=_e.length;tt!==nt;++tt)_e[tt].unbind()}}class PropertyBinding{constructor(_e,tt,nt){this.path=tt,this.parsedPath=nt||PropertyBinding.parseTrackName(tt),this.node=PropertyBinding.findNode(_e,this.parsedPath.nodeName)||_e,this.rootNode=_e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(_e,tt,nt){return _e&&_e.isAnimationObjectGroup?new PropertyBinding.Composite(_e,tt,nt):new PropertyBinding(_e,tt,nt)}static sanitizeNodeName(_e){return _e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(_e){const tt=_trackRe.exec(_e);if(tt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+_e);const nt={nodeName:tt[2],objectName:tt[3],objectIndex:tt[4],propertyName:tt[5],propertyIndex:tt[6]},rt=nt.nodeName&&nt.nodeName.lastIndexOf(".");if(rt!==void 0&&rt!==-1){const it=nt.nodeName.substring(rt+1);_supportedObjectNames.indexOf(it)!==-1&&(nt.nodeName=nt.nodeName.substring(0,rt),nt.objectName=it)}if(nt.propertyName===null||nt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+_e);return nt}static findNode(_e,tt){if(tt===void 0||tt===""||tt==="."||tt===-1||tt===_e.name||tt===_e.uuid)return _e;if(_e.skeleton){const nt=_e.skeleton.getBoneByName(tt);if(nt!==void 0)return nt}if(_e.children){const nt=function(it){for(let st=0;st<it.length;st++){const ot=it[st];if(ot.name===tt||ot.uuid===tt)return ot;const at=nt(ot.children);if(at)return at}return null},rt=nt(_e.children);if(rt)return rt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(_e,tt){_e[tt]=this.targetObject[this.propertyName]}_getValue_array(_e,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)_e[tt++]=nt[rt]}_getValue_arrayElement(_e,tt){_e[tt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(_e,tt){this.resolvedProperty.toArray(_e,tt)}_setValue_direct(_e,tt){this.targetObject[this.propertyName]=_e[tt]}_setValue_direct_setNeedsUpdate(_e,tt){this.targetObject[this.propertyName]=_e[tt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(_e,tt){this.targetObject[this.propertyName]=_e[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(_e,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]=_e[tt++]}_setValue_array_setNeedsUpdate(_e,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]=_e[tt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(_e,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]=_e[tt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(_e,tt){this.resolvedProperty[this.propertyIndex]=_e[tt]}_setValue_arrayElement_setNeedsUpdate(_e,tt){this.resolvedProperty[this.propertyIndex]=_e[tt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(_e,tt){this.resolvedProperty[this.propertyIndex]=_e[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(_e,tt){this.resolvedProperty.fromArray(_e,tt)}_setValue_fromArray_setNeedsUpdate(_e,tt){this.resolvedProperty.fromArray(_e,tt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(_e,tt){this.resolvedProperty.fromArray(_e,tt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(_e,tt){this.bind(),this.getValue(_e,tt)}_setValue_unbound(_e,tt){this.bind(),this.setValue(_e,tt)}bind(){let _e=this.node;const tt=this.parsedPath,nt=tt.objectName,rt=tt.propertyName;let it=tt.propertyIndex;if(_e||(_e=PropertyBinding.findNode(this.rootNode,tt.nodeName)||this.rootNode,this.node=_e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!_e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(nt){let lt=tt.objectIndex;switch(nt){case"materials":if(!_e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}_e=_e.material.materials;break;case"bones":if(!_e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}_e=_e.skeleton.bones;for(let ct=0;ct<_e.length;ct++)if(_e[ct].name===lt){lt=ct;break}break;case"map":if("map"in _e){_e=_e.map;break}if(!_e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}_e=_e.material.map;break;default:if(_e[nt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}_e=_e[nt]}if(lt!==void 0){if(_e[lt]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,_e);return}_e=_e[lt]}}const st=_e[rt];if(st===void 0){const lt=tt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+lt+"."+rt+" but it wasn't found.",_e);return}let ot=this.Versioning.None;this.targetObject=_e,_e.needsUpdate!==void 0?ot=this.Versioning.NeedsUpdate:_e.matrixWorldNeedsUpdate!==void 0&&(ot=this.Versioning.MatrixWorldNeedsUpdate);let at=this.BindingType.Direct;if(it!==void 0){if(rt==="morphTargetInfluences"){if(!_e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!_e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}_e.morphTargetDictionary[it]!==void 0&&(it=_e.morphTargetDictionary[it])}at=this.BindingType.ArrayElement,this.resolvedProperty=st,this.propertyIndex=it}else st.fromArray!==void 0&&st.toArray!==void 0?(at=this.BindingType.HasFromToArray,this.resolvedProperty=st):Array.isArray(st)?(at=this.BindingType.EntireArray,this.resolvedProperty=st):this.propertyName=rt;this.getValue=this.GetterByBindingType[at],this.setValue=this.SetterByBindingTypeAndVersioning[at][ot]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const _e={};this._indicesByUUID=_e;for(let nt=0,rt=arguments.length;nt!==rt;++nt)_e[arguments[nt].uuid]=nt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const tt=this;this.stats={objects:{get total(){return tt._objects.length},get inUse(){return this.total-tt.nCachedObjects_}},get bindingsPerObject(){return tt._bindings.length}}}add(){const _e=this._objects,tt=this._indicesByUUID,nt=this._paths,rt=this._parsedPaths,it=this._bindings,st=it.length;let ot,at=_e.length,lt=this.nCachedObjects_;for(let ct=0,ut=arguments.length;ct!==ut;++ct){const ft=arguments[ct],ht=ft.uuid;let pt=tt[ht];if(pt===void 0){pt=at++,tt[ht]=pt,_e.push(ft);for(let gt=0,dt=st;gt!==dt;++gt)it[gt].push(new PropertyBinding(ft,nt[gt],rt[gt]))}else if(pt<lt){ot=_e[pt];const gt=--lt,dt=_e[gt];tt[dt.uuid]=pt,_e[pt]=dt,tt[ht]=gt,_e[gt]=ft;for(let vt=0,xt=st;vt!==xt;++vt){const _t=it[vt],bt=_t[gt];let At=_t[pt];_t[pt]=bt,At===void 0&&(At=new PropertyBinding(ft,nt[vt],rt[vt])),_t[gt]=At}}else _e[pt]!==ot&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=lt}remove(){const _e=this._objects,tt=this._indicesByUUID,nt=this._bindings,rt=nt.length;let it=this.nCachedObjects_;for(let st=0,ot=arguments.length;st!==ot;++st){const at=arguments[st],lt=at.uuid,ct=tt[lt];if(ct!==void 0&&ct>=it){const ut=it++,ft=_e[ut];tt[ft.uuid]=ct,_e[ct]=ft,tt[lt]=ut,_e[ut]=at;for(let ht=0,pt=rt;ht!==pt;++ht){const gt=nt[ht],dt=gt[ut],vt=gt[ct];gt[ct]=dt,gt[ut]=vt}}}this.nCachedObjects_=it}uncache(){const _e=this._objects,tt=this._indicesByUUID,nt=this._bindings,rt=nt.length;let it=this.nCachedObjects_,st=_e.length;for(let ot=0,at=arguments.length;ot!==at;++ot){const lt=arguments[ot],ct=lt.uuid,ut=tt[ct];if(ut!==void 0)if(delete tt[ct],ut<it){const ft=--it,ht=_e[ft],pt=--st,gt=_e[pt];tt[ht.uuid]=ut,_e[ut]=ht,tt[gt.uuid]=ft,_e[ft]=gt,_e.pop();for(let dt=0,vt=rt;dt!==vt;++dt){const xt=nt[dt],_t=xt[ft],bt=xt[pt];xt[ut]=_t,xt[ft]=bt,xt.pop()}}else{const ft=--st,ht=_e[ft];ft>0&&(tt[ht.uuid]=ut),_e[ut]=ht,_e.pop();for(let pt=0,gt=rt;pt!==gt;++pt){const dt=nt[pt];dt[ut]=dt[ft],dt.pop()}}}this.nCachedObjects_=it}subscribe_(_e,tt){const nt=this._bindingsIndicesByPath;let rt=nt[_e];const it=this._bindings;if(rt!==void 0)return it[rt];const st=this._paths,ot=this._parsedPaths,at=this._objects,lt=at.length,ct=this.nCachedObjects_,ut=new Array(lt);rt=it.length,nt[_e]=rt,st.push(_e),ot.push(tt),it.push(ut);for(let ft=ct,ht=at.length;ft!==ht;++ft){const pt=at[ft];ut[ft]=new PropertyBinding(pt,_e,tt)}return ut}unsubscribe_(_e){const tt=this._bindingsIndicesByPath,nt=tt[_e];if(nt!==void 0){const rt=this._paths,it=this._parsedPaths,st=this._bindings,ot=st.length-1,at=st[ot],lt=_e[ot];tt[lt]=nt,st[nt]=at,st.pop(),it[nt]=it[ot],it.pop(),rt[nt]=rt[ot],rt.pop()}}}class AnimationAction{constructor(_e,tt,nt=null,rt=tt.blendMode){this._mixer=_e,this._clip=tt,this._localRoot=nt,this.blendMode=rt;const it=tt.tracks,st=it.length,ot=new Array(st),at={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let lt=0;lt!==st;++lt){const ct=it[lt].createInterpolant(null);ot[lt]=ct,ct.settings=at}this._interpolantSettings=at,this._interpolants=ot,this._propertyBindings=new Array(st),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(_e){return this._startTime=_e,this}setLoop(_e,tt){return this.loop=_e,this.repetitions=tt,this}setEffectiveWeight(_e){return this.weight=_e,this._effectiveWeight=this.enabled?_e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(_e){return this._scheduleFading(_e,0,1)}fadeOut(_e){return this._scheduleFading(_e,1,0)}crossFadeFrom(_e,tt,nt){if(_e.fadeOut(tt),this.fadeIn(tt),nt){const rt=this._clip.duration,it=_e._clip.duration,st=it/rt,ot=rt/it;_e.warp(1,st,tt),this.warp(ot,1,tt)}return this}crossFadeTo(_e,tt,nt){return _e.crossFadeFrom(this,tt,nt)}stopFading(){const _e=this._weightInterpolant;return _e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(_e)),this}setEffectiveTimeScale(_e){return this.timeScale=_e,this._effectiveTimeScale=this.paused?0:_e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(_e){return this.timeScale=this._clip.duration/_e,this.stopWarping()}syncWith(_e){return this.time=_e.time,this.timeScale=_e.timeScale,this.stopWarping()}halt(_e){return this.warp(this._effectiveTimeScale,0,_e)}warp(_e,tt,nt){const rt=this._mixer,it=rt.time,st=this.timeScale;let ot=this._timeScaleInterpolant;ot===null&&(ot=rt._lendControlInterpolant(),this._timeScaleInterpolant=ot);const at=ot.parameterPositions,lt=ot.sampleValues;return at[0]=it,at[1]=it+nt,lt[0]=_e/st,lt[1]=tt/st,this}stopWarping(){const _e=this._timeScaleInterpolant;return _e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(_e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(_e,tt,nt,rt){if(!this.enabled){this._updateWeight(_e);return}const it=this._startTime;if(it!==null){const at=(_e-it)*nt;at<0||nt===0?tt=0:(this._startTime=null,tt=nt*at)}tt*=this._updateTimeScale(_e);const st=this._updateTime(tt),ot=this._updateWeight(_e);if(ot>0){const at=this._interpolants,lt=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ct=0,ut=at.length;ct!==ut;++ct)at[ct].evaluate(st),lt[ct].accumulateAdditive(ot);break;case NormalAnimationBlendMode:default:for(let ct=0,ut=at.length;ct!==ut;++ct)at[ct].evaluate(st),lt[ct].accumulate(rt,ot)}}}_updateWeight(_e){let tt=0;if(this.enabled){tt=this.weight;const nt=this._weightInterpolant;if(nt!==null){const rt=nt.evaluate(_e)[0];tt*=rt,_e>nt.parameterPositions[1]&&(this.stopFading(),rt===0&&(this.enabled=!1))}}return this._effectiveWeight=tt,tt}_updateTimeScale(_e){let tt=0;if(!this.paused){tt=this.timeScale;const nt=this._timeScaleInterpolant;nt!==null&&(tt*=nt.evaluate(_e)[0],_e>nt.parameterPositions[1]&&(this.stopWarping(),tt===0?this.paused=!0:this.timeScale=tt))}return this._effectiveTimeScale=tt,tt}_updateTime(_e){const tt=this._clip.duration,nt=this.loop;let rt=this.time+_e,it=this._loopCount;const st=nt===LoopPingPong;if(_e===0)return it===-1?rt:st&&(it&1)===1?tt-rt:rt;if(nt===LoopOnce){it===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(rt>=tt)rt=tt;else if(rt<0)rt=0;else{this.time=rt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=rt,this._mixer.dispatchEvent({type:"finished",action:this,direction:_e<0?-1:1})}}else{if(it===-1&&(_e>=0?(it=0,this._setEndings(!0,this.repetitions===0,st)):this._setEndings(this.repetitions===0,!0,st)),rt>=tt||rt<0){const ot=Math.floor(rt/tt);rt-=tt*ot,it+=Math.abs(ot);const at=this.repetitions-it;if(at<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,rt=_e>0?tt:0,this.time=rt,this._mixer.dispatchEvent({type:"finished",action:this,direction:_e>0?1:-1});else{if(at===1){const lt=_e<0;this._setEndings(lt,!lt,st)}else this._setEndings(!1,!1,st);this._loopCount=it,this.time=rt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:ot})}}else this.time=rt;if(st&&(it&1)===1)return tt-rt}return rt}_setEndings(_e,tt,nt){const rt=this._interpolantSettings;nt?(rt.endingStart=ZeroSlopeEnding,rt.endingEnd=ZeroSlopeEnding):(_e?rt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:rt.endingStart=WrapAroundEnding,tt?rt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:rt.endingEnd=WrapAroundEnding)}_scheduleFading(_e,tt,nt){const rt=this._mixer,it=rt.time;let st=this._weightInterpolant;st===null&&(st=rt._lendControlInterpolant(),this._weightInterpolant=st);const ot=st.parameterPositions,at=st.sampleValues;return ot[0]=it,at[0]=tt,ot[1]=it+_e,at[1]=nt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(_e){super(),this._root=_e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(_e,tt){const nt=_e._localRoot||this._root,rt=_e._clip.tracks,it=rt.length,st=_e._propertyBindings,ot=_e._interpolants,at=nt.uuid,lt=this._bindingsByRootAndName;let ct=lt[at];ct===void 0&&(ct={},lt[at]=ct);for(let ut=0;ut!==it;++ut){const ft=rt[ut],ht=ft.name;let pt=ct[ht];if(pt!==void 0)++pt.referenceCount,st[ut]=pt;else{if(pt=st[ut],pt!==void 0){pt._cacheIndex===null&&(++pt.referenceCount,this._addInactiveBinding(pt,at,ht));continue}const gt=tt&&tt._propertyBindings[ut].binding.parsedPath;pt=new PropertyMixer(PropertyBinding.create(nt,ht,gt),ft.ValueTypeName,ft.getValueSize()),++pt.referenceCount,this._addInactiveBinding(pt,at,ht),st[ut]=pt}ot[ut].resultBuffer=pt.buffer}}_activateAction(_e){if(!this._isActiveAction(_e)){if(_e._cacheIndex===null){const nt=(_e._localRoot||this._root).uuid,rt=_e._clip.uuid,it=this._actionsByClip[rt];this._bindAction(_e,it&&it.knownActions[0]),this._addInactiveAction(_e,rt,nt)}const tt=_e._propertyBindings;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];it.useCount++===0&&(this._lendBinding(it),it.saveOriginalState())}this._lendAction(_e)}}_deactivateAction(_e){if(this._isActiveAction(_e)){const tt=_e._propertyBindings;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];--it.useCount===0&&(it.restoreOriginalState(),this._takeBackBinding(it))}this._takeBackAction(_e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const _e=this;this.stats={actions:{get total(){return _e._actions.length},get inUse(){return _e._nActiveActions}},bindings:{get total(){return _e._bindings.length},get inUse(){return _e._nActiveBindings}},controlInterpolants:{get total(){return _e._controlInterpolants.length},get inUse(){return _e._nActiveControlInterpolants}}}}_isActiveAction(_e){const tt=_e._cacheIndex;return tt!==null&&tt<this._nActiveActions}_addInactiveAction(_e,tt,nt){const rt=this._actions,it=this._actionsByClip;let st=it[tt];if(st===void 0)st={knownActions:[_e],actionByRoot:{}},_e._byClipCacheIndex=0,it[tt]=st;else{const ot=st.knownActions;_e._byClipCacheIndex=ot.length,ot.push(_e)}_e._cacheIndex=rt.length,rt.push(_e),st.actionByRoot[nt]=_e}_removeInactiveAction(_e){const tt=this._actions,nt=tt[tt.length-1],rt=_e._cacheIndex;nt._cacheIndex=rt,tt[rt]=nt,tt.pop(),_e._cacheIndex=null;const it=_e._clip.uuid,st=this._actionsByClip,ot=st[it],at=ot.knownActions,lt=at[at.length-1],ct=_e._byClipCacheIndex;lt._byClipCacheIndex=ct,at[ct]=lt,at.pop(),_e._byClipCacheIndex=null;const ut=ot.actionByRoot,ft=(_e._localRoot||this._root).uuid;delete ut[ft],at.length===0&&delete st[it],this._removeInactiveBindingsForAction(_e)}_removeInactiveBindingsForAction(_e){const tt=_e._propertyBindings;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];--it.referenceCount===0&&this._removeInactiveBinding(it)}}_lendAction(_e){const tt=this._actions,nt=_e._cacheIndex,rt=this._nActiveActions++,it=tt[rt];_e._cacheIndex=rt,tt[rt]=_e,it._cacheIndex=nt,tt[nt]=it}_takeBackAction(_e){const tt=this._actions,nt=_e._cacheIndex,rt=--this._nActiveActions,it=tt[rt];_e._cacheIndex=rt,tt[rt]=_e,it._cacheIndex=nt,tt[nt]=it}_addInactiveBinding(_e,tt,nt){const rt=this._bindingsByRootAndName,it=this._bindings;let st=rt[tt];st===void 0&&(st={},rt[tt]=st),st[nt]=_e,_e._cacheIndex=it.length,it.push(_e)}_removeInactiveBinding(_e){const tt=this._bindings,nt=_e.binding,rt=nt.rootNode.uuid,it=nt.path,st=this._bindingsByRootAndName,ot=st[rt],at=tt[tt.length-1],lt=_e._cacheIndex;at._cacheIndex=lt,tt[lt]=at,tt.pop(),delete ot[it],Object.keys(ot).length===0&&delete st[rt]}_lendBinding(_e){const tt=this._bindings,nt=_e._cacheIndex,rt=this._nActiveBindings++,it=tt[rt];_e._cacheIndex=rt,tt[rt]=_e,it._cacheIndex=nt,tt[nt]=it}_takeBackBinding(_e){const tt=this._bindings,nt=_e._cacheIndex,rt=--this._nActiveBindings,it=tt[rt];_e._cacheIndex=rt,tt[rt]=_e,it._cacheIndex=nt,tt[nt]=it}_lendControlInterpolant(){const _e=this._controlInterpolants,tt=this._nActiveControlInterpolants++;let nt=_e[tt];return nt===void 0&&(nt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),nt.__cacheIndex=tt,_e[tt]=nt),nt}_takeBackControlInterpolant(_e){const tt=this._controlInterpolants,nt=_e.__cacheIndex,rt=--this._nActiveControlInterpolants,it=tt[rt];_e.__cacheIndex=rt,tt[rt]=_e,it.__cacheIndex=nt,tt[nt]=it}clipAction(_e,tt,nt){const rt=tt||this._root,it=rt.uuid;let st=typeof _e=="string"?AnimationClip.findByName(rt,_e):_e;const ot=st!==null?st.uuid:_e,at=this._actionsByClip[ot];let lt=null;if(nt===void 0&&(st!==null?nt=st.blendMode:nt=NormalAnimationBlendMode),at!==void 0){const ut=at.actionByRoot[it];if(ut!==void 0&&ut.blendMode===nt)return ut;lt=at.knownActions[0],st===null&&(st=lt._clip)}if(st===null)return null;const ct=new AnimationAction(this,st,tt,nt);return this._bindAction(ct,lt),this._addInactiveAction(ct,ot,it),ct}existingAction(_e,tt){const nt=tt||this._root,rt=nt.uuid,it=typeof _e=="string"?AnimationClip.findByName(nt,_e):_e,st=it?it.uuid:_e,ot=this._actionsByClip[st];return ot!==void 0&&ot.actionByRoot[rt]||null}stopAllAction(){const _e=this._actions,tt=this._nActiveActions;for(let nt=tt-1;nt>=0;--nt)_e[nt].stop();return this}update(_e){_e*=this.timeScale;const tt=this._actions,nt=this._nActiveActions,rt=this.time+=_e,it=Math.sign(_e),st=this._accuIndex^=1;for(let lt=0;lt!==nt;++lt)tt[lt]._update(rt,_e,it,st);const ot=this._bindings,at=this._nActiveBindings;for(let lt=0;lt!==at;++lt)ot[lt].apply(st);return this}setTime(_e){this.time=0;for(let tt=0;tt<this._actions.length;tt++)this._actions[tt].time=0;return this.update(_e)}getRoot(){return this._root}uncacheClip(_e){const tt=this._actions,nt=_e.uuid,rt=this._actionsByClip,it=rt[nt];if(it!==void 0){const st=it.knownActions;for(let ot=0,at=st.length;ot!==at;++ot){const lt=st[ot];this._deactivateAction(lt);const ct=lt._cacheIndex,ut=tt[tt.length-1];lt._cacheIndex=null,lt._byClipCacheIndex=null,ut._cacheIndex=ct,tt[ct]=ut,tt.pop(),this._removeInactiveBindingsForAction(lt)}delete rt[nt]}}uncacheRoot(_e){const tt=_e.uuid,nt=this._actionsByClip;for(const st in nt){const ot=nt[st].actionByRoot,at=ot[tt];at!==void 0&&(this._deactivateAction(at),this._removeInactiveAction(at))}const rt=this._bindingsByRootAndName,it=rt[tt];if(it!==void 0)for(const st in it){const ot=it[st];ot.restoreOriginalState(),this._removeInactiveBinding(ot)}}uncacheAction(_e,tt){const nt=this.existingAction(_e,tt);nt!==null&&(this._deactivateAction(nt),this._removeInactiveAction(nt))}}class Uniform{constructor(_e){this.value=_e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id$1=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id$1++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(_e){return this.uniforms.push(_e),this}remove(_e){const tt=this.uniforms.indexOf(_e);return tt!==-1&&this.uniforms.splice(tt,1),this}setName(_e){return this.name=_e,this}setUsage(_e){return this.usage=_e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(_e){this.name=_e.name,this.usage=_e.usage;const tt=_e.uniforms;this.uniforms.length=0;for(let nt=0,rt=tt.length;nt<rt;nt++)this.uniforms.push(tt[nt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(_e,tt,nt=1){super(_e,tt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=nt}copy(_e){return super.copy(_e),this.meshPerAttribute=_e.meshPerAttribute,this}clone(_e){const tt=super.clone(_e);return tt.meshPerAttribute=this.meshPerAttribute,tt}toJSON(_e){const tt=super.toJSON(_e);return tt.isInstancedInterleavedBuffer=!0,tt.meshPerAttribute=this.meshPerAttribute,tt}}class GLBufferAttribute{constructor(_e,tt,nt,rt,it){this.isGLBufferAttribute=!0,this.buffer=_e,this.type=tt,this.itemSize=nt,this.elementSize=rt,this.count=it,this.version=0}set needsUpdate(_e){_e===!0&&this.version++}setBuffer(_e){return this.buffer=_e,this}setType(_e,tt){return this.type=_e,this.elementSize=tt,this}setItemSize(_e){return this.itemSize=_e,this}setCount(_e){return this.count=_e,this}}class Raycaster{constructor(_e,tt,nt=0,rt=1/0){this.ray=new Ray(_e,tt),this.near=nt,this.far=rt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(_e,tt){this.ray.set(_e,tt)}setFromCamera(_e,tt){tt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(tt.matrixWorld),this.ray.direction.set(_e.x,_e.y,.5).unproject(tt).sub(this.ray.origin).normalize(),this.camera=tt):tt.isOrthographicCamera?(this.ray.origin.set(_e.x,_e.y,(tt.near+tt.far)/(tt.near-tt.far)).unproject(tt),this.ray.direction.set(0,0,-1).transformDirection(tt.matrixWorld),this.camera=tt):console.error("THREE.Raycaster: Unsupported camera type: "+tt.type)}intersectObject(_e,tt=!0,nt=[]){return intersectObject(_e,this,nt,tt),nt.sort(ascSort),nt}intersectObjects(_e,tt=!0,nt=[]){for(let rt=0,it=_e.length;rt<it;rt++)intersectObject(_e[rt],this,nt,tt);return nt.sort(ascSort),nt}}function ascSort(et,_e){return et.distance-_e.distance}function intersectObject(et,_e,tt,nt){if(et.layers.test(_e.layers)&&et.raycast(_e,tt),nt===!0){const rt=et.children;for(let it=0,st=rt.length;it<st;it++)intersectObject(rt[it],_e,tt,!0)}}class Spherical{constructor(_e=1,tt=0,nt=0){return this.radius=_e,this.phi=tt,this.theta=nt,this}set(_e,tt,nt){return this.radius=_e,this.phi=tt,this.theta=nt,this}copy(_e){return this.radius=_e.radius,this.phi=_e.phi,this.theta=_e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(_e){return this.setFromCartesianCoords(_e.x,_e.y,_e.z)}setFromCartesianCoords(_e,tt,nt){return this.radius=Math.sqrt(_e*_e+tt*tt+nt*nt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(_e,nt),this.phi=Math.acos(clamp$5(tt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(_e=1,tt=0,nt=0){return this.radius=_e,this.theta=tt,this.y=nt,this}set(_e,tt,nt){return this.radius=_e,this.theta=tt,this.y=nt,this}copy(_e){return this.radius=_e.radius,this.theta=_e.theta,this.y=_e.y,this}setFromVector3(_e){return this.setFromCartesianCoords(_e.x,_e.y,_e.z)}setFromCartesianCoords(_e,tt,nt){return this.radius=Math.sqrt(_e*_e+nt*nt),this.theta=Math.atan2(_e,nt),this.y=tt,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(_e=new Vector2(1/0,1/0),tt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=_e,this.max=tt}set(_e,tt){return this.min.copy(_e),this.max.copy(tt),this}setFromPoints(_e){this.makeEmpty();for(let tt=0,nt=_e.length;tt<nt;tt++)this.expandByPoint(_e[tt]);return this}setFromCenterAndSize(_e,tt){const nt=_vector$4.copy(tt).multiplyScalar(.5);return this.min.copy(_e).sub(nt),this.max.copy(_e).add(nt),this}clone(){return new this.constructor().copy(this)}copy(_e){return this.min.copy(_e.min),this.max.copy(_e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(_e){return this.isEmpty()?_e.set(0,0):_e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_e){return this.isEmpty()?_e.set(0,0):_e.subVectors(this.max,this.min)}expandByPoint(_e){return this.min.min(_e),this.max.max(_e),this}expandByVector(_e){return this.min.sub(_e),this.max.add(_e),this}expandByScalar(_e){return this.min.addScalar(-_e),this.max.addScalar(_e),this}containsPoint(_e){return!(_e.x<this.min.x||_e.x>this.max.x||_e.y<this.min.y||_e.y>this.max.y)}containsBox(_e){return this.min.x<=_e.min.x&&_e.max.x<=this.max.x&&this.min.y<=_e.min.y&&_e.max.y<=this.max.y}getParameter(_e,tt){return tt.set((_e.x-this.min.x)/(this.max.x-this.min.x),(_e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(_e){return!(_e.max.x<this.min.x||_e.min.x>this.max.x||_e.max.y<this.min.y||_e.min.y>this.max.y)}clampPoint(_e,tt){return tt.copy(_e).clamp(this.min,this.max)}distanceToPoint(_e){return _vector$4.copy(_e).clamp(this.min,this.max).sub(_e).length()}intersect(_e){return this.min.max(_e.min),this.max.min(_e.max),this}union(_e){return this.min.min(_e.min),this.max.max(_e.max),this}translate(_e){return this.min.add(_e),this.max.add(_e),this}equals(_e){return _e.min.equals(this.min)&&_e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(_e=new Vector3,tt=new Vector3){this.start=_e,this.end=tt}set(_e,tt){return this.start.copy(_e),this.end.copy(tt),this}copy(_e){return this.start.copy(_e.start),this.end.copy(_e.end),this}getCenter(_e){return _e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(_e){return _e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(_e,tt){return this.delta(tt).multiplyScalar(_e).add(this.start)}closestPointToPointParameter(_e,tt){_startP.subVectors(_e,this.start),_startEnd.subVectors(this.end,this.start);const nt=_startEnd.dot(_startEnd);let it=_startEnd.dot(_startP)/nt;return tt&&(it=clamp$5(it,0,1)),it}closestPointToPoint(_e,tt,nt){const rt=this.closestPointToPointParameter(_e,tt);return this.delta(nt).multiplyScalar(rt).add(this.start)}applyMatrix4(_e){return this.start.applyMatrix4(_e),this.end.applyMatrix4(_e),this}equals(_e){return _e.start.equals(this.start)&&_e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(_e,tt){super(),this.light=_e,this.light.updateMatrixWorld(),this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt;const nt=new BufferGeometry,rt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let st=0,ot=1,at=32;st<at;st++,ot++){const lt=st/at*Math.PI*2,ct=ot/at*Math.PI*2;rt.push(Math.cos(lt),Math.sin(lt),1,Math.cos(ct),Math.sin(ct),1)}nt.setAttribute("position",new Float32BufferAttribute(rt,3));const it=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(nt,it),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const _e=this.light.distance?this.light.distance:1e3,tt=_e*Math.tan(this.light.angle);this.cone.scale.set(tt,tt,_e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(_e){const tt=getBoneList(_e),nt=new BufferGeometry,rt=[],it=[],st=new Color$2(0,0,1),ot=new Color$2(0,1,0);for(let lt=0;lt<tt.length;lt++){const ct=tt[lt];ct.parent&&ct.parent.isBone&&(rt.push(0,0,0),rt.push(0,0,0),it.push(st.r,st.g,st.b),it.push(ot.r,ot.g,ot.b))}nt.setAttribute("position",new Float32BufferAttribute(rt,3)),nt.setAttribute("color",new Float32BufferAttribute(it,3));const at=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(nt,at),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=_e,this.bones=tt,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(_e){const tt=this.bones,nt=this.geometry,rt=nt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let it=0,st=0;it<tt.length;it++){const ot=tt[it];ot.parent&&ot.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,ot.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),rt.setXYZ(st,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,ot.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),rt.setXYZ(st+1,_vector$2.x,_vector$2.y,_vector$2.z),st+=2)}nt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(_e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(et){const _e=[];et.isBone===!0&&_e.push(et);for(let tt=0;tt<et.children.length;tt++)_e.push.apply(_e,getBoneList(et.children[tt]));return _e}class PointLightHelper extends Mesh{constructor(_e,tt,nt){const rt=new SphereGeometry(tt,4,2),it=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(rt,it),this.light=_e,this.light.updateMatrixWorld(),this.color=nt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$2,_color2=new Color$2;class HemisphereLightHelper extends Object3D{constructor(_e,tt,nt){super(),this.light=_e,this.light.updateMatrixWorld(),this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt;const rt=new OctahedronGeometry(tt);rt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const it=rt.getAttribute("position"),st=new Float32Array(it.count*3);rt.setAttribute("color",new BufferAttribute(st,3)),this.add(new Mesh(rt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const _e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const tt=_e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let nt=0,rt=tt.count;nt<rt;nt++){const it=nt<rt/2?_color1:_color2;tt.setXYZ(nt,it.r,it.g,it.b)}tt.needsUpdate=!0}_e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(_e=10,tt=10,nt=4473924,rt=8947848){nt=new Color$2(nt),rt=new Color$2(rt);const it=tt/2,st=_e/tt,ot=_e/2,at=[],lt=[];for(let ft=0,ht=0,pt=-ot;ft<=tt;ft++,pt+=st){at.push(-ot,0,pt,ot,0,pt),at.push(pt,0,-ot,pt,0,ot);const gt=ft===it?nt:rt;gt.toArray(lt,ht),ht+=3,gt.toArray(lt,ht),ht+=3,gt.toArray(lt,ht),ht+=3,gt.toArray(lt,ht),ht+=3}const ct=new BufferGeometry;ct.setAttribute("position",new Float32BufferAttribute(at,3)),ct.setAttribute("color",new Float32BufferAttribute(lt,3));const ut=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ct,ut),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(_e=10,tt=16,nt=8,rt=64,it=4473924,st=8947848){it=new Color$2(it),st=new Color$2(st);const ot=[],at=[];if(tt>1)for(let ut=0;ut<tt;ut++){const ft=ut/tt*(Math.PI*2),ht=Math.sin(ft)*_e,pt=Math.cos(ft)*_e;ot.push(0,0,0),ot.push(ht,0,pt);const gt=ut&1?it:st;at.push(gt.r,gt.g,gt.b),at.push(gt.r,gt.g,gt.b)}for(let ut=0;ut<nt;ut++){const ft=ut&1?it:st,ht=_e-_e/nt*ut;for(let pt=0;pt<rt;pt++){let gt=pt/rt*(Math.PI*2),dt=Math.sin(gt)*ht,vt=Math.cos(gt)*ht;ot.push(dt,0,vt),at.push(ft.r,ft.g,ft.b),gt=(pt+1)/rt*(Math.PI*2),dt=Math.sin(gt)*ht,vt=Math.cos(gt)*ht,ot.push(dt,0,vt),at.push(ft.r,ft.g,ft.b)}}const lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(ot,3)),lt.setAttribute("color",new Float32BufferAttribute(at,3));const ct=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(lt,ct),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(_e,tt,nt){super(),this.light=_e,this.light.updateMatrixWorld(),this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt,tt===void 0&&(tt=1);let rt=new BufferGeometry;rt.setAttribute("position",new Float32BufferAttribute([-tt,tt,0,tt,tt,0,tt,-tt,0,-tt,-tt,0,-tt,tt,0],3));const it=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(rt,it),this.add(this.lightPlane),rt=new BufferGeometry,rt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(rt,it),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(_e){const tt=new BufferGeometry,nt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),rt=[],it=[],st={};ot("n1","n2"),ot("n2","n4"),ot("n4","n3"),ot("n3","n1"),ot("f1","f2"),ot("f2","f4"),ot("f4","f3"),ot("f3","f1"),ot("n1","f1"),ot("n2","f2"),ot("n3","f3"),ot("n4","f4"),ot("p","n1"),ot("p","n2"),ot("p","n3"),ot("p","n4"),ot("u1","u2"),ot("u2","u3"),ot("u3","u1"),ot("c","t"),ot("p","c"),ot("cn1","cn2"),ot("cn3","cn4"),ot("cf1","cf2"),ot("cf3","cf4");function ot(pt,gt){at(pt),at(gt)}function at(pt){rt.push(0,0,0),it.push(0,0,0),st[pt]===void 0&&(st[pt]=[]),st[pt].push(rt.length/3-1)}tt.setAttribute("position",new Float32BufferAttribute(rt,3)),tt.setAttribute("color",new Float32BufferAttribute(it,3)),super(tt,nt),this.type="CameraHelper",this.camera=_e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=st,this.update();const lt=new Color$2(16755200),ct=new Color$2(16711680),ut=new Color$2(43775),ft=new Color$2(16777215),ht=new Color$2(3355443);this.setColors(lt,ct,ut,ft,ht)}setColors(_e,tt,nt,rt,it){const ot=this.geometry.getAttribute("color");ot.setXYZ(0,_e.r,_e.g,_e.b),ot.setXYZ(1,_e.r,_e.g,_e.b),ot.setXYZ(2,_e.r,_e.g,_e.b),ot.setXYZ(3,_e.r,_e.g,_e.b),ot.setXYZ(4,_e.r,_e.g,_e.b),ot.setXYZ(5,_e.r,_e.g,_e.b),ot.setXYZ(6,_e.r,_e.g,_e.b),ot.setXYZ(7,_e.r,_e.g,_e.b),ot.setXYZ(8,_e.r,_e.g,_e.b),ot.setXYZ(9,_e.r,_e.g,_e.b),ot.setXYZ(10,_e.r,_e.g,_e.b),ot.setXYZ(11,_e.r,_e.g,_e.b),ot.setXYZ(12,_e.r,_e.g,_e.b),ot.setXYZ(13,_e.r,_e.g,_e.b),ot.setXYZ(14,_e.r,_e.g,_e.b),ot.setXYZ(15,_e.r,_e.g,_e.b),ot.setXYZ(16,_e.r,_e.g,_e.b),ot.setXYZ(17,_e.r,_e.g,_e.b),ot.setXYZ(18,_e.r,_e.g,_e.b),ot.setXYZ(19,_e.r,_e.g,_e.b),ot.setXYZ(20,_e.r,_e.g,_e.b),ot.setXYZ(21,_e.r,_e.g,_e.b),ot.setXYZ(22,_e.r,_e.g,_e.b),ot.setXYZ(23,_e.r,_e.g,_e.b),ot.setXYZ(24,tt.r,tt.g,tt.b),ot.setXYZ(25,tt.r,tt.g,tt.b),ot.setXYZ(26,tt.r,tt.g,tt.b),ot.setXYZ(27,tt.r,tt.g,tt.b),ot.setXYZ(28,tt.r,tt.g,tt.b),ot.setXYZ(29,tt.r,tt.g,tt.b),ot.setXYZ(30,tt.r,tt.g,tt.b),ot.setXYZ(31,tt.r,tt.g,tt.b),ot.setXYZ(32,nt.r,nt.g,nt.b),ot.setXYZ(33,nt.r,nt.g,nt.b),ot.setXYZ(34,nt.r,nt.g,nt.b),ot.setXYZ(35,nt.r,nt.g,nt.b),ot.setXYZ(36,nt.r,nt.g,nt.b),ot.setXYZ(37,nt.r,nt.g,nt.b),ot.setXYZ(38,rt.r,rt.g,rt.b),ot.setXYZ(39,rt.r,rt.g,rt.b),ot.setXYZ(40,it.r,it.g,it.b),ot.setXYZ(41,it.r,it.g,it.b),ot.setXYZ(42,it.r,it.g,it.b),ot.setXYZ(43,it.r,it.g,it.b),ot.setXYZ(44,it.r,it.g,it.b),ot.setXYZ(45,it.r,it.g,it.b),ot.setXYZ(46,it.r,it.g,it.b),ot.setXYZ(47,it.r,it.g,it.b),ot.setXYZ(48,it.r,it.g,it.b),ot.setXYZ(49,it.r,it.g,it.b),ot.needsUpdate=!0}update(){const _e=this.geometry,tt=this.pointMap,nt=1,rt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",tt,_e,_camera,0,0,-1),setPoint("t",tt,_e,_camera,0,0,1),setPoint("n1",tt,_e,_camera,-nt,-rt,-1),setPoint("n2",tt,_e,_camera,nt,-rt,-1),setPoint("n3",tt,_e,_camera,-nt,rt,-1),setPoint("n4",tt,_e,_camera,nt,rt,-1),setPoint("f1",tt,_e,_camera,-nt,-rt,1),setPoint("f2",tt,_e,_camera,nt,-rt,1),setPoint("f3",tt,_e,_camera,-nt,rt,1),setPoint("f4",tt,_e,_camera,nt,rt,1),setPoint("u1",tt,_e,_camera,nt*.7,rt*1.1,-1),setPoint("u2",tt,_e,_camera,-nt*.7,rt*1.1,-1),setPoint("u3",tt,_e,_camera,0,rt*2,-1),setPoint("cf1",tt,_e,_camera,-nt,0,1),setPoint("cf2",tt,_e,_camera,nt,0,1),setPoint("cf3",tt,_e,_camera,0,-rt,1),setPoint("cf4",tt,_e,_camera,0,rt,1),setPoint("cn1",tt,_e,_camera,-nt,0,-1),setPoint("cn2",tt,_e,_camera,nt,0,-1),setPoint("cn3",tt,_e,_camera,0,-rt,-1),setPoint("cn4",tt,_e,_camera,0,rt,-1),_e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(et,_e,tt,nt,rt,it,st){_vector.set(rt,it,st).unproject(nt);const ot=_e[et];if(ot!==void 0){const at=tt.getAttribute("position");for(let lt=0,ct=ot.length;lt<ct;lt++)at.setXYZ(ot[lt],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(_e,tt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),rt=new Float32Array(8*3),it=new BufferGeometry;it.setIndex(new BufferAttribute(nt,1)),it.setAttribute("position",new BufferAttribute(rt,3)),super(it,new LineBasicMaterial({color:tt,toneMapped:!1})),this.object=_e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(_e){if(_e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const tt=_box.min,nt=_box.max,rt=this.geometry.attributes.position,it=rt.array;it[0]=nt.x,it[1]=nt.y,it[2]=nt.z,it[3]=tt.x,it[4]=nt.y,it[5]=nt.z,it[6]=tt.x,it[7]=tt.y,it[8]=nt.z,it[9]=nt.x,it[10]=tt.y,it[11]=nt.z,it[12]=nt.x,it[13]=nt.y,it[14]=tt.z,it[15]=tt.x,it[16]=nt.y,it[17]=tt.z,it[18]=tt.x,it[19]=tt.y,it[20]=tt.z,it[21]=nt.x,it[22]=tt.y,it[23]=tt.z,rt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(_e){return this.object=_e,this.update(),this}copy(_e,tt){return super.copy(_e,tt),this.object=_e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(_e,tt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),rt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],it=new BufferGeometry;it.setIndex(new BufferAttribute(nt,1)),it.setAttribute("position",new Float32BufferAttribute(rt,3)),super(it,new LineBasicMaterial({color:tt,toneMapped:!1})),this.box=_e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(_e){const tt=this.box;tt.isEmpty()||(tt.getCenter(this.position),tt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(_e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(_e,tt=1,nt=16776960){const rt=nt,it=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],st=new BufferGeometry;st.setAttribute("position",new Float32BufferAttribute(it,3)),st.computeBoundingSphere(),super(st,new LineBasicMaterial({color:rt,toneMapped:!1})),this.type="PlaneHelper",this.plane=_e,this.size=tt;const ot=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(ot,3)),at.computeBoundingSphere(),this.add(new Mesh(at,new MeshBasicMaterial({color:rt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(_e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(_e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(_e=new Vector3(0,0,1),tt=new Vector3(0,0,0),nt=1,rt=16776960,it=nt*.2,st=it*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(tt),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:rt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:rt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_e),this.setLength(nt,it,st)}setDirection(_e){if(_e.y>.99999)this.quaternion.set(0,0,0,1);else if(_e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(_e.z,0,-_e.x).normalize();const tt=Math.acos(_e.y);this.quaternion.setFromAxisAngle(_axis,tt)}}setLength(_e,tt=_e*.2,nt=tt*.2){this.line.scale.set(1,Math.max(1e-4,_e-tt),1),this.line.updateMatrix(),this.cone.scale.set(nt,tt,nt),this.cone.position.y=_e,this.cone.updateMatrix()}setColor(_e){this.line.material.color.set(_e),this.cone.material.color.set(_e)}copy(_e){return super.copy(_e,!1),this.line.copy(_e.line),this.cone.copy(_e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(_e=1){const tt=[0,0,0,_e,0,0,0,0,0,0,_e,0,0,0,0,0,0,_e],nt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],rt=new BufferGeometry;rt.setAttribute("position",new Float32BufferAttribute(tt,3)),rt.setAttribute("color",new Float32BufferAttribute(nt,3));const it=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(rt,it),this.type="AxesHelper"}setColors(_e,tt,nt){const rt=new Color$2,it=this.geometry.attributes.color.array;return rt.set(_e),rt.toArray(it,0),rt.toArray(it,3),rt.set(tt),rt.toArray(it,6),rt.toArray(it,9),rt.set(nt),rt.toArray(it,12),rt.toArray(it,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$2,this.subPaths=[],this.currentPath=null}moveTo(_e,tt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(_e,tt),this}lineTo(_e,tt){return this.currentPath.lineTo(_e,tt),this}quadraticCurveTo(_e,tt,nt,rt){return this.currentPath.quadraticCurveTo(_e,tt,nt,rt),this}bezierCurveTo(_e,tt,nt,rt,it,st){return this.currentPath.bezierCurveTo(_e,tt,nt,rt,it,st),this}splineThru(_e){return this.currentPath.splineThru(_e),this}toShapes(_e){function tt(vt){const xt=[];for(let _t=0,bt=vt.length;_t<bt;_t++){const At=vt[_t],Mt=new Shape;Mt.curves=At.curves,xt.push(Mt)}return xt}function nt(vt,xt){const _t=xt.length;let bt=!1;for(let At=_t-1,Mt=0;Mt<_t;At=Mt++){let Tt=xt[At],St=xt[Mt],Ct=St.x-Tt.x,Et=St.y-Tt.y;if(Math.abs(Et)>Number.EPSILON){if(Et<0&&(Tt=xt[Mt],Ct=-Ct,St=xt[At],Et=-Et),vt.y<Tt.y||vt.y>St.y)continue;if(vt.y===Tt.y){if(vt.x===Tt.x)return!0}else{const Rt=Et*(vt.x-Tt.x)-Ct*(vt.y-Tt.y);if(Rt===0)return!0;if(Rt<0)continue;bt=!bt}}else{if(vt.y!==Tt.y)continue;if(St.x<=vt.x&&vt.x<=Tt.x||Tt.x<=vt.x&&vt.x<=St.x)return!0}}return bt}const rt=ShapeUtils.isClockWise,it=this.subPaths;if(it.length===0)return[];let st,ot,at;const lt=[];if(it.length===1)return ot=it[0],at=new Shape,at.curves=ot.curves,lt.push(at),lt;let ct=!rt(it[0].getPoints());ct=_e?!ct:ct;const ut=[],ft=[];let ht=[],pt=0,gt;ft[pt]=void 0,ht[pt]=[];for(let vt=0,xt=it.length;vt<xt;vt++)ot=it[vt],gt=ot.getPoints(),st=rt(gt),st=_e?!st:st,st?(!ct&&ft[pt]&&pt++,ft[pt]={s:new Shape,p:gt},ft[pt].s.curves=ot.curves,ct&&pt++,ht[pt]=[]):ht[pt].push({h:ot,p:gt[0]});if(!ft[0])return tt(it);if(ft.length>1){let vt=!1,xt=0;for(let _t=0,bt=ft.length;_t<bt;_t++)ut[_t]=[];for(let _t=0,bt=ft.length;_t<bt;_t++){const At=ht[_t];for(let Mt=0;Mt<At.length;Mt++){const Tt=At[Mt];let St=!0;for(let Ct=0;Ct<ft.length;Ct++)nt(Tt.p,ft[Ct].p)&&(_t!==Ct&&xt++,St?(St=!1,ut[Ct].push(Tt)):vt=!0);St&&ut[_t].push(Tt)}}xt>0&&vt===!1&&(ht=ut)}let dt;for(let vt=0,xt=ft.length;vt<xt;vt++){at=ft[vt].s,lt.push(at),dt=ht[vt];for(let _t=0,bt=dt.length;_t<bt;_t++)at.holes.push(dt[_t].h)}return lt}}const _tables=_generateTables();function _generateTables(){const et=new ArrayBuffer(4),_e=new Float32Array(et),tt=new Uint32Array(et),nt=new Uint32Array(512),rt=new Uint32Array(512);for(let at=0;at<256;++at){const lt=at-127;lt<-27?(nt[at]=0,nt[at|256]=32768,rt[at]=24,rt[at|256]=24):lt<-14?(nt[at]=1024>>-lt-14,nt[at|256]=1024>>-lt-14|32768,rt[at]=-lt-1,rt[at|256]=-lt-1):lt<=15?(nt[at]=lt+15<<10,nt[at|256]=lt+15<<10|32768,rt[at]=13,rt[at|256]=13):lt<128?(nt[at]=31744,nt[at|256]=64512,rt[at]=24,rt[at|256]=24):(nt[at]=31744,nt[at|256]=64512,rt[at]=13,rt[at|256]=13)}const it=new Uint32Array(2048),st=new Uint32Array(64),ot=new Uint32Array(64);for(let at=1;at<1024;++at){let lt=at<<13,ct=0;for(;(lt&8388608)===0;)lt<<=1,ct-=8388608;lt&=-8388609,ct+=947912704,it[at]=lt|ct}for(let at=1024;at<2048;++at)it[at]=939524096+(at-1024<<13);for(let at=1;at<31;++at)st[at]=at<<23;st[31]=1199570944,st[32]=2147483648;for(let at=33;at<63;++at)st[at]=2147483648+(at-32<<23);st[63]=3347054592;for(let at=1;at<64;++at)at!==32&&(ot[at]=1024);return{floatView:_e,uint32View:tt,baseTable:nt,shiftTable:rt,mantissaTable:it,exponentTable:st,offsetTable:ot}}function toHalfFloat(et){Math.abs(et)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),et=clamp$5(et,-65504,65504),_tables.floatView[0]=et;const _e=_tables.uint32View[0],tt=_e>>23&511;return _tables.baseTable[tt]+((_e&8388607)>>_tables.shiftTable[tt])}function fromHalfFloat(et){const _e=et>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[_e]+(et&1023)]+_tables.exponentTable[_e],_tables.floatView[0]}var DataUtils=Object.freeze({__proto__:null,toHalfFloat,fromHalfFloat});function ImmediateRenderObject(){console.error("THREE.ImmediateRenderObject has been removed.")}class WebGLMultisampleRenderTarget extends WebGLRenderTarget{constructor(_e,tt,nt){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(_e,tt,nt),this.samples=4}}class DataTexture2DArray extends DataArrayTexture{constructor(_e,tt,nt,rt){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(_e,tt,nt,rt)}}class DataTexture3D extends Data3DTexture{constructor(_e,tt,nt,rt){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(_e,tt,nt,rt)}}class BoxBufferGeometry extends BoxGeometry{constructor(_e,tt,nt,rt,it,st){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(_e,tt,nt,rt,it,st)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(_e,tt,nt,rt){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(_e,tt,nt,rt)}}class CircleBufferGeometry extends CircleGeometry{constructor(_e,tt,nt,rt){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(_e,tt,nt,rt)}}class ConeBufferGeometry extends ConeGeometry{constructor(_e,tt,nt,rt,it,st,ot){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(_e,tt,nt,rt,it,st,ot)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(_e,tt,nt,rt,it,st,ot,at){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(_e,tt,nt,rt,it,st,ot,at)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(_e,tt){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(_e,tt)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(_e,tt){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(_e,tt)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(_e,tt){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(_e,tt)}}class LatheBufferGeometry extends LatheGeometry{constructor(_e,tt,nt,rt){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(_e,tt,nt,rt)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(_e,tt){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(_e,tt)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(_e,tt,nt,rt){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(_e,tt,nt,rt)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(_e,tt,nt,rt){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(_e,tt,nt,rt)}}class RingBufferGeometry extends RingGeometry{constructor(_e,tt,nt,rt,it,st){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(_e,tt,nt,rt,it,st)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(_e,tt){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(_e,tt)}}class SphereBufferGeometry extends SphereGeometry{constructor(_e,tt,nt,rt,it,st,ot){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(_e,tt,nt,rt,it,st,ot)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(_e,tt){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(_e,tt)}}class TorusBufferGeometry extends TorusGeometry{constructor(_e,tt,nt,rt,it){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(_e,tt,nt,rt,it)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(_e,tt,nt,rt,it,st){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(_e,tt,nt,rt,it,st)}}class TubeBufferGeometry extends TubeGeometry{constructor(_e,tt,nt,rt,it){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(_e,tt,nt,rt,it)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const three_module=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$2,ColorKeyframeTrack,ColorManagement,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTexture2DArray,DataTexture3D,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,ImmediateRenderObject,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera:PerspectiveCamera$1,Plane:Plane$1,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points:Points$1,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBFormat,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere:Sphere$1,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLMultisampleRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function(et){et.exports=reactReconcilerConstants_production_min})(constants);function createStore$1(et){let _e;const tt=new Set,nt=(lt,ct)=>{const ut=typeof lt=="function"?lt(_e):lt;if(ut!==_e){const ft=_e;_e=ct?ut:Object.assign({},_e,ut),tt.forEach(ht=>ht(_e,ft))}},rt=()=>_e,it=(lt,ct=rt,ut=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ft=ct(_e);function ht(){const pt=ct(_e);if(!ut(ft,pt)){const gt=ft;lt(ft=pt,gt)}}return tt.add(ht),()=>tt.delete(ht)},at={setState:nt,getState:rt,subscribe:(lt,ct,ut)=>ct||ut?it(lt,ct,ut):(tt.add(lt),()=>tt.delete(lt)),destroy:()=>tt.clear()};return _e=et(nt,rt,at),at}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR?react.exports.useEffect:react.exports.useLayoutEffect;function create$1(et){const _e=typeof et=="function"?createStore$1(et):et,tt=(nt=_e.getState,rt=Object.is)=>{const[,it]=react.exports.useReducer(dt=>dt+1,0),st=_e.getState(),ot=react.exports.useRef(st),at=react.exports.useRef(nt),lt=react.exports.useRef(rt),ct=react.exports.useRef(!1),ut=react.exports.useRef();ut.current===void 0&&(ut.current=nt(st));let ft,ht=!1;(ot.current!==st||at.current!==nt||lt.current!==rt||ct.current)&&(ft=nt(st),ht=!rt(ut.current,ft)),useIsomorphicLayoutEffect$2(()=>{ht&&(ut.current=ft),ot.current=st,at.current=nt,lt.current=rt,ct.current=!1});const pt=react.exports.useRef(st);useIsomorphicLayoutEffect$2(()=>{const dt=()=>{try{const xt=_e.getState(),_t=at.current(xt);lt.current(ut.current,_t)||(ot.current=xt,ut.current=_t,it())}catch{ct.current=!0,it()}},vt=_e.subscribe(dt);return _e.getState()!==pt.current&&dt(),vt},[]);const gt=ht?ft:ut.current;return react.exports.useDebugValue(gt),gt};return Object.assign(tt,_e),tt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const nt=[tt,_e];return{next(){const rt=nt.length<=0;return{value:nt.shift(),done:rt}}}},tt}var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(et){function _e(Bt,Lt){var Ft=Bt.length;Bt.push(Lt);e:for(;0<Ft;){var Vt=Ft-1>>>1,Yt=Bt[Vt];if(0<rt(Yt,Lt))Bt[Vt]=Lt,Bt[Ft]=Yt,Ft=Vt;else break e}}function tt(Bt){return Bt.length===0?null:Bt[0]}function nt(Bt){if(Bt.length===0)return null;var Lt=Bt[0],Ft=Bt.pop();if(Ft!==Lt){Bt[0]=Ft;e:for(var Vt=0,Yt=Bt.length,rn=Yt>>>1;Vt<rn;){var sn=2*(Vt+1)-1,cn=Bt[sn],Zt=sn+1,an=Bt[Zt];if(0>rt(cn,Ft))Zt<Yt&&0>rt(an,cn)?(Bt[Vt]=an,Bt[Zt]=Ft,Vt=Zt):(Bt[Vt]=cn,Bt[sn]=Ft,Vt=sn);else if(Zt<Yt&&0>rt(an,Ft))Bt[Vt]=an,Bt[Zt]=Ft,Vt=Zt;else break e}}return Lt}function rt(Bt,Lt){var Ft=Bt.sortIndex-Lt.sortIndex;return Ft!==0?Ft:Bt.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var st=Date,ot=st.now();et.unstable_now=function(){return st.now()-ot}}var at=[],lt=[],ct=1,ut=null,ft=3,ht=!1,pt=!1,gt=!1,dt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(Bt){for(var Lt=tt(lt);Lt!==null;){if(Lt.callback===null)nt(lt);else if(Lt.startTime<=Bt)nt(lt),Lt.sortIndex=Lt.expirationTime,_e(at,Lt);else break;Lt=tt(lt)}}function bt(Bt){if(gt=!1,_t(Bt),!pt)if(tt(at)!==null)pt=!0,jt(At);else{var Lt=tt(lt);Lt!==null&&Ht(bt,Lt.startTime-Bt)}}function At(Bt,Lt){pt=!1,gt&&(gt=!1,vt(St),St=-1),ht=!0;var Ft=ft;try{for(_t(Lt),ut=tt(at);ut!==null&&(!(ut.expirationTime>Lt)||Bt&&!Rt());){var Vt=ut.callback;if(typeof Vt=="function"){ut.callback=null,ft=ut.priorityLevel;var Yt=Vt(ut.expirationTime<=Lt);Lt=et.unstable_now(),typeof Yt=="function"?ut.callback=Yt:ut===tt(at)&&nt(at),_t(Lt)}else nt(at);ut=tt(at)}if(ut!==null)var rn=!0;else{var sn=tt(lt);sn!==null&&Ht(bt,sn.startTime-Lt),rn=!1}return rn}finally{ut=null,ft=Ft,ht=!1}}var Mt=!1,Tt=null,St=-1,Ct=5,Et=-1;function Rt(){return!(et.unstable_now()-Et<Ct)}function It(){if(Tt!==null){var Bt=et.unstable_now();Et=Bt;var Lt=!0;try{Lt=Tt(!0,Bt)}finally{Lt?Ot():(Mt=!1,Tt=null)}}else Mt=!1}var Ot;if(typeof xt=="function")Ot=function(){xt(It)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,$t=kt.port2;kt.port1.onmessage=It,Ot=function(){$t.postMessage(null)}}else Ot=function(){dt(It,0)};function jt(Bt){Tt=Bt,Mt||(Mt=!0,Ot())}function Ht(Bt,Lt){St=dt(function(){Bt(et.unstable_now())},Lt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Bt){Bt.callback=null},et.unstable_continueExecution=function(){pt||ht||(pt=!0,jt(At))},et.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Bt?Math.floor(1e3/Bt):5},et.unstable_getCurrentPriorityLevel=function(){return ft},et.unstable_getFirstCallbackNode=function(){return tt(at)},et.unstable_next=function(Bt){switch(ft){case 1:case 2:case 3:var Lt=3;break;default:Lt=ft}var Ft=ft;ft=Lt;try{return Bt()}finally{ft=Ft}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Bt,Lt){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var Ft=ft;ft=Bt;try{return Lt()}finally{ft=Ft}},et.unstable_scheduleCallback=function(Bt,Lt,Ft){var Vt=et.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Vt+Ft:Vt):Ft=Vt,Bt){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=Ft+Yt,Bt={id:ct++,callback:Lt,priorityLevel:Bt,startTime:Ft,expirationTime:Yt,sortIndex:-1},Ft>Vt?(Bt.sortIndex=Ft,_e(lt,Bt),tt(at)===null&&Bt===tt(lt)&&(gt?(vt(St),St=-1):gt=!0,Ht(bt,Ft-Vt))):(Bt.sortIndex=Yt,_e(at,Bt),pt||ht||(pt=!0,jt(At))),Bt},et.unstable_shouldYield=Rt,et.unstable_wrapCallback=function(Bt){var Lt=ft;return function(){var Ft=ft;ft=Lt;try{return Bt.apply(this,arguments)}finally{ft=Ft}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,function(et){et.exports=requireScheduler_production_min()}(scheduler$1)),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(_e){var tt={},nt=react.exports,rt=requireScheduler(),it=Object.assign;function st(mt){for(var yt="https://reactjs.org/docs/error-decoder.html?invariant="+mt,wt=1;wt<arguments.length;wt++)yt+="&args[]="+encodeURIComponent(arguments[wt]);return"Minified React error #"+mt+"; visit "+yt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ot=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,at=Symbol.for("react.element"),lt=Symbol.for("react.portal"),ct=Symbol.for("react.fragment"),ut=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),ht=Symbol.for("react.provider"),pt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),bt=Symbol.for("react.offscreen"),At=Symbol.iterator;function Mt(mt){return mt===null||typeof mt!="object"?null:(mt=At&&mt[At]||mt["@@iterator"],typeof mt=="function"?mt:null)}function Tt(mt){if(mt==null)return null;if(typeof mt=="function")return mt.displayName||mt.name||null;if(typeof mt=="string")return mt;switch(mt){case ct:return"Fragment";case lt:return"Portal";case ft:return"Profiler";case ut:return"StrictMode";case dt:return"Suspense";case vt:return"SuspenseList"}if(typeof mt=="object")switch(mt.$$typeof){case pt:return(mt.displayName||"Context")+".Consumer";case ht:return(mt._context.displayName||"Context")+".Provider";case gt:var yt=mt.render;return mt=mt.displayName,mt||(mt=yt.displayName||yt.name||"",mt=mt!==""?"ForwardRef("+mt+")":"ForwardRef"),mt;case xt:return yt=mt.displayName||null,yt!==null?yt:Tt(mt.type)||"Memo";case _t:yt=mt._payload,mt=mt._init;try{return Tt(mt(yt))}catch{}}return null}function St(mt){var yt=mt.type;switch(mt.tag){case 24:return"Cache";case 9:return(yt.displayName||"Context")+".Consumer";case 10:return(yt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return mt=yt.render,mt=mt.displayName||mt.name||"",yt.displayName||(mt!==""?"ForwardRef("+mt+")":"ForwardRef");case 7:return"Fragment";case 5:return yt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tt(yt);case 8:return yt===ut?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof yt=="function")return yt.displayName||yt.name||null;if(typeof yt=="string")return yt}return null}function Ct(mt){var yt=mt,wt=mt;if(mt.alternate)for(;yt.return;)yt=yt.return;else{mt=yt;do yt=mt,(yt.flags&4098)!==0&&(wt=yt.return),mt=yt.return;while(mt)}return yt.tag===3?wt:null}function Et(mt){if(Ct(mt)!==mt)throw Error(st(188))}function Rt(mt){var yt=mt.alternate;if(!yt){if(yt=Ct(mt),yt===null)throw Error(st(188));return yt!==mt?null:mt}for(var wt=mt,Pt=yt;;){var Dt=wt.return;if(Dt===null)break;var Nt=Dt.alternate;if(Nt===null){if(Pt=Dt.return,Pt!==null){wt=Pt;continue}break}if(Dt.child===Nt.child){for(Nt=Dt.child;Nt;){if(Nt===wt)return Et(Dt),mt;if(Nt===Pt)return Et(Dt),yt;Nt=Nt.sibling}throw Error(st(188))}if(wt.return!==Pt.return)wt=Dt,Pt=Nt;else{for(var en=!1,dn=Dt.child;dn;){if(dn===wt){en=!0,wt=Dt,Pt=Nt;break}if(dn===Pt){en=!0,Pt=Dt,wt=Nt;break}dn=dn.sibling}if(!en){for(dn=Nt.child;dn;){if(dn===wt){en=!0,wt=Nt,Pt=Dt;break}if(dn===Pt){en=!0,Pt=Nt,wt=Dt;break}dn=dn.sibling}if(!en)throw Error(st(189))}}if(wt.alternate!==Pt)throw Error(st(190))}if(wt.tag!==3)throw Error(st(188));return wt.stateNode.current===wt?mt:yt}function It(mt){return mt=Rt(mt),mt!==null?Ot(mt):null}function Ot(mt){if(mt.tag===5||mt.tag===6)return mt;for(mt=mt.child;mt!==null;){var yt=Ot(mt);if(yt!==null)return yt;mt=mt.sibling}return null}function kt(mt){if(mt.tag===5||mt.tag===6)return mt;for(mt=mt.child;mt!==null;){if(mt.tag!==4){var yt=kt(mt);if(yt!==null)return yt}mt=mt.sibling}return null}var $t=Array.isArray,jt=_e.getPublicInstance,Ht=_e.getRootHostContext,Bt=_e.getChildHostContext,Lt=_e.prepareForCommit,Ft=_e.resetAfterCommit,Vt=_e.createInstance,Yt=_e.appendInitialChild,rn=_e.finalizeInitialChildren,sn=_e.prepareUpdate,cn=_e.shouldSetTextContent,Zt=_e.createTextInstance,an=_e.scheduleTimeout,Qt=_e.cancelTimeout,Ut=_e.noTimeout,Gt=_e.isPrimaryRenderer,Wt=_e.supportsMutation,Jt=_e.supportsPersistence,Kt=_e.supportsHydration,nn=_e.getInstanceFromNode,fn=_e.preparePortalMount,hn=_e.getCurrentEventPriority,bn=_e.detachDeletedInstance,un=_e.supportsMicrotasks,gn=_e.scheduleMicrotask,vn=_e.supportsTestSelectors,on=_e.findFiberRoot,Xt=_e.getBoundingRect,zt=_e.getTextContent,tn=_e.isHiddenSubtree,pn=_e.matchAccessibilityRole,Sn=_e.setFocusIfFocusable,Pn=_e.setupIntersectionObserver,Rn=_e.appendChild,Tn=_e.appendChildToContainer,wn=_e.commitTextUpdate,kn=_e.commitMount,Gn=_e.commitUpdate,Fn=_e.insertBefore,Dn=_e.insertInContainerBefore,In=_e.removeChild,Hn=_e.removeChildFromContainer,ln=_e.resetTextContent,Un=_e.hideInstance,Ln=_e.hideTextInstance,Mn=_e.unhideInstance,Nn=_e.unhideTextInstance,Yn=_e.clearContainer,er=_e.cloneInstance,yr=_e.createContainerChildSet,hr=_e.appendChildToContainerChildSet,Jn=_e.finalizeContainerChildren,xr=_e.replaceContainerChildren,br=_e.cloneHiddenInstance,_r=_e.cloneHiddenTextInstance,Rr=_e.canHydrateInstance,ns=_e.canHydrateTextInstance,Dr=_e.canHydrateSuspenseInstance,Tr=_e.isSuspenseInstancePending,Gr=_e.isSuspenseInstanceFallback,qt=_e.registerSuspenseInstanceRetry,yn=_e.getNextHydratableSibling,En=_e.getFirstHydratableChild,xn=_e.getFirstHydratableChildWithinContainer,Bn=_e.getFirstHydratableChildWithinSuspenseInstance,Xn=_e.hydrateInstance,Qn=_e.hydrateTextInstance,ir=_e.hydrateSuspenseInstance,Zn=_e.getNextHydratableInstanceAfterSuspenseInstance,dr=_e.commitHydratedContainer,ar=_e.commitHydratedSuspenseInstance,pr=_e.clearSuspenseBoundary,wr=_e.clearSuspenseBoundaryFromContainer,us=_e.shouldDeleteUnhydratedTailInstances,Ss=_e.didNotMatchHydratedContainerTextInstance,ws=_e.didNotMatchHydratedTextInstance,$n;function sr(mt){if($n===void 0)try{throw Error()}catch(wt){var yt=wt.stack.trim().match(/\n( *(at )?)/);$n=yt&&yt[1]||""}return`
`+$n+mt}var As=!1;function Sr(mt,yt){if(!mt||As)return"";As=!0;var wt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(yt)if(yt=function(){throw Error()},Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(On){var Pt=On}Reflect.construct(mt,[],yt)}else{try{yt.call()}catch(On){Pt=On}mt.call(yt.prototype)}else{try{throw Error()}catch(On){Pt=On}mt()}}catch(On){if(On&&Pt&&typeof On.stack=="string"){for(var Dt=On.stack.split(`
`),Nt=Pt.stack.split(`
`),en=Dt.length-1,dn=Nt.length-1;1<=en&&0<=dn&&Dt[en]!==Nt[dn];)dn--;for(;1<=en&&0<=dn;en--,dn--)if(Dt[en]!==Nt[dn]){if(en!==1||dn!==1)do if(en--,dn--,0>dn||Dt[en]!==Nt[dn]){var Cn=`
`+Dt[en].replace(" at new "," at ");return mt.displayName&&Cn.includes("<anonymous>")&&(Cn=Cn.replace("<anonymous>",mt.displayName)),Cn}while(1<=en&&0<=dn);break}}}finally{As=!1,Error.prepareStackTrace=wt}return(mt=mt?mt.displayName||mt.name:"")?sr(mt):""}var Wr=Object.prototype.hasOwnProperty,Yr=[],Kr=-1;function Xr(mt){return{current:mt}}function tr(mt){0>Kr||(mt.current=Yr[Kr],Yr[Kr]=null,Kr--)}function lr(mt,yt){Kr++,Yr[Kr]=mt.current,mt.current=yt}var rs={},mr=Xr(rs),Ir=Xr(!1),ss=rs;function ms(mt,yt){var wt=mt.type.contextTypes;if(!wt)return rs;var Pt=mt.stateNode;if(Pt&&Pt.__reactInternalMemoizedUnmaskedChildContext===yt)return Pt.__reactInternalMemoizedMaskedChildContext;var Dt={},Nt;for(Nt in wt)Dt[Nt]=yt[Nt];return Pt&&(mt=mt.stateNode,mt.__reactInternalMemoizedUnmaskedChildContext=yt,mt.__reactInternalMemoizedMaskedChildContext=Dt),Dt}function Lr(mt){return mt=mt.childContextTypes,mt!=null}function eo(){tr(Ir),tr(mr)}function Co(mt,yt,wt){if(mr.current!==rs)throw Error(st(168));lr(mr,yt),lr(Ir,wt)}function To(mt,yt,wt){var Pt=mt.stateNode;if(yt=yt.childContextTypes,typeof Pt.getChildContext!="function")return wt;Pt=Pt.getChildContext();for(var Dt in Pt)if(!(Dt in yt))throw Error(st(108,St(mt)||"Unknown",Dt));return it({},wt,Pt)}function Fs(mt){return mt=(mt=mt.stateNode)&&mt.__reactInternalMemoizedMergedChildContext||rs,ss=mr.current,lr(mr,mt),lr(Ir,Ir.current),!0}function Pl(mt,yt,wt){var Pt=mt.stateNode;if(!Pt)throw Error(st(169));wt?(mt=To(mt,yt,ss),Pt.__reactInternalMemoizedMergedChildContext=mt,tr(Ir),tr(mr),lr(mr,mt)):tr(Ir),lr(Ir,wt)}var qr=Math.clz32?Math.clz32:Rl,Po=Math.log,ho=Math.LN2;function Rl(mt){return mt>>>=0,mt===0?32:31-(Po(mt)/ho|0)|0}var Hs=64,js=4194304;function Ws(mt){switch(mt&-mt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return mt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return mt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return mt}}function po(mt,yt){var wt=mt.pendingLanes;if(wt===0)return 0;var Pt=0,Dt=mt.suspendedLanes,Nt=mt.pingedLanes,en=wt&268435455;if(en!==0){var dn=en&~Dt;dn!==0?Pt=Ws(dn):(Nt&=en,Nt!==0&&(Pt=Ws(Nt)))}else en=wt&~Dt,en!==0?Pt=Ws(en):Nt!==0&&(Pt=Ws(Nt));if(Pt===0)return 0;if(yt!==0&&yt!==Pt&&(yt&Dt)===0&&(Dt=Pt&-Pt,Nt=yt&-yt,Dt>=Nt||Dt===16&&(Nt&4194240)!==0))return yt;if((Pt&4)!==0&&(Pt|=wt&16),yt=mt.entangledLanes,yt!==0)for(mt=mt.entanglements,yt&=Pt;0<yt;)wt=31-qr(yt),Dt=1<<wt,Pt|=mt[wt],yt&=~Dt;return Pt}function Bl(mt,yt){switch(mt){case 1:case 2:case 4:return yt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return yt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(mt,yt){for(var wt=mt.suspendedLanes,Pt=mt.pingedLanes,Dt=mt.expirationTimes,Nt=mt.pendingLanes;0<Nt;){var en=31-qr(Nt),dn=1<<en,Cn=Dt[en];Cn===-1?((dn&wt)===0||(dn&Pt)!==0)&&(Dt[en]=Bl(dn,yt)):Cn<=yt&&(mt.expiredLanes|=dn),Nt&=~dn}}function Ks(mt){return mt=mt.pendingLanes&-1073741825,mt!==0?mt:mt&1073741824?1073741824:0}function Ro(mt){for(var yt=[],wt=0;31>wt;wt++)yt.push(mt);return yt}function Os(mt,yt,wt){mt.pendingLanes|=yt,yt!==536870912&&(mt.suspendedLanes=0,mt.pingedLanes=0),mt=mt.eventTimes,yt=31-qr(yt),mt[yt]=wt}function to(mt,yt){var wt=mt.pendingLanes&~yt;mt.pendingLanes=yt,mt.suspendedLanes=0,mt.pingedLanes=0,mt.expiredLanes&=yt,mt.mutableReadLanes&=yt,mt.entangledLanes&=yt,yt=mt.entanglements;var Pt=mt.eventTimes;for(mt=mt.expirationTimes;0<wt;){var Dt=31-qr(wt),Nt=1<<Dt;yt[Dt]=0,Pt[Dt]=-1,mt[Dt]=-1,wt&=~Nt}}function Ns(mt,yt){var wt=mt.entangledLanes|=yt;for(mt=mt.entanglements;wt;){var Pt=31-qr(wt),Dt=1<<Pt;Dt&yt|mt[Pt]&yt&&(mt[Pt]|=yt),wt&=~Dt}}var ur=0;function Wo(mt){return mt&=-mt,1<mt?4<mt?(mt&268435455)!==0?16:536870912:4:1}var Xs=rt.unstable_scheduleCallback,Bo=rt.unstable_cancelCallback,Ko=rt.unstable_shouldYield,Dl=rt.unstable_requestPaint,Er=rt.unstable_now,no=rt.unstable_ImmediatePriority,Il=rt.unstable_UserBlockingPriority,os=rt.unstable_NormalPriority,Xo=rt.unstable_IdlePriority,ro=null,gs=null;function Jo(mt){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(ro,mt,void 0,(mt.current.flags&128)===128)}catch{}}function Do(mt,yt){return mt===yt&&(mt!==0||1/mt===1/yt)||mt!==mt&&yt!==yt}var vs=typeof Object.is=="function"?Object.is:Do,as=null,Gs=!1,Ms=!1;function Yo(mt){as===null?as=[mt]:as.push(mt)}function qo(mt){Gs=!0,Yo(mt)}function fs(){if(!Ms&&as!==null){Ms=!0;var mt=0,yt=ur;try{var wt=as;for(ur=1;mt<wt.length;mt++){var Pt=wt[mt];do Pt=Pt(!0);while(Pt!==null)}as=null,Gs=!1}catch(Dt){throw as!==null&&(as=as.slice(mt+1)),Xs(no,fs),Dt}finally{ur=yt,Ms=!1}}return null}var mo=ot.ReactCurrentBatchConfig;function go(mt,yt){if(vs(mt,yt))return!0;if(typeof mt!="object"||mt===null||typeof yt!="object"||yt===null)return!1;var wt=Object.keys(mt),Pt=Object.keys(yt);if(wt.length!==Pt.length)return!1;for(Pt=0;Pt<wt.length;Pt++){var Dt=wt[Pt];if(!Wr.call(yt,Dt)||!vs(mt[Dt],yt[Dt]))return!1}return!0}function vo(mt){switch(mt.tag){case 5:return sr(mt.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 2:case 15:return mt=Sr(mt.type,!1),mt;case 11:return mt=Sr(mt.type.render,!1),mt;case 1:return mt=Sr(mt.type,!0),mt;default:return""}}function Qr(mt,yt){if(mt&&mt.defaultProps){yt=it({},yt),mt=mt.defaultProps;for(var wt in mt)yt[wt]===void 0&&(yt[wt]=mt[wt]);return yt}return yt}var Vr=Xr(null),Io=null,Is=null,io=null;function Lo(){io=Is=Io=null}function Ll(mt,yt,wt){Gt?(lr(Vr,yt._currentValue),yt._currentValue=wt):(lr(Vr,yt._currentValue2),yt._currentValue2=wt)}function Us(mt){var yt=Vr.current;tr(Vr),Gt?mt._currentValue=yt:mt._currentValue2=yt}function Fr(mt,yt,wt){for(;mt!==null;){var Pt=mt.alternate;if((mt.childLanes&yt)!==yt?(mt.childLanes|=yt,Pt!==null&&(Pt.childLanes|=yt)):Pt!==null&&(Pt.childLanes&yt)!==yt&&(Pt.childLanes|=yt),mt===wt)break;mt=mt.return}}function $r(mt,yt){Io=mt,io=Is=null,mt=mt.dependencies,mt!==null&&mt.firstContext!==null&&((mt.lanes&yt)!==0&&(_s=!0),mt.firstContext=null)}function Ar(mt){var yt=Gt?mt._currentValue:mt._currentValue2;if(io!==mt)if(mt={context:mt,memoizedValue:yt,next:null},Is===null){if(Io===null)throw Error(st(308));Is=mt,Io.dependencies={lanes:0,firstContext:mt}}else Is=Is.next=mt;return yt}var Ur=null,Ls=!1;function bu(mt){mt.updateQueue={baseState:mt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dp(mt,yt){mt=mt.updateQueue,yt.updateQueue===mt&&(yt.updateQueue={baseState:mt.baseState,firstBaseUpdate:mt.firstBaseUpdate,lastBaseUpdate:mt.lastBaseUpdate,shared:mt.shared,effects:mt.effects})}function Js(mt,yt){return{eventTime:mt,lane:yt,tag:0,payload:null,callback:null,next:null}}function so(mt,yt){var wt=mt.updateQueue;wt!==null&&(wt=wt.shared,Or!==null&&(mt.mode&1)!==0&&(cr&2)===0?(mt=wt.interleaved,mt===null?(yt.next=yt,Ur===null?Ur=[wt]:Ur.push(wt)):(yt.next=mt.next,mt.next=yt),wt.interleaved=yt):(mt=wt.pending,mt===null?yt.next=yt:(yt.next=mt.next,mt.next=yt),wt.pending=yt))}function Fl(mt,yt,wt){if(yt=yt.updateQueue,yt!==null&&(yt=yt.shared,(wt&4194240)!==0)){var Pt=yt.lanes;Pt&=mt.pendingLanes,wt|=Pt,yt.lanes=wt,Ns(mt,wt)}}function pp(mt,yt){var wt=mt.updateQueue,Pt=mt.alternate;if(Pt!==null&&(Pt=Pt.updateQueue,wt===Pt)){var Dt=null,Nt=null;if(wt=wt.firstBaseUpdate,wt!==null){do{var en={eventTime:wt.eventTime,lane:wt.lane,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null};Nt===null?Dt=Nt=en:Nt=Nt.next=en,wt=wt.next}while(wt!==null);Nt===null?Dt=Nt=yt:Nt=Nt.next=yt}else Dt=Nt=yt;wt={baseState:Pt.baseState,firstBaseUpdate:Dt,lastBaseUpdate:Nt,shared:Pt.shared,effects:Pt.effects},mt.updateQueue=wt;return}mt=wt.lastBaseUpdate,mt===null?wt.firstBaseUpdate=yt:mt.next=yt,wt.lastBaseUpdate=yt}function Ol(mt,yt,wt,Pt){var Dt=mt.updateQueue;Ls=!1;var Nt=Dt.firstBaseUpdate,en=Dt.lastBaseUpdate,dn=Dt.shared.pending;if(dn!==null){Dt.shared.pending=null;var Cn=dn,On=Cn.next;Cn.next=null,en===null?Nt=On:en.next=On,en=Cn;var jn=mt.alternate;jn!==null&&(jn=jn.updateQueue,dn=jn.lastBaseUpdate,dn!==en&&(dn===null?jn.firstBaseUpdate=On:dn.next=On,jn.lastBaseUpdate=Cn))}if(Nt!==null){var nr=Dt.baseState;en=0,jn=On=Cn=null,dn=Nt;do{var qn=dn.lane,Mr=dn.eventTime;if((Pt&qn)===qn){jn!==null&&(jn=jn.next={eventTime:Mr,lane:0,tag:dn.tag,payload:dn.payload,callback:dn.callback,next:null});e:{var Kn=mt,ts=dn;switch(qn=yt,Mr=wt,ts.tag){case 1:if(Kn=ts.payload,typeof Kn=="function"){nr=Kn.call(Mr,nr,qn);break e}nr=Kn;break e;case 3:Kn.flags=Kn.flags&-65537|128;case 0:if(Kn=ts.payload,qn=typeof Kn=="function"?Kn.call(Mr,nr,qn):Kn,qn==null)break e;nr=it({},nr,qn);break e;case 2:Ls=!0}}dn.callback!==null&&dn.lane!==0&&(mt.flags|=64,qn=Dt.effects,qn===null?Dt.effects=[dn]:qn.push(dn))}else Mr={eventTime:Mr,lane:qn,tag:dn.tag,payload:dn.payload,callback:dn.callback,next:null},jn===null?(On=jn=Mr,Cn=nr):jn=jn.next=Mr,en|=qn;if(dn=dn.next,dn===null){if(dn=Dt.shared.pending,dn===null)break;qn=dn,dn=qn.next,qn.next=null,Dt.lastBaseUpdate=qn,Dt.shared.pending=null}}while(1);if(jn===null&&(Cn=nr),Dt.baseState=Cn,Dt.firstBaseUpdate=On,Dt.lastBaseUpdate=jn,yt=Dt.shared.interleaved,yt!==null){Dt=yt;do en|=Dt.lane,Dt=Dt.next;while(Dt!==yt)}else Nt===null&&(Dt.shared.lanes=0);$o|=en,mt.lanes=en,mt.memoizedState=nr}}function mp(mt,yt,wt){if(mt=yt.effects,yt.effects=null,mt!==null)for(yt=0;yt<mt.length;yt++){var Pt=mt[yt],Dt=Pt.callback;if(Dt!==null){if(Pt.callback=null,Pt=wt,typeof Dt!="function")throw Error(st(191,Dt));Dt.call(Pt)}}}var gp=new nt.Component().refs;function Su(mt,yt,wt,Pt){yt=mt.memoizedState,wt=wt(Pt,yt),wt=wt==null?yt:it({},yt,wt),mt.memoizedState=wt,mt.lanes===0&&(mt.updateQueue.baseState=wt)}var Nl={isMounted:function(mt){return(mt=mt._reactInternals)?Ct(mt)===mt:!1},enqueueSetState:function(mt,yt,wt){mt=mt._reactInternals;var Pt=cs(),Dt=lo(mt),Nt=Js(Pt,Dt);Nt.payload=yt,wt!=null&&(Nt.callback=wt),so(mt,Nt),yt=Rs(mt,Dt,Pt),yt!==null&&Fl(yt,mt,Dt)},enqueueReplaceState:function(mt,yt,wt){mt=mt._reactInternals;var Pt=cs(),Dt=lo(mt),Nt=Js(Pt,Dt);Nt.tag=1,Nt.payload=yt,wt!=null&&(Nt.callback=wt),so(mt,Nt),yt=Rs(mt,Dt,Pt),yt!==null&&Fl(yt,mt,Dt)},enqueueForceUpdate:function(mt,yt){mt=mt._reactInternals;var wt=cs(),Pt=lo(mt),Dt=Js(wt,Pt);Dt.tag=2,yt!=null&&(Dt.callback=yt),so(mt,Dt),yt=Rs(mt,Pt,wt),yt!==null&&Fl(yt,mt,Pt)}};function vp(mt,yt,wt,Pt,Dt,Nt,en){return mt=mt.stateNode,typeof mt.shouldComponentUpdate=="function"?mt.shouldComponentUpdate(Pt,Nt,en):yt.prototype&&yt.prototype.isPureReactComponent?!go(wt,Pt)||!go(Dt,Nt):!0}function yp(mt,yt,wt){var Pt=!1,Dt=rs,Nt=yt.contextType;return typeof Nt=="object"&&Nt!==null?Nt=Ar(Nt):(Dt=Lr(yt)?ss:mr.current,Pt=yt.contextTypes,Nt=(Pt=Pt!=null)?ms(mt,Dt):rs),yt=new yt(wt,Nt),mt.memoizedState=yt.state!==null&&yt.state!==void 0?yt.state:null,yt.updater=Nl,mt.stateNode=yt,yt._reactInternals=mt,Pt&&(mt=mt.stateNode,mt.__reactInternalMemoizedUnmaskedChildContext=Dt,mt.__reactInternalMemoizedMaskedChildContext=Nt),yt}function xp(mt,yt,wt,Pt){mt=yt.state,typeof yt.componentWillReceiveProps=="function"&&yt.componentWillReceiveProps(wt,Pt),typeof yt.UNSAFE_componentWillReceiveProps=="function"&&yt.UNSAFE_componentWillReceiveProps(wt,Pt),yt.state!==mt&&Nl.enqueueReplaceState(yt,yt.state,null)}function wu(mt,yt,wt,Pt){var Dt=mt.stateNode;Dt.props=wt,Dt.state=mt.memoizedState,Dt.refs=gp,bu(mt);var Nt=yt.contextType;typeof Nt=="object"&&Nt!==null?Dt.context=Ar(Nt):(Nt=Lr(yt)?ss:mr.current,Dt.context=ms(mt,Nt)),Dt.state=mt.memoizedState,Nt=yt.getDerivedStateFromProps,typeof Nt=="function"&&(Su(mt,yt,Nt,wt),Dt.state=mt.memoizedState),typeof yt.getDerivedStateFromProps=="function"||typeof Dt.getSnapshotBeforeUpdate=="function"||typeof Dt.UNSAFE_componentWillMount!="function"&&typeof Dt.componentWillMount!="function"||(yt=Dt.state,typeof Dt.componentWillMount=="function"&&Dt.componentWillMount(),typeof Dt.UNSAFE_componentWillMount=="function"&&Dt.UNSAFE_componentWillMount(),yt!==Dt.state&&Nl.enqueueReplaceState(Dt,Dt.state,null),Ol(mt,wt,Dt,Pt),Dt.state=mt.memoizedState),typeof Dt.componentDidMount=="function"&&(mt.flags|=4194308)}var ko=[],Fo=0,Gl=null,Ul=0,Es=[],Cs=0,yo=null,Ys=1,qs="";function xo(mt,yt){ko[Fo++]=Ul,ko[Fo++]=Gl,Gl=mt,Ul=yt}function _p(mt,yt,wt){Es[Cs++]=Ys,Es[Cs++]=qs,Es[Cs++]=yo,yo=mt;var Pt=Ys;mt=qs;var Dt=32-qr(Pt)-1;Pt&=~(1<<Dt),wt+=1;var Nt=32-qr(yt)+Dt;if(30<Nt){var en=Dt-Dt%5;Nt=(Pt&(1<<en)-1).toString(32),Pt>>=en,Dt-=en,Ys=1<<32-qr(yt)+Dt|wt<<Dt|Pt,qs=Nt+mt}else Ys=1<<Nt|wt<<Dt|Pt,qs=mt}function Au(mt){mt.return!==null&&(xo(mt,1),_p(mt,1,0))}function Mu(mt){for(;mt===Gl;)Gl=ko[--Fo],ko[Fo]=null,Ul=ko[--Fo],ko[Fo]=null;for(;mt===yo;)yo=Es[--Cs],Es[Cs]=null,qs=Es[--Cs],Es[Cs]=null,Ys=Es[--Cs],Es[Cs]=null}var ys=null,xs=null,Cr=!1,Qo=!1,ks=null;function bp(mt,yt){var wt=Bs(5,null,null,0);wt.elementType="DELETED",wt.stateNode=yt,wt.return=mt,yt=mt.deletions,yt===null?(mt.deletions=[wt],mt.flags|=16):yt.push(wt)}function Sp(mt,yt){switch(mt.tag){case 5:return yt=Rr(yt,mt.type,mt.pendingProps),yt!==null?(mt.stateNode=yt,ys=mt,xs=En(yt),!0):!1;case 6:return yt=ns(yt,mt.pendingProps),yt!==null?(mt.stateNode=yt,ys=mt,xs=null,!0):!1;case 13:if(yt=Dr(yt),yt!==null){var wt=yo!==null?{id:Ys,overflow:qs}:null;return mt.memoizedState={dehydrated:yt,treeContext:wt,retryLane:1073741824},wt=Bs(18,null,null,0),wt.stateNode=yt,wt.return=mt,mt.child=wt,ys=mt,xs=null,!0}return!1;default:return!1}}function Eu(mt){return(mt.mode&1)!==0&&(mt.flags&128)===0}function Cu(mt){if(Cr){var yt=xs;if(yt){var wt=yt;if(!Sp(mt,yt)){if(Eu(mt))throw Error(st(418));yt=yn(wt);var Pt=ys;yt&&Sp(mt,yt)?bp(Pt,wt):(mt.flags=mt.flags&-4097|2,Cr=!1,ys=mt)}}else{if(Eu(mt))throw Error(st(418));mt.flags=mt.flags&-4097|2,Cr=!1,ys=mt}}}function wp(mt){for(mt=mt.return;mt!==null&&mt.tag!==5&&mt.tag!==3&&mt.tag!==13;)mt=mt.return;ys=mt}function Zo(mt){if(!Kt||mt!==ys)return!1;if(!Cr)return wp(mt),Cr=!0,!1;if(mt.tag!==3&&(mt.tag!==5||us(mt.type)&&!cn(mt.type,mt.memoizedProps))){var yt=xs;if(yt){if(Eu(mt)){for(mt=xs;mt;)mt=yn(mt);throw Error(st(418))}for(;yt;)bp(mt,yt),yt=yn(yt)}}if(wp(mt),mt.tag===13){if(!Kt)throw Error(st(316));if(mt=mt.memoizedState,mt=mt!==null?mt.dehydrated:null,!mt)throw Error(st(317));xs=Zn(mt)}else xs=ys?yn(mt.stateNode):null;return!0}function Oo(){Kt&&(xs=ys=null,Qo=Cr=!1)}function Tu(mt){ks===null?ks=[mt]:ks.push(mt)}function na(mt,yt,wt){if(mt=wt.ref,mt!==null&&typeof mt!="function"&&typeof mt!="object"){if(wt._owner){if(wt=wt._owner,wt){if(wt.tag!==1)throw Error(st(309));var Pt=wt.stateNode}if(!Pt)throw Error(st(147,mt));var Dt=Pt,Nt=""+mt;return yt!==null&&yt.ref!==null&&typeof yt.ref=="function"&&yt.ref._stringRef===Nt?yt.ref:(yt=function(en){var dn=Dt.refs;dn===gp&&(dn=Dt.refs={}),en===null?delete dn[Nt]:dn[Nt]=en},yt._stringRef=Nt,yt)}if(typeof mt!="string")throw Error(st(284));if(!wt._owner)throw Error(st(290,mt))}return mt}function zl(mt,yt){throw mt=Object.prototype.toString.call(yt),Error(st(31,mt==="[object Object]"?"object with keys {"+Object.keys(yt).join(", ")+"}":mt))}function Ap(mt){var yt=mt._init;return yt(mt._payload)}function Mp(mt){function yt(_n,mn){if(mt){var An=_n.deletions;An===null?(_n.deletions=[mn],_n.flags|=16):An.push(mn)}}function wt(_n,mn){if(!mt)return null;for(;mn!==null;)yt(_n,mn),mn=mn.sibling;return null}function Pt(_n,mn){for(_n=new Map;mn!==null;)mn.key!==null?_n.set(mn.key,mn):_n.set(mn.index,mn),mn=mn.sibling;return _n}function Dt(_n,mn){return _n=uo(_n,mn),_n.index=0,_n.sibling=null,_n}function Nt(_n,mn,An){return _n.index=An,mt?(An=_n.alternate,An!==null?(An=An.index,An<mn?(_n.flags|=2,mn):An):(_n.flags|=2,mn)):(_n.flags|=1048576,mn)}function en(_n){return mt&&_n.alternate===null&&(_n.flags|=2),_n}function dn(_n,mn,An,Vn){return mn===null||mn.tag!==6?(mn=up(An,_n.mode,Vn),mn.return=_n,mn):(mn=Dt(mn,An),mn.return=_n,mn)}function Cn(_n,mn,An,Vn){var Wn=An.type;return Wn===ct?jn(_n,mn,An.props.children,Vn,An.key):mn!==null&&(mn.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===_t&&Ap(Wn)===mn.type)?(Vn=Dt(mn,An.props),Vn.ref=na(_n,mn,An),Vn.return=_n,Vn):(Vn=xu(An.type,An.key,An.props,null,_n.mode,Vn),Vn.ref=na(_n,mn,An),Vn.return=_n,Vn)}function On(_n,mn,An,Vn){return mn===null||mn.tag!==4||mn.stateNode.containerInfo!==An.containerInfo||mn.stateNode.implementation!==An.implementation?(mn=fp(An,_n.mode,Vn),mn.return=_n,mn):(mn=Dt(mn,An.children||[]),mn.return=_n,mn)}function jn(_n,mn,An,Vn,Wn){return mn===null||mn.tag!==7?(mn=Eo(An,_n.mode,Vn,Wn),mn.return=_n,mn):(mn=Dt(mn,An),mn.return=_n,mn)}function nr(_n,mn,An){if(typeof mn=="string"&&mn!==""||typeof mn=="number")return mn=up(""+mn,_n.mode,An),mn.return=_n,mn;if(typeof mn=="object"&&mn!==null){switch(mn.$$typeof){case at:return An=xu(mn.type,mn.key,mn.props,null,_n.mode,An),An.ref=na(_n,null,mn),An.return=_n,An;case lt:return mn=fp(mn,_n.mode,An),mn.return=_n,mn;case _t:var Vn=mn._init;return nr(_n,Vn(mn._payload),An)}if($t(mn)||Mt(mn))return mn=Eo(mn,_n.mode,An,null),mn.return=_n,mn;zl(_n,mn)}return null}function qn(_n,mn,An,Vn){var Wn=mn!==null?mn.key:null;if(typeof An=="string"&&An!==""||typeof An=="number")return Wn!==null?null:dn(_n,mn,""+An,Vn);if(typeof An=="object"&&An!==null){switch(An.$$typeof){case at:return An.key===Wn?Cn(_n,mn,An,Vn):null;case lt:return An.key===Wn?On(_n,mn,An,Vn):null;case _t:return Wn=An._init,qn(_n,mn,Wn(An._payload),Vn)}if($t(An)||Mt(An))return Wn!==null?null:jn(_n,mn,An,Vn,null);zl(_n,An)}return null}function Mr(_n,mn,An,Vn,Wn){if(typeof Vn=="string"&&Vn!==""||typeof Vn=="number")return _n=_n.get(An)||null,dn(mn,_n,""+Vn,Wn);if(typeof Vn=="object"&&Vn!==null){switch(Vn.$$typeof){case at:return _n=_n.get(Vn.key===null?An:Vn.key)||null,Cn(mn,_n,Vn,Wn);case lt:return _n=_n.get(Vn.key===null?An:Vn.key)||null,On(mn,_n,Vn,Wn);case _t:var or=Vn._init;return Mr(_n,mn,An,or(Vn._payload),Wn)}if($t(Vn)||Mt(Vn))return _n=_n.get(An)||null,jn(mn,_n,Vn,Wn,null);zl(mn,Vn)}return null}function Kn(_n,mn,An,Vn){for(var Wn=null,or=null,rr=mn,gr=mn=0,jr=null;rr!==null&&gr<An.length;gr++){rr.index>gr?(jr=rr,rr=null):jr=rr.sibling;var vr=qn(_n,rr,An[gr],Vn);if(vr===null){rr===null&&(rr=jr);break}mt&&rr&&vr.alternate===null&&yt(_n,rr),mn=Nt(vr,mn,gr),or===null?Wn=vr:or.sibling=vr,or=vr,rr=jr}if(gr===An.length)return wt(_n,rr),Cr&&xo(_n,gr),Wn;if(rr===null){for(;gr<An.length;gr++)rr=nr(_n,An[gr],Vn),rr!==null&&(mn=Nt(rr,mn,gr),or===null?Wn=rr:or.sibling=rr,or=rr);return Cr&&xo(_n,gr),Wn}for(rr=Pt(_n,rr);gr<An.length;gr++)jr=Mr(rr,_n,gr,An[gr],Vn),jr!==null&&(mt&&jr.alternate!==null&&rr.delete(jr.key===null?gr:jr.key),mn=Nt(jr,mn,gr),or===null?Wn=jr:or.sibling=jr,or=jr);return mt&&rr.forEach(function(fo){return yt(_n,fo)}),Cr&&xo(_n,gr),Wn}function ts(_n,mn,An,Vn){var Wn=Mt(An);if(typeof Wn!="function")throw Error(st(150));if(An=Wn.call(An),An==null)throw Error(st(151));for(var or=Wn=null,rr=mn,gr=mn=0,jr=null,vr=An.next();rr!==null&&!vr.done;gr++,vr=An.next()){rr.index>gr?(jr=rr,rr=null):jr=rr.sibling;var fo=qn(_n,rr,vr.value,Vn);if(fo===null){rr===null&&(rr=jr);break}mt&&rr&&fo.alternate===null&&yt(_n,rr),mn=Nt(fo,mn,gr),or===null?Wn=fo:or.sibling=fo,or=fo,rr=jr}if(vr.done)return wt(_n,rr),Cr&&xo(_n,gr),Wn;if(rr===null){for(;!vr.done;gr++,vr=An.next())vr=nr(_n,vr.value,Vn),vr!==null&&(mn=Nt(vr,mn,gr),or===null?Wn=vr:or.sibling=vr,or=vr);return Cr&&xo(_n,gr),Wn}for(rr=Pt(_n,rr);!vr.done;gr++,vr=An.next())vr=Mr(rr,_n,gr,vr.value,Vn),vr!==null&&(mt&&vr.alternate!==null&&rr.delete(vr.key===null?gr:vr.key),mn=Nt(vr,mn,gr),or===null?Wn=vr:or.sibling=vr,or=vr);return mt&&rr.forEach(function(m0){return yt(_n,m0)}),Cr&&xo(_n,gr),Wn}function Ds(_n,mn,An,Vn){if(typeof An=="object"&&An!==null&&An.type===ct&&An.key===null&&(An=An.props.children),typeof An=="object"&&An!==null){switch(An.$$typeof){case at:e:{for(var Wn=An.key,or=mn;or!==null;){if(or.key===Wn){if(Wn=An.type,Wn===ct){if(or.tag===7){wt(_n,or.sibling),mn=Dt(or,An.props.children),mn.return=_n,_n=mn;break e}}else if(or.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===_t&&Ap(Wn)===or.type){wt(_n,or.sibling),mn=Dt(or,An.props),mn.ref=na(_n,or,An),mn.return=_n,_n=mn;break e}wt(_n,or);break}else yt(_n,or);or=or.sibling}An.type===ct?(mn=Eo(An.props.children,_n.mode,Vn,An.key),mn.return=_n,_n=mn):(Vn=xu(An.type,An.key,An.props,null,_n.mode,Vn),Vn.ref=na(_n,mn,An),Vn.return=_n,_n=Vn)}return en(_n);case lt:e:{for(or=An.key;mn!==null;){if(mn.key===or)if(mn.tag===4&&mn.stateNode.containerInfo===An.containerInfo&&mn.stateNode.implementation===An.implementation){wt(_n,mn.sibling),mn=Dt(mn,An.children||[]),mn.return=_n,_n=mn;break e}else{wt(_n,mn);break}else yt(_n,mn);mn=mn.sibling}mn=fp(An,_n.mode,Vn),mn.return=_n,_n=mn}return en(_n);case _t:return or=An._init,Ds(_n,mn,or(An._payload),Vn)}if($t(An))return Kn(_n,mn,An,Vn);if(Mt(An))return ts(_n,mn,An,Vn);zl(_n,An)}return typeof An=="string"&&An!==""||typeof An=="number"?(An=""+An,mn!==null&&mn.tag===6?(wt(_n,mn.sibling),mn=Dt(mn,An),mn.return=_n,_n=mn):(wt(_n,mn),mn=up(An,_n.mode,Vn),mn.return=_n,_n=mn),en(_n)):wt(_n,mn)}return Ds}var No=Mp(!0),Ep=Mp(!1),ga={},Ts=Xr(ga),xa=Xr(ga),Go=Xr(ga);function zs(mt){if(mt===ga)throw Error(st(174));return mt}function Pu(mt,yt){lr(Go,yt),lr(xa,mt),lr(Ts,ga),mt=Ht(yt),tr(Ts),lr(Ts,mt)}function Uo(){tr(Ts),tr(xa),tr(Go)}function Cp(mt){var yt=zs(Go.current),wt=zs(Ts.current);yt=Bt(wt,mt.type,yt),wt!==yt&&(lr(xa,mt),lr(Ts,yt))}function Ru(mt){xa.current===mt&&(tr(Ts),tr(xa))}var Pr=Xr(0);function Vl(mt){for(var yt=mt;yt!==null;){if(yt.tag===13){var wt=yt.memoizedState;if(wt!==null&&(wt=wt.dehydrated,wt===null||Tr(wt)||Gr(wt)))return yt}else if(yt.tag===19&&yt.memoizedProps.revealOrder!==void 0){if((yt.flags&128)!==0)return yt}else if(yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===mt)break;for(;yt.sibling===null;){if(yt.return===null||yt.return===mt)return null;yt=yt.return}yt.sibling.return=yt.return,yt=yt.sibling}return null}var Bu=[];function Du(){for(var mt=0;mt<Bu.length;mt++){var yt=Bu[mt];Gt?yt._workInProgressVersionPrimary=null:yt._workInProgressVersionSecondary=null}Bu.length=0}var $l=ot.ReactCurrentDispatcher,Ps=ot.ReactCurrentBatchConfig,zo=0,Br=null,Zr=null,Hr=null,Hl=!1,_a=!1,ba=0,zm=0;function _i(){throw Error(st(321))}function Iu(mt,yt){if(yt===null)return!1;for(var wt=0;wt<yt.length&&wt<mt.length;wt++)if(!vs(mt[wt],yt[wt]))return!1;return!0}function Lu(mt,yt,wt,Pt,Dt,Nt){if(zo=Nt,Br=yt,yt.memoizedState=null,yt.updateQueue=null,yt.lanes=0,$l.current=mt===null||mt.memoizedState===null?jm:Wm,mt=wt(Pt,Dt),_a){Nt=0;do{if(_a=!1,ba=0,25<=Nt)throw Error(st(301));Nt+=1,Hr=Zr=null,yt.updateQueue=null,$l.current=Km,mt=wt(Pt,Dt)}while(_a)}if($l.current=Yl,yt=Zr!==null&&Zr.next!==null,zo=0,Hr=Zr=Br=null,Hl=!1,yt)throw Error(st(300));return mt}function ku(){var mt=ba!==0;return ba=0,mt}function Qs(){var mt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?Br.memoizedState=Hr=mt:Hr=Hr.next=mt,Hr}function Vs(){if(Zr===null){var mt=Br.alternate;mt=mt!==null?mt.memoizedState:null}else mt=Zr.next;var yt=Hr===null?Br.memoizedState:Hr.next;if(yt!==null)Hr=yt,Zr=mt;else{if(mt===null)throw Error(st(310));Zr=mt,mt={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},Hr===null?Br.memoizedState=Hr=mt:Hr=Hr.next=mt}return Hr}function _o(mt,yt){return typeof yt=="function"?yt(mt):yt}function Wl(mt){var yt=Vs(),wt=yt.queue;if(wt===null)throw Error(st(311));wt.lastRenderedReducer=mt;var Pt=Zr,Dt=Pt.baseQueue,Nt=wt.pending;if(Nt!==null){if(Dt!==null){var en=Dt.next;Dt.next=Nt.next,Nt.next=en}Pt.baseQueue=Dt=Nt,wt.pending=null}if(Dt!==null){Nt=Dt.next,Pt=Pt.baseState;var dn=en=null,Cn=null,On=Nt;do{var jn=On.lane;if((zo&jn)===jn)Cn!==null&&(Cn=Cn.next={lane:0,action:On.action,hasEagerState:On.hasEagerState,eagerState:On.eagerState,next:null}),Pt=On.hasEagerState?On.eagerState:mt(Pt,On.action);else{var nr={lane:jn,action:On.action,hasEagerState:On.hasEagerState,eagerState:On.eagerState,next:null};Cn===null?(dn=Cn=nr,en=Pt):Cn=Cn.next=nr,Br.lanes|=jn,$o|=jn}On=On.next}while(On!==null&&On!==Nt);Cn===null?en=Pt:Cn.next=dn,vs(Pt,yt.memoizedState)||(_s=!0),yt.memoizedState=Pt,yt.baseState=en,yt.baseQueue=Cn,wt.lastRenderedState=Pt}if(mt=wt.interleaved,mt!==null){Dt=mt;do Nt=Dt.lane,Br.lanes|=Nt,$o|=Nt,Dt=Dt.next;while(Dt!==mt)}else Dt===null&&(wt.lanes=0);return[yt.memoizedState,wt.dispatch]}function Kl(mt){var yt=Vs(),wt=yt.queue;if(wt===null)throw Error(st(311));wt.lastRenderedReducer=mt;var Pt=wt.dispatch,Dt=wt.pending,Nt=yt.memoizedState;if(Dt!==null){wt.pending=null;var en=Dt=Dt.next;do Nt=mt(Nt,en.action),en=en.next;while(en!==Dt);vs(Nt,yt.memoizedState)||(_s=!0),yt.memoizedState=Nt,yt.baseQueue===null&&(yt.baseState=Nt),wt.lastRenderedState=Nt}return[Nt,Pt]}function Tp(){}function Pp(mt,yt){var wt=Br,Pt=Vs(),Dt=yt(),Nt=!vs(Pt.memoizedState,Dt);if(Nt&&(Pt.memoizedState=Dt,_s=!0),Pt=Pt.queue,yl(Dp.bind(null,wt,Pt,mt),[mt]),Pt.getSnapshot!==yt||Nt||Hr!==null&&Hr.memoizedState.tag&1){if(wt.flags|=2048,$a(9,Bp.bind(null,wt,Pt,Dt,yt),void 0,null),Or===null)throw Error(st(349));(zo&30)!==0||Rp(wt,yt,Dt)}return Dt}function Rp(mt,yt,wt){mt.flags|=16384,mt={getSnapshot:yt,value:wt},yt=Br.updateQueue,yt===null?(yt={lastEffect:null,stores:null},Br.updateQueue=yt,yt.stores=[mt]):(wt=yt.stores,wt===null?yt.stores=[mt]:wt.push(mt))}function Bp(mt,yt,wt,Pt){yt.value=wt,yt.getSnapshot=Pt,Ip(yt)&&Rs(mt,1,-1)}function Dp(mt,yt,wt){return wt(function(){Ip(yt)&&Rs(mt,1,-1)})}function Ip(mt){var yt=mt.getSnapshot;mt=mt.value;try{var wt=yt();return!vs(mt,wt)}catch{return!0}}function Fu(mt){var yt=Qs();return typeof mt=="function"&&(mt=mt()),yt.memoizedState=yt.baseState=mt,mt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:mt},yt.queue=mt,mt=mt.dispatch=Hm.bind(null,Br,mt),[yt.memoizedState,mt]}function $a(mt,yt,wt,Pt){return mt={tag:mt,create:yt,destroy:wt,deps:Pt,next:null},yt=Br.updateQueue,yt===null?(yt={lastEffect:null,stores:null},Br.updateQueue=yt,yt.lastEffect=mt.next=mt):(wt=yt.lastEffect,wt===null?yt.lastEffect=mt.next=mt:(Pt=wt.next,wt.next=mt,mt.next=Pt,yt.lastEffect=mt)),mt}function Lp(){return Vs().memoizedState}function Xl(mt,yt,wt,Pt){var Dt=Qs();Br.flags|=mt,Dt.memoizedState=$a(1|yt,wt,void 0,Pt===void 0?null:Pt)}function Jl(mt,yt,wt,Pt){var Dt=Vs();Pt=Pt===void 0?null:Pt;var Nt=void 0;if(Zr!==null){var en=Zr.memoizedState;if(Nt=en.destroy,Pt!==null&&Iu(Pt,en.deps)){Dt.memoizedState=$a(yt,wt,Nt,Pt);return}}Br.flags|=mt,Dt.memoizedState=$a(1|yt,wt,Nt,Pt)}function Ou(mt,yt){return Xl(8390656,8,mt,yt)}function yl(mt,yt){return Jl(2048,8,mt,yt)}function kp(mt,yt){return Jl(4,2,mt,yt)}function Fp(mt,yt){return Jl(4,4,mt,yt)}function Op(mt,yt){if(typeof yt=="function")return mt=mt(),yt(mt),function(){yt(null)};if(yt!=null)return mt=mt(),yt.current=mt,function(){yt.current=null}}function Np(mt,yt,wt){return wt=wt!=null?wt.concat([mt]):null,Jl(4,4,Op.bind(null,yt,mt),wt)}function Nu(){}function Gp(mt,yt){var wt=Vs();yt=yt===void 0?null:yt;var Pt=wt.memoizedState;return Pt!==null&&yt!==null&&Iu(yt,Pt[1])?Pt[0]:(wt.memoizedState=[mt,yt],mt)}function Up(mt,yt){var wt=Vs();yt=yt===void 0?null:yt;var Pt=wt.memoizedState;return Pt!==null&&yt!==null&&Iu(yt,Pt[1])?Pt[0]:(mt=mt(),wt.memoizedState=[mt,yt],mt)}function Vm(mt,yt){var wt=ur;ur=wt!==0&&4>wt?wt:4,mt(!0);var Pt=Ps.transition;Ps.transition={};try{mt(!1),yt()}finally{ur=wt,Ps.transition=Pt}}function zp(){return Vs().memoizedState}function $m(mt,yt,wt){var Pt=lo(mt);wt={lane:Pt,action:wt,hasEagerState:!1,eagerState:null,next:null},Vp(mt)?$p(yt,wt):(Hp(mt,yt,wt),wt=cs(),mt=Rs(mt,Pt,wt),mt!==null&&jp(mt,yt,Pt))}function Hm(mt,yt,wt){var Pt=lo(mt),Dt={lane:Pt,action:wt,hasEagerState:!1,eagerState:null,next:null};if(Vp(mt))$p(yt,Dt);else{Hp(mt,yt,Dt);var Nt=mt.alternate;if(mt.lanes===0&&(Nt===null||Nt.lanes===0)&&(Nt=yt.lastRenderedReducer,Nt!==null))try{var en=yt.lastRenderedState,dn=Nt(en,wt);if(Dt.hasEagerState=!0,Dt.eagerState=dn,vs(dn,en))return}catch{}finally{}wt=cs(),mt=Rs(mt,Pt,wt),mt!==null&&jp(mt,yt,Pt)}}function Vp(mt){var yt=mt.alternate;return mt===Br||yt!==null&&yt===Br}function $p(mt,yt){_a=Hl=!0;var wt=mt.pending;wt===null?yt.next=yt:(yt.next=wt.next,wt.next=yt),mt.pending=yt}function Hp(mt,yt,wt){Or!==null&&(mt.mode&1)!==0&&(cr&2)===0?(mt=yt.interleaved,mt===null?(wt.next=wt,Ur===null?Ur=[yt]:Ur.push(yt)):(wt.next=mt.next,mt.next=wt),yt.interleaved=wt):(mt=yt.pending,mt===null?wt.next=wt:(wt.next=mt.next,mt.next=wt),yt.pending=wt)}function jp(mt,yt,wt){if((wt&4194240)!==0){var Pt=yt.lanes;Pt&=mt.pendingLanes,wt|=Pt,yt.lanes=wt,Ns(mt,wt)}}var Yl={readContext:Ar,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},jm={readContext:Ar,useCallback:function(mt,yt){return Qs().memoizedState=[mt,yt===void 0?null:yt],mt},useContext:Ar,useEffect:Ou,useImperativeHandle:function(mt,yt,wt){return wt=wt!=null?wt.concat([mt]):null,Xl(4194308,4,Op.bind(null,yt,mt),wt)},useLayoutEffect:function(mt,yt){return Xl(4194308,4,mt,yt)},useInsertionEffect:function(mt,yt){return Xl(4,2,mt,yt)},useMemo:function(mt,yt){var wt=Qs();return yt=yt===void 0?null:yt,mt=mt(),wt.memoizedState=[mt,yt],mt},useReducer:function(mt,yt,wt){var Pt=Qs();return yt=wt!==void 0?wt(yt):yt,Pt.memoizedState=Pt.baseState=yt,mt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mt,lastRenderedState:yt},Pt.queue=mt,mt=mt.dispatch=$m.bind(null,Br,mt),[Pt.memoizedState,mt]},useRef:function(mt){var yt=Qs();return mt={current:mt},yt.memoizedState=mt},useState:Fu,useDebugValue:Nu,useDeferredValue:function(mt){var yt=Fu(mt),wt=yt[0],Pt=yt[1];return Ou(function(){var Dt=Ps.transition;Ps.transition={};try{Pt(mt)}finally{Ps.transition=Dt}},[mt]),wt},useTransition:function(){var mt=Fu(!1),yt=mt[0];return mt=Vm.bind(null,mt[1]),Qs().memoizedState=mt,[yt,mt]},useMutableSource:function(){},useSyncExternalStore:function(mt,yt,wt){var Pt=Br,Dt=Qs();if(Cr){if(wt===void 0)throw Error(st(407));wt=wt()}else{if(wt=yt(),Or===null)throw Error(st(349));(zo&30)!==0||Rp(Pt,yt,wt)}Dt.memoizedState=wt;var Nt={value:wt,getSnapshot:yt};return Dt.queue=Nt,Ou(Dp.bind(null,Pt,Nt,mt),[mt]),Pt.flags|=2048,$a(9,Bp.bind(null,Pt,Nt,wt,yt),void 0,null),wt},useId:function(){var mt=Qs(),yt=Or.identifierPrefix;if(Cr){var wt=qs,Pt=Ys;wt=(Pt&~(1<<32-qr(Pt)-1)).toString(32)+wt,yt=":"+yt+"R"+wt,wt=ba++,0<wt&&(yt+="H"+wt.toString(32)),yt+=":"}else wt=zm++,yt=":"+yt+"r"+wt.toString(32)+":";return mt.memoizedState=yt},unstable_isNewReconciler:!1},Wm={readContext:Ar,useCallback:Gp,useContext:Ar,useEffect:yl,useImperativeHandle:Np,useInsertionEffect:kp,useLayoutEffect:Fp,useMemo:Up,useReducer:Wl,useRef:Lp,useState:function(){return Wl(_o)},useDebugValue:Nu,useDeferredValue:function(mt){var yt=Wl(_o),wt=yt[0],Pt=yt[1];return yl(function(){var Dt=Ps.transition;Ps.transition={};try{Pt(mt)}finally{Ps.transition=Dt}},[mt]),wt},useTransition:function(){var mt=Wl(_o)[0],yt=Vs().memoizedState;return[mt,yt]},useMutableSource:Tp,useSyncExternalStore:Pp,useId:zp,unstable_isNewReconciler:!1},Km={readContext:Ar,useCallback:Gp,useContext:Ar,useEffect:yl,useImperativeHandle:Np,useInsertionEffect:kp,useLayoutEffect:Fp,useMemo:Up,useReducer:Kl,useRef:Lp,useState:function(){return Kl(_o)},useDebugValue:Nu,useDeferredValue:function(mt){var yt=Kl(_o),wt=yt[0],Pt=yt[1];return yl(function(){var Dt=Ps.transition;Ps.transition={};try{Pt(mt)}finally{Ps.transition=Dt}},[mt]),wt},useTransition:function(){var mt=Kl(_o)[0],yt=Vs().memoizedState;return[mt,yt]},useMutableSource:Tp,useSyncExternalStore:Pp,useId:zp,unstable_isNewReconciler:!1};function Gu(mt,yt){try{var wt="",Pt=yt;do wt+=vo(Pt),Pt=Pt.return;while(Pt);var Dt=wt}catch(Nt){Dt=`
Error generating stack: `+Nt.message+`
`+Nt.stack}return{value:mt,source:yt,stack:Dt}}function Uu(mt,yt){try{console.error(yt.value)}catch(wt){setTimeout(function(){throw wt})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function Wp(mt,yt,wt){wt=Js(-1,wt),wt.tag=3,wt.payload={element:null};var Pt=yt.value;return wt.callback=function(){hu||(hu=!0,tp=Pt),Uu(mt,yt)},wt}function Kp(mt,yt,wt){wt=Js(-1,wt),wt.tag=3;var Pt=mt.type.getDerivedStateFromError;if(typeof Pt=="function"){var Dt=yt.value;wt.payload=function(){return Pt(Dt)},wt.callback=function(){Uu(mt,yt)}}var Nt=mt.stateNode;return Nt!==null&&typeof Nt.componentDidCatch=="function"&&(wt.callback=function(){Uu(mt,yt),typeof Pt!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var en=yt.stack;this.componentDidCatch(yt.value,{componentStack:en!==null?en:""})}),wt}function Xp(mt,yt,wt){var Pt=mt.pingCache;if(Pt===null){Pt=mt.pingCache=new Xm;var Dt=new Set;Pt.set(yt,Dt)}else Dt=Pt.get(yt),Dt===void 0&&(Dt=new Set,Pt.set(yt,Dt));Dt.has(wt)||(Dt.add(wt),mt=a0.bind(null,mt,yt,wt),yt.then(mt,mt))}function Jp(mt){do{var yt;if((yt=mt.tag===13)&&(yt=mt.memoizedState,yt=yt!==null?yt.dehydrated!==null:!0),yt)return mt;mt=mt.return}while(mt!==null);return null}function Yp(mt,yt,wt,Pt,Dt){return(mt.mode&1)===0?(mt===yt?mt.flags|=65536:(mt.flags|=128,wt.flags|=131072,wt.flags&=-52805,wt.tag===1&&(wt.alternate===null?wt.tag=17:(yt=Js(-1,1),yt.tag=2,so(wt,yt))),wt.lanes|=1),mt):(mt.flags|=65536,mt.lanes=Dt,mt)}function $s(mt){mt.flags|=4}function qp(mt,yt){if(mt!==null&&mt.child===yt.child)return!0;if((yt.flags&16)!==0)return!1;for(mt=yt.child;mt!==null;){if((mt.flags&12854)!==0||(mt.subtreeFlags&12854)!==0)return!1;mt=mt.sibling}return!0}var xl,_l,Ql,Zl;if(Wt)xl=function(mt,yt){for(var wt=yt.child;wt!==null;){if(wt.tag===5||wt.tag===6)Yt(mt,wt.stateNode);else if(wt.tag!==4&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===yt)break;for(;wt.sibling===null;){if(wt.return===null||wt.return===yt)return;wt=wt.return}wt.sibling.return=wt.return,wt=wt.sibling}},_l=function(){},Ql=function(mt,yt,wt,Pt,Dt){if(mt=mt.memoizedProps,mt!==Pt){var Nt=yt.stateNode,en=zs(Ts.current);wt=sn(Nt,wt,mt,Pt,Dt,en),(yt.updateQueue=wt)&&$s(yt)}},Zl=function(mt,yt,wt,Pt){wt!==Pt&&$s(yt)};else if(Jt){xl=function(mt,yt,wt,Pt){for(var Dt=yt.child;Dt!==null;){if(Dt.tag===5){var Nt=Dt.stateNode;wt&&Pt&&(Nt=br(Nt,Dt.type,Dt.memoizedProps,Dt)),Yt(mt,Nt)}else if(Dt.tag===6)Nt=Dt.stateNode,wt&&Pt&&(Nt=_r(Nt,Dt.memoizedProps,Dt)),Yt(mt,Nt);else if(Dt.tag!==4){if(Dt.tag===22&&Dt.memoizedState!==null)Nt=Dt.child,Nt!==null&&(Nt.return=Dt),xl(mt,Dt,!0,!0);else if(Dt.child!==null){Dt.child.return=Dt,Dt=Dt.child;continue}}if(Dt===yt)break;for(;Dt.sibling===null;){if(Dt.return===null||Dt.return===yt)return;Dt=Dt.return}Dt.sibling.return=Dt.return,Dt=Dt.sibling}};var Qp=function(mt,yt,wt,Pt){for(var Dt=yt.child;Dt!==null;){if(Dt.tag===5){var Nt=Dt.stateNode;wt&&Pt&&(Nt=br(Nt,Dt.type,Dt.memoizedProps,Dt)),hr(mt,Nt)}else if(Dt.tag===6)Nt=Dt.stateNode,wt&&Pt&&(Nt=_r(Nt,Dt.memoizedProps,Dt)),hr(mt,Nt);else if(Dt.tag!==4){if(Dt.tag===22&&Dt.memoizedState!==null)Nt=Dt.child,Nt!==null&&(Nt.return=Dt),Qp(mt,Dt,!0,!0);else if(Dt.child!==null){Dt.child.return=Dt,Dt=Dt.child;continue}}if(Dt===yt)break;for(;Dt.sibling===null;){if(Dt.return===null||Dt.return===yt)return;Dt=Dt.return}Dt.sibling.return=Dt.return,Dt=Dt.sibling}};_l=function(mt,yt){var wt=yt.stateNode;if(!qp(mt,yt)){mt=wt.containerInfo;var Pt=yr(mt);Qp(Pt,yt,!1,!1),wt.pendingChildren=Pt,$s(yt),Jn(mt,Pt)}},Ql=function(mt,yt,wt,Pt,Dt){var Nt=mt.stateNode,en=mt.memoizedProps;if((mt=qp(mt,yt))&&en===Pt)yt.stateNode=Nt;else{var dn=yt.stateNode,Cn=zs(Ts.current),On=null;en!==Pt&&(On=sn(dn,wt,en,Pt,Dt,Cn)),mt&&On===null?yt.stateNode=Nt:(Nt=er(Nt,On,wt,en,Pt,yt,mt,dn),rn(Nt,wt,Pt,Dt,Cn)&&$s(yt),yt.stateNode=Nt,mt?$s(yt):xl(Nt,yt,!1,!1))}},Zl=function(mt,yt,wt,Pt){wt!==Pt?(mt=zs(Go.current),wt=zs(Ts.current),yt.stateNode=Zt(Pt,mt,wt,yt),$s(yt)):yt.stateNode=mt.stateNode}}else _l=function(){},Ql=function(){},Zl=function(){};function Sl(mt,yt){if(!Cr)switch(mt.tailMode){case"hidden":yt=mt.tail;for(var wt=null;yt!==null;)yt.alternate!==null&&(wt=yt),yt=yt.sibling;wt===null?mt.tail=null:wt.sibling=null;break;case"collapsed":wt=mt.tail;for(var Pt=null;wt!==null;)wt.alternate!==null&&(Pt=wt),wt=wt.sibling;Pt===null?yt||mt.tail===null?mt.tail=null:mt.tail.sibling=null:Pt.sibling=null}}function es(mt){var yt=mt.alternate!==null&&mt.alternate.child===mt.child,wt=0,Pt=0;if(yt)for(var Dt=mt.child;Dt!==null;)wt|=Dt.lanes|Dt.childLanes,Pt|=Dt.subtreeFlags&14680064,Pt|=Dt.flags&14680064,Dt.return=mt,Dt=Dt.sibling;else for(Dt=mt.child;Dt!==null;)wt|=Dt.lanes|Dt.childLanes,Pt|=Dt.subtreeFlags,Pt|=Dt.flags,Dt.return=mt,Dt=Dt.sibling;return mt.subtreeFlags|=Pt,mt.childLanes=wt,yt}function Jm(mt,yt,wt){var Pt=yt.pendingProps;switch(Mu(yt),yt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(yt),null;case 1:return Lr(yt.type)&&eo(),es(yt),null;case 3:return Pt=yt.stateNode,Uo(),tr(Ir),tr(mr),Du(),Pt.pendingContext&&(Pt.context=Pt.pendingContext,Pt.pendingContext=null),(mt===null||mt.child===null)&&(Zo(yt)?$s(yt):mt===null||mt.memoizedState.isDehydrated&&(yt.flags&256)===0||(yt.flags|=1024,ks!==null&&(sp(ks),ks=null))),_l(mt,yt),es(yt),null;case 5:Ru(yt),wt=zs(Go.current);var Dt=yt.type;if(mt!==null&&yt.stateNode!=null)Ql(mt,yt,Dt,Pt,wt),mt.ref!==yt.ref&&(yt.flags|=512,yt.flags|=2097152);else{if(!Pt){if(yt.stateNode===null)throw Error(st(166));return es(yt),null}if(mt=zs(Ts.current),Zo(yt)){if(!Kt)throw Error(st(175));mt=Xn(yt.stateNode,yt.type,yt.memoizedProps,wt,mt,yt,!Qo),yt.updateQueue=mt,mt!==null&&$s(yt)}else{var Nt=Vt(Dt,Pt,wt,mt,yt);xl(Nt,yt,!1,!1),yt.stateNode=Nt,rn(Nt,Dt,Pt,wt,mt)&&$s(yt)}yt.ref!==null&&(yt.flags|=512,yt.flags|=2097152)}return es(yt),null;case 6:if(mt&&yt.stateNode!=null)Zl(mt,yt,mt.memoizedProps,Pt);else{if(typeof Pt!="string"&&yt.stateNode===null)throw Error(st(166));if(mt=zs(Go.current),wt=zs(Ts.current),Zo(yt)){if(!Kt)throw Error(st(176));if(mt=yt.stateNode,Pt=yt.memoizedProps,(wt=Qn(mt,Pt,yt,!Qo))&&(Dt=ys,Dt!==null))switch(Nt=(Dt.mode&1)!==0,Dt.tag){case 3:Ss(Dt.stateNode.containerInfo,mt,Pt,Nt);break;case 5:ws(Dt.type,Dt.memoizedProps,Dt.stateNode,mt,Pt,Nt)}wt&&$s(yt)}else yt.stateNode=Zt(Pt,mt,wt,yt)}return es(yt),null;case 13:if(tr(Pr),Pt=yt.memoizedState,Cr&&xs!==null&&(yt.mode&1)!==0&&(yt.flags&128)===0){for(mt=xs;mt;)mt=yn(mt);return Oo(),yt.flags|=98560,yt}if(Pt!==null&&Pt.dehydrated!==null){if(Pt=Zo(yt),mt===null){if(!Pt)throw Error(st(318));if(!Kt)throw Error(st(344));if(mt=yt.memoizedState,mt=mt!==null?mt.dehydrated:null,!mt)throw Error(st(317));ir(mt,yt)}else Oo(),(yt.flags&128)===0&&(yt.memoizedState=null),yt.flags|=4;return es(yt),null}return ks!==null&&(sp(ks),ks=null),(yt.flags&128)!==0?(yt.lanes=wt,yt):(Pt=Pt!==null,wt=!1,mt===null?Zo(yt):wt=mt.memoizedState!==null,Pt&&!wt&&(yt.child.flags|=8192,(yt.mode&1)!==0&&(mt===null||(Pr.current&1)!==0?zr===0&&(zr=3):lp())),yt.updateQueue!==null&&(yt.flags|=4),es(yt),null);case 4:return Uo(),_l(mt,yt),mt===null&&fn(yt.stateNode.containerInfo),es(yt),null;case 10:return Us(yt.type._context),es(yt),null;case 17:return Lr(yt.type)&&eo(),es(yt),null;case 19:if(tr(Pr),Dt=yt.memoizedState,Dt===null)return es(yt),null;if(Pt=(yt.flags&128)!==0,Nt=Dt.rendering,Nt===null)if(Pt)Sl(Dt,!1);else{if(zr!==0||mt!==null&&(mt.flags&128)!==0)for(mt=yt.child;mt!==null;){if(Nt=Vl(mt),Nt!==null){for(yt.flags|=128,Sl(Dt,!1),mt=Nt.updateQueue,mt!==null&&(yt.updateQueue=mt,yt.flags|=4),yt.subtreeFlags=0,mt=wt,Pt=yt.child;Pt!==null;)wt=Pt,Dt=mt,wt.flags&=14680066,Nt=wt.alternate,Nt===null?(wt.childLanes=0,wt.lanes=Dt,wt.child=null,wt.subtreeFlags=0,wt.memoizedProps=null,wt.memoizedState=null,wt.updateQueue=null,wt.dependencies=null,wt.stateNode=null):(wt.childLanes=Nt.childLanes,wt.lanes=Nt.lanes,wt.child=Nt.child,wt.subtreeFlags=0,wt.deletions=null,wt.memoizedProps=Nt.memoizedProps,wt.memoizedState=Nt.memoizedState,wt.updateQueue=Nt.updateQueue,wt.type=Nt.type,Dt=Nt.dependencies,wt.dependencies=Dt===null?null:{lanes:Dt.lanes,firstContext:Dt.firstContext}),Pt=Pt.sibling;return lr(Pr,Pr.current&1|2),yt.child}mt=mt.sibling}Dt.tail!==null&&Er()>ep&&(yt.flags|=128,Pt=!0,Sl(Dt,!1),yt.lanes=4194304)}else{if(!Pt)if(mt=Vl(Nt),mt!==null){if(yt.flags|=128,Pt=!0,mt=mt.updateQueue,mt!==null&&(yt.updateQueue=mt,yt.flags|=4),Sl(Dt,!0),Dt.tail===null&&Dt.tailMode==="hidden"&&!Nt.alternate&&!Cr)return es(yt),null}else 2*Er()-Dt.renderingStartTime>ep&&wt!==1073741824&&(yt.flags|=128,Pt=!0,Sl(Dt,!1),yt.lanes=4194304);Dt.isBackwards?(Nt.sibling=yt.child,yt.child=Nt):(mt=Dt.last,mt!==null?mt.sibling=Nt:yt.child=Nt,Dt.last=Nt)}return Dt.tail!==null?(yt=Dt.tail,Dt.rendering=yt,Dt.tail=yt.sibling,Dt.renderingStartTime=Er(),yt.sibling=null,mt=Pr.current,lr(Pr,Pt?mt&1|2:mt&1),yt):(es(yt),null);case 22:case 23:return ap(),Pt=yt.memoizedState!==null,mt!==null&&mt.memoizedState!==null!==Pt&&(yt.flags|=8192),Pt&&(yt.mode&1)!==0?(bs&1073741824)!==0&&(es(yt),Wt&&yt.subtreeFlags&6&&(yt.flags|=8192)):es(yt),null;case 24:return null;case 25:return null}throw Error(st(156,yt.tag))}var Ym=ot.ReactCurrentOwner,_s=!1;function ls(mt,yt,wt,Pt){yt.child=mt===null?Ep(yt,null,wt,Pt):No(yt,mt.child,wt,Pt)}function Zp(mt,yt,wt,Pt,Dt){wt=wt.render;var Nt=yt.ref;return $r(yt,Dt),Pt=Lu(mt,yt,wt,Pt,Nt,Dt),wt=ku(),mt!==null&&!_s?(yt.updateQueue=mt.updateQueue,yt.flags&=-2053,mt.lanes&=~Dt,Zs(mt,yt,Dt)):(Cr&&wt&&Au(yt),yt.flags|=1,ls(mt,yt,Pt,Dt),yt.child)}function em(mt,yt,wt,Pt,Dt){if(mt===null){var Nt=wt.type;return typeof Nt=="function"&&!cp(Nt)&&Nt.defaultProps===void 0&&wt.compare===null&&wt.defaultProps===void 0?(yt.tag=15,yt.type=Nt,tm(mt,yt,Nt,Pt,Dt)):(mt=xu(wt.type,null,Pt,yt,yt.mode,Dt),mt.ref=yt.ref,mt.return=yt,yt.child=mt)}if(Nt=mt.child,(mt.lanes&Dt)===0){var en=Nt.memoizedProps;if(wt=wt.compare,wt=wt!==null?wt:go,wt(en,Pt)&&mt.ref===yt.ref)return Zs(mt,yt,Dt)}return yt.flags|=1,mt=uo(Nt,Pt),mt.ref=yt.ref,mt.return=yt,yt.child=mt}function tm(mt,yt,wt,Pt,Dt){if(mt!==null&&go(mt.memoizedProps,Pt)&&mt.ref===yt.ref)if(_s=!1,(mt.lanes&Dt)!==0)(mt.flags&131072)!==0&&(_s=!0);else return yt.lanes=mt.lanes,Zs(mt,yt,Dt);return zu(mt,yt,wt,Pt,Dt)}function rm(mt,yt,wt){var Pt=yt.pendingProps,Dt=Pt.children,Nt=mt!==null?mt.memoizedState:null;if(Pt.mode==="hidden")if((yt.mode&1)===0)yt.memoizedState={baseLanes:0,cachePool:null},lr(Vo,bs),bs|=wt;else if((wt&1073741824)!==0)yt.memoizedState={baseLanes:0,cachePool:null},Pt=Nt!==null?Nt.baseLanes:wt,lr(Vo,bs),bs|=Pt;else return mt=Nt!==null?Nt.baseLanes|wt:wt,yt.lanes=yt.childLanes=1073741824,yt.memoizedState={baseLanes:mt,cachePool:null},yt.updateQueue=null,lr(Vo,bs),bs|=mt,null;else Nt!==null?(Pt=Nt.baseLanes|wt,yt.memoizedState=null):Pt=wt,lr(Vo,bs),bs|=Pt;return ls(mt,yt,Dt,wt),yt.child}function im(mt,yt){var wt=yt.ref;(mt===null&&wt!==null||mt!==null&&mt.ref!==wt)&&(yt.flags|=512,yt.flags|=2097152)}function zu(mt,yt,wt,Pt,Dt){var Nt=Lr(wt)?ss:mr.current;return Nt=ms(yt,Nt),$r(yt,Dt),wt=Lu(mt,yt,wt,Pt,Nt,Dt),Pt=ku(),mt!==null&&!_s?(yt.updateQueue=mt.updateQueue,yt.flags&=-2053,mt.lanes&=~Dt,Zs(mt,yt,Dt)):(Cr&&Pt&&Au(yt),yt.flags|=1,ls(mt,yt,wt,Dt),yt.child)}function sm(mt,yt,wt,Pt,Dt){if(Lr(wt)){var Nt=!0;Fs(yt)}else Nt=!1;if($r(yt,Dt),yt.stateNode===null)mt!==null&&(mt.alternate=null,yt.alternate=null,yt.flags|=2),yp(yt,wt,Pt),wu(yt,wt,Pt,Dt),Pt=!0;else if(mt===null){var en=yt.stateNode,dn=yt.memoizedProps;en.props=dn;var Cn=en.context,On=wt.contextType;typeof On=="object"&&On!==null?On=Ar(On):(On=Lr(wt)?ss:mr.current,On=ms(yt,On));var jn=wt.getDerivedStateFromProps,nr=typeof jn=="function"||typeof en.getSnapshotBeforeUpdate=="function";nr||typeof en.UNSAFE_componentWillReceiveProps!="function"&&typeof en.componentWillReceiveProps!="function"||(dn!==Pt||Cn!==On)&&xp(yt,en,Pt,On),Ls=!1;var qn=yt.memoizedState;en.state=qn,Ol(yt,Pt,en,Dt),Cn=yt.memoizedState,dn!==Pt||qn!==Cn||Ir.current||Ls?(typeof jn=="function"&&(Su(yt,wt,jn,Pt),Cn=yt.memoizedState),(dn=Ls||vp(yt,wt,dn,Pt,qn,Cn,On))?(nr||typeof en.UNSAFE_componentWillMount!="function"&&typeof en.componentWillMount!="function"||(typeof en.componentWillMount=="function"&&en.componentWillMount(),typeof en.UNSAFE_componentWillMount=="function"&&en.UNSAFE_componentWillMount()),typeof en.componentDidMount=="function"&&(yt.flags|=4194308)):(typeof en.componentDidMount=="function"&&(yt.flags|=4194308),yt.memoizedProps=Pt,yt.memoizedState=Cn),en.props=Pt,en.state=Cn,en.context=On,Pt=dn):(typeof en.componentDidMount=="function"&&(yt.flags|=4194308),Pt=!1)}else{en=yt.stateNode,dp(mt,yt),dn=yt.memoizedProps,On=yt.type===yt.elementType?dn:Qr(yt.type,dn),en.props=On,nr=yt.pendingProps,qn=en.context,Cn=wt.contextType,typeof Cn=="object"&&Cn!==null?Cn=Ar(Cn):(Cn=Lr(wt)?ss:mr.current,Cn=ms(yt,Cn));var Mr=wt.getDerivedStateFromProps;(jn=typeof Mr=="function"||typeof en.getSnapshotBeforeUpdate=="function")||typeof en.UNSAFE_componentWillReceiveProps!="function"&&typeof en.componentWillReceiveProps!="function"||(dn!==nr||qn!==Cn)&&xp(yt,en,Pt,Cn),Ls=!1,qn=yt.memoizedState,en.state=qn,Ol(yt,Pt,en,Dt);var Kn=yt.memoizedState;dn!==nr||qn!==Kn||Ir.current||Ls?(typeof Mr=="function"&&(Su(yt,wt,Mr,Pt),Kn=yt.memoizedState),(On=Ls||vp(yt,wt,On,Pt,qn,Kn,Cn)||!1)?(jn||typeof en.UNSAFE_componentWillUpdate!="function"&&typeof en.componentWillUpdate!="function"||(typeof en.componentWillUpdate=="function"&&en.componentWillUpdate(Pt,Kn,Cn),typeof en.UNSAFE_componentWillUpdate=="function"&&en.UNSAFE_componentWillUpdate(Pt,Kn,Cn)),typeof en.componentDidUpdate=="function"&&(yt.flags|=4),typeof en.getSnapshotBeforeUpdate=="function"&&(yt.flags|=1024)):(typeof en.componentDidUpdate!="function"||dn===mt.memoizedProps&&qn===mt.memoizedState||(yt.flags|=4),typeof en.getSnapshotBeforeUpdate!="function"||dn===mt.memoizedProps&&qn===mt.memoizedState||(yt.flags|=1024),yt.memoizedProps=Pt,yt.memoizedState=Kn),en.props=Pt,en.state=Kn,en.context=Cn,Pt=On):(typeof en.componentDidUpdate!="function"||dn===mt.memoizedProps&&qn===mt.memoizedState||(yt.flags|=4),typeof en.getSnapshotBeforeUpdate!="function"||dn===mt.memoizedProps&&qn===mt.memoizedState||(yt.flags|=1024),Pt=!1)}return Vu(mt,yt,wt,Pt,Nt,Dt)}function Vu(mt,yt,wt,Pt,Dt,Nt){im(mt,yt);var en=(yt.flags&128)!==0;if(!Pt&&!en)return Dt&&Pl(yt,wt,!1),Zs(mt,yt,Nt);Pt=yt.stateNode,Ym.current=yt;var dn=en&&typeof wt.getDerivedStateFromError!="function"?null:Pt.render();return yt.flags|=1,mt!==null&&en?(yt.child=No(yt,mt.child,null,Nt),yt.child=No(yt,null,dn,Nt)):ls(mt,yt,dn,Nt),yt.memoizedState=Pt.state,Dt&&Pl(yt,wt,!0),yt.child}function om(mt){var yt=mt.stateNode;yt.pendingContext?Co(mt,yt.pendingContext,yt.pendingContext!==yt.context):yt.context&&Co(mt,yt.context,!1),Pu(mt,yt.containerInfo)}function am(mt,yt,wt,Pt,Dt){return Oo(),Tu(Dt),yt.flags|=256,ls(mt,yt,wt,Pt),yt.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function eu(mt){return{baseLanes:mt,cachePool:null}}function lm(mt,yt,wt){var Pt=yt.pendingProps,Dt=Pr.current,Nt=!1,en=(yt.flags&128)!==0,dn;if((dn=en)||(dn=mt!==null&&mt.memoizedState===null?!1:(Dt&2)!==0),dn?(Nt=!0,yt.flags&=-129):(mt===null||mt.memoizedState!==null)&&(Dt|=1),lr(Pr,Dt&1),mt===null)return Cu(yt),mt=yt.memoizedState,mt!==null&&(mt=mt.dehydrated,mt!==null)?((yt.mode&1)===0?yt.lanes=1:Gr(mt)?yt.lanes=8:yt.lanes=1073741824,null):(Dt=Pt.children,mt=Pt.fallback,Nt?(Pt=yt.mode,Nt=yt.child,Dt={mode:"hidden",children:Dt},(Pt&1)===0&&Nt!==null?(Nt.childLanes=0,Nt.pendingProps=Dt):Nt=_u(Dt,Pt,0,null),mt=Eo(mt,Pt,wt,null),Nt.return=yt,mt.return=yt,Nt.sibling=mt,yt.child=Nt,yt.child.memoizedState=eu(wt),yt.memoizedState=_c,mt):$u(yt,Dt));if(Dt=mt.memoizedState,Dt!==null){if(dn=Dt.dehydrated,dn!==null){if(en)return yt.flags&256?(yt.flags&=-257,tu(mt,yt,wt,Error(st(422)))):yt.memoizedState!==null?(yt.child=mt.child,yt.flags|=128,null):(Nt=Pt.fallback,Dt=yt.mode,Pt=_u({mode:"visible",children:Pt.children},Dt,0,null),Nt=Eo(Nt,Dt,wt,null),Nt.flags|=2,Pt.return=yt,Nt.return=yt,Pt.sibling=Nt,yt.child=Pt,(yt.mode&1)!==0&&No(yt,mt.child,null,wt),yt.child.memoizedState=eu(wt),yt.memoizedState=_c,Nt);if((yt.mode&1)===0)yt=tu(mt,yt,wt,null);else if(Gr(dn))yt=tu(mt,yt,wt,Error(st(419)));else if(Pt=(wt&mt.childLanes)!==0,_s||Pt){if(Pt=Or,Pt!==null){switch(wt&-wt){case 4:Nt=2;break;case 16:Nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Nt=32;break;case 536870912:Nt=268435456;break;default:Nt=0}Pt=(Nt&(Pt.suspendedLanes|wt))!==0?0:Nt,Pt!==0&&Pt!==Dt.retryLane&&(Dt.retryLane=Pt,Rs(mt,Pt,-1))}lp(),yt=tu(mt,yt,wt,Error(st(421)))}else Tr(dn)?(yt.flags|=128,yt.child=mt.child,yt=l0.bind(null,mt),qt(dn,yt),yt=null):(wt=Dt.treeContext,Kt&&(xs=Bn(dn),ys=yt,Cr=!0,ks=null,Qo=!1,wt!==null&&(Es[Cs++]=Ys,Es[Cs++]=qs,Es[Cs++]=yo,Ys=wt.id,qs=wt.overflow,yo=yt)),yt=$u(yt,yt.pendingProps.children),yt.flags|=4096);return yt}return Nt?(Pt=um(mt,yt,Pt.children,Pt.fallback,wt),Nt=yt.child,Dt=mt.child.memoizedState,Nt.memoizedState=Dt===null?eu(wt):{baseLanes:Dt.baseLanes|wt,cachePool:null},Nt.childLanes=mt.childLanes&~wt,yt.memoizedState=_c,Pt):(wt=cm(mt,yt,Pt.children,wt),yt.memoizedState=null,wt)}return Nt?(Pt=um(mt,yt,Pt.children,Pt.fallback,wt),Nt=yt.child,Dt=mt.child.memoizedState,Nt.memoizedState=Dt===null?eu(wt):{baseLanes:Dt.baseLanes|wt,cachePool:null},Nt.childLanes=mt.childLanes&~wt,yt.memoizedState=_c,Pt):(wt=cm(mt,yt,Pt.children,wt),yt.memoizedState=null,wt)}function $u(mt,yt){return yt=_u({mode:"visible",children:yt},mt.mode,0,null),yt.return=mt,mt.child=yt}function cm(mt,yt,wt,Pt){var Dt=mt.child;return mt=Dt.sibling,wt=uo(Dt,{mode:"visible",children:wt}),(yt.mode&1)===0&&(wt.lanes=Pt),wt.return=yt,wt.sibling=null,mt!==null&&(Pt=yt.deletions,Pt===null?(yt.deletions=[mt],yt.flags|=16):Pt.push(mt)),yt.child=wt}function um(mt,yt,wt,Pt,Dt){var Nt=yt.mode;mt=mt.child;var en=mt.sibling,dn={mode:"hidden",children:wt};return(Nt&1)===0&&yt.child!==mt?(wt=yt.child,wt.childLanes=0,wt.pendingProps=dn,yt.deletions=null):(wt=uo(mt,dn),wt.subtreeFlags=mt.subtreeFlags&14680064),en!==null?Pt=uo(en,Pt):(Pt=Eo(Pt,Nt,Dt,null),Pt.flags|=2),Pt.return=yt,wt.return=yt,wt.sibling=Pt,yt.child=wt,Pt}function tu(mt,yt,wt,Pt){return Pt!==null&&Tu(Pt),No(yt,mt.child,null,wt),mt=$u(yt,yt.pendingProps.children),mt.flags|=2,yt.memoizedState=null,mt}function fm(mt,yt,wt){mt.lanes|=yt;var Pt=mt.alternate;Pt!==null&&(Pt.lanes|=yt),Fr(mt.return,yt,wt)}function Hu(mt,yt,wt,Pt,Dt){var Nt=mt.memoizedState;Nt===null?mt.memoizedState={isBackwards:yt,rendering:null,renderingStartTime:0,last:Pt,tail:wt,tailMode:Dt}:(Nt.isBackwards=yt,Nt.rendering=null,Nt.renderingStartTime=0,Nt.last=Pt,Nt.tail=wt,Nt.tailMode=Dt)}function hm(mt,yt,wt){var Pt=yt.pendingProps,Dt=Pt.revealOrder,Nt=Pt.tail;if(ls(mt,yt,Pt.children,wt),Pt=Pr.current,(Pt&2)!==0)Pt=Pt&1|2,yt.flags|=128;else{if(mt!==null&&(mt.flags&128)!==0)e:for(mt=yt.child;mt!==null;){if(mt.tag===13)mt.memoizedState!==null&&fm(mt,wt,yt);else if(mt.tag===19)fm(mt,wt,yt);else if(mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===yt)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===yt)break e;mt=mt.return}mt.sibling.return=mt.return,mt=mt.sibling}Pt&=1}if(lr(Pr,Pt),(yt.mode&1)===0)yt.memoizedState=null;else switch(Dt){case"forwards":for(wt=yt.child,Dt=null;wt!==null;)mt=wt.alternate,mt!==null&&Vl(mt)===null&&(Dt=wt),wt=wt.sibling;wt=Dt,wt===null?(Dt=yt.child,yt.child=null):(Dt=wt.sibling,wt.sibling=null),Hu(yt,!1,Dt,wt,Nt);break;case"backwards":for(wt=null,Dt=yt.child,yt.child=null;Dt!==null;){if(mt=Dt.alternate,mt!==null&&Vl(mt)===null){yt.child=Dt;break}mt=Dt.sibling,Dt.sibling=wt,wt=Dt,Dt=mt}Hu(yt,!0,wt,null,Nt);break;case"together":Hu(yt,!1,null,null,void 0);break;default:yt.memoizedState=null}return yt.child}function Zs(mt,yt,wt){if(mt!==null&&(yt.dependencies=mt.dependencies),$o|=yt.lanes,(wt&yt.childLanes)===0)return null;if(mt!==null&&yt.child!==mt.child)throw Error(st(153));if(yt.child!==null){for(mt=yt.child,wt=uo(mt,mt.pendingProps),yt.child=wt,wt.return=yt;mt.sibling!==null;)mt=mt.sibling,wt=wt.sibling=uo(mt,mt.pendingProps),wt.return=yt;wt.sibling=null}return yt.child}function qm(mt,yt,wt){switch(yt.tag){case 3:om(yt),Oo();break;case 5:Cp(yt);break;case 1:Lr(yt.type)&&Fs(yt);break;case 4:Pu(yt,yt.stateNode.containerInfo);break;case 10:Ll(yt,yt.type._context,yt.memoizedProps.value);break;case 13:var Pt=yt.memoizedState;if(Pt!==null)return Pt.dehydrated!==null?(lr(Pr,Pr.current&1),yt.flags|=128,null):(wt&yt.child.childLanes)!==0?lm(mt,yt,wt):(lr(Pr,Pr.current&1),mt=Zs(mt,yt,wt),mt!==null?mt.sibling:null);lr(Pr,Pr.current&1);break;case 19:if(Pt=(wt&yt.childLanes)!==0,(mt.flags&128)!==0){if(Pt)return hm(mt,yt,wt);yt.flags|=128}var Dt=yt.memoizedState;if(Dt!==null&&(Dt.rendering=null,Dt.tail=null,Dt.lastEffect=null),lr(Pr,Pr.current),Pt)break;return null;case 22:case 23:return yt.lanes=0,rm(mt,yt,wt)}return Zs(mt,yt,wt)}function Qm(mt,yt){switch(Mu(yt),yt.tag){case 1:return Lr(yt.type)&&eo(),mt=yt.flags,mt&65536?(yt.flags=mt&-65537|128,yt):null;case 3:return Uo(),tr(Ir),tr(mr),Du(),mt=yt.flags,(mt&65536)!==0&&(mt&128)===0?(yt.flags=mt&-65537|128,yt):null;case 5:return Ru(yt),null;case 13:if(tr(Pr),mt=yt.memoizedState,mt!==null&&mt.dehydrated!==null){if(yt.alternate===null)throw Error(st(340));Oo()}return mt=yt.flags,mt&65536?(yt.flags=mt&-65537|128,yt):null;case 19:return tr(Pr),null;case 4:return Uo(),null;case 10:return Us(yt.type._context),null;case 22:case 23:return ap(),null;case 24:return null;default:return null}}var nu=!1,bo=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,zn=null;function ru(mt,yt){var wt=mt.ref;if(wt!==null)if(typeof wt=="function")try{wt(null)}catch(Pt){ps(mt,yt,Pt)}else wt.current=null}function ju(mt,yt,wt){try{wt()}catch(Pt){ps(mt,yt,Pt)}}var dm=!1;function _g(mt,yt){for(Lt(mt.containerInfo),zn=yt;zn!==null;)if(mt=zn,yt=mt.child,(mt.subtreeFlags&1028)!==0&&yt!==null)yt.return=mt,zn=yt;else for(;zn!==null;){mt=zn;try{var wt=mt.alternate;if((mt.flags&1024)!==0)switch(mt.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var Pt=wt.memoizedProps,Dt=wt.memoizedState,Nt=mt.stateNode,en=Nt.getSnapshotBeforeUpdate(mt.elementType===mt.type?Pt:Qr(mt.type,Pt),Dt);Nt.__reactInternalSnapshotBeforeUpdate=en}break;case 3:Wt&&Yn(mt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(dn){ps(mt,mt.return,dn)}if(yt=mt.sibling,yt!==null){yt.return=mt.return,zn=yt;break}zn=mt.return}return wt=dm,dm=!1,wt}function So(mt,yt,wt){var Pt=yt.updateQueue;if(Pt=Pt!==null?Pt.lastEffect:null,Pt!==null){var Dt=Pt=Pt.next;do{if((Dt.tag&mt)===mt){var Nt=Dt.destroy;Dt.destroy=void 0,Nt!==void 0&&ju(yt,wt,Nt)}Dt=Dt.next}while(Dt!==Pt)}}function Al(mt,yt){if(yt=yt.updateQueue,yt=yt!==null?yt.lastEffect:null,yt!==null){var wt=yt=yt.next;do{if((wt.tag&mt)===mt){var Pt=wt.create;wt.destroy=Pt()}wt=wt.next}while(wt!==yt)}}function Wu(mt){var yt=mt.ref;if(yt!==null){var wt=mt.stateNode;switch(mt.tag){case 5:mt=jt(wt);break;default:mt=wt}typeof yt=="function"?yt(mt):yt.current=mt}}function pm(mt,yt,wt){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(ro,yt)}catch{}switch(yt.tag){case 0:case 11:case 14:case 15:if(mt=yt.updateQueue,mt!==null&&(mt=mt.lastEffect,mt!==null)){var Pt=mt=mt.next;do{var Dt=Pt,Nt=Dt.destroy;Dt=Dt.tag,Nt!==void 0&&((Dt&2)!==0||(Dt&4)!==0)&&ju(yt,wt,Nt),Pt=Pt.next}while(Pt!==mt)}break;case 1:if(ru(yt,wt),mt=yt.stateNode,typeof mt.componentWillUnmount=="function")try{mt.props=yt.memoizedProps,mt.state=yt.memoizedState,mt.componentWillUnmount()}catch(en){ps(yt,wt,en)}break;case 5:ru(yt,wt);break;case 4:Wt?_m(mt,yt,wt):Jt&&Jt&&(yt=yt.stateNode.containerInfo,wt=yr(yt),xr(yt,wt))}}function mm(mt,yt,wt){for(var Pt=yt;;)if(pm(mt,Pt,wt),Pt.child===null||Wt&&Pt.tag===4){if(Pt===yt)break;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===yt)return;Pt=Pt.return}Pt.sibling.return=Pt.return,Pt=Pt.sibling}else Pt.child.return=Pt,Pt=Pt.child}function gm(mt){var yt=mt.alternate;yt!==null&&(mt.alternate=null,gm(yt)),mt.child=null,mt.deletions=null,mt.sibling=null,mt.tag===5&&(yt=mt.stateNode,yt!==null&&bn(yt)),mt.stateNode=null,mt.return=null,mt.dependencies=null,mt.memoizedProps=null,mt.memoizedState=null,mt.pendingProps=null,mt.stateNode=null,mt.updateQueue=null}function vm(mt){return mt.tag===5||mt.tag===3||mt.tag===4}function ym(mt){e:for(;;){for(;mt.sibling===null;){if(mt.return===null||vm(mt.return))return null;mt=mt.return}for(mt.sibling.return=mt.return,mt=mt.sibling;mt.tag!==5&&mt.tag!==6&&mt.tag!==18;){if(mt.flags&2||mt.child===null||mt.tag===4)continue e;mt.child.return=mt,mt=mt.child}if(!(mt.flags&2))return mt.stateNode}}function xm(mt){if(Wt){e:{for(var yt=mt.return;yt!==null;){if(vm(yt))break e;yt=yt.return}throw Error(st(160))}var wt=yt;switch(wt.tag){case 5:yt=wt.stateNode,wt.flags&32&&(ln(yt),wt.flags&=-33),wt=ym(mt),Xu(mt,wt,yt);break;case 3:case 4:yt=wt.stateNode.containerInfo,wt=ym(mt),Ku(mt,wt,yt);break;default:throw Error(st(161))}}}function Ku(mt,yt,wt){var Pt=mt.tag;if(Pt===5||Pt===6)mt=mt.stateNode,yt?Dn(wt,mt,yt):Tn(wt,mt);else if(Pt!==4&&(mt=mt.child,mt!==null))for(Ku(mt,yt,wt),mt=mt.sibling;mt!==null;)Ku(mt,yt,wt),mt=mt.sibling}function Xu(mt,yt,wt){var Pt=mt.tag;if(Pt===5||Pt===6)mt=mt.stateNode,yt?Fn(wt,mt,yt):Rn(wt,mt);else if(Pt!==4&&(mt=mt.child,mt!==null))for(Xu(mt,yt,wt),mt=mt.sibling;mt!==null;)Xu(mt,yt,wt),mt=mt.sibling}function _m(mt,yt,wt){for(var Pt=yt,Dt=!1,Nt,en;;){if(!Dt){Dt=Pt.return;e:for(;;){if(Dt===null)throw Error(st(160));switch(Nt=Dt.stateNode,Dt.tag){case 5:en=!1;break e;case 3:Nt=Nt.containerInfo,en=!0;break e;case 4:Nt=Nt.containerInfo,en=!0;break e}Dt=Dt.return}Dt=!0}if(Pt.tag===5||Pt.tag===6)mm(mt,Pt,wt),en?Hn(Nt,Pt.stateNode):In(Nt,Pt.stateNode);else if(Pt.tag===18)en?wr(Nt,Pt.stateNode):pr(Nt,Pt.stateNode);else if(Pt.tag===4){if(Pt.child!==null){Nt=Pt.stateNode.containerInfo,en=!0,Pt.child.return=Pt,Pt=Pt.child;continue}}else if(pm(mt,Pt,wt),Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===yt)break;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===yt)return;Pt=Pt.return,Pt.tag===4&&(Dt=!1)}Pt.sibling.return=Pt.return,Pt=Pt.sibling}}function Ju(mt,yt){if(Wt){switch(yt.tag){case 0:case 11:case 14:case 15:So(3,yt,yt.return),Al(3,yt),So(5,yt,yt.return);return;case 1:return;case 5:var wt=yt.stateNode;if(wt!=null){var Pt=yt.memoizedProps;mt=mt!==null?mt.memoizedProps:Pt;var Dt=yt.type,Nt=yt.updateQueue;yt.updateQueue=null,Nt!==null&&Gn(wt,Nt,Dt,mt,Pt,yt)}return;case 6:if(yt.stateNode===null)throw Error(st(162));wt=yt.memoizedProps,wn(yt.stateNode,mt!==null?mt.memoizedProps:wt,wt);return;case 3:Kt&&mt!==null&&mt.memoizedState.isDehydrated&&dr(yt.stateNode.containerInfo);return;case 12:return;case 13:iu(yt);return;case 19:iu(yt);return;case 17:return}throw Error(st(163))}switch(yt.tag){case 0:case 11:case 14:case 15:So(3,yt,yt.return),Al(3,yt),So(5,yt,yt.return);return;case 12:return;case 13:iu(yt);return;case 19:iu(yt);return;case 3:Kt&&mt!==null&&mt.memoizedState.isDehydrated&&dr(yt.stateNode.containerInfo);break;case 22:case 23:return}e:if(Jt){switch(yt.tag){case 1:case 5:case 6:break e;case 3:case 4:yt=yt.stateNode,xr(yt.containerInfo,yt.pendingChildren);break e}throw Error(st(163))}}function iu(mt){var yt=mt.updateQueue;if(yt!==null){mt.updateQueue=null;var wt=mt.stateNode;wt===null&&(wt=mt.stateNode=new Zm),yt.forEach(function(Pt){var Dt=c0.bind(null,mt,Pt);wt.has(Pt)||(wt.add(Pt),Pt.then(Dt,Dt))})}}function e0(mt,yt){for(zn=yt;zn!==null;){yt=zn;var wt=yt.deletions;if(wt!==null)for(var Pt=0;Pt<wt.length;Pt++){var Dt=wt[Pt];try{var Nt=mt;Wt?_m(Nt,Dt,yt):mm(Nt,Dt,yt);var en=Dt.alternate;en!==null&&(en.return=null),Dt.return=null}catch(Wn){ps(Dt,yt,Wn)}}if(wt=yt.child,(yt.subtreeFlags&12854)!==0&&wt!==null)wt.return=yt,zn=wt;else for(;zn!==null;){yt=zn;try{var dn=yt.flags;if(dn&32&&Wt&&ln(yt.stateNode),dn&512){var Cn=yt.alternate;if(Cn!==null){var On=Cn.ref;On!==null&&(typeof On=="function"?On(null):On.current=null)}}if(dn&8192)switch(yt.tag){case 13:if(yt.memoizedState!==null){var jn=yt.alternate;(jn===null||jn.memoizedState===null)&&(_d=Er())}break;case 22:var nr=yt.memoizedState!==null,qn=yt.alternate,Mr=qn!==null&&qn.memoizedState!==null;if(wt=yt,Wt){e:if(Pt=wt,Dt=nr,Nt=null,Wt)for(var Kn=Pt;;){if(Kn.tag===5){if(Nt===null){Nt=Kn;var ts=Kn.stateNode;Dt?Un(ts):Mn(Kn.stateNode,Kn.memoizedProps)}}else if(Kn.tag===6){if(Nt===null){var Ds=Kn.stateNode;Dt?Ln(Ds):Nn(Ds,Kn.memoizedProps)}}else if((Kn.tag!==22&&Kn.tag!==23||Kn.memoizedState===null||Kn===Pt)&&Kn.child!==null){Kn.child.return=Kn,Kn=Kn.child;continue}if(Kn===Pt)break;for(;Kn.sibling===null;){if(Kn.return===null||Kn.return===Pt)break e;Nt===Kn&&(Nt=null),Kn=Kn.return}Nt===Kn&&(Nt=null),Kn.sibling.return=Kn.return,Kn=Kn.sibling}}if(nr&&!Mr&&(wt.mode&1)!==0){zn=wt;for(var _n=wt.child;_n!==null;){for(wt=zn=_n;zn!==null;){Pt=zn;var mn=Pt.child;switch(Pt.tag){case 0:case 11:case 14:case 15:So(4,Pt,Pt.return);break;case 1:ru(Pt,Pt.return);var An=Pt.stateNode;if(typeof An.componentWillUnmount=="function"){var Vn=Pt.return;try{An.props=Pt.memoizedProps,An.state=Pt.memoizedState,An.componentWillUnmount()}catch(Wn){ps(Pt,Vn,Wn)}}break;case 5:ru(Pt,Pt.return);break;case 22:if(Pt.memoizedState!==null){wm(wt);continue}}mn!==null?(mn.return=Pt,zn=mn):wm(wt)}_n=_n.sibling}}}switch(dn&4102){case 2:xm(yt),yt.flags&=-3;break;case 6:xm(yt),yt.flags&=-3,Ju(yt.alternate,yt);break;case 4096:yt.flags&=-4097;break;case 4100:yt.flags&=-4097,Ju(yt.alternate,yt);break;case 4:Ju(yt.alternate,yt)}}catch(Wn){ps(yt,yt.return,Wn)}if(wt=yt.sibling,wt!==null){wt.return=yt.return,zn=wt;break}zn=yt.return}}}function t0(mt,yt,wt){zn=mt,bm(mt)}function bm(mt,yt,wt){for(var Pt=(mt.mode&1)!==0;zn!==null;){var Dt=zn,Nt=Dt.child;if(Dt.tag===22&&Pt){var en=Dt.memoizedState!==null||nu;if(!en){var dn=Dt.alternate,Cn=dn!==null&&dn.memoizedState!==null||bo;dn=nu;var On=bo;if(nu=en,(bo=Cn)&&!On)for(zn=Dt;zn!==null;)en=zn,Cn=en.child,en.tag===22&&en.memoizedState!==null?Am(Dt):Cn!==null?(Cn.return=en,zn=Cn):Am(Dt);for(;Nt!==null;)zn=Nt,bm(Nt),Nt=Nt.sibling;zn=Dt,nu=dn,bo=On}Sm(mt)}else(Dt.subtreeFlags&8772)!==0&&Nt!==null?(Nt.return=Dt,zn=Nt):Sm(mt)}}function Sm(mt){for(;zn!==null;){var yt=zn;if((yt.flags&8772)!==0){var wt=yt.alternate;try{if((yt.flags&8772)!==0)switch(yt.tag){case 0:case 11:case 15:bo||Al(5,yt);break;case 1:var Pt=yt.stateNode;if(yt.flags&4&&!bo)if(wt===null)Pt.componentDidMount();else{var Dt=yt.elementType===yt.type?wt.memoizedProps:Qr(yt.type,wt.memoizedProps);Pt.componentDidUpdate(Dt,wt.memoizedState,Pt.__reactInternalSnapshotBeforeUpdate)}var Nt=yt.updateQueue;Nt!==null&&mp(yt,Nt,Pt);break;case 3:var en=yt.updateQueue;if(en!==null){if(wt=null,yt.child!==null)switch(yt.child.tag){case 5:wt=jt(yt.child.stateNode);break;case 1:wt=yt.child.stateNode}mp(yt,en,wt)}break;case 5:var dn=yt.stateNode;wt===null&&yt.flags&4&&kn(dn,yt.type,yt.memoizedProps,yt);break;case 6:break;case 4:break;case 12:break;case 13:if(Kt&&yt.memoizedState===null){var Cn=yt.alternate;if(Cn!==null){var On=Cn.memoizedState;if(On!==null){var jn=On.dehydrated;jn!==null&&ar(jn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(st(163))}bo||yt.flags&512&&Wu(yt)}catch(nr){ps(yt,yt.return,nr)}}if(yt===mt){zn=null;break}if(wt=yt.sibling,wt!==null){wt.return=yt.return,zn=wt;break}zn=yt.return}}function wm(mt){for(;zn!==null;){var yt=zn;if(yt===mt){zn=null;break}var wt=yt.sibling;if(wt!==null){wt.return=yt.return,zn=wt;break}zn=yt.return}}function Am(mt){for(;zn!==null;){var yt=zn;try{switch(yt.tag){case 0:case 11:case 15:var wt=yt.return;try{Al(4,yt)}catch(Cn){ps(yt,wt,Cn)}break;case 1:var Pt=yt.stateNode;if(typeof Pt.componentDidMount=="function"){var Dt=yt.return;try{Pt.componentDidMount()}catch(Cn){ps(yt,Dt,Cn)}}var Nt=yt.return;try{Wu(yt)}catch(Cn){ps(yt,Nt,Cn)}break;case 5:var en=yt.return;try{Wu(yt)}catch(Cn){ps(yt,en,Cn)}}}catch(Cn){ps(yt,yt.return,Cn)}if(yt===mt){zn=null;break}var dn=yt.sibling;if(dn!==null){dn.return=yt.return,zn=dn;break}zn=yt.return}}var su=0,ou=1,au=2,lu=3,cu=4;if(typeof Symbol=="function"&&Symbol.for){var Ml=Symbol.for;su=Ml("selector.component"),ou=Ml("selector.has_pseudo_class"),au=Ml("selector.role"),lu=Ml("selector.test_id"),cu=Ml("selector.text")}function Yu(mt){var yt=nn(mt);if(yt!=null){if(typeof yt.memoizedProps["data-testname"]!="string")throw Error(st(364));return yt}if(mt=on(mt),mt===null)throw Error(st(362));return mt.stateNode.current}function qu(mt,yt){switch(yt.$$typeof){case su:if(mt.type===yt.value)return!0;break;case ou:e:{yt=yt.value,mt=[mt,0];for(var wt=0;wt<mt.length;){var Pt=mt[wt++],Dt=mt[wt++],Nt=yt[Dt];if(Pt.tag!==5||!tn(Pt)){for(;Nt!=null&&qu(Pt,Nt);)Dt++,Nt=yt[Dt];if(Dt===yt.length){yt=!0;break e}else for(Pt=Pt.child;Pt!==null;)mt.push(Pt,Dt),Pt=Pt.sibling}}yt=!1}return yt;case au:if(mt.tag===5&&pn(mt.stateNode,yt.value))return!0;break;case cu:if((mt.tag===5||mt.tag===6)&&(mt=zt(mt),mt!==null&&0<=mt.indexOf(yt.value)))return!0;break;case lu:if(mt.tag===5&&(mt=mt.memoizedProps["data-testname"],typeof mt=="string"&&mt.toLowerCase()===yt.value.toLowerCase()))return!0;break;default:throw Error(st(365))}return!1}function Qu(mt){switch(mt.$$typeof){case su:return"<"+(Tt(mt.value)||"Unknown")+">";case ou:return":has("+(Qu(mt)||"")+")";case au:return'[role="'+mt.value+'"]';case cu:return'"'+mt.value+'"';case lu:return'[data-testname="'+mt.value+'"]';default:throw Error(st(365))}}function Mm(mt,yt){var wt=[];mt=[mt,0];for(var Pt=0;Pt<mt.length;){var Dt=mt[Pt++],Nt=mt[Pt++],en=yt[Nt];if(Dt.tag!==5||!tn(Dt)){for(;en!=null&&qu(Dt,en);)Nt++,en=yt[Nt];if(Nt===yt.length)wt.push(Dt);else for(Dt=Dt.child;Dt!==null;)mt.push(Dt,Nt),Dt=Dt.sibling}}return wt}function Zu(mt,yt){if(!vn)throw Error(st(363));mt=Yu(mt),mt=Mm(mt,yt),yt=[],mt=Array.from(mt);for(var wt=0;wt<mt.length;){var Pt=mt[wt++];if(Pt.tag===5)tn(Pt)||yt.push(Pt.stateNode);else for(Pt=Pt.child;Pt!==null;)mt.push(Pt),Pt=Pt.sibling}return yt}var n0=Math.ceil,uu=ot.ReactCurrentDispatcher,_f=ot.ReactCurrentOwner,kr=ot.ReactCurrentBatchConfig,cr=0,Or=null,Nr=null,Jr=0,bs=0,Vo=Xr(0),zr=0,El=null,$o=0,fu=0,_h=0,Cl=null,hs=null,_d=0,ep=1/0;function Ho(){ep=Er()+500}var hu=!1,tp=null,oo=null,du=!1,ao=null,pu=0,Tl=0,np=null,mu=-1,gu=0;function cs(){return(cr&6)!==0?Er():mu!==-1?mu:mu=Er()}function lo(mt){return(mt.mode&1)===0?1:(cr&2)!==0&&Jr!==0?Jr&-Jr:mo.transition!==null?(gu===0&&(mt=Hs,Hs<<=1,(Hs&4194240)===0&&(Hs=64),gu=mt),gu):(mt=ur,mt!==0?mt:hn())}function Rs(mt,yt,wt){if(50<Tl)throw Tl=0,np=null,Error(st(185));var Pt=vu(mt,yt);return Pt===null?null:(Os(Pt,yt,wt),((cr&2)===0||Pt!==Or)&&(Pt===Or&&((cr&2)===0&&(fu|=yt),zr===4&&co(Pt,Jr)),ds(Pt,wt),yt===1&&cr===0&&(mt.mode&1)===0&&(Ho(),Gs&&fs())),Pt)}function vu(mt,yt){mt.lanes|=yt;var wt=mt.alternate;for(wt!==null&&(wt.lanes|=yt),wt=mt,mt=mt.return;mt!==null;)mt.childLanes|=yt,wt=mt.alternate,wt!==null&&(wt.childLanes|=yt),wt=mt,mt=mt.return;return wt.tag===3?wt.stateNode:null}function ds(mt,yt){var wt=mt.callbackNode;jo(mt,yt);var Pt=po(mt,mt===Or?Jr:0);if(Pt===0)wt!==null&&Bo(wt),mt.callbackNode=null,mt.callbackPriority=0;else if(yt=Pt&-Pt,mt.callbackPriority!==yt){if(wt!=null&&Bo(wt),yt===1)mt.tag===0?qo(Cm.bind(null,mt)):Yo(Cm.bind(null,mt)),un?gn(function(){cr===0&&fs()}):Xs(no,fs),wt=null;else{switch(Wo(Pt)){case 1:wt=no;break;case 4:wt=Il;break;case 16:wt=os;break;case 536870912:wt=Xo;break;default:wt=os}wt=Fm(wt,Em.bind(null,mt))}mt.callbackPriority=yt,mt.callbackNode=wt}}function Em(mt,yt){if(mu=-1,gu=0,(cr&6)!==0)throw Error(st(327));var wt=mt.callbackNode;if(Mo()&&mt.callbackNode!==wt)return null;var Pt=po(mt,mt===Or?Jr:0);if(Pt===0)return null;if((Pt&30)!==0||(Pt&mt.expiredLanes)!==0||yt)yt=yu(mt,Pt);else{yt=Pt;var Dt=cr;cr|=2;var Nt=Rm();(Or!==mt||Jr!==yt)&&(Ho(),wo(mt,yt));do try{s0();break}catch(dn){Pm(mt,dn)}while(1);Lo(),uu.current=Nt,cr=Dt,Nr!==null?yt=0:(Or=null,Jr=0,yt=zr)}if(yt!==0){if(yt===2&&(Dt=Ks(mt),Dt!==0&&(Pt=Dt,yt=rp(mt,Dt))),yt===1)throw wt=El,wo(mt,0),co(mt,Pt),ds(mt,Er()),wt;if(yt===6)co(mt,Pt);else{if(Dt=mt.current.alternate,(Pt&30)===0&&!r0(Dt)&&(yt=yu(mt,Pt),yt===2&&(Nt=Ks(mt),Nt!==0&&(Pt=Nt,yt=rp(mt,Nt))),yt===1))throw wt=El,wo(mt,0),co(mt,Pt),ds(mt,Er()),wt;switch(mt.finishedWork=Dt,mt.finishedLanes=Pt,yt){case 0:case 1:throw Error(st(345));case 2:Ao(mt,hs);break;case 3:if(co(mt,Pt),(Pt&130023424)===Pt&&(yt=_d+500-Er(),10<yt)){if(po(mt,0)!==0)break;if(Dt=mt.suspendedLanes,(Dt&Pt)!==Pt){cs(),mt.pingedLanes|=mt.suspendedLanes&Dt;break}mt.timeoutHandle=an(Ao.bind(null,mt,hs),yt);break}Ao(mt,hs);break;case 4:if(co(mt,Pt),(Pt&4194240)===Pt)break;for(yt=mt.eventTimes,Dt=-1;0<Pt;){var en=31-qr(Pt);Nt=1<<en,en=yt[en],en>Dt&&(Dt=en),Pt&=~Nt}if(Pt=Dt,Pt=Er()-Pt,Pt=(120>Pt?120:480>Pt?480:1080>Pt?1080:1920>Pt?1920:3e3>Pt?3e3:4320>Pt?4320:1960*n0(Pt/1960))-Pt,10<Pt){mt.timeoutHandle=an(Ao.bind(null,mt,hs),Pt);break}Ao(mt,hs);break;case 5:Ao(mt,hs);break;default:throw Error(st(329))}}}return ds(mt,Er()),mt.callbackNode===wt?Em.bind(null,mt):null}function rp(mt,yt){var wt=Cl;return mt.current.memoizedState.isDehydrated&&(wo(mt,yt).flags|=256),mt=yu(mt,yt),mt!==2&&(yt=hs,hs=wt,yt!==null&&sp(yt)),mt}function sp(mt){hs===null?hs=mt:hs.push.apply(hs,mt)}function r0(mt){for(var yt=mt;;){if(yt.flags&16384){var wt=yt.updateQueue;if(wt!==null&&(wt=wt.stores,wt!==null))for(var Pt=0;Pt<wt.length;Pt++){var Dt=wt[Pt],Nt=Dt.getSnapshot;Dt=Dt.value;try{if(!vs(Nt(),Dt))return!1}catch{return!1}}}if(wt=yt.child,yt.subtreeFlags&16384&&wt!==null)wt.return=yt,yt=wt;else{if(yt===mt)break;for(;yt.sibling===null;){if(yt.return===null||yt.return===mt)return!0;yt=yt.return}yt.sibling.return=yt.return,yt=yt.sibling}}return!0}function co(mt,yt){for(yt&=~_h,yt&=~fu,mt.suspendedLanes|=yt,mt.pingedLanes&=~yt,mt=mt.expirationTimes;0<yt;){var wt=31-qr(yt),Pt=1<<wt;mt[wt]=-1,yt&=~Pt}}function Cm(mt){if((cr&6)!==0)throw Error(st(327));Mo();var yt=po(mt,0);if((yt&1)===0)return ds(mt,Er()),null;var wt=yu(mt,yt);if(mt.tag!==0&&wt===2){var Pt=Ks(mt);Pt!==0&&(yt=Pt,wt=rp(mt,Pt))}if(wt===1)throw wt=El,wo(mt,0),co(mt,yt),ds(mt,Er()),wt;if(wt===6)throw Error(st(345));return mt.finishedWork=mt.current.alternate,mt.finishedLanes=yt,Ao(mt,hs),ds(mt,Er()),null}function Tm(mt){ao!==null&&ao.tag===0&&(cr&6)===0&&Mo();var yt=cr;cr|=1;var wt=kr.transition,Pt=ur;try{if(kr.transition=null,ur=1,mt)return mt()}finally{ur=Pt,kr.transition=wt,cr=yt,(cr&6)===0&&fs()}}function ap(){bs=Vo.current,tr(Vo)}function wo(mt,yt){mt.finishedWork=null,mt.finishedLanes=0;var wt=mt.timeoutHandle;if(wt!==Ut&&(mt.timeoutHandle=Ut,Qt(wt)),Nr!==null)for(wt=Nr.return;wt!==null;){var Pt=wt;switch(Mu(Pt),Pt.tag){case 1:Pt=Pt.type.childContextTypes,Pt!=null&&eo();break;case 3:Uo(),tr(Ir),tr(mr),Du();break;case 5:Ru(Pt);break;case 4:Uo();break;case 13:tr(Pr);break;case 19:tr(Pr);break;case 10:Us(Pt.type._context);break;case 22:case 23:ap()}wt=wt.return}if(Or=mt,Nr=mt=uo(mt.current,null),Jr=bs=yt,zr=0,El=null,_h=fu=$o=0,hs=Cl=null,Ur!==null){for(yt=0;yt<Ur.length;yt++)if(wt=Ur[yt],Pt=wt.interleaved,Pt!==null){wt.interleaved=null;var Dt=Pt.next,Nt=wt.pending;if(Nt!==null){var en=Nt.next;Nt.next=Dt,Pt.next=en}wt.pending=Pt}Ur=null}return mt}function Pm(mt,yt){do{var wt=Nr;try{if(Lo(),$l.current=Yl,Hl){for(var Pt=Br.memoizedState;Pt!==null;){var Dt=Pt.queue;Dt!==null&&(Dt.pending=null),Pt=Pt.next}Hl=!1}if(zo=0,Hr=Zr=Br=null,_a=!1,ba=0,_f.current=null,wt===null||wt.return===null){zr=1,El=yt,Nr=null;break}e:{var Nt=mt,en=wt.return,dn=wt,Cn=yt;if(yt=Jr,dn.flags|=32768,Cn!==null&&typeof Cn=="object"&&typeof Cn.then=="function"){var On=Cn,jn=dn,nr=jn.tag;if((jn.mode&1)===0&&(nr===0||nr===11||nr===15)){var qn=jn.alternate;qn?(jn.updateQueue=qn.updateQueue,jn.memoizedState=qn.memoizedState,jn.lanes=qn.lanes):(jn.updateQueue=null,jn.memoizedState=null)}var Mr=Jp(en);if(Mr!==null){Mr.flags&=-257,Yp(Mr,en,dn,Nt,yt),Mr.mode&1&&Xp(Nt,On,yt),yt=Mr,Cn=On;var Kn=yt.updateQueue;if(Kn===null){var ts=new Set;ts.add(Cn),yt.updateQueue=ts}else Kn.add(Cn);break e}else{if((yt&1)===0){Xp(Nt,On,yt),lp();break e}Cn=Error(st(426))}}else if(Cr&&dn.mode&1){var Ds=Jp(en);if(Ds!==null){(Ds.flags&65536)===0&&(Ds.flags|=256),Yp(Ds,en,dn,Nt,yt),Tu(Cn);break e}}Nt=Cn,zr!==4&&(zr=2),Cl===null?Cl=[Nt]:Cl.push(Nt),Cn=Gu(Cn,dn),dn=en;do{switch(dn.tag){case 3:dn.flags|=65536,yt&=-yt,dn.lanes|=yt;var _n=Wp(dn,Cn,yt);pp(dn,_n);break e;case 1:Nt=Cn;var mn=dn.type,An=dn.stateNode;if((dn.flags&128)===0&&(typeof mn.getDerivedStateFromError=="function"||An!==null&&typeof An.componentDidCatch=="function"&&(oo===null||!oo.has(An)))){dn.flags|=65536,yt&=-yt,dn.lanes|=yt;var Vn=Kp(dn,Nt,yt);pp(dn,Vn);break e}}dn=dn.return}while(dn!==null)}Dm(wt)}catch(Wn){yt=Wn,Nr===wt&&wt!==null&&(Nr=wt=wt.return);continue}break}while(1)}function Rm(){var mt=uu.current;return uu.current=Yl,mt===null?Yl:mt}function lp(){(zr===0||zr===3||zr===2)&&(zr=4),Or===null||($o&268435455)===0&&(fu&268435455)===0||co(Or,Jr)}function yu(mt,yt){var wt=cr;cr|=2;var Pt=Rm();Or===mt&&Jr===yt||wo(mt,yt);do try{i0();break}catch(Dt){Pm(mt,Dt)}while(1);if(Lo(),cr=wt,uu.current=Pt,Nr!==null)throw Error(st(261));return Or=null,Jr=0,zr}function i0(){for(;Nr!==null;)Bm(Nr)}function s0(){for(;Nr!==null&&!Ko();)Bm(Nr)}function Bm(mt){var yt=km(mt.alternate,mt,bs);mt.memoizedProps=mt.pendingProps,yt===null?Dm(mt):Nr=yt,_f.current=null}function Dm(mt){var yt=mt;do{var wt=yt.alternate;if(mt=yt.return,(yt.flags&32768)===0){if(wt=Jm(wt,yt,bs),wt!==null){Nr=wt;return}}else{if(wt=Qm(wt,yt),wt!==null){wt.flags&=32767,Nr=wt;return}if(mt!==null)mt.flags|=32768,mt.subtreeFlags=0,mt.deletions=null;else{zr=6,Nr=null;return}}if(yt=yt.sibling,yt!==null){Nr=yt;return}Nr=yt=mt}while(yt!==null);zr===0&&(zr=5)}function Ao(mt,yt){var wt=ur,Pt=kr.transition;try{kr.transition=null,ur=1,o0(mt,yt,wt)}finally{kr.transition=Pt,ur=wt}return null}function o0(mt,yt,wt){do Mo();while(ao!==null);if((cr&6)!==0)throw Error(st(327));var Pt=mt.finishedWork,Dt=mt.finishedLanes;if(Pt===null)return null;if(mt.finishedWork=null,mt.finishedLanes=0,Pt===mt.current)throw Error(st(177));mt.callbackNode=null,mt.callbackPriority=0;var Nt=Pt.lanes|Pt.childLanes;if(to(mt,Nt),mt===Or&&(Nr=Or=null,Jr=0),(Pt.subtreeFlags&2064)===0&&(Pt.flags&2064)===0||du||(du=!0,Fm(os,function(){return Mo(),null})),Nt=(Pt.flags&15990)!==0,(Pt.subtreeFlags&15990)!==0||Nt){Nt=kr.transition,kr.transition=null;var en=ur;ur=1;var dn=cr;cr|=4,_f.current=null,_g(mt,Pt),e0(mt,Pt),Ft(mt.containerInfo),mt.current=Pt,t0(Pt),Dl(),cr=dn,ur=en,kr.transition=Nt}else mt.current=Pt;if(du&&(du=!1,ao=mt,pu=Dt),Nt=mt.pendingLanes,Nt===0&&(oo=null),Jo(Pt.stateNode),ds(mt,Er()),yt!==null)for(wt=mt.onRecoverableError,Pt=0;Pt<yt.length;Pt++)wt(yt[Pt]);if(hu)throw hu=!1,mt=tp,tp=null,mt;return(pu&1)!==0&&mt.tag!==0&&Mo(),Nt=mt.pendingLanes,(Nt&1)!==0?mt===np?Tl++:(Tl=0,np=mt):Tl=0,fs(),null}function Mo(){if(ao!==null){var mt=Wo(pu),yt=kr.transition,wt=ur;try{if(kr.transition=null,ur=16>mt?16:mt,ao===null)var Pt=!1;else{if(mt=ao,ao=null,pu=0,(cr&6)!==0)throw Error(st(331));var Dt=cr;for(cr|=4,zn=mt.current;zn!==null;){var Nt=zn,en=Nt.child;if((zn.flags&16)!==0){var dn=Nt.deletions;if(dn!==null){for(var Cn=0;Cn<dn.length;Cn++){var On=dn[Cn];for(zn=On;zn!==null;){var jn=zn;switch(jn.tag){case 0:case 11:case 15:So(8,jn,Nt)}var nr=jn.child;if(nr!==null)nr.return=jn,zn=nr;else for(;zn!==null;){jn=zn;var qn=jn.sibling,Mr=jn.return;if(gm(jn),jn===On){zn=null;break}if(qn!==null){qn.return=Mr,zn=qn;break}zn=Mr}}}var Kn=Nt.alternate;if(Kn!==null){var ts=Kn.child;if(ts!==null){Kn.child=null;do{var Ds=ts.sibling;ts.sibling=null,ts=Ds}while(ts!==null)}}zn=Nt}}if((Nt.subtreeFlags&2064)!==0&&en!==null)en.return=Nt,zn=en;else e:for(;zn!==null;){if(Nt=zn,(Nt.flags&2048)!==0)switch(Nt.tag){case 0:case 11:case 15:So(9,Nt,Nt.return)}var _n=Nt.sibling;if(_n!==null){_n.return=Nt.return,zn=_n;break e}zn=Nt.return}}var mn=mt.current;for(zn=mn;zn!==null;){en=zn;var An=en.child;if((en.subtreeFlags&2064)!==0&&An!==null)An.return=en,zn=An;else e:for(en=mn;zn!==null;){if(dn=zn,(dn.flags&2048)!==0)try{switch(dn.tag){case 0:case 11:case 15:Al(9,dn)}}catch(Wn){ps(dn,dn.return,Wn)}if(dn===en){zn=null;break e}var Vn=dn.sibling;if(Vn!==null){Vn.return=dn.return,zn=Vn;break e}zn=dn.return}}if(cr=Dt,fs(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(ro,mt)}catch{}Pt=!0}return Pt}finally{ur=wt,kr.transition=yt}}return!1}function Im(mt,yt,wt){yt=Gu(wt,yt),yt=Wp(mt,yt,1),so(mt,yt),yt=cs(),mt=vu(mt,1),mt!==null&&(Os(mt,1,yt),ds(mt,yt))}function ps(mt,yt,wt){if(mt.tag===3)Im(mt,mt,wt);else for(;yt!==null;){if(yt.tag===3){Im(yt,mt,wt);break}else if(yt.tag===1){var Pt=yt.stateNode;if(typeof yt.type.getDerivedStateFromError=="function"||typeof Pt.componentDidCatch=="function"&&(oo===null||!oo.has(Pt))){mt=Gu(wt,mt),mt=Kp(yt,mt,1),so(yt,mt),mt=cs(),yt=vu(yt,1),yt!==null&&(Os(yt,1,mt),ds(yt,mt));break}}yt=yt.return}}function a0(mt,yt,wt){var Pt=mt.pingCache;Pt!==null&&Pt.delete(yt),yt=cs(),mt.pingedLanes|=mt.suspendedLanes&wt,Or===mt&&(Jr&wt)===wt&&(zr===4||zr===3&&(Jr&130023424)===Jr&&500>Er()-_d?wo(mt,0):_h|=wt),ds(mt,yt)}function Lm(mt,yt){yt===0&&((mt.mode&1)===0?yt=1:(yt=js,js<<=1,(js&130023424)===0&&(js=4194304)));var wt=cs();mt=vu(mt,yt),mt!==null&&(Os(mt,yt,wt),ds(mt,wt))}function l0(mt){var yt=mt.memoizedState,wt=0;yt!==null&&(wt=yt.retryLane),Lm(mt,wt)}function c0(mt,yt){var wt=0;switch(mt.tag){case 13:var Pt=mt.stateNode,Dt=mt.memoizedState;Dt!==null&&(wt=Dt.retryLane);break;case 19:Pt=mt.stateNode;break;default:throw Error(st(314))}Pt!==null&&Pt.delete(yt),Lm(mt,wt)}var km;km=function(mt,yt,wt){if(mt!==null)if(mt.memoizedProps!==yt.pendingProps||Ir.current)_s=!0;else{if((mt.lanes&wt)===0&&(yt.flags&128)===0)return _s=!1,qm(mt,yt,wt);_s=(mt.flags&131072)!==0}else _s=!1,Cr&&(yt.flags&1048576)!==0&&_p(yt,Ul,yt.index);switch(yt.lanes=0,yt.tag){case 2:var Pt=yt.type;mt!==null&&(mt.alternate=null,yt.alternate=null,yt.flags|=2),mt=yt.pendingProps;var Dt=ms(yt,mr.current);$r(yt,wt),Dt=Lu(null,yt,Pt,mt,Dt,wt);var Nt=ku();return yt.flags|=1,typeof Dt=="object"&&Dt!==null&&typeof Dt.render=="function"&&Dt.$$typeof===void 0?(yt.tag=1,yt.memoizedState=null,yt.updateQueue=null,Lr(Pt)?(Nt=!0,Fs(yt)):Nt=!1,yt.memoizedState=Dt.state!==null&&Dt.state!==void 0?Dt.state:null,bu(yt),Dt.updater=Nl,yt.stateNode=Dt,Dt._reactInternals=yt,wu(yt,Pt,mt,wt),yt=Vu(null,yt,Pt,!0,Nt,wt)):(yt.tag=0,Cr&&Nt&&Au(yt),ls(null,yt,Dt,wt),yt=yt.child),yt;case 16:Pt=yt.elementType;e:{switch(mt!==null&&(mt.alternate=null,yt.alternate=null,yt.flags|=2),mt=yt.pendingProps,Dt=Pt._init,Pt=Dt(Pt._payload),yt.type=Pt,Dt=yt.tag=f0(Pt),mt=Qr(Pt,mt),Dt){case 0:yt=zu(null,yt,Pt,mt,wt);break e;case 1:yt=sm(null,yt,Pt,mt,wt);break e;case 11:yt=Zp(null,yt,Pt,mt,wt);break e;case 14:yt=em(null,yt,Pt,Qr(Pt.type,mt),wt);break e}throw Error(st(306,Pt,""))}return yt;case 0:return Pt=yt.type,Dt=yt.pendingProps,Dt=yt.elementType===Pt?Dt:Qr(Pt,Dt),zu(mt,yt,Pt,Dt,wt);case 1:return Pt=yt.type,Dt=yt.pendingProps,Dt=yt.elementType===Pt?Dt:Qr(Pt,Dt),sm(mt,yt,Pt,Dt,wt);case 3:e:{if(om(yt),mt===null)throw Error(st(387));Pt=yt.pendingProps,Nt=yt.memoizedState,Dt=Nt.element,dp(mt,yt),Ol(yt,Pt,null,wt);var en=yt.memoizedState;if(Pt=en.element,Kt&&Nt.isDehydrated)if(Nt={element:Pt,isDehydrated:!1,cache:en.cache,transitions:en.transitions},yt.updateQueue.baseState=Nt,yt.memoizedState=Nt,yt.flags&256){Dt=Error(st(423)),yt=am(mt,yt,Pt,wt,Dt);break e}else if(Pt!==Dt){Dt=Error(st(424)),yt=am(mt,yt,Pt,wt,Dt);break e}else for(Kt&&(xs=xn(yt.stateNode.containerInfo),ys=yt,Cr=!0,ks=null,Qo=!1),wt=Ep(yt,null,Pt,wt),yt.child=wt;wt;)wt.flags=wt.flags&-3|4096,wt=wt.sibling;else{if(Oo(),Pt===Dt){yt=Zs(mt,yt,wt);break e}ls(mt,yt,Pt,wt)}yt=yt.child}return yt;case 5:return Cp(yt),mt===null&&Cu(yt),Pt=yt.type,Dt=yt.pendingProps,Nt=mt!==null?mt.memoizedProps:null,en=Dt.children,cn(Pt,Dt)?en=null:Nt!==null&&cn(Pt,Nt)&&(yt.flags|=32),im(mt,yt),ls(mt,yt,en,wt),yt.child;case 6:return mt===null&&Cu(yt),null;case 13:return lm(mt,yt,wt);case 4:return Pu(yt,yt.stateNode.containerInfo),Pt=yt.pendingProps,mt===null?yt.child=No(yt,null,Pt,wt):ls(mt,yt,Pt,wt),yt.child;case 11:return Pt=yt.type,Dt=yt.pendingProps,Dt=yt.elementType===Pt?Dt:Qr(Pt,Dt),Zp(mt,yt,Pt,Dt,wt);case 7:return ls(mt,yt,yt.pendingProps,wt),yt.child;case 8:return ls(mt,yt,yt.pendingProps.children,wt),yt.child;case 12:return ls(mt,yt,yt.pendingProps.children,wt),yt.child;case 10:e:{if(Pt=yt.type._context,Dt=yt.pendingProps,Nt=yt.memoizedProps,en=Dt.value,Ll(yt,Pt,en),Nt!==null)if(vs(Nt.value,en)){if(Nt.children===Dt.children&&!Ir.current){yt=Zs(mt,yt,wt);break e}}else for(Nt=yt.child,Nt!==null&&(Nt.return=yt);Nt!==null;){var dn=Nt.dependencies;if(dn!==null){en=Nt.child;for(var Cn=dn.firstContext;Cn!==null;){if(Cn.context===Pt){if(Nt.tag===1){Cn=Js(-1,wt&-wt),Cn.tag=2;var On=Nt.updateQueue;if(On!==null){On=On.shared;var jn=On.pending;jn===null?Cn.next=Cn:(Cn.next=jn.next,jn.next=Cn),On.pending=Cn}}Nt.lanes|=wt,Cn=Nt.alternate,Cn!==null&&(Cn.lanes|=wt),Fr(Nt.return,wt,yt),dn.lanes|=wt;break}Cn=Cn.next}}else if(Nt.tag===10)en=Nt.type===yt.type?null:Nt.child;else if(Nt.tag===18){if(en=Nt.return,en===null)throw Error(st(341));en.lanes|=wt,dn=en.alternate,dn!==null&&(dn.lanes|=wt),Fr(en,wt,yt),en=Nt.sibling}else en=Nt.child;if(en!==null)en.return=Nt;else for(en=Nt;en!==null;){if(en===yt){en=null;break}if(Nt=en.sibling,Nt!==null){Nt.return=en.return,en=Nt;break}en=en.return}Nt=en}ls(mt,yt,Dt.children,wt),yt=yt.child}return yt;case 9:return Dt=yt.type,Pt=yt.pendingProps.children,$r(yt,wt),Dt=Ar(Dt),Pt=Pt(Dt),yt.flags|=1,ls(mt,yt,Pt,wt),yt.child;case 14:return Pt=yt.type,Dt=Qr(Pt,yt.pendingProps),Dt=Qr(Pt.type,Dt),em(mt,yt,Pt,Dt,wt);case 15:return tm(mt,yt,yt.type,yt.pendingProps,wt);case 17:return Pt=yt.type,Dt=yt.pendingProps,Dt=yt.elementType===Pt?Dt:Qr(Pt,Dt),mt!==null&&(mt.alternate=null,yt.alternate=null,yt.flags|=2),yt.tag=1,Lr(Pt)?(mt=!0,Fs(yt)):mt=!1,$r(yt,wt),yp(yt,Pt,Dt),wu(yt,Pt,Dt,wt),Vu(null,yt,Pt,!0,mt,wt);case 19:return hm(mt,yt,wt);case 22:return rm(mt,yt,wt)}throw Error(st(156,yt.tag))};function Fm(mt,yt){return Xs(mt,yt)}function u0(mt,yt,wt,Pt){this.tag=mt,this.key=wt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=yt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Pt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(mt,yt,wt,Pt){return new u0(mt,yt,wt,Pt)}function cp(mt){return mt=mt.prototype,!(!mt||!mt.isReactComponent)}function f0(mt){if(typeof mt=="function")return cp(mt)?1:0;if(mt!=null){if(mt=mt.$$typeof,mt===gt)return 11;if(mt===xt)return 14}return 2}function uo(mt,yt){var wt=mt.alternate;return wt===null?(wt=Bs(mt.tag,yt,mt.key,mt.mode),wt.elementType=mt.elementType,wt.type=mt.type,wt.stateNode=mt.stateNode,wt.alternate=mt,mt.alternate=wt):(wt.pendingProps=yt,wt.type=mt.type,wt.flags=0,wt.subtreeFlags=0,wt.deletions=null),wt.flags=mt.flags&14680064,wt.childLanes=mt.childLanes,wt.lanes=mt.lanes,wt.child=mt.child,wt.memoizedProps=mt.memoizedProps,wt.memoizedState=mt.memoizedState,wt.updateQueue=mt.updateQueue,yt=mt.dependencies,wt.dependencies=yt===null?null:{lanes:yt.lanes,firstContext:yt.firstContext},wt.sibling=mt.sibling,wt.index=mt.index,wt.ref=mt.ref,wt}function xu(mt,yt,wt,Pt,Dt,Nt){var en=2;if(Pt=mt,typeof mt=="function")cp(mt)&&(en=1);else if(typeof mt=="string")en=5;else e:switch(mt){case ct:return Eo(wt.children,Dt,Nt,yt);case ut:en=8,Dt|=8;break;case ft:return mt=Bs(12,wt,yt,Dt|2),mt.elementType=ft,mt.lanes=Nt,mt;case dt:return mt=Bs(13,wt,yt,Dt),mt.elementType=dt,mt.lanes=Nt,mt;case vt:return mt=Bs(19,wt,yt,Dt),mt.elementType=vt,mt.lanes=Nt,mt;case bt:return _u(wt,Dt,Nt,yt);default:if(typeof mt=="object"&&mt!==null)switch(mt.$$typeof){case ht:en=10;break e;case pt:en=9;break e;case gt:en=11;break e;case xt:en=14;break e;case _t:en=16,Pt=null;break e}throw Error(st(130,mt==null?mt:typeof mt,""))}return yt=Bs(en,wt,yt,Dt),yt.elementType=mt,yt.type=Pt,yt.lanes=Nt,yt}function Eo(mt,yt,wt,Pt){return mt=Bs(7,mt,Pt,yt),mt.lanes=wt,mt}function _u(mt,yt,wt,Pt){return mt=Bs(22,mt,Pt,yt),mt.elementType=bt,mt.lanes=wt,mt.stateNode={},mt}function up(mt,yt,wt){return mt=Bs(6,mt,null,yt),mt.lanes=wt,mt}function fp(mt,yt,wt){return yt=Bs(4,mt.children!==null?mt.children:[],mt.key,yt),yt.lanes=wt,yt.stateNode={containerInfo:mt.containerInfo,pendingChildren:null,implementation:mt.implementation},yt}function h0(mt,yt,wt,Pt,Dt){this.tag=yt,this.containerInfo=mt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ut,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=Pt,this.onRecoverableError=Dt,Kt&&(this.mutableSourceEagerHydrationData=null)}function Om(mt,yt,wt,Pt,Dt,Nt,en,dn,Cn){return mt=new h0(mt,yt,wt,dn,Cn),yt===1?(yt=1,Nt===!0&&(yt|=8)):yt=0,Nt=Bs(3,null,null,yt),mt.current=Nt,Nt.stateNode=mt,Nt.memoizedState={element:Pt,isDehydrated:wt,cache:null,transitions:null},bu(Nt),mt}function Nm(mt){if(!mt)return rs;mt=mt._reactInternals;e:{if(Ct(mt)!==mt||mt.tag!==1)throw Error(st(170));var yt=mt;do{switch(yt.tag){case 3:yt=yt.stateNode.context;break e;case 1:if(Lr(yt.type)){yt=yt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}yt=yt.return}while(yt!==null);throw Error(st(171))}if(mt.tag===1){var wt=mt.type;if(Lr(wt))return To(mt,wt,yt)}return yt}function Gm(mt){var yt=mt._reactInternals;if(yt===void 0)throw typeof mt.render=="function"?Error(st(188)):(mt=Object.keys(mt).join(","),Error(st(268,mt)));return mt=It(yt),mt===null?null:mt.stateNode}function Um(mt,yt){if(mt=mt.memoizedState,mt!==null&&mt.dehydrated!==null){var wt=mt.retryLane;mt.retryLane=wt!==0&&wt<yt?wt:yt}}function hp(mt,yt){Um(mt,yt),(mt=mt.alternate)&&Um(mt,yt)}function d0(mt){return mt=It(mt),mt===null?null:mt.stateNode}function p0(){return null}return tt.attemptContinuousHydration=function(mt){if(mt.tag===13){var yt=cs();Rs(mt,134217728,yt),hp(mt,134217728)}},tt.attemptHydrationAtCurrentPriority=function(mt){if(mt.tag===13){var yt=cs(),wt=lo(mt);Rs(mt,wt,yt),hp(mt,wt)}},tt.attemptSynchronousHydration=function(mt){switch(mt.tag){case 3:var yt=mt.stateNode;if(yt.current.memoizedState.isDehydrated){var wt=Ws(yt.pendingLanes);wt!==0&&(Ns(yt,wt|1),ds(yt,Er()),(cr&6)===0&&(Ho(),fs()))}break;case 13:var Pt=cs();Tm(function(){return Rs(mt,1,Pt)}),hp(mt,1)}},tt.batchedUpdates=function(mt,yt){var wt=cr;cr|=1;try{return mt(yt)}finally{cr=wt,cr===0&&(Ho(),Gs&&fs())}},tt.createComponentSelector=function(mt){return{$$typeof:su,value:mt}},tt.createContainer=function(mt,yt,wt,Pt,Dt,Nt,en){return Om(mt,yt,!1,null,wt,Pt,Dt,Nt,en)},tt.createHasPseudoClassSelector=function(mt){return{$$typeof:ou,value:mt}},tt.createHydrationContainer=function(mt,yt,wt,Pt,Dt,Nt,en,dn,Cn){return mt=Om(wt,Pt,!0,mt,Dt,Nt,en,dn,Cn),mt.context=Nm(null),wt=mt.current,Pt=cs(),Dt=lo(wt),Nt=Js(Pt,Dt),Nt.callback=yt!=null?yt:null,so(wt,Nt),mt.current.lanes=Dt,Os(mt,Dt,Pt),ds(mt,Pt),mt},tt.createPortal=function(mt,yt,wt){var Pt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lt,key:Pt==null?null:""+Pt,children:mt,containerInfo:yt,implementation:wt}},tt.createRoleSelector=function(mt){return{$$typeof:au,value:mt}},tt.createTestNameSelector=function(mt){return{$$typeof:lu,value:mt}},tt.createTextSelector=function(mt){return{$$typeof:cu,value:mt}},tt.deferredUpdates=function(mt){var yt=ur,wt=kr.transition;try{return kr.transition=null,ur=16,mt()}finally{ur=yt,kr.transition=wt}},tt.discreteUpdates=function(mt,yt,wt,Pt,Dt){var Nt=ur,en=kr.transition;try{return kr.transition=null,ur=1,mt(yt,wt,Pt,Dt)}finally{ur=Nt,kr.transition=en,cr===0&&Ho()}},tt.findAllNodes=Zu,tt.findBoundingRects=function(mt,yt){if(!vn)throw Error(st(363));yt=Zu(mt,yt),mt=[];for(var wt=0;wt<yt.length;wt++)mt.push(Xt(yt[wt]));for(yt=mt.length-1;0<yt;yt--){wt=mt[yt];for(var Pt=wt.x,Dt=Pt+wt.width,Nt=wt.y,en=Nt+wt.height,dn=yt-1;0<=dn;dn--)if(yt!==dn){var Cn=mt[dn],On=Cn.x,jn=On+Cn.width,nr=Cn.y,qn=nr+Cn.height;if(Pt>=On&&Nt>=nr&&Dt<=jn&&en<=qn){mt.splice(yt,1);break}else if(Pt!==On||wt.width!==Cn.width||qn<Nt||nr>en){if(!(Nt!==nr||wt.height!==Cn.height||jn<Pt||On>Dt)){On>Pt&&(Cn.width+=On-Pt,Cn.x=Pt),jn<Dt&&(Cn.width=Dt-On),mt.splice(yt,1);break}}else{nr>Nt&&(Cn.height+=nr-Nt,Cn.y=Nt),qn<en&&(Cn.height=en-nr),mt.splice(yt,1);break}}}return mt},tt.findHostInstance=Gm,tt.findHostInstanceWithNoPortals=function(mt){return mt=Rt(mt),mt=mt!==null?kt(mt):null,mt===null?null:mt.stateNode},tt.findHostInstanceWithWarning=function(mt){return Gm(mt)},tt.flushControlled=function(mt){var yt=cr;cr|=1;var wt=kr.transition,Pt=ur;try{kr.transition=null,ur=1,mt()}finally{ur=Pt,kr.transition=wt,cr=yt,cr===0&&(Ho(),fs())}},tt.flushPassiveEffects=Mo,tt.flushSync=Tm,tt.focusWithin=function(mt,yt){if(!vn)throw Error(st(363));for(mt=Yu(mt),yt=Mm(mt,yt),yt=Array.from(yt),mt=0;mt<yt.length;){var wt=yt[mt++];if(!tn(wt)){if(wt.tag===5&&Sn(wt.stateNode))return!0;for(wt=wt.child;wt!==null;)yt.push(wt),wt=wt.sibling}}return!1},tt.getCurrentUpdatePriority=function(){return ur},tt.getFindAllNodesFailureDescription=function(mt,yt){if(!vn)throw Error(st(363));var wt=0,Pt=[];mt=[Yu(mt),0];for(var Dt=0;Dt<mt.length;){var Nt=mt[Dt++],en=mt[Dt++],dn=yt[en];if((Nt.tag!==5||!tn(Nt))&&(qu(Nt,dn)&&(Pt.push(Qu(dn)),en++,en>wt&&(wt=en)),en<yt.length))for(Nt=Nt.child;Nt!==null;)mt.push(Nt,en),Nt=Nt.sibling}if(wt<yt.length){for(mt=[];wt<yt.length;wt++)mt.push(Qu(yt[wt]));return`findAllNodes was able to match part of the selector:
  `+(Pt.join(" > ")+`

No matching component was found for:
  `)+mt.join(" > ")}return null},tt.getPublicRootInstance=function(mt){if(mt=mt.current,!mt.child)return null;switch(mt.child.tag){case 5:return jt(mt.child.stateNode);default:return mt.child.stateNode}},tt.injectIntoDevTools=function(mt){if(mt={bundleType:mt.bundleType,version:mt.version,rendererPackageName:mt.rendererPackageName,rendererConfig:mt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ot.ReactCurrentDispatcher,findHostInstanceByFiber:d0,findFiberByHostInstance:mt.findFiberByHostInstance||p0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")mt=!1;else{var yt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(yt.isDisabled||!yt.supportsFiber)mt=!0;else{try{ro=yt.inject(mt),gs=yt}catch{}mt=!!yt.checkDCE}}return mt},tt.isAlreadyRendering=function(){return!1},tt.observeVisibleRects=function(mt,yt,wt,Pt){if(!vn)throw Error(st(363));mt=Zu(mt,yt);var Dt=Pn(mt,wt,Pt).disconnect;return{disconnect:function(){Dt()}}},tt.registerMutableSourceForHydration=function(mt,yt){var wt=yt._getVersion;wt=wt(yt._source),mt.mutableSourceEagerHydrationData==null?mt.mutableSourceEagerHydrationData=[yt,wt]:mt.mutableSourceEagerHydrationData.push(yt,wt)},tt.runWithPriority=function(mt,yt){var wt=ur;try{return ur=mt,yt()}finally{ur=wt}},tt.shouldError=function(){return null},tt.shouldSuspend=function(){return!1},tt.updateContainer=function(mt,yt,wt,Pt){var Dt=yt.current,Nt=cs(),en=lo(Dt);return wt=Nm(wt),yt.context===null?yt.context=wt:yt.pendingContext=wt,yt=Js(Nt,en),yt.payload={element:mt},Pt=Pt===void 0?null:Pt,Pt!==null&&(yt.callback=Pt),so(Dt,yt),mt=Rs(Dt,en,Nt),mt!==null&&Fl(mt,Dt,en),en},tt};(function(et){et.exports=reactReconciler_production_min})(reactReconciler);const Reconciler=getDefaultExportFromCjs(reactReconciler.exports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(Bt,Lt){var Ft=Bt.length;Bt.push(Lt);e:for(;0<Ft;){var Vt=Ft-1>>>1,Yt=Bt[Vt];if(0<rt(Yt,Lt))Bt[Vt]=Lt,Bt[Ft]=Yt,Ft=Vt;else break e}}function tt(Bt){return Bt.length===0?null:Bt[0]}function nt(Bt){if(Bt.length===0)return null;var Lt=Bt[0],Ft=Bt.pop();if(Ft!==Lt){Bt[0]=Ft;e:for(var Vt=0,Yt=Bt.length,rn=Yt>>>1;Vt<rn;){var sn=2*(Vt+1)-1,cn=Bt[sn],Zt=sn+1,an=Bt[Zt];if(0>rt(cn,Ft))Zt<Yt&&0>rt(an,cn)?(Bt[Vt]=an,Bt[Zt]=Ft,Vt=Zt):(Bt[Vt]=cn,Bt[sn]=Ft,Vt=sn);else if(Zt<Yt&&0>rt(an,Ft))Bt[Vt]=an,Bt[Zt]=Ft,Vt=Zt;else break e}}return Lt}function rt(Bt,Lt){var Ft=Bt.sortIndex-Lt.sortIndex;return Ft!==0?Ft:Bt.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var st=Date,ot=st.now();et.unstable_now=function(){return st.now()-ot}}var at=[],lt=[],ct=1,ut=null,ft=3,ht=!1,pt=!1,gt=!1,dt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(Bt){for(var Lt=tt(lt);Lt!==null;){if(Lt.callback===null)nt(lt);else if(Lt.startTime<=Bt)nt(lt),Lt.sortIndex=Lt.expirationTime,_e(at,Lt);else break;Lt=tt(lt)}}function bt(Bt){if(gt=!1,_t(Bt),!pt)if(tt(at)!==null)pt=!0,jt(At);else{var Lt=tt(lt);Lt!==null&&Ht(bt,Lt.startTime-Bt)}}function At(Bt,Lt){pt=!1,gt&&(gt=!1,vt(St),St=-1),ht=!0;var Ft=ft;try{for(_t(Lt),ut=tt(at);ut!==null&&(!(ut.expirationTime>Lt)||Bt&&!Rt());){var Vt=ut.callback;if(typeof Vt=="function"){ut.callback=null,ft=ut.priorityLevel;var Yt=Vt(ut.expirationTime<=Lt);Lt=et.unstable_now(),typeof Yt=="function"?ut.callback=Yt:ut===tt(at)&&nt(at),_t(Lt)}else nt(at);ut=tt(at)}if(ut!==null)var rn=!0;else{var sn=tt(lt);sn!==null&&Ht(bt,sn.startTime-Lt),rn=!1}return rn}finally{ut=null,ft=Ft,ht=!1}}var Mt=!1,Tt=null,St=-1,Ct=5,Et=-1;function Rt(){return!(et.unstable_now()-Et<Ct)}function It(){if(Tt!==null){var Bt=et.unstable_now();Et=Bt;var Lt=!0;try{Lt=Tt(!0,Bt)}finally{Lt?Ot():(Mt=!1,Tt=null)}}else Mt=!1}var Ot;if(typeof xt=="function")Ot=function(){xt(It)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,$t=kt.port2;kt.port1.onmessage=It,Ot=function(){$t.postMessage(null)}}else Ot=function(){dt(It,0)};function jt(Bt){Tt=Bt,Mt||(Mt=!0,Ot())}function Ht(Bt,Lt){St=dt(function(){Bt(et.unstable_now())},Lt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Bt){Bt.callback=null},et.unstable_continueExecution=function(){pt||ht||(pt=!0,jt(At))},et.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Bt?Math.floor(1e3/Bt):5},et.unstable_getCurrentPriorityLevel=function(){return ft},et.unstable_getFirstCallbackNode=function(){return tt(at)},et.unstable_next=function(Bt){switch(ft){case 1:case 2:case 3:var Lt=3;break;default:Lt=ft}var Ft=ft;ft=Lt;try{return Bt()}finally{ft=Ft}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Bt,Lt){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var Ft=ft;ft=Bt;try{return Lt()}finally{ft=Ft}},et.unstable_scheduleCallback=function(Bt,Lt,Ft){var Vt=et.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Vt+Ft:Vt):Ft=Vt,Bt){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=Ft+Yt,Bt={id:ct++,callback:Lt,priorityLevel:Bt,startTime:Ft,expirationTime:Yt,sortIndex:-1},Ft>Vt?(Bt.sortIndex=Ft,_e(lt,Bt),tt(at)===null&&Bt===tt(lt)&&(gt?(vt(St),St=-1):gt=!0,Ht(bt,Ft-Vt))):(Bt.sortIndex=Yt,_e(at,Bt),pt||ht||(pt=!0,jt(At))),Bt},et.unstable_shouldYield=Rt,et.unstable_wrapCallback=function(Bt){var Lt=ft;return function(){var Ft=ft;ft=Lt;try{return Bt.apply(this,arguments)}finally{ft=Ft}}}})(scheduler_production_min);(function(et){et.exports=scheduler_production_min})(scheduler);function shallowEqualArrays(et,_e,tt=(nt,rt)=>nt===rt){if(et===_e)return!0;if(!et||!_e)return!1;const nt=et.length;if(_e.length!==nt)return!1;for(let rt=0;rt<nt;rt++)if(!tt(et[rt],_e[rt]))return!1;return!0}const globalCache=[];function query(et,_e,tt=!1,nt={}){for(const it of globalCache)if(shallowEqualArrays(_e,it.keys,it.equal)){if(tt)return;if(Object.prototype.hasOwnProperty.call(it,"error"))throw it.error;if(Object.prototype.hasOwnProperty.call(it,"response"))return it.response;if(!tt)throw it.promise}const rt={keys:_e,equal:nt.equal,promise:et(..._e).then(it=>rt.response=it).then(()=>{nt.lifespan&&nt.lifespan>0&&setTimeout(()=>{const it=globalCache.indexOf(rt);it!==-1&&globalCache.splice(it,1)},nt.lifespan)}).catch(it=>rt.error=it)};if(globalCache.push(rt),!tt)throw rt.promise}const suspend=(et,_e,tt)=>query(et,_e,!1,tt),preload=(et,_e,tt)=>void query(et,_e,!0,tt),clear=et=>{if(et===void 0||et.length===0)globalCache.splice(0,globalCache.length);else{const _e=globalCache.find(tt=>shallowEqualArrays(et,tt.keys,tt.equal));if(_e){const tt=globalCache.indexOf(_e);tt!==-1&&globalCache.splice(tt,1)}}};var _window$document,_window$navigator;const isOrthographicCamera=et=>et&&et.isOrthographicCamera,isRef$1=et=>et&&et.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?react.exports.useLayoutEffect:react.exports.useEffect;function useMutableCallback(et){const _e=react.exports.useRef(et);return useIsomorphicLayoutEffect$1(()=>void(_e.current=et),[et]),_e}function Block({set:et}){return useIsomorphicLayoutEffect$1(()=>(et(new Promise(()=>null)),()=>et(!1)),[et]),null}class ErrorBoundary extends react.exports.Component{constructor(..._e){super(..._e),this.state={error:!1}}componentDidCatch(_e){this.props.set(_e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",isDiffSet=et=>et&&!!et.memoized&&!!et.changes;function calculateDpr(et){const _e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(et)?Math.min(Math.max(et[0],_e),et[1]):et}const getRootState=et=>{var _e;return(_e=et.__r3f)==null?void 0:_e.root.getState()},is={obj:et=>et===Object(et)&&!is.arr(et)&&typeof et!="function",fun:et=>typeof et=="function",str:et=>typeof et=="string",num:et=>typeof et=="number",boo:et=>typeof et=="boolean",und:et=>et===void 0,arr:et=>Array.isArray(et),equ(et,_e,{arrays:tt="shallow",objects:nt="reference",strict:rt=!0}={}){if(typeof et!=typeof _e||!!et!=!!_e)return!1;if(is.str(et)||is.num(et))return et===_e;const it=is.obj(et);if(it&&nt==="reference")return et===_e;const st=is.arr(et);if(st&&tt==="reference")return et===_e;if((st||it)&&et===_e)return!0;let ot;for(ot in et)if(!(ot in _e))return!1;for(ot in rt?_e:et)if(et[ot]!==_e[ot])return!1;if(is.und(ot)){if(st&&et.length===0&&_e.length===0||it&&Object.keys(et).length===0&&Object.keys(_e).length===0)return!0;if(et!==_e)return!1}return!0}};function buildGraph(et){const _e={nodes:{},materials:{}};return et&&et.traverse(tt=>{tt.name&&(_e.nodes[tt.name]=tt),tt.material&&!_e.materials[tt.material.name]&&(_e.materials[tt.material.name]=tt.material)}),_e}function dispose(et){et.dispose&&et.type!=="Scene"&&et.dispose();for(const _e in et)_e.dispose==null||_e.dispose(),delete et[_e]}function prepare(et,_e){const tt=et;return(_e!=null&&_e.primitive||!tt.__r3f)&&(tt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,..._e}),et}function resolve(et,_e){let tt=et;if(_e.includes("-")){const nt=_e.split("-"),rt=nt.pop();return tt=nt.reduce((it,st)=>it[st],et),{target:tt,key:rt}}else return{target:tt,key:_e}}const INDEX_REGEX=/-\d+$/;function attach(et,_e,tt){if(is.str(tt)){if(INDEX_REGEX.test(tt)){const it=tt.replace(INDEX_REGEX,""),{target:st,key:ot}=resolve(et,it);Array.isArray(st[ot])||(st[ot]=[])}const{target:nt,key:rt}=resolve(et,tt);_e.__r3f.previousAttach=nt[rt],nt[rt]=_e}else _e.__r3f.previousAttach=tt(et,_e)}function detach(et,_e,tt){var nt,rt;if(is.str(tt)){const{target:it,key:st}=resolve(et,tt),ot=_e.__r3f.previousAttach;ot===void 0?delete it[st]:it[st]=ot}else(nt=_e.__r3f)==null||nt.previousAttach==null||nt.previousAttach(et,_e);(rt=_e.__r3f)==null||delete rt.previousAttach}function diffProps(et,{children:_e,key:tt,ref:nt,...rt},{children:it,key:st,ref:ot,...at}={},lt=!1){var ct;const ut=(ct=et==null?void 0:et.__r3f)!=null?ct:{},ft=Object.entries(rt),ht=[];if(lt){const gt=Object.keys(at);for(let dt=0;dt<gt.length;dt++)rt.hasOwnProperty(gt[dt])||ft.unshift([gt[dt],DEFAULT+"remove"])}ft.forEach(([gt,dt])=>{var vt;if((vt=et.__r3f)!=null&&vt.primitive&&gt==="object"||is.equ(dt,at[gt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(gt))return ht.push([gt,dt,!0,[]]);let xt=[];gt.includes("-")&&(xt=gt.split("-")),ht.push([gt,dt,!1,xt])});const pt={...rt};return ut.memoizedProps&&ut.memoizedProps.args&&(pt.args=ut.memoizedProps.args),ut.memoizedProps&&ut.memoizedProps.attach&&(pt.attach=ut.memoizedProps.attach),{memoized:pt,changes:ht}}function applyProps$1(et,_e){var tt,nt,rt;const it=(tt=et.__r3f)!=null?tt:{},st=it.root,ot=(nt=st==null||st.getState==null?void 0:st.getState())!=null?nt:{},{memoized:at,changes:lt}=isDiffSet(_e)?_e:diffProps(et,_e),ct=it.eventCount;et.__r3f&&(et.__r3f.memoizedProps=at);for(let ht=0;ht<lt.length;ht++){let[pt,gt,dt,vt]=lt[ht],xt=et,_t=xt[pt];if(vt.length&&(_t=vt.reduce((bt,At)=>bt[At],et),!(_t&&_t.set))){const[bt,...At]=vt.reverse();xt=At.reverse().reduce((Mt,Tt)=>Mt[Tt],et),pt=bt}if(gt===DEFAULT+"remove")if(_t&&_t.constructor){var ut;gt=new _t.constructor(...(ut=at.args)!=null?ut:[])}else if(xt.constructor){var ft;const bt=new xt.constructor(...(ft=xt.__r3f.memoizedProps.args)!=null?ft:[]);gt=bt[_t],bt.dispose&&bt.dispose()}else gt=0;if(dt)gt?it.handlers[pt]=gt:delete it.handlers[pt],it.eventCount=Object.keys(it.handlers).length;else if(_t&&_t.set&&(_t.copy||_t instanceof Layers)){if(Array.isArray(gt))_t.fromArray?_t.fromArray(gt):_t.set(...gt);else if(_t.copy&&gt&&gt.constructor&&_t.constructor.name===gt.constructor.name)_t.copy(gt);else if(gt!==void 0){const bt=_t instanceof Color$2;!bt&&_t.setScalar?_t.setScalar(gt):_t instanceof Layers&&gt instanceof Layers?_t.mask=gt.mask:_t.set(gt),!("ColorManagement"in three_module)&&!ot.linear&&bt&&_t.convertSRGBToLinear()}}else xt[pt]=gt,!ot.linear&&xt[pt]instanceof Texture&&(xt[pt].encoding=sRGBEncoding);invalidateInstance(et)}if(it.parent&&ot.internal&&et.raycast&&ct!==it.eventCount){const ht=ot.internal.interaction.indexOf(et);ht>-1&&ot.internal.interaction.splice(ht,1),it.eventCount&&ot.internal.interaction.push(et)}return lt.length&&(rt=et.__r3f)!=null&&rt.parent&&updateInstance(et),et}function invalidateInstance(et){var _e,tt;const nt=(_e=et.__r3f)==null||(tt=_e.root)==null||tt.getState==null?void 0:tt.getState();nt&&nt.internal.frames===0&&nt.invalidate()}function updateInstance(et){et.onUpdate==null||et.onUpdate(et)}function updateCamera(et,_e){et.manual||(isOrthographicCamera(et)?(et.left=_e.width/-2,et.right=_e.width/2,et.top=_e.height/2,et.bottom=_e.height/-2):et.aspect=_e.width/_e.height,et.updateProjectionMatrix(),et.updateMatrixWorld())}function setDeep(et,_e,tt){const nt=tt.pop(),rt=tt.reduce((it,st)=>it[st],et);return rt[nt]=_e}function makeId(et){return(et.eventObject||et.object).uuid+"/"+et.index+et.instanceId}function getEventPriority(){var et;const _e=typeof self<"u"&&self||typeof window<"u"&&window;if(!_e)return constants.exports.DefaultEventPriority;switch((et=_e.event)==null?void 0:et.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constants.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constants.exports.ContinuousEventPriority;default:return constants.exports.DefaultEventPriority}}function releaseInternalPointerCapture(et,_e,tt,nt){const rt=tt.get(_e);rt&&(tt.delete(_e),tt.size===0&&(et.delete(nt),rt.target.releasePointerCapture(nt)))}function removeInteractivity(et,_e){const{internal:tt}=et.getState();tt.interaction=tt.interaction.filter(nt=>nt!==_e),tt.initialHits=tt.initialHits.filter(nt=>nt!==_e),tt.hovered.forEach((nt,rt)=>{(nt.eventObject===_e||nt.object===_e)&&tt.hovered.delete(rt)}),tt.capturedMap.forEach((nt,rt)=>{releaseInternalPointerCapture(tt.capturedMap,_e,nt,rt)})}function createEvents(et){function _e(at){const{internal:lt}=et.getState(),ct=at.offsetX-lt.initialClick[0],ut=at.offsetY-lt.initialClick[1];return Math.round(Math.sqrt(ct*ct+ut*ut))}function tt(at){return at.filter(lt=>["Move","Over","Enter","Out","Leave"].some(ct=>{var ut;return(ut=lt.__r3f)==null?void 0:ut.handlers["onPointer"+ct]}))}function nt(at,lt){const ct=et.getState(),ut=new Set,ft=[],ht=lt?lt(ct.internal.interaction):ct.internal.interaction;for(let vt=0;vt<ht.length;vt++){const xt=getRootState(ht[vt]);xt&&(xt.raycaster.camera=void 0)}ct.previousRoot||ct.events.compute==null||ct.events.compute(at,ct);function pt(vt){const xt=getRootState(vt);if(!xt||!xt.events.enabled||xt.raycaster.camera===null)return[];if(xt.raycaster.camera===void 0){var _t;xt.events.compute==null||xt.events.compute(at,xt,(_t=xt.previousRoot)==null?void 0:_t.getState()),xt.raycaster.camera===void 0&&(xt.raycaster.camera=null)}return xt.raycaster.camera?xt.raycaster.intersectObject(vt,!0):[]}let gt=ht.flatMap(pt).sort((vt,xt)=>{const _t=getRootState(vt.object),bt=getRootState(xt.object);return!_t||!bt?0:bt.events.priority-_t.events.priority||vt.distance-xt.distance}).filter(vt=>{const xt=makeId(vt);return ut.has(xt)?!1:(ut.add(xt),!0)});ct.events.filter&&(gt=ct.events.filter(gt,ct));for(const vt of gt){let xt=vt.object;for(;xt;){var dt;(dt=xt.__r3f)!=null&&dt.eventCount&&ft.push({...vt,eventObject:xt}),xt=xt.parent}}if("pointerId"in at&&ct.internal.capturedMap.has(at.pointerId))for(let vt of ct.internal.capturedMap.get(at.pointerId).values())ft.push(vt.intersection);return ft}function rt(at,lt,ct,ut){const ft=et.getState();if(at.length){const ht={stopped:!1};for(const pt of at){const gt=getRootState(pt.object)||ft,{raycaster:dt,pointer:vt,camera:xt,internal:_t}=gt,bt=new Vector3(vt.x,vt.y,0).unproject(xt),At=Et=>{var Rt,It;return(Rt=(It=_t.capturedMap.get(Et))==null?void 0:It.has(pt.eventObject))!=null?Rt:!1},Mt=Et=>{const Rt={intersection:pt,target:lt.target};_t.capturedMap.has(Et)?_t.capturedMap.get(Et).set(pt.eventObject,Rt):_t.capturedMap.set(Et,new Map([[pt.eventObject,Rt]])),lt.target.setPointerCapture(Et)},Tt=Et=>{const Rt=_t.capturedMap.get(Et);Rt&&releaseInternalPointerCapture(_t.capturedMap,pt.eventObject,Rt,Et)};let St={};for(let Et in lt){let Rt=lt[Et];typeof Rt!="function"&&(St[Et]=Rt)}let Ct={...pt,...St,pointer:vt,intersections:at,stopped:ht.stopped,delta:ct,unprojectedPoint:bt,ray:dt.ray,camera:xt,stopPropagation(){const Et="pointerId"in lt&&_t.capturedMap.get(lt.pointerId);if((!Et||Et.has(pt.eventObject))&&(Ct.stopped=ht.stopped=!0,_t.hovered.size&&Array.from(_t.hovered.values()).find(Rt=>Rt.eventObject===pt.eventObject))){const Rt=at.slice(0,at.indexOf(pt));it([...Rt,pt])}},target:{hasPointerCapture:At,setPointerCapture:Mt,releasePointerCapture:Tt},currentTarget:{hasPointerCapture:At,setPointerCapture:Mt,releasePointerCapture:Tt},nativeEvent:lt};if(ut(Ct),ht.stopped===!0)break}}return at}function it(at){const{internal:lt}=et.getState();for(const ct of lt.hovered.values())if(!at.length||!at.find(ut=>ut.object===ct.object&&ut.index===ct.index&&ut.instanceId===ct.instanceId)){const ft=ct.eventObject.__r3f,ht=ft==null?void 0:ft.handlers;if(lt.hovered.delete(makeId(ct)),ft!=null&&ft.eventCount){const pt={...ct,intersections:at};ht.onPointerOut==null||ht.onPointerOut(pt),ht.onPointerLeave==null||ht.onPointerLeave(pt)}}}function st(at,lt){for(let ct=0;ct<lt.length;ct++){const ut=lt[ct].__r3f;ut==null||ut.handlers.onPointerMissed==null||ut.handlers.onPointerMissed(at)}}function ot(at){switch(at){case"onPointerLeave":case"onPointerCancel":return()=>it([]);case"onLostPointerCapture":return lt=>{const{internal:ct}=et.getState();"pointerId"in lt&&!ct.capturedMap.has(lt.pointerId)&&(ct.capturedMap.delete(lt.pointerId),it([]))}}return function(ct){const{onPointerMissed:ut,internal:ft}=et.getState();ft.lastEvent.current=ct;const ht=at==="onPointerMove",pt=at==="onClick"||at==="onContextMenu"||at==="onDoubleClick",dt=nt(ct,ht?tt:void 0),vt=pt?_e(ct):0;at==="onPointerDown"&&(ft.initialClick=[ct.offsetX,ct.offsetY],ft.initialHits=dt.map(_t=>_t.eventObject)),pt&&!dt.length&&vt<=2&&(st(ct,ft.interaction),ut&&ut(ct)),ht&&it(dt);function xt(_t){const bt=_t.eventObject,At=bt.__r3f,Mt=At==null?void 0:At.handlers;if(!!(At!=null&&At.eventCount))if(ht){if(Mt.onPointerOver||Mt.onPointerEnter||Mt.onPointerOut||Mt.onPointerLeave){const Tt=makeId(_t),St=ft.hovered.get(Tt);St?St.stopped&&_t.stopPropagation():(ft.hovered.set(Tt,_t),Mt.onPointerOver==null||Mt.onPointerOver(_t),Mt.onPointerEnter==null||Mt.onPointerEnter(_t))}Mt.onPointerMove==null||Mt.onPointerMove(_t)}else{const Tt=Mt[at];Tt?(!pt||ft.initialHits.includes(bt))&&(st(ct,ft.interaction.filter(St=>!ft.initialHits.includes(St))),Tt(_t)):pt&&ft.initialHits.includes(bt)&&st(ct,ft.interaction.filter(St=>!ft.initialHits.includes(St)))}}rt(dt,ct,vt,xt)}}return{handlePointer:ot}}let catalogue={},extend$2=et=>void(catalogue={...catalogue,...et});function createRenderer(et,_e){function tt(ct,{args:ut=[],attach:ft,...ht},pt){let gt=`${ct[0].toUpperCase()}${ct.slice(1)}`,dt;if(ct==="primitive"){if(ht.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const vt=ht.object;dt=prepare(vt,{type:ct,root:pt,attach:ft,primitive:!0})}else{const vt=catalogue[gt];if(!vt)throw new Error(`R3F: ${gt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(ut))throw new Error("R3F: The args prop must be an array!");dt=prepare(new vt(...ut),{type:ct,root:pt,attach:ft,memoizedProps:{args:ut}})}return dt.__r3f.attach===void 0&&(dt instanceof BufferGeometry?dt.__r3f.attach="geometry":dt instanceof Material&&(dt.__r3f.attach="material")),gt!=="inject"&&applyProps$1(dt,ht),dt}function nt(ct,ut){let ft=!1;if(ut){var ht,pt;(ht=ut.__r3f)!=null&&ht.attach?attach(ct,ut,ut.__r3f.attach):ut.isObject3D&&ct.isObject3D&&(ct.add(ut),ft=!0),ft||(pt=ct.__r3f)==null||pt.objects.push(ut),ut.__r3f||prepare(ut,{}),ut.__r3f.parent=ct,updateInstance(ut),invalidateInstance(ut)}}function rt(ct,ut,ft){let ht=!1;if(ut){var pt,gt;if((pt=ut.__r3f)!=null&&pt.attach)attach(ct,ut,ut.__r3f.attach);else if(ut.isObject3D&&ct.isObject3D){ut.parent=ct,ut.dispatchEvent({type:"added"});const dt=ct.children.filter(xt=>xt!==ut),vt=dt.indexOf(ft);ct.children=[...dt.slice(0,vt),ut,...dt.slice(vt)],ht=!0}ht||(gt=ct.__r3f)==null||gt.objects.push(ut),ut.__r3f||prepare(ut,{}),ut.__r3f.parent=ct,updateInstance(ut),invalidateInstance(ut)}}function it(ct,ut,ft=!1){ct&&[...ct].forEach(ht=>st(ut,ht,ft))}function st(ct,ut,ft){if(ut){var ht,pt,gt;if(ut.__r3f&&(ut.__r3f.parent=null),(ht=ct.__r3f)!=null&&ht.objects&&(ct.__r3f.objects=ct.__r3f.objects.filter(bt=>bt!==ut)),(pt=ut.__r3f)!=null&&pt.attach)detach(ct,ut,ut.__r3f.attach);else if(ut.isObject3D&&ct.isObject3D){var dt;ct.remove(ut),(dt=ut.__r3f)!=null&&dt.root&&removeInteractivity(ut.__r3f.root,ut)}const xt=(gt=ut.__r3f)==null?void 0:gt.primitive,_t=ft===void 0?ut.dispose!==null&&!xt:ft;if(!xt){var vt;it((vt=ut.__r3f)==null?void 0:vt.objects,ut,_t),it(ut.children,ut,_t)}ut.__r3f&&(delete ut.__r3f.root,delete ut.__r3f.objects,delete ut.__r3f.handlers,delete ut.__r3f.memoizedProps,xt||delete ut.__r3f),_t&&ut.dispose&&ut.type!=="Scene"&&scheduler.exports.unstable_scheduleCallback(scheduler.exports.unstable_IdlePriority,()=>{try{ut.dispose()}catch{}}),invalidateInstance(ct)}}function ot(ct,ut,ft,ht){var pt;const gt=(pt=ct.__r3f)==null?void 0:pt.parent;if(!gt)return;const dt=tt(ut,ft,ct.__r3f.root);if(ct.children){for(const vt of ct.children)vt.__r3f&&nt(dt,vt);ct.children=ct.children.filter(vt=>!vt.__r3f)}ct.__r3f.objects.forEach(vt=>nt(dt,vt)),ct.__r3f.objects=[],st(gt,ct),nt(gt,dt),dt.raycast&&dt.__r3f.eventCount&&dt.__r3f.root.getState().internal.interaction.push(dt),[ht,ht.alternate].forEach(vt=>{vt!==null&&(vt.stateNode=dt,vt.ref&&(typeof vt.ref=="function"?vt.ref(dt):vt.ref.current=dt))})}const at=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:tt,removeChild:st,appendChild:nt,appendInitialChild:nt,insertBefore:rt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ct,ut)=>{if(!ut)return;const ft=ct.getState().scene;!ft.__r3f||(ft.__r3f.root=ct,nt(ft,ut))},removeChildFromContainer:(ct,ut)=>{!ut||st(ct.getState().scene,ut)},insertInContainerBefore:(ct,ut,ft)=>{if(!ut||!ft)return;const ht=ct.getState().scene;!ht.__r3f||rt(ht,ut,ft)},getRootHostContext:()=>null,getChildHostContext:ct=>ct,finalizeInitialChildren(ct){var ut;const ft=(ut=ct==null?void 0:ct.__r3f)!=null?ut:{};return Boolean(ft.handlers)},prepareUpdate(ct,ut,ft,ht){if(ct.__r3f.primitive&&ht.object&&ht.object!==ct)return[!0];{const{args:pt=[],children:gt,...dt}=ht,{args:vt=[],children:xt,..._t}=ft;if(!Array.isArray(pt))throw new Error("R3F: the args prop must be an array!");if(pt.some((At,Mt)=>At!==vt[Mt]))return[!0];const bt=diffProps(ct,dt,_t,!0);return bt.changes.length?[!1,bt]:null}},commitUpdate(ct,[ut,ft],ht,pt,gt,dt){ut?ot(ct,ht,gt,dt):applyProps$1(ct,ft)},commitMount(ct,ut,ft,ht){var pt;const gt=(pt=ct.__r3f)!=null?pt:{};ct.raycast&&gt.handlers&&gt.eventCount&&ct.__r3f.root.getState().internal.interaction.push(ct)},getPublicInstance:ct=>ct,prepareForCommit:()=>null,preparePortalMount:ct=>prepare(ct.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ct){var ut;const{attach:ft,parent:ht}=(ut=ct.__r3f)!=null?ut:{};ft&&ht&&detach(ht,ct,ft),ct.isObject3D&&(ct.visible=!1),invalidateInstance(ct)},unhideInstance(ct,ut){var ft;const{attach:ht,parent:pt}=(ft=ct.__r3f)!=null?ft:{};ht&&pt&&attach(pt,ct,ht),(ct.isObject3D&&ut.visible==null||ut.visible)&&(ct.visible=!0),invalidateInstance(ct)},createTextInstance:at,hideTextInstance:at,unhideTextInstance:at,getCurrentEventPriority:()=>_e?_e():constants.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=et=>!!(et!=null&&et.render),context$1=react.exports.createContext(null),createStore=(et,_e)=>{const tt=create$1((ot,at)=>{const lt=new Vector3,ct=new Vector3,ut=new Vector3;function ft(vt=at().camera,xt=ct,_t=at().size){const{width:bt,height:At,top:Mt,left:Tt}=_t,St=bt/At;xt instanceof Vector3?ut.copy(xt):ut.set(...xt);const Ct=vt.getWorldPosition(lt).distanceTo(ut);if(isOrthographicCamera(vt))return{width:bt/vt.zoom,height:At/vt.zoom,top:Mt,left:Tt,factor:1,distance:Ct,aspect:St};{const Et=vt.fov*Math.PI/180,Rt=2*Math.tan(Et/2)*Ct,It=Rt*(bt/At);return{width:It,height:Rt,top:Mt,left:Tt,factor:bt/It,distance:Ct,aspect:St}}}let ht;const pt=vt=>ot(xt=>({performance:{...xt.performance,current:vt}})),gt=new Vector2;return{set:ot,get:at,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(vt=1)=>et(at(),vt),advance:(vt,xt)=>_e(vt,xt,at()),legacy:!1,linear:!1,flat:!1,scene:prepare(new Scene),controls:null,clock:new Clock,pointer:gt,mouse:gt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const vt=at();ht&&clearTimeout(ht),vt.performance.current!==vt.performance.min&&pt(vt.performance.min),ht=setTimeout(()=>pt(at().performance.max),vt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ft},setEvents:vt=>ot(xt=>({...xt,events:{...xt.events,...vt}})),setSize:(vt,xt,_t,bt,At)=>{const Mt=at().camera,Tt={width:vt,height:xt,top:bt||0,left:At||0,updateStyle:_t};ot(St=>({size:Tt,viewport:{...St.viewport,...ft(Mt,ct,Tt)}}))},setDpr:vt=>ot(xt=>{const _t=calculateDpr(vt);return{viewport:{...xt.viewport,dpr:_t,initialDpr:xt.viewport.initialDpr||_t}}}),setFrameloop:(vt="always")=>{const xt=at().clock;xt.stop(),xt.elapsedTime=0,vt!=="never"&&(xt.start(),xt.elapsedTime=0),ot(()=>({frameloop:vt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:react.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(vt,xt,_t)=>{const bt=at().internal;return bt.priority=bt.priority+(xt>0?1:0),bt.subscribers.push({ref:vt,priority:xt,store:_t}),bt.subscribers=bt.subscribers.sort((At,Mt)=>At.priority-Mt.priority),()=>{const At=at().internal;At!=null&&At.subscribers&&(At.priority=At.priority-(xt>0?1:0),At.subscribers=At.subscribers.filter(Mt=>Mt.ref!==vt))}}}}}),nt=tt.getState();let rt=nt.size,it=nt.viewport.dpr,st=nt.camera;return tt.subscribe(()=>{const{camera:ot,size:at,viewport:lt,gl:ct,set:ut}=tt.getState();(at!==rt||lt.dpr!==it)&&(rt=at,it=lt.dpr,updateCamera(ot,at),ct.setPixelRatio(lt.dpr),ct.setSize(at.width,at.height,at.updateStyle)),ot!==st&&(st=ot,ut(ft=>({viewport:{...ft.viewport,...ft.viewport.getCurrentViewport(ot)}})))}),tt.subscribe(ot=>et(ot)),tt};let i$7,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(et,_e){if(!!et.size)for(const{callback:tt}of et.values())tt(_e)}function flushGlobalEffects(et,_e){switch(et){case"before":return run(globalEffects,_e);case"after":return run(globalAfterEffects,_e);case"tail":return run(globalTailEffects,_e)}}let subscribers,subscription;function render$1(et,_e,tt){let nt=_e.clock.getDelta();for(_e.frameloop==="never"&&typeof et=="number"&&(nt=et-_e.clock.elapsedTime,_e.clock.oldTime=_e.clock.elapsedTime,_e.clock.elapsedTime=et),subscribers=_e.internal.subscribers,i$7=0;i$7<subscribers.length;i$7++)subscription=subscribers[i$7],subscription.ref.current(subscription.store.getState(),nt,tt);return!_e.internal.priority&&_e.gl.render&&_e.gl.render(_e.scene,_e.camera),_e.internal.frames=Math.max(0,_e.internal.frames-1),_e.frameloop==="always"?1:_e.internal.frames}function createLoop(et){let _e=!1,tt,nt,rt;function it(at){nt=requestAnimationFrame(it),_e=!0,tt=0,flushGlobalEffects("before",at);for(const ct of et.values()){var lt;rt=ct.store.getState(),rt.internal.active&&(rt.frameloop==="always"||rt.internal.frames>0)&&!((lt=rt.gl.xr)!=null&&lt.isPresenting)&&(tt+=render$1(at,rt))}if(flushGlobalEffects("after",at),tt===0)return flushGlobalEffects("tail",at),_e=!1,cancelAnimationFrame(nt)}function st(at,lt=1){var ct;if(!at)return et.forEach(ut=>st(ut.store.getState()),lt);(ct=at.gl.xr)!=null&&ct.isPresenting||!at.internal.active||at.frameloop==="never"||(at.internal.frames=Math.min(60,at.internal.frames+lt),_e||(_e=!0,requestAnimationFrame(it)))}function ot(at,lt=!0,ct,ut){if(lt&&flushGlobalEffects("before",at),ct)render$1(at,ct,ut);else for(const ft of et.values())render$1(at,ft.store.getState());lt&&flushGlobalEffects("after",at)}return{loop:it,invalidate:st,advance:ot}}function useStore(){const et=react.exports.useContext(context$1);if(!et)throw new Error("R3F: Hooks can only be used within the Canvas component!");return et}function useThree(et=tt=>tt,_e){return useStore()(et,_e)}function useFrame(et,_e=0){const tt=useStore(),nt=tt.getState().internal.subscribe,rt=useMutableCallback(et);return useIsomorphicLayoutEffect$1(()=>nt(rt,_e,tt),[_e,nt,tt]),null}function loadingFn(et,_e){return function(tt,...nt){const rt=new tt;return et&&et(rt),Promise.all(nt.map(it=>new Promise((st,ot)=>rt.load(it,at=>{at.scene&&Object.assign(at,buildGraph(at.scene)),st(at)},_e,at=>ot(new Error(`Could not load ${it}: ${at.message})`))))))}}function useLoader(et,_e,tt,nt){const rt=Array.isArray(_e)?_e:[_e],it=suspend(loadingFn(tt,nt),[et,...rt],{equal:is.equ});return Array.isArray(_e)?it:it[0]}useLoader.preload=function(et,_e,tt){const nt=Array.isArray(_e)?_e:[_e];return preload(loadingFn(tt),[et,...nt])};useLoader.clear=function(et,_e){const tt=Array.isArray(_e)?_e:[_e];return clear([et,...tt])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(et,_e)=>{const tt=typeof et=="function"?et(_e):et;return isRenderer(tt)?tt:new WebGLRenderer({powerPreference:"high-performance",canvas:_e,antialias:!0,alpha:!0,...et})};function isCanvas(et){return et instanceof HTMLCanvasElement}function computeInitialSize(et,_e){if(_e)return _e;if(isCanvas(et)&&et.parentElement){const{width:tt,height:nt,top:rt,left:it}=et.parentElement.getBoundingClientRect();return{width:tt,height:nt,top:rt,left:it}}return{width:0,height:0,top:0,left:0}}function createRoot(et){const _e=roots.get(et),tt=_e==null?void 0:_e.fiber,nt=_e==null?void 0:_e.store;_e&&console.warn("R3F.createRoot should only be called once!");const rt=typeof reportError=="function"?reportError:console.error,it=nt||createStore(invalidate,advance),st=tt||reconciler.createContainer(it,constants.exports.ConcurrentRoot,null,!1,null,"",rt,null);_e||roots.set(et,{fiber:st,store:it});let ot,at=!1;return{configure(lt={}){let{gl:ct,size:ut,events:ft,onCreated:ht,shadows:pt=!1,linear:gt=!1,flat:dt=!1,legacy:vt=!1,orthographic:xt=!1,frameloop:_t="always",dpr:bt=[1,2],performance:At,raycaster:Mt,camera:Tt,onPointerMissed:St}=lt,Ct=it.getState(),Et=Ct.gl;Ct.gl||Ct.set({gl:Et=createRendererInstance(ct,et)});let Rt=Ct.raycaster;Rt||Ct.set({raycaster:Rt=new Raycaster});const{params:It,...Ot}=Mt||{};if(is.equ(Ot,Rt,shallowLoose)||applyProps(Rt,{...Ot}),is.equ(It,Rt.params,shallowLoose)||applyProps(Rt,{params:{...Rt.params,...It}}),!Ct.camera){const Ht=Tt instanceof Camera,Bt=Ht?Tt:xt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);Ht||(Bt.position.z=5,Tt&&applyProps(Bt,Tt),Tt!=null&&Tt.rotation||Bt.lookAt(0,0,0)),Ct.set({camera:Bt})}if(!Ct.xr){const Ht=(Ft,Vt)=>{const Yt=it.getState();Yt.frameloop!=="never"&&advance(Ft,!0,Yt,Vt)},Bt=()=>{const Ft=it.getState();Ft.gl.xr.enabled=Ft.gl.xr.isPresenting,Ft.gl.xr.setAnimationLoop(Ft.gl.xr.isPresenting?Ht:null),Ft.gl.xr.isPresenting||invalidate(Ft)},Lt={connect(){const Ft=it.getState().gl;Ft.xr.addEventListener("sessionstart",Bt),Ft.xr.addEventListener("sessionend",Bt)},disconnect(){const Ft=it.getState().gl;Ft.xr.removeEventListener("sessionstart",Bt),Ft.xr.removeEventListener("sessionend",Bt)}};Et.xr&&Lt.connect(),Ct.set({xr:Lt})}if(Et.shadowMap){const Ht=is.boo(pt);if(Ht&&Et.shadowMap.enabled!==pt||!is.equ(pt,Et.shadowMap,shallowLoose)){const Bt=Et.shadowMap.enabled;Et.shadowMap.enabled=!!pt,Ht?Et.shadowMap.type=PCFSoftShadowMap:Object.assign(Et.shadowMap,pt),Bt!==Et.shadowMap.enabled&&(Et.shadowMap.needsUpdate=!0)}}"ColorManagement"in three_module&&setDeep(three_module,vt,["ColorManagement","legacyMode"]);const kt=gt?LinearEncoding:sRGBEncoding,$t=dt?NoToneMapping:ACESFilmicToneMapping;Et.outputEncoding!==kt&&(Et.outputEncoding=kt),Et.toneMapping!==$t&&(Et.toneMapping=$t),Ct.legacy!==vt&&Ct.set(()=>({legacy:vt})),Ct.linear!==gt&&Ct.set(()=>({linear:gt})),Ct.flat!==dt&&Ct.set(()=>({flat:dt})),ct&&!is.fun(ct)&&!isRenderer(ct)&&!is.equ(ct,Et,shallowLoose)&&applyProps(Et,ct),ft&&!Ct.events.handlers&&Ct.set({events:ft(it)}),bt&&Ct.viewport.dpr!==calculateDpr(bt)&&Ct.setDpr(bt);const jt=computeInitialSize(et,ut);return is.equ(jt,Ct.size,shallowLoose)||Ct.setSize(jt.width,jt.height,jt.updateStyle,jt.top,jt.left),Ct.frameloop!==_t&&Ct.setFrameloop(_t),Ct.onPointerMissed||Ct.set({onPointerMissed:St}),At&&!is.equ(At,Ct.performance,shallowLoose)&&Ct.set(Ht=>({performance:{...Ht.performance,...At}})),ot=ht,at=!0,this},render(lt){return at||this.configure(),reconciler.updateContainer(jsx(Provider,{store:it,children:lt,onCreated:ot,rootElement:et}),st,null,()=>{}),it},unmount(){unmountComponentAtNode(et)}}}function Provider({store:et,children:_e,onCreated:tt,rootElement:nt}){return useIsomorphicLayoutEffect$1(()=>{const rt=et.getState();rt.set(it=>({internal:{...it.internal,active:!0}})),tt&&tt(rt),et.getState().events.connected||rt.events.connect==null||rt.events.connect(nt)},[]),react.exports.createElement(context$1.Provider,{value:et},_e)}function unmountComponentAtNode(et,_e){const tt=roots.get(et),nt=tt==null?void 0:tt.fiber;if(nt){const rt=tt==null?void 0:tt.store.getState();rt&&(rt.internal.active=!1),reconciler.updateContainer(null,nt,null,()=>{rt&&setTimeout(()=>{try{var it,st,ot,at;rt.events.disconnect==null||rt.events.disconnect(),(it=rt.gl)==null||(st=it.renderLists)==null||st.dispose==null||st.dispose(),(ot=rt.gl)==null||ot.forceContextLoss==null||ot.forceContextLoss(),(at=rt.gl)!=null&&at.xr&&rt.xr.disconnect(),dispose(rt),roots.delete(et),_e&&_e(et)}catch{}},500)})}}function createPortal(et,_e,tt){return jsx(Portal$3,{children:et,container:_e,state:tt},_e.uuid)}function Portal$3({state:et={},children:_e,container:tt}){const{events:nt,size:rt,...it}=et,st=useStore(),[ot]=react.exports.useState(()=>new Raycaster),[at]=react.exports.useState(()=>new Vector2),lt=react.exports.useCallback((ut,ft)=>{const ht={...ut};Object.keys(ut).forEach(gt=>{(privateKeys.includes(gt)||ut[gt]!==ft[gt])&&delete ht[gt]});let pt;if(ft&&rt){const gt=ft.camera;pt=ut.viewport.getCurrentViewport(gt,new Vector3,rt),gt!==ut.camera&&updateCamera(gt,rt)}return{...ht,scene:tt,raycaster:ot,pointer:at,mouse:at,previousRoot:st,events:{...ut.events,...ft==null?void 0:ft.events,...nt},size:{...ut.size,...rt},viewport:{...ut.viewport,...pt},...it}},[et]),[ct]=react.exports.useState(()=>{const ut=st.getState();return create$1((ht,pt)=>({...ut,scene:tt,raycaster:ot,pointer:at,mouse:at,previousRoot:st,events:{...ut.events,...nt},size:{...ut.size,...rt},...it,set:ht,get:pt,setEvents:gt=>ht(dt=>({...dt,events:{...dt.events,...gt}}))}))});return react.exports.useEffect(()=>{const ut=st.subscribe(ft=>ct.setState(ht=>lt(ft,ht)));return()=>{ut(),ct.destroy()}},[]),react.exports.useEffect(()=>{ct.setState(ut=>lt(st.getState(),ut))},[lt]),jsx(Fragment,{children:reconciler.createPortal(react.exports.createElement(context$1.Provider,{value:ct},_e),ct,null)})}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:react.exports.version});function debounce$1(et,_e,tt){var nt,rt,it,st,ot;_e==null&&(_e=100);function at(){var ct=Date.now()-st;ct<_e&&ct>=0?nt=setTimeout(at,_e-ct):(nt=null,tt||(ot=et.apply(it,rt),it=rt=null))}var lt=function(){it=this,rt=arguments,st=Date.now();var ct=tt&&!nt;return nt||(nt=setTimeout(at,_e)),ct&&(ot=et.apply(it,rt),it=rt=null),ot};return lt.clear=function(){nt&&(clearTimeout(nt),nt=null)},lt.flush=function(){nt&&(ot=et.apply(it,rt),it=rt=null,clearTimeout(nt),nt=null)},lt}debounce$1.debounce=debounce$1;var debounce_1=debounce$1;function useMeasure(et){let{debounce:_e,scroll:tt,polyfill:nt,offsetSize:rt}=et===void 0?{debounce:0,scroll:!1,offsetSize:!1}:et;const it=nt||(typeof window>"u"?class{}:window.ResizeObserver);if(!it)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[st,ot]=react.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),at=react.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:st}),lt=_e?typeof _e=="number"?_e:_e.scroll:null,ct=_e?typeof _e=="number"?_e:_e.resize:null,ut=react.exports.useRef(!1);react.exports.useEffect(()=>(ut.current=!0,()=>void(ut.current=!1)));const[ft,ht,pt]=react.exports.useMemo(()=>{const xt=()=>{if(!at.current.element)return;const{left:_t,top:bt,width:At,height:Mt,bottom:Tt,right:St,x:Ct,y:Et}=at.current.element.getBoundingClientRect(),Rt={left:_t,top:bt,width:At,height:Mt,bottom:Tt,right:St,x:Ct,y:Et};at.current.element instanceof HTMLElement&&rt&&(Rt.height=at.current.element.offsetHeight,Rt.width=at.current.element.offsetWidth),Object.freeze(Rt),ut.current&&!areBoundsEqual(at.current.lastBounds,Rt)&&ot(at.current.lastBounds=Rt)};return[xt,ct?debounce_1(xt,ct):xt,lt?debounce_1(xt,lt):xt]},[ot,rt,lt,ct]);function gt(){at.current.scrollContainers&&(at.current.scrollContainers.forEach(xt=>xt.removeEventListener("scroll",pt,!0)),at.current.scrollContainers=null),at.current.resizeObserver&&(at.current.resizeObserver.disconnect(),at.current.resizeObserver=null)}function dt(){!at.current.element||(at.current.resizeObserver=new it(pt),at.current.resizeObserver.observe(at.current.element),tt&&at.current.scrollContainers&&at.current.scrollContainers.forEach(xt=>xt.addEventListener("scroll",pt,{capture:!0,passive:!0})))}const vt=xt=>{!xt||xt===at.current.element||(gt(),at.current.element=xt,at.current.scrollContainers=findScrollContainers(xt),dt())};return useOnWindowScroll(pt,Boolean(tt)),useOnWindowResize(ht),react.exports.useEffect(()=>{gt(),dt()},[tt,pt,ht]),react.exports.useEffect(()=>gt,[]),[vt,st,ft]}function useOnWindowResize(et){react.exports.useEffect(()=>{const _e=et;return window.addEventListener("resize",_e),()=>void window.removeEventListener("resize",_e)},[et])}function useOnWindowScroll(et,_e){react.exports.useEffect(()=>{if(_e){const tt=et;return window.addEventListener("scroll",tt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",tt,!0)}},[et,_e])}function findScrollContainers(et){const _e=[];if(!et||et===document.body)return _e;const{overflow:tt,overflowX:nt,overflowY:rt}=window.getComputedStyle(et);return[tt,nt,rt].some(it=>it==="auto"||it==="scroll")&&_e.push(et),[..._e,...findScrollContainers(et.parentElement)]}const keys$1=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(et,_e)=>keys$1.every(tt=>et[tt]===_e[tt]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(et,_e,tt)=>_e in et?__defProp(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt,__spreadValues=(et,_e)=>{for(var tt in _e||(_e={}))__hasOwnProp.call(_e,tt)&&__defNormalProp(et,tt,_e[tt]);if(__getOwnPropSymbols)for(var tt of __getOwnPropSymbols(_e))__propIsEnum.call(_e,tt)&&__defNormalProp(et,tt,_e[tt]);return et},__spreadProps=(et,_e)=>__defProps(et,__getOwnPropDescs(_e));function traverseFiber(et,_e,tt){if(!et)return;if(tt(et)===!0)return et;let nt=_e?et.return:et.child;for(;nt;){const rt=traverseFiber(nt,_e,tt);if(rt)return rt;nt=nt.sibling}}function wrapContext(et){try{return Object.defineProperties(et,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return et}}const FiberContext=wrapContext(react.exports.createContext(null));class FiberProvider extends react.exports.Component{render(){return jsx(FiberContext.Provider,{value:this._reactInternals,children:this.props.children})}}const{ReactCurrentOwner,ReactCurrentDispatcher}=react.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const et=react.exports.useContext(FiberContext);if(!et)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _e=react.exports.useId();return react.exports.useMemo(()=>{var nt;return(nt=ReactCurrentOwner.current)!=null?nt:traverseFiber(et,!1,rt=>{let it=rt.memoizedState;for(;it;){if(it.memoizedState===_e)return!0;it=it.next}})},[et,_e])}const contexts=[],values=new WeakMap;function useContextBridge(){var et;const _e=useFiber();contexts.splice(0,contexts.length),traverseFiber(_e,!0,tt=>{var nt;const rt=(nt=tt.type)==null?void 0:nt._context;rt&&rt!==FiberContext&&contexts.push(wrapContext(rt))});for(const tt of contexts){const nt=(et=ReactCurrentDispatcher.current)==null?void 0:et.readContext(tt);values.set(tt,nt)}return react.exports.useMemo(()=>contexts.reduce((tt,nt)=>rt=>react.exports.createElement(tt,null,react.exports.createElement(nt.Provider,__spreadProps(__spreadValues({},rt),{value:values.get(nt)}))),tt=>jsx(FiberProvider,{...__spreadValues({},tt)})),[])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(et){const{handlePointer:_e}=createEvents(et);return{priority:1,enabled:!0,compute(tt,nt,rt){nt.pointer.set(tt.offsetX/nt.size.width*2-1,-(tt.offsetY/nt.size.height)*2+1),nt.raycaster.setFromCamera(nt.pointer,nt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((tt,nt)=>({...tt,[nt]:_e(nt)}),{}),connect:tt=>{var nt;const{set:rt,events:it}=et.getState();it.disconnect==null||it.disconnect(),rt(st=>({events:{...st.events,connected:tt}})),Object.entries((nt=it.handlers)!=null?nt:[]).forEach(([st,ot])=>{const[at,lt]=DOM_EVENTS[st];tt.addEventListener(at,ot,{passive:lt})})},disconnect:()=>{const{set:tt,events:nt}=et.getState();if(nt.connected){var rt;Object.entries((rt=nt.handlers)!=null?rt:[]).forEach(([it,st])=>{if(nt&&nt.connected instanceof HTMLElement){const[ot]=DOM_EVENTS[it];nt.connected.removeEventListener(ot,st)}}),tt(it=>({events:{...it.events,connected:void 0}}))}}}}const CanvasImpl=react.exports.forwardRef(function({children:_e,fallback:tt,resize:nt,style:rt,gl:it,events:st=createPointerEvents,eventSource:ot,eventPrefix:at,shadows:lt,linear:ct,flat:ut,legacy:ft,orthographic:ht,frameloop:pt,dpr:gt,performance:dt,raycaster:vt,camera:xt,onPointerMissed:_t,onCreated:bt,...At},Mt){react.exports.useMemo(()=>extend$2(three_module),[]);const Tt=useContextBridge(),[St,Ct]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...nt}),Et=react.exports.useRef(null),Rt=react.exports.useRef(null),[It,Ot]=react.exports.useState(null);react.exports.useImperativeHandle(Mt,()=>Et.current);const kt=useMutableCallback(_t),[$t,jt]=react.exports.useState(!1),[Ht,Bt]=react.exports.useState(!1);if($t)throw $t;if(Ht)throw Ht;const Lt=react.exports.useRef(null);return Ct.width>0&&Ct.height>0&&It&&(Lt.current||(Lt.current=createRoot(It)),Lt.current.configure({gl:it,events:st,shadows:lt,linear:ct,flat:ut,legacy:ft,orthographic:ht,frameloop:pt,dpr:gt,performance:dt,raycaster:vt,camera:xt,size:Ct,onPointerMissed:(...Vt)=>kt.current==null?void 0:kt.current(...Vt),onCreated:Vt=>{Vt.events.connect==null||Vt.events.connect(ot?isRef$1(ot)?ot.current:ot:Rt.current),at&&Vt.setEvents({compute:(Yt,rn)=>{const sn=Yt[at+"X"],cn=Yt[at+"Y"];rn.pointer.set(sn/rn.size.width*2-1,-(cn/rn.size.height)*2+1),rn.raycaster.setFromCamera(rn.pointer,rn.camera)}}),bt==null||bt(Vt)}}),Lt.current.render(jsx(Tt,{children:jsx(ErrorBoundary,{set:Bt,children:jsx(react.exports.Suspense,{fallback:jsx(Block,{set:jt}),children:_e})})}))),useIsomorphicLayoutEffect$1(()=>{Ot(Et.current)},[]),react.exports.useEffect(()=>{if(It)return()=>unmountComponentAtNode(It)},[It]),jsx("div",{ref:Rt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ot?"none":"auto",...rt},...At,children:jsx("div",{ref:St,style:{width:"100%",height:"100%"},children:jsx("canvas",{ref:Et,style:{display:"block"},children:tt})})})}),Canvas$1=react.exports.forwardRef(function(_e,tt){return jsx(FiberProvider,{children:jsx(CanvasImpl,{..._e,ref:tt})})}),v1=new Vector3,v2$1=new Vector3,v3=new Vector3;function defaultCalculatePosition(et,_e,tt){const nt=v1.setFromMatrixPosition(et.matrixWorld);nt.project(_e);const rt=tt.width/2,it=tt.height/2;return[nt.x*rt+rt,-(nt.y*it)+it]}function isObjectBehindCamera(et,_e){const tt=v1.setFromMatrixPosition(et.matrixWorld),nt=v2$1.setFromMatrixPosition(_e.matrixWorld),rt=tt.sub(nt),it=_e.getWorldDirection(v3);return rt.angleTo(it)>Math.PI/2}function isObjectVisible(et,_e,tt,nt){const rt=v1.setFromMatrixPosition(et.matrixWorld),it=rt.clone();it.project(_e),tt.setFromCamera(it,_e);const st=tt.intersectObjects(nt,!0);if(st.length){const ot=st[0].distance;return rt.distanceTo(tt.ray.origin)<ot}return!0}function objectScale(et,_e){if(_e instanceof OrthographicCamera)return _e.zoom;if(_e instanceof PerspectiveCamera$1){const tt=v1.setFromMatrixPosition(et.matrixWorld),nt=v2$1.setFromMatrixPosition(_e.matrixWorld),rt=_e.fov*Math.PI/180,it=tt.distanceTo(nt),st=2*Math.tan(rt/2)*it;return 1/st}else return 1}function objectZIndex(et,_e,tt){if(_e instanceof PerspectiveCamera$1||_e instanceof OrthographicCamera){const nt=v1.setFromMatrixPosition(et.matrixWorld),rt=v2$1.setFromMatrixPosition(_e.matrixWorld),it=nt.distanceTo(rt),st=(tt[1]-tt[0])/(_e.far-_e.near),ot=tt[1]-st*_e.far;return Math.round(st*it+ot)}}const epsilon=et=>Math.abs(et)<1e-10?0:et;function getCSSMatrix(et,_e,tt=""){let nt="matrix3d(";for(let rt=0;rt!==16;rt++)nt+=epsilon(_e[rt]*et.elements[rt])+(rt!==15?",":")");return tt+nt}const getCameraCSSMatrix=(et=>_e=>getCSSMatrix(_e,et))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(et=>(_e,tt)=>getCSSMatrix(_e,et(tt),"translate(-50%,-50%)"))(et=>[1/et,1/et,1/et,1,-1/et,-1/et,-1/et,-1,1/et,1/et,1/et,1,1,1,1,1]),Html=react.exports.forwardRef(({children:et,eps:_e=.001,style:tt,className:nt,prepend:rt,center:it,fullscreen:st,portal:ot,distanceFactor:at,sprite:lt=!1,transform:ct=!1,occlude:ut,onOcclude:ft,zIndexRange:ht=[16777271,0],calculatePosition:pt=defaultCalculatePosition,as:gt="div",wrapperClass:dt,pointerEvents:vt="auto",...xt},_t)=>{const{gl:bt,camera:At,scene:Mt,size:Tt,raycaster:St,events:Ct}=useThree(),[Et]=react.exports.useState(()=>document.createElement(gt)),Rt=react.exports.useRef(),It=react.exports.useRef(null),Ot=react.exports.useRef(0),kt=react.exports.useRef([0,0]),$t=react.exports.useRef(null),jt=react.exports.useRef(null),Ht=(ot==null?void 0:ot.current)||Ct.connected||bt.domElement.parentNode;react.exports.useLayoutEffect(()=>{if(It.current){const Vt=Rt.current=createRoot$1(Et);if(Mt.updateMatrixWorld(),ct)Et.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Yt=pt(It.current,At,Tt);Et.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Yt[0]}px,${Yt[1]}px,0);transform-origin:0 0;`}return Ht&&(rt?Ht.prepend(Et):Ht.appendChild(Et)),()=>{Ht&&Ht.removeChild(Et),Vt.unmount()}}},[Ht,ct]),react.exports.useLayoutEffect(()=>{dt&&(Et.className=dt)},[dt]);const Bt=react.exports.useMemo(()=>ct?{position:"absolute",top:0,left:0,width:Tt.width,height:Tt.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:it?"translate3d(-50%,-50%,0)":"none",...st&&{top:-Tt.height/2,left:-Tt.width/2,width:Tt.width,height:Tt.height},...tt},[tt,it,st,Tt,ct]),Lt=react.exports.useMemo(()=>({position:"absolute",pointerEvents:vt}),[vt]);react.exports.useLayoutEffect(()=>{if(ct){var Vt;(Vt=Rt.current)==null||Vt.render(jsx("div",{ref:$t,style:Bt,children:jsx("div",{ref:jt,style:Lt,children:jsx("div",{ref:_t,className:nt,style:tt,children:et})})}))}else{var Yt;(Yt=Rt.current)==null||Yt.render(jsx("div",{ref:_t,style:Bt,className:nt,children:et}))}});const Ft=react.exports.useRef(!0);return useFrame(()=>{if(It.current){At.updateMatrixWorld(),It.current.updateWorldMatrix(!0,!1);const Vt=ct?kt.current:pt(It.current,At,Tt);if(ct||Math.abs(Ot.current-At.zoom)>_e||Math.abs(kt.current[0]-Vt[0])>_e||Math.abs(kt.current[1]-Vt[1])>_e){const Yt=isObjectBehindCamera(It.current,At);let rn=!1;typeof ut=="boolean"?ut===!0&&(rn=[Mt]):Array.isArray(ut)&&(rn=ut.map(cn=>cn.current));const sn=Ft.current;if(rn){const cn=isObjectVisible(It.current,At,St,rn);Ft.current=cn&&!Yt}else Ft.current=!Yt;if(sn!==Ft.current&&(ft?ft(!Ft.current):Et.style.display=Ft.current?"block":"none"),Et.style.zIndex=`${objectZIndex(It.current,At,ht)}`,ct){const[cn,Zt]=[Tt.width/2,Tt.height/2],an=At.projectionMatrix.elements[5]*Zt,{isOrthographicCamera:Qt,top:Ut,left:Gt,bottom:Wt,right:Jt}=At,Kt=getCameraCSSMatrix(At.matrixWorldInverse),nn=Qt?`scale(${an})translate(${epsilon(-(Jt+Gt)/2)}px,${epsilon((Ut+Wt)/2)}px)`:`translateZ(${an}px)`;let fn=It.current.matrixWorld;lt&&(fn=At.matrixWorldInverse.clone().transpose().copyPosition(fn).scale(It.current.scale),fn.elements[3]=fn.elements[7]=fn.elements[11]=0,fn.elements[15]=1),Et.style.width=Tt.width+"px",Et.style.height=Tt.height+"px",Et.style.perspective=Qt?"":`${an}px`,$t.current&&jt.current&&($t.current.style.transform=`${nn}${Kt}translate(${cn}px,${Zt}px)`,jt.current.style.transform=getObjectCSSMatrix(fn,1/((at||10)/400)))}else{const cn=at===void 0?1:objectScale(It.current,At)*at;Et.style.transform=`translate3d(${Vt[0]}px,${Vt[1]}px,0) scale(${cn})`}kt.current=Vt,Ot.current=At.zoom}}}),jsx("group",{...xt,ref:It})});let saveLastTotalLoaded=0;const useProgress=create$1(et=>(DefaultLoadingManager.onStart=(_e,tt,nt)=>{et({active:!0,item:_e,loaded:tt,total:nt,progress:(tt-saveLastTotalLoaded)/(nt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{et({active:!1})},DefaultLoadingManager.onError=_e=>et(tt=>({errors:[...tt.errors,_e]})),DefaultLoadingManager.onProgress=(_e,tt,nt)=>{tt===nt&&(saveLastTotalLoaded=nt),et({active:!0,item:_e,loaded:tt,total:nt,progress:(tt-saveLastTotalLoaded)/(nt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function mergeRefs(et){return function(_e){et.forEach(function(tt){typeof tt=="function"?tt(_e):tt!=null&&(tt.current=_e)})}}function clamp$4(et,_e,tt){return Math.max(_e,Math.min(et,tt))}const V$2={toVector(et,_e){return et===void 0&&(et=_e),Array.isArray(et)?et:[et,et]},add(et,_e){return[et[0]+_e[0],et[1]+_e[1]]},sub(et,_e){return[et[0]-_e[0],et[1]-_e[1]]},addTo(et,_e){et[0]+=_e[0],et[1]+=_e[1]},subTo(et,_e){et[0]-=_e[0],et[1]-=_e[1]}};function rubberband(et,_e,tt){return _e===0||Math.abs(_e)===1/0?Math.pow(et,tt*5):et*_e*tt/(_e+tt*et)}function rubberbandIfOutOfBounds(et,_e,tt,nt=.15){return nt===0?clamp$4(et,_e,tt):et<_e?-rubberband(_e-et,tt-_e,nt)+_e:et>tt?+rubberband(et-tt,tt-_e,nt)+tt:et}function computeRubberband(et,[_e,tt],[nt,rt]){const[[it,st],[ot,at]]=et;return[rubberbandIfOutOfBounds(_e,it,st,nt),rubberbandIfOutOfBounds(tt,ot,at,rt)]}function _defineProperty$4(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function ownKeys$4(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(et,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread2$2(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$4(Object(tt),!0).forEach(function(nt){_defineProperty$4(et,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys$4(Object(tt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return et}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(et){return et?et[0].toUpperCase()+et.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(et=!1,_e){return et&&!actionsWithoutCaptureSupported.includes(_e)}function toHandlerProp(et,_e="",tt=!1){const nt=EVENT_TYPE_MAP[et],rt=nt&&nt[_e]||_e;return"on"+capitalize(et)+capitalize(rt)+(hasCapture(tt,rt)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(et){let _e=et.substring(2).toLowerCase();const tt=!!~_e.indexOf("passive");tt&&(_e=_e.replace("passive",""));const nt=pointerCaptureEvents.includes(_e)?"capturecapture":"capture",rt=!!~_e.indexOf(nt);return rt&&(_e=_e.replace("capture","")),{device:_e,capture:rt,passive:tt}}function toDomEventType(et,_e=""){const tt=EVENT_TYPE_MAP[et],nt=tt&&tt[_e]||_e;return et+nt}function isTouch(et){return"touches"in et}function getPointerType(et){return isTouch(et)?"touch":"pointerType"in et?et.pointerType:"mouse"}function getCurrentTargetTouchList(et){return Array.from(et.touches).filter(_e=>{var tt,nt;return _e.target===et.currentTarget||((tt=et.currentTarget)===null||tt===void 0||(nt=tt.contains)===null||nt===void 0?void 0:nt.call(tt,_e.target))})}function getTouchList(et){return et.type==="touchend"||et.type==="touchcancel"?et.changedTouches:et.targetTouches}function getValueEvent(et){return isTouch(et)?getTouchList(et)[0]:et}function touchIds(et){return getCurrentTargetTouchList(et).map(_e=>_e.identifier)}function pointerId(et){const _e=getValueEvent(et);return isTouch(et)?_e.identifier:_e.pointerId}function pointerValues(et){const _e=getValueEvent(et);return[_e.clientX,_e.clientY]}function getEventDetails(et){const _e={};if("buttons"in et&&(_e.buttons=et.buttons),"shiftKey"in et){const{shiftKey:tt,altKey:nt,metaKey:rt,ctrlKey:it}=et;Object.assign(_e,{shiftKey:tt,altKey:nt,metaKey:rt,ctrlKey:it})}return _e}function call(et,..._e){return typeof et=="function"?et(..._e):et}function noop$1(){}function chain(...et){return et.length===0?noop$1:et.length===1?et[0]:function(){let _e;for(const tt of et)_e=tt.apply(this,arguments)||_e;return _e}}function assignDefault(et,_e){return Object.assign({},_e,et||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(_e,tt,nt){this.ctrl=_e,this.args=tt,this.key=nt,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(_e){this.ctrl.state[this.key]=_e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:_e,shared:tt,ingKey:nt,args:rt}=this;tt[nt]=_e._active=_e.active=_e._blocked=_e._force=!1,_e._step=[!1,!1],_e.intentional=!1,_e._movement=[0,0],_e._distance=[0,0],_e._direction=[0,0],_e._delta=[0,0],_e._bounds=[[-1/0,1/0],[-1/0,1/0]],_e.args=rt,_e.axis=void 0,_e.memo=void 0,_e.elapsedTime=0,_e.direction=[0,0],_e.distance=[0,0],_e.overflow=[0,0],_e._movementBound=[!1,!1],_e.velocity=[0,0],_e.movement=[0,0],_e.delta=[0,0],_e.timeStamp=0}start(_e){const tt=this.state,nt=this.config;tt._active||(this.reset(),this.computeInitial(),tt._active=!0,tt.target=_e.target,tt.currentTarget=_e.currentTarget,tt.lastOffset=nt.from?call(nt.from,tt):tt.offset,tt.offset=tt.lastOffset),tt.startTime=tt.timeStamp=_e.timeStamp}computeValues(_e){const tt=this.state;tt._values=_e,tt.values=this.config.transform(_e)}computeInitial(){const _e=this.state;_e._initial=_e._values,_e.initial=_e.values}compute(_e){const{state:tt,config:nt,shared:rt}=this;tt.args=this.args;let it=0;if(_e&&(tt.event=_e,nt.preventDefault&&_e.cancelable&&tt.event.preventDefault(),tt.type=_e.type,rt.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,rt.locked=!!document.pointerLockElement,Object.assign(rt,getEventDetails(_e)),rt.down=rt.pressed=rt.buttons%2===1||rt.touches>0,it=_e.timeStamp-tt.timeStamp,tt.timeStamp=_e.timeStamp,tt.elapsedTime=tt.timeStamp-tt.startTime),tt._active){const Mt=tt._delta.map(Math.abs);V$2.addTo(tt._distance,Mt)}this.axisIntent&&this.axisIntent(_e);const[st,ot]=tt._movement,[at,lt]=nt.threshold,{_step:ct,values:ut}=tt;if(nt.hasCustomTransform?(ct[0]===!1&&(ct[0]=Math.abs(st)>=at&&ut[0]),ct[1]===!1&&(ct[1]=Math.abs(ot)>=lt&&ut[1])):(ct[0]===!1&&(ct[0]=Math.abs(st)>=at&&Math.sign(st)*at),ct[1]===!1&&(ct[1]=Math.abs(ot)>=lt&&Math.sign(ot)*lt)),tt.intentional=ct[0]!==!1||ct[1]!==!1,!tt.intentional)return;const ft=[0,0];if(nt.hasCustomTransform){const[Mt,Tt]=ut;ft[0]=ct[0]!==!1?Mt-ct[0]:0,ft[1]=ct[1]!==!1?Tt-ct[1]:0}else ft[0]=ct[0]!==!1?st-ct[0]:0,ft[1]=ct[1]!==!1?ot-ct[1]:0;this.restrictToAxis&&!tt._blocked&&this.restrictToAxis(ft);const ht=tt.offset,pt=tt._active&&!tt._blocked||tt.active;pt&&(tt.first=tt._active&&!tt.active,tt.last=!tt._active&&tt.active,tt.active=rt[this.ingKey]=tt._active,_e&&(tt.first&&("bounds"in nt&&(tt._bounds=call(nt.bounds,tt)),this.setup&&this.setup()),tt.movement=ft,this.computeOffset()));const[gt,dt]=tt.offset,[[vt,xt],[_t,bt]]=tt._bounds;tt.overflow=[gt<vt?-1:gt>xt?1:0,dt<_t?-1:dt>bt?1:0],tt._movementBound[0]=tt.overflow[0]?tt._movementBound[0]===!1?tt._movement[0]:tt._movementBound[0]:!1,tt._movementBound[1]=tt.overflow[1]?tt._movementBound[1]===!1?tt._movement[1]:tt._movementBound[1]:!1;const At=tt._active?nt.rubberband||[0,0]:[0,0];if(tt.offset=computeRubberband(tt._bounds,tt.offset,At),tt.delta=V$2.sub(tt.offset,ht),this.computeMovement(),pt&&(!tt.last||it>BEFORE_LAST_KINEMATICS_DELAY)){tt.delta=V$2.sub(tt.offset,ht);const Mt=tt.delta.map(Math.abs);V$2.addTo(tt.distance,Mt),tt.direction=tt.delta.map(Math.sign),tt._direction=tt._delta.map(Math.sign),!tt.first&&it>0&&(tt.velocity=[Mt[0]/it,Mt[1]/it])}}emit(){const _e=this.state,tt=this.shared,nt=this.config;if(_e._active||this.clean(),(_e._blocked||!_e.intentional)&&!_e._force&&!nt.triggerAllEvents)return;const rt=this.handler(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},tt),_e),{},{[this.aliasKey]:_e.values}));rt!==void 0&&(_e.memo=rt)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([et,_e],tt){const nt=Math.abs(et),rt=Math.abs(_e);if(nt>rt&&nt>tt)return"x";if(rt>nt&&rt>tt)return"y"}class CoordinatesEngine extends Engine{constructor(..._e){super(..._e),_defineProperty$4(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V$2.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V$2.sub(this.state.offset,this.state.lastOffset)}axisIntent(_e){const tt=this.state,nt=this.config;if(!tt.axis&&_e){const rt=typeof nt.axisThreshold=="object"?nt.axisThreshold[getPointerType(_e)]:nt.axisThreshold;tt.axis=selectAxis(tt._movement,rt)}tt._blocked=(nt.lockDirection||!!nt.axis)&&!tt.axis||!!nt.axis&&nt.axis!==tt.axis}restrictToAxis(_e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":_e[1]=0;break;case"y":_e[0]=0;break}}}const identity=et=>et,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(et=!0){return et},eventOptions(et,_e,tt){return _objectSpread2$2(_objectSpread2$2({},tt.shared.eventOptions),et)},preventDefault(et=!1){return et},triggerAllEvents(et=!1){return et},rubberband(et=0){switch(et){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V$2.toVector(et)}},from(et){if(typeof et=="function")return et;if(et!=null)return V$2.toVector(et)},transform(et,_e,tt){const nt=et||tt.shared.transform;return this.hasCustomTransform=!!nt,nt||identity},threshold(et){return V$2.toVector(et,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2$2(_objectSpread2$2({},commonConfigResolver),{},{axis(et,_e,{axis:tt}){if(this.lockDirection=tt==="lock",!this.lockDirection)return tt},axisThreshold(et=DEFAULT_AXIS_THRESHOLD){return et},bounds(et={}){if(typeof et=="function")return it=>coordinatesConfigResolver.bounds(et(it));if("current"in et)return()=>et.current;if(typeof HTMLElement=="function"&&et instanceof HTMLElement)return et;const{left:_e=-1/0,right:tt=1/0,top:nt=-1/0,bottom:rt=1/0}=et;return[[_e,tt],[nt,rt]]}}),DISPLACEMENT=10,KEYS_DELTA_MAP={ArrowRight:(et=1)=>[DISPLACEMENT*et,0],ArrowLeft:(et=1)=>[-DISPLACEMENT*et,0],ArrowUp:(et=1)=>[0,-DISPLACEMENT*et],ArrowDown:(et=1)=>[0,DISPLACEMENT*et]};class DragEngine extends CoordinatesEngine{constructor(..._e){super(..._e),_defineProperty$4(this,"ingKey","dragging")}reset(){super.reset();const _e=this.state;_e._pointerId=void 0,_e._pointerActive=!1,_e._keyboardActive=!1,_e._preventScroll=!1,_e._delayed=!1,_e.swipe=[0,0],_e.tap=!1,_e.canceled=!1,_e.cancel=this.cancel.bind(this)}setup(){const _e=this.state;if(_e._bounds instanceof HTMLElement){const tt=_e._bounds.getBoundingClientRect(),nt=_e.currentTarget.getBoundingClientRect(),rt={left:tt.left-nt.left+_e.offset[0],right:tt.right-nt.right+_e.offset[0],top:tt.top-nt.top+_e.offset[1],bottom:tt.bottom-nt.bottom+_e.offset[1]};_e._bounds=coordinatesConfigResolver.bounds(rt)}}cancel(){const _e=this.state;_e.canceled||(_e.canceled=!0,_e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(_e){const tt=this.config,nt=this.state;if(_e.buttons!=null&&(Array.isArray(tt.pointerButtons)?!tt.pointerButtons.includes(_e.buttons):tt.pointerButtons!==-1&&tt.pointerButtons!==_e.buttons))return;const rt=this.ctrl.setEventIds(_e);tt.pointerCapture&&_e.target.setPointerCapture(_e.pointerId),!(rt&&rt.size>1&&nt._pointerActive)&&(this.start(_e),this.setupPointer(_e),nt._pointerId=pointerId(_e),nt._pointerActive=!0,this.computeValues(pointerValues(_e)),this.computeInitial(),tt.preventScrollAxis&&getPointerType(_e)!=="mouse"?(nt._active=!1,this.setupScrollPrevention(_e)):tt.delay>0?(this.setupDelayTrigger(_e),tt.triggerAllEvents&&(this.compute(_e),this.emit())):this.startPointerDrag(_e))}startPointerDrag(_e){const tt=this.state;tt._active=!0,tt._preventScroll=!0,tt._delayed=!1,this.compute(_e),this.emit()}pointerMove(_e){const tt=this.state,nt=this.config;if(!tt._pointerActive||tt.type===_e.type&&_e.timeStamp===tt.timeStamp)return;const rt=pointerId(_e);if(tt._pointerId!==void 0&&rt!==tt._pointerId)return;const it=pointerValues(_e);if(document.pointerLockElement===_e.target?tt._delta=[_e.movementX,_e.movementY]:(tt._delta=V$2.sub(it,tt._values),this.computeValues(it)),V$2.addTo(tt._movement,tt._delta),this.compute(_e),tt._delayed&&tt.intentional){this.timeoutStore.remove("dragDelay"),tt.active=!1,this.startPointerDrag(_e);return}if(nt.preventScrollAxis&&!tt._preventScroll)if(tt.axis)if(tt.axis===nt.preventScrollAxis||nt.preventScrollAxis==="xy"){tt._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(_e);return}else return;this.emit()}pointerUp(_e){this.ctrl.setEventIds(_e);try{this.config.pointerCapture&&_e.target.hasPointerCapture(_e.pointerId)&&_e.target.releasePointerCapture(_e.pointerId)}catch{}const tt=this.state,nt=this.config;if(!tt._active||!tt._pointerActive)return;const rt=pointerId(_e);if(tt._pointerId!==void 0&&rt!==tt._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(_e);const[it,st]=tt._distance;if(tt.tap=it<=nt.tapsThreshold&&st<=nt.tapsThreshold,tt.tap&&nt.filterTaps)tt._force=!0;else{const[ot,at]=tt.direction,[lt,ct]=tt.velocity,[ut,ft]=tt.movement,[ht,pt]=nt.swipe.velocity,[gt,dt]=nt.swipe.distance,vt=nt.swipe.duration;tt.elapsedTime<vt&&(Math.abs(lt)>ht&&Math.abs(ut)>gt&&(tt.swipe[0]=ot),Math.abs(ct)>pt&&Math.abs(ft)>dt&&(tt.swipe[1]=at))}this.emit()}pointerClick(_e){!this.state.tap&&_e.detail>0&&(_e.preventDefault(),_e.stopPropagation())}setupPointer(_e){const tt=this.config,nt=tt.device;tt.pointerLock&&_e.currentTarget.requestPointerLock(),tt.pointerCapture||(this.eventStore.add(this.sharedConfig.window,nt,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,nt,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,nt,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(_e){this.state._preventScroll&&_e.cancelable&&_e.preventDefault()}setupScrollPrevention(_e){this.state._preventScroll=!1,persistEvent(_e);const tt=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",tt),this.eventStore.add(this.sharedConfig.window,"touch","cancel",tt),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,_e)}setupDelayTrigger(_e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(_e)},this.config.delay)}keyDown(_e){const tt=KEYS_DELTA_MAP[_e.key];if(tt){const nt=this.state,rt=_e.shiftKey?10:_e.altKey?.1:1;this.start(_e),nt._delta=tt(rt),nt._keyboardActive=!0,V$2.addTo(nt._movement,nt._delta),this.compute(_e),this.emit()}}keyUp(_e){_e.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(_e),this.emit())}bind(_e){const tt=this.config.device;_e(tt,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(_e(tt,"change",this.pointerMove.bind(this)),_e(tt,"end",this.pointerUp.bind(this)),_e(tt,"cancel",this.pointerUp.bind(this)),_e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(_e("key","down",this.keyDown.bind(this)),_e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&_e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(et){"persist"in et&&typeof et.persist=="function"&&et.persist()}const isBrowser$1=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents$1(){return isBrowser$1&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents$1()||isBrowser$1&&window.navigator.maxTouchPoints>1}function supportsPointerEvents$1(){return isBrowser$1&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser$1&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser:isBrowser$1,gesture:supportsGestureEvents(),touch:isTouchScreen(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents$1(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2$2(_objectSpread2$2({},coordinatesConfigResolver),{},{device(et,_e,{pointer:{touch:tt=!1,lock:nt=!1,mouse:rt=!1}={}}){return this.pointerLock=nt&&SUPPORT.pointerLock,SUPPORT.touch&&tt?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!rt?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(et,_e,{preventScroll:tt}){if(this.preventScrollDelay=typeof tt=="number"?tt:tt||tt===void 0&&et?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||tt===!1))return et||(tt!==void 0?"y":void 0)},pointerCapture(et,_e,{pointer:{capture:tt=!0,buttons:nt=1}={}}){return this.pointerButtons=nt,!this.pointerLock&&this.device==="pointer"&&tt},keys(et=!0){return et},threshold(et,_e,{filterTaps:tt=!1,tapsThreshold:nt=3,axis:rt=void 0}){const it=V$2.toVector(et,tt?nt:rt?1:0);return this.filterTaps=tt,this.tapsThreshold=nt,it},swipe({velocity:et=DEFAULT_SWIPE_VELOCITY,distance:_e=DEFAULT_SWIPE_DISTANCE,duration:tt=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V$2.toVector(et)),distance:this.transform(V$2.toVector(_e)),duration:tt}},delay(et=0){switch(et){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return et}},axisThreshold(et){return et?_objectSpread2$2(_objectSpread2$2({},DEFAULT_DRAG_AXIS_THRESHOLD),et):DEFAULT_DRAG_AXIS_THRESHOLD}});_objectSpread2$2(_objectSpread2$2({},commonConfigResolver),{},{device(et,_e,{shared:tt,pointer:{touch:nt=!1}={}}){if(tt.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&nt)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(et,_e,{scaleBounds:tt={},angleBounds:nt={}}){const rt=st=>{const ot=assignDefault(call(tt,st),{min:-1/0,max:1/0});return[ot.min,ot.max]},it=st=>{const ot=assignDefault(call(nt,st),{min:-1/0,max:1/0});return[ot.min,ot.max]};return typeof tt!="function"&&typeof nt!="function"?[rt(),it()]:st=>[rt(st),it(st)]},threshold(et,_e,tt){return this.lockDirection=tt.axis==="lock",V$2.toVector(et,this.lockDirection?[.1,3]:0)},modifierKey(et){return et===void 0?"ctrlKey":et}});_objectSpread2$2(_objectSpread2$2({},coordinatesConfigResolver),{},{mouseOnly:(et=!0)=>et});_objectSpread2$2(_objectSpread2$2({},coordinatesConfigResolver),{},{mouseOnly:(et=!0)=>et});const EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(et){EngineMap.set(et.key,et.engine),ConfigResolverMap.set(et.key,et.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};function _objectWithoutPropertiesLoose$2(et,_e){if(et==null)return{};var tt={},nt=Object.keys(et),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(_e.indexOf(rt)>=0)&&(tt[rt]=et[rt]);return tt}function _objectWithoutProperties$2(et,_e){if(et==null)return{};var tt=_objectWithoutPropertiesLoose$2(et,_e),nt,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(rt=0;rt<it.length;rt++)nt=it[rt],!(_e.indexOf(nt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(et,nt)||(tt[nt]=et[nt]))}return tt}const sharedConfigResolver={target(et){if(et)return()=>"current"in et?et.current:et},enabled(et=!0){return et},window(et=SUPPORT.isBrowser?window:void 0){return et},eventOptions({passive:et=!0,capture:_e=!1}={}){return{passive:et,capture:_e}},transform(et){return et}},_excluded$c=["target","eventOptions","window","enabled","transform"];function resolveWith(et={},_e){const tt={};for(const[nt,rt]of Object.entries(_e))switch(typeof rt){case"function":tt[nt]=rt.call(tt,et[nt],nt,et);break;case"object":tt[nt]=resolveWith(et[nt],rt);break;case"boolean":rt&&(tt[nt]=et[nt]);break}return tt}function parse$2(et,_e){const tt=et,{target:nt,eventOptions:rt,window:it,enabled:st,transform:ot}=tt,at=_objectWithoutProperties$2(tt,_excluded$c),lt={shared:resolveWith({target:nt,eventOptions:rt,window:it,enabled:st,transform:ot},sharedConfigResolver)};if(_e){const ct=ConfigResolverMap.get(_e);lt[_e]=resolveWith(_objectSpread2$2({shared:lt.shared},at),ct)}else for(const ct in at){const ut=ConfigResolverMap.get(ct);ut&&(lt[ct]=resolveWith(_objectSpread2$2({shared:lt.shared},at[ct]),ut))}return lt}class EventStore{constructor(_e,tt){_defineProperty$4(this,"_listeners",new Set),this._ctrl=_e,this._gestureKey=tt}add(_e,tt,nt,rt,it){const st=this._listeners,ot=toDomEventType(tt,nt),at=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},lt=_objectSpread2$2(_objectSpread2$2({},at),it);_e.addEventListener(ot,rt,lt);const ct=()=>{_e.removeEventListener(ot,rt,lt),st.delete(ct)};return st.add(ct),ct}clean(){this._listeners.forEach(_e=>_e()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty$4(this,"_timeouts",new Map)}add(_e,tt,nt=140,...rt){this.remove(_e),this._timeouts.set(_e,window.setTimeout(tt,nt,...rt))}remove(_e){const tt=this._timeouts.get(_e);tt&&window.clearTimeout(tt)}clean(){this._timeouts.forEach(_e=>void window.clearTimeout(_e)),this._timeouts.clear()}}class Controller{constructor(_e){_defineProperty$4(this,"gestures",new Set),_defineProperty$4(this,"_targetEventStore",new EventStore(this)),_defineProperty$4(this,"gestureEventStores",{}),_defineProperty$4(this,"gestureTimeoutStores",{}),_defineProperty$4(this,"handlers",{}),_defineProperty$4(this,"config",{}),_defineProperty$4(this,"pointerIds",new Set),_defineProperty$4(this,"touchIds",new Set),_defineProperty$4(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,_e)}setEventIds(_e){if(isTouch(_e))return this.touchIds=new Set(touchIds(_e)),this.touchIds;if("pointerId"in _e)return _e.type==="pointerup"||_e.type==="pointercancel"?this.pointerIds.delete(_e.pointerId):_e.type==="pointerdown"&&this.pointerIds.add(_e.pointerId),this.pointerIds}applyHandlers(_e,tt){this.handlers=_e,this.nativeHandlers=tt}applyConfig(_e,tt){this.config=parse$2(_e,tt)}clean(){this._targetEventStore.clean();for(const _e of this.gestures)this.gestureEventStores[_e].clean(),this.gestureTimeoutStores[_e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(..._e){const tt=this.config.shared,nt={};let rt;if(!(tt.target&&(rt=tt.target(),!rt))){if(tt.enabled){for(const st of this.gestures){const ot=this.config[st],at=bindToProps(nt,ot.eventOptions,!!rt);if(ot.enabled){const lt=EngineMap.get(st);new lt(this,_e,st).bind(at)}}const it=bindToProps(nt,tt.eventOptions,!!rt);for(const st in this.nativeHandlers)it(st,"",ot=>this.nativeHandlers[st](_objectSpread2$2(_objectSpread2$2({},this.state.shared),{},{event:ot,args:_e})),void 0,!0)}for(const it in nt)nt[it]=chain(...nt[it]);if(!rt)return nt;for(const it in nt){const{device:st,capture:ot,passive:at}=parseProp(it);this._targetEventStore.add(rt,st,"",nt[it],{capture:ot,passive:at})}}}}function setupGesture(et,_e){et.gestures.add(_e),et.gestureEventStores[_e]=new EventStore(et,_e),et.gestureTimeoutStores[_e]=new TimeoutStore}function resolveGestures(et,_e){_e.drag&&setupGesture(et,"drag"),_e.wheel&&setupGesture(et,"wheel"),_e.scroll&&setupGesture(et,"scroll"),_e.move&&setupGesture(et,"move"),_e.pinch&&setupGesture(et,"pinch"),_e.hover&&setupGesture(et,"hover")}const bindToProps=(et,_e,tt)=>(nt,rt,it,st={},ot=!1)=>{var at,lt;const ct=(at=st.capture)!==null&&at!==void 0?at:_e.capture,ut=(lt=st.passive)!==null&&lt!==void 0?lt:_e.passive;let ft=ot?nt:toHandlerProp(nt,rt,ct);tt&&ut&&(ft+="Passive"),et[ft]=et[ft]||[],et[ft].push(it)};function useRecognizers(et,_e={},tt,nt){const rt=React.useMemo(()=>new Controller(et),[]);if(rt.applyHandlers(et,nt),rt.applyConfig(_e,tt),React.useEffect(rt.effect.bind(rt)),React.useEffect(()=>rt.clean.bind(rt),[]),_e.target===void 0)return rt.bind.bind(rt)}function useDrag$2(et,_e){return registerAction(dragAction),useRecognizers({drag:et},_e||{},"drag")}const subscribeWithSelector=et=>(_e,tt,nt)=>{const rt=nt.subscribe;return nt.subscribe=(st,ot,at)=>{let lt=st;if(ot){const ct=(at==null?void 0:at.equalityFn)||Object.is;let ut=st(nt.getState());lt=ft=>{const ht=st(ft);if(!ct(ut,ht)){const pt=ut;ot(ut=ht,pt)}},at!=null&&at.fireImmediately&&ot(ut,ut)}return rt(lt)},et(_e,tt,nt)};let webGL2Available;function isWebGL2Available(){if(webGL2Available!==void 0)return webGL2Available;try{var et;let _e;const tt=document.createElement("canvas");return webGL2Available=!!(window.WebGL2RenderingContext&&(_e=tt.getContext("webgl2"))),_e&&((et=_e.getExtension("WEBGL_lose_context"))===null||et===void 0||et.loseContext()),webGL2Available}catch{return webGL2Available=!1}}const isCubeTexture=et=>et&&et.isCubeTexture;class GroundProjectedEnv extends Mesh{constructor(_e,tt){var nt,rt;const it=isCubeTexture(_e),ot=((nt=it?(rt=_e.image[0])===null||rt===void 0?void 0:rt.width:_e.image.width)!=null?nt:1024)/4,at=Math.floor(Math.log2(ot)),lt=Math.pow(2,at),ct=3*Math.max(lt,16*7),ut=4*lt,ft=[it?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/ct}`,`#define CUBEUV_TEXEL_HEIGHT ${1/ut}`,`#define CUBEUV_MAX_MIP ${at}.0`],ht=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,pt=ft.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,gt={map:{value:_e},height:{value:(tt==null?void 0:tt.height)||15},radius:{value:(tt==null?void 0:tt.radius)||100}},dt=new IcosahedronGeometry(1,16),vt=new ShaderMaterial({uniforms:gt,fragmentShader:pt,vertexShader:ht,side:DoubleSide});super(dt,vt)}set radius(_e){this.material.uniforms.radius.value=_e}get radius(){return this.material.uniforms.radius.value}set height(_e){this.material.uniforms.height.value=_e}get height(){return this.material.uniforms.height.value}}class GLTFLoader extends Loader{constructor(_e){super(_e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(tt){return new GLTFMaterialsClearcoatExtension(tt)}),this.register(function(tt){return new GLTFTextureBasisUExtension(tt)}),this.register(function(tt){return new GLTFTextureWebPExtension(tt)}),this.register(function(tt){return new GLTFMaterialsSheenExtension(tt)}),this.register(function(tt){return new GLTFMaterialsTransmissionExtension(tt)}),this.register(function(tt){return new GLTFMaterialsVolumeExtension(tt)}),this.register(function(tt){return new GLTFMaterialsIorExtension(tt)}),this.register(function(tt){return new GLTFMaterialsEmissiveStrengthExtension(tt)}),this.register(function(tt){return new GLTFMaterialsSpecularExtension(tt)}),this.register(function(tt){return new GLTFMaterialsIridescenceExtension(tt)}),this.register(function(tt){return new GLTFLightsExtension(tt)}),this.register(function(tt){return new GLTFMeshoptCompression(tt)})}load(_e,tt,nt,rt){const it=this;let st;this.resourcePath!==""?st=this.resourcePath:this.path!==""?st=this.path:st=LoaderUtils.extractUrlBase(_e),this.manager.itemStart(_e);const ot=function(lt){rt?rt(lt):console.error(lt),it.manager.itemError(_e),it.manager.itemEnd(_e)},at=new FileLoader(this.manager);at.setPath(this.path),at.setResponseType("arraybuffer"),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(_e,function(lt){try{it.parse(lt,st,function(ct){tt(ct),it.manager.itemEnd(_e)},ot)}catch(ct){ot(ct)}},nt,ot)}setDRACOLoader(_e){return this.dracoLoader=_e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(_e){return this.ktx2Loader=_e,this}setMeshoptDecoder(_e){return this.meshoptDecoder=_e,this}register(_e){return this.pluginCallbacks.indexOf(_e)===-1&&this.pluginCallbacks.push(_e),this}unregister(_e){return this.pluginCallbacks.indexOf(_e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(_e),1),this}parse(_e,tt,nt,rt){let it;const st={},ot={};if(typeof _e=="string")it=_e;else if(LoaderUtils.decodeText(new Uint8Array(_e,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{st[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(_e)}catch(ut){rt&&rt(ut);return}it=st[EXTENSIONS.KHR_BINARY_GLTF].content}else it=LoaderUtils.decodeText(new Uint8Array(_e));const at=JSON.parse(it);if(at.asset===void 0||at.asset.version[0]<2){rt&&rt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const lt=new GLTFParser(at,{path:tt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});lt.fileLoader.setRequestHeader(this.requestHeader);for(let ct=0;ct<this.pluginCallbacks.length;ct++){const ut=this.pluginCallbacks[ct](lt);ot[ut.name]=ut,st[ut.name]=!0}if(at.extensionsUsed)for(let ct=0;ct<at.extensionsUsed.length;++ct){const ut=at.extensionsUsed[ct],ft=at.extensionsRequired||[];switch(ut){case EXTENSIONS.KHR_MATERIALS_UNLIT:st[ut]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:st[ut]=new GLTFMaterialsPbrSpecularGlossinessExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:st[ut]=new GLTFDracoMeshCompressionExtension(at,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:st[ut]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:st[ut]=new GLTFMeshQuantizationExtension;break;default:ft.indexOf(ut)>=0&&ot[ut]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+ut+'".')}}lt.setExtensions(st),lt.setPlugins(ot),lt.parse(nt,rt)}parseAsync(_e,tt){const nt=this;return new Promise(function(rt,it){nt.parse(_e,tt,rt,it)})}}function GLTFRegistry(){let et={};return{get:function(_e){return et[_e]},add:function(_e,tt){et[_e]=tt},remove:function(_e){delete et[_e]},removeAll:function(){et={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class GLTFLightsExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const _e=this.parser,tt=this.parser.json.nodes||[];for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];it.extensions&&it.extensions[this.name]&&it.extensions[this.name].light!==void 0&&_e._addNodeRef(this.cache,it.extensions[this.name].light)}}_loadLight(_e){const tt=this.parser,nt="light:"+_e;let rt=tt.cache.get(nt);if(rt)return rt;const it=tt.json,at=((it.extensions&&it.extensions[this.name]||{}).lights||[])[_e];let lt;const ct=new Color$2(16777215);at.color!==void 0&&ct.fromArray(at.color);const ut=at.range!==void 0?at.range:0;switch(at.type){case"directional":lt=new DirectionalLight(ct),lt.target.position.set(0,0,-1),lt.add(lt.target);break;case"point":lt=new PointLight(ct),lt.distance=ut;break;case"spot":lt=new SpotLight(ct),lt.distance=ut,at.spot=at.spot||{},at.spot.innerConeAngle=at.spot.innerConeAngle!==void 0?at.spot.innerConeAngle:0,at.spot.outerConeAngle=at.spot.outerConeAngle!==void 0?at.spot.outerConeAngle:Math.PI/4,lt.angle=at.spot.outerConeAngle,lt.penumbra=1-at.spot.innerConeAngle/at.spot.outerConeAngle,lt.target.position.set(0,0,-1),lt.add(lt.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+at.type)}return lt.position.set(0,0,0),lt.decay=2,at.intensity!==void 0&&(lt.intensity=at.intensity),lt.name=tt.createUniqueName(at.name||"light_"+_e),rt=Promise.resolve(lt),tt.cache.add(nt,rt),rt}createNodeAttachment(_e){const tt=this,nt=this.parser,it=nt.json.nodes[_e],ot=(it.extensions&&it.extensions[this.name]||{}).light;return ot===void 0?null:this._loadLight(ot).then(function(at){return nt._getNodeRef(tt.cache,ot,at)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(_e,tt,nt){const rt=[];_e.color=new Color$2(1,1,1),_e.opacity=1;const it=tt.pbrMetallicRoughness;if(it){if(Array.isArray(it.baseColorFactor)){const st=it.baseColorFactor;_e.color.fromArray(st),_e.opacity=st[3]}it.baseColorTexture!==void 0&&rt.push(nt.assignTexture(_e,"map",it.baseColorTexture,sRGBEncoding))}return Promise.all(rt)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(_e,tt){const rt=this.parser.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=rt.extensions[this.name].emissiveStrength;return it!==void 0&&(tt.emissiveIntensity=it),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(_e){const nt=this.parser.json.materials[_e];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const nt=this.parser,rt=nt.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=[],st=rt.extensions[this.name];if(st.clearcoatFactor!==void 0&&(tt.clearcoat=st.clearcoatFactor),st.clearcoatTexture!==void 0&&it.push(nt.assignTexture(tt,"clearcoatMap",st.clearcoatTexture)),st.clearcoatRoughnessFactor!==void 0&&(tt.clearcoatRoughness=st.clearcoatRoughnessFactor),st.clearcoatRoughnessTexture!==void 0&&it.push(nt.assignTexture(tt,"clearcoatRoughnessMap",st.clearcoatRoughnessTexture)),st.clearcoatNormalTexture!==void 0&&(it.push(nt.assignTexture(tt,"clearcoatNormalMap",st.clearcoatNormalTexture)),st.clearcoatNormalTexture.scale!==void 0)){const ot=st.clearcoatNormalTexture.scale;tt.clearcoatNormalScale=new Vector2(ot,ot)}return Promise.all(it)}}class GLTFMaterialsIridescenceExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(_e){const nt=this.parser.json.materials[_e];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const nt=this.parser,rt=nt.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=[],st=rt.extensions[this.name];return st.iridescenceFactor!==void 0&&(tt.iridescence=st.iridescenceFactor),st.iridescenceTexture!==void 0&&it.push(nt.assignTexture(tt,"iridescenceMap",st.iridescenceTexture)),st.iridescenceIor!==void 0&&(tt.iridescenceIOR=st.iridescenceIor),tt.iridescenceThicknessRange===void 0&&(tt.iridescenceThicknessRange=[100,400]),st.iridescenceThicknessMinimum!==void 0&&(tt.iridescenceThicknessRange[0]=st.iridescenceThicknessMinimum),st.iridescenceThicknessMaximum!==void 0&&(tt.iridescenceThicknessRange[1]=st.iridescenceThicknessMaximum),st.iridescenceThicknessTexture!==void 0&&it.push(nt.assignTexture(tt,"iridescenceThicknessMap",st.iridescenceThicknessTexture)),Promise.all(it)}}class GLTFMaterialsSheenExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(_e){const nt=this.parser.json.materials[_e];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const nt=this.parser,rt=nt.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=[];tt.sheenColor=new Color$2(0,0,0),tt.sheenRoughness=0,tt.sheen=1;const st=rt.extensions[this.name];return st.sheenColorFactor!==void 0&&tt.sheenColor.fromArray(st.sheenColorFactor),st.sheenRoughnessFactor!==void 0&&(tt.sheenRoughness=st.sheenRoughnessFactor),st.sheenColorTexture!==void 0&&it.push(nt.assignTexture(tt,"sheenColorMap",st.sheenColorTexture,sRGBEncoding)),st.sheenRoughnessTexture!==void 0&&it.push(nt.assignTexture(tt,"sheenRoughnessMap",st.sheenRoughnessTexture)),Promise.all(it)}}class GLTFMaterialsTransmissionExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(_e){const nt=this.parser.json.materials[_e];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const nt=this.parser,rt=nt.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=[],st=rt.extensions[this.name];return st.transmissionFactor!==void 0&&(tt.transmission=st.transmissionFactor),st.transmissionTexture!==void 0&&it.push(nt.assignTexture(tt,"transmissionMap",st.transmissionTexture)),Promise.all(it)}}class GLTFMaterialsVolumeExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(_e){const nt=this.parser.json.materials[_e];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const nt=this.parser,rt=nt.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=[],st=rt.extensions[this.name];tt.thickness=st.thicknessFactor!==void 0?st.thicknessFactor:0,st.thicknessTexture!==void 0&&it.push(nt.assignTexture(tt,"thicknessMap",st.thicknessTexture)),tt.attenuationDistance=st.attenuationDistance||0;const ot=st.attenuationColor||[1,1,1];return tt.attenuationColor=new Color$2(ot[0],ot[1],ot[2]),Promise.all(it)}}class GLTFMaterialsIorExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(_e){const nt=this.parser.json.materials[_e];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=rt.extensions[this.name];return tt.ior=it.ior!==void 0?it.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(_e){const nt=this.parser.json.materials[_e];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const nt=this.parser,rt=nt.json.materials[_e];if(!rt.extensions||!rt.extensions[this.name])return Promise.resolve();const it=[],st=rt.extensions[this.name];tt.specularIntensity=st.specularFactor!==void 0?st.specularFactor:1,st.specularTexture!==void 0&&it.push(nt.assignTexture(tt,"specularIntensityMap",st.specularTexture));const ot=st.specularColorFactor||[1,1,1];return tt.specularColor=new Color$2(ot[0],ot[1],ot[2]),st.specularColorTexture!==void 0&&it.push(nt.assignTexture(tt,"specularColorMap",st.specularColorTexture,sRGBEncoding)),Promise.all(it)}}class GLTFTextureBasisUExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(_e){const tt=this.parser,nt=tt.json,rt=nt.textures[_e];if(!rt.extensions||!rt.extensions[this.name])return null;const it=rt.extensions[this.name],st=tt.options.ktx2Loader;if(!st){if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return tt.loadTextureImage(_e,it.source,st)}}class GLTFTextureWebPExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(_e){const tt=this.name,nt=this.parser,rt=nt.json,it=rt.textures[_e];if(!it.extensions||!it.extensions[tt])return null;const st=it.extensions[tt],ot=rt.images[st.source];let at=nt.textureLoader;if(ot.uri){const lt=nt.options.manager.getHandler(ot.uri);lt!==null&&(at=lt)}return this.detectSupport().then(function(lt){if(lt)return nt.loadTextureImage(_e,st.source,at);if(rt.extensionsRequired&&rt.extensionsRequired.indexOf(tt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return nt.loadTexture(_e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(_e){const tt=new Image;tt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",tt.onload=tt.onerror=function(){_e(tt.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(_e){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=_e}loadBufferView(_e){const tt=this.parser.json,nt=tt.bufferViews[_e];if(nt.extensions&&nt.extensions[this.name]){const rt=nt.extensions[this.name],it=this.parser.getDependency("buffer",rt.buffer),st=this.parser.options.meshoptDecoder;if(!st||!st.supported){if(tt.extensionsRequired&&tt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return it.then(function(ot){const at=rt.byteOffset||0,lt=rt.byteLength||0,ct=rt.count,ut=rt.byteStride,ft=new Uint8Array(ot,at,lt);return st.decodeGltfBufferAsync?st.decodeGltfBufferAsync(ct,ut,ft,rt.mode,rt.filter).then(function(ht){return ht.buffer}):st.ready.then(function(){const ht=new ArrayBuffer(ct*ut);return st.decodeGltfBuffer(new Uint8Array(ht),ct,ut,ft,rt.mode,rt.filter),ht})})}else return null}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(_e){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const tt=new DataView(_e,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(_e.slice(0,4))),version:tt.getUint32(4,!0),length:tt.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const nt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,rt=new DataView(_e,BINARY_EXTENSION_HEADER_LENGTH);let it=0;for(;it<nt;){const st=rt.getUint32(it,!0);it+=4;const ot=rt.getUint32(it,!0);if(it+=4,ot===BINARY_EXTENSION_CHUNK_TYPES.JSON){const at=new Uint8Array(_e,BINARY_EXTENSION_HEADER_LENGTH+it,st);this.content=LoaderUtils.decodeText(at)}else if(ot===BINARY_EXTENSION_CHUNK_TYPES.BIN){const at=BINARY_EXTENSION_HEADER_LENGTH+it;this.body=_e.slice(at,at+st)}it+=st}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(_e,tt){if(!tt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=_e,this.dracoLoader=tt,this.dracoLoader.preload()}decodePrimitive(_e,tt){const nt=this.json,rt=this.dracoLoader,it=_e.extensions[this.name].bufferView,st=_e.extensions[this.name].attributes,ot={},at={},lt={};for(const ct in st){const ut=ATTRIBUTES[ct]||ct.toLowerCase();ot[ut]=st[ct]}for(const ct in _e.attributes){const ut=ATTRIBUTES[ct]||ct.toLowerCase();if(st[ct]!==void 0){const ft=nt.accessors[_e.attributes[ct]],ht=WEBGL_COMPONENT_TYPES[ft.componentType];lt[ut]=ht.name,at[ut]=ft.normalized===!0}}return tt.getDependency("bufferView",it).then(function(ct){return new Promise(function(ut){rt.decodeDracoFile(ct,function(ft){for(const ht in ft.attributes){const pt=ft.attributes[ht],gt=at[ht];gt!==void 0&&(pt.normalized=gt)}ut(ft)},ot,lt)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(_e,tt){return tt.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),tt.offset===void 0&&tt.rotation===void 0&&tt.scale===void 0||(_e=_e.clone(),tt.offset!==void 0&&_e.offset.fromArray(tt.offset),tt.rotation!==void 0&&(_e.rotation=tt.rotation),tt.scale!==void 0&&_e.repeat.fromArray(tt.scale),_e.needsUpdate=!0),_e}}class GLTFMeshStandardSGMaterial extends MeshStandardMaterial{constructor(_e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const tt=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),nt=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),rt=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),it=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),st=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),ot={specular:{value:new Color$2().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=ot,this.onBeforeCompile=function(at){for(const lt in ot)at.uniforms[lt]=ot[lt];at.fragmentShader=at.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",tt).replace("#include <metalnessmap_pars_fragment>",nt).replace("#include <roughnessmap_fragment>",rt).replace("#include <metalnessmap_fragment>",it).replace("#include <lights_physical_fragment>",st)},Object.defineProperties(this,{specular:{get:function(){return ot.specular.value},set:function(at){ot.specular.value=at}},specularMap:{get:function(){return ot.specularMap.value},set:function(at){ot.specularMap.value=at,at?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return ot.glossiness.value},set:function(at){ot.glossiness.value=at}},glossinessMap:{get:function(){return ot.glossinessMap.value},set:function(at){ot.glossinessMap.value=at,at?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(_e)}copy(_e){return super.copy(_e),this.specularMap=_e.specularMap,this.specular.copy(_e.specular),this.glossinessMap=_e.glossinessMap,this.glossiness=_e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class GLTFMaterialsPbrSpecularGlossinessExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return GLTFMeshStandardSGMaterial}extendParams(_e,tt,nt){const rt=tt.extensions[this.name];_e.color=new Color$2(1,1,1),_e.opacity=1;const it=[];if(Array.isArray(rt.diffuseFactor)){const st=rt.diffuseFactor;_e.color.fromArray(st),_e.opacity=st[3]}if(rt.diffuseTexture!==void 0&&it.push(nt.assignTexture(_e,"map",rt.diffuseTexture,sRGBEncoding)),_e.emissive=new Color$2(0,0,0),_e.glossiness=rt.glossinessFactor!==void 0?rt.glossinessFactor:1,_e.specular=new Color$2(1,1,1),Array.isArray(rt.specularFactor)&&_e.specular.fromArray(rt.specularFactor),rt.specularGlossinessTexture!==void 0){const st=rt.specularGlossinessTexture;it.push(nt.assignTexture(_e,"glossinessMap",st)),it.push(nt.assignTexture(_e,"specularMap",st,sRGBEncoding))}return Promise.all(it)}createMaterial(_e){const tt=new GLTFMeshStandardSGMaterial(_e);return tt.fog=!0,tt.color=_e.color,tt.map=_e.map===void 0?null:_e.map,tt.lightMap=null,tt.lightMapIntensity=1,tt.aoMap=_e.aoMap===void 0?null:_e.aoMap,tt.aoMapIntensity=1,tt.emissive=_e.emissive,tt.emissiveIntensity=_e.emissiveIntensity===void 0?1:_e.emissiveIntensity,tt.emissiveMap=_e.emissiveMap===void 0?null:_e.emissiveMap,tt.bumpMap=_e.bumpMap===void 0?null:_e.bumpMap,tt.bumpScale=1,tt.normalMap=_e.normalMap===void 0?null:_e.normalMap,tt.normalMapType=TangentSpaceNormalMap,_e.normalScale&&(tt.normalScale=_e.normalScale),tt.displacementMap=null,tt.displacementScale=1,tt.displacementBias=0,tt.specularMap=_e.specularMap===void 0?null:_e.specularMap,tt.specular=_e.specular,tt.glossinessMap=_e.glossinessMap===void 0?null:_e.glossinessMap,tt.glossiness=_e.glossiness,tt.alphaMap=null,tt.envMap=_e.envMap===void 0?null:_e.envMap,tt.envMapIntensity=1,tt.refractionRatio=.98,tt}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(_e,tt,nt,rt){super(_e,tt,nt,rt)}copySampleValue_(_e){const tt=this.resultBuffer,nt=this.sampleValues,rt=this.valueSize,it=_e*rt*3+rt;for(let st=0;st!==rt;st++)tt[st]=nt[it+st];return tt}interpolate_(_e,tt,nt,rt){const it=this.resultBuffer,st=this.sampleValues,ot=this.valueSize,at=ot*2,lt=ot*3,ct=rt-tt,ut=(nt-tt)/ct,ft=ut*ut,ht=ft*ut,pt=_e*lt,gt=pt-lt,dt=-2*ht+3*ft,vt=ht-ft,xt=1-dt,_t=vt-ft+ut;for(let bt=0;bt!==ot;bt++){const At=st[gt+bt+ot],Mt=st[gt+bt+at]*ct,Tt=st[pt+bt+ot],St=st[pt+bt]*ct;it[bt]=xt*At+_t*Mt+dt*Tt+vt*St}return it}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(_e,tt,nt,rt){const it=super.interpolate_(_e,tt,nt,rt);return _q.fromArray(it).normalize().toArray(it),it}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(et){return et.DefaultMaterial===void 0&&(et.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),et.DefaultMaterial}function addUnknownExtensionsToUserData(et,_e,tt){for(const nt in tt.extensions)et[nt]===void 0&&(_e.userData.gltfExtensions=_e.userData.gltfExtensions||{},_e.userData.gltfExtensions[nt]=tt.extensions[nt])}function assignExtrasToUserData(et,_e){_e.extras!==void 0&&(typeof _e.extras=="object"?Object.assign(et.userData,_e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+_e.extras))}function addMorphTargets(et,_e,tt){let nt=!1,rt=!1,it=!1;for(let lt=0,ct=_e.length;lt<ct;lt++){const ut=_e[lt];if(ut.POSITION!==void 0&&(nt=!0),ut.NORMAL!==void 0&&(rt=!0),ut.COLOR_0!==void 0&&(it=!0),nt&&rt&&it)break}if(!nt&&!rt&&!it)return Promise.resolve(et);const st=[],ot=[],at=[];for(let lt=0,ct=_e.length;lt<ct;lt++){const ut=_e[lt];if(nt){const ft=ut.POSITION!==void 0?tt.getDependency("accessor",ut.POSITION):et.attributes.position;st.push(ft)}if(rt){const ft=ut.NORMAL!==void 0?tt.getDependency("accessor",ut.NORMAL):et.attributes.normal;ot.push(ft)}if(it){const ft=ut.COLOR_0!==void 0?tt.getDependency("accessor",ut.COLOR_0):et.attributes.color;at.push(ft)}}return Promise.all([Promise.all(st),Promise.all(ot),Promise.all(at)]).then(function(lt){const ct=lt[0],ut=lt[1],ft=lt[2];return nt&&(et.morphAttributes.position=ct),rt&&(et.morphAttributes.normal=ut),it&&(et.morphAttributes.color=ft),et.morphTargetsRelative=!0,et})}function updateMorphTargets(et,_e){if(et.updateMorphTargets(),_e.weights!==void 0)for(let tt=0,nt=_e.weights.length;tt<nt;tt++)et.morphTargetInfluences[tt]=_e.weights[tt];if(_e.extras&&Array.isArray(_e.extras.targetNames)){const tt=_e.extras.targetNames;if(et.morphTargetInfluences.length===tt.length){et.morphTargetDictionary={};for(let nt=0,rt=tt.length;nt<rt;nt++)et.morphTargetDictionary[tt[nt]]=nt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(et){const _e=et.extensions&&et.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let tt;return _e?tt="draco:"+_e.bufferView+":"+_e.indices+":"+createAttributesKey(_e.attributes):tt=et.indices+":"+createAttributesKey(et.attributes)+":"+et.mode,tt}function createAttributesKey(et){let _e="";const tt=Object.keys(et).sort();for(let nt=0,rt=tt.length;nt<rt;nt++)_e+=tt[nt]+":"+et[tt[nt]]+";";return _e}function getNormalizedComponentScale(et){switch(et){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(et){return et.search(/\.jpe?g($|\?)/i)>0||et.search(/^data\:image\/jpeg/)===0?"image/jpeg":et.search(/\.webp($|\?)/i)>0||et.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class GLTFParser{constructor(_e={},tt={}){this.json=_e,this.extensions={},this.plugins={},this.options=tt,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const nt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,rt=navigator.userAgent.indexOf("Firefox")>-1,it=rt?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||nt||rt&&it<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(_e){this.extensions=_e}setPlugins(_e){this.plugins=_e}parse(_e,tt){const nt=this,rt=this.json,it=this.extensions;this.cache.removeAll(),this._invokeAll(function(st){return st._markDefs&&st._markDefs()}),Promise.all(this._invokeAll(function(st){return st.beforeRoot&&st.beforeRoot()})).then(function(){return Promise.all([nt.getDependencies("scene"),nt.getDependencies("animation"),nt.getDependencies("camera")])}).then(function(st){const ot={scene:st[0][rt.scene||0],scenes:st[0],animations:st[1],cameras:st[2],asset:rt.asset,parser:nt,userData:{}};addUnknownExtensionsToUserData(it,ot,rt),assignExtrasToUserData(ot,rt),Promise.all(nt._invokeAll(function(at){return at.afterRoot&&at.afterRoot(ot)})).then(function(){_e(ot)})}).catch(tt)}_markDefs(){const _e=this.json.nodes||[],tt=this.json.skins||[],nt=this.json.meshes||[];for(let rt=0,it=tt.length;rt<it;rt++){const st=tt[rt].joints;for(let ot=0,at=st.length;ot<at;ot++)_e[st[ot]].isBone=!0}for(let rt=0,it=_e.length;rt<it;rt++){const st=_e[rt];st.mesh!==void 0&&(this._addNodeRef(this.meshCache,st.mesh),st.skin!==void 0&&(nt[st.mesh].isSkinnedMesh=!0)),st.camera!==void 0&&this._addNodeRef(this.cameraCache,st.camera)}}_addNodeRef(_e,tt){tt!==void 0&&(_e.refs[tt]===void 0&&(_e.refs[tt]=_e.uses[tt]=0),_e.refs[tt]++)}_getNodeRef(_e,tt,nt){if(_e.refs[tt]<=1)return nt;const rt=nt.clone(),it=(st,ot)=>{const at=this.associations.get(st);at!=null&&this.associations.set(ot,at);for(const[lt,ct]of st.children.entries())it(ct,ot.children[lt])};return it(nt,rt),rt.name+="_instance_"+_e.uses[tt]++,rt}_invokeOne(_e){const tt=Object.values(this.plugins);tt.push(this);for(let nt=0;nt<tt.length;nt++){const rt=_e(tt[nt]);if(rt)return rt}return null}_invokeAll(_e){const tt=Object.values(this.plugins);tt.unshift(this);const nt=[];for(let rt=0;rt<tt.length;rt++){const it=_e(tt[rt]);it&&nt.push(it)}return nt}getDependency(_e,tt){const nt=_e+":"+tt;let rt=this.cache.get(nt);if(!rt){switch(_e){case"scene":rt=this.loadScene(tt);break;case"node":rt=this.loadNode(tt);break;case"mesh":rt=this._invokeOne(function(it){return it.loadMesh&&it.loadMesh(tt)});break;case"accessor":rt=this.loadAccessor(tt);break;case"bufferView":rt=this._invokeOne(function(it){return it.loadBufferView&&it.loadBufferView(tt)});break;case"buffer":rt=this.loadBuffer(tt);break;case"material":rt=this._invokeOne(function(it){return it.loadMaterial&&it.loadMaterial(tt)});break;case"texture":rt=this._invokeOne(function(it){return it.loadTexture&&it.loadTexture(tt)});break;case"skin":rt=this.loadSkin(tt);break;case"animation":rt=this._invokeOne(function(it){return it.loadAnimation&&it.loadAnimation(tt)});break;case"camera":rt=this.loadCamera(tt);break;default:throw new Error("Unknown type: "+_e)}this.cache.add(nt,rt)}return rt}getDependencies(_e){let tt=this.cache.get(_e);if(!tt){const nt=this,rt=this.json[_e+(_e==="mesh"?"es":"s")]||[];tt=Promise.all(rt.map(function(it,st){return nt.getDependency(_e,st)})),this.cache.add(_e,tt)}return tt}loadBuffer(_e){const tt=this.json.buffers[_e],nt=this.fileLoader;if(tt.type&&tt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+tt.type+" buffer type is not supported.");if(tt.uri===void 0&&_e===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const rt=this.options;return new Promise(function(it,st){nt.load(LoaderUtils.resolveURL(tt.uri,rt.path),it,void 0,function(){st(new Error('THREE.GLTFLoader: Failed to load buffer "'+tt.uri+'".'))})})}loadBufferView(_e){const tt=this.json.bufferViews[_e];return this.getDependency("buffer",tt.buffer).then(function(nt){const rt=tt.byteLength||0,it=tt.byteOffset||0;return nt.slice(it,it+rt)})}loadAccessor(_e){const tt=this,nt=this.json,rt=this.json.accessors[_e];if(rt.bufferView===void 0&&rt.sparse===void 0)return Promise.resolve(null);const it=[];return rt.bufferView!==void 0?it.push(this.getDependency("bufferView",rt.bufferView)):it.push(null),rt.sparse!==void 0&&(it.push(this.getDependency("bufferView",rt.sparse.indices.bufferView)),it.push(this.getDependency("bufferView",rt.sparse.values.bufferView))),Promise.all(it).then(function(st){const ot=st[0],at=WEBGL_TYPE_SIZES[rt.type],lt=WEBGL_COMPONENT_TYPES[rt.componentType],ct=lt.BYTES_PER_ELEMENT,ut=ct*at,ft=rt.byteOffset||0,ht=rt.bufferView!==void 0?nt.bufferViews[rt.bufferView].byteStride:void 0,pt=rt.normalized===!0;let gt,dt;if(ht&&ht!==ut){const vt=Math.floor(ft/ht),xt="InterleavedBuffer:"+rt.bufferView+":"+rt.componentType+":"+vt+":"+rt.count;let _t=tt.cache.get(xt);_t||(gt=new lt(ot,vt*ht,rt.count*ht/ct),_t=new InterleavedBuffer(gt,ht/ct),tt.cache.add(xt,_t)),dt=new InterleavedBufferAttribute(_t,at,ft%ht/ct,pt)}else ot===null?gt=new lt(rt.count*at):gt=new lt(ot,ft,rt.count*at),dt=new BufferAttribute(gt,at,pt);if(rt.sparse!==void 0){const vt=WEBGL_TYPE_SIZES.SCALAR,xt=WEBGL_COMPONENT_TYPES[rt.sparse.indices.componentType],_t=rt.sparse.indices.byteOffset||0,bt=rt.sparse.values.byteOffset||0,At=new xt(st[1],_t,rt.sparse.count*vt),Mt=new lt(st[2],bt,rt.sparse.count*at);ot!==null&&(dt=new BufferAttribute(dt.array.slice(),dt.itemSize,dt.normalized));for(let Tt=0,St=At.length;Tt<St;Tt++){const Ct=At[Tt];if(dt.setX(Ct,Mt[Tt*at]),at>=2&&dt.setY(Ct,Mt[Tt*at+1]),at>=3&&dt.setZ(Ct,Mt[Tt*at+2]),at>=4&&dt.setW(Ct,Mt[Tt*at+3]),at>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return dt})}loadTexture(_e){const tt=this.json,nt=this.options,it=tt.textures[_e].source,st=tt.images[it];let ot=this.textureLoader;if(st.uri){const at=nt.manager.getHandler(st.uri);at!==null&&(ot=at)}return this.loadTextureImage(_e,it,ot)}loadTextureImage(_e,tt,nt){const rt=this,it=this.json,st=it.textures[_e],ot=it.images[tt],at=(ot.uri||ot.bufferView)+":"+st.sampler;if(this.textureCache[at])return this.textureCache[at];const lt=this.loadImageSource(tt,nt).then(function(ct){ct.flipY=!1,st.name&&(ct.name=st.name);const ft=(it.samplers||{})[st.sampler]||{};return ct.magFilter=WEBGL_FILTERS[ft.magFilter]||LinearFilter,ct.minFilter=WEBGL_FILTERS[ft.minFilter]||LinearMipmapLinearFilter,ct.wrapS=WEBGL_WRAPPINGS[ft.wrapS]||RepeatWrapping,ct.wrapT=WEBGL_WRAPPINGS[ft.wrapT]||RepeatWrapping,rt.associations.set(ct,{textures:_e}),ct}).catch(function(){return null});return this.textureCache[at]=lt,lt}loadImageSource(_e,tt){const nt=this,rt=this.json,it=this.options;if(this.sourceCache[_e]!==void 0)return this.sourceCache[_e].then(ut=>ut.clone());const st=rt.images[_e],ot=self.URL||self.webkitURL;let at=st.uri||"",lt=!1;if(st.bufferView!==void 0)at=nt.getDependency("bufferView",st.bufferView).then(function(ut){lt=!0;const ft=new Blob([ut],{type:st.mimeType});return at=ot.createObjectURL(ft),at});else if(st.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+_e+" is missing URI and bufferView");const ct=Promise.resolve(at).then(function(ut){return new Promise(function(ft,ht){let pt=ft;tt.isImageBitmapLoader===!0&&(pt=function(gt){const dt=new Texture(gt);dt.needsUpdate=!0,ft(dt)}),tt.load(LoaderUtils.resolveURL(ut,it.path),pt,void 0,ht)})}).then(function(ut){return lt===!0&&ot.revokeObjectURL(at),ut.userData.mimeType=st.mimeType||getImageURIMimeType(st.uri),ut}).catch(function(ut){throw console.error("THREE.GLTFLoader: Couldn't load texture",at),ut});return this.sourceCache[_e]=ct,ct}assignTexture(_e,tt,nt,rt){const it=this;return this.getDependency("texture",nt.index).then(function(st){if(nt.texCoord!==void 0&&nt.texCoord!=0&&!(tt==="aoMap"&&nt.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+nt.texCoord+" for texture "+tt+" not yet supported."),it.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const ot=nt.extensions!==void 0?nt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(ot){const at=it.associations.get(st);st=it.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(st,ot),it.associations.set(st,at)}}return rt!==void 0&&(st.encoding=rt),_e[tt]=st,st})}assignFinalMaterial(_e){const tt=_e.geometry;let nt=_e.material;const rt=tt.attributes.tangent===void 0,it=tt.attributes.color!==void 0,st=tt.attributes.normal===void 0;if(_e.isPoints){const ot="PointsMaterial:"+nt.uuid;let at=this.cache.get(ot);at||(at=new PointsMaterial,Material.prototype.copy.call(at,nt),at.color.copy(nt.color),at.map=nt.map,at.sizeAttenuation=!1,this.cache.add(ot,at)),nt=at}else if(_e.isLine){const ot="LineBasicMaterial:"+nt.uuid;let at=this.cache.get(ot);at||(at=new LineBasicMaterial,Material.prototype.copy.call(at,nt),at.color.copy(nt.color),this.cache.add(ot,at)),nt=at}if(rt||it||st){let ot="ClonedMaterial:"+nt.uuid+":";nt.isGLTFSpecularGlossinessMaterial&&(ot+="specular-glossiness:"),rt&&(ot+="derivative-tangents:"),it&&(ot+="vertex-colors:"),st&&(ot+="flat-shading:");let at=this.cache.get(ot);at||(at=nt.clone(),it&&(at.vertexColors=!0),st&&(at.flatShading=!0),rt&&(at.normalScale&&(at.normalScale.y*=-1),at.clearcoatNormalScale&&(at.clearcoatNormalScale.y*=-1)),this.cache.add(ot,at),this.associations.set(at,this.associations.get(nt))),nt=at}nt.aoMap&&tt.attributes.uv2===void 0&&tt.attributes.uv!==void 0&&tt.setAttribute("uv2",tt.attributes.uv),_e.material=nt}getMaterialType(){return MeshStandardMaterial}loadMaterial(_e){const tt=this,nt=this.json,rt=this.extensions,it=nt.materials[_e];let st;const ot={},at=it.extensions||{},lt=[];if(at[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const ut=rt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];st=ut.getMaterialType(),lt.push(ut.extendParams(ot,it,tt))}else if(at[EXTENSIONS.KHR_MATERIALS_UNLIT]){const ut=rt[EXTENSIONS.KHR_MATERIALS_UNLIT];st=ut.getMaterialType(),lt.push(ut.extendParams(ot,it,tt))}else{const ut=it.pbrMetallicRoughness||{};if(ot.color=new Color$2(1,1,1),ot.opacity=1,Array.isArray(ut.baseColorFactor)){const ft=ut.baseColorFactor;ot.color.fromArray(ft),ot.opacity=ft[3]}ut.baseColorTexture!==void 0&&lt.push(tt.assignTexture(ot,"map",ut.baseColorTexture,sRGBEncoding)),ot.metalness=ut.metallicFactor!==void 0?ut.metallicFactor:1,ot.roughness=ut.roughnessFactor!==void 0?ut.roughnessFactor:1,ut.metallicRoughnessTexture!==void 0&&(lt.push(tt.assignTexture(ot,"metalnessMap",ut.metallicRoughnessTexture)),lt.push(tt.assignTexture(ot,"roughnessMap",ut.metallicRoughnessTexture))),st=this._invokeOne(function(ft){return ft.getMaterialType&&ft.getMaterialType(_e)}),lt.push(Promise.all(this._invokeAll(function(ft){return ft.extendMaterialParams&&ft.extendMaterialParams(_e,ot)})))}it.doubleSided===!0&&(ot.side=DoubleSide);const ct=it.alphaMode||ALPHA_MODES.OPAQUE;if(ct===ALPHA_MODES.BLEND?(ot.transparent=!0,ot.depthWrite=!1):(ot.transparent=!1,ct===ALPHA_MODES.MASK&&(ot.alphaTest=it.alphaCutoff!==void 0?it.alphaCutoff:.5)),it.normalTexture!==void 0&&st!==MeshBasicMaterial&&(lt.push(tt.assignTexture(ot,"normalMap",it.normalTexture)),ot.normalScale=new Vector2(1,1),it.normalTexture.scale!==void 0)){const ut=it.normalTexture.scale;ot.normalScale.set(ut,ut)}return it.occlusionTexture!==void 0&&st!==MeshBasicMaterial&&(lt.push(tt.assignTexture(ot,"aoMap",it.occlusionTexture)),it.occlusionTexture.strength!==void 0&&(ot.aoMapIntensity=it.occlusionTexture.strength)),it.emissiveFactor!==void 0&&st!==MeshBasicMaterial&&(ot.emissive=new Color$2().fromArray(it.emissiveFactor)),it.emissiveTexture!==void 0&&st!==MeshBasicMaterial&&lt.push(tt.assignTexture(ot,"emissiveMap",it.emissiveTexture,sRGBEncoding)),Promise.all(lt).then(function(){let ut;return st===GLTFMeshStandardSGMaterial?ut=rt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(ot):ut=new st(ot),it.name&&(ut.name=it.name),assignExtrasToUserData(ut,it),tt.associations.set(ut,{materials:_e}),it.extensions&&addUnknownExtensionsToUserData(rt,ut,it),ut})}createUniqueName(_e){const tt=PropertyBinding.sanitizeNodeName(_e||"");let nt=tt;for(let rt=1;this.nodeNamesUsed[nt];++rt)nt=tt+"_"+rt;return this.nodeNamesUsed[nt]=!0,nt}loadGeometries(_e){const tt=this,nt=this.extensions,rt=this.primitiveCache;function it(ot){return nt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(ot,tt).then(function(at){return addPrimitiveAttributes(at,ot,tt)})}const st=[];for(let ot=0,at=_e.length;ot<at;ot++){const lt=_e[ot],ct=createPrimitiveKey(lt),ut=rt[ct];if(ut)st.push(ut.promise);else{let ft;lt.extensions&&lt.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?ft=it(lt):ft=addPrimitiveAttributes(new BufferGeometry,lt,tt),rt[ct]={primitive:lt,promise:ft},st.push(ft)}}return Promise.all(st)}loadMesh(_e){const tt=this,nt=this.json,rt=this.extensions,it=nt.meshes[_e],st=it.primitives,ot=[];for(let at=0,lt=st.length;at<lt;at++){const ct=st[at].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",st[at].material);ot.push(ct)}return ot.push(tt.loadGeometries(st)),Promise.all(ot).then(function(at){const lt=at.slice(0,at.length-1),ct=at[at.length-1],ut=[];for(let ht=0,pt=ct.length;ht<pt;ht++){const gt=ct[ht],dt=st[ht];let vt;const xt=lt[ht];if(dt.mode===WEBGL_CONSTANTS.TRIANGLES||dt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||dt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||dt.mode===void 0)vt=it.isSkinnedMesh===!0?new SkinnedMesh(gt,xt):new Mesh(gt,xt),vt.isSkinnedMesh===!0&&!vt.geometry.attributes.skinWeight.normalized&&vt.normalizeSkinWeights(),dt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?vt.geometry=toTrianglesDrawMode(vt.geometry,TriangleStripDrawMode):dt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(vt.geometry=toTrianglesDrawMode(vt.geometry,TriangleFanDrawMode));else if(dt.mode===WEBGL_CONSTANTS.LINES)vt=new LineSegments(gt,xt);else if(dt.mode===WEBGL_CONSTANTS.LINE_STRIP)vt=new Line(gt,xt);else if(dt.mode===WEBGL_CONSTANTS.LINE_LOOP)vt=new LineLoop(gt,xt);else if(dt.mode===WEBGL_CONSTANTS.POINTS)vt=new Points$1(gt,xt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+dt.mode);Object.keys(vt.geometry.morphAttributes).length>0&&updateMorphTargets(vt,it),vt.name=tt.createUniqueName(it.name||"mesh_"+_e),assignExtrasToUserData(vt,it),dt.extensions&&addUnknownExtensionsToUserData(rt,vt,dt),tt.assignFinalMaterial(vt),ut.push(vt)}for(let ht=0,pt=ut.length;ht<pt;ht++)tt.associations.set(ut[ht],{meshes:_e,primitives:ht});if(ut.length===1)return ut[0];const ft=new Group;tt.associations.set(ft,{meshes:_e});for(let ht=0,pt=ut.length;ht<pt;ht++)ft.add(ut[ht]);return ft})}loadCamera(_e){let tt;const nt=this.json.cameras[_e],rt=nt[nt.type];if(!rt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return nt.type==="perspective"?tt=new PerspectiveCamera$1(MathUtils.radToDeg(rt.yfov),rt.aspectRatio||1,rt.znear||1,rt.zfar||2e6):nt.type==="orthographic"&&(tt=new OrthographicCamera(-rt.xmag,rt.xmag,rt.ymag,-rt.ymag,rt.znear,rt.zfar)),nt.name&&(tt.name=this.createUniqueName(nt.name)),assignExtrasToUserData(tt,nt),Promise.resolve(tt)}loadSkin(_e){const tt=this.json.skins[_e],nt={joints:tt.joints};return tt.inverseBindMatrices===void 0?Promise.resolve(nt):this.getDependency("accessor",tt.inverseBindMatrices).then(function(rt){return nt.inverseBindMatrices=rt,nt})}loadAnimation(_e){const nt=this.json.animations[_e],rt=[],it=[],st=[],ot=[],at=[];for(let lt=0,ct=nt.channels.length;lt<ct;lt++){const ut=nt.channels[lt],ft=nt.samplers[ut.sampler],ht=ut.target,pt=ht.node,gt=nt.parameters!==void 0?nt.parameters[ft.input]:ft.input,dt=nt.parameters!==void 0?nt.parameters[ft.output]:ft.output;rt.push(this.getDependency("node",pt)),it.push(this.getDependency("accessor",gt)),st.push(this.getDependency("accessor",dt)),ot.push(ft),at.push(ht)}return Promise.all([Promise.all(rt),Promise.all(it),Promise.all(st),Promise.all(ot),Promise.all(at)]).then(function(lt){const ct=lt[0],ut=lt[1],ft=lt[2],ht=lt[3],pt=lt[4],gt=[];for(let vt=0,xt=ct.length;vt<xt;vt++){const _t=ct[vt],bt=ut[vt],At=ft[vt],Mt=ht[vt],Tt=pt[vt];if(_t===void 0)continue;_t.updateMatrix();let St;switch(PATH_PROPERTIES[Tt.path]){case PATH_PROPERTIES.weights:St=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:St=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:St=VectorKeyframeTrack;break}const Ct=_t.name?_t.name:_t.uuid,Et=Mt.interpolation!==void 0?INTERPOLATION[Mt.interpolation]:InterpolateLinear,Rt=[];PATH_PROPERTIES[Tt.path]===PATH_PROPERTIES.weights?_t.traverse(function(Ot){Ot.morphTargetInfluences&&Rt.push(Ot.name?Ot.name:Ot.uuid)}):Rt.push(Ct);let It=At.array;if(At.normalized){const Ot=getNormalizedComponentScale(It.constructor),kt=new Float32Array(It.length);for(let $t=0,jt=It.length;$t<jt;$t++)kt[$t]=It[$t]*Ot;It=kt}for(let Ot=0,kt=Rt.length;Ot<kt;Ot++){const $t=new St(Rt[Ot]+"."+PATH_PROPERTIES[Tt.path],bt.array,It,Et);Mt.interpolation==="CUBICSPLINE"&&($t.createInterpolant=function(Ht){const Bt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new Bt(this.times,this.values,this.getValueSize()/3,Ht)},$t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),gt.push($t)}}const dt=nt.name?nt.name:"animation_"+_e;return new AnimationClip(dt,void 0,gt)})}createNodeMesh(_e){const tt=this.json,nt=this,rt=tt.nodes[_e];return rt.mesh===void 0?null:nt.getDependency("mesh",rt.mesh).then(function(it){const st=nt._getNodeRef(nt.meshCache,rt.mesh,it);return rt.weights!==void 0&&st.traverse(function(ot){if(!!ot.isMesh)for(let at=0,lt=rt.weights.length;at<lt;at++)ot.morphTargetInfluences[at]=rt.weights[at]}),st})}loadNode(_e){const tt=this.json,nt=this.extensions,rt=this,it=tt.nodes[_e],st=it.name?rt.createUniqueName(it.name):"";return function(){const ot=[],at=rt._invokeOne(function(lt){return lt.createNodeMesh&&lt.createNodeMesh(_e)});return at&&ot.push(at),it.camera!==void 0&&ot.push(rt.getDependency("camera",it.camera).then(function(lt){return rt._getNodeRef(rt.cameraCache,it.camera,lt)})),rt._invokeAll(function(lt){return lt.createNodeAttachment&&lt.createNodeAttachment(_e)}).forEach(function(lt){ot.push(lt)}),Promise.all(ot)}().then(function(ot){let at;if(it.isBone===!0?at=new Bone:ot.length>1?at=new Group:ot.length===1?at=ot[0]:at=new Object3D,at!==ot[0])for(let lt=0,ct=ot.length;lt<ct;lt++)at.add(ot[lt]);if(it.name&&(at.userData.name=it.name,at.name=st),assignExtrasToUserData(at,it),it.extensions&&addUnknownExtensionsToUserData(nt,at,it),it.matrix!==void 0){const lt=new Matrix4;lt.fromArray(it.matrix),at.applyMatrix4(lt)}else it.translation!==void 0&&at.position.fromArray(it.translation),it.rotation!==void 0&&at.quaternion.fromArray(it.rotation),it.scale!==void 0&&at.scale.fromArray(it.scale);return rt.associations.has(at)||rt.associations.set(at,{}),rt.associations.get(at).nodes=_e,at})}loadScene(_e){const tt=this.json,nt=this.extensions,rt=this.json.scenes[_e],it=this,st=new Group;rt.name&&(st.name=it.createUniqueName(rt.name)),assignExtrasToUserData(st,rt),rt.extensions&&addUnknownExtensionsToUserData(nt,st,rt);const ot=rt.nodes||[],at=[];for(let lt=0,ct=ot.length;lt<ct;lt++)at.push(buildNodeHierarchy(ot[lt],st,tt,it));return Promise.all(at).then(function(){const lt=ct=>{const ut=new Map;for(const[ft,ht]of it.associations)(ft instanceof Material||ft instanceof Texture)&&ut.set(ft,ht);return ct.traverse(ft=>{const ht=it.associations.get(ft);ht!=null&&ut.set(ft,ht)}),ut};return it.associations=lt(st),st})}}function buildNodeHierarchy(et,_e,tt,nt){const rt=tt.nodes[et];return nt.getDependency("node",et).then(function(it){if(rt.skin===void 0)return it;let st;return nt.getDependency("skin",rt.skin).then(function(ot){st=ot;const at=[];for(let lt=0,ct=st.joints.length;lt<ct;lt++)at.push(nt.getDependency("node",st.joints[lt]));return Promise.all(at)}).then(function(ot){return it.traverse(function(at){if(!at.isMesh)return;const lt=[],ct=[];for(let ut=0,ft=ot.length;ut<ft;ut++){const ht=ot[ut];if(ht){lt.push(ht);const pt=new Matrix4;st.inverseBindMatrices!==void 0&&pt.fromArray(st.inverseBindMatrices.array,ut*16),ct.push(pt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',st.joints[ut])}at.bind(new Skeleton(lt,ct),at.matrixWorld)}),it})}).then(function(it){_e.add(it);const st=[];if(rt.children){const ot=rt.children;for(let at=0,lt=ot.length;at<lt;at++){const ct=ot[at];st.push(buildNodeHierarchy(ct,it,tt,nt))}}return Promise.all(st)})}function computeBounds(et,_e,tt){const nt=_e.attributes,rt=new Box3;if(nt.POSITION!==void 0){const ot=tt.json.accessors[nt.POSITION],at=ot.min,lt=ot.max;if(at!==void 0&&lt!==void 0){if(rt.set(new Vector3(at[0],at[1],at[2]),new Vector3(lt[0],lt[1],lt[2])),ot.normalized){const ct=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ot.componentType]);rt.min.multiplyScalar(ct),rt.max.multiplyScalar(ct)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const it=_e.targets;if(it!==void 0){const ot=new Vector3,at=new Vector3;for(let lt=0,ct=it.length;lt<ct;lt++){const ut=it[lt];if(ut.POSITION!==void 0){const ft=tt.json.accessors[ut.POSITION],ht=ft.min,pt=ft.max;if(ht!==void 0&&pt!==void 0){if(at.setX(Math.max(Math.abs(ht[0]),Math.abs(pt[0]))),at.setY(Math.max(Math.abs(ht[1]),Math.abs(pt[1]))),at.setZ(Math.max(Math.abs(ht[2]),Math.abs(pt[2]))),ft.normalized){const gt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ft.componentType]);at.multiplyScalar(gt)}ot.max(at)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}rt.expandByVector(ot)}et.boundingBox=rt;const st=new Sphere$1;rt.getCenter(st.center),st.radius=rt.min.distanceTo(rt.max)/2,et.boundingSphere=st}function addPrimitiveAttributes(et,_e,tt){const nt=_e.attributes,rt=[];function it(st,ot){return tt.getDependency("accessor",st).then(function(at){et.setAttribute(ot,at)})}for(const st in nt){const ot=ATTRIBUTES[st]||st.toLowerCase();ot in et.attributes||rt.push(it(nt[st],ot))}if(_e.indices!==void 0&&!et.index){const st=tt.getDependency("accessor",_e.indices).then(function(ot){et.setIndex(ot)});rt.push(st)}return assignExtrasToUserData(et,_e),computeBounds(et,_e,tt),Promise.all(rt).then(function(){return _e.targets!==void 0?addMorphTargets(et,_e.targets,tt):et})}function toTrianglesDrawMode(et,_e){let tt=et.getIndex();if(tt===null){const st=[],ot=et.getAttribute("position");if(ot!==void 0){for(let at=0;at<ot.count;at++)st.push(at);et.setIndex(st),tt=et.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),et}const nt=tt.count-2,rt=[];if(_e===TriangleFanDrawMode)for(let st=1;st<=nt;st++)rt.push(tt.getX(0)),rt.push(tt.getX(st)),rt.push(tt.getX(st+1));else for(let st=0;st<nt;st++)st%2===0?(rt.push(tt.getX(st)),rt.push(tt.getX(st+1)),rt.push(tt.getX(st+2))):(rt.push(tt.getX(st+2)),rt.push(tt.getX(st+1)),rt.push(tt.getX(st)));rt.length/3!==nt&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const it=et.clone();return it.setIndex(rt),it}class RGBELoader extends DataTextureLoader{constructor(_e){super(_e),this.type=HalfFloatType}parse(_e){const ot=function(_t,bt){switch(_t){case 1:console.error("THREE.RGBELoader Read Error: "+(bt||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(bt||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(bt||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(bt||""))}return-1},ut=`
`,ft=function(_t,bt,At){bt=bt||1024;let Tt=_t.pos,St=-1,Ct=0,Et="",Rt=String.fromCharCode.apply(null,new Uint16Array(_t.subarray(Tt,Tt+128)));for(;0>(St=Rt.indexOf(ut))&&Ct<bt&&Tt<_t.byteLength;)Et+=Rt,Ct+=Rt.length,Tt+=128,Rt+=String.fromCharCode.apply(null,new Uint16Array(_t.subarray(Tt,Tt+128)));return-1<St?(At!==!1&&(_t.pos+=Ct+St+1),Et+Rt.slice(0,St)):!1},ht=function(_t){const bt=/^#\?(\S+)/,At=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Mt=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Tt=/^\s*FORMAT=(\S+)\s*$/,St=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Ct={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Et,Rt;if(_t.pos>=_t.byteLength||!(Et=ft(_t)))return ot(1,"no header found");if(!(Rt=Et.match(bt)))return ot(3,"bad initial token");for(Ct.valid|=1,Ct.programtype=Rt[1],Ct.string+=Et+`
`;Et=ft(_t),Et!==!1;){if(Ct.string+=Et+`
`,Et.charAt(0)==="#"){Ct.comments+=Et+`
`;continue}if((Rt=Et.match(At))&&(Ct.gamma=parseFloat(Rt[1])),(Rt=Et.match(Mt))&&(Ct.exposure=parseFloat(Rt[1])),(Rt=Et.match(Tt))&&(Ct.valid|=2,Ct.format=Rt[1]),(Rt=Et.match(St))&&(Ct.valid|=4,Ct.height=parseInt(Rt[1],10),Ct.width=parseInt(Rt[2],10)),Ct.valid&2&&Ct.valid&4)break}return Ct.valid&2?Ct.valid&4?Ct:ot(3,"missing image size specifier"):ot(3,"missing format specifier")},pt=function(_t,bt,At){const Mt=bt;if(Mt<8||Mt>32767||_t[0]!==2||_t[1]!==2||_t[2]&128)return new Uint8Array(_t);if(Mt!==(_t[2]<<8|_t[3]))return ot(3,"wrong scanline width");const Tt=new Uint8Array(4*bt*At);if(!Tt.length)return ot(4,"unable to allocate buffer space");let St=0,Ct=0;const Et=4*Mt,Rt=new Uint8Array(4),It=new Uint8Array(Et);let Ot=At;for(;Ot>0&&Ct<_t.byteLength;){if(Ct+4>_t.byteLength)return ot(1);if(Rt[0]=_t[Ct++],Rt[1]=_t[Ct++],Rt[2]=_t[Ct++],Rt[3]=_t[Ct++],Rt[0]!=2||Rt[1]!=2||(Rt[2]<<8|Rt[3])!=Mt)return ot(3,"bad rgbe scanline format");let kt=0,$t;for(;kt<Et&&Ct<_t.byteLength;){$t=_t[Ct++];const Ht=$t>128;if(Ht&&($t-=128),$t===0||kt+$t>Et)return ot(3,"bad scanline data");if(Ht){const Bt=_t[Ct++];for(let Lt=0;Lt<$t;Lt++)It[kt++]=Bt}else It.set(_t.subarray(Ct,Ct+$t),kt),kt+=$t,Ct+=$t}const jt=Mt;for(let Ht=0;Ht<jt;Ht++){let Bt=0;Tt[St]=It[Ht+Bt],Bt+=Mt,Tt[St+1]=It[Ht+Bt],Bt+=Mt,Tt[St+2]=It[Ht+Bt],Bt+=Mt,Tt[St+3]=It[Ht+Bt],St+=4}Ot--}return Tt},gt=function(_t,bt,At,Mt){const Tt=_t[bt+3],St=Math.pow(2,Tt-128)/255;At[Mt+0]=_t[bt+0]*St,At[Mt+1]=_t[bt+1]*St,At[Mt+2]=_t[bt+2]*St,At[Mt+3]=1},dt=function(_t,bt,At,Mt){const Tt=_t[bt+3],St=Math.pow(2,Tt-128)/255;At[Mt+0]=DataUtils.toHalfFloat(Math.min(_t[bt+0]*St,65504)),At[Mt+1]=DataUtils.toHalfFloat(Math.min(_t[bt+1]*St,65504)),At[Mt+2]=DataUtils.toHalfFloat(Math.min(_t[bt+2]*St,65504)),At[Mt+3]=DataUtils.toHalfFloat(1)},vt=new Uint8Array(_e);vt.pos=0;const xt=ht(vt);if(xt!==-1){const _t=xt.width,bt=xt.height,At=pt(vt.subarray(vt.pos),_t,bt);if(At!==-1){let Mt,Tt,St;switch(this.type){case FloatType:St=At.length/4;const Ct=new Float32Array(St*4);for(let Rt=0;Rt<St;Rt++)gt(At,Rt*4,Ct,Rt*4);Mt=Ct,Tt=FloatType;break;case HalfFloatType:St=At.length/4;const Et=new Uint16Array(St*4);for(let Rt=0;Rt<St;Rt++)dt(At,Rt*4,Et,Rt*4);Mt=Et,Tt=HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:_t,height:bt,data:Mt,header:xt.string,gamma:xt.gamma,exposure:xt.exposure,type:Tt}}}return null}setDataType(_e){return this.type=_e,this}load(_e,tt,nt,rt){function it(st,ot){switch(st.type){case FloatType:case HalfFloatType:st.encoding=LinearEncoding,st.minFilter=LinearFilter,st.magFilter=LinearFilter,st.generateMipmaps=!1,st.flipY=!0;break}tt&&tt(st,ot)}return super.load(_e,it,nt,rt)}}const _taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(_e){super(_e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(_e){return this.decoderPath=_e,this}setDecoderConfig(_e){return this.decoderConfig=_e,this}setWorkerLimit(_e){return this.workerLimit=_e,this}load(_e,tt,nt,rt){const it=new FileLoader(this.manager);it.setPath(this.path),it.setResponseType("arraybuffer"),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(_e,st=>{const ot={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(st,ot).then(tt).catch(rt)},nt,rt)}decodeDracoFile(_e,tt,nt,rt){const it={attributeIDs:nt||this.defaultAttributeIDs,attributeTypes:rt||this.defaultAttributeTypes,useUniqueIDs:!!nt};this.decodeGeometry(_e,it).then(tt)}decodeGeometry(_e,tt){for(const at in tt.attributeTypes){const lt=tt.attributeTypes[at];lt.BYTES_PER_ELEMENT!==void 0&&(tt.attributeTypes[at]=lt.name)}const nt=JSON.stringify(tt);if(_taskCache.has(_e)){const at=_taskCache.get(_e);if(at.key===nt)return at.promise;if(_e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let rt;const it=this.workerNextTaskID++,st=_e.byteLength,ot=this._getWorker(it,st).then(at=>(rt=at,new Promise((lt,ct)=>{rt._callbacks[it]={resolve:lt,reject:ct},rt.postMessage({type:"decode",id:it,taskConfig:tt,buffer:_e},[_e])}))).then(at=>this._createGeometry(at.geometry));return ot.catch(()=>!0).then(()=>{rt&&it&&this._releaseTask(rt,it)}),_taskCache.set(_e,{key:nt,promise:ot}),ot}_createGeometry(_e){const tt=new BufferGeometry;_e.index&&tt.setIndex(new BufferAttribute(_e.index.array,1));for(let nt=0;nt<_e.attributes.length;nt++){const rt=_e.attributes[nt],it=rt.name,st=rt.array,ot=rt.itemSize;tt.setAttribute(it,new BufferAttribute(st,ot))}return tt}_loadLibrary(_e,tt){const nt=new FileLoader(this.manager);return nt.setPath(this.decoderPath),nt.setResponseType(tt),nt.setWithCredentials(this.withCredentials),new Promise((rt,it)=>{nt.load(_e,rt,void 0,it)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const _e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",tt=[];return _e?tt.push(this._loadLibrary("draco_decoder.js","text")):(tt.push(this._loadLibrary("draco_wasm_wrapper.js","text")),tt.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(tt).then(nt=>{const rt=nt[0];_e||(this.decoderConfig.wasmBinary=nt[1]);const it=DRACOWorker.toString(),st=["/* draco decoder */",rt,"","/* worker */",it.substring(it.indexOf("{")+1,it.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([st]))}),this.decoderPending}_getWorker(_e,tt){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const rt=new Worker(this.workerSourceURL);rt._callbacks={},rt._taskCosts={},rt._taskLoad=0,rt.postMessage({type:"init",decoderConfig:this.decoderConfig}),rt.onmessage=function(it){const st=it.data;switch(st.type){case"decode":rt._callbacks[st.id].resolve(st);break;case"error":rt._callbacks[st.id].reject(st);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+st.type+'"')}},this.workerPool.push(rt)}else this.workerPool.sort(function(rt,it){return rt._taskLoad>it._taskLoad?-1:1});const nt=this.workerPool[this.workerPool.length-1];return nt._taskCosts[_e]=tt,nt._taskLoad+=tt,nt})}_releaseTask(_e,tt){_e._taskLoad-=_e._taskCosts[tt],delete _e._callbacks[tt],delete _e._taskCosts[tt]}debug(){console.log("Task load: ",this.workerPool.map(_e=>_e._taskLoad))}dispose(){for(let _e=0;_e<this.workerPool.length;++_e)this.workerPool[_e].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let et,_e;onmessage=function(st){const ot=st.data;switch(ot.type){case"init":et=ot.decoderConfig,_e=new Promise(function(ct){et.onModuleLoaded=function(ut){ct({draco:ut})},DracoDecoderModule(et)});break;case"decode":const at=ot.buffer,lt=ot.taskConfig;_e.then(ct=>{const ut=ct.draco,ft=new ut.Decoder,ht=new ut.DecoderBuffer;ht.Init(new Int8Array(at),at.byteLength);try{const pt=tt(ut,ft,ht,lt),gt=pt.attributes.map(dt=>dt.array.buffer);pt.index&&gt.push(pt.index.array.buffer),self.postMessage({type:"decode",id:ot.id,geometry:pt},gt)}catch(pt){console.error(pt),self.postMessage({type:"error",id:ot.id,error:pt.message})}finally{ut.destroy(ht),ut.destroy(ft)}});break}};function tt(st,ot,at,lt){const ct=lt.attributeIDs,ut=lt.attributeTypes;let ft,ht;const pt=ot.GetEncodedGeometryType(at);if(pt===st.TRIANGULAR_MESH)ft=new st.Mesh,ht=ot.DecodeBufferToMesh(at,ft);else if(pt===st.POINT_CLOUD)ft=new st.PointCloud,ht=ot.DecodeBufferToPointCloud(at,ft);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!ht.ok()||ft.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+ht.error_msg());const gt={index:null,attributes:[]};for(const dt in ct){const vt=self[ut[dt]];let xt,_t;if(lt.useUniqueIDs)_t=ct[dt],xt=ot.GetAttributeByUniqueId(ft,_t);else{if(_t=ot.GetAttributeId(ft,st[ct[dt]]),_t===-1)continue;xt=ot.GetAttribute(ft,_t)}gt.attributes.push(rt(st,ot,ft,dt,vt,xt))}return pt===st.TRIANGULAR_MESH&&(gt.index=nt(st,ot,ft)),st.destroy(ft),gt}function nt(st,ot,at){const ct=at.num_faces()*3,ut=ct*4,ft=st._malloc(ut);ot.GetTrianglesUInt32Array(at,ut,ft);const ht=new Uint32Array(st.HEAPF32.buffer,ft,ct).slice();return st._free(ft),{array:ht,itemSize:1}}function rt(st,ot,at,lt,ct,ut){const ft=ut.num_components(),pt=at.num_points()*ft,gt=pt*ct.BYTES_PER_ELEMENT,dt=it(st,ct),vt=st._malloc(gt);ot.GetAttributeDataArrayForAllPoints(at,ut,dt,gt,vt);const xt=new ct(st.HEAPF32.buffer,vt,pt).slice();return st._free(vt),{name:lt,array:xt,itemSize:ft}}function it(st,ot){switch(ot){case Float32Array:return st.DT_FLOAT32;case Int8Array:return st.DT_INT8;case Int16Array:return st.DT_INT16;case Int32Array:return st.DT_INT32;case Uint8Array:return st.DT_UINT8;case Uint16Array:return st.DT_UINT16;case Uint32Array:return st.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const et="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",_e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",tt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),nt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let rt=et;WebAssembly.validate(tt)&&(rt=_e);let it;const st=WebAssembly.instantiate(ot(rt),{}).then(ut=>{it=ut.instance,it.exports.__wasm_call_ctors()});function ot(ut){const ft=new Uint8Array(ut.length);for(let pt=0;pt<ut.length;++pt){const gt=ut.charCodeAt(pt);ft[pt]=gt>96?gt-71:gt>64?gt-65:gt>47?gt+4:gt>46?63:62}let ht=0;for(let pt=0;pt<ut.length;++pt)ft[ht++]=ft[pt]<60?nt[ft[pt]]:(ft[pt]-60)*64+ft[++pt];return ft.buffer.slice(0,ht)}function at(ut,ft,ht,pt,gt,dt){const vt=it.exports.sbrk,xt=ht+3&-4,_t=vt(xt*pt),bt=vt(gt.length),At=new Uint8Array(it.exports.memory.buffer);At.set(gt,bt);const Mt=ut(_t,ht,pt,bt,gt.length);if(Mt===0&&dt&&dt(_t,xt,pt),ft.set(At.subarray(_t,_t+ht*pt)),vt(_t-vt(0)),Mt!==0)throw new Error(`Malformed buffer data: ${Mt}`)}const lt={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ct={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:st,supported:!0,decodeVertexBuffer(ut,ft,ht,pt,gt){at(it.exports.meshopt_decodeVertexBuffer,ut,ft,ht,pt,it.exports[lt[gt]])},decodeIndexBuffer(ut,ft,ht,pt){at(it.exports.meshopt_decodeIndexBuffer,ut,ft,ht,pt)},decodeIndexSequence(ut,ft,ht,pt){at(it.exports.meshopt_decodeIndexSequence,ut,ft,ht,pt)},decodeGltfBuffer(ut,ft,ht,pt,gt,dt){at(it.exports[ct[gt]],ut,ft,ht,pt,it.exports[lt[dt]])}},generated};function shallow(et,_e){if(Object.is(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;const tt=Object.keys(et);if(tt.length!==Object.keys(_e).length)return!1;for(let nt=0;nt<tt.length;nt++)if(!Object.prototype.hasOwnProperty.call(_e,tt[nt])||!Object.is(et[tt[nt]],_e[tt[nt]]))return!1;return!0}const Billboard=react.exports.forwardRef(function({follow:_e=!0,lockX:tt=!1,lockY:nt=!1,lockZ:rt=!1,...it},st){const ot=react.exports.useRef();return useFrame(({camera:at})=>{if(!_e||!ot.current)return;const lt=ot.current.rotation.clone();ot.current.quaternion.copy(at.quaternion),tt&&(ot.current.rotation.x=lt.x),nt&&(ot.current.rotation.y=lt.y),rt&&(ot.current.rotation.z=lt.z)}),jsx("group",{ref:mergeRefs([ot,st]),...it})});function BespokeThenable(){var et=0,_e=[],tt,nt=0,rt=0;function it(vt,xt){var _t=BespokeThenable();function bt(){var At=et>0?vt:xt;if(gt(At))try{var Mt=At(tt);Mt===_t&&pt();var Tt=ft(Mt);Tt?Tt.call(Mt,_t.resolve,_t.reject):_t.resolve(Mt)}catch(St){_t.reject(St)}else _t[et>0?"resolve":"reject"](tt)}return _e.push(bt),et&&lt(),_t}var st=ht(function(vt){rt||at(1,vt)}),ot=ht(function(vt){rt||at(-1,vt)});function at(vt,xt){rt++;var _t=0;try{xt===dt&&pt();var bt=vt>0&&ft(xt);bt?bt.call(xt,ht(function(At){_t++,at(1,At)}),ht(function(At){_t++,at(-1,At)})):(et=vt,tt=xt,lt())}catch(At){!et&&!_t&&at(-1,At)}}function lt(){nt||(setTimeout(ct,0),nt=1)}function ct(){var vt=_e;nt=0,_e=[],vt.forEach(ut)}function ut(vt){vt()}function ft(vt){var xt=vt&&(gt(vt)||typeof vt=="object")&&vt.then;return gt(xt)&&xt}function ht(vt){var xt=0;return function(){for(var _t=[],bt=arguments.length;bt--;)_t[bt]=arguments[bt];xt++||vt.apply(this,_t)}}function pt(){throw new TypeError("Chaining cycle detected")}var gt=function(vt){return typeof vt=="function"},dt={then:it,resolve:st,reject:ot};return dt}function NativePromiseThenable(){var et,_e,tt=new Promise(function(nt,rt){et=nt,_e=rt});return{then:tt.then.bind(tt),resolve:et,reject:_e}}BespokeThenable.all=NativePromiseThenable.all=function(et){var _e=0,tt=[],nt=DefaultThenable();return et.length===0?nt.resolve([]):et.forEach(function(rt,it){var st=DefaultThenable();st.resolve(rt),st.then(function(ot){_e++,tt[it]=ot,_e===et.length&&nt.resolve(tt)},nt.reject)}),nt};var DefaultThenable=typeof Promise=="function"?NativePromiseThenable:BespokeThenable;function workerBootstrap(){var et=Object.create(null);function _e(rt,it){var st=rt.id,ot=rt.name,at=rt.dependencies;at===void 0&&(at=[]);var lt=rt.init;lt===void 0&&(lt=function(){});var ct=rt.getTransferables;if(ct===void 0&&(ct=null),!et[st])try{at=at.map(function(ft){return ft&&ft.isWorkerModule&&(_e(ft,function(ht){if(ht instanceof Error)throw ht}),ft=et[ft.id].value),ft}),lt=nt("<"+ot+">.init",lt),ct&&(ct=nt("<"+ot+">.getTransferables",ct));var ut=null;typeof lt=="function"?ut=lt.apply(void 0,at):console.error("worker module init function failed to rehydrate"),et[st]={id:st,value:ut,getTransferables:ct},it(ut)}catch(ft){ft&&ft.noLog||console.error(ft),it(ft)}}function tt(rt,it){var st,ot=rt.id,at=rt.args;(!et[ot]||typeof et[ot].value!="function")&&it(new Error("Worker module "+ot+": not found or its 'init' did not return a function"));try{var lt=(st=et[ot]).value.apply(st,at);lt&&typeof lt.then=="function"?lt.then(ct,function(ut){return it(ut instanceof Error?ut:new Error(""+ut))}):ct(lt)}catch(ut){it(ut)}function ct(ut){try{var ft=et[ot].getTransferables&&et[ot].getTransferables(ut);(!ft||!Array.isArray(ft)||!ft.length)&&(ft=void 0),it(ut,ft)}catch(ht){console.error(ht),it(ht)}}}function nt(rt,it){var st=void 0;self.troikaDefine=function(at){return st=at};var ot=URL.createObjectURL(new Blob(["/** "+rt.replace(/\*/g,"")+` **/

troikaDefine(
`+it+`
)`],{type:"application/javascript"}));try{importScripts(ot)}catch(at){console.error(at)}return URL.revokeObjectURL(ot),delete self.troikaDefine,st}self.addEventListener("message",function(rt){var it=rt.data,st=it.messageId,ot=it.action,at=it.data;try{ot==="registerModule"&&_e(at,function(lt){lt instanceof Error?postMessage({messageId:st,success:!1,error:lt.message}):postMessage({messageId:st,success:!0,result:{isCallable:typeof lt=="function"}})}),ot==="callModule"&&tt(at,function(lt,ct){lt instanceof Error?postMessage({messageId:st,success:!1,error:lt.message}):postMessage({messageId:st,success:!0,result:lt},ct||void 0)})}catch(lt){postMessage({messageId:st,success:!1,error:lt.stack})}})}function defineMainThreadModule(et){var _e=function(){for(var tt=[],nt=arguments.length;nt--;)tt[nt]=arguments[nt];return _e._getInitResult().then(function(rt){if(typeof rt=="function")return rt.apply(void 0,tt);throw new Error("Worker module function was called but `init` did not return a callable function")})};return _e._getInitResult=function(){var tt=et.dependencies,nt=et.init;tt=Array.isArray(tt)?tt.map(function(it){return it&&it._getInitResult?it._getInitResult():it}):[];var rt=DefaultThenable.all(tt).then(function(it){return nt.apply(null,it)});return _e._getInitResult=function(){return rt},rt},_e}var supportsWorkers=function(){var et=!1;if(typeof window<"u"&&typeof window.document<"u")try{var _e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));_e.terminate(),et=!0}catch(tt){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+tt.message+"]")}return supportsWorkers=function(){return et},et},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(et){if((!et||typeof et.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var _e=et.dependencies,tt=et.init,nt=et.getTransferables,rt=et.workerId;if(!supportsWorkers())return defineMainThreadModule(et);rt==null&&(rt="#default");var it="workerModule"+ ++_workerModuleId,st=et.name||it,ot=null;_e=_e&&_e.map(function(lt){return typeof lt=="function"&&!lt.workerModuleData&&(_allowInitAsString=!0,lt=defineWorkerModule({workerId:rt,name:"<"+st+"> function dependency: "+lt.name,init:`function(){return (
`+stringifyFunction(lt)+`
)}`}),_allowInitAsString=!1),lt&&lt.workerModuleData&&(lt=lt.workerModuleData),lt});function at(){for(var lt=[],ct=arguments.length;ct--;)lt[ct]=arguments[ct];if(!ot){ot=callWorker(rt,"registerModule",at.workerModuleData);var ut=function(){ot=null,registeredModules[rt].delete(ut)};(registeredModules[rt]||(registeredModules[rt]=new Set)).add(ut)}return ot.then(function(ft){var ht=ft.isCallable;if(ht)return callWorker(rt,"callModule",{id:it,args:lt});throw new Error("Worker module function was called but `init` did not return a callable function")})}return at.workerModuleData={isWorkerModule:!0,id:it,name:st,dependencies:_e,init:stringifyFunction(tt),getTransferables:nt&&stringifyFunction(nt)},at}function terminateWorker(et){registeredModules[et]&&registeredModules[et].forEach(function(_e){_e()}),workers[et]&&(workers[et].terminate(),delete workers[et])}function stringifyFunction(et){var _e=et.toString();return!/^function/.test(_e)&&/^\w+\s*\(/.test(_e)&&(_e="function "+_e),_e}function getWorker(et){var _e=workers[et];if(!_e){var tt=stringifyFunction(workerBootstrap);_e=workers[et]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+et.replace(/\*/g,"")+` **/

;(`+tt+")()"],{type:"application/javascript"}))),_e.onmessage=function(nt){var rt=nt.data,it=rt.messageId,st=openRequests[it];if(!st)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[it],st(rt)}}return _e}function callWorker(et,_e,tt){var nt=DefaultThenable(),rt=++_messageId;return openRequests[rt]=function(it){it.success?nt.resolve(it.result):nt.reject(new Error("Error in worker "+_e+" call: "+it.error))},getWorker(et).postMessage({messageId:rt,action:_e,data:tt}),nt}var ThenableWorkerModule=defineWorkerModule({name:"Thenable",dependencies:[DefaultThenable],init:function(et){return et}});function SDFGenerator(){var et=function(_e){function tt(Lt,Ft,Vt,Yt,rn,sn,cn,Zt){var an=1-cn;Zt.x=an*an*Lt+2*an*cn*Vt+cn*cn*rn,Zt.y=an*an*Ft+2*an*cn*Yt+cn*cn*sn}function nt(Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt){var Ut=1-an;Qt.x=Ut*Ut*Ut*Lt+3*Ut*Ut*an*Vt+3*Ut*an*an*rn+an*an*an*cn,Qt.y=Ut*Ut*Ut*Ft+3*Ut*Ut*an*Yt+3*Ut*an*an*sn+an*an*an*Zt}function rt(Lt,Ft){for(var Vt=/([MLQCZ])([^MLQCZ]*)/g,Yt,rn,sn,cn,Zt;Yt=Vt.exec(Lt);){var an=Yt[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Qt){return parseFloat(Qt)});switch(Yt[1]){case"M":cn=rn=an[0],Zt=sn=an[1];break;case"L":(an[0]!==cn||an[1]!==Zt)&&Ft("L",cn,Zt,cn=an[0],Zt=an[1]);break;case"Q":{Ft("Q",cn,Zt,cn=an[2],Zt=an[3],an[0],an[1]);break}case"C":{Ft("C",cn,Zt,cn=an[4],Zt=an[5],an[0],an[1],an[2],an[3]);break}case"Z":(cn!==rn||Zt!==sn)&&Ft("L",cn,Zt,rn,sn);break}}}function it(Lt,Ft,Vt){Vt===void 0&&(Vt=16);var Yt={x:0,y:0};rt(Lt,function(rn,sn,cn,Zt,an,Qt,Ut,Gt,Wt){switch(rn){case"L":Ft(sn,cn,Zt,an);break;case"Q":{for(var Jt=sn,Kt=cn,nn=1;nn<Vt;nn++)tt(sn,cn,Qt,Ut,Zt,an,nn/(Vt-1),Yt),Ft(Jt,Kt,Yt.x,Yt.y),Jt=Yt.x,Kt=Yt.y;break}case"C":{for(var fn=sn,hn=cn,bn=1;bn<Vt;bn++)nt(sn,cn,Qt,Ut,Gt,Wt,Zt,an,bn/(Vt-1),Yt),Ft(fn,hn,Yt.x,Yt.y),fn=Yt.x,hn=Yt.y;break}}})}var st="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",ot="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",at=new WeakMap,lt={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function ct(Lt,Ft){var Vt=Lt.getContext?Lt.getContext("webgl",lt):Lt,Yt=at.get(Vt);if(!Yt){let fn=function(on){var Xt=sn[on];if(!Xt&&(Xt=sn[on]=Vt.getExtension(on),!Xt))throw new Error(on+" not supported");return Xt},hn=function(on,Xt){var zt=Vt.createShader(Xt);return Vt.shaderSource(zt,on),Vt.compileShader(zt),zt},bn=function(on,Xt,zt,tn){if(!cn[on]){var pn={},Sn={},Pn=Vt.createProgram();Vt.attachShader(Pn,hn(Xt,Vt.VERTEX_SHADER)),Vt.attachShader(Pn,hn(zt,Vt.FRAGMENT_SHADER)),Vt.linkProgram(Pn),cn[on]={program:Pn,transaction:function(Tn){Vt.useProgram(Pn),Tn({setUniform:function(kn,Gn){for(var Fn=[],Dn=arguments.length-2;Dn-- >0;)Fn[Dn]=arguments[Dn+2];var In=Sn[Gn]||(Sn[Gn]=Vt.getUniformLocation(Pn,Gn));Vt["uniform"+kn].apply(Vt,[In].concat(Fn))},setAttribute:function(kn,Gn,Fn,Dn,In){var Hn=pn[kn];Hn||(Hn=pn[kn]={buf:Vt.createBuffer(),loc:Vt.getAttribLocation(Pn,kn),data:null}),Vt.bindBuffer(Vt.ARRAY_BUFFER,Hn.buf),Vt.vertexAttribPointer(Hn.loc,Gn,Vt.FLOAT,!1,0,0),Vt.enableVertexAttribArray(Hn.loc),rn?Vt.vertexAttribDivisor(Hn.loc,Dn):fn("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Hn.loc,Dn),In!==Hn.data&&(Vt.bufferData(Vt.ARRAY_BUFFER,In,Fn),Hn.data=In)}})}}}cn[on].transaction(tn)},un=function(on,Xt){an++;try{Vt.activeTexture(Vt.TEXTURE0+an);var zt=Zt[on];zt||(zt=Zt[on]=Vt.createTexture(),Vt.bindTexture(Vt.TEXTURE_2D,zt),Vt.texParameteri(Vt.TEXTURE_2D,Vt.TEXTURE_MIN_FILTER,Vt.NEAREST),Vt.texParameteri(Vt.TEXTURE_2D,Vt.TEXTURE_MAG_FILTER,Vt.NEAREST)),Vt.bindTexture(Vt.TEXTURE_2D,zt),Xt(zt,an)}finally{an--}},gn=function(on,Xt,zt){var tn=Vt.createFramebuffer();Qt.push(tn),Vt.bindFramebuffer(Vt.FRAMEBUFFER,tn),Vt.activeTexture(Vt.TEXTURE0+Xt),Vt.bindTexture(Vt.TEXTURE_2D,on),Vt.framebufferTexture2D(Vt.FRAMEBUFFER,Vt.COLOR_ATTACHMENT0,Vt.TEXTURE_2D,on,0);try{zt(tn)}finally{Vt.deleteFramebuffer(tn),Vt.bindFramebuffer(Vt.FRAMEBUFFER,Qt[--Qt.length-1]||null)}},vn=function(){sn={},cn={},Zt={},an=-1,Qt.length=0};var Gt=fn,Wt=hn,Jt=bn,Kt=un,Ut=gn,nn=vn,rn=typeof WebGL2RenderingContext<"u"&&Vt instanceof WebGL2RenderingContext,sn={},cn={},Zt={},an=-1,Qt=[];Vt.canvas.addEventListener("webglcontextlost",function(on){vn(),on.preventDefault()},!1),at.set(Vt,Yt={gl:Vt,isWebGL2:rn,getExtension:fn,withProgram:bn,withTexture:un,withTextureFramebuffer:gn,handleContextLoss:vn})}Ft(Yt)}function ut(Lt,Ft,Vt,Yt,rn,sn,cn,Zt){cn===void 0&&(cn=15),Zt===void 0&&(Zt=null),ct(Lt,function(an){var Qt=an.gl,Ut=an.withProgram,Gt=an.withTexture;Gt("copy",function(Wt,Jt){Qt.texImage2D(Qt.TEXTURE_2D,0,Qt.RGBA,rn,sn,0,Qt.RGBA,Qt.UNSIGNED_BYTE,Ft),Ut("copy",st,ot,function(Kt){var nn=Kt.setUniform,fn=Kt.setAttribute;fn("aUV",2,Qt.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),nn("1i","image",Jt),Qt.bindFramebuffer(Qt.FRAMEBUFFER,Zt||null),Qt.disable(Qt.BLEND),Qt.colorMask(cn&8,cn&4,cn&2,cn&1),Qt.viewport(Vt,Yt,rn,sn),Qt.scissor(Vt,Yt,rn,sn),Qt.drawArrays(Qt.TRIANGLES,0,3)})})})}function ft(Lt,Ft,Vt){var Yt=Lt.width,rn=Lt.height;ct(Lt,function(sn){var cn=sn.gl,Zt=new Uint8Array(Yt*rn*4);cn.readPixels(0,0,Yt,rn,cn.RGBA,cn.UNSIGNED_BYTE,Zt),Lt.width=Ft,Lt.height=Vt,ut(cn,Zt,0,0,Yt,rn)})}var ht=Object.freeze({__proto__:null,withWebGLContext:ct,renderImageData:ut,resizeWebGLCanvasWithoutClearing:ft});function pt(Lt,Ft,Vt,Yt,rn,sn){sn===void 0&&(sn=1);var cn=new Uint8Array(Lt*Ft),Zt=Yt[2]-Yt[0],an=Yt[3]-Yt[1],Qt=[];it(Vt,function(fn,hn,bn,un){Qt.push({x1:fn,y1:hn,x2:bn,y2:un,minX:Math.min(fn,bn),minY:Math.min(hn,un),maxX:Math.max(fn,bn),maxY:Math.max(hn,un)})}),Qt.sort(function(fn,hn){return fn.maxX-hn.maxX});for(var Ut=0;Ut<Lt;Ut++)for(var Gt=0;Gt<Ft;Gt++){var Wt=Kt(Yt[0]+Zt*(Ut+.5)/Lt,Yt[1]+an*(Gt+.5)/Ft),Jt=Math.pow(1-Math.abs(Wt)/rn,sn)/2;Wt<0&&(Jt=1-Jt),Jt=Math.max(0,Math.min(255,Math.round(Jt*255))),cn[Gt*Lt+Ut]=Jt}return cn;function Kt(fn,hn){for(var bn=1/0,un=1/0,gn=Qt.length;gn--;){var vn=Qt[gn];if(vn.maxX+un<=fn)break;if(fn+un>vn.minX&&hn-un<vn.maxY&&hn+un>vn.minY){var on=vt(fn,hn,vn.x1,vn.y1,vn.x2,vn.y2);on<bn&&(bn=on,un=Math.sqrt(bn))}}return nn(fn,hn)&&(un=-un),un}function nn(fn,hn){for(var bn=0,un=Qt.length;un--;){var gn=Qt[un];if(gn.maxX<=fn)break;var vn=gn.y1>hn!=gn.y2>hn&&fn<(gn.x2-gn.x1)*(hn-gn.y1)/(gn.y2-gn.y1)+gn.x1;vn&&(bn+=gn.y1<gn.y2?1:-1)}return bn!==0}}function gt(Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt){sn===void 0&&(sn=1),Zt===void 0&&(Zt=0),an===void 0&&(an=0),Qt===void 0&&(Qt=0),dt(Lt,Ft,Vt,Yt,rn,sn,cn,null,Zt,an,Qt)}function dt(Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt,Ut){sn===void 0&&(sn=1),an===void 0&&(an=0),Qt===void 0&&(Qt=0),Ut===void 0&&(Ut=0);for(var Gt=pt(Lt,Ft,Vt,Yt,rn,sn),Wt=new Uint8Array(Gt.length*4),Jt=0;Jt<Gt.length;Jt++)Wt[Jt*4+Ut]=Gt[Jt];ut(cn,Wt,an,Qt,Lt,Ft,1<<3-Ut,Zt)}function vt(Lt,Ft,Vt,Yt,rn,sn){var cn=rn-Vt,Zt=sn-Yt,an=cn*cn+Zt*Zt,Qt=an?Math.max(0,Math.min(1,((Lt-Vt)*cn+(Ft-Yt)*Zt)/an)):0,Ut=Lt-(Vt+Qt*cn),Gt=Ft-(Yt+Qt*Zt);return Ut*Ut+Gt*Gt}var xt=Object.freeze({__proto__:null,generate:pt,generateIntoCanvas:gt,generateIntoFramebuffer:dt}),_t="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",bt="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",At="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",Mt=new Float32Array([0,0,2,0,0,2]),Tt=null,St=!1,Ct={},Et=new WeakMap;function Rt(Lt){if(!St&&!$t(Lt))throw new Error("WebGL generation not supported")}function It(Lt,Ft,Vt,Yt,rn,sn,cn){if(sn===void 0&&(sn=1),cn===void 0&&(cn=null),!cn&&(cn=Tt,!cn)){var Zt=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Zt)throw new Error("OffscreenCanvas or DOM canvas not supported");cn=Tt=Zt.getContext("webgl",{depth:!1})}Rt(cn);var an=new Uint8Array(Lt*Ft*4);ct(cn,function(Wt){var Jt=Wt.gl,Kt=Wt.withTexture,nn=Wt.withTextureFramebuffer;Kt("readable",function(fn,hn){Jt.texImage2D(Jt.TEXTURE_2D,0,Jt.RGBA,Lt,Ft,0,Jt.RGBA,Jt.UNSIGNED_BYTE,null),nn(fn,hn,function(bn){kt(Lt,Ft,Vt,Yt,rn,sn,Jt,bn,0,0,0),Jt.readPixels(0,0,Lt,Ft,Jt.RGBA,Jt.UNSIGNED_BYTE,an)})})});for(var Qt=new Uint8Array(Lt*Ft),Ut=0,Gt=0;Ut<an.length;Ut+=4)Qt[Gt++]=an[Ut];return Qt}function Ot(Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt){sn===void 0&&(sn=1),Zt===void 0&&(Zt=0),an===void 0&&(an=0),Qt===void 0&&(Qt=0),kt(Lt,Ft,Vt,Yt,rn,sn,cn,null,Zt,an,Qt)}function kt(Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt,Ut){sn===void 0&&(sn=1),an===void 0&&(an=0),Qt===void 0&&(Qt=0),Ut===void 0&&(Ut=0),Rt(cn);var Gt=[];it(Vt,function(Wt,Jt,Kt,nn){Gt.push(Wt,Jt,Kt,nn)}),Gt=new Float32Array(Gt),ct(cn,function(Wt){var Jt=Wt.gl,Kt=Wt.isWebGL2,nn=Wt.getExtension,fn=Wt.withProgram,hn=Wt.withTexture,bn=Wt.withTextureFramebuffer,un=Wt.handleContextLoss;if(hn("rawDistances",function(gn,vn){(Lt!==gn._lastWidth||Ft!==gn._lastHeight)&&Jt.texImage2D(Jt.TEXTURE_2D,0,Jt.RGBA,gn._lastWidth=Lt,gn._lastHeight=Ft,0,Jt.RGBA,Jt.UNSIGNED_BYTE,null),fn("main",_t,bt,function(on){var Xt=on.setAttribute,zt=on.setUniform,tn=!Kt&&nn("ANGLE_instanced_arrays"),pn=!Kt&&nn("EXT_blend_minmax");Xt("aUV",2,Jt.STATIC_DRAW,0,Mt),Xt("aLineSegment",4,Jt.DYNAMIC_DRAW,1,Gt),zt.apply(void 0,["4f","uGlyphBounds"].concat(Yt)),zt("1f","uMaxDistance",rn),zt("1f","uExponent",sn),bn(gn,vn,function(Sn){Jt.enable(Jt.BLEND),Jt.colorMask(!0,!0,!0,!0),Jt.viewport(0,0,Lt,Ft),Jt.scissor(0,0,Lt,Ft),Jt.blendFunc(Jt.ONE,Jt.ONE),Jt.blendEquationSeparate(Jt.FUNC_ADD,Kt?Jt.MAX:pn.MAX_EXT),Jt.clear(Jt.COLOR_BUFFER_BIT),Kt?Jt.drawArraysInstanced(Jt.TRIANGLES,0,3,Gt.length/4):tn.drawArraysInstancedANGLE(Jt.TRIANGLES,0,3,Gt.length/4)})}),fn("post",st,At,function(on){on.setAttribute("aUV",2,Jt.STATIC_DRAW,0,Mt),on.setUniform("1i","tex",vn),Jt.bindFramebuffer(Jt.FRAMEBUFFER,Zt),Jt.disable(Jt.BLEND),Jt.colorMask(Ut===0,Ut===1,Ut===2,Ut===3),Jt.viewport(an,Qt,Lt,Ft),Jt.scissor(an,Qt,Lt,Ft),Jt.drawArrays(Jt.TRIANGLES,0,3)})}),Jt.isContextLost())throw un(),new Error("webgl context lost")})}function $t(Lt){var Ft=!Lt||Lt===Tt?Ct:Lt.canvas||Lt,Vt=Et.get(Ft);if(Vt===void 0){St=!0;var Yt=null;try{var rn=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],sn=It(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Lt);Vt=sn&&rn.length===sn.length&&sn.every(function(cn,Zt){return cn===rn[Zt]}),Vt||(Yt="bad trial run results",console.info(rn,sn))}catch(cn){Vt=!1,Yt=cn.message}Yt&&console.warn("WebGL SDF generation not supported:",Yt),St=!1,Et.set(Ft,Vt)}return Vt}var jt=Object.freeze({__proto__:null,generate:It,generateIntoCanvas:Ot,generateIntoFramebuffer:kt,isSupported:$t});function Ht(Lt,Ft,Vt,Yt,rn,sn){rn===void 0&&(rn=Math.max(Yt[2]-Yt[0],Yt[3]-Yt[1])/2),sn===void 0&&(sn=1);try{return It.apply(jt,arguments)}catch(cn){return console.info("WebGL SDF generation failed, falling back to JS",cn),pt.apply(xt,arguments)}}function Bt(Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt){rn===void 0&&(rn=Math.max(Yt[2]-Yt[0],Yt[3]-Yt[1])/2),sn===void 0&&(sn=1),Zt===void 0&&(Zt=0),an===void 0&&(an=0),Qt===void 0&&(Qt=0);try{return Ot.apply(jt,arguments)}catch(Ut){return console.info("WebGL SDF generation failed, falling back to JS",Ut),gt.apply(xt,arguments)}}return _e.forEachPathCommand=rt,_e.generate=Ht,_e.generateIntoCanvas=Bt,_e.javascript=xt,_e.pathToLineSegments=it,_e.webgl=jt,_e.webglUtils=ht,Object.defineProperty(_e,"__esModule",{value:!0}),_e}({});return et}function bidiFactory(){var et=function(_e){var tt={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},nt={},rt={};nt.L=1,rt[1]="L",Object.keys(tt).forEach(function(un,gn){nt[un]=1<<gn+1,rt[nt[un]]=un}),Object.freeze(nt);var it=nt.LRI|nt.RLI|nt.FSI,st=nt.L|nt.R|nt.AL,ot=nt.B|nt.S|nt.WS|nt.ON|nt.FSI|nt.LRI|nt.RLI|nt.PDI,at=nt.BN|nt.RLE|nt.LRE|nt.RLO|nt.LRO|nt.PDF,lt=nt.S|nt.WS|nt.B|it|nt.PDI|at,ct=null;function ut(){if(!ct){ct=new Map;var un=function(vn){if(tt.hasOwnProperty(vn)){var on=0;tt[vn].split(",").forEach(function(Xt){var zt=Xt.split("+"),tn=zt[0],pn=zt[1];tn=parseInt(tn,36),pn=pn?parseInt(pn,36):0,ct.set(on+=tn,nt[vn]);for(var Sn=0;Sn<pn;Sn++)ct.set(++on,nt[vn])})}};for(var gn in tt)un(gn)}}function ft(un){return ut(),ct.get(un.codePointAt(0))||nt.L}function ht(un){return rt[ft(un)]}var pt={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function gt(un,gn){var vn=36,on=0,Xt=new Map,zt=gn&&new Map,tn;return un.split(",").forEach(function pn(Sn){if(Sn.indexOf("+")!==-1)for(var Pn=+Sn;Pn--;)pn(tn);else{tn=Sn;var Rn=Sn.split(">"),Tn=Rn[0],wn=Rn[1];Tn=String.fromCodePoint(on+=parseInt(Tn,vn)),wn=String.fromCodePoint(on+=parseInt(wn,vn)),Xt.set(Tn,wn),gn&&zt.set(wn,Tn)}}),{map:Xt,reverseMap:zt}}var dt,vt,xt;function _t(){if(!dt){var un=gt(pt.pairs,!0),gn=un.map,vn=un.reverseMap;dt=gn,vt=vn,xt=gt(pt.canonical,!1).map}}function bt(un){return _t(),dt.get(un)||null}function At(un){return _t(),vt.get(un)||null}function Mt(un){return _t(),xt.get(un)||null}var Tt=nt.L,St=nt.R,Ct=nt.EN,Et=nt.ES,Rt=nt.ET,It=nt.AN,Ot=nt.CS,kt=nt.B,$t=nt.S,jt=nt.ON,Ht=nt.BN,Bt=nt.NSM,Lt=nt.AL,Ft=nt.LRO,Vt=nt.RLO,Yt=nt.LRE,rn=nt.RLE,sn=nt.PDF,cn=nt.LRI,Zt=nt.RLI,an=nt.FSI,Qt=nt.PDI;function Ut(un,gn){for(var vn=125,on=new Uint32Array(un.length),Xt=0;Xt<un.length;Xt++)on[Xt]=ft(un[Xt]);var zt=new Map;function tn(Fr,$r){var Ar=on[Fr];on[Fr]=$r,zt.set(Ar,zt.get(Ar)-1),Ar&ot&&zt.set(ot,zt.get(ot)-1),zt.set($r,(zt.get($r)||0)+1),$r&ot&&zt.set(ot,(zt.get(ot)||0)+1)}for(var pn=new Uint8Array(un.length),Sn=new Map,Pn=[],Rn=null,Tn=0;Tn<un.length;Tn++)Rn||Pn.push(Rn={start:Tn,end:un.length-1,level:gn==="rtl"?1:gn==="ltr"?0:Lo(Tn,!1)}),on[Tn]&kt&&(Rn.end=Tn,Rn=null);for(var wn=rn|Yt|Vt|Ft|it|Qt|sn|kt,kn=function(Fr){return Fr+(Fr&1?1:2)},Gn=function(Fr){return Fr+(Fr&1?2:1)},Fn=0;Fn<Pn.length;Fn++){Rn=Pn[Fn];var Dn=[{_level:Rn.level,_override:0,_isolate:0}],In=void 0,Hn=0,ln=0,Un=0;zt.clear();for(var Ln=Rn.start;Ln<=Rn.end;Ln++){var Mn=on[Ln];if(In=Dn[Dn.length-1],zt.set(Mn,(zt.get(Mn)||0)+1),Mn&ot&&zt.set(ot,(zt.get(ot)||0)+1),Mn&wn)if(Mn&(rn|Yt)){pn[Ln]=In._level;var Nn=(Mn===rn?Gn:kn)(In._level);Nn<=vn&&!Hn&&!ln?Dn.push({_level:Nn,_override:0,_isolate:0}):Hn||ln++}else if(Mn&(Vt|Ft)){pn[Ln]=In._level;var Yn=(Mn===Vt?Gn:kn)(In._level);Yn<=vn&&!Hn&&!ln?Dn.push({_level:Yn,_override:Mn&Vt?St:Tt,_isolate:0}):Hn||ln++}else if(Mn&it){Mn&an&&(Mn=Lo(Ln+1,!0)===1?Zt:cn),pn[Ln]=In._level,In._override&&tn(Ln,In._override);var er=(Mn===Zt?Gn:kn)(In._level);er<=vn&&Hn===0&&ln===0?(Un++,Dn.push({_level:er,_override:0,_isolate:1,_isolInitIndex:Ln})):Hn++}else if(Mn&Qt){if(Hn>0)Hn--;else if(Un>0){for(ln=0;!Dn[Dn.length-1]._isolate;)Dn.pop();var yr=Dn[Dn.length-1]._isolInitIndex;yr!=null&&(Sn.set(yr,Ln),Sn.set(Ln,yr)),Dn.pop(),Un--}In=Dn[Dn.length-1],pn[Ln]=In._level,In._override&&tn(Ln,In._override)}else Mn&sn?(Hn===0&&(ln>0?ln--:!In._isolate&&Dn.length>1&&(Dn.pop(),In=Dn[Dn.length-1])),pn[Ln]=In._level):Mn&kt&&(pn[Ln]=Rn.level);else pn[Ln]=In._level,In._override&&Mn!==Ht&&tn(Ln,In._override)}for(var hr=[],Jn=null,xr=Rn.start;xr<=Rn.end;xr++){var br=on[xr];if(!(br&at)){var _r=pn[xr],Rr=br&it,ns=br===Qt;Jn&&_r===Jn._level?(Jn._end=xr,Jn._endsWithIsolInit=Rr):hr.push(Jn={_start:xr,_end:xr,_level:_r,_startsWithPDI:ns,_endsWithIsolInit:Rr})}}for(var Dr=[],Tr=0;Tr<hr.length;Tr++){var Gr=hr[Tr];if(!Gr._startsWithPDI||Gr._startsWithPDI&&!Sn.has(Gr._start)){for(var qt=[Jn=Gr],yn=void 0;Jn&&Jn._endsWithIsolInit&&(yn=Sn.get(Jn._end))!=null;)for(var En=Tr+1;En<hr.length;En++)if(hr[En]._start===yn){qt.push(Jn=hr[En]);break}for(var xn=[],Bn=0;Bn<qt.length;Bn++)for(var Xn=qt[Bn],Qn=Xn._start;Qn<=Xn._end;Qn++)xn.push(Qn);for(var ir=pn[xn[0]],Zn=Rn.level,dr=xn[0]-1;dr>=0;dr--)if(!(on[dr]&at)){Zn=pn[dr];break}var ar=xn[xn.length-1],pr=pn[ar],wr=Rn.level;if(!(on[ar]&it)){for(var us=ar+1;us<=Rn.end;us++)if(!(on[us]&at)){wr=pn[us];break}}Dr.push({_seqIndices:xn,_sosType:Math.max(Zn,ir)%2?St:Tt,_eosType:Math.max(wr,pr)%2?St:Tt})}}for(var Ss=0;Ss<Dr.length;Ss++){var ws=Dr[Ss],$n=ws._seqIndices,sr=ws._sosType,As=ws._eosType;if(zt.get(Bt))for(var Sr=0;Sr<$n.length;Sr++){var Wr=$n[Sr];if(on[Wr]&Bt){for(var Yr=sr,Kr=Sr-1;Kr>=0;Kr--)if(!(on[$n[Kr]]&at)){Yr=on[$n[Kr]];break}tn(Wr,Yr&(it|Qt)?jt:Yr)}}if(zt.get(Ct))for(var Xr=0;Xr<$n.length;Xr++){var tr=$n[Xr];if(on[tr]&Ct)for(var lr=Xr-1;lr>=-1;lr--){var rs=lr===-1?sr:on[$n[lr]];if(rs&st){rs===Lt&&tn(tr,It);break}}}if(zt.get(Lt))for(var mr=0;mr<$n.length;mr++){var Ir=$n[mr];on[Ir]&Lt&&tn(Ir,St)}if(zt.get(Et)||zt.get(Ot))for(var ss=1;ss<$n.length-1;ss++){var ms=$n[ss];if(on[ms]&(Et|Ot)){for(var Lr=0,eo=0,Co=ss-1;Co>=0&&(Lr=on[$n[Co]],!!(Lr&at));Co--);for(var To=ss+1;To<$n.length&&(eo=on[$n[To]],!!(eo&at));To++);Lr===eo&&(on[ms]===Et?Lr===Ct:Lr&(Ct|It))&&tn(ms,Lr)}}if(zt.get(Ct))for(var Fs=0;Fs<$n.length;Fs++){var Pl=$n[Fs];if(on[Pl]&Ct){for(var qr=Fs-1;qr>=0&&on[$n[qr]]&(Rt|at);qr--)tn($n[qr],Ct);for(var Po=Fs+1;Po<$n.length&&on[$n[Po]]&(Rt|at);Po++)tn($n[Po],Ct)}}if(zt.get(Rt)||zt.get(Et)||zt.get(Ot))for(var ho=0;ho<$n.length;ho++){var Rl=$n[ho];if(on[Rl]&(Rt|Et|Ot)){tn(Rl,jt);for(var Hs=ho-1;Hs>=0&&on[$n[Hs]]&at;Hs--)tn($n[Hs],jt);for(var js=ho+1;js<$n.length&&on[$n[js]]&at;js++)tn($n[js],jt)}}if(zt.get(Ct))for(var Ws=0,po=sr;Ws<$n.length;Ws++){var Bl=$n[Ws],jo=on[Bl];jo&Ct?po===Tt&&tn(Bl,Tt):jo&st&&(po=jo)}if(zt.get(ot)){var Ks=St|Ct|It,Ro=Ks|Tt,Os=[];{for(var to=[],Ns=0;Ns<$n.length;Ns++)if(on[$n[Ns]]&ot){var ur=un[$n[Ns]],Wo=void 0;if(bt(ur)!==null)if(to.length<63)to.push({char:ur,seqIndex:Ns});else break;else if((Wo=At(ur))!==null)for(var Xs=to.length-1;Xs>=0;Xs--){var Bo=to[Xs].char;if(Bo===Wo||Bo===At(Mt(ur))||bt(Mt(Bo))===ur){Os.push([to[Xs].seqIndex,Ns]),to.length=Xs;break}}}Os.sort(function(Fr,$r){return Fr[0]-$r[0]})}for(var Ko=0;Ko<Os.length;Ko++){for(var Dl=Os[Ko],Er=Dl[0],no=Dl[1],Il=!1,os=0,Xo=Er+1;Xo<no;Xo++){var ro=$n[Xo];if(on[ro]&Ro){Il=!0;var gs=on[ro]&Ks?St:Tt;if(gs===Us(ro)){os=gs;break}}}if(Il&&!os){os=sr;for(var Jo=Er-1;Jo>=0;Jo--){var Do=$n[Jo];if(on[Do]&Ro){var vs=on[Do]&Ks?St:Tt;vs!==Us(Do)?os=vs:os=Us(Do);break}}}if(os){if(on[$n[Er]]=on[$n[no]]=os,os!==Us($n[Er])){for(var as=Er+1;as<$n.length;as++)if(!(on[$n[as]]&at)){ft(un[$n[as]])&Bt&&(on[$n[as]]=os);break}}if(os!==Us($n[no])){for(var Gs=no+1;Gs<$n.length;Gs++)if(!(on[$n[Gs]]&at)){ft(un[$n[Gs]])&Bt&&(on[$n[Gs]]=os);break}}}}for(var Ms=0;Ms<$n.length;Ms++)if(on[$n[Ms]]&ot){for(var Yo=Ms,qo=Ms,fs=sr,mo=Ms-1;mo>=0;mo--)if(on[$n[mo]]&at)Yo=mo;else{fs=on[$n[mo]]&Ks?St:Tt;break}for(var go=As,vo=Ms+1;vo<$n.length;vo++)if(on[$n[vo]]&(ot|at))qo=vo;else{go=on[$n[vo]]&Ks?St:Tt;break}for(var Qr=Yo;Qr<=qo;Qr++)on[$n[Qr]]=fs===go?fs:Us($n[Qr]);Ms=qo}}}for(var Vr=Rn.start;Vr<=Rn.end;Vr++){var Io=pn[Vr],Is=on[Vr];if(Io&1?Is&(Tt|Ct|It)&&pn[Vr]++:Is&St?pn[Vr]++:Is&(It|Ct)&&(pn[Vr]+=2),Is&at&&(pn[Vr]=Vr===0?Rn.level:pn[Vr-1]),Vr===Rn.end||ft(un[Vr])&($t|kt))for(var io=Vr;io>=0&&ft(un[io])&lt;io--)pn[io]=Rn.level}}return{levels:pn,paragraphs:Pn};function Lo(Fr,$r){for(var Ar=Fr;Ar<un.length;Ar++){var Ur=on[Ar];if(Ur&(St|Lt))return 1;if(Ur&(kt|Tt)||$r&&Ur===Qt)return 0;if(Ur&it){var Ls=Ll(Ar);Ar=Ls===-1?un.length:Ls}}return 0}function Ll(Fr){for(var $r=1,Ar=Fr+1;Ar<un.length;Ar++){var Ur=on[Ar];if(Ur&kt)break;if(Ur&Qt){if(--$r===0)return Ar}else Ur&it&&$r++}return-1}function Us(Fr){return pn[Fr]&1?St:Tt}}var Gt="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Wt;function Jt(){if(!Wt){var un=gt(Gt,!0),gn=un.map,vn=un.reverseMap;vn.forEach(function(on,Xt){gn.set(Xt,on)}),Wt=gn}}function Kt(un){return Jt(),Wt.get(un)||null}function nn(un,gn,vn,on){var Xt=un.length;vn=Math.max(0,vn==null?0:+vn),on=Math.min(Xt-1,on==null?Xt-1:+on);for(var zt=new Map,tn=vn;tn<=on;tn++)if(gn[tn]&1){var pn=Kt(un[tn]);pn!==null&&zt.set(tn,pn)}return zt}function fn(un,gn,vn,on){var Xt=un.length;vn=Math.max(0,vn==null?0:+vn),on=Math.min(Xt-1,on==null?Xt-1:+on);var zt=[];return gn.paragraphs.forEach(function(tn){var pn=Math.max(vn,tn.start),Sn=Math.min(on,tn.end);if(pn<Sn){for(var Pn=gn.levels.slice(pn,Sn+1),Rn=Sn;Rn>=pn&&ft(un[Rn])&lt;Rn--)Pn[Rn]=tn.level;for(var Tn=tn.level,wn=1/0,kn=0;kn<Pn.length;kn++){var Gn=Pn[kn];Gn>Tn&&(Tn=Gn),Gn<wn&&(wn=Gn|1)}for(var Fn=Tn;Fn>=wn;Fn--)for(var Dn=0;Dn<Pn.length;Dn++)if(Pn[Dn]>=Fn){for(var In=Dn;Dn+1<Pn.length&&Pn[Dn+1]>=Fn;)Dn++;Dn>In&&zt.push([In+vn,Dn+vn])}}}),zt}function hn(un,gn,vn,on){var Xt=bn(un,gn,vn,on),zt=[].concat(un);return Xt.forEach(function(tn,pn){zt[pn]=(gn.levels[tn]&1?Kt(un[tn]):null)||un[tn]}),zt.join("")}function bn(un,gn,vn,on){for(var Xt=fn(un,gn,vn,on),zt=[],tn=0;tn<un.length;tn++)zt[tn]=tn;return Xt.forEach(function(pn){for(var Sn=pn[0],Pn=pn[1],Rn=zt.slice(Sn,Pn+1),Tn=Rn.length;Tn--;)zt[Pn-Tn]=Rn[Tn]}),zt}return _e.closingToOpeningBracket=At,_e.getBidiCharType=ft,_e.getBidiCharTypeName=ht,_e.getCanonicalBracket=Mt,_e.getEmbeddingLevels=Ut,_e.getMirroredCharacter=Kt,_e.getMirroredCharactersMap=nn,_e.getReorderSegments=fn,_e.getReorderedIndices=bn,_e.getReorderedString=hn,_e.openingToClosingBracket=bt,Object.defineProperty(_e,"__esModule",{value:!0}),_e}({});return et}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(et){const _e=/^[ \t]*#include +<([\w\d./]+)>/gm;function tt(nt,rt){let it=ShaderChunk[rt];return it?expandShaderIncludes(it):nt}return et.replace(_e,tt)}const _lut=[];for(let et=0;et<256;et++)_lut[et]=(et<16?"0":"")+et.toString(16);function generateUUID(){const et=Math.random()*4294967295|0,_e=Math.random()*4294967295|0,tt=Math.random()*4294967295|0,nt=Math.random()*4294967295|0;return(_lut[et&255]+_lut[et>>8&255]+_lut[et>>16&255]+_lut[et>>24&255]+"-"+_lut[_e&255]+_lut[_e>>8&255]+"-"+_lut[_e>>16&15|64]+_lut[_e>>24&255]+"-"+_lut[tt&63|128]+_lut[tt>>8&255]+"-"+_lut[tt>>16&255]+_lut[tt>>24&255]+_lut[nt&255]+_lut[nt>>8&255]+_lut[nt>>16&255]+_lut[nt>>24&255]).toUpperCase()}const assign$3=Object.assign||function(){let et=arguments[0];for(let _e=1,tt=arguments.length;_e<tt;_e++){let nt=arguments[_e];if(nt)for(let rt in nt)nt.hasOwnProperty(rt)&&(et[rt]=nt[rt])}return et},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(et,_e){const tt=getKeyForOptions(_e);let nt=CONSTRUCTOR_CACHE.get(et);if(nt||CONSTRUCTOR_CACHE.set(et,nt=Object.create(null)),nt[tt])return new nt[tt];const rt=`_onBeforeCompile${tt}`,it=function(lt){et.onBeforeCompile.call(this,lt);const ct=this.customProgramCacheKey()+"|"+lt.vertexShader+"|"+lt.fragmentShader;let ut=SHADER_UPGRADE_CACHE[ct];if(!ut){const ft=upgradeShaders(lt,_e,tt);ut=SHADER_UPGRADE_CACHE[ct]=ft}lt.vertexShader=ut.vertexShader,lt.fragmentShader=ut.fragmentShader,assign$3(lt.uniforms,this.uniforms),_e.timeUniform&&(lt.uniforms[_e.timeUniform]={get value(){return Date.now()-epoch}}),this[rt]&&this[rt](lt)},st=function(){return ot(_e.chained?et:et.clone())},ot=function(lt){const ct=Object.create(lt,at);return Object.defineProperty(ct,"baseMaterial",{value:et}),Object.defineProperty(ct,"id",{value:materialInstanceId++}),ct.uuid=generateUUID(),ct.uniforms=assign$3({},lt.uniforms,_e.uniforms),ct.defines=assign$3({},lt.defines,_e.defines),ct.defines[`TROIKA_DERIVED_MATERIAL_${tt}`]="",ct.extensions=assign$3({},lt.extensions,_e.extensions),ct._listeners=void 0,ct},at={constructor:{value:st},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return et.customProgramCacheKey()+"|"+tt}},onBeforeCompile:{get(){return it},set(lt){this[rt]=lt}},copy:{writable:!0,configurable:!0,value:function(lt){return et.copy.call(this,lt),!et.isShaderMaterial&&!et.isDerivedMaterial&&(assign$3(this.extensions,lt.extensions),assign$3(this.defines,lt.defines),assign$3(this.uniforms,UniformsUtils.clone(lt.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const lt=new et.constructor;return ot(lt).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let lt=this._depthMaterial;return lt||(lt=this._depthMaterial=createDerivedMaterial(et.isDerivedMaterial?et.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),_e),lt.defines.IS_DEPTH_MATERIAL="",lt.uniforms=this.uniforms),lt}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let lt=this._distanceMaterial;return lt||(lt=this._distanceMaterial=createDerivedMaterial(et.isDerivedMaterial?et.getDistanceMaterial():new MeshDistanceMaterial,_e),lt.defines.IS_DISTANCE_MATERIAL="",lt.uniforms=this.uniforms),lt}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:lt,_distanceMaterial:ct}=this;lt&&lt.dispose(),ct&&ct.dispose(),et.dispose.call(this)}}};return nt[tt]=st,new st}function upgradeShaders({vertexShader:et,fragmentShader:_e},tt,nt){let{vertexDefs:rt,vertexMainIntro:it,vertexMainOutro:st,vertexTransform:ot,fragmentDefs:at,fragmentMainIntro:lt,fragmentMainOutro:ct,fragmentColorTransform:ut,customRewriter:ft,timeUniform:ht}=tt;if(rt=rt||"",it=it||"",st=st||"",at=at||"",lt=lt||"",ct=ct||"",(ot||ft)&&(et=expandShaderIncludes(et)),(ut||ft)&&(_e=_e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),_e=expandShaderIncludes(_e)),ft){let pt=ft({vertexShader:et,fragmentShader:_e});et=pt.vertexShader,_e=pt.fragmentShader}if(ut){let pt=[];_e=_e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,gt=>(pt.push(gt),"")),ct=`${ut}
${pt.join(`
`)}
${ct}`}if(ht){const pt=`
uniform float ${ht};
`;rt=pt+rt,at=pt+at}return ot&&(et=`vec3 troika_position_${nt};
vec3 troika_normal_${nt};
vec2 troika_uv_${nt};
${et}
`,rt=`${rt}
void troikaVertexTransform${nt}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${ot}
}
`,it=`
troika_position_${nt} = vec3(position);
troika_normal_${nt} = vec3(normal);
troika_uv_${nt} = vec2(uv);
troikaVertexTransform${nt}(troika_position_${nt}, troika_normal_${nt}, troika_uv_${nt});
${it}
`,et=et.replace(/\b(position|normal|uv)\b/g,(pt,gt,dt,vt)=>/\battribute\s+vec[23]\s+$/.test(vt.substr(0,dt))?gt:`troika_${gt}_${nt}`)),et=injectIntoShaderCode(et,nt,rt,it,st),_e=injectIntoShaderCode(_e,nt,at,lt,ct),{vertexShader:et,fragmentShader:_e}}function injectIntoShaderCode(et,_e,tt,nt,rt){return(nt||rt||tt)&&(et=et.replace(voidMainRegExp,`
${tt}
void troikaOrigMain${_e}() {`),et+=`
void main() {
  ${nt}
  troikaOrigMain${_e}();
  ${rt}
}`),et}function optionsJsonReplacer(et,_e){return et==="uniforms"?void 0:typeof _e=="function"?_e.toString():_e}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(et){const _e=JSON.stringify(et,optionsJsonReplacer);let tt=optionsHashesToIds.get(_e);return tt==null&&optionsHashesToIds.set(_e,tt=++_idCtr),tt}function createTypesetter(et,_e,tt){const{defaultFontURL:nt}=tt,rt=Object.create(null),it=1/0,st=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,ot=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function at(vt,xt){function _t(){const bt=At=>{console.error(`Failure loading font ${vt}${vt===nt?"":"; trying fallback"}`,At),vt!==nt&&(vt=nt,_t())};try{const At=new XMLHttpRequest;At.open("get",vt,!0),At.responseType="arraybuffer",At.onload=function(){if(At.status>=400)bt(new Error(At.statusText));else if(At.status>0)try{const Mt=et(At.response);xt(Mt)}catch(Mt){bt(Mt)}},At.onerror=bt,At.send()}catch(At){bt(At)}}_t()}function lt(vt,xt){vt||(vt=nt);let _t=rt[vt];_t?_t.pending?_t.pending.push(xt):xt(_t):(rt[vt]={pending:[xt]},at(vt,bt=>{let At=rt[vt].pending;rt[vt]=bt,At.forEach(Mt=>Mt(bt))}))}function ct({text:vt="",font:xt=nt,sdfGlyphSize:_t=64,fontSize:bt=1,letterSpacing:At=0,lineHeight:Mt="normal",maxWidth:Tt=it,direction:St,textAlign:Ct="left",textIndent:Et=0,whiteSpace:Rt="normal",overflowWrap:It="normal",anchorX:Ot=0,anchorY:kt=0,includeCaretPositions:$t=!1,chunkedBoundsSize:jt=8192,colorRanges:Ht=null},Bt,Lt=!1){const Ft=pt(),Vt={fontLoad:0,typesetting:0};vt.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),vt=vt.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),bt=+bt,At=+At,Tt=+Tt,Mt=Mt||"normal",Et=+Et,lt(xt,Yt=>{const rn=isFinite(Tt);let sn=null,cn=null,Zt=null,an=null,Qt=null,Ut=null,Gt=null,Wt=0,Jt=0,Kt=Rt!=="nowrap";const{ascender:nn,descender:fn,unitsPerEm:hn}=Yt;Vt.fontLoad=pt()-Ft;const bn=pt(),un=bt/hn;Mt==="normal"&&(Mt=(nn-fn)/hn),Mt=Mt*bt;const gn=(Mt-(nn-fn)*un)/2,vn=-(nn*un+gn),on=Math.min(Mt,(nn-fn)*un),Xt=(nn+fn)/2*un-on/2;let zt=Et,tn=new gt;const pn=[tn];Yt.forEachGlyph(vt,bt,At,(Rn,Tn,wn)=>{const kn=vt.charAt(wn),Gn=Rn.advanceWidth*un,Fn=tn.count;let Dn;if("isEmpty"in Rn||(Rn.isWhitespace=!!kn&&/\s/.test(kn),Rn.canBreakAfter=!!kn&&ot.test(kn),Rn.isEmpty=Rn.xMin===Rn.xMax||Rn.yMin===Rn.yMax||st.test(kn)),!Rn.isWhitespace&&!Rn.isEmpty&&Jt++,Kt&&rn&&!Rn.isWhitespace&&Tn+Gn+zt>Tt&&Fn){if(tn.glyphAt(Fn-1).glyphObj.canBreakAfter)Dn=new gt,zt=-Tn;else for(let Hn=Fn;Hn--;)if(Hn===0&&It==="break-word"){Dn=new gt,zt=-Tn;break}else if(tn.glyphAt(Hn).glyphObj.canBreakAfter){Dn=tn.splitAt(Hn+1);const ln=Dn.glyphAt(0).x;zt-=ln;for(let Un=Dn.count;Un--;)Dn.glyphAt(Un).x-=ln;break}Dn&&(tn.isSoftWrapped=!0,tn=Dn,pn.push(tn),Wt=Tt)}let In=tn.glyphAt(tn.count);In.glyphObj=Rn,In.x=Tn+zt,In.width=Gn,In.charIndex=wn,kn===`
`&&(tn=new gt,pn.push(tn),zt=-(Tn+Gn+At*bt)+Et)}),pn.forEach(Rn=>{for(let Tn=Rn.count;Tn--;){let{glyphObj:wn,x:kn,width:Gn}=Rn.glyphAt(Tn);if(!wn.isWhitespace){Rn.width=kn+Gn,Rn.width>Wt&&(Wt=Rn.width);return}}});let Sn=0,Pn=0;if(Ot&&(typeof Ot=="number"?Sn=-Ot:typeof Ot=="string"&&(Sn=-Wt*(Ot==="left"?0:Ot==="center"?.5:Ot==="right"?1:ft(Ot)))),kt){if(typeof kt=="number")Pn=-kt;else if(typeof kt=="string"){let Rn=pn.length*Mt;Pn=kt==="top"?0:kt==="top-baseline"?-vn:kt==="middle"?Rn/2:kt==="bottom"?Rn:kt==="bottom-baseline"?Rn-gn+fn*un:ft(kt)*Rn}}if(!Lt){const Rn=_e.getEmbeddingLevels(vt,St);sn=new Uint16Array(Jt),cn=new Float32Array(Jt*2),Zt={},Ut=[it,it,-it,-it],Gt=[];let Tn=vn;$t&&(Qt=new Float32Array(vt.length*3)),Ht&&(an=new Uint8Array(Jt*3));let wn=0,kn=-1,Gn=-1,Fn,Dn;if(pn.forEach((In,Hn)=>{let{count:ln,width:Un}=In;if(ln>0){let Ln=0;for(let hr=ln;hr--&&In.glyphAt(hr).glyphObj.isWhitespace;)Ln++;let Mn=0,Nn=0;if(Ct==="center")Mn=(Wt-Un)/2;else if(Ct==="right")Mn=Wt-Un;else if(Ct==="justify"&&In.isSoftWrapped){let hr=0;for(let Jn=ln-Ln;Jn--;)In.glyphAt(Jn).glyphObj.isWhitespace&&hr++;Nn=(Wt-Un)/hr}if(Nn||Mn){let hr=0;for(let Jn=0;Jn<ln;Jn++){let xr=In.glyphAt(Jn);const br=xr.glyphObj;xr.x+=Mn+hr,Nn!==0&&br.isWhitespace&&Jn<ln-Ln&&(hr+=Nn,xr.width+=Nn)}}const Yn=_e.getReorderSegments(vt,Rn,In.glyphAt(0).charIndex,In.glyphAt(In.count-1).charIndex);for(let hr=0;hr<Yn.length;hr++){const[Jn,xr]=Yn[hr];let br=1/0,_r=-1/0;for(let Rr=0;Rr<ln;Rr++)if(In.glyphAt(Rr).charIndex>=Jn){let ns=Rr,Dr=Rr;for(;Dr<ln;Dr++){let Tr=In.glyphAt(Dr);if(Tr.charIndex>xr)break;Dr<ln-Ln&&(br=Math.min(br,Tr.x),_r=Math.max(_r,Tr.x+Tr.width))}for(let Tr=ns;Tr<Dr;Tr++){const Gr=In.glyphAt(Tr);Gr.x=_r-(Gr.x+Gr.width-br)}break}}let er;const yr=hr=>er=hr;for(let hr=0;hr<ln;hr++){let Jn=In.glyphAt(hr);er=Jn.glyphObj;const xr=er.index,br=Rn.levels[Jn.charIndex]&1;if(br){const _r=_e.getMirroredCharacter(vt[Jn.charIndex]);_r&&Yt.forEachGlyph(_r,0,0,yr)}if($t){const{charIndex:_r}=Jn,Rr=Jn.x+Sn,ns=Jn.x+Jn.width+Sn;Qt[_r*3]=br?ns:Rr,Qt[_r*3+1]=br?Rr:ns,Qt[_r*3+2]=Tn+Xt+Pn;const Dr=_r-kn;Dr>1&&ht(Qt,kn,Dr),kn=_r}if(Ht){const{charIndex:_r}=Jn;for(;_r>Gn;)Gn++,Ht.hasOwnProperty(Gn)&&(Dn=Ht[Gn])}if(!er.isWhitespace&&!er.isEmpty){const _r=wn++;Zt[xr]||(Zt[xr]={path:er.path,pathBounds:[er.xMin,er.yMin,er.xMax,er.yMax]});const Rr=Jn.x+Sn,ns=Tn+Pn;cn[_r*2]=Rr,cn[_r*2+1]=ns;const Dr=Rr+er.xMin*un,Tr=ns+er.yMin*un,Gr=Rr+er.xMax*un,qt=ns+er.yMax*un;Dr<Ut[0]&&(Ut[0]=Dr),Tr<Ut[1]&&(Ut[1]=Tr),Gr>Ut[2]&&(Ut[2]=Gr),qt>Ut[3]&&(Ut[3]=qt),_r%jt===0&&(Fn={start:_r,end:_r,rect:[it,it,-it,-it]},Gt.push(Fn)),Fn.end++;const yn=Fn.rect;if(Dr<yn[0]&&(yn[0]=Dr),Tr<yn[1]&&(yn[1]=Tr),Gr>yn[2]&&(yn[2]=Gr),qt>yn[3]&&(yn[3]=qt),sn[_r]=xr,Ht){const En=_r*3;an[En]=Dn>>16&255,an[En+1]=Dn>>8&255,an[En+2]=Dn&255}}}}Tn-=Mt}),Qt){const In=vt.length-kn;In>1&&ht(Qt,kn,In)}}Vt.typesetting=pt()-bn,Bt({glyphIds:sn,glyphPositions:cn,glyphData:Zt,caretPositions:Qt,caretHeight:on,glyphColors:an,chunkedBounds:Gt,fontSize:bt,unitsPerEm:hn,ascender:nn*un,descender:fn*un,lineHeight:Mt,topBaseline:vn,blockBounds:[Sn,Pn-pn.length*Mt,Sn+Wt,Pn],visibleBounds:Ut,timings:Vt})})}function ut(vt,xt){ct(vt,_t=>{const[bt,At,Mt,Tt]=_t.blockBounds;xt({width:Mt-bt,height:Tt-At})},{metricsOnly:!0})}function ft(vt){let xt=vt.match(/^([\d.]+)%$/),_t=xt?parseFloat(xt[1]):NaN;return isNaN(_t)?0:_t/100}function ht(vt,xt,_t){const bt=vt[xt*3],At=vt[xt*3+1],Mt=vt[xt*3+2],Tt=(At-bt)/_t;for(let St=0;St<_t;St++){const Ct=(xt+St)*3;vt[Ct]=bt+Tt*St,vt[Ct+1]=bt+Tt*(St+1),vt[Ct+2]=Mt}}function pt(){return(self.performance||Date).now()}function gt(){this.data=[]}const dt=["glyphObj","x","width","charIndex"];return gt.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/dt.length)},glyphAt(vt){let xt=gt.flyweight;return xt.data=this.data,xt.index=vt,xt},splitAt(vt){let xt=new gt;return xt.data=this.data.splice(vt*dt.length),xt}},gt.flyweight=dt.reduce((vt,xt,_t,bt)=>(Object.defineProperty(vt,xt,{get(){return this.data[this.index*dt.length+_t]},set(At){this.data[this.index*dt.length+_t]=At}}),vt),{data:null,index:0}),{typeset:ct,measure:ut,loadFont:lt}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned$1;function generateSDF(et,_e,tt,nt,rt,it,st,ot,at,lt,ct=!0){return ct?generateSDF_GL(et,_e,tt,nt,rt,it,st,ot,at,lt).then(null,ut=>(warned$1||(console.warn("WebGL SDF generation failed, falling back to JS",ut),warned$1=!0),generateSDF_JS_Worker(et,_e,tt,nt,rt,it,st,ot,at,lt))):generateSDF_JS_Worker(et,_e,tt,nt,rt,it,st,ot,at,lt)}const generateSDF_GL=function(){const et=[];let tt=0;function nt(){const rt=now();for(;et.length&&now()-rt<5;)et.shift()();tt=et.length?setTimeout(nt,0):0}return(...rt)=>{const it=DefaultThenable();return et.push(()=>{const st=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...rt),it.resolve({timing:now()-st})}catch(ot){it.reject(ot)}}),tt||(tt=setTimeout(nt,0)),it}}(),generateSDF_JS_Worker=function(){const tt={};let nt=0;return function(rt,it,st,ot,at,lt,ct,ut,ft,ht){const pt="TroikaTextSDFGenerator_JS_"+nt++%4;let gt=tt[pt];return gt||(gt=tt[pt]={workerModule:defineWorkerModule({name:pt,workerId:pt,dependencies:[SDFGenerator,now],init(dt,vt){const xt=dt().javascript.generate;return function(..._t){const bt=vt();return{textureData:xt(..._t),timing:vt()-bt}}},getTransferables(dt){return[dt.textureData.buffer]}}),requests:0,idleTimer:null}),gt.requests++,clearTimeout(gt.idleTimer),gt.workerModule(rt,it,st,ot,at,lt).then(({textureData:dt,timing:vt})=>{const xt=now(),_t=new Uint8Array(dt.length*4);for(let bt=0;bt<dt.length;bt++)_t[bt*4+ht]=dt[bt];return mainThreadGenerator.webglUtils.renderImageData(ct,_t,ut,ft,rt,it,1<<3-ht),vt+=now()-xt,--gt.requests===0&&(gt.idleTimer=setTimeout(()=>{terminateWorker(pt)},2e3)),{timing:vt}})}}();function warmUpSDFCanvas(et){et._warm||(mainThreadGenerator.webgl.isSupported(et),et._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(et){var _e={parse:function(rt){var it=_e._bin,st=new Uint8Array(rt);if(it.readASCII(st,0,4)=="ttcf"){var ot=4;it.readUshort(st,ot),ot+=2,it.readUshort(st,ot),ot+=2;var at=it.readUint(st,ot);ot+=4;for(var lt=[],ct=0;ct<at;ct++){var ut=it.readUint(st,ot);ot+=4,lt.push(_e._readFont(st,ut))}return lt}return[_e._readFont(st,0)]},_readFont:function(rt,it){var st=_e._bin,ot=it;st.readFixed(rt,it),it+=4;var at=st.readUshort(rt,it);it+=2,st.readUshort(rt,it),it+=2,st.readUshort(rt,it),it+=2,st.readUshort(rt,it),it+=2;for(var lt=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],ct={_data:rt,_offset:ot},ut={},ft=0;ft<at;ft++){var ht=st.readASCII(rt,it,4);it+=4,st.readUint(rt,it),it+=4;var pt=st.readUint(rt,it);it+=4;var gt=st.readUint(rt,it);it+=4,ut[ht]={offset:pt,length:gt}}for(ft=0;ft<lt.length;ft++){var dt=lt[ft];ut[dt]&&(ct[dt.trim()]=_e[dt.trim()].parse(rt,ut[dt].offset,ut[dt].length,ct))}return ct},_tabOffset:function(rt,it,st){for(var ot=_e._bin,at=ot.readUshort(rt,st+4),lt=st+12,ct=0;ct<at;ct++){var ut=ot.readASCII(rt,lt,4);lt+=4,ot.readUint(rt,lt),lt+=4;var ft=ot.readUint(rt,lt);if(lt+=4,ot.readUint(rt,lt),lt+=4,ut==it)return ft}return 0}};_e._bin={readFixed:function(rt,it){return(rt[it]<<8|rt[it+1])+(rt[it+2]<<8|rt[it+3])/65540},readF2dot14:function(rt,it){return _e._bin.readShort(rt,it)/16384},readInt:function(rt,it){return _e._bin._view(rt).getInt32(it)},readInt8:function(rt,it){return _e._bin._view(rt).getInt8(it)},readShort:function(rt,it){return _e._bin._view(rt).getInt16(it)},readUshort:function(rt,it){return _e._bin._view(rt).getUint16(it)},readUshorts:function(rt,it,st){for(var ot=[],at=0;at<st;at++)ot.push(_e._bin.readUshort(rt,it+2*at));return ot},readUint:function(rt,it){return _e._bin._view(rt).getUint32(it)},readUint64:function(rt,it){return 4294967296*_e._bin.readUint(rt,it)+_e._bin.readUint(rt,it+4)},readASCII:function(rt,it,st){for(var ot="",at=0;at<st;at++)ot+=String.fromCharCode(rt[it+at]);return ot},readUnicode:function(rt,it,st){for(var ot="",at=0;at<st;at++){var lt=rt[it++]<<8|rt[it++];ot+=String.fromCharCode(lt)}return ot},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(rt,it,st){var ot=_e._bin._tdec;return ot&&it==0&&st==rt.length?ot.decode(rt):_e._bin.readASCII(rt,it,st)},readBytes:function(rt,it,st){for(var ot=[],at=0;at<st;at++)ot.push(rt[it+at]);return ot},readASCIIArray:function(rt,it,st){for(var ot=[],at=0;at<st;at++)ot.push(String.fromCharCode(rt[it+at]));return ot},_view:function(rt){return rt._dataView||(rt._dataView=rt.buffer?new DataView(rt.buffer,rt.byteOffset,rt.byteLength):new DataView(new Uint8Array(rt).buffer))}},_e._lctf={},_e._lctf.parse=function(rt,it,st,ot,at){var lt=_e._bin,ct={},ut=it;lt.readFixed(rt,it),it+=4;var ft=lt.readUshort(rt,it);it+=2;var ht=lt.readUshort(rt,it);it+=2;var pt=lt.readUshort(rt,it);return it+=2,ct.scriptList=_e._lctf.readScriptList(rt,ut+ft),ct.featureList=_e._lctf.readFeatureList(rt,ut+ht),ct.lookupList=_e._lctf.readLookupList(rt,ut+pt,at),ct},_e._lctf.readLookupList=function(rt,it,st){var ot=_e._bin,at=it,lt=[],ct=ot.readUshort(rt,it);it+=2;for(var ut=0;ut<ct;ut++){var ft=ot.readUshort(rt,it);it+=2;var ht=_e._lctf.readLookupTable(rt,at+ft,st);lt.push(ht)}return lt},_e._lctf.readLookupTable=function(rt,it,st){var ot=_e._bin,at=it,lt={tabs:[]};lt.ltype=ot.readUshort(rt,it),it+=2,lt.flag=ot.readUshort(rt,it),it+=2;var ct=ot.readUshort(rt,it);it+=2;for(var ut=lt.ltype,ft=0;ft<ct;ft++){var ht=ot.readUshort(rt,it);it+=2;var pt=st(rt,ut,at+ht,lt);lt.tabs.push(pt)}return lt},_e._lctf.numOfOnes=function(rt){for(var it=0,st=0;st<32;st++)(rt>>>st&1)!=0&&it++;return it},_e._lctf.readClassDef=function(rt,it){var st=_e._bin,ot=[],at=st.readUshort(rt,it);if(it+=2,at==1){var lt=st.readUshort(rt,it);it+=2;var ct=st.readUshort(rt,it);it+=2;for(var ut=0;ut<ct;ut++)ot.push(lt+ut),ot.push(lt+ut),ot.push(st.readUshort(rt,it)),it+=2}if(at==2){var ft=st.readUshort(rt,it);for(it+=2,ut=0;ut<ft;ut++)ot.push(st.readUshort(rt,it)),it+=2,ot.push(st.readUshort(rt,it)),it+=2,ot.push(st.readUshort(rt,it)),it+=2}return ot},_e._lctf.getInterval=function(rt,it){for(var st=0;st<rt.length;st+=3){var ot=rt[st],at=rt[st+1];if(rt[st+2],ot<=it&&it<=at)return st}return-1},_e._lctf.readCoverage=function(rt,it){var st=_e._bin,ot={};ot.fmt=st.readUshort(rt,it),it+=2;var at=st.readUshort(rt,it);return it+=2,ot.fmt==1&&(ot.tab=st.readUshorts(rt,it,at)),ot.fmt==2&&(ot.tab=st.readUshorts(rt,it,3*at)),ot},_e._lctf.coverageIndex=function(rt,it){var st=rt.tab;if(rt.fmt==1)return st.indexOf(it);if(rt.fmt==2){var ot=_e._lctf.getInterval(st,it);if(ot!=-1)return st[ot+2]+(it-st[ot])}return-1},_e._lctf.readFeatureList=function(rt,it){var st=_e._bin,ot=it,at=[],lt=st.readUshort(rt,it);it+=2;for(var ct=0;ct<lt;ct++){var ut=st.readASCII(rt,it,4);it+=4;var ft=st.readUshort(rt,it);it+=2;var ht=_e._lctf.readFeatureTable(rt,ot+ft);ht.tag=ut.trim(),at.push(ht)}return at},_e._lctf.readFeatureTable=function(rt,it){var st=_e._bin,ot=it,at={},lt=st.readUshort(rt,it);it+=2,lt>0&&(at.featureParams=ot+lt);var ct=st.readUshort(rt,it);it+=2,at.tab=[];for(var ut=0;ut<ct;ut++)at.tab.push(st.readUshort(rt,it+2*ut));return at},_e._lctf.readScriptList=function(rt,it){var st=_e._bin,ot=it,at={},lt=st.readUshort(rt,it);it+=2;for(var ct=0;ct<lt;ct++){var ut=st.readASCII(rt,it,4);it+=4;var ft=st.readUshort(rt,it);it+=2,at[ut.trim()]=_e._lctf.readScriptTable(rt,ot+ft)}return at},_e._lctf.readScriptTable=function(rt,it){var st=_e._bin,ot=it,at={},lt=st.readUshort(rt,it);it+=2,at.default=_e._lctf.readLangSysTable(rt,ot+lt);var ct=st.readUshort(rt,it);it+=2;for(var ut=0;ut<ct;ut++){var ft=st.readASCII(rt,it,4);it+=4;var ht=st.readUshort(rt,it);it+=2,at[ft.trim()]=_e._lctf.readLangSysTable(rt,ot+ht)}return at},_e._lctf.readLangSysTable=function(rt,it){var st=_e._bin,ot={};st.readUshort(rt,it),it+=2,ot.reqFeature=st.readUshort(rt,it),it+=2;var at=st.readUshort(rt,it);return it+=2,ot.features=st.readUshorts(rt,it,at),ot},_e.CFF={},_e.CFF.parse=function(rt,it,st){var ot=_e._bin;(rt=new Uint8Array(rt.buffer,it,st))[it=0],rt[++it],rt[++it],rt[++it],it++;var at=[];it=_e.CFF.readIndex(rt,it,at);for(var lt=[],ct=0;ct<at.length-1;ct++)lt.push(ot.readASCII(rt,it+at[ct],at[ct+1]-at[ct]));it+=at[at.length-1];var ut=[];it=_e.CFF.readIndex(rt,it,ut);var ft=[];for(ct=0;ct<ut.length-1;ct++)ft.push(_e.CFF.readDict(rt,it+ut[ct],it+ut[ct+1]));it+=ut[ut.length-1];var ht=ft[0],pt=[];it=_e.CFF.readIndex(rt,it,pt);var gt=[];for(ct=0;ct<pt.length-1;ct++)gt.push(ot.readASCII(rt,it+pt[ct],pt[ct+1]-pt[ct]));if(it+=pt[pt.length-1],_e.CFF.readSubrs(rt,it,ht),ht.CharStrings){it=ht.CharStrings,pt=[],it=_e.CFF.readIndex(rt,it,pt);var dt=[];for(ct=0;ct<pt.length-1;ct++)dt.push(ot.readBytes(rt,it+pt[ct],pt[ct+1]-pt[ct]));ht.CharStrings=dt}if(ht.ROS){it=ht.FDArray;var vt=[];for(it=_e.CFF.readIndex(rt,it,vt),ht.FDArray=[],ct=0;ct<vt.length-1;ct++){var xt=_e.CFF.readDict(rt,it+vt[ct],it+vt[ct+1]);_e.CFF._readFDict(rt,xt,gt),ht.FDArray.push(xt)}it+=vt[vt.length-1],it=ht.FDSelect,ht.FDSelect=[];var _t=rt[it];if(it++,_t!=3)throw _t;var bt=ot.readUshort(rt,it);for(it+=2,ct=0;ct<bt+1;ct++)ht.FDSelect.push(ot.readUshort(rt,it),rt[it+2]),it+=3}return ht.Encoding&&(ht.Encoding=_e.CFF.readEncoding(rt,ht.Encoding,ht.CharStrings.length)),ht.charset&&(ht.charset=_e.CFF.readCharset(rt,ht.charset,ht.CharStrings.length)),_e.CFF._readFDict(rt,ht,gt),ht},_e.CFF._readFDict=function(rt,it,st){var ot;for(var at in it.Private&&(ot=it.Private[1],it.Private=_e.CFF.readDict(rt,ot,ot+it.Private[0]),it.Private.Subrs&&_e.CFF.readSubrs(rt,ot+it.Private.Subrs,it.Private)),it)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(at)!=-1&&(it[at]=st[it[at]-426+35])},_e.CFF.readSubrs=function(rt,it,st){var ot=_e._bin,at=[];it=_e.CFF.readIndex(rt,it,at);var lt,ct=at.length;lt=ct<1240?107:ct<33900?1131:32768,st.Bias=lt,st.Subrs=[];for(var ut=0;ut<at.length-1;ut++)st.Subrs.push(ot.readBytes(rt,it+at[ut],at[ut+1]-at[ut]))},_e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],_e.CFF.glyphByUnicode=function(rt,it){for(var st=0;st<rt.charset.length;st++)if(rt.charset[st]==it)return st;return-1},_e.CFF.glyphBySE=function(rt,it){return it<0||it>255?-1:_e.CFF.glyphByUnicode(rt,_e.CFF.tableSE[it])},_e.CFF.readEncoding=function(rt,it,st){_e._bin;var ot=[".notdef"],at=rt[it];if(it++,at!=0)throw"error: unknown encoding format: "+at;var lt=rt[it];it++;for(var ct=0;ct<lt;ct++)ot.push(rt[it+ct]);return ot},_e.CFF.readCharset=function(rt,it,st){var ot=_e._bin,at=[".notdef"],lt=rt[it];if(it++,lt==0)for(var ct=0;ct<st;ct++){var ut=ot.readUshort(rt,it);it+=2,at.push(ut)}else{if(lt!=1&&lt!=2)throw"error: format: "+lt;for(;at.length<st;){ut=ot.readUshort(rt,it),it+=2;var ft=0;for(lt==1?(ft=rt[it],it++):(ft=ot.readUshort(rt,it),it+=2),ct=0;ct<=ft;ct++)at.push(ut),ut++}}return at},_e.CFF.readIndex=function(rt,it,st){var ot=_e._bin,at=ot.readUshort(rt,it)+1,lt=rt[it+=2];if(it++,lt==1)for(var ct=0;ct<at;ct++)st.push(rt[it+ct]);else if(lt==2)for(ct=0;ct<at;ct++)st.push(ot.readUshort(rt,it+2*ct));else if(lt==3)for(ct=0;ct<at;ct++)st.push(16777215&ot.readUint(rt,it+3*ct-1));else if(at!=1)throw"unsupported offset size: "+lt+", count: "+at;return(it+=at*lt)-1},_e.CFF.getCharString=function(rt,it,st){var ot=_e._bin,at=rt[it],lt=rt[it+1];rt[it+2],rt[it+3],rt[it+4];var ct=1,ut=null,ft=null;at<=20&&(ut=at,ct=1),at==12&&(ut=100*at+lt,ct=2),21<=at&&at<=27&&(ut=at,ct=1),at==28&&(ft=ot.readShort(rt,it+1),ct=3),29<=at&&at<=31&&(ut=at,ct=1),32<=at&&at<=246&&(ft=at-139,ct=1),247<=at&&at<=250&&(ft=256*(at-247)+lt+108,ct=2),251<=at&&at<=254&&(ft=256*-(at-251)-lt-108,ct=2),at==255&&(ft=ot.readInt(rt,it+1)/65535,ct=5),st.val=ft!=null?ft:"o"+ut,st.size=ct},_e.CFF.readCharString=function(rt,it,st){for(var ot=it+st,at=_e._bin,lt=[];it<ot;){var ct=rt[it],ut=rt[it+1];rt[it+2],rt[it+3],rt[it+4];var ft=1,ht=null,pt=null;ct<=20&&(ht=ct,ft=1),ct==12&&(ht=100*ct+ut,ft=2),ct!=19&&ct!=20||(ht=ct,ft=2),21<=ct&&ct<=27&&(ht=ct,ft=1),ct==28&&(pt=at.readShort(rt,it+1),ft=3),29<=ct&&ct<=31&&(ht=ct,ft=1),32<=ct&&ct<=246&&(pt=ct-139,ft=1),247<=ct&&ct<=250&&(pt=256*(ct-247)+ut+108,ft=2),251<=ct&&ct<=254&&(pt=256*-(ct-251)-ut-108,ft=2),ct==255&&(pt=at.readInt(rt,it+1)/65535,ft=5),lt.push(pt!=null?pt:"o"+ht),it+=ft}return lt},_e.CFF.readDict=function(rt,it,st){for(var ot=_e._bin,at={},lt=[];it<st;){var ct=rt[it],ut=rt[it+1];rt[it+2],rt[it+3],rt[it+4];var ft=1,ht=null,pt=null;if(ct==28&&(pt=ot.readShort(rt,it+1),ft=3),ct==29&&(pt=ot.readInt(rt,it+1),ft=5),32<=ct&&ct<=246&&(pt=ct-139,ft=1),247<=ct&&ct<=250&&(pt=256*(ct-247)+ut+108,ft=2),251<=ct&&ct<=254&&(pt=256*-(ct-251)-ut-108,ft=2),ct==255)throw pt=ot.readInt(rt,it+1)/65535,ft=5,"unknown number";if(ct==30){var gt=[];for(ft=1;;){var dt=rt[it+ft];ft++;var vt=dt>>4,xt=15&dt;if(vt!=15&&gt.push(vt),xt!=15&&gt.push(xt),xt==15)break}for(var _t="",bt=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],At=0;At<gt.length;At++)_t+=bt[gt[At]];pt=parseFloat(_t)}ct<=21&&(ht=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][ct],ft=1,ct==12&&(ht=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][ut],ft=2)),ht!=null?(at[ht]=lt.length==1?lt[0]:lt,lt=[]):lt.push(pt),it+=ft}return at},_e.cmap={},_e.cmap.parse=function(rt,it,st){rt=new Uint8Array(rt.buffer,it,st),it=0;var ot=_e._bin,at={};ot.readUshort(rt,it),it+=2;var lt=ot.readUshort(rt,it);it+=2;var ct=[];at.tables=[];for(var ut=0;ut<lt;ut++){var ft=ot.readUshort(rt,it);it+=2;var ht=ot.readUshort(rt,it);it+=2;var pt=ot.readUint(rt,it);it+=4;var gt="p"+ft+"e"+ht,dt=ct.indexOf(pt);if(dt==-1){var vt;dt=at.tables.length,ct.push(pt);var xt=ot.readUshort(rt,pt);xt==0?vt=_e.cmap.parse0(rt,pt):xt==4?vt=_e.cmap.parse4(rt,pt):xt==6?vt=_e.cmap.parse6(rt,pt):xt==12?vt=_e.cmap.parse12(rt,pt):console.debug("unknown format: "+xt,ft,ht,pt),at.tables.push(vt)}if(at[gt]!=null)throw"multiple tables for one platform+encoding";at[gt]=dt}return at},_e.cmap.parse0=function(rt,it){var st=_e._bin,ot={};ot.format=st.readUshort(rt,it),it+=2;var at=st.readUshort(rt,it);it+=2,st.readUshort(rt,it),it+=2,ot.map=[];for(var lt=0;lt<at-6;lt++)ot.map.push(rt[it+lt]);return ot},_e.cmap.parse4=function(rt,it){var st=_e._bin,ot=it,at={};at.format=st.readUshort(rt,it),it+=2;var lt=st.readUshort(rt,it);it+=2,st.readUshort(rt,it),it+=2;var ct=st.readUshort(rt,it);it+=2;var ut=ct/2;at.searchRange=st.readUshort(rt,it),it+=2,at.entrySelector=st.readUshort(rt,it),it+=2,at.rangeShift=st.readUshort(rt,it),it+=2,at.endCount=st.readUshorts(rt,it,ut),it+=2*ut,it+=2,at.startCount=st.readUshorts(rt,it,ut),it+=2*ut,at.idDelta=[];for(var ft=0;ft<ut;ft++)at.idDelta.push(st.readShort(rt,it)),it+=2;for(at.idRangeOffset=st.readUshorts(rt,it,ut),it+=2*ut,at.glyphIdArray=[];it<ot+lt;)at.glyphIdArray.push(st.readUshort(rt,it)),it+=2;return at},_e.cmap.parse6=function(rt,it){var st=_e._bin,ot={};ot.format=st.readUshort(rt,it),it+=2,st.readUshort(rt,it),it+=2,st.readUshort(rt,it),it+=2,ot.firstCode=st.readUshort(rt,it),it+=2;var at=st.readUshort(rt,it);it+=2,ot.glyphIdArray=[];for(var lt=0;lt<at;lt++)ot.glyphIdArray.push(st.readUshort(rt,it)),it+=2;return ot},_e.cmap.parse12=function(rt,it){var st=_e._bin,ot={};ot.format=st.readUshort(rt,it),it+=2,it+=2,st.readUint(rt,it),it+=4,st.readUint(rt,it),it+=4;var at=st.readUint(rt,it);it+=4,ot.groups=[];for(var lt=0;lt<at;lt++){var ct=it+12*lt,ut=st.readUint(rt,ct+0),ft=st.readUint(rt,ct+4),ht=st.readUint(rt,ct+8);ot.groups.push([ut,ft,ht])}return ot},_e.glyf={},_e.glyf.parse=function(rt,it,st,ot){for(var at=[],lt=0;lt<ot.maxp.numGlyphs;lt++)at.push(null);return at},_e.glyf._parseGlyf=function(rt,it){var st=_e._bin,ot=rt._data,at=_e._tabOffset(ot,"glyf",rt._offset)+rt.loca[it];if(rt.loca[it]==rt.loca[it+1])return null;var lt={};if(lt.noc=st.readShort(ot,at),at+=2,lt.xMin=st.readShort(ot,at),at+=2,lt.yMin=st.readShort(ot,at),at+=2,lt.xMax=st.readShort(ot,at),at+=2,lt.yMax=st.readShort(ot,at),at+=2,lt.xMin>=lt.xMax||lt.yMin>=lt.yMax)return null;if(lt.noc>0){lt.endPts=[];for(var ct=0;ct<lt.noc;ct++)lt.endPts.push(st.readUshort(ot,at)),at+=2;var ut=st.readUshort(ot,at);if(at+=2,ot.length-at<ut)return null;lt.instructions=st.readBytes(ot,at,ut),at+=ut;var ft=lt.endPts[lt.noc-1]+1;for(lt.flags=[],ct=0;ct<ft;ct++){var ht=ot[at];if(at++,lt.flags.push(ht),(8&ht)!=0){var pt=ot[at];at++;for(var gt=0;gt<pt;gt++)lt.flags.push(ht),ct++}}for(lt.xs=[],ct=0;ct<ft;ct++){var dt=(2&lt.flags[ct])!=0,vt=(16&lt.flags[ct])!=0;dt?(lt.xs.push(vt?ot[at]:-ot[at]),at++):vt?lt.xs.push(0):(lt.xs.push(st.readShort(ot,at)),at+=2)}for(lt.ys=[],ct=0;ct<ft;ct++)dt=(4&lt.flags[ct])!=0,vt=(32&lt.flags[ct])!=0,dt?(lt.ys.push(vt?ot[at]:-ot[at]),at++):vt?lt.ys.push(0):(lt.ys.push(st.readShort(ot,at)),at+=2);var xt=0,_t=0;for(ct=0;ct<ft;ct++)xt+=lt.xs[ct],_t+=lt.ys[ct],lt.xs[ct]=xt,lt.ys[ct]=_t}else{var bt;lt.parts=[];do{bt=st.readUshort(ot,at),at+=2;var At={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(lt.parts.push(At),At.glyphIndex=st.readUshort(ot,at),at+=2,1&bt){var Mt=st.readShort(ot,at);at+=2;var Tt=st.readShort(ot,at);at+=2}else Mt=st.readInt8(ot,at),at++,Tt=st.readInt8(ot,at),at++;2&bt?(At.m.tx=Mt,At.m.ty=Tt):(At.p1=Mt,At.p2=Tt),8&bt?(At.m.a=At.m.d=st.readF2dot14(ot,at),at+=2):64&bt?(At.m.a=st.readF2dot14(ot,at),at+=2,At.m.d=st.readF2dot14(ot,at),at+=2):128&bt&&(At.m.a=st.readF2dot14(ot,at),at+=2,At.m.b=st.readF2dot14(ot,at),at+=2,At.m.c=st.readF2dot14(ot,at),at+=2,At.m.d=st.readF2dot14(ot,at),at+=2)}while(32&bt);if(256&bt){var St=st.readUshort(ot,at);for(at+=2,lt.instr=[],ct=0;ct<St;ct++)lt.instr.push(ot[at]),at++}}return lt},_e.GPOS={},_e.GPOS.parse=function(rt,it,st,ot){return _e._lctf.parse(rt,it,st,ot,_e.GPOS.subt)},_e.GPOS.subt=function(rt,it,st,ot){var at=_e._bin,lt=st,ct={};if(ct.fmt=at.readUshort(rt,st),st+=2,it==1||it==2||it==3||it==7||it==8&&ct.fmt<=2){var ut=at.readUshort(rt,st);st+=2,ct.coverage=_e._lctf.readCoverage(rt,ut+lt)}if(it==1&&ct.fmt==1){var ft=at.readUshort(rt,st);st+=2;var ht=_e._lctf.numOfOnes(ft);ft!=0&&(ct.pos=_e.GPOS.readValueRecord(rt,st,ft))}else if(it==2&&ct.fmt>=1&&ct.fmt<=2){ft=at.readUshort(rt,st),st+=2;var pt=at.readUshort(rt,st);st+=2,ht=_e._lctf.numOfOnes(ft);var gt=_e._lctf.numOfOnes(pt);if(ct.fmt==1){ct.pairsets=[];var dt=at.readUshort(rt,st);st+=2;for(var vt=0;vt<dt;vt++){var xt=lt+at.readUshort(rt,st);st+=2;var _t=at.readUshort(rt,xt);xt+=2;for(var bt=[],At=0;At<_t;At++){var Mt=at.readUshort(rt,xt);xt+=2,ft!=0&&(It=_e.GPOS.readValueRecord(rt,xt,ft),xt+=2*ht),pt!=0&&(Ot=_e.GPOS.readValueRecord(rt,xt,pt),xt+=2*gt),bt.push({gid2:Mt,val1:It,val2:Ot})}ct.pairsets.push(bt)}}if(ct.fmt==2){var Tt=at.readUshort(rt,st);st+=2;var St=at.readUshort(rt,st);st+=2;var Ct=at.readUshort(rt,st);st+=2;var Et=at.readUshort(rt,st);for(st+=2,ct.classDef1=_e._lctf.readClassDef(rt,lt+Tt),ct.classDef2=_e._lctf.readClassDef(rt,lt+St),ct.matrix=[],vt=0;vt<Ct;vt++){var Rt=[];for(At=0;At<Et;At++){var It=null,Ot=null;ft!=0&&(It=_e.GPOS.readValueRecord(rt,st,ft),st+=2*ht),pt!=0&&(Ot=_e.GPOS.readValueRecord(rt,st,pt),st+=2*gt),Rt.push({val1:It,val2:Ot})}ct.matrix.push(Rt)}}}else{if(it==9&&ct.fmt==1){var kt=at.readUshort(rt,st);st+=2;var $t=at.readUint(rt,st);if(st+=4,ot.ltype==9)ot.ltype=kt;else if(ot.ltype!=kt)throw"invalid extension substitution";return _e.GPOS.subt(rt,ot.ltype,lt+$t)}console.debug("unsupported GPOS table LookupType",it,"format",ct.fmt)}return ct},_e.GPOS.readValueRecord=function(rt,it,st){var ot=_e._bin,at=[];return at.push(1&st?ot.readShort(rt,it):0),it+=1&st?2:0,at.push(2&st?ot.readShort(rt,it):0),it+=2&st?2:0,at.push(4&st?ot.readShort(rt,it):0),it+=4&st?2:0,at.push(8&st?ot.readShort(rt,it):0),it+=8&st?2:0,at},_e.GSUB={},_e.GSUB.parse=function(rt,it,st,ot){return _e._lctf.parse(rt,it,st,ot,_e.GSUB.subt)},_e.GSUB.subt=function(rt,it,st,ot){var at=_e._bin,lt=st,ct={};if(ct.fmt=at.readUshort(rt,st),st+=2,it!=1&&it!=4&&it!=5&&it!=6)return null;if(it==1||it==4||it==5&&ct.fmt<=2||it==6&&ct.fmt<=2){var ut=at.readUshort(rt,st);st+=2,ct.coverage=_e._lctf.readCoverage(rt,lt+ut)}if(it==1&&ct.fmt>=1&&ct.fmt<=2){if(ct.fmt==1)ct.delta=at.readShort(rt,st),st+=2;else if(ct.fmt==2){var ft=at.readUshort(rt,st);st+=2,ct.newg=at.readUshorts(rt,st,ft),st+=2*ct.newg.length}}else if(it==4){ct.vals=[],ft=at.readUshort(rt,st),st+=2;for(var ht=0;ht<ft;ht++){var pt=at.readUshort(rt,st);st+=2,ct.vals.push(_e.GSUB.readLigatureSet(rt,lt+pt))}}else if(it==5&&ct.fmt==2){if(ct.fmt==2){var gt=at.readUshort(rt,st);st+=2,ct.cDef=_e._lctf.readClassDef(rt,lt+gt),ct.scset=[];var dt=at.readUshort(rt,st);for(st+=2,ht=0;ht<dt;ht++){var vt=at.readUshort(rt,st);st+=2,ct.scset.push(vt==0?null:_e.GSUB.readSubClassSet(rt,lt+vt))}}}else if(it==6&&ct.fmt==3){if(ct.fmt==3){for(ht=0;ht<3;ht++){ft=at.readUshort(rt,st),st+=2;for(var xt=[],_t=0;_t<ft;_t++)xt.push(_e._lctf.readCoverage(rt,lt+at.readUshort(rt,st+2*_t)));st+=2*ft,ht==0&&(ct.backCvg=xt),ht==1&&(ct.inptCvg=xt),ht==2&&(ct.ahedCvg=xt)}ft=at.readUshort(rt,st),st+=2,ct.lookupRec=_e.GSUB.readSubstLookupRecords(rt,st,ft)}}else{if(it==7&&ct.fmt==1){var bt=at.readUshort(rt,st);st+=2;var At=at.readUint(rt,st);if(st+=4,ot.ltype==9)ot.ltype=bt;else if(ot.ltype!=bt)throw"invalid extension substitution";return _e.GSUB.subt(rt,ot.ltype,lt+At)}console.debug("unsupported GSUB table LookupType",it,"format",ct.fmt)}return ct},_e.GSUB.readSubClassSet=function(rt,it){var st=_e._bin.readUshort,ot=it,at=[],lt=st(rt,it);it+=2;for(var ct=0;ct<lt;ct++){var ut=st(rt,it);it+=2,at.push(_e.GSUB.readSubClassRule(rt,ot+ut))}return at},_e.GSUB.readSubClassRule=function(rt,it){var st=_e._bin.readUshort,ot={},at=st(rt,it),lt=st(rt,it+=2);it+=2,ot.input=[];for(var ct=0;ct<at-1;ct++)ot.input.push(st(rt,it)),it+=2;return ot.substLookupRecords=_e.GSUB.readSubstLookupRecords(rt,it,lt),ot},_e.GSUB.readSubstLookupRecords=function(rt,it,st){for(var ot=_e._bin.readUshort,at=[],lt=0;lt<st;lt++)at.push(ot(rt,it),ot(rt,it+2)),it+=4;return at},_e.GSUB.readChainSubClassSet=function(rt,it){var st=_e._bin,ot=it,at=[],lt=st.readUshort(rt,it);it+=2;for(var ct=0;ct<lt;ct++){var ut=st.readUshort(rt,it);it+=2,at.push(_e.GSUB.readChainSubClassRule(rt,ot+ut))}return at},_e.GSUB.readChainSubClassRule=function(rt,it){for(var st=_e._bin,ot={},at=["backtrack","input","lookahead"],lt=0;lt<at.length;lt++){var ct=st.readUshort(rt,it);it+=2,lt==1&&ct--,ot[at[lt]]=st.readUshorts(rt,it,ct),it+=2*ot[at[lt]].length}return ct=st.readUshort(rt,it),it+=2,ot.subst=st.readUshorts(rt,it,2*ct),it+=2*ot.subst.length,ot},_e.GSUB.readLigatureSet=function(rt,it){var st=_e._bin,ot=it,at=[],lt=st.readUshort(rt,it);it+=2;for(var ct=0;ct<lt;ct++){var ut=st.readUshort(rt,it);it+=2,at.push(_e.GSUB.readLigature(rt,ot+ut))}return at},_e.GSUB.readLigature=function(rt,it){var st=_e._bin,ot={chain:[]};ot.nglyph=st.readUshort(rt,it),it+=2;var at=st.readUshort(rt,it);it+=2;for(var lt=0;lt<at-1;lt++)ot.chain.push(st.readUshort(rt,it)),it+=2;return ot},_e.head={},_e.head.parse=function(rt,it,st){var ot=_e._bin,at={};return ot.readFixed(rt,it),it+=4,at.fontRevision=ot.readFixed(rt,it),it+=4,ot.readUint(rt,it),it+=4,ot.readUint(rt,it),it+=4,at.flags=ot.readUshort(rt,it),it+=2,at.unitsPerEm=ot.readUshort(rt,it),it+=2,at.created=ot.readUint64(rt,it),it+=8,at.modified=ot.readUint64(rt,it),it+=8,at.xMin=ot.readShort(rt,it),it+=2,at.yMin=ot.readShort(rt,it),it+=2,at.xMax=ot.readShort(rt,it),it+=2,at.yMax=ot.readShort(rt,it),it+=2,at.macStyle=ot.readUshort(rt,it),it+=2,at.lowestRecPPEM=ot.readUshort(rt,it),it+=2,at.fontDirectionHint=ot.readShort(rt,it),it+=2,at.indexToLocFormat=ot.readShort(rt,it),it+=2,at.glyphDataFormat=ot.readShort(rt,it),it+=2,at},_e.hhea={},_e.hhea.parse=function(rt,it,st){var ot=_e._bin,at={};return ot.readFixed(rt,it),it+=4,at.ascender=ot.readShort(rt,it),it+=2,at.descender=ot.readShort(rt,it),it+=2,at.lineGap=ot.readShort(rt,it),it+=2,at.advanceWidthMax=ot.readUshort(rt,it),it+=2,at.minLeftSideBearing=ot.readShort(rt,it),it+=2,at.minRightSideBearing=ot.readShort(rt,it),it+=2,at.xMaxExtent=ot.readShort(rt,it),it+=2,at.caretSlopeRise=ot.readShort(rt,it),it+=2,at.caretSlopeRun=ot.readShort(rt,it),it+=2,at.caretOffset=ot.readShort(rt,it),it+=2,it+=8,at.metricDataFormat=ot.readShort(rt,it),it+=2,at.numberOfHMetrics=ot.readUshort(rt,it),it+=2,at},_e.hmtx={},_e.hmtx.parse=function(rt,it,st,ot){for(var at=_e._bin,lt={aWidth:[],lsBearing:[]},ct=0,ut=0,ft=0;ft<ot.maxp.numGlyphs;ft++)ft<ot.hhea.numberOfHMetrics&&(ct=at.readUshort(rt,it),it+=2,ut=at.readShort(rt,it),it+=2),lt.aWidth.push(ct),lt.lsBearing.push(ut);return lt},_e.kern={},_e.kern.parse=function(rt,it,st,ot){var at=_e._bin,lt=at.readUshort(rt,it);if(it+=2,lt==1)return _e.kern.parseV1(rt,it-2,st,ot);var ct=at.readUshort(rt,it);it+=2;for(var ut={glyph1:[],rval:[]},ft=0;ft<ct;ft++){it+=2,st=at.readUshort(rt,it),it+=2;var ht=at.readUshort(rt,it);it+=2;var pt=ht>>>8;if((pt&=15)!=0)throw"unknown kern table format: "+pt;it=_e.kern.readFormat0(rt,it,ut)}return ut},_e.kern.parseV1=function(rt,it,st,ot){var at=_e._bin;at.readFixed(rt,it),it+=4;var lt=at.readUint(rt,it);it+=4;for(var ct={glyph1:[],rval:[]},ut=0;ut<lt;ut++){at.readUint(rt,it),it+=4;var ft=at.readUshort(rt,it);it+=2,at.readUshort(rt,it),it+=2;var ht=ft>>>8;if((ht&=15)!=0)throw"unknown kern table format: "+ht;it=_e.kern.readFormat0(rt,it,ct)}return ct},_e.kern.readFormat0=function(rt,it,st){var ot=_e._bin,at=-1,lt=ot.readUshort(rt,it);it+=2,ot.readUshort(rt,it),it+=2,ot.readUshort(rt,it),it+=2,ot.readUshort(rt,it),it+=2;for(var ct=0;ct<lt;ct++){var ut=ot.readUshort(rt,it);it+=2;var ft=ot.readUshort(rt,it);it+=2;var ht=ot.readShort(rt,it);it+=2,ut!=at&&(st.glyph1.push(ut),st.rval.push({glyph2:[],vals:[]}));var pt=st.rval[st.rval.length-1];pt.glyph2.push(ft),pt.vals.push(ht),at=ut}return it},_e.loca={},_e.loca.parse=function(rt,it,st,ot){var at=_e._bin,lt=[],ct=ot.head.indexToLocFormat,ut=ot.maxp.numGlyphs+1;if(ct==0)for(var ft=0;ft<ut;ft++)lt.push(at.readUshort(rt,it+(ft<<1))<<1);if(ct==1)for(ft=0;ft<ut;ft++)lt.push(at.readUint(rt,it+(ft<<2)));return lt},_e.maxp={},_e.maxp.parse=function(rt,it,st){var ot=_e._bin,at={},lt=ot.readUint(rt,it);return it+=4,at.numGlyphs=ot.readUshort(rt,it),it+=2,lt==65536&&(at.maxPoints=ot.readUshort(rt,it),it+=2,at.maxContours=ot.readUshort(rt,it),it+=2,at.maxCompositePoints=ot.readUshort(rt,it),it+=2,at.maxCompositeContours=ot.readUshort(rt,it),it+=2,at.maxZones=ot.readUshort(rt,it),it+=2,at.maxTwilightPoints=ot.readUshort(rt,it),it+=2,at.maxStorage=ot.readUshort(rt,it),it+=2,at.maxFunctionDefs=ot.readUshort(rt,it),it+=2,at.maxInstructionDefs=ot.readUshort(rt,it),it+=2,at.maxStackElements=ot.readUshort(rt,it),it+=2,at.maxSizeOfInstructions=ot.readUshort(rt,it),it+=2,at.maxComponentElements=ot.readUshort(rt,it),it+=2,at.maxComponentDepth=ot.readUshort(rt,it),it+=2),at},_e.name={},_e.name.parse=function(rt,it,st){var ot=_e._bin,at={};ot.readUshort(rt,it),it+=2;var lt=ot.readUshort(rt,it);it+=2,ot.readUshort(rt,it);for(var ct,ut=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],ft=it+=2,ht=0;ht<lt;ht++){var pt=ot.readUshort(rt,it);it+=2;var gt=ot.readUshort(rt,it);it+=2;var dt=ot.readUshort(rt,it);it+=2;var vt=ot.readUshort(rt,it);it+=2;var xt=ot.readUshort(rt,it);it+=2;var _t=ot.readUshort(rt,it);it+=2;var bt,At=ut[vt],Mt=ft+12*lt+_t;if(pt==0)bt=ot.readUnicode(rt,Mt,xt/2);else if(pt==3&&gt==0)bt=ot.readUnicode(rt,Mt,xt/2);else if(gt==0)bt=ot.readASCII(rt,Mt,xt);else if(gt==1)bt=ot.readUnicode(rt,Mt,xt/2);else if(gt==3)bt=ot.readUnicode(rt,Mt,xt/2);else{if(pt!=1)throw"unknown encoding "+gt+", platformID: "+pt;bt=ot.readASCII(rt,Mt,xt),console.debug("reading unknown MAC encoding "+gt+" as ASCII")}var Tt="p"+pt+","+dt.toString(16);at[Tt]==null&&(at[Tt]={}),at[Tt][At!==void 0?At:vt]=bt,at[Tt]._lang=dt}for(var St in at)if(at[St].postScriptName!=null&&at[St]._lang==1033)return at[St];for(var St in at)if(at[St].postScriptName!=null&&at[St]._lang==0)return at[St];for(var St in at)if(at[St].postScriptName!=null&&at[St]._lang==3084)return at[St];for(var St in at)if(at[St].postScriptName!=null)return at[St];for(var St in at){ct=St;break}return console.debug("returning name table with languageID "+at[ct]._lang),at[ct]},_e["OS/2"]={},_e["OS/2"].parse=function(rt,it,st){var ot=_e._bin.readUshort(rt,it);it+=2;var at={};if(ot==0)_e["OS/2"].version0(rt,it,at);else if(ot==1)_e["OS/2"].version1(rt,it,at);else if(ot==2||ot==3||ot==4)_e["OS/2"].version2(rt,it,at);else{if(ot!=5)throw"unknown OS/2 table version: "+ot;_e["OS/2"].version5(rt,it,at)}return at},_e["OS/2"].version0=function(rt,it,st){var ot=_e._bin;return st.xAvgCharWidth=ot.readShort(rt,it),it+=2,st.usWeightClass=ot.readUshort(rt,it),it+=2,st.usWidthClass=ot.readUshort(rt,it),it+=2,st.fsType=ot.readUshort(rt,it),it+=2,st.ySubscriptXSize=ot.readShort(rt,it),it+=2,st.ySubscriptYSize=ot.readShort(rt,it),it+=2,st.ySubscriptXOffset=ot.readShort(rt,it),it+=2,st.ySubscriptYOffset=ot.readShort(rt,it),it+=2,st.ySuperscriptXSize=ot.readShort(rt,it),it+=2,st.ySuperscriptYSize=ot.readShort(rt,it),it+=2,st.ySuperscriptXOffset=ot.readShort(rt,it),it+=2,st.ySuperscriptYOffset=ot.readShort(rt,it),it+=2,st.yStrikeoutSize=ot.readShort(rt,it),it+=2,st.yStrikeoutPosition=ot.readShort(rt,it),it+=2,st.sFamilyClass=ot.readShort(rt,it),it+=2,st.panose=ot.readBytes(rt,it,10),it+=10,st.ulUnicodeRange1=ot.readUint(rt,it),it+=4,st.ulUnicodeRange2=ot.readUint(rt,it),it+=4,st.ulUnicodeRange3=ot.readUint(rt,it),it+=4,st.ulUnicodeRange4=ot.readUint(rt,it),it+=4,st.achVendID=[ot.readInt8(rt,it),ot.readInt8(rt,it+1),ot.readInt8(rt,it+2),ot.readInt8(rt,it+3)],it+=4,st.fsSelection=ot.readUshort(rt,it),it+=2,st.usFirstCharIndex=ot.readUshort(rt,it),it+=2,st.usLastCharIndex=ot.readUshort(rt,it),it+=2,st.sTypoAscender=ot.readShort(rt,it),it+=2,st.sTypoDescender=ot.readShort(rt,it),it+=2,st.sTypoLineGap=ot.readShort(rt,it),it+=2,st.usWinAscent=ot.readUshort(rt,it),it+=2,st.usWinDescent=ot.readUshort(rt,it),it+=2},_e["OS/2"].version1=function(rt,it,st){var ot=_e._bin;return it=_e["OS/2"].version0(rt,it,st),st.ulCodePageRange1=ot.readUint(rt,it),it+=4,st.ulCodePageRange2=ot.readUint(rt,it),it+=4},_e["OS/2"].version2=function(rt,it,st){var ot=_e._bin;return it=_e["OS/2"].version1(rt,it,st),st.sxHeight=ot.readShort(rt,it),it+=2,st.sCapHeight=ot.readShort(rt,it),it+=2,st.usDefault=ot.readUshort(rt,it),it+=2,st.usBreak=ot.readUshort(rt,it),it+=2,st.usMaxContext=ot.readUshort(rt,it),it+=2},_e["OS/2"].version5=function(rt,it,st){var ot=_e._bin;return it=_e["OS/2"].version2(rt,it,st),st.usLowerOpticalPointSize=ot.readUshort(rt,it),it+=2,st.usUpperOpticalPointSize=ot.readUshort(rt,it),it+=2},_e.post={},_e.post.parse=function(rt,it,st){var ot=_e._bin,at={};return at.version=ot.readFixed(rt,it),it+=4,at.italicAngle=ot.readFixed(rt,it),it+=4,at.underlinePosition=ot.readShort(rt,it),it+=2,at.underlineThickness=ot.readShort(rt,it),it+=2,at},_e==null&&(_e={}),_e.U==null&&(_e.U={}),_e.U.codeToGlyph=function(rt,it){var st=rt.cmap,ot=-1;if(st.p0e4!=null?ot=st.p0e4:st.p3e1!=null?ot=st.p3e1:st.p1e0!=null?ot=st.p1e0:st.p0e3!=null&&(ot=st.p0e3),ot==-1)throw"no familiar platform and encoding!";var at=st.tables[ot];if(at.format==0)return it>=at.map.length?0:at.map[it];if(at.format==4){for(var lt=-1,ct=0;ct<at.endCount.length;ct++)if(it<=at.endCount[ct]){lt=ct;break}return lt==-1||at.startCount[lt]>it?0:65535&(at.idRangeOffset[lt]!=0?at.glyphIdArray[it-at.startCount[lt]+(at.idRangeOffset[lt]>>1)-(at.idRangeOffset.length-lt)]:it+at.idDelta[lt])}if(at.format==12){if(it>at.groups[at.groups.length-1][1])return 0;for(ct=0;ct<at.groups.length;ct++){var ut=at.groups[ct];if(ut[0]<=it&&it<=ut[1])return ut[2]+(it-ut[0])}return 0}throw"unknown cmap table format "+at.format},_e.U.glyphToPath=function(rt,it){var st={cmds:[],crds:[]};if(rt.SVG&&rt.SVG.entries[it]){var ot=rt.SVG.entries[it];return ot==null?st:(typeof ot=="string"&&(ot=_e.SVG.toPath(ot),rt.SVG.entries[it]=ot),ot)}if(rt.CFF){var at={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:rt.CFF.Private?rt.CFF.Private.defaultWidthX:0,open:!1},lt=rt.CFF,ct=rt.CFF.Private;if(lt.ROS){for(var ut=0;lt.FDSelect[ut+2]<=it;)ut+=2;ct=lt.FDArray[lt.FDSelect[ut+1]].Private}_e.U._drawCFF(rt.CFF.CharStrings[it],at,lt,ct,st)}else rt.glyf&&_e.U._drawGlyf(it,rt,st);return st},_e.U._drawGlyf=function(rt,it,st){var ot=it.glyf[rt];ot==null&&(ot=it.glyf[rt]=_e.glyf._parseGlyf(it,rt)),ot!=null&&(ot.noc>-1?_e.U._simpleGlyph(ot,st):_e.U._compoGlyph(ot,it,st))},_e.U._simpleGlyph=function(rt,it){for(var st=0;st<rt.noc;st++){for(var ot=st==0?0:rt.endPts[st-1]+1,at=rt.endPts[st],lt=ot;lt<=at;lt++){var ct=lt==ot?at:lt-1,ut=lt==at?ot:lt+1,ft=1&rt.flags[lt],ht=1&rt.flags[ct],pt=1&rt.flags[ut],gt=rt.xs[lt],dt=rt.ys[lt];if(lt==ot)if(ft){if(!ht){_e.U.P.moveTo(it,gt,dt);continue}_e.U.P.moveTo(it,rt.xs[ct],rt.ys[ct])}else ht?_e.U.P.moveTo(it,rt.xs[ct],rt.ys[ct]):_e.U.P.moveTo(it,(rt.xs[ct]+gt)/2,(rt.ys[ct]+dt)/2);ft?ht&&_e.U.P.lineTo(it,gt,dt):pt?_e.U.P.qcurveTo(it,gt,dt,rt.xs[ut],rt.ys[ut]):_e.U.P.qcurveTo(it,gt,dt,(gt+rt.xs[ut])/2,(dt+rt.ys[ut])/2)}_e.U.P.closePath(it)}},_e.U._compoGlyph=function(rt,it,st){for(var ot=0;ot<rt.parts.length;ot++){var at={cmds:[],crds:[]},lt=rt.parts[ot];_e.U._drawGlyf(lt.glyphIndex,it,at);for(var ct=lt.m,ut=0;ut<at.crds.length;ut+=2){var ft=at.crds[ut],ht=at.crds[ut+1];st.crds.push(ft*ct.a+ht*ct.b+ct.tx),st.crds.push(ft*ct.c+ht*ct.d+ct.ty)}for(ut=0;ut<at.cmds.length;ut++)st.cmds.push(at.cmds[ut])}},_e.U._getGlyphClass=function(rt,it){var st=_e._lctf.getInterval(it,rt);return st==-1?0:it[st+2]},_e.U.getPairAdjustment=function(rt,it,st){var ot=0,at=!1;if(rt.GPOS)for(var lt=rt.GPOS,ct=lt.lookupList,ut=lt.featureList,ft=[],ht=0;ht<ut.length;ht++){var pt=ut[ht];if(pt.tag=="kern"){at=!0;for(var gt=0;gt<pt.tab.length;gt++)if(!ft[pt.tab[gt]]){ft[pt.tab[gt]]=!0;for(var dt=ct[pt.tab[gt]],vt=0;vt<dt.tabs.length;vt++)if(dt.tabs[vt]!=null){var xt,_t=dt.tabs[vt];if((!_t.coverage||(xt=_e._lctf.coverageIndex(_t.coverage,it))!=-1)&&dt.ltype!=1){if(dt.ltype==2){var bt;if(_t.fmt==1){var At=_t.pairsets[xt];for(ht=0;ht<At.length;ht++)At[ht].gid2==st&&(bt=At[ht])}else if(_t.fmt==2){var Mt=_e.U._getGlyphClass(it,_t.classDef1),Tt=_e.U._getGlyphClass(st,_t.classDef2);bt=_t.matrix[Mt][Tt]}bt&&bt.val1&&bt.val1[2]&&(ot+=bt.val1[2]),bt&&bt.val2&&bt.val2[0]&&(ot+=bt.val2[0])}}}}}}if(rt.kern&&!at){var St=rt.kern.glyph1.indexOf(it);if(St!=-1){var Ct=rt.kern.rval[St].glyph2.indexOf(st);Ct!=-1&&(ot+=rt.kern.rval[St].vals[Ct])}}return ot},_e.U._applySubs=function(rt,it,st,ot){for(var at=rt.length-it-1,lt=0;lt<st.tabs.length;lt++)if(st.tabs[lt]!=null){var ct,ut=st.tabs[lt];if(!ut.coverage||(ct=_e._lctf.coverageIndex(ut.coverage,rt[it]))!=-1){if(st.ltype==1)rt[it],ut.fmt==1?rt[it]=rt[it]+ut.delta:rt[it]=ut.newg[ct];else if(st.ltype==4)for(var ft=ut.vals[ct],ht=0;ht<ft.length;ht++){var pt=ft[ht],gt=pt.chain.length;if(!(gt>at)){for(var dt=!0,vt=0,xt=0;xt<gt;xt++){for(;rt[it+vt+(1+xt)]==-1;)vt++;pt.chain[xt]!=rt[it+vt+(1+xt)]&&(dt=!1)}if(dt){for(rt[it]=pt.nglyph,xt=0;xt<gt+vt;xt++)rt[it+xt+1]=-1;break}}}else if(st.ltype==5&&ut.fmt==2)for(var _t=_e._lctf.getInterval(ut.cDef,rt[it]),bt=ut.cDef[_t+2],At=ut.scset[bt],Mt=0;Mt<At.length;Mt++){var Tt=At[Mt],St=Tt.input;if(!(St.length>at)){for(dt=!0,xt=0;xt<St.length;xt++){var Ct=_e._lctf.getInterval(ut.cDef,rt[it+1+xt]);if(_t==-1&&ut.cDef[Ct+2]!=St[xt]){dt=!1;break}}if(dt){var Et=Tt.substLookupRecords;for(ht=0;ht<Et.length;ht+=2)Et[ht],Et[ht+1]}}}else if(st.ltype==6&&ut.fmt==3){if(!_e.U._glsCovered(rt,ut.backCvg,it-ut.backCvg.length)||!_e.U._glsCovered(rt,ut.inptCvg,it)||!_e.U._glsCovered(rt,ut.ahedCvg,it+ut.inptCvg.length))continue;var Rt=ut.lookupRec;for(Mt=0;Mt<Rt.length;Mt+=2){_t=Rt[Mt];var It=ot[Rt[Mt+1]];_e.U._applySubs(rt,it+_t,It,ot)}}}}},_e.U._glsCovered=function(rt,it,st){for(var ot=0;ot<it.length;ot++)if(_e._lctf.coverageIndex(it[ot],rt[st+ot])==-1)return!1;return!0},_e.U.glyphsToPath=function(rt,it,st){for(var ot={cmds:[],crds:[]},at=0,lt=0;lt<it.length;lt++){var ct=it[lt];if(ct!=-1){for(var ut=lt<it.length-1&&it[lt+1]!=-1?it[lt+1]:0,ft=_e.U.glyphToPath(rt,ct),ht=0;ht<ft.crds.length;ht+=2)ot.crds.push(ft.crds[ht]+at),ot.crds.push(ft.crds[ht+1]);for(st&&ot.cmds.push(st),ht=0;ht<ft.cmds.length;ht++)ot.cmds.push(ft.cmds[ht]);st&&ot.cmds.push("X"),at+=rt.hmtx.aWidth[ct],lt<it.length-1&&(at+=_e.U.getPairAdjustment(rt,ct,ut))}}return ot},_e.U.P={},_e.U.P.moveTo=function(rt,it,st){rt.cmds.push("M"),rt.crds.push(it,st)},_e.U.P.lineTo=function(rt,it,st){rt.cmds.push("L"),rt.crds.push(it,st)},_e.U.P.curveTo=function(rt,it,st,ot,at,lt,ct){rt.cmds.push("C"),rt.crds.push(it,st,ot,at,lt,ct)},_e.U.P.qcurveTo=function(rt,it,st,ot,at){rt.cmds.push("Q"),rt.crds.push(it,st,ot,at)},_e.U.P.closePath=function(rt){rt.cmds.push("Z")},_e.U._drawCFF=function(rt,it,st,ot,at){for(var lt=it.stack,ct=it.nStems,ut=it.haveWidth,ft=it.width,ht=it.open,pt=0,gt=it.x,dt=it.y,vt=0,xt=0,_t=0,bt=0,At=0,Mt=0,Tt=0,St=0,Ct=0,Et=0,Rt={val:0,size:0};pt<rt.length;){_e.CFF.getCharString(rt,pt,Rt);var It=Rt.val;if(pt+=Rt.size,It=="o1"||It=="o18")lt.length%2!=0&&!ut&&(ft=lt.shift()+ot.nominalWidthX),ct+=lt.length>>1,lt.length=0,ut=!0;else if(It=="o3"||It=="o23")lt.length%2!=0&&!ut&&(ft=lt.shift()+ot.nominalWidthX),ct+=lt.length>>1,lt.length=0,ut=!0;else if(It=="o4")lt.length>1&&!ut&&(ft=lt.shift()+ot.nominalWidthX,ut=!0),ht&&_e.U.P.closePath(at),dt+=lt.pop(),_e.U.P.moveTo(at,gt,dt),ht=!0;else if(It=="o5")for(;lt.length>0;)gt+=lt.shift(),dt+=lt.shift(),_e.U.P.lineTo(at,gt,dt);else if(It=="o6"||It=="o7")for(var Ot=lt.length,kt=It=="o6",$t=0;$t<Ot;$t++){var jt=lt.shift();kt?gt+=jt:dt+=jt,kt=!kt,_e.U.P.lineTo(at,gt,dt)}else if(It=="o8"||It=="o24"){Ot=lt.length;for(var Ht=0;Ht+6<=Ot;)vt=gt+lt.shift(),xt=dt+lt.shift(),_t=vt+lt.shift(),bt=xt+lt.shift(),gt=_t+lt.shift(),dt=bt+lt.shift(),_e.U.P.curveTo(at,vt,xt,_t,bt,gt,dt),Ht+=6;It=="o24"&&(gt+=lt.shift(),dt+=lt.shift(),_e.U.P.lineTo(at,gt,dt))}else{if(It=="o11")break;if(It=="o1234"||It=="o1235"||It=="o1236"||It=="o1237")It=="o1234"&&(xt=dt,_t=(vt=gt+lt.shift())+lt.shift(),Et=bt=xt+lt.shift(),Mt=bt,St=dt,gt=(Tt=(At=(Ct=_t+lt.shift())+lt.shift())+lt.shift())+lt.shift(),_e.U.P.curveTo(at,vt,xt,_t,bt,Ct,Et),_e.U.P.curveTo(at,At,Mt,Tt,St,gt,dt)),It=="o1235"&&(vt=gt+lt.shift(),xt=dt+lt.shift(),_t=vt+lt.shift(),bt=xt+lt.shift(),Ct=_t+lt.shift(),Et=bt+lt.shift(),At=Ct+lt.shift(),Mt=Et+lt.shift(),Tt=At+lt.shift(),St=Mt+lt.shift(),gt=Tt+lt.shift(),dt=St+lt.shift(),lt.shift(),_e.U.P.curveTo(at,vt,xt,_t,bt,Ct,Et),_e.U.P.curveTo(at,At,Mt,Tt,St,gt,dt)),It=="o1236"&&(vt=gt+lt.shift(),xt=dt+lt.shift(),_t=vt+lt.shift(),Et=bt=xt+lt.shift(),Mt=bt,Tt=(At=(Ct=_t+lt.shift())+lt.shift())+lt.shift(),St=Mt+lt.shift(),gt=Tt+lt.shift(),_e.U.P.curveTo(at,vt,xt,_t,bt,Ct,Et),_e.U.P.curveTo(at,At,Mt,Tt,St,gt,dt)),It=="o1237"&&(vt=gt+lt.shift(),xt=dt+lt.shift(),_t=vt+lt.shift(),bt=xt+lt.shift(),Ct=_t+lt.shift(),Et=bt+lt.shift(),At=Ct+lt.shift(),Mt=Et+lt.shift(),Tt=At+lt.shift(),St=Mt+lt.shift(),Math.abs(Tt-gt)>Math.abs(St-dt)?gt=Tt+lt.shift():dt=St+lt.shift(),_e.U.P.curveTo(at,vt,xt,_t,bt,Ct,Et),_e.U.P.curveTo(at,At,Mt,Tt,St,gt,dt));else if(It=="o14"){if(lt.length>0&&!ut&&(ft=lt.shift()+st.nominalWidthX,ut=!0),lt.length==4){var Bt=lt.shift(),Lt=lt.shift(),Ft=lt.shift(),Vt=lt.shift(),Yt=_e.CFF.glyphBySE(st,Ft),rn=_e.CFF.glyphBySE(st,Vt);_e.U._drawCFF(st.CharStrings[Yt],it,st,ot,at),it.x=Bt,it.y=Lt,_e.U._drawCFF(st.CharStrings[rn],it,st,ot,at)}ht&&(_e.U.P.closePath(at),ht=!1)}else if(It=="o19"||It=="o20")lt.length%2!=0&&!ut&&(ft=lt.shift()+ot.nominalWidthX),ct+=lt.length>>1,lt.length=0,ut=!0,pt+=ct+7>>3;else if(It=="o21")lt.length>2&&!ut&&(ft=lt.shift()+ot.nominalWidthX,ut=!0),dt+=lt.pop(),gt+=lt.pop(),ht&&_e.U.P.closePath(at),_e.U.P.moveTo(at,gt,dt),ht=!0;else if(It=="o22")lt.length>1&&!ut&&(ft=lt.shift()+ot.nominalWidthX,ut=!0),gt+=lt.pop(),ht&&_e.U.P.closePath(at),_e.U.P.moveTo(at,gt,dt),ht=!0;else if(It=="o25"){for(;lt.length>6;)gt+=lt.shift(),dt+=lt.shift(),_e.U.P.lineTo(at,gt,dt);vt=gt+lt.shift(),xt=dt+lt.shift(),_t=vt+lt.shift(),bt=xt+lt.shift(),gt=_t+lt.shift(),dt=bt+lt.shift(),_e.U.P.curveTo(at,vt,xt,_t,bt,gt,dt)}else if(It=="o26")for(lt.length%2&&(gt+=lt.shift());lt.length>0;)vt=gt,xt=dt+lt.shift(),gt=_t=vt+lt.shift(),dt=(bt=xt+lt.shift())+lt.shift(),_e.U.P.curveTo(at,vt,xt,_t,bt,gt,dt);else if(It=="o27")for(lt.length%2&&(dt+=lt.shift());lt.length>0;)xt=dt,_t=(vt=gt+lt.shift())+lt.shift(),bt=xt+lt.shift(),gt=_t+lt.shift(),dt=bt,_e.U.P.curveTo(at,vt,xt,_t,bt,gt,dt);else if(It=="o10"||It=="o29"){var sn=It=="o10"?ot:st;if(lt.length==0)console.debug("error: empty stack");else{var cn=lt.pop(),Zt=sn.Subrs[cn+sn.Bias];it.x=gt,it.y=dt,it.nStems=ct,it.haveWidth=ut,it.width=ft,it.open=ht,_e.U._drawCFF(Zt,it,st,ot,at),gt=it.x,dt=it.y,ct=it.nStems,ut=it.haveWidth,ft=it.width,ht=it.open}}else if(It=="o30"||It=="o31"){var an=lt.length,Qt=(Ht=0,It=="o31");for(Ht+=an-(Ot=-3&an);Ht<Ot;)Qt?(xt=dt,_t=(vt=gt+lt.shift())+lt.shift(),dt=(bt=xt+lt.shift())+lt.shift(),Ot-Ht==5?(gt=_t+lt.shift(),Ht++):gt=_t,Qt=!1):(vt=gt,xt=dt+lt.shift(),_t=vt+lt.shift(),bt=xt+lt.shift(),gt=_t+lt.shift(),Ot-Ht==5?(dt=bt+lt.shift(),Ht++):dt=bt,Qt=!0),_e.U.P.curveTo(at,vt,xt,_t,bt,gt,dt),Ht+=4}else{if((It+"").charAt(0)=="o")throw console.debug("Unknown operation: "+It,rt),It;lt.push(It)}}}it.x=gt,it.y=dt,it.nStems=ct,it.haveWidth=ut,it.width=ft,it.open=ht};var tt=_e,nt={Typr:tt};return et.Typr=tt,et.default=nt,Object.defineProperty(et,"__esModule",{value:!0}),et}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(et){var _e=Uint8Array,tt=Uint16Array,nt=Uint32Array,rt=new _e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),it=new _e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),st=new _e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ot=function(It,Ot){for(var kt=new tt(31),$t=0;$t<31;++$t)kt[$t]=Ot+=1<<It[$t-1];var jt=new nt(kt[30]);for($t=1;$t<30;++$t)for(var Ht=kt[$t];Ht<kt[$t+1];++Ht)jt[Ht]=Ht-kt[$t]<<5|$t;return[kt,jt]},at=ot(rt,2),lt=at[0],ct=at[1];lt[28]=258,ct[258]=28;for(var ut=ot(it,0)[0],ft=new tt(32768),ht=0;ht<32768;++ht){var pt=(43690&ht)>>>1|(21845&ht)<<1;pt=(61680&(pt=(52428&pt)>>>2|(13107&pt)<<2))>>>4|(3855&pt)<<4,ft[ht]=((65280&pt)>>>8|(255&pt)<<8)>>>1}var gt=function(It,Ot,kt){for(var $t=It.length,jt=0,Ht=new tt(Ot);jt<$t;++jt)++Ht[It[jt]-1];var Bt,Lt=new tt(Ot);for(jt=0;jt<Ot;++jt)Lt[jt]=Lt[jt-1]+Ht[jt-1]<<1;if(kt){Bt=new tt(1<<Ot);var Ft=15-Ot;for(jt=0;jt<$t;++jt)if(It[jt])for(var Vt=jt<<4|It[jt],Yt=Ot-It[jt],rn=Lt[It[jt]-1]++<<Yt,sn=rn|(1<<Yt)-1;rn<=sn;++rn)Bt[ft[rn]>>>Ft]=Vt}else for(Bt=new tt($t),jt=0;jt<$t;++jt)It[jt]&&(Bt[jt]=ft[Lt[It[jt]-1]++]>>>15-It[jt]);return Bt},dt=new _e(288);for(ht=0;ht<144;++ht)dt[ht]=8;for(ht=144;ht<256;++ht)dt[ht]=9;for(ht=256;ht<280;++ht)dt[ht]=7;for(ht=280;ht<288;++ht)dt[ht]=8;var vt=new _e(32);for(ht=0;ht<32;++ht)vt[ht]=5;var xt=gt(dt,9,1),_t=gt(vt,5,1),bt=function(It){for(var Ot=It[0],kt=1;kt<It.length;++kt)It[kt]>Ot&&(Ot=It[kt]);return Ot},At=function(It,Ot,kt){var $t=Ot/8|0;return(It[$t]|It[$t+1]<<8)>>(7&Ot)&kt},Mt=function(It,Ot){var kt=Ot/8|0;return(It[kt]|It[kt+1]<<8|It[kt+2]<<16)>>(7&Ot)},Tt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],St=function(It,Ot,kt){var $t=new Error(Ot||Tt[It]);if($t.code=It,Error.captureStackTrace&&Error.captureStackTrace($t,St),!kt)throw $t;return $t},Ct=function(It,Ot,kt){var $t=It.length;if(!$t||kt&&!kt.l&&$t<5)return Ot||new _e(0);var jt=!Ot||kt,Ht=!kt||kt.i;kt||(kt={}),Ot||(Ot=new _e(3*$t));var Bt,Lt=function(In){var Hn=Ot.length;if(In>Hn){var ln=new _e(Math.max(2*Hn,In));ln.set(Ot),Ot=ln}},Ft=kt.f||0,Vt=kt.p||0,Yt=kt.b||0,rn=kt.l,sn=kt.d,cn=kt.m,Zt=kt.n,an=8*$t;do{if(!rn){kt.f=Ft=At(It,Vt,1);var Qt=At(It,Vt+1,3);if(Vt+=3,!Qt){var Ut=It[(vn=((Bt=Vt)/8|0)+(7&Bt&&1)+4)-4]|It[vn-3]<<8,Gt=vn+Ut;if(Gt>$t){Ht&&St(0);break}jt&&Lt(Yt+Ut),Ot.set(It.subarray(vn,Gt),Yt),kt.b=Yt+=Ut,kt.p=Vt=8*Gt;continue}if(Qt==1)rn=xt,sn=_t,cn=9,Zt=5;else if(Qt==2){var Wt=At(It,Vt,31)+257,Jt=At(It,Vt+10,15)+4,Kt=Wt+At(It,Vt+5,31)+1;Vt+=14;for(var nn=new _e(Kt),fn=new _e(19),hn=0;hn<Jt;++hn)fn[st[hn]]=At(It,Vt+3*hn,7);Vt+=3*Jt;var bn=bt(fn),un=(1<<bn)-1,gn=gt(fn,bn,1);for(hn=0;hn<Kt;){var vn,on=gn[At(It,Vt,un)];if(Vt+=15&on,(vn=on>>>4)<16)nn[hn++]=vn;else{var Xt=0,zt=0;for(vn==16?(zt=3+At(It,Vt,3),Vt+=2,Xt=nn[hn-1]):vn==17?(zt=3+At(It,Vt,7),Vt+=3):vn==18&&(zt=11+At(It,Vt,127),Vt+=7);zt--;)nn[hn++]=Xt}}var tn=nn.subarray(0,Wt),pn=nn.subarray(Wt);cn=bt(tn),Zt=bt(pn),rn=gt(tn,cn,1),sn=gt(pn,Zt,1)}else St(1);if(Vt>an){Ht&&St(0);break}}jt&&Lt(Yt+131072);for(var Sn=(1<<cn)-1,Pn=(1<<Zt)-1,Rn=Vt;;Rn=Vt){var Tn=(Xt=rn[Mt(It,Vt)&Sn])>>>4;if((Vt+=15&Xt)>an){Ht&&St(0);break}if(Xt||St(2),Tn<256)Ot[Yt++]=Tn;else{if(Tn==256){Rn=Vt,rn=null;break}var wn=Tn-254;if(Tn>264){var kn=rt[hn=Tn-257];wn=At(It,Vt,(1<<kn)-1)+lt[hn],Vt+=kn}var Gn=sn[Mt(It,Vt)&Pn],Fn=Gn>>>4;if(Gn||St(3),Vt+=15&Gn,pn=ut[Fn],Fn>3&&(kn=it[Fn],pn+=Mt(It,Vt)&(1<<kn)-1,Vt+=kn),Vt>an){Ht&&St(0);break}jt&&Lt(Yt+131072);for(var Dn=Yt+wn;Yt<Dn;Yt+=4)Ot[Yt]=Ot[Yt-pn],Ot[Yt+1]=Ot[Yt+1-pn],Ot[Yt+2]=Ot[Yt+2-pn],Ot[Yt+3]=Ot[Yt+3-pn];Yt=Dn}}kt.l=rn,kt.p=Rn,kt.b=Yt,rn&&(Ft=1,kt.m=cn,kt.d=sn,kt.n=Zt)}while(!Ft);return Yt==Ot.length?Ot:function(In,Hn,ln){(Hn==null||Hn<0)&&(Hn=0),(ln==null||ln>In.length)&&(ln=In.length);var Un=new(In instanceof tt?tt:In instanceof nt?nt:_e)(ln-Hn);return Un.set(In.subarray(Hn,ln)),Un}(Ot,0,Yt)},Et=new _e(0),Rt=typeof TextDecoder<"u"&&new TextDecoder;try{Rt.decode(Et,{stream:!0})}catch{}return et.convert_streams=function(It){var Ot=new DataView(It),kt=0;function $t(){var Wt=Ot.getUint16(kt);return kt+=2,Wt}function jt(){var Wt=Ot.getUint32(kt);return kt+=4,Wt}function Ht(Wt){Ut.setUint16(Gt,Wt),Gt+=2}function Bt(Wt){Ut.setUint32(Gt,Wt),Gt+=4}for(var Lt={signature:jt(),flavor:jt(),length:jt(),numTables:$t(),reserved:$t(),totalSfntSize:jt(),majorVersion:$t(),minorVersion:$t(),metaOffset:jt(),metaLength:jt(),metaOrigLength:jt(),privOffset:jt(),privLength:jt()},Ft=0;Math.pow(2,Ft)<=Lt.numTables;)Ft++;Ft--;for(var Vt=16*Math.pow(2,Ft),Yt=16*Lt.numTables-Vt,rn=12,sn=[],cn=0;cn<Lt.numTables;cn++)sn.push({tag:jt(),offset:jt(),compLength:jt(),origLength:jt(),origChecksum:jt()}),rn+=16;var Zt,an=new Uint8Array(12+16*sn.length+sn.reduce(function(Wt,Jt){return Wt+Jt.origLength+4},0)),Qt=an.buffer,Ut=new DataView(Qt),Gt=0;return Bt(Lt.flavor),Ht(Lt.numTables),Ht(Vt),Ht(Ft),Ht(Yt),sn.forEach(function(Wt){Bt(Wt.tag),Bt(Wt.origChecksum),Bt(rn),Bt(Wt.origLength),Wt.outOffset=rn,(rn+=Wt.origLength)%4!=0&&(rn+=4-rn%4)}),sn.forEach(function(Wt){var Jt,Kt=It.slice(Wt.offset,Wt.offset+Wt.compLength);if(Wt.compLength!=Wt.origLength){var nn=new Uint8Array(Wt.origLength);Jt=new Uint8Array(Kt,2),Ct(Jt,nn)}else nn=new Uint8Array(Kt);an.set(nn,Wt.outOffset);var fn=0;(rn=Wt.outOffset+Wt.origLength)%4!=0&&(fn=4-rn%4),an.set(new Uint8Array(fn).buffer,Wt.outOffset+Wt.origLength),Zt=rn+fn}),Qt.slice(0,Zt)},Object.defineProperty(et,"__esModule",{value:!0}),et}({}).convert_streams}function parserFactory(et,_e){const tt={M:2,L:2,Q:4,C:6,Z:0},nt={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},rt=1,it=2,st=4,ot=8,at=16,lt=32;let ct;function ut(bt){if(!ct){const At={R:it,L:rt,D:st,C:at,U:lt,T:ot};ct=new Map;for(let Mt in nt){let Tt=0;nt[Mt].split(",").forEach(St=>{let[Ct,Et]=St.split("+");Ct=parseInt(Ct,36),Et=Et?parseInt(Et,36):0,ct.set(Tt+=Ct,At[Mt]);for(let Rt=Et;Rt--;)ct.set(++Tt,At[Mt])})}}return ct.get(bt)||lt}const ft=1,ht=2,pt=3,gt=4,dt=[null,"isol","init","fina","medi"];function vt(bt){const At=new Uint8Array(bt.length);let Mt=lt,Tt=ft,St=-1;for(let Ct=0;Ct<bt.length;Ct++){const Et=bt.codePointAt(Ct);let Rt=ut(Et)|0,It=ft;Rt&ot||(Mt&(rt|st|at)?Rt&(it|st|at)?(It=pt,(Tt===ft||Tt===pt)&&At[St]++):Rt&(rt|lt)&&(Tt===ht||Tt===gt)&&At[St]--:Mt&(it|lt)&&(Tt===ht||Tt===gt)&&At[St]--,Tt=At[Ct]=It,Mt=Rt,St=Ct,Et>65535&&Ct++)}return At}function xt(bt,At){const Mt=[];for(let St=0;St<At.length;St++){const Ct=At.codePointAt(St);Ct>65535&&St++,Mt.push(et.U.codeToGlyph(bt,Ct))}const Tt=bt.GSUB;if(Tt){const{lookupList:St,featureList:Ct}=Tt;let Et;const Rt=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,It=[];Ct.forEach(Ot=>{if(Rt.test(Ot.tag))for(let kt=0;kt<Ot.tab.length;kt++){if(It[Ot.tab[kt]])continue;It[Ot.tab[kt]]=!0;const $t=St[Ot.tab[kt]],jt=/^(isol|init|fina|medi)$/.test(Ot.tag);jt&&!Et&&(Et=vt(At));for(let Ht=0;Ht<Mt.length;Ht++)(!Et||!jt||dt[Et[Ht]]===Ot.tag)&&et.U._applySubs(Mt,Ht,$t,St)}})}return Mt}function _t(bt){const At=Object.create(null),Mt={unitsPerEm:bt.head.unitsPerEm,ascender:bt.hhea.ascender,descender:bt.hhea.descender,forEachGlyph(Tt,St,Ct,Et){let Rt=0;const It=1/Mt.unitsPerEm*St,Ot=xt(bt,Tt);let kt=0,$t=-1;return Ot.forEach((jt,Ht)=>{if(jt!==-1){let Bt=At[jt];if(!Bt){const{cmds:Lt,crds:Ft}=et.U.glyphToPath(bt,jt);let Vt="",Yt=0;for(let an=0,Qt=Lt.length;an<Qt;an++){const Ut=tt[Lt[an]];Vt+=Lt[an];for(let Gt=1;Gt<=Ut;Gt++)Vt+=(Gt>1?",":"")+Ft[Yt++]}let rn,sn,cn,Zt;if(Ft.length){rn=sn=1/0,cn=Zt=-1/0;for(let an=0,Qt=Ft.length;an<Qt;an+=2){let Ut=Ft[an],Gt=Ft[an+1];Ut<rn&&(rn=Ut),Gt<sn&&(sn=Gt),Ut>cn&&(cn=Ut),Gt>Zt&&(Zt=Gt)}}else rn=cn=sn=Zt=0;Bt=At[jt]={index:jt,advanceWidth:bt.hmtx.aWidth[jt],xMin:rn,yMin:sn,xMax:cn,yMax:Zt,path:Vt,pathCommandCount:Lt.length}}$t!==-1&&(Rt+=et.U.getPairAdjustment(bt,$t,jt)*It),Et.call(null,Bt,Rt,kt),Bt.advanceWidth&&(Rt+=Bt.advanceWidth*It),Ct&&(Rt+=Ct*St),$t=jt}kt+=Tt.codePointAt(kt)>65535?2:1}),Rt}};return Mt}return function(At){const Mt=new Uint8Array(At,0,4),Tt=et._bin.readASCII(Mt,0,4);if(Tt==="wOFF")At=_e(At);else if(Tt==="wOF2")throw new Error("woff2 fonts not supported");return _t(et.parse(At)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(et,_e,tt){const nt=et(),rt=_e();return tt(nt,rt)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color$2;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(et,_e){et=assign$2({},et);const tt=now$1();if(et.font=toAbsoluteURL(et.font||CONFIG.defaultFontURL),et.text=""+et.text,et.sdfGlyphSize=et.sdfGlyphSize||CONFIG.sdfGlyphSize,et.colorRanges!=null){let ut={};for(let ft in et.colorRanges)if(et.colorRanges.hasOwnProperty(ft)){let ht=et.colorRanges[ft];typeof ht!="number"&&(ht=tempColor.set(ht).getHex()),ut[ft]=ht}et.colorRanges=ut}Object.freeze(et);const{textureWidth:nt,sdfExponent:rt}=CONFIG,{sdfGlyphSize:it}=et,st=nt/it*4;let ot=atlases[it];if(!ot){const ut=document.createElement("canvas");ut.width=nt,ut.height=it*256/st,ot=atlases[it]={glyphCount:0,sdfGlyphSize:it,sdfCanvas:ut,sdfTexture:new Texture(ut,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},ot.sdfTexture.generateMipmaps=!1,initContextLossHandling(ot)}const{sdfTexture:at,sdfCanvas:lt}=ot;let ct=ot.glyphsByFont.get(et.font);ct||ot.glyphsByFont.set(et.font,ct=new Map),typesetInWorker(et).then(ut=>{const{glyphIds:ft,glyphPositions:ht,fontSize:pt,unitsPerEm:gt,timings:dt}=ut,vt=[],xt=new Float32Array(ft.length*4),_t=pt/gt;let bt=0,At=0;const Mt=now$1();ft.forEach((Rt,It)=>{let Ot=ct.get(Rt);if(!Ot){const{path:Ht,pathBounds:Bt}=ut.glyphData[Rt],Lt=Math.max(Bt[2]-Bt[0],Bt[3]-Bt[1])/it*(CONFIG.sdfMargin*it+.5),Ft=ot.glyphCount++,Vt=[Bt[0]-Lt,Bt[1]-Lt,Bt[2]+Lt,Bt[3]+Lt];ct.set(Rt,Ot={path:Ht,atlasIndex:Ft,sdfViewBox:Vt}),vt.push(Ot)}const{sdfViewBox:kt}=Ot,$t=ht[At++],jt=ht[At++];xt[bt++]=$t+kt[0]*_t,xt[bt++]=jt+kt[1]*_t,xt[bt++]=$t+kt[2]*_t,xt[bt++]=jt+kt[3]*_t,ft[It]=Ot.atlasIndex}),dt.quads=(dt.quads||0)+(now$1()-Mt);const Tt=now$1();dt.sdf={};const St=lt.height,Ct=Math.ceil(ot.glyphCount/st),Et=Math.pow(2,Math.ceil(Math.log2(Ct*it)));Et>St&&(console.info(`Increasing SDF texture size ${St}->${Et}`),resizeWebGLCanvasWithoutClearing(lt,nt,Et),at.dispose()),DefaultThenable.all(vt.map(Rt=>generateGlyphSDF(Rt,ot,et.gpuAccelerateSDF).then(({timing:It})=>{dt.sdf[Rt.atlasIndex]=It}))).then(()=>{vt.length&&!ot.contextLost&&(safariPre15Workaround(ot),at.needsUpdate=!0),dt.sdfTotal=now$1()-Tt,dt.total=now$1()-tt,_e(Object.freeze({parameters:et,sdfTexture:at,sdfGlyphSize:it,sdfExponent:rt,glyphBounds:xt,glyphAtlasIndices:ft,glyphColors:ut.glyphColors,caretPositions:ut.caretPositions,caretHeight:ut.caretHeight,chunkedBounds:ut.chunkedBounds,ascender:ut.ascender,descender:ut.descender,lineHeight:ut.lineHeight,topBaseline:ut.topBaseline,blockBounds:ut.blockBounds,visibleBounds:ut.visibleBounds,timings:ut.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),ut.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[Rt,It,Ot,kt]=ut.blockBounds;return[Ot-Rt,kt-It]}}))})}),DefaultThenable.all([]).then(()=>{ot.contextLost||warmUpSDFCanvas(lt)})}function generateGlyphSDF({path:et,atlasIndex:_e,sdfViewBox:tt},{sdfGlyphSize:nt,sdfCanvas:rt,contextLost:it},st){if(it)return Promise.resolve({timing:-1});const{textureWidth:ot,sdfExponent:at}=CONFIG,lt=Math.max(tt[2]-tt[0],tt[3]-tt[1]),ct=Math.floor(_e/4),ut=ct%(ot/nt)*nt,ft=Math.floor(ct/(ot/nt))*nt,ht=_e%4;return generateSDF(nt,nt,et,tt,lt,at,rt,ut,ft,ht,st)}function initContextLossHandling(et){const _e=et.sdfCanvas;_e.addEventListener("webglcontextlost",tt=>{console.log("Context Lost",tt),tt.preventDefault(),et.contextLost=!0}),_e.addEventListener("webglcontextrestored",tt=>{console.log("Context Restored",tt),et.contextLost=!1;const nt=[];et.glyphsByFont.forEach(rt=>{rt.forEach(it=>{nt.push(generateGlyphSDF(it,et,!0))})}),DefaultThenable.all(nt).then(()=>{safariPre15Workaround(et),et.sdfTexture.needsUpdate=!0})})}function preloadFont({font:et,characters:_e,sdfGlyphSize:tt},nt){let rt=Array.isArray(_e)?_e.join(`
`):""+_e;getTextRenderInfo({font:et,sdfGlyphSize:tt,text:rt},nt)}function assign$2(et,_e){for(let tt in _e)_e.hasOwnProperty(tt)&&(et[tt]=_e[tt]);return et}let linkEl;function toAbsoluteURL(et){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=et,linkEl.href}function safariPre15Workaround(et){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:_e,sdfTexture:tt}=et,{width:nt,height:rt}=_e,it=et.sdfCanvas.getContext("webgl");let st=tt.image.data;(!st||st.length!==nt*rt*4)&&(st=new Uint8Array(nt*rt*4),tt.image={width:nt,height:rt,data:st},tt.flipY=!1,tt.isDataTexture=!0),it.readPixels(0,0,nt,rt,it.RGBA,it.UNSIGNED_BYTE,st)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(et,_e,tt,nt){const{defaultFontURL:rt}=et;return tt(_e,nt(),{defaultFontURL:rt})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule,ThenableWorkerModule],init(et,_e){return function(tt){const nt=new _e;return et.typeset(tt,nt.resolve),nt}},getTransferables(et){const _e=[et.glyphPositions.buffer,et.glyphIds.buffer];return et.caretPositions&&_e.push(et.caretPositions.buffer),et.glyphColors&&_e.push(et.glyphColors.buffer),_e}}),GlyphsGeometry=(()=>{const et={};function _e(at){let lt=et[at];if(!lt){const ct=new PlaneBufferGeometry(1,1,at,at),ut=ct.clone(),ft=ct.attributes,ht=ut.attributes,pt=new BufferGeometry,gt=ft.uv.count;for(let dt=0;dt<gt;dt++)ht.position.array[dt*3]*=-1,ht.normal.array[dt*3+2]*=-1;["position","normal","uv"].forEach(dt=>{pt.setAttribute(dt,new Float32BufferAttribute([...ft[dt].array,...ht[dt].array],ft[dt].itemSize))}),pt.setIndex([...ct.index.array,...ut.index.array.map(dt=>dt+gt)]),pt.translate(.5,.5,0),lt=et[at]=pt}return lt}const tt="aTroikaGlyphBounds",nt="aTroikaGlyphIndex",rt="aTroikaGlyphColor";class it extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere$1,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(lt){const ct=this.getIndex().count;this.setDrawRange(lt===BackSide?ct/2:0,lt===DoubleSide?ct:ct/2)}set detail(lt){if(lt!==this._detail){this._detail=lt,(typeof lt!="number"||lt<1)&&(lt=1);let ct=_e(lt);["position","normal","uv"].forEach(ut=>{this.attributes[ut]=ct.attributes[ut].clone()}),this.setIndex(ct.getIndex().clone())}}get detail(){return this._detail}set curveRadius(lt){lt!==this._curveRadius&&(this._curveRadius=lt,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(lt,ct,ut,ft,ht){st(this,tt,lt,4),st(this,nt,ct,1),st(this,rt,ht,3),this._blockBounds=ut,this._chunkedBounds=ft,ot(this,ct.length),this._updateBounds()}_updateBounds(){const lt=this._blockBounds;if(lt){const{curveRadius:ct,boundingBox:ut}=this;if(ct){const{PI:ft,floor:ht,min:pt,max:gt,sin:dt,cos:vt}=Math,xt=ft/2,_t=ft*2,bt=Math.abs(ct),At=lt[0]/bt,Mt=lt[2]/bt,Tt=ht((At+xt)/_t)!==ht((Mt+xt)/_t)?-bt:pt(dt(At)*bt,dt(Mt)*bt),St=ht((At-xt)/_t)!==ht((Mt-xt)/_t)?bt:gt(dt(At)*bt,dt(Mt)*bt),Ct=ht((At+ft)/_t)!==ht((Mt+ft)/_t)?bt*2:gt(bt-vt(At)*bt,bt-vt(Mt)*bt);ut.min.set(Tt,lt[1],ct<0?-Ct:0),ut.max.set(St,lt[3],ct<0?0:Ct)}else ut.min.set(lt[0],lt[1],0),ut.max.set(lt[2],lt[3],0);ut.getBoundingSphere(this.boundingSphere)}}applyClipRect(lt){let ct=this.getAttribute(nt).count,ut=this._chunkedBounds;if(ut)for(let ft=ut.length;ft--;){ct=ut[ft].end;let ht=ut[ft].rect;if(ht[1]<lt.w&&ht[3]>lt.y&&ht[0]<lt.z&&ht[2]>lt.x)break}ot(this,ct)}}it.prototype.setAttribute||(it.prototype.setAttribute=function(at,lt){return this.attributes[at]=lt,this});function st(at,lt,ct,ut){const ft=at.getAttribute(lt);ct?ft&&ft.array.length===ct.length?(ft.array.set(ct),ft.needsUpdate=!0):(at.setAttribute(lt,new InstancedBufferAttribute(ct,ut)),delete at._maxInstanceCount,at.dispose()):ft&&at.deleteAttribute(lt)}function ot(at,lt){at[at.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=lt}return it})(),VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(et){const _e=createDerivedMaterial(et,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color$2},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:tt,fragmentShader:nt}){let rt=/\buniform\s+vec3\s+diffuse\b/;return rt.test(nt)&&(nt=nt.replace(rt,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),rt.test(tt)||(tt=tt.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:tt,fragmentShader:nt}}});return _e.transparent=!0,Object.defineProperties(_e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),_e}const Text$1=(()=>{const et=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),_e=8421504,tt=new Matrix4,nt=new Vector3,rt=new Vector3,it=[],st=new Vector3,ot="+x+y";function at(vt){return Array.isArray(vt)?vt[0]:vt}let lt=()=>{const vt=new Mesh(new PlaneBufferGeometry(1,1),et);return lt=()=>vt,vt},ct=()=>{const vt=new Mesh(new PlaneBufferGeometry(1,1,32,1),et);return ct=()=>vt,vt};const ut={type:"syncstart"},ft={type:"synccomplete"},ht=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],pt=ht.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class gt extends Mesh{constructor(){const xt=new GlyphsGeometry;super(xt,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=_e,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=ot,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(xt){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(xt):(this._isSyncing=!0,this.dispatchEvent(ut),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},_t=>{this._isSyncing=!1,this._textRenderInfo=_t,this.geometry.updateGlyphs(_t.glyphBounds,_t.glyphAtlasIndices,_t.blockBounds,_t.chunkedBounds,_t.glyphColors);const bt=this._queuedSyncs;bt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{bt.forEach(At=>At&&At())})),this.dispatchEvent(ft),xt&&xt()})))}onBeforeRender(xt,_t,bt,At,Mt,Tt){this.sync(),Mt.isTroikaTextMaterial&&this._prepareForRender(Mt),Mt._hadOwnSide=Mt.hasOwnProperty("side"),this.geometry.setSide(Mt._actualSide=Mt.side),Mt.side=FrontSide}onAfterRender(xt,_t,bt,At,Mt,Tt){Mt._hadOwnSide?Mt.side=Mt._actualSide:delete Mt.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let xt=this._derivedMaterial;const _t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=et.clone());if((!xt||xt.baseMaterial!==_t)&&(xt=this._derivedMaterial=createTextDerivedMaterial(_t),_t.addEventListener("dispose",function bt(){_t.removeEventListener("dispose",bt),xt.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let bt=xt._outlineMtl;return bt||(bt=xt._outlineMtl=Object.create(xt,{id:{value:xt.id+.1}}),bt.isTextOutlineMaterial=!0,bt.depthWrite=!1,bt.map=null,xt.addEventListener("dispose",function At(){xt.removeEventListener("dispose",At),bt.dispose()})),[bt,xt]}else return xt}set material(xt){xt&&xt.isTroikaTextMaterial?(this._derivedMaterial=xt,this._baseMaterial=xt.baseMaterial):this._baseMaterial=xt}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(xt){this.geometry.detail=xt}get curveRadius(){return this.geometry.curveRadius}set curveRadius(xt){this.geometry.curveRadius=xt}get customDepthMaterial(){return at(this.material).getDepthMaterial()}get customDistanceMaterial(){return at(this.material).getDistanceMaterial()}_prepareForRender(xt){const _t=xt.isTextOutlineMaterial,bt=xt.uniforms,At=this.textRenderInfo;if(At){const{sdfTexture:St,blockBounds:Ct}=At;bt.uTroikaSDFTexture.value=St,bt.uTroikaSDFTextureSize.value.set(St.image.width,St.image.height),bt.uTroikaSDFGlyphSize.value=At.sdfGlyphSize,bt.uTroikaSDFExponent.value=At.sdfExponent,bt.uTroikaTotalBounds.value.fromArray(Ct),bt.uTroikaUseGlyphColors.value=!_t&&!!At.glyphColors;let Et=0,Rt=0,It=0,Ot,kt,$t,jt=0,Ht=0;if(_t){let{outlineWidth:Lt,outlineOffsetX:Ft,outlineOffsetY:Vt,outlineBlur:Yt,outlineOpacity:rn}=this;Et=this._parsePercent(Lt)||0,Rt=Math.max(0,this._parsePercent(Yt)||0),Ot=rn,jt=this._parsePercent(Ft)||0,Ht=this._parsePercent(Vt)||0}else It=Math.max(0,this._parsePercent(this.strokeWidth)||0),It&&($t=this.strokeColor,bt.uTroikaStrokeColor.value.set($t==null?_e:$t),kt=this.strokeOpacity,kt==null&&(kt=1)),Ot=this.fillOpacity;bt.uTroikaDistanceOffset.value=Et,bt.uTroikaPositionOffset.value.set(jt,Ht),bt.uTroikaBlurRadius.value=Rt,bt.uTroikaStrokeWidth.value=It,bt.uTroikaStrokeOpacity.value=kt,bt.uTroikaFillOpacity.value=Ot==null?1:Ot,bt.uTroikaCurveRadius.value=this.curveRadius||0;let Bt=this.clipRect;if(Bt&&Array.isArray(Bt)&&Bt.length===4)bt.uTroikaClipRect.value.fromArray(Bt);else{const Lt=(this.fontSize||.1)*100;bt.uTroikaClipRect.value.set(Ct[0]-Lt,Ct[1]-Lt,Ct[2]+Lt,Ct[3]+Lt)}this.geometry.applyClipRect(bt.uTroikaClipRect.value)}bt.uTroikaSDFDebug.value=!!this.debugSDF,xt.polygonOffset=!!this.depthOffset,xt.polygonOffsetFactor=xt.polygonOffsetUnits=this.depthOffset||0;const Mt=_t?this.outlineColor||0:this.color;if(Mt==null)delete xt.color;else{const St=xt.hasOwnProperty("color")?xt.color:xt.color=new Color$2;(Mt!==St._input||typeof Mt=="object")&&St.set(St._input=Mt)}let Tt=this.orientation||ot;if(Tt!==xt._orientation){let St=bt.uTroikaOrient.value;Tt=Tt.replace(/[^-+xyz]/g,"");let Ct=Tt!==ot&&Tt.match(/^([-+])([xyz])([-+])([xyz])$/);if(Ct){let[,Et,Rt,It,Ot]=Ct;nt.set(0,0,0)[Rt]=Et==="-"?1:-1,rt.set(0,0,0)[Ot]=It==="-"?-1:1,tt.lookAt(st,nt.cross(rt),rt),St.setFromMatrix4(tt)}else St.identity();xt._orientation=Tt}}_parsePercent(xt){if(typeof xt=="string"){let _t=xt.match(/^(-?[\d.]+)%$/),bt=_t?parseFloat(_t[1]):NaN;xt=(isNaN(bt)?0:bt/100)*this.fontSize}return xt}localPositionToTextCoords(xt,_t=new Vector2){_t.copy(xt);const bt=this.curveRadius;return bt&&(_t.x=Math.atan2(xt.x,Math.abs(bt)-Math.abs(xt.z))*Math.abs(bt)),_t}worldPositionToTextCoords(xt,_t=new Vector2){return nt.copy(xt),this.localPositionToTextCoords(this.worldToLocal(nt),_t)}raycast(xt,_t){const{textRenderInfo:bt,curveRadius:At}=this;if(bt){const Mt=bt.blockBounds,Tt=At?ct():lt(),St=Tt.geometry,{position:Ct,uv:Et}=St.attributes;for(let Rt=0;Rt<Et.count;Rt++){let It=Mt[0]+Et.getX(Rt)*(Mt[2]-Mt[0]);const Ot=Mt[1]+Et.getY(Rt)*(Mt[3]-Mt[1]);let kt=0;At&&(kt=At-Math.cos(It/At)*At,It=Math.sin(It/At)*At),Ct.setXYZ(Rt,It,Ot,kt)}St.boundingSphere=this.geometry.boundingSphere,St.boundingBox=this.geometry.boundingBox,Tt.matrixWorld=this.matrixWorld,Tt.material.side=this.material.side,it.length=0,Tt.raycast(xt,it);for(let Rt=0;Rt<it.length;Rt++)it[Rt].object=this,_t.push(it[Rt])}}copy(xt){const _t=this.geometry;return super.copy(xt),this.geometry=_t,pt.forEach(bt=>{this[bt]=xt[bt]}),this}clone(){return new this.constructor().copy(this)}}ht.forEach(vt=>{const xt="_private_"+vt;Object.defineProperty(gt.prototype,vt,{get(){return this[xt]},set(_t){_t!==this[xt]&&(this[xt]=_t,this._needsSync=!0)}})});let dt=!1;return Object.defineProperty(gt.prototype,"anchor",{get(){return this._deprecated_anchor},set(vt){this._deprecated_anchor=vt,dt||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),dt=!0),Array.isArray(vt)?(this.anchorX=`${(+vt[0]||0)*100}%`,this.anchorY=`${(+vt[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),gt})(),Text=react.exports.forwardRef(({anchorX:et="center",anchorY:_e="middle",font:tt,children:nt,characters:rt,onSync:it,...st},ot)=>{const at=useThree(({invalidate:ft})=>ft),[lt]=react.exports.useState(()=>new Text$1),[ct,ut]=react.exports.useMemo(()=>{const ft=[];let ht="";return react.exports.Children.forEach(nt,pt=>{typeof pt=="string"||typeof pt=="number"?ht+=pt:ft.push(pt)}),[ft,ht]},[nt]);return suspend(()=>new Promise(ft=>preloadFont({font:tt,characters:rt},ft)),["troika-text",tt,rt]),react.exports.useLayoutEffect(()=>void lt.sync(()=>{at(),it&&it(lt)})),react.exports.useEffect(()=>()=>lt.dispose(),[lt]),jsx("primitive",{object:lt,ref:ot,font:tt,text:ut,anchorX:et,anchorY:_e,...st,children:ct})});function shaderMaterial(et,_e,tt,nt){const rt=class extends ShaderMaterial{constructor(st={}){const ot=Object.entries(et);super({uniforms:ot.reduce((at,[lt,ct])=>{const ut=UniformsUtils.clone({[lt]:{value:ct}});return{...at,...ut}},{}),vertexShader:_e,fragmentShader:tt,...st}),this.key="",ot.forEach(([at])=>Object.defineProperty(this,at,{get:()=>this.uniforms[at].value,set:lt=>this.uniforms[at].value=lt})),nt&&nt(this)}};return rt.key=MathUtils.generateUUID(),rt}const IsObject=et=>et===Object(et)&&!Array.isArray(et)&&typeof et!="function";function useTexture(et,_e){const tt=useThree(rt=>rt.gl),nt=useLoader(TextureLoader,IsObject(et)?Object.values(et):et);if(react.exports.useLayoutEffect(()=>{_e==null||_e(nt)},[_e]),react.exports.useEffect(()=>{(Array.isArray(nt)?nt:[nt]).forEach(tt.initTexture)},[tt,nt]),IsObject(et)){const rt=Object.keys(et),it={};return rt.forEach(st=>Object.assign(it,{[st]:nt[rt.indexOf(st)]})),it}else return nt}useTexture.preload=et=>useLoader.preload(TextureLoader,et);useTexture.clear=et=>useLoader.clear(TextureLoader,et);const ImageMaterialImpl=shaderMaterial({color:new Color$2("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`),ImageBase=react.exports.forwardRef(({children:et,color:_e,segments:tt=1,scale:nt=1,zoom:rt=1,grayscale:it=0,opacity:st=1,texture:ot,toneMapped:at,transparent:lt,...ct},ut)=>{extend$2({ImageMaterial:ImageMaterialImpl});const ft=useThree(gt=>gt.gl),ht=Array.isArray(nt)?[nt[0],nt[1]]:[nt,nt],pt=[ot.image.width,ot.image.height];return jsxs("mesh",{ref:ut,scale:Array.isArray(nt)?[...nt,1]:nt,...ct,children:[jsx("planeGeometry",{args:[1,1,tt,tt]}),jsx("imageMaterial",{color:_e,map:ot,"map-encoding":ft.outputEncoding,zoom:rt,grayscale:it,opacity:st,scale:ht,imageBounds:pt,toneMapped:at,transparent:lt}),et]})}),ImageWithUrl=react.exports.forwardRef(({url:et,..._e},tt)=>{const nt=useTexture(et);return jsx(ImageBase,{..._e,texture:nt,ref:tt})}),ImageWithTexture=react.exports.forwardRef(({url:et,..._e},tt)=>jsx(ImageBase,{..._e,ref:tt})),Image$1=react.exports.forwardRef((et,_e)=>{if(et.url)return jsx(ImageWithUrl,{...et,ref:_e});if(et.texture)return jsx(ImageWithTexture,{...et,ref:_e});throw new Error("<Image /> requires a url or texture")});function e$4(et,_e){const tt=new Matrix4,nt=new Ray,rt=new Sphere$1,it=new Vector3,st=this.geometry;if(rt.copy(st.boundingSphere),rt.applyMatrix4(this.matrixWorld),et.ray.intersectSphere(rt,it)===!1)return;tt.copy(this.matrixWorld).invert(),nt.copy(et.ray).applyMatrix4(tt);const ot=new Vector3,at=new Vector3,lt=new Vector3,ct=this instanceof LineSegments?2:1,ut=st.index,ft=st.attributes;if(ut!==null){const ht=ut.array,pt=ft.position.array,gt=ft.width.array;for(let dt=0,vt=ht.length-1;dt<vt;dt+=ct){const xt=ht[dt],_t=ht[dt+1];ot.fromArray(pt,3*xt),at.fromArray(pt,3*_t);const bt=gt[Math.floor(dt/3)]!=null?gt[Math.floor(dt/3)]:1,At=et.params.Line.threshold+this.material.lineWidth*bt/2,Mt=At*At;if(nt.distanceSqToSegment(ot,at,it,lt)>Mt)continue;it.applyMatrix4(this.matrixWorld);const Tt=et.ray.origin.distanceTo(it);Tt<et.near||Tt>et.far||(_e.push({distance:Tt,point:lt.clone().applyMatrix4(this.matrixWorld),index:dt,face:null,faceIndex:null,object:this}),dt=vt)}}}function i$6(et,_e,tt,nt,rt){let it;if(et=et.subarray||et.slice?et:et.buffer,tt=tt.subarray||tt.slice?tt:tt.buffer,et=_e?et.subarray?et.subarray(_e,rt&&_e+rt):et.slice(_e,rt&&_e+rt):et,tt.set)tt.set(et,nt);else for(it=0;it<et.length;it++)tt[it+nt]=et[it];return tt}class s$4 extends BufferGeometry{constructor(){super(),this.type="MeshLine",this.isMeshLine=!0,this.positions=[],this.raycast=e$4,this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new Matrix4,Object.defineProperties(this,{geometry:{enumerable:!0,get(){return this}},geom:{enumerable:!0,get(){return this._geom},set(_e){this.setGeometry(_e,this.widthCallback)}},points:{enumerable:!0,get(){return this._points},set(_e){this.setPoints(_e,this.widthCallback)}}})}setMatrixWorld(_e){this.matrixWorld=_e}setGeometry(_e,tt){this._geometry=_e,_e instanceof BufferGeometry?this.setPoints(_e.getAttribute("position").array,tt):this.setPoints(_e,tt)}setPoints(_e,tt){if(_e instanceof Float32Array||_e instanceof Array){if(this._points=_e,this.widthCallback=tt,this.positions=[],this.counters=[],_e.length&&_e[0]instanceof Vector3)for(var nt=0;nt<_e.length;nt++){const it=_e[nt];var rt=nt/_e.length;this.positions.push(it.x,it.y,it.z),this.positions.push(it.x,it.y,it.z),this.counters.push(rt),this.counters.push(rt)}else for(nt=0;nt<_e.length;nt+=3)rt=nt/_e.length,this.positions.push(_e[nt],_e[nt+1],_e[nt+2]),this.positions.push(_e[nt],_e[nt+1],_e[nt+2]),this.counters.push(rt),this.counters.push(rt);this.process()}else console.error("ERROR: The BufferArray of points is not instancied correctly.")}compareV3(_e,tt){const nt=6*_e,rt=6*tt;return this.positions[nt]===this.positions[rt]&&this.positions[nt+1]===this.positions[rt+1]&&this.positions[nt+2]===this.positions[rt+2]}copyV3(_e){const tt=6*_e;return[this.positions[tt],this.positions[tt+1],this.positions[tt+2]]}process(){const _e=this.positions.length/6;let tt,nt;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],nt=this.compareV3(0,_e-1)?this.copyV3(_e-2):this.copyV3(0),this.previous.push(nt[0],nt[1],nt[2]),this.previous.push(nt[0],nt[1],nt[2]);for(let rt=0;rt<_e;rt++){if(this.side.push(1),this.side.push(-1),tt=this.widthCallback?this.widthCallback(rt/(_e-1)):1,this.width.push(tt),this.width.push(tt),this.uvs.push(rt/(_e-1),0),this.uvs.push(rt/(_e-1),1),rt<_e-1){nt=this.copyV3(rt),this.previous.push(nt[0],nt[1],nt[2]),this.previous.push(nt[0],nt[1],nt[2]);const it=2*rt;this.indices_array.push(it,it+1,it+2),this.indices_array.push(it+2,it+1,it+3)}rt>0&&(nt=this.copyV3(rt),this.next.push(nt[0],nt[1],nt[2]),this.next.push(nt[0],nt[1],nt[2]))}nt=this.compareV3(_e-1,0)?this.copyV3(1):this.copyV3(_e-1),this.next.push(nt[0],nt[1],nt[2]),this.next.push(nt[0],nt[1],nt[2]),this._attributes&&this._attributes.position.count===this.positions.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new BufferAttribute(new Float32Array(this.positions),3),previous:new BufferAttribute(new Float32Array(this.previous),3),next:new BufferAttribute(new Float32Array(this.next),3),side:new BufferAttribute(new Float32Array(this.side),1),width:new BufferAttribute(new Float32Array(this.width),1),uv:new BufferAttribute(new Float32Array(this.uvs),2),index:new BufferAttribute(new Uint16Array(this.indices_array),1),counters:new BufferAttribute(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:_e,y:tt,z:nt}){const rt=this._attributes.position.array,it=this._attributes.previous.array,st=this._attributes.next.array,ot=rt.length;i$6(rt,0,it,0,ot),i$6(rt,6,rt,0,ot-6),rt[ot-6]=_e,rt[ot-5]=tt,rt[ot-4]=nt,rt[ot-3]=_e,rt[ot-2]=tt,rt[ot-1]=nt,i$6(rt,6,st,0,ot-6),st[ot-6]=_e,st[ot-5]=tt,st[ot-4]=nt,st[ot-3]=_e,st[ot-2]=tt,st[ot-1]=nt,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}ShaderChunk.meshline_vert=["","#include <common>","",ShaderChunk.logdepthbuf_pars_vertex,ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","	 vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",ShaderChunk.logdepthbuf_vertex,ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",ShaderChunk.fog_vertex,"}"].join(`
`),ShaderChunk.meshline_frag=["",ShaderChunk.fog_pars_fragment,ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",ShaderChunk.fog_fragment,"}"].join(`
`);class r$5 extends ShaderMaterial{constructor(_e){super({uniforms:Object.assign({},UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Color$2(16777215)},opacity:{value:1},resolution:{value:new Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new Vector2(1,1)}}),vertexShader:ShaderChunk.meshline_vert,fragmentShader:ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(tt){this.uniforms.lineWidth.value=tt}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(tt){this.uniforms.map.value=tt}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(tt){this.uniforms.useMap.value=tt}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(tt){this.uniforms.alphaMap.value=tt}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(tt){this.uniforms.useAlphaMap.value=tt}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(tt){this.uniforms.color.value=tt}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(tt){this.uniforms.opacity.value=tt}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(tt){this.uniforms.resolution.value.copy(tt)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(tt){this.uniforms.sizeAttenuation.value=tt}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(tt){this.uniforms.dashArray.value=tt,this.useDash=tt!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(tt){this.uniforms.dashOffset.value=tt}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(tt){this.uniforms.dashRatio.value=tt}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(tt){this.uniforms.useDash.value=tt}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(tt){this.uniforms.visibility.value=tt}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(tt){this.uniforms.alphaTest.value=tt}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(tt){this.uniforms.repeat.value.copy(tt)}}}),this.setValues(_e)}copy(_e){return super.copy(_e),this.lineWidth=_e.lineWidth,this.map=_e.map,this.useMap=_e.useMap,this.alphaMap=_e.alphaMap,this.useAlphaMap=_e.useAlphaMap,this.color.copy(_e.color),this.opacity=_e.opacity,this.resolution.copy(_e.resolution),this.sizeAttenuation=_e.sizeAttenuation,this.dashArray.copy(_e.dashArray),this.dashOffset.copy(_e.dashOffset),this.dashRatio.copy(_e.dashRatio),this.useDash=_e.useDash,this.visibility=_e.visibility,this.alphaTest=_e.alphaTest,this.repeat.copy(_e.repeat),this}}const defaults={width:.2,length:1,decay:1,local:!1,stride:0,interval:1},shiftLeft=(et,_e=1)=>(et.set(et.subarray(_e)),et.fill(-1/0,-_e),et);function useTrail(et,_e){const{length:tt,local:nt,decay:rt,interval:it,stride:st}={...defaults,..._e},ot=react.exports.useRef(),[at]=react.exports.useState(()=>new Vector3);react.exports.useLayoutEffect(()=>{et&&(ot.current=Float32Array.from({length:tt*10*3},(ut,ft)=>et.position.getComponent(ft%3)))},[tt,et]);const lt=react.exports.useRef(new Vector3),ct=react.exports.useRef(0);return useFrame(()=>{if(!!et&&!!ot.current){if(ct.current===0){let ut;nt?ut=et.position:(et.getWorldPosition(at),ut=at);const ft=1*rt;for(let ht=0;ht<ft;ht++)ut.distanceTo(lt.current)<st||(shiftLeft(ot.current,3),ot.current.set(ut.toArray(),ot.current.length-3));lt.current.copy(ut)}ct.current++,ct.current=ct.current%it}}),ot}const Trail=react.exports.forwardRef((et,_e)=>{const{children:tt}=et,{width:nt,length:rt,decay:it,local:st,stride:ot,interval:at}={...defaults,...et},{color:lt="hotpink",attenuation:ct,target:ut}=et,ft=useThree(_t=>_t.size),ht=react.exports.useRef(null),[pt,gt]=react.exports.useState(null),dt=useTrail(pt,{length:rt,decay:it,local:st,stride:ot,interval:at});react.exports.useEffect(()=>{const _t=(ut==null?void 0:ut.current)||ht.current.children.find(bt=>bt instanceof Object3D);_t&&gt(_t)},[dt,ut]);const vt=react.exports.useMemo(()=>new s$4,[]),xt=react.exports.useMemo(()=>{var _t;const bt=new r$5({lineWidth:.1*nt,color:lt,sizeAttenuation:1,resolution:new Vector2(ft.width,ft.height)});let At;if(tt)if(Array.isArray(tt))At=tt.find(Mt=>{const Tt=Mt;return typeof Tt.type=="string"&&Tt.type==="meshLineMaterial"});else{const Mt=tt;typeof Mt.type=="string"&&Mt.type==="meshLineMaterial"&&(At=Mt)}return typeof((_t=At)==null?void 0:_t.props)=="object"&&bt.setValues(At.props),bt},[nt,lt,ft,tt]);return react.exports.useEffect(()=>{xt.uniforms.resolution.value.set(ft.width,ft.height)},[ft]),useFrame(()=>{!dt.current||vt.setPoints(dt.current,ct)}),jsxs("group",{children:[jsx("mesh",{ref:_e,geometry:vt,material:xt}),jsx("group",{ref:ht,children:tt})]})}),PerspectiveCamera=react.exports.forwardRef(({makeDefault:et,..._e},tt)=>{const nt=useThree(({set:ot})=>ot),rt=useThree(({camera:ot})=>ot),it=useThree(({size:ot})=>ot),st=react.exports.useRef(null);return react.exports.useLayoutEffect(()=>{_e.manual||(st.current.aspect=it.width/it.height)},[it,_e]),react.exports.useLayoutEffect(()=>{st.current.updateProjectionMatrix()}),react.exports.useLayoutEffect(()=>{if(et){const ot=rt;return nt(()=>({camera:st.current})),()=>nt(()=>({camera:ot}))}},[st,et,nt]),jsx("perspectiveCamera",{ref:mergeRefs([st,tt]),..._e})});let dracoLoader=null;function extensions(et,_e,tt){return nt=>{tt&&tt(nt),et&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof et=="string"?et:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),nt.setDRACOLoader(dracoLoader)),_e&&nt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(et,_e=!0,tt=!0,nt){return useLoader(GLTFLoader,et,extensions(_e,tt,nt))}useGLTF.preload=(et,_e=!0,tt=!0,nt)=>useLoader.preload(GLTFLoader,et,extensions(_e,tt,nt));useGLTF.clear=et=>useLoader.clear(GLTFLoader,et);function useVideoTexture(et,_e){const{unsuspend:tt,start:nt,crossOrigin:rt,muted:it,loop:st,...ot}={unsuspend:"canplay",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,..._e},at=useThree(ct=>ct.gl),lt=suspend(()=>new Promise((ct,ut)=>{const ft=Object.assign(document.createElement("video"),{src:et,crossOrigin:rt,loop:st,muted:it,...ot}),ht=new VideoTexture(ft);ht.encoding=at.outputEncoding,ft.addEventListener(tt,()=>ct(ht))}),[et]);return react.exports.useEffect(()=>void(nt&&lt.image.play()),[lt]),lt}class PointMaterialImpl extends PointsMaterial{constructor(_e){super(_e),this.onBeforeCompile=(tt,nt)=>{const{isWebGL2:rt}=nt.capabilities;tt.fragmentShader=tt.fragmentShader.replace("#include <output_fragment>",`
        ${rt?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      `)}}}const PointMaterial=react.exports.forwardRef((et,_e)=>{const[tt]=react.exports.useState(()=>new PointMaterialImpl(null));return jsx("primitive",{...et,object:tt,ref:_e,attach:"material"})});function create(et){const _e=et+"Geometry";return react.exports.forwardRef(({args:tt,children:nt,...rt},it)=>jsxs("mesh",{ref:it,...rt,children:[jsx(_e,{attach:"geometry",args:tt}),nt]}))}const Box=create("box"),Sphere=create("sphere"),Plane=create("plane"),Float=react.exports.forwardRef(({children:et,speed:_e=1,rotationIntensity:tt=1,floatIntensity:nt=1,floatingRange:rt=[-.1,.1],...it},st)=>{const ot=react.exports.useRef(null),at=react.exports.useRef(Math.random()*1e4);return useFrame(lt=>{var ct,ut;const ft=at.current+lt.clock.getElapsedTime();ot.current.rotation.x=Math.cos(ft/4*_e)/8*tt,ot.current.rotation.y=Math.sin(ft/4*_e)/8*tt,ot.current.rotation.z=Math.sin(ft/4*_e)/20*tt;let ht=Math.sin(ft/4*_e)/10;ht=MathUtils.mapLinear(ht,-.1,.1,(ct=rt==null?void 0:rt[0])!==null&&ct!==void 0?ct:-.1,(ut=rt==null?void 0:rt[1])!==null&&ut!==void 0?ut:.1),ot.current.position.y=ht*nt}),jsx("group",{...it,children:jsx("group",{ref:mergeRefs([ot,st]),children:et})})}),presetsObj={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},CUBEMAP_ROOT="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",isRef=et=>et.current&&et.current.isScene,resolveScene=et=>isRef(et)?et.current:et;function EnvironmentMap({scene:et,background:_e=!1,map:tt}){const nt=useThree(rt=>rt.scene);return react.exports.useLayoutEffect(()=>{if(tt){const rt=resolveScene(et||nt),it=rt.background,st=rt.environment;return _e!=="only"&&(rt.environment=tt),_e&&(rt.background=tt),()=>{_e!=="only"&&(rt.environment=st),_e&&(rt.background=it)}}},[nt,et,tt,_e]),null}function useEnvironment({files:et=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:_e="",preset:tt=void 0,encoding:nt=void 0,extensions:rt}){if(tt){if(!(tt in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "));et=presetsObj[tt],_e=CUBEMAP_ROOT}const it=Array.isArray(et),ot=useLoader(it?CubeTextureLoader:RGBELoader,it?[et]:et,lt=>{lt.setPath(_e),rt&&rt(lt)}),at=it?ot[0]:ot;return at.mapping=it?CubeReflectionMapping:EquirectangularReflectionMapping,at.encoding=(nt!=null?nt:it)?sRGBEncoding:LinearEncoding,at}function EnvironmentCube({background:et=!1,scene:_e,...tt}){const nt=useEnvironment(tt),rt=useThree(it=>it.scene);return react.exports.useLayoutEffect(()=>{const it=resolveScene(_e||rt),st=it.background,ot=it.environment;return et!=="only"&&(it.environment=nt),et&&(it.background=nt),()=>{et!=="only"&&(it.environment=ot),et&&(it.background=st)}},[nt,et,_e,rt]),null}function EnvironmentPortal({children:et,near:_e=1,far:tt=1e3,resolution:nt=256,frames:rt=1,map:it,background:st=!1,scene:ot,files:at,path:lt,preset:ct=void 0,extensions:ut}){const ft=useThree(xt=>xt.gl),ht=useThree(xt=>xt.scene),pt=react.exports.useRef(null),[gt]=react.exports.useState(()=>new Scene),dt=react.exports.useMemo(()=>{const xt=new WebGLCubeRenderTarget(nt);return xt.texture.type=HalfFloatType,xt},[nt]);react.exports.useLayoutEffect(()=>{rt===1&&pt.current.update(ft,gt);const xt=resolveScene(ot||ht),_t=xt.background,bt=xt.environment;return st!=="only"&&(xt.environment=dt.texture),st&&(xt.background=dt.texture),()=>{st!=="only"&&(xt.environment=bt),st&&(xt.background=_t)}},[et,gt,dt.texture,ot,ht,st,rt,ft]);let vt=1;return useFrame(()=>{(rt===1/0||vt<rt)&&(pt.current.update(ft,gt),vt++)}),jsx(Fragment,{children:createPortal(jsxs(Fragment,{children:[et,jsx("cubeCamera",{ref:pt,args:[_e,tt,dt]}),at||ct?jsx(EnvironmentCube,{background:!0,files:at,preset:ct,path:lt,extensions:ut}):it?jsx(EnvironmentMap,{background:!0,map:it,extensions:ut}):null]}),gt)})}function EnvironmentGround(et){var _e,tt,nt,rt;const it=useEnvironment(et),st=et.map||it;react.exports.useMemo(()=>{extend$2({GroundProjectedEnvImpl:GroundProjectedEnv})},[]);const ot=react.exports.useMemo(()=>[st],[st]),at=(_e=et.ground)==null?void 0:_e.height,lt=(tt=et.ground)==null?void 0:tt.radius,ct=(nt=(rt=et.ground)==null?void 0:rt.scale)!==null&&nt!==void 0?nt:1e3;return jsxs(Fragment,{children:[jsx(EnvironmentMap,{...et,map:st}),jsx("groundProjectedEnvImpl",{args:ot,scale:ct,height:at,radius:lt})]})}function Environment(et){return et.ground?jsx(EnvironmentGround,{...et}):et.map?jsx(EnvironmentMap,{...et}):et.children?jsx(EnvironmentPortal,{...et}):jsx(EnvironmentCube,{...et})}const CLOUD_URL="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png";function Cloud({opacity:et=.5,speed:_e=.4,width:tt=10,depth:nt=1.5,segments:rt=20,texture:it=CLOUD_URL,color:st="#ffffff",depthTest:ot=!0,...at}){const lt=useThree(ht=>ht.gl),ct=react.exports.useRef(),ut=useTexture(it),ft=react.exports.useMemo(()=>[...new Array(rt)].map((ht,pt)=>({x:tt/2-Math.random()*tt,y:tt/2-Math.random()*tt,scale:.4+Math.sin((pt+1)/rt*Math.PI)*((.2+Math.random())*10),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*_e})),[tt,rt,_e]);return useFrame(ht=>{var pt;return(pt=ct.current)==null?void 0:pt.children.forEach((gt,dt)=>{gt.children[0].rotation.z+=ft[dt].rotation,gt.children[0].scale.setScalar(ft[dt].scale+(1+Math.sin(ht.clock.getElapsedTime()/10))/2*dt/10)})}),jsx("group",{...at,children:jsx("group",{position:[0,0,rt/2*nt],ref:ct,children:ft.map(({x:ht,y:pt,scale:gt,density:dt},vt)=>jsx(Billboard,{position:[ht,pt,-vt*nt],children:jsx(Plane,{scale:gt,rotation:[0,0,0],children:jsx("meshStandardMaterial",{map:ut,"map-encoding":lt.outputEncoding,transparent:!0,opacity:gt/6*dt*et,depthTest:ot,color:st})})},vt))})})}let i$5,positionRef;const context=react.exports.createContext(null),parentMatrix=new Matrix4,position=new Vector3,PointsInstances=react.exports.forwardRef(({children:et,range:_e,limit:tt=1e3,...nt},rt)=>{const it=react.exports.useRef(null),[st,ot]=react.exports.useState([]),[[at,lt,ct]]=react.exports.useState(()=>[new Float32Array(tt*3),Float32Array.from({length:tt*3},()=>1),Float32Array.from({length:tt},()=>1)]);react.exports.useEffect(()=>{it.current.geometry.attributes.position.needsUpdate=!0}),useFrame(()=>{for(it.current.updateMatrix(),it.current.updateMatrixWorld(),parentMatrix.copy(it.current.matrixWorld).invert(),it.current.geometry.drawRange.count=Math.min(tt,_e!==void 0?_e:tt,st.length),i$5=0;i$5<st.length;i$5++)positionRef=st[i$5].current,positionRef.getWorldPosition(position).applyMatrix4(parentMatrix),position.toArray(at,i$5*3),it.current.geometry.attributes.position.needsUpdate=!0,positionRef.matrixWorldNeedsUpdate=!0,positionRef.color.toArray(lt,i$5*3),it.current.geometry.attributes.color.needsUpdate=!0,ct.set([positionRef.size],i$5),it.current.geometry.attributes.size.needsUpdate=!0});const ut=react.exports.useMemo(()=>({getParent:()=>it,subscribe:ft=>(ot(ht=>[...ht,ft]),()=>ot(ht=>ht.filter(pt=>pt.current!==ft.current)))}),[]);return react.exports.createElement("points",_extends({userData:{instances:st},matrixAutoUpdate:!1,ref:mergeRefs([rt,it]),raycast:()=>null},nt),jsxs("bufferGeometry",{children:[jsx("bufferAttribute",{attach:"attributes-position",count:at.length/3,array:at,itemSize:3,usage:DynamicDrawUsage}),jsx("bufferAttribute",{attach:"attributes-color",count:lt.length/3,array:lt,itemSize:3,usage:DynamicDrawUsage}),jsx("bufferAttribute",{attach:"attributes-size",count:ct.length,array:ct,itemSize:1,usage:DynamicDrawUsage})]}),react.exports.createElement(context.Provider,{value:ut},et))}),PointsBuffer=react.exports.forwardRef(({children:et,positions:_e,colors:tt,sizes:nt,stride:rt=3,...it},st)=>{const ot=react.exports.useRef(null);return useFrame(()=>{const at=ot.current.geometry.attributes;at.position.needsUpdate=!0,tt&&(at.color.needsUpdate=!0),nt&&(at.size.needsUpdate=!0)}),jsxs("points",{ref:mergeRefs([st,ot]),...it,children:[jsxs("bufferGeometry",{children:[jsx("bufferAttribute",{attach:"attributes-position",count:_e.length/rt,array:_e,itemSize:rt,usage:DynamicDrawUsage}),tt&&jsx("bufferAttribute",{attach:"attributes-color",count:tt.length/rt,array:tt,itemSize:3,usage:DynamicDrawUsage}),nt&&jsx("bufferAttribute",{attach:"attributes-size",count:nt.length/rt,array:nt,itemSize:1,usage:DynamicDrawUsage})]}),et]})}),Points=react.exports.forwardRef((et,_e)=>et.positions instanceof Float32Array?jsx(PointsBuffer,{...et,ref:_e}):jsx(PointsInstances,{...et,ref:_e}));var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(nt,rt,it,st,ot,at){if(at!==ReactPropTypesSecret){var lt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lt.name="Invariant Violation",lt}}et.isRequired=et;function _e(){return et}var tt={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:_e,element:et,elementType:et,instanceOf:_e,node:et,objectOf:_e,oneOf:_e,oneOfType:_e,shape:_e,exact:_e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tt.PropTypes=tt,tt};propTypes.exports=factoryWithThrowingShims();const CyberVideo$1="/assets/CyberBackground3.e027b7a9.mp4";function Screen5$1(et){const{nodes:_e,materials:tt}=useGLTF("/Screen5.glb"),nt=useVideoTexture(CyberVideo$1),rt=react.exports.useRef();return jsx("group",{children:jsx("group",{scale:3,position:[0,-1.6,0],children:jsx("group",{...et,dispose:null,rotation:[0,Math.PI,0],children:jsx("mesh",{geometry:_e.polySurface2.geometry,material:_e.polySurface2.material,position:[0,.53,-.73],rotation:[Math.PI/2,0,-Math.PI],scale:[1,2,.43],children:jsx("meshBasicMaterial",{map:nt,ref:rt})})})})})}useGLTF.preload("/Screen5.glb");const TitlePic="/assets/Title1.19edfee5.png",MotionConfigContext=react.exports.createContext({transformPagePoint:et=>et,isStatic:!1,reducedMotion:"never"}),MotionContext=react.exports.createContext({});function useVisualElementContext(){return react.exports.useContext(MotionContext).visualElement}const PresenceContext=react.exports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?react.exports.useLayoutEffect:react.exports.useEffect,LazyContext=react.exports.createContext({strict:!1});function useVisualElement(et,_e,tt,nt){const rt=useVisualElementContext(),it=react.exports.useContext(LazyContext),st=react.exports.useContext(PresenceContext),ot=react.exports.useContext(MotionConfigContext).reducedMotion,at=react.exports.useRef(void 0);nt=nt||it.renderer,!at.current&&nt&&(at.current=nt(et,{visualState:_e,parent:rt,props:tt,presenceId:st?st.id:void 0,blockInitialAnimation:st?st.initial===!1:!1,reducedMotionConfig:ot}));const lt=at.current;return useIsomorphicLayoutEffect(()=>{lt&&lt.syncRender()}),react.exports.useEffect(()=>{lt&&lt.animationState&&lt.animationState.animateChanges()}),useIsomorphicLayoutEffect(()=>()=>lt&&lt.notifyUnmount(),[]),lt}function isRefObject(et){return typeof et=="object"&&Object.prototype.hasOwnProperty.call(et,"current")}function useMotionRef(et,_e,tt){return react.exports.useCallback(nt=>{nt&&et.mount&&et.mount(nt),_e&&(nt?_e.mount(nt):_e.unmount()),tt&&(typeof tt=="function"?tt(nt):isRefObject(tt)&&(tt.current=nt))},[_e])}function isVariantLabel(et){return typeof et=="string"||Array.isArray(et)}function isAnimationControls(et){return typeof et=="object"&&typeof et.start=="function"}const variantProps$1=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function isControllingVariants(et){return isAnimationControls(et.animate)||variantProps$1.some(_e=>isVariantLabel(et[_e]))}function isVariantNode(et){return Boolean(isControllingVariants(et)||et.variants)}function getCurrentTreeVariants(et,_e){if(isControllingVariants(et)){const{initial:tt,animate:nt}=et;return{initial:tt===!1||isVariantLabel(tt)?tt:void 0,animate:isVariantLabel(nt)?nt:void 0}}return et.inherit!==!1?_e:{}}function useCreateMotionContext(et){const{initial:_e,animate:tt}=getCurrentTreeVariants(et,react.exports.useContext(MotionContext));return react.exports.useMemo(()=>({initial:_e,animate:tt}),[variantLabelsAsDependency(_e),variantLabelsAsDependency(tt)])}function variantLabelsAsDependency(et){return Array.isArray(et)?et.join(" "):et}const createDefinition=et=>({isEnabled:_e=>et.some(tt=>!!_e[tt])}),featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:createDefinition(["whileInView","onViewportEnter","onViewportLeave"])};function loadFeatures(et){for(const _e in et)_e==="projectionNodeConstructor"?featureDefinitions.projectionNodeConstructor=et[_e]:featureDefinitions[_e].Component=et[_e]}function useConstant(et){const _e=react.exports.useRef(null);return _e.current===null&&(_e.current=et()),_e.current}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let id=1;function useProjectionId(){return useConstant(()=>{if(globalProjectionState.hasEverUpdated)return id++})}const LayoutGroupContext=react.exports.createContext({});class VisualElementHandler extends React.Component{getSnapshotBeforeUpdate(){const{visualElement:_e,props:tt}=this.props;return _e&&_e.setProps(tt),null}componentDidUpdate(){}render(){return this.props.children}}const SwitchLayoutGroupContext=react.exports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:et,createVisualElement:_e,projectionNodeConstructor:tt,useRender:nt,useVisualState:rt,Component:it}){et&&loadFeatures(et);function st(at,lt){const ct={...react.exports.useContext(MotionConfigContext),...at,layoutId:useLayoutId(at)},{isStatic:ut}=ct;let ft=null;const ht=useCreateMotionContext(at),pt=ut?void 0:useProjectionId(),gt=rt(at,ut);if(!ut&&isBrowser){ht.visualElement=useVisualElement(it,gt,ct,_e);const dt=react.exports.useContext(LazyContext).strict,vt=react.exports.useContext(SwitchLayoutGroupContext);ht.visualElement&&(ft=ht.visualElement.loadFeatures(ct,dt,et,pt,tt||featureDefinitions.projectionNodeConstructor,vt))}return jsxs(VisualElementHandler,{visualElement:ht.visualElement,props:ct,children:[ft,jsx(MotionContext.Provider,{value:ht,children:nt(it,at,pt,useMotionRef(gt,ht.visualElement,lt),gt,ut,ht.visualElement)})]})}const ot=react.exports.forwardRef(st);return ot[motionComponentSymbol]=it,ot}function useLayoutId({layoutId:et}){const _e=react.exports.useContext(LayoutGroupContext).id;return _e&&et!==void 0?_e+"-"+et:et}function createMotionProxy(et){function _e(nt,rt={}){return createMotionComponent(et(nt,rt))}if(typeof Proxy>"u")return _e;const tt=new Map;return new Proxy(_e,{get:(nt,rt)=>(tt.has(rt)||tt.set(rt,_e(rt)),tt.get(rt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function isSVGComponent(et){return typeof et!="string"||et.includes("-")?!1:!!(lowercaseSVGElements.indexOf(et)>-1||/[A-Z]/.test(et))}const scaleCorrectors={};function addScaleCorrector(et){Object.assign(scaleCorrectors,et)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(et,{layout:_e,layoutId:tt}){return transformProps.has(et)||et.startsWith("origin")||(_e||tt!==void 0)&&(!!scaleCorrectors[et]||et==="opacity")}const isMotionValue=et=>!!(et!=null&&et.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sortTransformProps=(et,_e)=>transformPropOrder.indexOf(et)-transformPropOrder.indexOf(_e);function buildTransform({transform:et,transformKeys:_e},{enableHardwareAcceleration:tt=!0,allowTransformNone:nt=!0},rt,it){let st="";_e.sort(sortTransformProps);for(const ot of _e)st+=`${translateAlias[ot]||ot}(${et[ot]}) `;return tt&&!et.z&&(st+="translateZ(0)"),st=st.trim(),it?st=it(et,rt?"":st):nt&&rt&&(st="none"),st}function isCSSVariable$1(et){return et.startsWith("--")}const getValueAsType=(et,_e)=>_e&&typeof et=="number"?_e.transform(et):et,clamp$3=(et,_e)=>tt=>Math.max(Math.min(tt,_e),et),sanitize$6=et=>et%1?Number(et.toFixed(5)):et,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$2(et){return typeof et=="string"}const number$2={test:et=>typeof et=="number",parse:parseFloat,transform:et=>et},alpha=Object.assign(Object.assign({},number$2),{transform:clamp$3(0,1)}),scale=Object.assign(Object.assign({},number$2),{default:1}),createUnitType=et=>({test:_e=>isString$2(_e)&&_e.endsWith(et)&&_e.split(" ").length===1,parse:parseFloat,transform:_e=>`${_e}${et}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage=Object.assign(Object.assign({},percent),{parse:et=>percent.parse(et)/100,transform:et=>percent.transform(et*100)}),isColorString=(et,_e)=>tt=>Boolean(isString$2(tt)&&singleColorRegex.test(tt)&&tt.startsWith(et)||_e&&Object.prototype.hasOwnProperty.call(tt,_e)),splitColor=(et,_e,tt)=>nt=>{if(!isString$2(nt))return nt;const[rt,it,st,ot]=nt.match(floatRegex);return{[et]:parseFloat(rt),[_e]:parseFloat(it),[tt]:parseFloat(st),alpha:ot!==void 0?parseFloat(ot):1}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:et,saturation:_e,lightness:tt,alpha:nt=1})=>"hsla("+Math.round(et)+", "+percent.transform(sanitize$6(_e))+", "+percent.transform(sanitize$6(tt))+", "+sanitize$6(alpha.transform(nt))+")"},clampRgbUnit=clamp$3(0,255),rgbUnit=Object.assign(Object.assign({},number$2),{transform:et=>Math.round(clampRgbUnit(et))}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:et,green:_e,blue:tt,alpha:nt=1})=>"rgba("+rgbUnit.transform(et)+", "+rgbUnit.transform(_e)+", "+rgbUnit.transform(tt)+", "+sanitize$6(alpha.transform(nt))+")"};function parseHex(et){let _e="",tt="",nt="",rt="";return et.length>5?(_e=et.substr(1,2),tt=et.substr(3,2),nt=et.substr(5,2),rt=et.substr(7,2)):(_e=et.substr(1,1),tt=et.substr(2,1),nt=et.substr(3,1),rt=et.substr(4,1),_e+=_e,tt+=tt,nt+=nt,rt+=rt),{red:parseInt(_e,16),green:parseInt(tt,16),blue:parseInt(nt,16),alpha:rt?parseInt(rt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color$2={test:et=>rgba.test(et)||hex.test(et)||hsla.test(et),parse:et=>rgba.test(et)?rgba.parse(et):hsla.test(et)?hsla.parse(et):hex.parse(et),transform:et=>isString$2(et)?et:et.hasOwnProperty("red")?rgba.transform(et):hsla.transform(et)},colorToken="${c}",numberToken="${n}";function test(et){var _e,tt,nt,rt;return isNaN(et)&&isString$2(et)&&((tt=(_e=et.match(floatRegex))===null||_e===void 0?void 0:_e.length)!==null&&tt!==void 0?tt:0)+((rt=(nt=et.match(colorRegex))===null||nt===void 0?void 0:nt.length)!==null&&rt!==void 0?rt:0)>0}function analyse$1(et){typeof et=="number"&&(et=`${et}`);const _e=[];let tt=0;const nt=et.match(colorRegex);nt&&(tt=nt.length,et=et.replace(colorRegex,colorToken),_e.push(...nt.map(color$2.parse)));const rt=et.match(floatRegex);return rt&&(et=et.replace(floatRegex,numberToken),_e.push(...rt.map(number$2.parse))),{values:_e,numColors:tt,tokenised:et}}function parse$1(et){return analyse$1(et).values}function createTransformer(et){const{values:_e,numColors:tt,tokenised:nt}=analyse$1(et),rt=_e.length;return it=>{let st=nt;for(let ot=0;ot<rt;ot++)st=st.replace(ot<tt?colorToken:numberToken,ot<tt?color$2.transform(it[ot]):sanitize$6(it[ot]));return st}}const convertNumbersToZero=et=>typeof et=="number"?0:et;function getAnimatableNone$1(et){const _e=parse$1(et);return createTransformer(et)(_e.map(convertNumbersToZero))}const complex={test,parse:parse$1,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(et){let[_e,tt]=et.slice(0,-1).split("(");if(_e==="drop-shadow")return et;const[nt]=tt.match(floatRegex)||[];if(!nt)return et;const rt=tt.replace(nt,"");let it=maxDefaults.has(_e)?1:0;return nt!==tt&&(it*=100),_e+"("+it+rt+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter=Object.assign(Object.assign({},complex),{getAnimatableNone:et=>{const _e=et.match(functionRegex);return _e?_e.map(applyDefaultFilter).join(" "):et}}),int={...number$2,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(et,_e,tt,nt){const{style:rt,vars:it,transform:st,transformKeys:ot,transformOrigin:at}=et;ot.length=0;let lt=!1,ct=!1,ut=!0;for(const ft in _e){const ht=_e[ft];if(isCSSVariable$1(ft)){it[ft]=ht;continue}const pt=numberValueTypes[ft],gt=getValueAsType(ht,pt);if(transformProps.has(ft)){if(lt=!0,st[ft]=gt,ot.push(ft),!ut)continue;ht!==(pt.default||0)&&(ut=!1)}else ft.startsWith("origin")?(ct=!0,at[ft]=gt):rt[ft]=gt}if(_e.transform||(lt||nt?rt.transform=buildTransform(et,tt,ut,nt):rt.transform&&(rt.transform="none")),ct){const{originX:ft="50%",originY:ht="50%",originZ:pt=0}=at;rt.transformOrigin=`${ft} ${ht} ${pt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function copyRawValuesOnly(et,_e,tt){for(const nt in _e)!isMotionValue(_e[nt])&&!isForcedMotionValue(nt,tt)&&(et[nt]=_e[nt])}function useInitialMotionValues({transformTemplate:et},_e,tt){return react.exports.useMemo(()=>{const nt=createHtmlRenderState();return buildHTMLStyles(nt,_e,{enableHardwareAcceleration:!tt},et),Object.assign({},nt.vars,nt.style)},[_e])}function useStyle(et,_e,tt){const nt=et.style||{},rt={};return copyRawValuesOnly(rt,nt,et),Object.assign(rt,useInitialMotionValues(et,_e,tt)),et.transformValues?et.transformValues(rt):rt}function useHTMLProps(et,_e,tt){const nt={},rt=useStyle(et,_e,tt);return et.drag&&et.dragListener!==!1&&(nt.draggable=!1,rt.userSelect=rt.WebkitUserSelect=rt.WebkitTouchCallout="none",rt.touchAction=et.drag===!0?"none":`pan-${et.drag==="x"?"y":"x"}`),nt.style=rt,nt}const animationProps=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],tapProps=["whileTap","onTap","onTapStart","onTapCancel"],panProps=["onPan","onPanStart","onPanSessionStart","onPanEnd"],inViewProps=["whileInView","onViewportEnter","onViewportLeave","viewport"],validMotionProps=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...inViewProps,...tapProps,...animationProps,...panProps]);function isValidMotionProp(et){return validMotionProps.has(et)}let shouldForward=et=>!isValidMotionProp(et);function loadExternalIsValidProp(et){!et||(shouldForward=_e=>_e.startsWith("on")?!isValidMotionProp(_e):et(_e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(et,_e,tt){const nt={};for(const rt in et)(shouldForward(rt)||tt===!0&&isValidMotionProp(rt)||!_e&&!isValidMotionProp(rt)||et.draggable&&rt.startsWith("onDrag"))&&(nt[rt]=et[rt]);return nt}function calcOrigin$1(et,_e,tt){return typeof et=="string"?et:px.transform(_e+tt*et)}function calcSVGTransformOrigin(et,_e,tt){const nt=calcOrigin$1(_e,et.x,et.width),rt=calcOrigin$1(tt,et.y,et.height);return`${nt} ${rt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(et,_e,tt=1,nt=0,rt=!0){et.pathLength=1;const it=rt?dashKeys:camelKeys;et[it.offset]=px.transform(-nt);const st=px.transform(_e),ot=px.transform(tt);et[it.array]=`${st} ${ot}`}function buildSVGAttrs(et,{attrX:_e,attrY:tt,originX:nt,originY:rt,pathLength:it,pathSpacing:st=1,pathOffset:ot=0,...at},lt,ct){buildHTMLStyles(et,at,lt,ct),et.attrs=et.style,et.style={};const{attrs:ut,style:ft,dimensions:ht}=et;ut.transform&&(ht&&(ft.transform=ut.transform),delete ut.transform),ht&&(nt!==void 0||rt!==void 0||ft.transform)&&(ft.transformOrigin=calcSVGTransformOrigin(ht,nt!==void 0?nt:.5,rt!==void 0?rt:.5)),_e!==void 0&&(ut.x=_e),tt!==void 0&&(ut.y=tt),it!==void 0&&buildSVGPath(ut,it,st,ot,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}});function useSVGProps(et,_e){const tt=react.exports.useMemo(()=>{const nt=createSvgRenderState();return buildSVGAttrs(nt,_e,{enableHardwareAcceleration:!1},et.transformTemplate),{...nt.attrs,style:{...nt.style}}},[_e]);if(et.style){const nt={};copyRawValuesOnly(nt,et.style,et),tt.style={...nt,...tt.style}}return tt}function createUseRender(et=!1){return(tt,nt,rt,it,{latestValues:st},ot)=>{const lt=(isSVGComponent(tt)?useSVGProps:useHTMLProps)(nt,st,ot),ut={...filterProps(nt,typeof tt=="string",et),...lt,ref:it};return rt&&(ut["data-projection-id"]=rt),react.exports.createElement(tt,ut)}}const camelToDash=et=>et.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function renderHTML(et,{style:_e,vars:tt},nt,rt){Object.assign(et.style,_e,rt&&rt.getProjectionStyles(nt));for(const it in tt)et.style.setProperty(it,tt[it])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function renderSVG(et,_e,tt,nt){renderHTML(et,_e,void 0,nt);for(const rt in _e.attrs)et.setAttribute(camelCaseAttributes.has(rt)?rt:camelToDash(rt),_e.attrs[rt])}function scrapeMotionValuesFromProps$1(et){const{style:_e}=et,tt={};for(const nt in _e)(isMotionValue(_e[nt])||isForcedMotionValue(nt,et))&&(tt[nt]=_e[nt]);return tt}function scrapeMotionValuesFromProps(et){const _e=scrapeMotionValuesFromProps$1(et);for(const tt in et)if(isMotionValue(et[tt])){const nt=tt==="x"||tt==="y"?"attr"+tt.toUpperCase():tt;_e[nt]=et[tt]}return _e}function resolveVariantFromProps(et,_e,tt,nt={},rt={}){return typeof _e=="function"&&(_e=_e(tt!==void 0?tt:et.custom,nt,rt)),typeof _e=="string"&&(_e=et.variants&&et.variants[_e]),typeof _e=="function"&&(_e=_e(tt!==void 0?tt:et.custom,nt,rt)),_e}const isKeyframesTarget=et=>Array.isArray(et),isCustomValue=et=>Boolean(et&&typeof et=="object"&&et.mix&&et.toValue),resolveFinalValueInKeyframes=et=>isKeyframesTarget(et)?et[et.length-1]||0:et;function resolveMotionValue(et){const _e=isMotionValue(et)?et.get():et;return isCustomValue(_e)?_e.toValue():_e}function makeState({scrapeMotionValuesFromProps:et,createRenderState:_e,onMount:tt},nt,rt,it){const st={latestValues:makeLatestValues(nt,rt,it,et),renderState:_e()};return tt&&(st.mount=ot=>tt(nt,ot,st)),st}const makeUseVisualState=et=>(_e,tt)=>{const nt=react.exports.useContext(MotionContext),rt=react.exports.useContext(PresenceContext),it=()=>makeState(et,_e,nt,rt);return tt?it():useConstant(it)};function makeLatestValues(et,_e,tt,nt){const rt={},it=nt(et);for(const ft in it)rt[ft]=resolveMotionValue(it[ft]);let{initial:st,animate:ot}=et;const at=isControllingVariants(et),lt=isVariantNode(et);_e&&lt&&!at&&et.inherit!==!1&&(st===void 0&&(st=_e.initial),ot===void 0&&(ot=_e.animate));let ct=tt?tt.initial===!1:!1;ct=ct||st===!1;const ut=ct?ot:st;return ut&&typeof ut!="boolean"&&!isAnimationControls(ut)&&(Array.isArray(ut)?ut:[ut]).forEach(ht=>{const pt=resolveVariantFromProps(et,ht);if(!pt)return;const{transitionEnd:gt,transition:dt,...vt}=pt;for(const xt in vt){let _t=vt[xt];if(Array.isArray(_t)){const bt=ct?_t.length-1:0;_t=_t[bt]}_t!==null&&(rt[xt]=_t)}for(const xt in gt)rt[xt]=gt[xt]}),rt}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(et,_e,{renderState:tt,latestValues:nt})=>{try{tt.dimensions=typeof _e.getBBox=="function"?_e.getBBox():_e.getBoundingClientRect()}catch{tt.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(tt,nt,{enableHardwareAcceleration:!1},et.transformTemplate),renderSVG(_e,tt)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(et,{forwardMotionProps:_e=!1},tt,nt,rt){return{...isSVGComponent(et)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:tt,useRender:createUseRender(_e),createVisualElement:nt,projectionNodeConstructor:rt,Component:et}}var AnimationType;(function(et){et.Animate="animate",et.Hover="whileHover",et.Tap="whileTap",et.Drag="whileDrag",et.Focus="whileFocus",et.InView="whileInView",et.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(et,_e,tt,nt={passive:!0}){return et.addEventListener(_e,tt,nt),()=>et.removeEventListener(_e,tt)}function useDomEvent(et,_e,tt,nt){react.exports.useEffect(()=>{const rt=et.current;if(tt&&rt)return addDomEvent(rt,_e,tt,nt)},[et,_e,tt,nt])}function useFocusGesture({whileFocus:et,visualElement:_e}){const{animationState:tt}=_e,nt=()=>{tt&&tt.setActive(AnimationType.Focus,!0)},rt=()=>{tt&&tt.setActive(AnimationType.Focus,!1)};useDomEvent(_e,"focus",et?nt:void 0),useDomEvent(_e,"blur",et?rt:void 0)}function isMouseEvent(et){return typeof PointerEvent<"u"&&et instanceof PointerEvent?et.pointerType==="mouse":et instanceof MouseEvent}function isTouchEvent(et){return!!et.touches}function filterPrimaryPointer(et){return _e=>{const tt=_e instanceof MouseEvent;(!tt||tt&&_e.button===0)&&et(_e)}}const defaultPagePoint={pageX:0,pageY:0};function pointFromTouch(et,_e="page"){const nt=et.touches[0]||et.changedTouches[0]||defaultPagePoint;return{x:nt[_e+"X"],y:nt[_e+"Y"]}}function pointFromMouse(et,_e="page"){return{x:et[_e+"X"],y:et[_e+"Y"]}}function extractEventInfo(et,_e="page"){return{point:isTouchEvent(et)?pointFromTouch(et,_e):pointFromMouse(et,_e)}}const wrapHandler=(et,_e=!1)=>{const tt=nt=>et(nt,extractEventInfo(nt));return _e?filterPrimaryPointer(tt):tt},supportsPointerEvents=()=>isBrowser&&window.onpointerdown===null,supportsTouchEvents=()=>isBrowser&&window.ontouchstart===null,supportsMouseEvents=()=>isBrowser&&window.onmousedown===null,mouseEventNames={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},touchEventNames={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(et){return supportsPointerEvents()?et:supportsTouchEvents()?touchEventNames[et]:supportsMouseEvents()?mouseEventNames[et]:et}function addPointerEvent(et,_e,tt,nt){return addDomEvent(et,getPointerEventName(_e),wrapHandler(tt,_e==="pointerdown"),nt)}function usePointerEvent(et,_e,tt,nt){return useDomEvent(et,getPointerEventName(_e),tt&&wrapHandler(tt,_e==="pointerdown"),nt)}function createLock(et){let _e=null;return()=>{const tt=()=>{_e=null};return _e===null?(_e=et,tt):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(et){let _e=!1;if(et==="y")_e=globalVerticalLock();else if(et==="x")_e=globalHorizontalLock();else{const tt=globalHorizontalLock(),nt=globalVerticalLock();tt&&nt?_e=()=>{tt(),nt()}:(tt&&tt(),nt&&nt())}return _e}function isDragActive(){const et=getGlobalLock(!0);return et?(et(),!1):!0}function createHoverEvent(et,_e,tt){return(nt,rt)=>{!isMouseEvent(nt)||isDragActive()||(et.animationState&&et.animationState.setActive(AnimationType.Hover,_e),tt&&tt(nt,rt))}}function useHoverGesture({onHoverStart:et,onHoverEnd:_e,whileHover:tt,visualElement:nt}){usePointerEvent(nt,"pointerenter",et||tt?createHoverEvent(nt,!0,et):void 0,{passive:!et}),usePointerEvent(nt,"pointerleave",_e||tt?createHoverEvent(nt,!1,_e):void 0,{passive:!_e})}const isNodeOrChild=(et,_e)=>_e?et===_e?!0:isNodeOrChild(et,_e.parentElement):!1;function useUnmountEffect(et){return react.exports.useEffect(()=>()=>et(),[])}function __rest$1(et,_e){var tt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&_e.indexOf(nt)<0&&(tt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,nt=Object.getOwnPropertySymbols(et);rt<nt.length;rt++)_e.indexOf(nt[rt])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[rt])&&(tt[nt[rt]]=et[nt[rt]]);return tt}var warning=function(){},invariant=function(){};const clamp$2=(et,_e,tt)=>Math.min(Math.max(tt,et),_e),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:et=800,bounce:_e=.25,velocity:tt=0,mass:nt=1}){let rt,it;warning(et<=maxDuration*1e3);let st=1-_e;st=clamp$2(minDamping,maxDamping,st),et=clamp$2(minDuration,maxDuration,et/1e3),st<1?(rt=lt=>{const ct=lt*st,ut=ct*et,ft=ct-tt,ht=calcAngularFreq(lt,st),pt=Math.exp(-ut);return safeMin-ft/ht*pt},it=lt=>{const ut=lt*st*et,ft=ut*tt+tt,ht=Math.pow(st,2)*Math.pow(lt,2)*et,pt=Math.exp(-ut),gt=calcAngularFreq(Math.pow(lt,2),st);return(-rt(lt)+safeMin>0?-1:1)*((ft-ht)*pt)/gt}):(rt=lt=>{const ct=Math.exp(-lt*et),ut=(lt-tt)*et+1;return-safeMin+ct*ut},it=lt=>{const ct=Math.exp(-lt*et),ut=(tt-lt)*(et*et);return ct*ut});const ot=5/et,at=approximateRoot(rt,it,ot);if(et=et*1e3,isNaN(at))return{stiffness:100,damping:10,duration:et};{const lt=Math.pow(at,2)*nt;return{stiffness:lt,damping:st*2*Math.sqrt(nt*lt),duration:et}}}const rootIterations=12;function approximateRoot(et,_e,tt){let nt=tt;for(let rt=1;rt<rootIterations;rt++)nt=nt-et(nt)/_e(nt);return nt}function calcAngularFreq(et,_e){return et*Math.sqrt(1-_e*_e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(et,_e){return _e.some(tt=>et[tt]!==void 0)}function getSpringOptions(et){let _e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},et);if(!isSpringType(et,physicsKeys)&&isSpringType(et,durationKeys)){const tt=findSpring(et);_e=Object.assign(Object.assign(Object.assign({},_e),tt),{velocity:0,mass:1}),_e.isResolvedFromDuration=!0}return _e}function spring(et){var{from:_e=0,to:tt=1,restSpeed:nt=2,restDelta:rt}=et,it=__rest$1(et,["from","to","restSpeed","restDelta"]);const st={done:!1,value:_e};let{stiffness:ot,damping:at,mass:lt,velocity:ct,duration:ut,isResolvedFromDuration:ft}=getSpringOptions(it),ht=zero,pt=zero;function gt(){const dt=ct?-(ct/1e3):0,vt=tt-_e,xt=at/(2*Math.sqrt(ot*lt)),_t=Math.sqrt(ot/lt)/1e3;if(rt===void 0&&(rt=Math.min(Math.abs(tt-_e)/100,.4)),xt<1){const bt=calcAngularFreq(_t,xt);ht=At=>{const Mt=Math.exp(-xt*_t*At);return tt-Mt*((dt+xt*_t*vt)/bt*Math.sin(bt*At)+vt*Math.cos(bt*At))},pt=At=>{const Mt=Math.exp(-xt*_t*At);return xt*_t*Mt*(Math.sin(bt*At)*(dt+xt*_t*vt)/bt+vt*Math.cos(bt*At))-Mt*(Math.cos(bt*At)*(dt+xt*_t*vt)-bt*vt*Math.sin(bt*At))}}else if(xt===1)ht=bt=>tt-Math.exp(-_t*bt)*(vt+(dt+_t*vt)*bt);else{const bt=_t*Math.sqrt(xt*xt-1);ht=At=>{const Mt=Math.exp(-xt*_t*At),Tt=Math.min(bt*At,300);return tt-Mt*((dt+xt*_t*vt)*Math.sinh(Tt)+bt*vt*Math.cosh(Tt))/bt}}}return gt(),{next:dt=>{const vt=ht(dt);if(ft)st.done=dt>=ut;else{const xt=pt(dt)*1e3,_t=Math.abs(xt)<=nt,bt=Math.abs(tt-vt)<=rt;st.done=_t&&bt}return st.value=st.done?tt:vt,st},flipTarget:()=>{ct=-ct,[_e,tt]=[tt,_e],gt()}}}spring.needsInterpolation=(et,_e)=>typeof et=="string"||typeof _e=="string";const zero=et=>0,progress$1=(et,_e,tt)=>{const nt=_e-et;return nt===0?1:(tt-et)/nt},mix$1=(et,_e,tt)=>-tt*et+tt*_e+et;function hueToRgb(et,_e,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(_e-et)*6*tt:tt<1/2?_e:tt<2/3?et+(_e-et)*(2/3-tt)*6:et}function hslaToRgba({hue:et,saturation:_e,lightness:tt,alpha:nt}){et/=360,_e/=100,tt/=100;let rt=0,it=0,st=0;if(!_e)rt=it=st=tt;else{const ot=tt<.5?tt*(1+_e):tt+_e-tt*_e,at=2*tt-ot;rt=hueToRgb(at,ot,et+1/3),it=hueToRgb(at,ot,et),st=hueToRgb(at,ot,et-1/3)}return{red:Math.round(rt*255),green:Math.round(it*255),blue:Math.round(st*255),alpha:nt}}const mixLinearColor=(et,_e,tt)=>{const nt=et*et,rt=_e*_e;return Math.sqrt(Math.max(0,tt*(rt-nt)+nt))},colorTypes=[hex,rgba,hsla],getColorType=et=>colorTypes.find(_e=>_e.test(et)),mixColor=(et,_e)=>{let tt=getColorType(et),nt=getColorType(_e),rt=tt.parse(et),it=nt.parse(_e);tt===hsla&&(rt=hslaToRgba(rt),tt=rgba),nt===hsla&&(it=hslaToRgba(it),nt=rgba);const st=Object.assign({},rt);return ot=>{for(const at in st)at!=="alpha"&&(st[at]=mixLinearColor(rt[at],it[at],ot));return st.alpha=mix$1(rt.alpha,it.alpha,ot),tt.transform(st)}},isNum=et=>typeof et=="number",combineFunctions=(et,_e)=>tt=>_e(et(tt)),pipe=(...et)=>et.reduce(combineFunctions);function getMixer(et,_e){return isNum(et)?tt=>mix$1(et,_e,tt):color$2.test(et)?mixColor(et,_e):mixComplex(et,_e)}const mixArray=(et,_e)=>{const tt=[...et],nt=tt.length,rt=et.map((it,st)=>getMixer(it,_e[st]));return it=>{for(let st=0;st<nt;st++)tt[st]=rt[st](it);return tt}},mixObject=(et,_e)=>{const tt=Object.assign(Object.assign({},et),_e),nt={};for(const rt in tt)et[rt]!==void 0&&_e[rt]!==void 0&&(nt[rt]=getMixer(et[rt],_e[rt]));return rt=>{for(const it in nt)tt[it]=nt[it](rt);return tt}};function analyse(et){const _e=complex.parse(et),tt=_e.length;let nt=0,rt=0,it=0;for(let st=0;st<tt;st++)nt||typeof _e[st]=="number"?nt++:_e[st].hue!==void 0?it++:rt++;return{parsed:_e,numNumbers:nt,numRGB:rt,numHSL:it}}const mixComplex=(et,_e)=>{const tt=complex.createTransformer(_e),nt=analyse(et),rt=analyse(_e);return nt.numHSL===rt.numHSL&&nt.numRGB===rt.numRGB&&nt.numNumbers>=rt.numNumbers?pipe(mixArray(nt.parsed,rt.parsed),tt):st=>`${st>0?_e:et}`},mixNumber=(et,_e)=>tt=>mix$1(et,_e,tt);function detectMixerFactory(et){if(typeof et=="number")return mixNumber;if(typeof et=="string")return color$2.test(et)?mixColor:mixComplex;if(Array.isArray(et))return mixArray;if(typeof et=="object")return mixObject}function createMixers(et,_e,tt){const nt=[],rt=tt||detectMixerFactory(et[0]),it=et.length-1;for(let st=0;st<it;st++){let ot=rt(et[st],et[st+1]);if(_e){const at=Array.isArray(_e)?_e[st]:_e;ot=pipe(at,ot)}nt.push(ot)}return nt}function fastInterpolate([et,_e],[tt]){return nt=>tt(progress$1(et,_e,nt))}function slowInterpolate(et,_e){const tt=et.length,nt=tt-1;return rt=>{let it=0,st=!1;if(rt<=et[0]?st=!0:rt>=et[nt]&&(it=nt-1,st=!0),!st){let at=1;for(;at<tt&&!(et[at]>rt||at===nt);at++);it=at-1}const ot=progress$1(et[it],et[it+1],rt);return _e[it](ot)}}function interpolate$1(et,_e,{clamp:tt=!0,ease:nt,mixer:rt}={}){const it=et.length;invariant(it===_e.length),invariant(!nt||!Array.isArray(nt)||nt.length===it-1),et[0]>et[it-1]&&(et=[].concat(et),_e=[].concat(_e),et.reverse(),_e.reverse());const st=createMixers(_e,nt,rt),ot=it===2?fastInterpolate(et,st):slowInterpolate(et,st);return tt?at=>ot(clamp$2(et[0],et[it-1],at)):ot}const reverseEasing=et=>_e=>1-et(1-_e),mirrorEasing=et=>_e=>_e<=.5?et(2*_e)/2:(2-et(2*(1-_e)))/2,createExpoIn=et=>_e=>Math.pow(_e,et),createBackIn=et=>_e=>_e*_e*((et+1)*_e-et),createAnticipate=et=>{const _e=createBackIn(et);return tt=>(tt*=2)<1?.5*_e(tt):.5*(2-Math.pow(2,-10*(tt-1)))},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=et=>et,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=et=>1-Math.sin(Math.acos(et)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceOut=et=>{if(et===1||et===0)return et;const _e=et*et;return et<BOUNCE_FIRST_THRESHOLD?7.5625*_e:et<BOUNCE_SECOND_THRESHOLD?9.075*_e-9.9*et+3.4:et<BOUNCE_THIRD_THRESHOLD?ca*_e-cb*et+cc:10.8*et*et-20.52*et+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=et=>et<.5?.5*(1-bounceOut(1-et*2)):.5*bounceOut(et*2-1)+.5;function defaultEasing(et,_e){return et.map(()=>_e||easeInOut).splice(0,et.length-1)}function defaultOffset$2(et){const _e=et.length;return et.map((tt,nt)=>nt!==0?nt/(_e-1):0)}function convertOffsetToTimes(et,_e){return et.map(tt=>tt*_e)}function keyframes$2({from:et=0,to:_e=1,ease:tt,offset:nt,duration:rt=300}){const it={done:!1,value:et},st=Array.isArray(_e)?_e:[et,_e],ot=convertOffsetToTimes(nt&&nt.length===st.length?nt:defaultOffset$2(st),rt);function at(){return interpolate$1(ot,st,{ease:Array.isArray(tt)?tt:defaultEasing(st,tt)})}let lt=at();return{next:ct=>(it.value=lt(ct),it.done=ct>=rt,it),flipTarget:()=>{st.reverse(),lt=at()}}}function decay({velocity:et=0,from:_e=0,power:tt=.8,timeConstant:nt=350,restDelta:rt=.5,modifyTarget:it}){const st={done:!1,value:_e};let ot=tt*et;const at=_e+ot,lt=it===void 0?at:it(at);return lt!==at&&(ot=lt-_e),{next:ct=>{const ut=-ot*Math.exp(-ct/nt);return st.done=!(ut>rt||ut<-rt),st.value=st.done?lt:lt+ut,st},flipTarget:()=>{}}}const types={keyframes:keyframes$2,spring,decay};function detectAnimationFromOptions(et){if(Array.isArray(et.to))return keyframes$2;if(types[et.type])return types[et.type];const _e=new Set(Object.keys(et));return _e.has("ease")||_e.has("duration")&&!_e.has("dampingRatio")?keyframes$2:_e.has("dampingRatio")||_e.has("stiffness")||_e.has("mass")||_e.has("damping")||_e.has("restSpeed")||_e.has("restDelta")?spring:keyframes$2}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?et=>window.requestAnimationFrame(et):et=>setTimeout(()=>et(getCurrentTime()),defaultTimestep);function createRenderStep(et){let _e=[],tt=[],nt=0,rt=!1,it=!1;const st=new WeakSet,ot={schedule:(at,lt=!1,ct=!1)=>{const ut=ct&&rt,ft=ut?_e:tt;return lt&&st.add(at),ft.indexOf(at)===-1&&(ft.push(at),ut&&rt&&(nt=_e.length)),at},cancel:at=>{const lt=tt.indexOf(at);lt!==-1&&tt.splice(lt,1),st.delete(at)},process:at=>{if(rt){it=!0;return}if(rt=!0,[_e,tt]=[tt,_e],tt.length=0,nt=_e.length,nt)for(let lt=0;lt<nt;lt++){const ct=_e[lt];ct(at),st.has(ct)&&(ot.schedule(ct),et())}rt=!1,it&&(it=!1,ot.process(at))}};return ot}const maxElapsed$1=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((et,_e)=>(et[_e]=createRenderStep(()=>runNextFrame=!0),et),{}),sync=stepsOrder.reduce((et,_e)=>{const tt=steps[_e];return et[_e]=(nt,rt=!1,it=!1)=>(runNextFrame||startLoop(),tt.schedule(nt,rt,it)),et},{}),cancelSync=stepsOrder.reduce((et,_e)=>(et[_e]=steps[_e].cancel,et),{}),flushSync=stepsOrder.reduce((et,_e)=>(et[_e]=()=>steps[_e].process(frame),et),{}),processStep=et=>steps[et].process(frame),processFrame=et=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(et-frame.timestamp,maxElapsed$1),1),frame.timestamp=et,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame;function loopElapsed(et,_e,tt=0){return et-_e-tt}function reverseElapsed(et,_e,tt=0,nt=!0){return nt?loopElapsed(_e+-et,_e,tt):_e-(et-_e)+tt}function hasRepeatDelayElapsed(et,_e,tt,nt){return nt?et>=_e+tt:et<=-tt}const framesync=et=>{const _e=({delta:tt})=>et(tt);return{start:()=>sync.update(_e,!0),stop:()=>cancelSync.update(_e)}};function animate$1(et){var _e,tt,{from:nt,autoplay:rt=!0,driver:it=framesync,elapsed:st=0,repeat:ot=0,repeatType:at="loop",repeatDelay:lt=0,onPlay:ct,onStop:ut,onComplete:ft,onRepeat:ht,onUpdate:pt}=et,gt=__rest$1(et,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:dt}=gt,vt,xt=0,_t=gt.duration,bt,At=!1,Mt=!0,Tt;const St=detectAnimationFromOptions(gt);!((tt=(_e=St).needsInterpolation)===null||tt===void 0)&&tt.call(_e,nt,dt)&&(Tt=interpolate$1([0,100],[nt,dt],{clamp:!1}),nt=0,dt=100);const Ct=St(Object.assign(Object.assign({},gt),{from:nt,to:dt}));function Et(){xt++,at==="reverse"?(Mt=xt%2===0,st=reverseElapsed(st,_t,lt,Mt)):(st=loopElapsed(st,_t,lt),at==="mirror"&&Ct.flipTarget()),At=!1,ht&&ht()}function Rt(){vt.stop(),ft&&ft()}function It(kt){if(Mt||(kt=-kt),st+=kt,!At){const $t=Ct.next(Math.max(0,st));bt=$t.value,Tt&&(bt=Tt(bt)),At=Mt?$t.done:st<=0}pt==null||pt(bt),At&&(xt===0&&(_t!=null||(_t=st)),xt<ot?hasRepeatDelayElapsed(st,_t,lt,Mt)&&Et():Rt())}function Ot(){ct==null||ct(),vt=it(It),vt.start()}return rt&&Ot(),{stop:()=>{ut==null||ut(),vt.stop()}}}function velocityPerSecond$1(et,_e){return _e?et*(1e3/_e):0}function inertia({from:et=0,velocity:_e=0,min:tt,max:nt,power:rt=.8,timeConstant:it=750,bounceStiffness:st=500,bounceDamping:ot=10,restDelta:at=1,modifyTarget:lt,driver:ct,onUpdate:ut,onComplete:ft,onStop:ht}){let pt;function gt(_t){return tt!==void 0&&_t<tt||nt!==void 0&&_t>nt}function dt(_t){return tt===void 0?nt:nt===void 0||Math.abs(tt-_t)<Math.abs(nt-_t)?tt:nt}function vt(_t){pt==null||pt.stop(),pt=animate$1(Object.assign(Object.assign({},_t),{driver:ct,onUpdate:bt=>{var At;ut==null||ut(bt),(At=_t.onUpdate)===null||At===void 0||At.call(_t,bt)},onComplete:ft,onStop:ht}))}function xt(_t){vt(Object.assign({type:"spring",stiffness:st,damping:ot,restDelta:at},_t))}if(gt(et))xt({from:et,velocity:_e,to:dt(et)});else{let _t=rt*_e+et;typeof lt<"u"&&(_t=lt(_t));const bt=dt(_t),At=bt===tt?-1:1;let Mt,Tt;const St=Ct=>{Mt=Tt,Tt=Ct,_e=velocityPerSecond$1(Ct-Mt,getFrameData().delta),(At===1&&Ct>bt||At===-1&&Ct<bt)&&xt({from:Ct,to:bt,velocity:_e})};vt({type:"decay",from:et,velocity:_e,timeConstant:it,power:rt,restDelta:at,modifyTarget:lt,onUpdate:gt(_t)?St:void 0})}return{stop:()=>pt==null?void 0:pt.stop()}}const isPoint=et=>et.hasOwnProperty("x")&&et.hasOwnProperty("y"),isPoint3D=et=>isPoint(et)&&et.hasOwnProperty("z"),distance1D=(et,_e)=>Math.abs(et-_e);function distance(et,_e){if(isNum(et)&&isNum(_e))return distance1D(et,_e);if(isPoint(et)&&isPoint(_e)){const tt=distance1D(et.x,_e.x),nt=distance1D(et.y,_e.y),rt=isPoint3D(et)&&isPoint3D(_e)?distance1D(et.z,_e.z):0;return Math.sqrt(Math.pow(tt,2)+Math.pow(nt,2)+Math.pow(rt,2))}}const a$3=(et,_e)=>1-3*_e+3*et,b$4=(et,_e)=>3*_e-6*et,c$5=et=>3*et,calcBezier=(et,_e,tt)=>((a$3(_e,tt)*et+b$4(_e,tt))*et+c$5(_e))*et,getSlope=(et,_e,tt)=>3*a$3(_e,tt)*et*et+2*b$4(_e,tt)*et+c$5(_e),subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(et,_e,tt,nt,rt){let it,st,ot=0;do st=_e+(tt-_e)/2,it=calcBezier(st,nt,rt)-et,it>0?tt=st:_e=st;while(Math.abs(it)>subdivisionPrecision&&++ot<subdivisionMaxIterations);return st}const newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(et,_e,tt,nt){for(let rt=0;rt<newtonIterations;++rt){const it=getSlope(_e,tt,nt);if(it===0)return _e;_e-=(calcBezier(_e,tt,nt)-et)/it}return _e}const kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(et,_e,tt,nt){if(et===_e&&tt===nt)return linear;const rt=new Float32Array(kSplineTableSize);for(let st=0;st<kSplineTableSize;++st)rt[st]=calcBezier(st*kSampleStepSize,et,tt);function it(st){let ot=0,at=1;const lt=kSplineTableSize-1;for(;at!==lt&&rt[at]<=st;++at)ot+=kSampleStepSize;--at;const ct=(st-rt[at])/(rt[at+1]-rt[at]),ut=ot+ct*kSampleStepSize,ft=getSlope(ut,et,tt);return ft>=newtonMinSlope?newtonRaphsonIterate(st,ut,et,tt):ft===0?ut:binarySubdivide(st,ot,ot+kSampleStepSize,et,tt)}return st=>st===0||st===1?st:calcBezier(it(st),_e,nt)}function useTapGesture({onTap:et,onTapStart:_e,onTapCancel:tt,whileTap:nt,visualElement:rt}){const it=et||_e||tt||nt,st=react.exports.useRef(!1),ot=react.exports.useRef(null),at={passive:!(_e||et||tt||ht)};function lt(){ot.current&&ot.current(),ot.current=null}function ct(){return lt(),st.current=!1,rt.animationState&&rt.animationState.setActive(AnimationType.Tap,!1),!isDragActive()}function ut(pt,gt){!ct()||(isNodeOrChild(rt.getInstance(),pt.target)?et&&et(pt,gt):tt&&tt(pt,gt))}function ft(pt,gt){!ct()||tt&&tt(pt,gt)}function ht(pt,gt){lt(),!st.current&&(st.current=!0,ot.current=pipe(addPointerEvent(window,"pointerup",ut,at),addPointerEvent(window,"pointercancel",ft,at)),rt.animationState&&rt.animationState.setActive(AnimationType.Tap,!0),_e&&_e(pt,gt))}usePointerEvent(rt,"pointerdown",it?ht:void 0,at),useUnmountEffect(lt)}const defaultEnvironment="production",env=typeof process>"u"||process.env===void 0?defaultEnvironment:"production",warned=new Set;function warnOnce(et,_e,tt){et||warned.has(_e)||(console.warn(_e),tt&&console.warn(tt),warned.add(_e))}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=et=>{const _e=observerCallbacks.get(et.target);_e&&_e(et)},fireAllObserverCallbacks=et=>{et.forEach(fireObserverCallback)};function initIntersectionObserver({root:et,..._e}){const tt=et||document;observers.has(tt)||observers.set(tt,{});const nt=observers.get(tt),rt=JSON.stringify(_e);return nt[rt]||(nt[rt]=new IntersectionObserver(fireAllObserverCallbacks,{root:et,..._e})),nt[rt]}function observeIntersection(et,_e,tt){const nt=initIntersectionObserver(_e);return observerCallbacks.set(et,tt),nt.observe(et),()=>{observerCallbacks.delete(et),nt.unobserve(et)}}function useViewport({visualElement:et,whileInView:_e,onViewportEnter:tt,onViewportLeave:nt,viewport:rt={}}){const it=react.exports.useRef({hasEnteredView:!1,isInView:!1});let st=Boolean(_e||tt||nt);rt.once&&it.current.hasEnteredView&&(st=!1),(typeof IntersectionObserver>"u"?useMissingIntersectionObserver:useIntersectionObserver)(st,it.current,et,rt)}const thresholdNames={some:0,all:1};function useIntersectionObserver(et,_e,tt,{root:nt,margin:rt,amount:it="some",once:st}){react.exports.useEffect(()=>{if(!et)return;const ot={root:nt==null?void 0:nt.current,rootMargin:rt,threshold:typeof it=="number"?it:thresholdNames[it]},at=lt=>{const{isIntersecting:ct}=lt;if(_e.isInView===ct||(_e.isInView=ct,st&&!ct&&_e.hasEnteredView))return;ct&&(_e.hasEnteredView=!0),tt.animationState&&tt.animationState.setActive(AnimationType.InView,ct);const ut=tt.getProps(),ft=ct?ut.onViewportEnter:ut.onViewportLeave;ft&&ft(lt)};return observeIntersection(tt.getInstance(),ot,at)},[et,nt,rt,it])}function useMissingIntersectionObserver(et,_e,tt,{fallback:nt=!0}){react.exports.useEffect(()=>{!et||!nt||(env!=="production"&&warnOnce(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{_e.hasEnteredView=!0;const{onViewportEnter:rt}=tt.getProps();rt&&rt(null),tt.animationState&&tt.animationState.setActive(AnimationType.InView,!0)}))},[et])}const makeRenderlessComponent=et=>_e=>(et(_e),null),gestureAnimations={inView:makeRenderlessComponent(useViewport),tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)};function usePresence(){const et=react.exports.useContext(PresenceContext);if(et===null)return[!0,null];const{isPresent:_e,onExitComplete:tt,register:nt}=et,rt=react.exports.useId();return react.exports.useEffect(()=>nt(rt),[]),!_e&&tt?[!1,()=>tt&&tt(rt)]:[!0]}function shallowCompare(et,_e){if(!Array.isArray(_e))return!1;const tt=_e.length;if(tt!==et.length)return!1;for(let nt=0;nt<tt;nt++)if(_e[nt]!==et[nt])return!1;return!0}const secondsToMilliseconds=et=>et*1e3,easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut},easingDefinitionToFunction=et=>{if(Array.isArray(et)){invariant(et.length===4);const[_e,tt,nt,rt]=et;return cubicBezier(_e,tt,nt,rt)}else if(typeof et=="string")return easingLookup[et];return et},isEasingArray=et=>Array.isArray(et)&&typeof et[0]!="number",isAnimatable=(et,_e)=>et==="zIndex"?!1:!!(typeof _e=="number"||Array.isArray(_e)||typeof _e=="string"&&complex.test(_e)&&!_e.startsWith("url(")),underDampedSpring=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),criticallyDampedSpring=et=>({type:"spring",stiffness:550,damping:et===0?2*Math.sqrt(550):30,restSpeed:10}),linearTween=()=>({type:"keyframes",ease:"linear",duration:.3}),keyframes$1=et=>({type:"keyframes",duration:.8,values:et}),defaultTransitions={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=(et,_e)=>{let tt;return isKeyframesTarget(_e)?tt=keyframes$1:tt=defaultTransitions[et]||defaultTransitions.default,{to:_e,...tt(_e)}},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter,WebkitFilter:filter},getDefaultValueType=et=>defaultValueTypes[et];function getAnimatableNone(et,_e){var tt;let nt=getDefaultValueType(et);return nt!==filter&&(nt=complex),(tt=nt.getAnimatableNone)===null||tt===void 0?void 0:tt.call(nt,_e)}const instantAnimationState={current:!1};function isTransitionDefined({when:et,delay:_e,delayChildren:tt,staggerChildren:nt,staggerDirection:rt,repeat:it,repeatType:st,repeatDelay:ot,from:at,...lt}){return!!Object.keys(lt).length}function convertTransitionToAnimationOptions({ease:et,times:_e,yoyo:tt,flip:nt,loop:rt,...it}){const st={...it};return _e&&(st.offset=_e),it.duration&&(st.duration=secondsToMilliseconds(it.duration)),it.repeatDelay&&(st.repeatDelay=secondsToMilliseconds(it.repeatDelay)),et&&(st.ease=isEasingArray(et)?et.map(easingDefinitionToFunction):easingDefinitionToFunction(et)),it.type==="tween"&&(st.type="keyframes"),(tt||rt||nt)&&(tt?st.repeatType="reverse":rt?st.repeatType="loop":nt&&(st.repeatType="mirror"),st.repeat=rt||tt||nt||it.repeat),it.type!=="spring"&&(st.type="keyframes"),st}function getDelayFromTransition(et,_e){var tt,nt;return(nt=(tt=(getValueTransition(et,_e)||{}).delay)!==null&&tt!==void 0?tt:et.delay)!==null&&nt!==void 0?nt:0}function hydrateKeyframes(et){return Array.isArray(et.to)&&et.to[0]===null&&(et.to=[...et.to],et.to[0]=et.from),et}function getPopmotionAnimationOptions(et,_e,tt){return Array.isArray(_e.to)&&et.duration===void 0&&(et.duration=.8),hydrateKeyframes(_e),isTransitionDefined(et)||(et={...et,...getDefaultTransition(tt,_e.to)}),{..._e,...convertTransitionToAnimationOptions(et)}}function getAnimation(et,_e,tt,nt,rt){const it=getValueTransition(nt,et)||{};let st=it.from!==void 0?it.from:_e.get();const ot=isAnimatable(et,tt);st==="none"&&ot&&typeof tt=="string"?st=getAnimatableNone(et,tt):isZero(st)&&typeof tt=="string"?st=getZeroUnit(tt):!Array.isArray(tt)&&isZero(tt)&&typeof st=="string"&&(tt=getZeroUnit(st));const at=isAnimatable(et,st);function lt(){const ut={from:st,to:tt,velocity:_e.getVelocity(),onComplete:rt,onUpdate:ft=>_e.set(ft)};return it.type==="inertia"||it.type==="decay"?inertia({...ut,...it}):animate$1({...getPopmotionAnimationOptions(it,ut,et),onUpdate:ft=>{ut.onUpdate(ft),it.onUpdate&&it.onUpdate(ft)},onComplete:()=>{ut.onComplete(),it.onComplete&&it.onComplete()}})}function ct(){const ut=resolveFinalValueInKeyframes(tt);return _e.set(ut),rt(),it.onUpdate&&it.onUpdate(ut),it.onComplete&&it.onComplete(),{stop:()=>{}}}return!at||!ot||it.type===!1?ct:lt}function isZero(et){return et===0||typeof et=="string"&&parseFloat(et)===0&&et.indexOf(" ")===-1}function getZeroUnit(et){return typeof et=="number"?0:getAnimatableNone("",et)}function getValueTransition(et,_e){return et[_e]||et.default||et}function startAnimation(et,_e,tt,nt={}){return instantAnimationState.current&&(nt={type:!1}),_e.start(rt=>{let it,st;const ot=getAnimation(et,_e,tt,nt,rt),at=getDelayFromTransition(nt,et),lt=()=>st=ot();return at?it=window.setTimeout(lt,secondsToMilliseconds(at)):lt(),()=>{clearTimeout(it),st&&st.stop()}})}const isNumericalString=et=>/^\-?\d*\.?\d+$/.test(et),isZeroValueString=et=>/^0[^.\s]+$/.test(et);function addUniqueItem(et,_e){et.indexOf(_e)===-1&&et.push(_e)}function removeItem(et,_e){const tt=et.indexOf(_e);tt>-1&&et.splice(tt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_e){return addUniqueItem(this.subscriptions,_e),()=>removeItem(this.subscriptions,_e)}notify(_e,tt,nt){const rt=this.subscriptions.length;if(!!rt)if(rt===1)this.subscriptions[0](_e,tt,nt);else for(let it=0;it<rt;it++){const st=this.subscriptions[it];st&&st(_e,tt,nt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=et=>!isNaN(parseFloat(et));class MotionValue{constructor(_e){this.version="7.5.2",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new SubscriptionManager,this.velocityUpdateSubscribers=new SubscriptionManager,this.renderSubscribers=new SubscriptionManager,this.canTrackVelocity=!1,this.updateAndNotify=(tt,nt=!0)=>{this.prev=this.current,this.current=tt;const{delta:rt,timestamp:it}=getFrameData();this.lastUpdated!==it&&(this.timeDelta=rt,this.lastUpdated=it,sync.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),nt&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:tt})=>{tt!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=_e,this.canTrackVelocity=isFloat(this.current)}onChange(_e){return this.updateSubscribers.add(_e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(_e){return _e(this.get()),this.renderSubscribers.add(_e)}attach(_e){this.passiveEffect=_e}set(_e,tt=!0){!tt||!this.passiveEffect?this.updateAndNotify(_e,tt):this.passiveEffect(_e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond$1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(_e){return this.stop(),new Promise(tt=>{this.hasAnimated=!0,this.stopAnimation=_e(tt)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function motionValue(et){return new MotionValue(et)}const testValueType=et=>_e=>_e.test(et),auto={test:et=>et==="auto",parse:et=>et},dimensionValueTypes=[number$2,px,percent,degrees,vw,vh,auto],findDimensionValueType=et=>dimensionValueTypes.find(testValueType(et)),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=et=>valueTypes.find(testValueType(et));function getCurrent(et){const _e={};return et.forEachValue((tt,nt)=>_e[nt]=tt.get()),_e}function getVelocity$1(et){const _e={};return et.forEachValue((tt,nt)=>_e[nt]=tt.getVelocity()),_e}function resolveVariant(et,_e,tt){const nt=et.getProps();return resolveVariantFromProps(nt,_e,tt!==void 0?tt:nt.custom,getCurrent(et),getVelocity$1(et))}function setMotionValue(et,_e,tt){et.hasValue(_e)?et.getValue(_e).set(tt):et.addValue(_e,motionValue(tt))}function setTarget(et,_e){const tt=resolveVariant(et,_e);let{transitionEnd:nt={},transition:rt={},...it}=tt?et.makeTargetAnimatable(tt,!1):{};it={...it,...nt};for(const st in it){const ot=resolveFinalValueInKeyframes(it[st]);setMotionValue(et,st,ot)}}function checkTargetForNewValues(et,_e,tt){var nt,rt;const it=Object.keys(_e).filter(ot=>!et.hasValue(ot)),st=it.length;if(!!st)for(let ot=0;ot<st;ot++){const at=it[ot],lt=_e[at];let ct=null;Array.isArray(lt)&&(ct=lt[0]),ct===null&&(ct=(rt=(nt=tt[at])!==null&&nt!==void 0?nt:et.readValue(at))!==null&&rt!==void 0?rt:_e[at]),ct!=null&&(typeof ct=="string"&&(isNumericalString(ct)||isZeroValueString(ct))?ct=parseFloat(ct):!findValueType(ct)&&complex.test(lt)&&(ct=getAnimatableNone(at,lt)),et.addValue(at,motionValue(ct)),tt[at]===void 0&&(tt[at]=ct),et.setBaseTarget(at,ct))}}function getOriginFromTransition(et,_e){return _e?(_e[et]||_e.default||_e).from:void 0}function getOrigin(et,_e,tt){var nt;const rt={};for(const it in et){const st=getOriginFromTransition(it,_e);rt[it]=st!==void 0?st:(nt=tt.getValue(it))===null||nt===void 0?void 0:nt.get()}return rt}function isWillChangeMotionValue(et){return Boolean(isMotionValue(et)&&et.add)}function animateVisualElement(et,_e,tt={}){et.notifyAnimationStart(_e);let nt;if(Array.isArray(_e)){const rt=_e.map(it=>animateVariant(et,it,tt));nt=Promise.all(rt)}else if(typeof _e=="string")nt=animateVariant(et,_e,tt);else{const rt=typeof _e=="function"?resolveVariant(et,_e,tt.custom):_e;nt=animateTarget(et,rt,tt)}return nt.then(()=>et.notifyAnimationComplete(_e))}function animateVariant(et,_e,tt={}){var nt;const rt=resolveVariant(et,_e,tt.custom);let{transition:it=et.getDefaultTransition()||{}}=rt||{};tt.transitionOverride&&(it=tt.transitionOverride);const st=rt?()=>animateTarget(et,rt,tt):()=>Promise.resolve(),ot=!((nt=et.variantChildren)===null||nt===void 0)&&nt.size?(lt=0)=>{const{delayChildren:ct=0,staggerChildren:ut,staggerDirection:ft}=it;return animateChildren(et,_e,ct+lt,ut,ft,tt)}:()=>Promise.resolve(),{when:at}=it;if(at){const[lt,ct]=at==="beforeChildren"?[st,ot]:[ot,st];return lt().then(ct)}else return Promise.all([st(),ot(tt.delay)])}function animateTarget(et,_e,{delay:tt=0,transitionOverride:nt,type:rt}={}){var it;let{transition:st=et.getDefaultTransition(),transitionEnd:ot,...at}=et.makeTargetAnimatable(_e);const lt=et.getValue("willChange");nt&&(st=nt);const ct=[],ut=rt&&((it=et.animationState)===null||it===void 0?void 0:it.getState()[rt]);for(const ft in at){const ht=et.getValue(ft),pt=at[ft];if(!ht||pt===void 0||ut&&shouldBlockAnimation(ut,ft))continue;let gt={delay:tt,...st};et.shouldReduceMotion&&transformProps.has(ft)&&(gt={...gt,type:!1,delay:0});let dt=startAnimation(ft,ht,pt,gt);isWillChangeMotionValue(lt)&&(lt.add(ft),dt=dt.then(()=>lt.remove(ft))),ct.push(dt)}return Promise.all(ct).then(()=>{ot&&setTarget(et,ot)})}function animateChildren(et,_e,tt=0,nt=0,rt=1,it){const st=[],ot=(et.variantChildren.size-1)*nt,at=rt===1?(lt=0)=>lt*nt:(lt=0)=>ot-lt*nt;return Array.from(et.variantChildren).sort(sortByTreeOrder).forEach((lt,ct)=>{st.push(animateVariant(lt,_e,{...it,delay:tt+at(ct)}).then(()=>lt.notifyAnimationComplete(_e)))}),Promise.all(st)}function sortByTreeOrder(et,_e){return et.sortNodePosition(_e)}function shouldBlockAnimation({protectedKeys:et,needsAnimating:_e},tt){const nt=et.hasOwnProperty(tt)&&_e[tt]!==!0;return _e[tt]=!1,nt}const variantPriorityOrder=[AnimationType.Animate,AnimationType.InView,AnimationType.Focus,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Exit],reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(et){return _e=>Promise.all(_e.map(({animation:tt,options:nt})=>animateVisualElement(et,tt,nt)))}function createAnimationState(et){let _e=animateList(et);const tt=createState();let nt=!0;const rt=(at,lt)=>{const ct=resolveVariant(et,lt);if(ct){const{transition:ut,transitionEnd:ft,...ht}=ct;at={...at,...ht,...ft}}return at};function it(at){_e=at(et)}function st(at,lt){var ct;const ut=et.getProps(),ft=et.getVariantContext(!0)||{},ht=[],pt=new Set;let gt={},dt=1/0;for(let xt=0;xt<numAnimationTypes;xt++){const _t=reversePriorityOrder[xt],bt=tt[_t],At=(ct=ut[_t])!==null&&ct!==void 0?ct:ft[_t],Mt=isVariantLabel(At),Tt=_t===lt?bt.isActive:null;Tt===!1&&(dt=xt);let St=At===ft[_t]&&At!==ut[_t]&&Mt;if(St&&nt&&et.manuallyAnimateOnMount&&(St=!1),bt.protectedKeys={...gt},!bt.isActive&&Tt===null||!At&&!bt.prevProp||isAnimationControls(At)||typeof At=="boolean")continue;const Ct=checkVariantsDidChange(bt.prevProp,At);let Et=Ct||_t===lt&&bt.isActive&&!St&&Mt||xt>dt&&Mt;const Rt=Array.isArray(At)?At:[At];let It=Rt.reduce(rt,{});Tt===!1&&(It={});const{prevResolvedValues:Ot={}}=bt,kt={...Ot,...It},$t=jt=>{Et=!0,pt.delete(jt),bt.needsAnimating[jt]=!0};for(const jt in kt){const Ht=It[jt],Bt=Ot[jt];gt.hasOwnProperty(jt)||(Ht!==Bt?isKeyframesTarget(Ht)&&isKeyframesTarget(Bt)?!shallowCompare(Ht,Bt)||Ct?$t(jt):bt.protectedKeys[jt]=!0:Ht!==void 0?$t(jt):pt.add(jt):Ht!==void 0&&pt.has(jt)?$t(jt):bt.protectedKeys[jt]=!0)}bt.prevProp=At,bt.prevResolvedValues=It,bt.isActive&&(gt={...gt,...It}),nt&&et.blockInitialAnimation&&(Et=!1),Et&&!St&&ht.push(...Rt.map(jt=>({animation:jt,options:{type:_t,...at}})))}if(pt.size){const xt={};pt.forEach(_t=>{const bt=et.getBaseTarget(_t);bt!==void 0&&(xt[_t]=bt)}),ht.push({animation:xt})}let vt=Boolean(ht.length);return nt&&ut.initial===!1&&!et.manuallyAnimateOnMount&&(vt=!1),nt=!1,vt?_e(ht):Promise.resolve()}function ot(at,lt,ct){var ut;if(tt[at].isActive===lt)return Promise.resolve();(ut=et.variantChildren)===null||ut===void 0||ut.forEach(ht=>{var pt;return(pt=ht.animationState)===null||pt===void 0?void 0:pt.setActive(at,lt)}),tt[at].isActive=lt;const ft=st(ct,at);for(const ht in tt)tt[ht].protectedKeys={};return ft}return{animateChanges:st,setActive:ot,setAnimateFunction:it,getState:()=>tt}}function checkVariantsDidChange(et,_e){return typeof _e=="string"?_e!==et:Array.isArray(_e)?!shallowCompare(_e,et):!1}function createTypeState(et=!1){return{isActive:et,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{[AnimationType.Animate]:createTypeState(!0),[AnimationType.InView]:createTypeState(),[AnimationType.Hover]:createTypeState(),[AnimationType.Tap]:createTypeState(),[AnimationType.Drag]:createTypeState(),[AnimationType.Focus]:createTypeState(),[AnimationType.Exit]:createTypeState()}}const animations={animation:makeRenderlessComponent(({visualElement:et,animate:_e})=>{et.animationState||(et.animationState=createAnimationState(et)),isAnimationControls(_e)&&react.exports.useEffect(()=>_e.subscribe(et),[_e])}),exit:makeRenderlessComponent(et=>{const{custom:_e,visualElement:tt}=et,[nt,rt]=usePresence(),it=react.exports.useContext(PresenceContext);react.exports.useEffect(()=>{tt.isPresent=nt;const st=tt.animationState&&tt.animationState.setActive(AnimationType.Exit,!nt,{custom:it&&it.custom||_e});st&&!nt&&st.then(rt)},[nt])})};class PanSession{constructor(_e,tt,{transformPagePoint:nt}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const lt=getPanInfo(this.lastMoveEventInfo,this.history),ct=this.startEvent!==null,ut=distance(lt.offset,{x:0,y:0})>=3;if(!ct&&!ut)return;const{point:ft}=lt,{timestamp:ht}=getFrameData();this.history.push({...ft,timestamp:ht});const{onStart:pt,onMove:gt}=this.handlers;ct||(pt&&pt(this.lastMoveEvent,lt),this.startEvent=this.lastMoveEvent),gt&&gt(this.lastMoveEvent,lt)},this.handlePointerMove=(lt,ct)=>{if(this.lastMoveEvent=lt,this.lastMoveEventInfo=transformPoint(ct,this.transformPagePoint),isMouseEvent(lt)&&lt.buttons===0){this.handlePointerUp(lt,ct);return}sync.update(this.updatePoint,!0)},this.handlePointerUp=(lt,ct)=>{this.end();const{onEnd:ut,onSessionEnd:ft}=this.handlers,ht=getPanInfo(transformPoint(ct,this.transformPagePoint),this.history);this.startEvent&&ut&&ut(lt,ht),ft&&ft(lt,ht)},isTouchEvent(_e)&&_e.touches.length>1)return;this.handlers=tt,this.transformPagePoint=nt;const rt=extractEventInfo(_e),it=transformPoint(rt,this.transformPagePoint),{point:st}=it,{timestamp:ot}=getFrameData();this.history=[{...st,timestamp:ot}];const{onSessionStart:at}=tt;at&&at(_e,getPanInfo(it,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}updateHandlers(_e){this.handlers=_e}end(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)}}function transformPoint(et,_e){return _e?{point:_e(et.point)}:et}function subtractPoint(et,_e){return{x:et.x-_e.x,y:et.y-_e.y}}function getPanInfo({point:et},_e){return{point:et,delta:subtractPoint(et,lastDevicePoint(_e)),offset:subtractPoint(et,startDevicePoint(_e)),velocity:getVelocity(_e,.1)}}function startDevicePoint(et){return et[0]}function lastDevicePoint(et){return et[et.length-1]}function getVelocity(et,_e){if(et.length<2)return{x:0,y:0};let tt=et.length-1,nt=null;const rt=lastDevicePoint(et);for(;tt>=0&&(nt=et[tt],!(rt.timestamp-nt.timestamp>secondsToMilliseconds(_e)));)tt--;if(!nt)return{x:0,y:0};const it=(rt.timestamp-nt.timestamp)/1e3;if(it===0)return{x:0,y:0};const st={x:(rt.x-nt.x)/it,y:(rt.y-nt.y)/it};return st.x===1/0&&(st.x=0),st.y===1/0&&(st.y=0),st}function calcLength(et){return et.max-et.min}function isNear(et,_e=0,tt=.01){return distance(et,_e)<tt}function calcAxisDelta(et,_e,tt,nt=.5){et.origin=nt,et.originPoint=mix$1(_e.min,_e.max,et.origin),et.scale=calcLength(tt)/calcLength(_e),(isNear(et.scale,1,1e-4)||isNaN(et.scale))&&(et.scale=1),et.translate=mix$1(tt.min,tt.max,et.origin)-et.originPoint,(isNear(et.translate)||isNaN(et.translate))&&(et.translate=0)}function calcBoxDelta(et,_e,tt,nt){calcAxisDelta(et.x,_e.x,tt.x,nt==null?void 0:nt.originX),calcAxisDelta(et.y,_e.y,tt.y,nt==null?void 0:nt.originY)}function calcRelativeAxis(et,_e,tt){et.min=tt.min+_e.min,et.max=et.min+calcLength(_e)}function calcRelativeBox(et,_e,tt){calcRelativeAxis(et.x,_e.x,tt.x),calcRelativeAxis(et.y,_e.y,tt.y)}function calcRelativeAxisPosition(et,_e,tt){et.min=_e.min-tt.min,et.max=et.min+calcLength(_e)}function calcRelativePosition(et,_e,tt){calcRelativeAxisPosition(et.x,_e.x,tt.x),calcRelativeAxisPosition(et.y,_e.y,tt.y)}function applyConstraints(et,{min:_e,max:tt},nt){return _e!==void 0&&et<_e?et=nt?mix$1(_e,et,nt.min):Math.max(et,_e):tt!==void 0&&et>tt&&(et=nt?mix$1(tt,et,nt.max):Math.min(et,tt)),et}function calcRelativeAxisConstraints(et,_e,tt){return{min:_e!==void 0?et.min+_e:void 0,max:tt!==void 0?et.max+tt-(et.max-et.min):void 0}}function calcRelativeConstraints(et,{top:_e,left:tt,bottom:nt,right:rt}){return{x:calcRelativeAxisConstraints(et.x,tt,rt),y:calcRelativeAxisConstraints(et.y,_e,nt)}}function calcViewportAxisConstraints(et,_e){let tt=_e.min-et.min,nt=_e.max-et.max;return _e.max-_e.min<et.max-et.min&&([tt,nt]=[nt,tt]),{min:tt,max:nt}}function calcViewportConstraints(et,_e){return{x:calcViewportAxisConstraints(et.x,_e.x),y:calcViewportAxisConstraints(et.y,_e.y)}}function calcOrigin(et,_e){let tt=.5;const nt=calcLength(et),rt=calcLength(_e);return rt>nt?tt=progress$1(_e.min,_e.max-nt,et.min):nt>rt&&(tt=progress$1(et.min,et.max-rt,_e.min)),clamp$2(0,1,tt)}function rebaseAxisConstraints(et,_e){const tt={};return _e.min!==void 0&&(tt.min=_e.min-et.min),_e.max!==void 0&&(tt.max=_e.max-et.min),tt}const defaultElastic=.35;function resolveDragElastic(et=defaultElastic){return et===!1?et=0:et===!0&&(et=defaultElastic),{x:resolveAxisElastic(et,"left","right"),y:resolveAxisElastic(et,"top","bottom")}}function resolveAxisElastic(et,_e,tt){return{min:resolvePointElastic(et,_e),max:resolvePointElastic(et,tt)}}function resolvePointElastic(et,_e){var tt;return typeof et=="number"?et:(tt=et[_e])!==null&&tt!==void 0?tt:0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(et){return[et("x"),et("y")]}function convertBoundingBoxToBox({top:et,left:_e,right:tt,bottom:nt}){return{x:{min:_e,max:tt},y:{min:et,max:nt}}}function convertBoxToBoundingBox({x:et,y:_e}){return{top:_e.min,right:et.max,bottom:_e.max,left:et.min}}function transformBoxPoints(et,_e){if(!_e)return et;const tt=_e({x:et.left,y:et.top}),nt=_e({x:et.right,y:et.bottom});return{top:tt.y,left:tt.x,bottom:nt.y,right:nt.x}}function isIdentityScale(et){return et===void 0||et===1}function hasScale({scale:et,scaleX:_e,scaleY:tt}){return!isIdentityScale(et)||!isIdentityScale(_e)||!isIdentityScale(tt)}function hasTransform(et){return hasScale(et)||hasTranslate(et.x)||hasTranslate(et.y)||et.z||et.rotate||et.rotateX||et.rotateY}function hasTranslate(et){return et&&et!=="0%"}function scalePoint(et,_e,tt){const nt=et-tt,rt=_e*nt;return tt+rt}function applyPointDelta(et,_e,tt,nt,rt){return rt!==void 0&&(et=scalePoint(et,rt,nt)),scalePoint(et,tt,nt)+_e}function applyAxisDelta(et,_e=0,tt=1,nt,rt){et.min=applyPointDelta(et.min,_e,tt,nt,rt),et.max=applyPointDelta(et.max,_e,tt,nt,rt)}function applyBoxDelta(et,{x:_e,y:tt}){applyAxisDelta(et.x,_e.translate,_e.scale,_e.originPoint),applyAxisDelta(et.y,tt.translate,tt.scale,tt.originPoint)}function applyTreeDeltas(et,_e,tt,nt=!1){var rt,it;const st=tt.length;if(!st)return;_e.x=_e.y=1;let ot,at;for(let lt=0;lt<st;lt++)ot=tt[lt],at=ot.projectionDelta,((it=(rt=ot.instance)===null||rt===void 0?void 0:rt.style)===null||it===void 0?void 0:it.display)!=="contents"&&(nt&&ot.options.layoutScroll&&ot.scroll&&ot!==ot.root&&transformBox(et,{x:-ot.scroll.x,y:-ot.scroll.y}),at&&(_e.x*=at.x.scale,_e.y*=at.y.scale,applyBoxDelta(et,at)),nt&&hasTransform(ot.latestValues)&&transformBox(et,ot.latestValues))}function translateAxis(et,_e){et.min=et.min+_e,et.max=et.max+_e}function transformAxis(et,_e,[tt,nt,rt]){const it=_e[rt]!==void 0?_e[rt]:.5,st=mix$1(et.min,et.max,it);applyAxisDelta(et,_e[tt],_e[nt],st,_e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(et,_e){transformAxis(et.x,_e,xKeys$1),transformAxis(et.y,_e,yKeys$1)}function measureViewportBox(et,_e){return convertBoundingBoxToBox(transformBoxPoints(et.getBoundingClientRect(),_e))}function measurePageBox(et,_e,tt){const nt=measureViewportBox(et,tt),{scroll:rt}=_e;return rt&&(translateAxis(nt.x,rt.x),translateAxis(nt.y,rt.y)),nt}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=_e}start(_e,{snapToCursor:tt=!1}={}){if(this.visualElement.isPresent===!1)return;const nt=ot=>{this.stopAnimation(),tt&&this.snapToCursor(extractEventInfo(ot,"page").point)},rt=(ot,at)=>{var lt;const{drag:ct,dragPropagation:ut,onDragStart:ft}=this.getProps();ct&&!ut&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(ct),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ht=>{var pt,gt;let dt=this.getAxisMotionValue(ht).get()||0;if(percent.test(dt)){const vt=(gt=(pt=this.visualElement.projection)===null||pt===void 0?void 0:pt.layout)===null||gt===void 0?void 0:gt.actual[ht];vt&&(dt=calcLength(vt)*(parseFloat(dt)/100))}this.originPoint[ht]=dt}),ft==null||ft(ot,at),(lt=this.visualElement.animationState)===null||lt===void 0||lt.setActive(AnimationType.Drag,!0))},it=(ot,at)=>{const{dragPropagation:lt,dragDirectionLock:ct,onDirectionLock:ut,onDrag:ft}=this.getProps();if(!lt&&!this.openGlobalLock)return;const{offset:ht}=at;if(ct&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ht),this.currentDirection!==null&&(ut==null||ut(this.currentDirection));return}this.updateAxis("x",at.point,ht),this.updateAxis("y",at.point,ht),this.visualElement.syncRender(),ft==null||ft(ot,at)},st=(ot,at)=>this.stop(ot,at);this.panSession=new PanSession(_e,{onSessionStart:nt,onStart:rt,onMove:it,onSessionEnd:st},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(_e,tt){const nt=this.isDragging;if(this.cancel(),!nt)return;const{velocity:rt}=tt;this.startAnimation(rt);const{onDragEnd:it}=this.getProps();it==null||it(_e,tt)}cancel(){var _e,tt;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(_e=this.panSession)===null||_e===void 0||_e.end(),this.panSession=void 0;const{dragPropagation:nt}=this.getProps();!nt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(tt=this.visualElement.animationState)===null||tt===void 0||tt.setActive(AnimationType.Drag,!1)}updateAxis(_e,tt,nt){const{drag:rt}=this.getProps();if(!nt||!shouldDrag(_e,rt,this.currentDirection))return;const it=this.getAxisMotionValue(_e);let st=this.originPoint[_e]+nt[_e];this.constraints&&this.constraints[_e]&&(st=applyConstraints(st,this.constraints[_e],this.elastic[_e])),it.set(st)}resolveConstraints(){const{dragConstraints:_e,dragElastic:tt}=this.getProps(),{layout:nt}=this.visualElement.projection||{},rt=this.constraints;_e&&isRefObject(_e)?this.constraints||(this.constraints=this.resolveRefConstraints()):_e&&nt?this.constraints=calcRelativeConstraints(nt.actual,_e):this.constraints=!1,this.elastic=resolveDragElastic(tt),rt!==this.constraints&&nt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(it=>{this.getAxisMotionValue(it)&&(this.constraints[it]=rebaseAxisConstraints(nt.actual[it],this.constraints[it]))})}resolveRefConstraints(){const{dragConstraints:_e,onMeasureDragConstraints:tt}=this.getProps();if(!_e||!isRefObject(_e))return!1;const nt=_e.current,{projection:rt}=this.visualElement;if(!rt||!rt.layout)return!1;const it=measurePageBox(nt,rt.root,this.visualElement.getTransformPagePoint());let st=calcViewportConstraints(rt.layout.actual,it);if(tt){const ot=tt(convertBoxToBoundingBox(st));this.hasMutatedConstraints=!!ot,ot&&(st=convertBoundingBoxToBox(ot))}return st}startAnimation(_e){const{drag:tt,dragMomentum:nt,dragElastic:rt,dragTransition:it,dragSnapToOrigin:st,onDragTransitionEnd:ot}=this.getProps(),at=this.constraints||{},lt=eachAxis(ct=>{var ut;if(!shouldDrag(ct,tt,this.currentDirection))return;let ft=(ut=at==null?void 0:at[ct])!==null&&ut!==void 0?ut:{};st&&(ft={min:0,max:0});const ht=rt?200:1e6,pt=rt?40:1e7,gt={type:"inertia",velocity:nt?_e[ct]:0,bounceStiffness:ht,bounceDamping:pt,timeConstant:750,restDelta:1,restSpeed:10,...it,...ft};return this.startAxisValueAnimation(ct,gt)});return Promise.all(lt).then(ot)}startAxisValueAnimation(_e,tt){const nt=this.getAxisMotionValue(_e);return startAnimation(_e,nt,0,tt)}stopAnimation(){eachAxis(_e=>this.getAxisMotionValue(_e).stop())}getAxisMotionValue(_e){var tt,nt;const rt="_drag"+_e.toUpperCase(),it=this.visualElement.getProps()[rt];return it||this.visualElement.getValue(_e,(nt=(tt=this.visualElement.getProps().initial)===null||tt===void 0?void 0:tt[_e])!==null&&nt!==void 0?nt:0)}snapToCursor(_e){eachAxis(tt=>{const{drag:nt}=this.getProps();if(!shouldDrag(tt,nt,this.currentDirection))return;const{projection:rt}=this.visualElement,it=this.getAxisMotionValue(tt);if(rt&&rt.layout){const{min:st,max:ot}=rt.layout.actual[tt];it.set(_e[tt]-mix$1(st,ot,.5))}})}scalePositionWithinConstraints(){var _e;const{drag:tt,dragConstraints:nt}=this.getProps(),{projection:rt}=this.visualElement;if(!isRefObject(nt)||!rt||!this.constraints)return;this.stopAnimation();const it={x:0,y:0};eachAxis(ot=>{const at=this.getAxisMotionValue(ot);if(at){const lt=at.get();it[ot]=calcOrigin({min:lt,max:lt},this.constraints[ot])}});const{transformTemplate:st}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=st?st({},""):"none",(_e=rt.root)===null||_e===void 0||_e.updateScroll(),rt.updateLayout(),this.resolveConstraints(),eachAxis(ot=>{if(!shouldDrag(ot,tt,null))return;const at=this.getAxisMotionValue(ot),{min:lt,max:ct}=this.constraints[ot];at.set(mix$1(lt,ct,it[ot]))})}addListeners(){var _e;elementDragControls.set(this.visualElement,this);const tt=this.visualElement.getInstance(),nt=addPointerEvent(tt,"pointerdown",lt=>{const{drag:ct,dragListener:ut=!0}=this.getProps();ct&&ut&&this.start(lt)}),rt=()=>{const{dragConstraints:lt}=this.getProps();isRefObject(lt)&&(this.constraints=this.resolveRefConstraints())},{projection:it}=this.visualElement,st=it.addEventListener("measure",rt);it&&!it.layout&&((_e=it.root)===null||_e===void 0||_e.updateScroll(),it.updateLayout()),rt();const ot=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),at=it.addEventListener("didUpdate",({delta:lt,hasLayoutChanged:ct})=>{this.isDragging&&ct&&(eachAxis(ut=>{const ft=this.getAxisMotionValue(ut);!ft||(this.originPoint[ut]+=lt[ut].translate,ft.set(ft.get()+lt[ut].translate))}),this.visualElement.syncRender())});return()=>{ot(),nt(),st(),at==null||at()}}getProps(){const _e=this.visualElement.getProps(),{drag:tt=!1,dragDirectionLock:nt=!1,dragPropagation:rt=!1,dragConstraints:it=!1,dragElastic:st=defaultElastic,dragMomentum:ot=!0}=_e;return{..._e,drag:tt,dragDirectionLock:nt,dragPropagation:rt,dragConstraints:it,dragElastic:st,dragMomentum:ot}}}function shouldDrag(et,_e,tt){return(_e===!0||_e===et)&&(tt===null||tt===et)}function getCurrentDirection(et,_e=10){let tt=null;return Math.abs(et.y)>_e?tt="y":Math.abs(et.x)>_e&&(tt="x"),tt}function useDrag$1(et){const{dragControls:_e,visualElement:tt}=et,nt=useConstant(()=>new VisualElementDragControls(tt));react.exports.useEffect(()=>_e&&_e.subscribe(nt),[nt,_e]),react.exports.useEffect(()=>nt.addListeners(),[nt])}function usePanGesture({onPan:et,onPanStart:_e,onPanEnd:tt,onPanSessionStart:nt,visualElement:rt}){const it=et||_e||tt||nt,st=react.exports.useRef(null),{transformPagePoint:ot}=react.exports.useContext(MotionConfigContext),at={onSessionStart:nt,onStart:_e,onMove:et,onEnd:(ct,ut)=>{st.current=null,tt&&tt(ct,ut)}};react.exports.useEffect(()=>{st.current!==null&&st.current.updateHandlers(at)});function lt(ct){st.current=new PanSession(ct,at,{transformPagePoint:ot})}usePointerEvent(rt,"pointerdown",it&&lt),useUnmountEffect(()=>st.current&&st.current.end())}const drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag$1)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const et=window.matchMedia("(prefers-reduced-motion)"),_e=()=>prefersReducedMotion.current=et.matches;et.addListener(_e),_e()}else prefersReducedMotion.current=!1}const names=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function createLifecycles(){const et=names.map(()=>new SubscriptionManager),_e={},tt={clearAllListeners:()=>et.forEach(nt=>nt.clear()),updatePropListeners:nt=>{names.forEach(rt=>{var it;const st="on"+rt,ot=nt[st];(it=_e[rt])===null||it===void 0||it.call(_e),ot&&(_e[rt]=tt[st](ot))})}};return et.forEach((nt,rt)=>{tt["on"+names[rt]]=it=>nt.add(it),tt["notify"+names[rt]]=(...it)=>nt.notify(...it)}),tt}function updateMotionValuesFromProps(et,_e,tt){const{willChange:nt}=_e;for(const rt in _e){const it=_e[rt],st=tt[rt];if(isMotionValue(it))et.addValue(rt,it),isWillChangeMotionValue(nt)&&nt.add(rt);else if(isMotionValue(st))et.addValue(rt,motionValue(it)),isWillChangeMotionValue(nt)&&nt.remove(rt);else if(st!==it)if(et.hasValue(rt)){const ot=et.getValue(rt);!ot.hasAnimated&&ot.set(it)}else{const ot=et.getStaticValue(rt);et.addValue(rt,motionValue(ot!==void 0?ot:it))}}for(const rt in tt)_e[rt]===void 0&&et.removeValue(rt);return _e}const featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,visualElement=({treeType:et="",build:_e,getBaseTarget:tt,makeTargetAnimatable:nt,measureViewportBox:rt,render:it,readValueFromInstance:st,removeValueFromRenderState:ot,sortNodePosition:at,scrapeMotionValuesFromProps:lt})=>({parent:ct,props:ut,presenceId:ft,blockInitialAnimation:ht,visualState:pt,reducedMotionConfig:gt},dt={})=>{let vt=!1;const{latestValues:xt,renderState:_t}=pt;let bt;const At=createLifecycles(),Mt=new Map,Tt=new Map;let St={};const Ct={...xt};let Et;function Rt(){!bt||!vt||(It(),it(bt,_t,ut.style,Lt.projection))}function It(){_e(Lt,_t,xt,dt,ut)}function Ot(){At.notifyUpdate(xt)}function kt(Ft,Vt){const Yt=Vt.onChange(sn=>{xt[Ft]=sn,ut.onUpdate&&sync.update(Ot,!1,!0)}),rn=Vt.onRenderRequest(Lt.scheduleRender);Tt.set(Ft,()=>{Yt(),rn()})}const{willChange:$t,...jt}=lt(ut);for(const Ft in jt){const Vt=jt[Ft];xt[Ft]!==void 0&&isMotionValue(Vt)&&(Vt.set(xt[Ft],!1),isWillChangeMotionValue($t)&&$t.add(Ft))}if(ut.values)for(const Ft in ut.values){const Vt=ut.values[Ft];xt[Ft]!==void 0&&isMotionValue(Vt)&&Vt.set(xt[Ft])}const Ht=isControllingVariants(ut),Bt=isVariantNode(ut),Lt={treeType:et,current:null,depth:ct?ct.depth+1:0,parent:ct,children:new Set,presenceId:ft,shouldReduceMotion:null,variantChildren:Bt?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(ct==null?void 0:ct.isMounted()),blockInitialAnimation:ht,isMounted:()=>Boolean(bt),mount(Ft){vt=!0,bt=Lt.current=Ft,Lt.projection&&Lt.projection.mount(Ft),Bt&&ct&&!Ht&&(Et=ct==null?void 0:ct.addVariantChild(Lt)),Mt.forEach((Vt,Yt)=>kt(Yt,Vt)),hasReducedMotionListener.current||initPrefersReducedMotion(),Lt.shouldReduceMotion=gt==="never"?!1:gt==="always"?!0:prefersReducedMotion.current,ct==null||ct.children.add(Lt),Lt.setProps(ut)},unmount(){var Ft;(Ft=Lt.projection)===null||Ft===void 0||Ft.unmount(),cancelSync.update(Ot),cancelSync.render(Rt),Tt.forEach(Vt=>Vt()),Et==null||Et(),ct==null||ct.children.delete(Lt),At.clearAllListeners(),bt=void 0,vt=!1},loadFeatures(Ft,Vt,Yt,rn,sn,cn){const Zt=[];for(let an=0;an<numFeatures;an++){const Qt=featureNames[an],{isEnabled:Ut,Component:Gt}=featureDefinitions[Qt];Ut(Ft)&&Gt&&Zt.push(react.exports.createElement(Gt,{key:Qt,...Ft,visualElement:Lt}))}if(!Lt.projection&&sn){Lt.projection=new sn(rn,Lt.getLatestValues(),ct&&ct.projection);const{layoutId:an,layout:Qt,drag:Ut,dragConstraints:Gt,layoutScroll:Wt}=Ft;Lt.projection.setOptions({layoutId:an,layout:Qt,alwaysMeasureLayout:Boolean(Ut)||Gt&&isRefObject(Gt),visualElement:Lt,scheduleRender:()=>Lt.scheduleRender(),animationType:typeof Qt=="string"?Qt:"both",initialPromotionConfig:cn,layoutScroll:Wt})}return Zt},addVariantChild(Ft){var Vt;const Yt=Lt.getClosestVariantNode();if(Yt)return(Vt=Yt.variantChildren)===null||Vt===void 0||Vt.add(Ft),()=>Yt.variantChildren.delete(Ft)},sortNodePosition(Ft){return!at||et!==Ft.treeType?0:at(Lt.getInstance(),Ft.getInstance())},getClosestVariantNode:()=>Bt?Lt:ct==null?void 0:ct.getClosestVariantNode(),getLayoutId:()=>ut.layoutId,getInstance:()=>bt,getStaticValue:Ft=>xt[Ft],setStaticValue:(Ft,Vt)=>xt[Ft]=Vt,getLatestValues:()=>xt,setVisibility(Ft){Lt.isVisible!==Ft&&(Lt.isVisible=Ft,Lt.scheduleRender())},makeTargetAnimatable(Ft,Vt=!0){return nt(Lt,Ft,ut,Vt)},measureViewportBox(){return rt(bt,ut)},addValue(Ft,Vt){Lt.hasValue(Ft)&&Lt.removeValue(Ft),Mt.set(Ft,Vt),xt[Ft]=Vt.get(),kt(Ft,Vt)},removeValue(Ft){var Vt;Mt.delete(Ft),(Vt=Tt.get(Ft))===null||Vt===void 0||Vt(),Tt.delete(Ft),delete xt[Ft],ot(Ft,_t)},hasValue:Ft=>Mt.has(Ft),getValue(Ft,Vt){if(ut.values&&ut.values[Ft])return ut.values[Ft];let Yt=Mt.get(Ft);return Yt===void 0&&Vt!==void 0&&(Yt=motionValue(Vt),Lt.addValue(Ft,Yt)),Yt},forEachValue:Ft=>Mt.forEach(Ft),readValue:Ft=>xt[Ft]!==void 0?xt[Ft]:st(bt,Ft,dt),setBaseTarget(Ft,Vt){Ct[Ft]=Vt},getBaseTarget(Ft){if(tt){const Vt=tt(ut,Ft);if(Vt!==void 0&&!isMotionValue(Vt))return Vt}return Ct[Ft]},...At,build(){return It(),_t},scheduleRender(){sync.render(Rt,!1,!0)},syncRender:Rt,setProps(Ft){(Ft.transformTemplate||ut.transformTemplate)&&Lt.scheduleRender(),ut=Ft,At.updatePropListeners(Ft),St=updateMotionValuesFromProps(Lt,lt(ut),St)},getProps:()=>ut,getVariant:Ft=>{var Vt;return(Vt=ut.variants)===null||Vt===void 0?void 0:Vt[Ft]},getDefaultTransition:()=>ut.transition,getTransformPagePoint:()=>ut.transformPagePoint,getVariantContext(Ft=!1){if(Ft)return ct==null?void 0:ct.getVariantContext();if(!Ht){const Yt=(ct==null?void 0:ct.getVariantContext())||{};return ut.initial!==void 0&&(Yt.initial=ut.initial),Yt}const Vt={};for(let Yt=0;Yt<numVariantProps;Yt++){const rn=variantProps[Yt],sn=ut[rn];(isVariantLabel(sn)||sn===!1)&&(Vt[rn]=sn)}return Vt}};return Lt},variantProps=["initial",...variantPriorityOrder],numVariantProps=variantProps.length;function isCSSVariable(et){return typeof et=="string"&&et.startsWith("var(--")}const cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(et){const _e=cssVariableRegex.exec(et);if(!_e)return[,];const[,tt,nt]=_e;return[tt,nt]}function getVariableValue(et,_e,tt=1){const[nt,rt]=parseCSSVariable(et);if(!nt)return;const it=window.getComputedStyle(_e).getPropertyValue(nt);return it?it.trim():isCSSVariable(rt)?getVariableValue(rt,_e,tt+1):rt}function resolveCSSVariables(et,{..._e},tt){const nt=et.getInstance();if(!(nt instanceof Element))return{target:_e,transitionEnd:tt};tt&&(tt={...tt}),et.forEachValue(rt=>{const it=rt.get();if(!isCSSVariable(it))return;const st=getVariableValue(it,nt);st&&rt.set(st)});for(const rt in _e){const it=_e[rt];if(!isCSSVariable(it))continue;const st=getVariableValue(it,nt);!st||(_e[rt]=st,tt&&tt[rt]===void 0&&(tt[rt]=it))}return{target:_e,transitionEnd:tt}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=et=>positionalKeys.has(et),hasPositionalKey=et=>Object.keys(et).some(isPositionalKey),setAndResetVelocity=(et,_e)=>{et.set(_e,!1),et.set(_e)},isNumOrPxType=et=>et===number$2||et===px;var BoundingBoxDimension;(function(et){et.width="width",et.height="height",et.left="left",et.right="right",et.top="top",et.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));const getPosFromMatrix=(et,_e)=>parseFloat(et.split(", ")[_e]),getTranslateFromMatrix=(et,_e)=>(tt,{transform:nt})=>{if(nt==="none"||!nt)return 0;const rt=nt.match(/^matrix3d\((.+)\)$/);if(rt)return getPosFromMatrix(rt[1],_e);{const it=nt.match(/^matrix\((.+)\)$/);return it?getPosFromMatrix(it[1],et):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(et=>!transformKeys.has(et));function removeNonTranslationalTransform(et){const _e=[];return nonTranslationalTransformKeys.forEach(tt=>{const nt=et.getValue(tt);nt!==void 0&&(_e.push([tt,nt.get()]),nt.set(tt.startsWith("scale")?1:0))}),_e.length&&et.syncRender(),_e}const positionalValues={width:({x:et},{paddingLeft:_e="0",paddingRight:tt="0"})=>et.max-et.min-parseFloat(_e)-parseFloat(tt),height:({y:et},{paddingTop:_e="0",paddingBottom:tt="0"})=>et.max-et.min-parseFloat(_e)-parseFloat(tt),top:(et,{top:_e})=>parseFloat(_e),left:(et,{left:_e})=>parseFloat(_e),bottom:({y:et},{top:_e})=>parseFloat(_e)+(et.max-et.min),right:({x:et},{left:_e})=>parseFloat(_e)+(et.max-et.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=(et,_e,tt)=>{const nt=_e.measureViewportBox(),rt=_e.getInstance(),it=getComputedStyle(rt),{display:st}=it,ot={};st==="none"&&_e.setStaticValue("display",et.display||"block"),tt.forEach(lt=>{ot[lt]=positionalValues[lt](nt,it)}),_e.syncRender();const at=_e.measureViewportBox();return tt.forEach(lt=>{const ct=_e.getValue(lt);setAndResetVelocity(ct,ot[lt]),et[lt]=positionalValues[lt](at,it)}),et},checkAndConvertChangedValueTypes=(et,_e,tt={},nt={})=>{_e={..._e},nt={...nt};const rt=Object.keys(_e).filter(isPositionalKey);let it=[],st=!1;const ot=[];if(rt.forEach(at=>{const lt=et.getValue(at);if(!et.hasValue(at))return;let ct=tt[at],ut=findDimensionValueType(ct);const ft=_e[at];let ht;if(isKeyframesTarget(ft)){const pt=ft.length,gt=ft[0]===null?1:0;ct=ft[gt],ut=findDimensionValueType(ct);for(let dt=gt;dt<pt;dt++)ht?invariant(findDimensionValueType(ft[dt])===ht):ht=findDimensionValueType(ft[dt])}else ht=findDimensionValueType(ft);if(ut!==ht)if(isNumOrPxType(ut)&&isNumOrPxType(ht)){const pt=lt.get();typeof pt=="string"&&lt.set(parseFloat(pt)),typeof ft=="string"?_e[at]=parseFloat(ft):Array.isArray(ft)&&ht===px&&(_e[at]=ft.map(parseFloat))}else(ut==null?void 0:ut.transform)&&(ht==null?void 0:ht.transform)&&(ct===0||ft===0)?ct===0?lt.set(ht.transform(ct)):_e[at]=ut.transform(ft):(st||(it=removeNonTranslationalTransform(et),st=!0),ot.push(at),nt[at]=nt[at]!==void 0?nt[at]:_e[at],setAndResetVelocity(lt,ft))}),ot.length){const at=ot.indexOf("height")>=0?window.pageYOffset:null,lt=convertChangedValueTypes(_e,et,ot);return it.length&&it.forEach(([ct,ut])=>{et.getValue(ct).set(ut)}),et.syncRender(),isBrowser&&at!==null&&window.scrollTo({top:at}),{target:lt,transitionEnd:nt}}else return{target:_e,transitionEnd:nt}};function unitConversion(et,_e,tt,nt){return hasPositionalKey(_e)?checkAndConvertChangedValueTypes(et,_e,tt,nt):{target:_e,transitionEnd:nt}}const parseDomVariant=(et,_e,tt,nt)=>{const rt=resolveCSSVariables(et,_e,nt);return _e=rt.target,nt=rt.transitionEnd,unitConversion(et,_e,tt,nt)};function getComputedStyle$1(et){return window.getComputedStyle(et)}const htmlConfig={treeType:"dom",readValueFromInstance(et,_e){if(transformProps.has(_e)){const tt=getDefaultValueType(_e);return tt&&tt.default||0}else{const tt=getComputedStyle$1(et),nt=(isCSSVariable$1(_e)?tt.getPropertyValue(_e):tt[_e])||0;return typeof nt=="string"?nt.trim():nt}},sortNodePosition(et,_e){return et.compareDocumentPosition(_e)&2?1:-1},getBaseTarget(et,_e){var tt;return(tt=et.style)===null||tt===void 0?void 0:tt[_e]},measureViewportBox(et,{transformPagePoint:_e}){return measureViewportBox(et,_e)},resetTransform(et,_e,tt){const{transformTemplate:nt}=tt;_e.style.transform=nt?nt({},""):"none",et.scheduleRender()},restoreTransform(et,_e){et.style.transform=_e.style.transform},removeValueFromRenderState(et,{vars:_e,style:tt}){delete _e[et],delete tt[et]},makeTargetAnimatable(et,{transition:_e,transitionEnd:tt,...nt},{transformValues:rt},it=!0){let st=getOrigin(nt,_e||{},et);if(rt&&(tt&&(tt=rt(tt)),nt&&(nt=rt(nt)),st&&(st=rt(st))),it){checkTargetForNewValues(et,nt,st);const ot=parseDomVariant(et,nt,st,tt);tt=ot.transitionEnd,nt=ot.target}return{transition:_e,transitionEnd:tt,...nt}},scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,build(et,_e,tt,nt,rt){et.isVisible!==void 0&&(_e.style.visibility=et.isVisible?"visible":"hidden"),buildHTMLStyles(_e,tt,nt,rt.transformTemplate)},render:renderHTML},htmlVisualElement=visualElement(htmlConfig),svgVisualElement=visualElement({...htmlConfig,getBaseTarget(et,_e){return et[_e]},readValueFromInstance(et,_e){var tt;return transformProps.has(_e)?((tt=getDefaultValueType(_e))===null||tt===void 0?void 0:tt.default)||0:(_e=camelCaseAttributes.has(_e)?_e:camelToDash(_e),et.getAttribute(_e))},scrapeMotionValuesFromProps,build(et,_e,tt,nt,rt){buildSVGAttrs(_e,tt,nt,rt.transformTemplate)},render:renderSVG}),createDomVisualElement=(et,_e)=>isSVGComponent(et)?svgVisualElement(_e,{enableHardwareAcceleration:!1}):htmlVisualElement(_e,{enableHardwareAcceleration:!0});function pixelsToPercent(et,_e){return _e.max===_e.min?0:et/(_e.max-_e.min)*100}const correctBorderRadius={correct:(et,_e)=>{if(!_e.target)return et;if(typeof et=="string")if(px.test(et))et=parseFloat(et);else return et;const tt=pixelsToPercent(et,_e.target.x),nt=pixelsToPercent(et,_e.target.y);return`${tt}% ${nt}%`}},varToken="_$css",correctBoxShadow={correct:(et,{treeScale:_e,projectionDelta:tt})=>{const nt=et,rt=et.includes("var("),it=[];rt&&(et=et.replace(cssVariableRegex,ht=>(it.push(ht),varToken)));const st=complex.parse(et);if(st.length>5)return nt;const ot=complex.createTransformer(et),at=typeof st[0]!="number"?1:0,lt=tt.x.scale*_e.x,ct=tt.y.scale*_e.y;st[0+at]/=lt,st[1+at]/=ct;const ut=mix$1(lt,ct,.5);typeof st[2+at]=="number"&&(st[2+at]/=ut),typeof st[3+at]=="number"&&(st[3+at]/=ut);let ft=ot(st);if(rt){let ht=0;ft=ft.replace(varToken,()=>{const pt=it[ht];return ht++,pt})}return ft}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:_e,layoutGroup:tt,switchLayoutGroup:nt,layoutId:rt}=this.props,{projection:it}=_e;addScaleCorrector(defaultScaleCorrectors),it&&(tt.group&&tt.group.add(it),nt&&nt.register&&rt&&nt.register(it),it.root.didUpdate(),it.addEventListener("animationComplete",()=>{this.safeToRemove()}),it.setOptions({...it.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_e){const{layoutDependency:tt,visualElement:nt,drag:rt,isPresent:it}=this.props,st=nt.projection;return st&&(st.isPresent=it,rt||_e.layoutDependency!==tt||tt===void 0?st.willUpdate():this.safeToRemove(),_e.isPresent!==it&&(it?st.promote():st.relegate()||sync.postRender(()=>{var ot;!((ot=st.getStack())===null||ot===void 0)&&ot.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_e}=this.props.visualElement;_e&&(_e.root.didUpdate(),!_e.currentAnimation&&_e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:_e,layoutGroup:tt,switchLayoutGroup:nt}=this.props,{projection:rt}=_e;rt&&(rt.scheduleCheckAfterUnmount(),tt!=null&&tt.group&&tt.group.remove(rt),nt!=null&&nt.deregister&&nt.deregister(rt))}safeToRemove(){const{safeToRemove:_e}=this.props;_e==null||_e()}render(){return null}}function MeasureLayout(et){const[_e,tt]=usePresence(),nt=react.exports.useContext(LayoutGroupContext);return jsx(MeasureLayoutWithContext,{...et,layoutGroup:nt,switchLayoutGroup:react.exports.useContext(SwitchLayoutGroupContext),isPresent:_e,safeToRemove:tt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},layoutFeatures={measureLayout:MeasureLayout};function animate(et,_e,tt={}){const nt=isMotionValue(et)?et:motionValue(et);return startAnimation("",nt,_e,tt),{stop:()=>nt.stop(),isAnimating:()=>nt.isAnimating()}}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=et=>typeof et=="string"?parseFloat(et):et,isPx=et=>typeof et=="number"||px.test(et);function mixValues(et,_e,tt,nt,rt,it){var st,ot,at,lt;rt?(et.opacity=mix$1(0,(st=tt.opacity)!==null&&st!==void 0?st:1,easeCrossfadeIn(nt)),et.opacityExit=mix$1((ot=_e.opacity)!==null&&ot!==void 0?ot:1,0,easeCrossfadeOut(nt))):it&&(et.opacity=mix$1((at=_e.opacity)!==null&&at!==void 0?at:1,(lt=tt.opacity)!==null&&lt!==void 0?lt:1,nt));for(let ct=0;ct<numBorders;ct++){const ut=`border${borders[ct]}Radius`;let ft=getRadius(_e,ut),ht=getRadius(tt,ut);if(ft===void 0&&ht===void 0)continue;ft||(ft=0),ht||(ht=0),ft===0||ht===0||isPx(ft)===isPx(ht)?(et[ut]=Math.max(mix$1(asNumber(ft),asNumber(ht),nt),0),(percent.test(ht)||percent.test(ft))&&(et[ut]+="%")):et[ut]=ht}(_e.rotate||tt.rotate)&&(et.rotate=mix$1(_e.rotate||0,tt.rotate||0,nt))}function getRadius(et,_e){var tt;return(tt=et[_e])!==null&&tt!==void 0?tt:et.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,linear);function compress(et,_e,tt){return nt=>nt<et?0:nt>_e?1:tt(progress$1(et,_e,nt))}function copyAxisInto(et,_e){et.min=_e.min,et.max=_e.max}function copyBoxInto(et,_e){copyAxisInto(et.x,_e.x),copyAxisInto(et.y,_e.y)}function removePointDelta(et,_e,tt,nt,rt){return et-=_e,et=scalePoint(et,1/tt,nt),rt!==void 0&&(et=scalePoint(et,1/rt,nt)),et}function removeAxisDelta(et,_e=0,tt=1,nt=.5,rt,it=et,st=et){if(percent.test(_e)&&(_e=parseFloat(_e),_e=mix$1(st.min,st.max,_e/100)-st.min),typeof _e!="number")return;let ot=mix$1(it.min,it.max,nt);et===it&&(ot-=_e),et.min=removePointDelta(et.min,_e,tt,ot,rt),et.max=removePointDelta(et.max,_e,tt,ot,rt)}function removeAxisTransforms(et,_e,[tt,nt,rt],it,st){removeAxisDelta(et,_e[tt],_e[nt],_e[rt],_e.scale,it,st)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(et,_e,tt,nt){removeAxisTransforms(et.x,_e,xKeys,tt==null?void 0:tt.x,nt==null?void 0:nt.x),removeAxisTransforms(et.y,_e,yKeys,tt==null?void 0:tt.y,nt==null?void 0:nt.y)}function isAxisDeltaZero(et){return et.translate===0&&et.scale===1}function isDeltaZero(et){return isAxisDeltaZero(et.x)&&isAxisDeltaZero(et.y)}function boxEquals(et,_e){return et.x.min===_e.x.min&&et.x.max===_e.x.max&&et.y.min===_e.y.min&&et.y.max===_e.y.max}function aspectRatio(et){return calcLength(et.x)/calcLength(et.y)}function isCloseTo(et,_e,tt=.1){return distance(et,_e)<=tt}class NodeStack{constructor(){this.members=[]}add(_e){addUniqueItem(this.members,_e),_e.scheduleRender()}remove(_e){if(removeItem(this.members,_e),_e===this.prevLead&&(this.prevLead=void 0),_e===this.lead){const tt=this.members[this.members.length-1];tt&&this.promote(tt)}}relegate(_e){const tt=this.members.findIndex(rt=>_e===rt);if(tt===0)return!1;let nt;for(let rt=tt;rt>=0;rt--){const it=this.members[rt];if(it.isPresent!==!1){nt=it;break}}return nt?(this.promote(nt),!0):!1}promote(_e,tt){var nt;const rt=this.lead;if(_e!==rt&&(this.prevLead=rt,this.lead=_e,_e.show(),rt)){rt.instance&&rt.scheduleRender(),_e.scheduleRender(),_e.resumeFrom=rt,tt&&(_e.resumeFrom.preserveOpacity=!0),rt.snapshot&&(_e.snapshot=rt.snapshot,_e.snapshot.latestValues=rt.animationValues||rt.latestValues,_e.snapshot.isShared=!0),!((nt=_e.root)===null||nt===void 0)&&nt.isUpdating&&(_e.isLayoutDirty=!0);const{crossfade:it}=_e.options;it===!1&&rt.hide()}}exitAnimationComplete(){this.members.forEach(_e=>{var tt,nt,rt,it,st;(nt=(tt=_e.options).onExitComplete)===null||nt===void 0||nt.call(tt),(st=(rt=_e.resumingFrom)===null||rt===void 0?void 0:(it=rt.options).onExitComplete)===null||st===void 0||st.call(it)})}scheduleRender(){this.members.forEach(_e=>{_e.instance&&_e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const identityProjection="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function buildProjectionTransform(et,_e,tt){const nt=et.x.translate/_e.x,rt=et.y.translate/_e.y;let it=`translate3d(${nt}px, ${rt}px, 0) `;if(it+=`scale(${1/_e.x}, ${1/_e.y}) `,tt){const{rotate:at,rotateX:lt,rotateY:ct}=tt;at&&(it+=`rotate(${at}deg) `),lt&&(it+=`rotateX(${lt}deg) `),ct&&(it+=`rotateY(${ct}deg) `)}const st=et.x.scale*_e.x,ot=et.y.scale*_e.y;return it+=`scale(${st}, ${ot})`,it===identityProjection?"none":it}const compareByDepth=(et,_e)=>et.depth-_e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_e){addUniqueItem(this.children,_e),this.isDirty=!0}remove(_e){removeItem(this.children,_e),this.isDirty=!0}forEach(_e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_e)}}const transformAxes=["","X","Y","Z"],animationTarget=1e3;function createProjectionNode({attachResizeListener:et,defaultParent:_e,measureScroll:tt,checkIsScrollRoot:nt,resetTransform:rt}){return class{constructor(st,ot={},at=_e==null?void 0:_e()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=st,this.latestValues=ot,this.root=at?at.root||at:this,this.path=at?[...at.path,at]:[],this.parent=at,this.depth=at?at.depth+1:0,st&&this.root.registerPotentialNode(st,this);for(let lt=0;lt<this.path.length;lt++)this.path[lt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(st,ot){return this.eventHandlers.has(st)||this.eventHandlers.set(st,new SubscriptionManager),this.eventHandlers.get(st).add(ot)}notifyListeners(st,...ot){const at=this.eventHandlers.get(st);at==null||at.notify(...ot)}hasListeners(st){return this.eventHandlers.has(st)}registerPotentialNode(st,ot){this.potentialNodes.set(st,ot)}mount(st,ot=!1){var at;if(this.instance)return;this.isSVG=st instanceof SVGElement&&st.tagName!=="svg",this.instance=st;const{layoutId:lt,layout:ct,visualElement:ut}=this.options;if(ut&&!ut.getInstance()&&ut.mount(st),this.root.nodes.add(this),(at=this.parent)===null||at===void 0||at.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),ot&&(ct||lt)&&(this.isLayoutDirty=!0),et){let ft;const ht=()=>this.root.updateBlockedByResize=!1;et(st,()=>{this.root.updateBlockedByResize=!0,clearTimeout(ft),ft=window.setTimeout(ht,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}lt&&this.root.registerSharedNode(lt,this),this.options.animate!==!1&&ut&&(lt||ct)&&this.addEventListener("didUpdate",({delta:ft,hasLayoutChanged:ht,hasRelativeTargetChanged:pt,layout:gt})=>{var dt,vt,xt,_t,bt;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const At=(vt=(dt=this.options.transition)!==null&&dt!==void 0?dt:ut.getDefaultTransition())!==null&&vt!==void 0?vt:defaultLayoutTransition,{onLayoutAnimationStart:Mt,onLayoutAnimationComplete:Tt}=ut.getProps(),St=!this.targetLayout||!boxEquals(this.targetLayout,gt)||pt,Ct=!ht&&pt;if(((xt=this.resumeFrom)===null||xt===void 0?void 0:xt.instance)||Ct||ht&&(St||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ft,Ct);const Et={...getValueTransition(At,"layout"),onPlay:Mt,onComplete:Tt};ut.shouldReduceMotion&&(Et.delay=0,Et.type=!1),this.startAnimation(Et)}else!ht&&this.animationProgress===0&&this.finishAnimation(),this.isLead()&&((bt=(_t=this.options).onExitComplete)===null||bt===void 0||bt.call(_t));this.targetLayout=gt})}unmount(){var st,ot;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(st=this.getStack())===null||st===void 0||st.remove(this),(ot=this.parent)===null||ot===void 0||ot.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var st;return this.isAnimationBlocked||((st=this.parent)===null||st===void 0?void 0:st.isTreeAnimationBlocked())||!1}startUpdate(){var st;this.isUpdateBlocked()||(this.isUpdating=!0,(st=this.nodes)===null||st===void 0||st.forEach(resetRotation))}willUpdate(st=!0){var ot,at,lt;if(this.root.isUpdateBlocked()){(at=(ot=this.options).onExitComplete)===null||at===void 0||at.call(ot);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ht=0;ht<this.path.length;ht++){const pt=this.path[ht];pt.shouldResetTransform=!0,pt.updateScroll()}const{layoutId:ct,layout:ut}=this.options;if(ct===void 0&&!ut)return;const ft=(lt=this.options.visualElement)===null||lt===void 0?void 0:lt.getProps().transformTemplate;this.prevTransformTemplateValue=ft==null?void 0:ft(this.latestValues,""),this.updateSnapshot(),st&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){sync.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sync.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){if(this.snapshot||!this.instance)return;const st=this.measure(),ot=this.removeTransform(this.removeElementScroll(st));roundBox(ot),this.snapshot={measured:st,layout:ot,latestValues:{}}}updateLayout(){var st;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let lt=0;lt<this.path.length;lt++)this.path[lt].updateScroll();const ot=this.measure();roundBox(ot);const at=this.layout;this.layout={measured:ot,actual:this.removeElementScroll(ot)},this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(st=this.options.visualElement)===null||st===void 0||st.notifyLayoutMeasure(this.layout.actual,at==null?void 0:at.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=nt(this.instance),this.scroll=tt(this.instance))}resetTransform(){var st;if(!rt)return;const ot=this.isLayoutDirty||this.shouldResetTransform,at=this.projectionDelta&&!isDeltaZero(this.projectionDelta),lt=(st=this.options.visualElement)===null||st===void 0?void 0:st.getProps().transformTemplate,ct=lt==null?void 0:lt(this.latestValues,""),ut=ct!==this.prevTransformTemplateValue;ot&&(at||hasTransform(this.latestValues)||ut)&&(rt(this.instance,ct),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:st}=this.options;if(!st)return createBox();const ot=st.measureViewportBox(),{scroll:at}=this.root;return at&&(translateAxis(ot.x,at.x),translateAxis(ot.y,at.y)),ot}removeElementScroll(st){const ot=createBox();copyBoxInto(ot,st);for(let at=0;at<this.path.length;at++){const lt=this.path[at],{scroll:ct,options:ut,isScrollRoot:ft}=lt;if(lt!==this.root&&ct&&ut.layoutScroll){if(ft){copyBoxInto(ot,st);const{scroll:ht}=this.root;ht&&(translateAxis(ot.x,-ht.x),translateAxis(ot.y,-ht.y))}translateAxis(ot.x,ct.x),translateAxis(ot.y,ct.y)}}return ot}applyTransform(st,ot=!1){const at=createBox();copyBoxInto(at,st);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];!ot&&ct.options.layoutScroll&&ct.scroll&&ct!==ct.root&&transformBox(at,{x:-ct.scroll.x,y:-ct.scroll.y}),hasTransform(ct.latestValues)&&transformBox(at,ct.latestValues)}return hasTransform(this.latestValues)&&transformBox(at,this.latestValues),at}removeTransform(st){var ot;const at=createBox();copyBoxInto(at,st);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];if(!ct.instance||!hasTransform(ct.latestValues))continue;hasScale(ct.latestValues)&&ct.updateSnapshot();const ut=createBox(),ft=ct.measure();copyBoxInto(ut,ft),removeBoxTransforms(at,ct.latestValues,(ot=ct.snapshot)===null||ot===void 0?void 0:ot.layout,ut)}return hasTransform(this.latestValues)&&removeBoxTransforms(at,this.latestValues),at}setTargetDelta(st){this.targetDelta=st,this.root.scheduleUpdateProjection()}setOptions(st){this.options={...this.options,...st,crossfade:st.crossfade!==void 0?st.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var st;const{layout:ot,layoutId:at}=this.options;!this.layout||!(ot||at)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&((st=this.relativeParent)===null||st===void 0?void 0:st.target)?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):copyBoxInto(this.target,this.layout.actual),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,this.relativeParent.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(!(!this.parent||hasTransform(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var st;const{layout:ot,layoutId:at}=this.options;if(this.isTreeAnimating=Boolean(((st=this.parent)===null||st===void 0?void 0:st.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ot||at))return;const lt=this.getLead();copyBoxInto(this.layoutCorrected,this.layout.actual),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==lt);const{target:ct}=lt;if(!ct)return;this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const ut=this.treeScale.x,ft=this.treeScale.y,ht=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,ct,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==ht||this.treeScale.x!==ut||this.treeScale.y!==ft)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ct))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(st=!0){var ot,at,lt;(at=(ot=this.options).scheduleRender)===null||at===void 0||at.call(ot),st&&((lt=this.getStack())===null||lt===void 0||lt.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(st,ot=!1){var at;const lt=this.snapshot,ct=(lt==null?void 0:lt.latestValues)||{},ut={...this.latestValues},ft=createDelta();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!ot;const ht=createBox(),pt=lt==null?void 0:lt.isShared,gt=(((at=this.getStack())===null||at===void 0?void 0:at.members.length)||0)<=1,dt=Boolean(pt&&!gt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=vt=>{var xt;const _t=vt/1e3;mixAxisDelta(ft.x,st.x,_t),mixAxisDelta(ft.y,st.y,_t),this.setTargetDelta(ft),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((xt=this.relativeParent)===null||xt===void 0?void 0:xt.layout)&&(calcRelativePosition(ht,this.layout.actual,this.relativeParent.layout.actual),mixBox(this.relativeTarget,this.relativeTargetOrigin,ht,_t)),pt&&(this.animationValues=ut,mixValues(ut,ct,this.latestValues,_t,dt,gt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_t},this.mixTargetDelta(0)}startAnimation(st){var ot,at;this.notifyListeners("animationStart"),(ot=this.currentAnimation)===null||ot===void 0||ot.stop(),this.resumingFrom&&((at=this.resumingFrom.currentAnimation)===null||at===void 0||at.stop()),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animate(0,animationTarget,{...st,onUpdate:lt=>{var ct;this.mixTargetDelta(lt),(ct=st.onUpdate)===null||ct===void 0||ct.call(st,lt)},onComplete:()=>{var lt;(lt=st.onComplete)===null||lt===void 0||lt.call(st),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var st;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(st=this.getStack())===null||st===void 0||st.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var st;this.currentAnimation&&((st=this.mixTargetDelta)===null||st===void 0||st.call(this,animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const st=this.getLead();let{targetWithTransforms:ot,target:at,layout:lt,latestValues:ct}=st;if(!(!ot||!at||!lt)){if(this!==st&&this.layout&&lt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.actual,lt.actual)){at=this.target||createBox();const ut=calcLength(this.layout.actual.x);at.x.min=st.target.x.min,at.x.max=at.x.min+ut;const ft=calcLength(this.layout.actual.y);at.y.min=st.target.y.min,at.y.max=at.y.min+ft}copyBoxInto(ot,at),transformBox(ot,ct),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ot,ct)}}registerSharedNode(st,ot){var at,lt,ct;this.sharedNodes.has(st)||this.sharedNodes.set(st,new NodeStack),this.sharedNodes.get(st).add(ot),ot.promote({transition:(at=ot.options.initialPromotionConfig)===null||at===void 0?void 0:at.transition,preserveFollowOpacity:(ct=(lt=ot.options.initialPromotionConfig)===null||lt===void 0?void 0:lt.shouldPreserveFollowOpacity)===null||ct===void 0?void 0:ct.call(lt,ot)})}isLead(){const st=this.getStack();return st?st.lead===this:!0}getLead(){var st;const{layoutId:ot}=this.options;return ot?((st=this.getStack())===null||st===void 0?void 0:st.lead)||this:this}getPrevLead(){var st;const{layoutId:ot}=this.options;return ot?(st=this.getStack())===null||st===void 0?void 0:st.prevLead:void 0}getStack(){const{layoutId:st}=this.options;if(st)return this.root.sharedNodes.get(st)}promote({needsReset:st,transition:ot,preserveFollowOpacity:at}={}){const lt=this.getStack();lt&&lt.promote(this,at),st&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const st=this.getStack();return st?st.relegate(this):!1}resetRotation(){const{visualElement:st}=this.options;if(!st)return;let ot=!1;const at={};for(let lt=0;lt<transformAxes.length;lt++){const ct=transformAxes[lt],ut="rotate"+ct;!st.getStaticValue(ut)||(ot=!0,at[ut]=st.getStaticValue(ut),st.setStaticValue(ut,0))}if(!!ot){st==null||st.syncRender();for(const lt in at)st.setStaticValue(lt,at[lt]);st.scheduleRender()}}getProjectionStyles(st={}){var ot,at,lt;const ct={};if(!this.instance||this.isSVG)return ct;if(this.isVisible)ct.visibility="";else return{visibility:"hidden"};const ut=(ot=this.options.visualElement)===null||ot===void 0?void 0:ot.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,ct.opacity="",ct.pointerEvents=resolveMotionValue(st.pointerEvents)||"",ct.transform=ut?ut(this.latestValues,""):"none",ct;const ft=this.getLead();if(!this.projectionDelta||!this.layout||!ft.target){const dt={};return this.options.layoutId&&(dt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,dt.pointerEvents=resolveMotionValue(st.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(dt.transform=ut?ut({},""):"none",this.hasProjected=!1),dt}const ht=ft.animationValues||ft.latestValues;this.applyTransformsToTarget(),ct.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ht),ut&&(ct.transform=ut(ht,ct.transform));const{x:pt,y:gt}=this.projectionDelta;ct.transformOrigin=`${pt.origin*100}% ${gt.origin*100}% 0`,ft.animationValues?ct.opacity=ft===this?(lt=(at=ht.opacity)!==null&&at!==void 0?at:this.latestValues.opacity)!==null&&lt!==void 0?lt:1:this.preserveOpacity?this.latestValues.opacity:ht.opacityExit:ct.opacity=ft===this?ht.opacity!==void 0?ht.opacity:"":ht.opacityExit!==void 0?ht.opacityExit:0;for(const dt in scaleCorrectors){if(ht[dt]===void 0)continue;const{correct:vt,applyTo:xt}=scaleCorrectors[dt],_t=vt(ht[dt],ft);if(xt){const bt=xt.length;for(let At=0;At<bt;At++)ct[xt[At]]=_t}else ct[dt]=_t}return this.options.layoutId&&(ct.pointerEvents=ft===this?resolveMotionValue(st.pointerEvents)||"":"none"),ct}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(st=>{var ot;return(ot=st.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(et){et.updateLayout()}function notifyLayoutUpdate(et){var _e,tt,nt;const rt=((_e=et.resumeFrom)===null||_e===void 0?void 0:_e.snapshot)||et.snapshot;if(et.isLead()&&et.layout&&rt&&et.hasListeners("didUpdate")){const{actual:it,measured:st}=et.layout,{animationType:ot}=et.options;ot==="size"?eachAxis(ft=>{const ht=rt.isShared?rt.measured[ft]:rt.layout[ft],pt=calcLength(ht);ht.min=it[ft].min,ht.max=ht.min+pt}):shouldAnimatePositionOnly(ot,rt.layout,it)&&eachAxis(ft=>{const ht=rt.isShared?rt.measured[ft]:rt.layout[ft],pt=calcLength(it[ft]);ht.max=ht.min+pt});const at=createDelta();calcBoxDelta(at,it,rt.layout);const lt=createDelta();rt.isShared?calcBoxDelta(lt,et.applyTransform(st,!0),rt.measured):calcBoxDelta(lt,it,rt.layout);const ct=!isDeltaZero(at);let ut=!1;if(!et.resumeFrom&&(et.relativeParent=et.getClosestProjectingParent(),et.relativeParent&&!et.relativeParent.resumeFrom)){const{snapshot:ft,layout:ht}=et.relativeParent;if(ft&&ht){const pt=createBox();calcRelativePosition(pt,rt.layout,ft.layout);const gt=createBox();calcRelativePosition(gt,it,ht.actual),boxEquals(pt,gt)||(ut=!0)}}et.notifyListeners("didUpdate",{layout:it,snapshot:rt,delta:lt,layoutDelta:at,hasLayoutChanged:ct,hasRelativeTargetChanged:ut})}else et.isLead()&&((nt=(tt=et.options).onExitComplete)===null||nt===void 0||nt.call(tt));et.options.transition=void 0}function clearSnapshot(et){et.clearSnapshot()}function clearMeasurements(et){et.clearMeasurements()}function resetTransformStyle(et){const{visualElement:_e}=et.options;_e!=null&&_e.getProps().onBeforeLayoutMeasure&&_e.notifyBeforeLayoutMeasure(),et.resetTransform()}function finishAnimation(et){et.finishAnimation(),et.targetDelta=et.relativeTarget=et.target=void 0}function resolveTargetDelta(et){et.resolveTargetDelta()}function calcProjection(et){et.calcProjection()}function resetRotation(et){et.resetRotation()}function removeLeadSnapshots(et){et.removeLeadSnapshot()}function mixAxisDelta(et,_e,tt){et.translate=mix$1(_e.translate,0,tt),et.scale=mix$1(_e.scale,1,tt),et.origin=_e.origin,et.originPoint=_e.originPoint}function mixAxis(et,_e,tt,nt){et.min=mix$1(_e.min,tt.min,nt),et.max=mix$1(_e.max,tt.max,nt)}function mixBox(et,_e,tt,nt){mixAxis(et.x,_e.x,tt.x,nt),mixAxis(et.y,_e.y,tt.y,nt)}function hasOpacityCrossfade(et){return et.animationValues&&et.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(et,_e){let tt=et.root;for(let it=et.path.length-1;it>=0;it--)if(Boolean(et.path[it].instance)){tt=et.path[it];break}const rt=(tt&&tt!==et.root?tt.instance:document).querySelector(`[data-projection-id="${_e}"]`);rt&&et.mount(rt,!0)}function roundAxis(et){et.min=Math.round(et.min),et.max=Math.round(et.max)}function roundBox(et){roundAxis(et.x),roundAxis(et.y)}function shouldAnimatePositionOnly(et,_e,tt){return et==="position"||et==="preserve-aspect"&&!isCloseTo(aspectRatio(_e),aspectRatio(tt),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(et,_e)=>addDomEvent(et,"resize",_e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:et=>({x:et.scrollLeft,y:et.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const et=new DocumentProjectionNode(0,{});et.mount(window),et.setOptions({layoutScroll:!0}),rootProjectionNode.current=et}return rootProjectionNode.current},resetTransform:(et,_e)=>{et.style.transform=_e!==void 0?_e:"none"},checkIsScrollRoot:et=>Boolean(window.getComputedStyle(et).position==="fixed")}),featureBundle={...animations,...gestureAnimations,...drag,...layoutFeatures},motion=createMotionProxy((et,_e)=>createDomMotionConfig(et,_e,featureBundle,createDomVisualElement,HTMLProjectionNode)),clamp$1=(et,_e,tt)=>Math.min(Math.max(tt,et),_e),isNumber=et=>typeof et=="number",isEasingList=et=>Array.isArray(et)&&!isNumber(et[0]),wrap=(et,_e,tt)=>{const nt=_e-et;return((tt-et)%nt+nt)%nt+et};function getEasingForSegment(et,_e){return isEasingList(et)?et[wrap(0,et.length,_e)]:et}const mix=(et,_e,tt)=>-tt*et+tt*_e+et,noopReturn=et=>et,progress=(et,_e,tt)=>_e-et===0?1:(tt-et)/(_e-et);function fillOffset(et,_e){const tt=et[et.length-1];for(let nt=1;nt<=_e;nt++){const rt=progress(0,_e,nt);et.push(mix(tt,1,rt))}}function defaultOffset$1(et){const _e=[0];return fillOffset(_e,et-1),_e}function interpolate(et,_e=defaultOffset$1(et.length),tt=noopReturn){const nt=et.length,rt=nt-_e.length;return rt>0&&fillOffset(_e,rt),it=>{let st=0;for(;st<nt-2&&!(it<_e[st+1]);st++);let ot=clamp$1(0,1,progress(_e[st],_e[st+1],it));return ot=getEasingForSegment(tt,st)(ot),mix(et[st],et[st+1],ot)}}const isFunction=et=>typeof et=="function",isString$1=et=>typeof et=="string";function velocityPerSecond(et,_e){return _e?et*(1e3/_e):0}function resolveElements(et,_e){var tt;return typeof et=="string"?_e?((tt=_e[et])!==null&&tt!==void 0||(_e[et]=document.querySelectorAll(et)),et=_e[et]):et=document.querySelectorAll(et):et instanceof Element&&(et=[et]),Array.from(et||[])}function __rest(et,_e){var tt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&_e.indexOf(nt)<0&&(tt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,nt=Object.getOwnPropertySymbols(et);rt<nt.length;rt++)_e.indexOf(nt[rt])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[rt])&&(tt[nt[rt]]=et[nt[rt]]);return tt}const resizeHandlers=new WeakMap;let observer;function getElementSize(et,_e){if(_e){const{inlineSize:tt,blockSize:nt}=_e[0];return{width:tt,height:nt}}else return et instanceof SVGElement&&"getBBox"in et?et.getBBox():{width:et.offsetWidth,height:et.offsetHeight}}function notifyTarget({target:et,contentRect:_e,borderBoxSize:tt}){var nt;(nt=resizeHandlers.get(et))===null||nt===void 0||nt.forEach(rt=>{rt({target:et,contentSize:_e,get size(){return getElementSize(et,tt)}})})}function notifyAll(et){et.forEach(notifyTarget)}function createResizeObserver(){typeof ResizeObserver>"u"||(observer=new ResizeObserver(notifyAll))}function resizeElement(et,_e){observer||createResizeObserver();const tt=resolveElements(et);return tt.forEach(nt=>{let rt=resizeHandlers.get(nt);rt||(rt=new Set,resizeHandlers.set(nt,rt)),rt.add(_e),observer==null||observer.observe(nt)}),()=>{tt.forEach(nt=>{const rt=resizeHandlers.get(nt);rt==null||rt.delete(_e),rt!=null&&rt.size||observer==null||observer.unobserve(nt)})}}const windowCallbacks=new Set;let windowResizeHandler;function createWindowResizeHandler(){windowResizeHandler=()=>{const et={width:window.innerWidth,height:window.innerHeight},_e={target:window,size:et,contentSize:et};windowCallbacks.forEach(tt=>tt(_e))},window.addEventListener("resize",windowResizeHandler)}function resizeWindow(et){return windowCallbacks.add(et),windowResizeHandler||createWindowResizeHandler(),()=>{windowCallbacks.delete(et),!windowCallbacks.size&&windowResizeHandler&&(windowResizeHandler=void 0)}}function resize(et,_e){return isFunction(et)?resizeWindow(et):resizeElement(et,_e)}const maxElapsed=50,createAxisInfo=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),createScrollInfo=()=>({time:0,x:createAxisInfo(),y:createAxisInfo()}),keys={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function updateAxisInfo(et,_e,tt,nt){const rt=tt[_e],{length:it,position:st}=keys[_e],ot=rt.current,at=tt.time;rt.current=et["scroll"+st],rt.scrollLength=et["scroll"+it]-et["client"+it],rt.offset.length=0,rt.offset[0]=0,rt.offset[1]=rt.scrollLength,rt.progress=progress(0,rt.scrollLength,rt.current);const lt=nt-at;rt.velocity=lt>maxElapsed?0:velocityPerSecond(rt.current-ot,lt)}function updateScrollInfo(et,_e,tt){updateAxisInfo(et,"x",_e,tt),updateAxisInfo(et,"y",_e,tt),_e.time=tt}function calcInset(et,_e){let tt={x:0,y:0},nt=et;for(;nt&&nt!==_e;)if(nt instanceof HTMLElement)tt.x+=nt.offsetLeft,tt.y+=nt.offsetTop,nt=nt.offsetParent;else if(nt instanceof SVGGraphicsElement&&"getBBox"in nt){const{top:rt,left:it}=nt.getBBox();for(tt.x+=it,tt.y+=rt;nt&&nt.tagName!=="svg";)nt=nt.parentNode}return tt}const ScrollOffset={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},namedEdges={start:0,center:.5,end:1};function resolveEdge(et,_e,tt=0){let nt=0;if(namedEdges[et]!==void 0&&(et=namedEdges[et]),isString$1(et)){const rt=parseFloat(et);et.endsWith("px")?nt=rt:et.endsWith("%")?et=rt/100:et.endsWith("vw")?nt=rt/100*document.documentElement.clientWidth:et.endsWith("vh")?nt=rt/100*document.documentElement.clientHeight:et=rt}return isNumber(et)&&(nt=_e*et),tt+nt}const defaultOffset=[0,0];function resolveOffset(et,_e,tt,nt){let rt=Array.isArray(et)?et:defaultOffset,it=0,st=0;return isNumber(et)?rt=[et,et]:isString$1(et)&&(et=et.trim(),et.includes(" ")?rt=et.split(" "):rt=[et,namedEdges[et]?et:"0"]),it=resolveEdge(rt[0],tt,nt),st=resolveEdge(rt[1],_e),it-st}const point={x:0,y:0};function resolveOffsets(et,_e,tt){let{offset:nt=ScrollOffset.All}=tt;const{target:rt=et,axis:it="y"}=tt,st=it==="y"?"height":"width",ot=rt!==et?calcInset(rt,et):point,at=rt===et?{width:et.scrollWidth,height:et.scrollHeight}:{width:rt.clientWidth,height:rt.clientHeight},lt={width:et.clientWidth,height:et.clientHeight};_e[it].offset.length=0;let ct=!_e[it].interpolate;const ut=nt.length;for(let ft=0;ft<ut;ft++){const ht=resolveOffset(nt[ft],lt[st],at[st],ot[it]);!ct&&ht!==_e[it].interpolatorOffsets[ft]&&(ct=!0),_e[it].offset[ft]=ht}ct&&(_e[it].interpolate=interpolate(defaultOffset$1(ut),_e[it].offset),_e[it].interpolatorOffsets=[..._e[it].offset]),_e[it].progress=_e[it].interpolate(_e[it].current)}function measure(et,_e=et,tt){if(tt.x.targetOffset=0,tt.y.targetOffset=0,_e!==et){let nt=_e;for(;nt&&nt!=et;)tt.x.targetOffset+=nt.offsetLeft,tt.y.targetOffset+=nt.offsetTop,nt=nt.offsetParent}tt.x.targetLength=_e===et?_e.scrollWidth:_e.clientWidth,tt.y.targetLength=_e===et?_e.scrollHeight:_e.clientHeight,tt.x.containerLength=et.clientWidth,tt.y.containerLength=et.clientHeight}function createOnScrollHandler(et,_e,tt,nt={}){const rt=nt.axis||"y";return{measure:()=>measure(et,nt.target,tt),update:it=>{updateScrollInfo(et,tt,it),(nt.offset||nt.target)&&resolveOffsets(et,tt,nt)},notify:isFunction(_e)?()=>_e(tt):scrubAnimation(_e,tt[rt])}}function scrubAnimation(et,_e){return et.pause(),et.forEachNative((tt,{easing:nt})=>{var rt,it;if(tt.updateDuration)nt||(tt.easing=noopReturn),tt.updateDuration(1);else{const st={duration:1e3};nt||(st.easing="linear"),(it=(rt=tt.effect)===null||rt===void 0?void 0:rt.updateTiming)===null||it===void 0||it.call(rt,st)}}),()=>{et.currentTime=_e.progress}}const scrollListeners=new WeakMap,resizeListeners=new WeakMap,onScrollHandlers=new WeakMap,getEventTarget=et=>et===document.documentElement?window:et;function scroll(et,_e={}){var{container:tt=document.documentElement}=_e,nt=__rest(_e,["container"]);let rt=onScrollHandlers.get(tt);rt||(rt=new Set,onScrollHandlers.set(tt,rt));const it=createScrollInfo(),st=createOnScrollHandler(tt,et,it,nt);if(rt.add(st),!scrollListeners.has(tt)){const lt=()=>{const ut=performance.now();for(const ft of rt)ft.measure();for(const ft of rt)ft.update(ut);for(const ft of rt)ft.notify()};scrollListeners.set(tt,lt);const ct=getEventTarget(tt);window.addEventListener("resize",lt,{passive:!0}),tt!==document.documentElement&&resizeListeners.set(tt,resize(tt,lt)),ct.addEventListener("scroll",lt,{passive:!0})}const ot=scrollListeners.get(tt),at=requestAnimationFrame(ot);return()=>{var lt;typeof et!="function"&&et.stop(),cancelAnimationFrame(at);const ct=onScrollHandlers.get(tt);if(!ct||(ct.delete(st),ct.size))return;const ut=scrollListeners.get(tt);scrollListeners.delete(tt),ut&&(getEventTarget(tt).removeEventListener("scroll",ut),(lt=resizeListeners.get(tt))===null||lt===void 0||lt(),window.removeEventListener("resize",ut))}}const createScrollMotionValues=()=>({scrollX:motionValue(0),scrollY:motionValue(0),scrollXProgress:motionValue(0),scrollYProgress:motionValue(0)});function useScroll({container:et,target:_e,...tt}={}){const nt=useConstant(createScrollMotionValues);return useIsomorphicLayoutEffect(()=>scroll(({x:rt,y:it})=>{nt.scrollX.set(rt.current),nt.scrollXProgress.set(rt.progress),nt.scrollY.set(it.current),nt.scrollYProgress.set(it.progress)},{...tt,container:(et==null?void 0:et.current)||void 0,target:(_e==null?void 0:_e.current)||void 0}),[]),nt}var reactResponsive={exports:{}};(function(et,_e){(function(nt,rt){et.exports=rt(react.exports)})(commonjsGlobal,tt=>(()=>{var nt={"./node_modules/css-mediaquery/index.js":(ot,at)=>{at.match=pt,at.parse=gt;var lt=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,ct=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,ut=/^(?:(min|max)-)?(.+)/,ft=/(em|rem|px|cm|mm|in|pt|pc)?$/,ht=/(dpi|dpcm|dppx)?$/;function pt(_t,bt){return gt(_t).some(function(At){var Mt=At.inverse,Tt=At.type==="all"||bt.type===At.type;if(Tt&&Mt||!(Tt||Mt))return!1;var St=At.expressions.every(function(Ct){var Et=Ct.feature,Rt=Ct.modifier,It=Ct.value,Ot=bt[Et];if(!Ot)return!1;switch(Et){case"orientation":case"scan":return Ot.toLowerCase()===It.toLowerCase();case"width":case"height":case"device-width":case"device-height":It=xt(It),Ot=xt(Ot);break;case"resolution":It=vt(It),Ot=vt(Ot);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":It=dt(It),Ot=dt(Ot);break;case"grid":case"color":case"color-index":case"monochrome":It=parseInt(It,10)||1,Ot=parseInt(Ot,10)||0;break}switch(Rt){case"min":return Ot>=It;case"max":return Ot<=It;default:return Ot===It}});return St&&!Mt||!St&&Mt})}function gt(_t){return _t.split(",").map(function(bt){bt=bt.trim();var At=bt.match(lt),Mt=At[1],Tt=At[2],St=At[3]||"",Ct={};return Ct.inverse=!!Mt&&Mt.toLowerCase()==="not",Ct.type=Tt?Tt.toLowerCase():"all",St=St.match(/\([^\)]+\)/g)||[],Ct.expressions=St.map(function(Et){var Rt=Et.match(ct),It=Rt[1].toLowerCase().match(ut);return{modifier:It[1],feature:It[2],value:Rt[2]}}),Ct})}function dt(_t){var bt=Number(_t),At;return bt||(At=_t.match(/^(\d+)\s*\/\s*(\d+)$/),bt=At[1]/At[2]),bt}function vt(_t){var bt=parseFloat(_t),At=String(_t).match(ht)[1];switch(At){case"dpcm":return bt/2.54;case"dppx":return bt*96;default:return bt}}function xt(_t){var bt=parseFloat(_t),At=String(_t).match(ft)[1];switch(At){case"em":return bt*16;case"rem":return bt*16;case"cm":return bt*96/2.54;case"mm":return bt*96/2.54/10;case"in":return bt*96;case"pt":return bt*72;case"pc":return bt*72/12;default:return bt}}},"./node_modules/hyphenate-style-name/index.js":(ot,at,lt)=>{lt.r(at),lt.d(at,{default:()=>gt});var ct=/[A-Z]/g,ut=/^ms-/,ft={};function ht(dt){return"-"+dt.toLowerCase()}function pt(dt){if(ft.hasOwnProperty(dt))return ft[dt];var vt=dt.replace(ct,ht);return ft[dt]=ut.test(vt)?"-"+vt:vt}const gt=pt},"./node_modules/matchmediaquery/index.js":(ot,at,lt)=>{var ct=lt("./node_modules/css-mediaquery/index.js").match,ut=typeof window<"u"?window.matchMedia:null;function ft(pt,gt,dt){var vt=this;if(ut&&!dt){var xt=ut.call(window,pt);this.matches=xt.matches,this.media=xt.media,xt.addListener(At)}else this.matches=ct(pt,gt),this.media=pt;this.addListener=_t,this.removeListener=bt,this.dispose=Mt;function _t(Tt){xt&&xt.addListener(Tt)}function bt(Tt){xt&&xt.removeListener(Tt)}function At(Tt){vt.matches=Tt.matches,vt.media=Tt.media}function Mt(){xt&&xt.removeListener(At)}}function ht(pt,gt,dt){return new ft(pt,gt,dt)}ot.exports=ht},"./node_modules/object-assign/index.js":ot=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var at=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;function ut(ht){if(ht==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ht)}function ft(){try{if(!Object.assign)return!1;var ht=new String("abc");if(ht[5]="de",Object.getOwnPropertyNames(ht)[0]==="5")return!1;for(var pt={},gt=0;gt<10;gt++)pt["_"+String.fromCharCode(gt)]=gt;var dt=Object.getOwnPropertyNames(pt).map(function(xt){return pt[xt]});if(dt.join("")!=="0123456789")return!1;var vt={};return"abcdefghijklmnopqrst".split("").forEach(function(xt){vt[xt]=xt}),Object.keys(Object.assign({},vt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ot.exports=ft()?Object.assign:function(ht,pt){for(var gt,dt=ut(ht),vt,xt=1;xt<arguments.length;xt++){gt=Object(arguments[xt]);for(var _t in gt)lt.call(gt,_t)&&(dt[_t]=gt[_t]);if(at){vt=at(gt);for(var bt=0;bt<vt.length;bt++)ct.call(gt,vt[bt])&&(dt[vt[bt]]=gt[vt[bt]])}}return dt}},"./node_modules/prop-types/checkPropTypes.js":(ot,at,lt)=>{var ct=function(){};{var ut=lt("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),ft={},ht=lt("./node_modules/prop-types/lib/has.js");ct=function(gt){var dt="Warning: "+gt;typeof console<"u"&&console.error(dt);try{throw new Error(dt)}catch{}}}function pt(gt,dt,vt,xt,_t){for(var bt in gt)if(ht(gt,bt)){var At;try{if(typeof gt[bt]!="function"){var Mt=Error((xt||"React class")+": "+vt+" type `"+bt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof gt[bt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Mt.name="Invariant Violation",Mt}At=gt[bt](dt,bt,xt,vt,null,ut)}catch(St){At=St}if(At&&!(At instanceof Error)&&ct((xt||"React class")+": type specification of "+vt+" `"+bt+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof At+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),At instanceof Error&&!(At.message in ft)){ft[At.message]=!0;var Tt=_t?_t():"";ct("Failed "+vt+" type: "+At.message+(Tt!=null?Tt:""))}}}pt.resetWarningCache=function(){ft={}},ot.exports=pt},"./node_modules/prop-types/factoryWithTypeCheckers.js":(ot,at,lt)=>{var ct=lt("./node_modules/react-is/index.js"),ut=lt("./node_modules/object-assign/index.js"),ft=lt("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),ht=lt("./node_modules/prop-types/lib/has.js"),pt=lt("./node_modules/prop-types/checkPropTypes.js"),gt=function(){};gt=function(vt){var xt="Warning: "+vt;typeof console<"u"&&console.error(xt);try{throw new Error(xt)}catch{}};function dt(){return null}ot.exports=function(vt,xt){var _t=typeof Symbol=="function"&&Symbol.iterator,bt="@@iterator";function At(Gt){var Wt=Gt&&(_t&&Gt[_t]||Gt[bt]);if(typeof Wt=="function")return Wt}var Mt="<<anonymous>>",Tt={array:Rt("array"),bigint:Rt("bigint"),bool:Rt("boolean"),func:Rt("function"),number:Rt("number"),object:Rt("object"),string:Rt("string"),symbol:Rt("symbol"),any:It(),arrayOf:Ot,element:kt(),elementType:$t(),instanceOf:jt,node:Ft(),objectOf:Bt,oneOf:Ht,oneOfType:Lt,shape:Yt,exact:rn};function St(Gt,Wt){return Gt===Wt?Gt!==0||1/Gt===1/Wt:Gt!==Gt&&Wt!==Wt}function Ct(Gt,Wt){this.message=Gt,this.data=Wt&&typeof Wt=="object"?Wt:{},this.stack=""}Ct.prototype=Error.prototype;function Et(Gt){var Wt={},Jt=0;function Kt(fn,hn,bn,un,gn,vn,on){if(un=un||Mt,vn=vn||bn,on!==ft){if(xt){var Xt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Xt.name="Invariant Violation",Xt}else if(typeof console<"u"){var zt=un+":"+bn;!Wt[zt]&&Jt<3&&(gt("You are manually calling a React.PropTypes validation function for the `"+vn+"` prop on `"+un+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),Wt[zt]=!0,Jt++)}}return hn[bn]==null?fn?hn[bn]===null?new Ct("The "+gn+" `"+vn+"` is marked as required "+("in `"+un+"`, but its value is `null`.")):new Ct("The "+gn+" `"+vn+"` is marked as required in "+("`"+un+"`, but its value is `undefined`.")):null:Gt(hn,bn,un,gn,vn)}var nn=Kt.bind(null,!1);return nn.isRequired=Kt.bind(null,!0),nn}function Rt(Gt){function Wt(Jt,Kt,nn,fn,hn,bn){var un=Jt[Kt],gn=Zt(un);if(gn!==Gt){var vn=an(un);return new Ct("Invalid "+fn+" `"+hn+"` of type "+("`"+vn+"` supplied to `"+nn+"`, expected ")+("`"+Gt+"`."),{expectedType:Gt})}return null}return Et(Wt)}function It(){return Et(dt)}function Ot(Gt){function Wt(Jt,Kt,nn,fn,hn){if(typeof Gt!="function")return new Ct("Property `"+hn+"` of component `"+nn+"` has invalid PropType notation inside arrayOf.");var bn=Jt[Kt];if(!Array.isArray(bn)){var un=Zt(bn);return new Ct("Invalid "+fn+" `"+hn+"` of type "+("`"+un+"` supplied to `"+nn+"`, expected an array."))}for(var gn=0;gn<bn.length;gn++){var vn=Gt(bn,gn,nn,fn,hn+"["+gn+"]",ft);if(vn instanceof Error)return vn}return null}return Et(Wt)}function kt(){function Gt(Wt,Jt,Kt,nn,fn){var hn=Wt[Jt];if(!vt(hn)){var bn=Zt(hn);return new Ct("Invalid "+nn+" `"+fn+"` of type "+("`"+bn+"` supplied to `"+Kt+"`, expected a single ReactElement."))}return null}return Et(Gt)}function $t(){function Gt(Wt,Jt,Kt,nn,fn){var hn=Wt[Jt];if(!ct.isValidElementType(hn)){var bn=Zt(hn);return new Ct("Invalid "+nn+" `"+fn+"` of type "+("`"+bn+"` supplied to `"+Kt+"`, expected a single ReactElement type."))}return null}return Et(Gt)}function jt(Gt){function Wt(Jt,Kt,nn,fn,hn){if(!(Jt[Kt]instanceof Gt)){var bn=Gt.name||Mt,un=Ut(Jt[Kt]);return new Ct("Invalid "+fn+" `"+hn+"` of type "+("`"+un+"` supplied to `"+nn+"`, expected ")+("instance of `"+bn+"`."))}return null}return Et(Wt)}function Ht(Gt){if(!Array.isArray(Gt))return arguments.length>1?gt("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):gt("Invalid argument supplied to oneOf, expected an array."),dt;function Wt(Jt,Kt,nn,fn,hn){for(var bn=Jt[Kt],un=0;un<Gt.length;un++)if(St(bn,Gt[un]))return null;var gn=JSON.stringify(Gt,function(on,Xt){var zt=an(Xt);return zt==="symbol"?String(Xt):Xt});return new Ct("Invalid "+fn+" `"+hn+"` of value `"+String(bn)+"` "+("supplied to `"+nn+"`, expected one of "+gn+"."))}return Et(Wt)}function Bt(Gt){function Wt(Jt,Kt,nn,fn,hn){if(typeof Gt!="function")return new Ct("Property `"+hn+"` of component `"+nn+"` has invalid PropType notation inside objectOf.");var bn=Jt[Kt],un=Zt(bn);if(un!=="object")return new Ct("Invalid "+fn+" `"+hn+"` of type "+("`"+un+"` supplied to `"+nn+"`, expected an object."));for(var gn in bn)if(ht(bn,gn)){var vn=Gt(bn,gn,nn,fn,hn+"."+gn,ft);if(vn instanceof Error)return vn}return null}return Et(Wt)}function Lt(Gt){if(!Array.isArray(Gt))return gt("Invalid argument supplied to oneOfType, expected an instance of array."),dt;for(var Wt=0;Wt<Gt.length;Wt++){var Jt=Gt[Wt];if(typeof Jt!="function")return gt("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Qt(Jt)+" at index "+Wt+"."),dt}function Kt(nn,fn,hn,bn,un){for(var gn=[],vn=0;vn<Gt.length;vn++){var on=Gt[vn],Xt=on(nn,fn,hn,bn,un,ft);if(Xt==null)return null;Xt.data&&ht(Xt.data,"expectedType")&&gn.push(Xt.data.expectedType)}var zt=gn.length>0?", expected one of type ["+gn.join(", ")+"]":"";return new Ct("Invalid "+bn+" `"+un+"` supplied to "+("`"+hn+"`"+zt+"."))}return Et(Kt)}function Ft(){function Gt(Wt,Jt,Kt,nn,fn){return sn(Wt[Jt])?null:new Ct("Invalid "+nn+" `"+fn+"` supplied to "+("`"+Kt+"`, expected a ReactNode."))}return Et(Gt)}function Vt(Gt,Wt,Jt,Kt,nn){return new Ct((Gt||"React class")+": "+Wt+" type `"+Jt+"."+Kt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+nn+"`.")}function Yt(Gt){function Wt(Jt,Kt,nn,fn,hn){var bn=Jt[Kt],un=Zt(bn);if(un!=="object")return new Ct("Invalid "+fn+" `"+hn+"` of type `"+un+"` "+("supplied to `"+nn+"`, expected `object`."));for(var gn in Gt){var vn=Gt[gn];if(typeof vn!="function")return Vt(nn,fn,hn,gn,an(vn));var on=vn(bn,gn,nn,fn,hn+"."+gn,ft);if(on)return on}return null}return Et(Wt)}function rn(Gt){function Wt(Jt,Kt,nn,fn,hn){var bn=Jt[Kt],un=Zt(bn);if(un!=="object")return new Ct("Invalid "+fn+" `"+hn+"` of type `"+un+"` "+("supplied to `"+nn+"`, expected `object`."));var gn=ut({},Jt[Kt],Gt);for(var vn in gn){var on=Gt[vn];if(ht(Gt,vn)&&typeof on!="function")return Vt(nn,fn,hn,vn,an(on));if(!on)return new Ct("Invalid "+fn+" `"+hn+"` key `"+vn+"` supplied to `"+nn+"`.\nBad object: "+JSON.stringify(Jt[Kt],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Gt),null,"  "));var Xt=on(bn,vn,nn,fn,hn+"."+vn,ft);if(Xt)return Xt}return null}return Et(Wt)}function sn(Gt){switch(typeof Gt){case"number":case"string":case"undefined":return!0;case"boolean":return!Gt;case"object":if(Array.isArray(Gt))return Gt.every(sn);if(Gt===null||vt(Gt))return!0;var Wt=At(Gt);if(Wt){var Jt=Wt.call(Gt),Kt;if(Wt!==Gt.entries){for(;!(Kt=Jt.next()).done;)if(!sn(Kt.value))return!1}else for(;!(Kt=Jt.next()).done;){var nn=Kt.value;if(nn&&!sn(nn[1]))return!1}}else return!1;return!0;default:return!1}}function cn(Gt,Wt){return Gt==="symbol"?!0:Wt?Wt["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Wt instanceof Symbol:!1}function Zt(Gt){var Wt=typeof Gt;return Array.isArray(Gt)?"array":Gt instanceof RegExp?"object":cn(Wt,Gt)?"symbol":Wt}function an(Gt){if(typeof Gt>"u"||Gt===null)return""+Gt;var Wt=Zt(Gt);if(Wt==="object"){if(Gt instanceof Date)return"date";if(Gt instanceof RegExp)return"regexp"}return Wt}function Qt(Gt){var Wt=an(Gt);switch(Wt){case"array":case"object":return"an "+Wt;case"boolean":case"date":case"regexp":return"a "+Wt;default:return Wt}}function Ut(Gt){return!Gt.constructor||!Gt.constructor.name?Mt:Gt.constructor.name}return Tt.checkPropTypes=pt,Tt.resetWarningCache=pt.resetWarningCache,Tt.PropTypes=Tt,Tt}},"./node_modules/prop-types/index.js":(ot,at,lt)=>{{var ct=lt("./node_modules/react-is/index.js"),ut=!0;ot.exports=lt("./node_modules/prop-types/factoryWithTypeCheckers.js")(ct.isElement,ut)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":ot=>{var at="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";ot.exports=at},"./node_modules/prop-types/lib/has.js":ot=>{ot.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(ot,at)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var lt=typeof Symbol=="function"&&Symbol.for,ct=lt?Symbol.for("react.element"):60103,ut=lt?Symbol.for("react.portal"):60106,ft=lt?Symbol.for("react.fragment"):60107,ht=lt?Symbol.for("react.strict_mode"):60108,pt=lt?Symbol.for("react.profiler"):60114,gt=lt?Symbol.for("react.provider"):60109,dt=lt?Symbol.for("react.context"):60110,vt=lt?Symbol.for("react.async_mode"):60111,xt=lt?Symbol.for("react.concurrent_mode"):60111,_t=lt?Symbol.for("react.forward_ref"):60112,bt=lt?Symbol.for("react.suspense"):60113,At=lt?Symbol.for("react.suspense_list"):60120,Mt=lt?Symbol.for("react.memo"):60115,Tt=lt?Symbol.for("react.lazy"):60116,St=lt?Symbol.for("react.block"):60121,Ct=lt?Symbol.for("react.fundamental"):60117,Et=lt?Symbol.for("react.responder"):60118,Rt=lt?Symbol.for("react.scope"):60119;function It(on){return typeof on=="string"||typeof on=="function"||on===ft||on===xt||on===pt||on===ht||on===bt||on===At||typeof on=="object"&&on!==null&&(on.$$typeof===Tt||on.$$typeof===Mt||on.$$typeof===gt||on.$$typeof===dt||on.$$typeof===_t||on.$$typeof===Ct||on.$$typeof===Et||on.$$typeof===Rt||on.$$typeof===St)}function Ot(on){if(typeof on=="object"&&on!==null){var Xt=on.$$typeof;switch(Xt){case ct:var zt=on.type;switch(zt){case vt:case xt:case ft:case pt:case ht:case bt:return zt;default:var tn=zt&&zt.$$typeof;switch(tn){case dt:case _t:case Tt:case Mt:case gt:return tn;default:return Xt}}case ut:return Xt}}}var kt=vt,$t=xt,jt=dt,Ht=gt,Bt=ct,Lt=_t,Ft=ft,Vt=Tt,Yt=Mt,rn=ut,sn=pt,cn=ht,Zt=bt,an=!1;function Qt(on){return an||(an=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Ut(on)||Ot(on)===vt}function Ut(on){return Ot(on)===xt}function Gt(on){return Ot(on)===dt}function Wt(on){return Ot(on)===gt}function Jt(on){return typeof on=="object"&&on!==null&&on.$$typeof===ct}function Kt(on){return Ot(on)===_t}function nn(on){return Ot(on)===ft}function fn(on){return Ot(on)===Tt}function hn(on){return Ot(on)===Mt}function bn(on){return Ot(on)===ut}function un(on){return Ot(on)===pt}function gn(on){return Ot(on)===ht}function vn(on){return Ot(on)===bt}at.AsyncMode=kt,at.ConcurrentMode=$t,at.ContextConsumer=jt,at.ContextProvider=Ht,at.Element=Bt,at.ForwardRef=Lt,at.Fragment=Ft,at.Lazy=Vt,at.Memo=Yt,at.Portal=rn,at.Profiler=sn,at.StrictMode=cn,at.Suspense=Zt,at.isAsyncMode=Qt,at.isConcurrentMode=Ut,at.isContextConsumer=Gt,at.isContextProvider=Wt,at.isElement=Jt,at.isForwardRef=Kt,at.isFragment=nn,at.isLazy=fn,at.isMemo=hn,at.isPortal=bn,at.isProfiler=un,at.isStrictMode=gn,at.isSuspense=vn,at.isValidElementType=It,at.typeOf=Ot})()},"./node_modules/react-is/index.js":(ot,at,lt)=>{ot.exports=lt("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(ot,at,lt)=>{lt.r(at),lt.d(at,{shallowEqualArrays:()=>ut,shallowEqualObjects:()=>ct});function ct(ft,ht){if(ft===ht)return!0;if(!ft||!ht)return!1;var pt=Object.keys(ft),gt=Object.keys(ht),dt=pt.length;if(gt.length!==dt)return!1;for(var vt=0;vt<dt;vt++){var xt=pt[vt];if(ft[xt]!==ht[xt]||!Object.prototype.hasOwnProperty.call(ht,xt))return!1}return!0}function ut(ft,ht){if(ft===ht)return!0;if(!ft||!ht)return!1;var pt=ft.length;if(ht.length!==pt)return!1;for(var gt=0;gt<pt;gt++)if(ft[gt]!==ht[gt])return!1;return!0}},"./src/Component.ts":function(ot,at,lt){var ct=this&&this.__rest||function(pt,gt){var dt={};for(var vt in pt)Object.prototype.hasOwnProperty.call(pt,vt)&&gt.indexOf(vt)<0&&(dt[vt]=pt[vt]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,vt=Object.getOwnPropertySymbols(pt);xt<vt.length;xt++)gt.indexOf(vt[xt])<0&&Object.prototype.propertyIsEnumerable.call(pt,vt[xt])&&(dt[vt[xt]]=pt[vt[xt]]);return dt},ut=this&&this.__importDefault||function(pt){return pt&&pt.__esModule?pt:{default:pt}};Object.defineProperty(at,"__esModule",{value:!0});var ft=ut(lt("./src/useMediaQuery.ts")),ht=function(pt){var gt=pt.children,dt=pt.device,vt=pt.onChange,xt=ct(pt,["children","device","onChange"]),_t=(0,ft.default)(xt,dt,vt);return typeof gt=="function"?gt(_t):_t?gt:null};at.default=ht},"./src/Context.ts":(ot,at,lt)=>{Object.defineProperty(at,"__esModule",{value:!0});var ct=lt("react"),ut=(0,ct.createContext)(void 0);at.default=ut},"./src/index.ts":function(ot,at,lt){var ct=this&&this.__importDefault||function(gt){return gt&&gt.__esModule?gt:{default:gt}};Object.defineProperty(at,"__esModule",{value:!0}),at.Context=at.toQuery=at.useMediaQuery=at.default=void 0;var ut=ct(lt("./src/useMediaQuery.ts"));at.useMediaQuery=ut.default;var ft=ct(lt("./src/Component.ts"));at.default=ft.default;var ht=ct(lt("./src/toQuery.ts"));at.toQuery=ht.default;var pt=ct(lt("./src/Context.ts"));at.Context=pt.default},"./src/mediaQuery.ts":function(ot,at,lt){var ct=this&&this.__assign||function(){return ct=Object.assign||function(bt){for(var At,Mt=1,Tt=arguments.length;Mt<Tt;Mt++){At=arguments[Mt];for(var St in At)Object.prototype.hasOwnProperty.call(At,St)&&(bt[St]=At[St])}return bt},ct.apply(this,arguments)},ut=this&&this.__rest||function(bt,At){var Mt={};for(var Tt in bt)Object.prototype.hasOwnProperty.call(bt,Tt)&&At.indexOf(Tt)<0&&(Mt[Tt]=bt[Tt]);if(bt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var St=0,Tt=Object.getOwnPropertySymbols(bt);St<Tt.length;St++)At.indexOf(Tt[St])<0&&Object.prototype.propertyIsEnumerable.call(bt,Tt[St])&&(Mt[Tt[St]]=bt[Tt[St]]);return Mt},ft=this&&this.__importDefault||function(bt){return bt&&bt.__esModule?bt:{default:bt}};Object.defineProperty(at,"__esModule",{value:!0});var ht=ft(lt("./node_modules/prop-types/index.js")),pt=ht.default.oneOfType([ht.default.string,ht.default.number]),gt={all:ht.default.bool,grid:ht.default.bool,aural:ht.default.bool,braille:ht.default.bool,handheld:ht.default.bool,print:ht.default.bool,projection:ht.default.bool,screen:ht.default.bool,tty:ht.default.bool,tv:ht.default.bool,embossed:ht.default.bool},dt={orientation:ht.default.oneOf(["portrait","landscape"]),scan:ht.default.oneOf(["progressive","interlace"]),aspectRatio:ht.default.string,deviceAspectRatio:ht.default.string,height:pt,deviceHeight:pt,width:pt,deviceWidth:pt,color:ht.default.bool,colorIndex:ht.default.bool,monochrome:ht.default.bool,resolution:pt,type:Object.keys(gt)};dt.type;var vt=ut(dt,["type"]),xt=ct({minAspectRatio:ht.default.string,maxAspectRatio:ht.default.string,minDeviceAspectRatio:ht.default.string,maxDeviceAspectRatio:ht.default.string,minHeight:pt,maxHeight:pt,minDeviceHeight:pt,maxDeviceHeight:pt,minWidth:pt,maxWidth:pt,minDeviceWidth:pt,maxDeviceWidth:pt,minColor:ht.default.number,maxColor:ht.default.number,minColorIndex:ht.default.number,maxColorIndex:ht.default.number,minMonochrome:ht.default.number,maxMonochrome:ht.default.number,minResolution:pt,maxResolution:pt},vt),_t=ct(ct({},gt),xt);at.default={all:_t,types:gt,matchers:dt,features:xt}},"./src/toQuery.ts":function(ot,at,lt){var ct=this&&this.__importDefault||function(vt){return vt&&vt.__esModule?vt:{default:vt}};Object.defineProperty(at,"__esModule",{value:!0});var ut=ct(lt("./node_modules/hyphenate-style-name/index.js")),ft=ct(lt("./src/mediaQuery.ts")),ht=function(vt){return"not ".concat(vt)},pt=function(vt,xt){var _t=(0,ut.default)(vt);return typeof xt=="number"&&(xt="".concat(xt,"px")),xt===!0?_t:xt===!1?ht(_t):"(".concat(_t,": ").concat(xt,")")},gt=function(vt){return vt.join(" and ")},dt=function(vt){var xt=[];return Object.keys(ft.default.all).forEach(function(_t){var bt=vt[_t];bt!=null&&xt.push(pt(_t,bt))}),gt(xt)};at.default=dt},"./src/useMediaQuery.ts":function(ot,at,lt){var ct=this&&this.__importDefault||function(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}};Object.defineProperty(at,"__esModule",{value:!0});var ut=lt("react"),ft=ct(lt("./node_modules/matchmediaquery/index.js")),ht=ct(lt("./node_modules/hyphenate-style-name/index.js")),pt=lt("./node_modules/shallow-equal/dist/index.esm.js"),gt=ct(lt("./src/toQuery.ts")),dt=ct(lt("./src/Context.ts")),vt=function(Ct){return Ct.query||(0,gt.default)(Ct)},xt=function(Ct){if(!!Ct){var Et=Object.keys(Ct);return Et.reduce(function(Rt,It){return Rt[(0,ht.default)(It)]=Ct[It],Rt},{})}},_t=function(){var Ct=(0,ut.useRef)(!1);return(0,ut.useEffect)(function(){Ct.current=!0},[]),Ct.current},bt=function(Ct){var Et=(0,ut.useContext)(dt.default),Rt=function(){return xt(Ct)||xt(Et)},It=(0,ut.useState)(Rt),Ot=It[0],kt=It[1];return(0,ut.useEffect)(function(){var $t=Rt();(0,pt.shallowEqualObjects)(Ot,$t)||kt($t)},[Ct,Et]),Ot},At=function(Ct){var Et=function(){return vt(Ct)},Rt=(0,ut.useState)(Et),It=Rt[0],Ot=Rt[1];return(0,ut.useEffect)(function(){var kt=Et();It!==kt&&Ot(kt)},[Ct]),It},Mt=function(Ct,Et){var Rt=function(){return(0,ft.default)(Ct,Et||{},!!Et)},It=(0,ut.useState)(Rt),Ot=It[0],kt=It[1],$t=_t();return(0,ut.useEffect)(function(){if($t){var jt=Rt();return kt(jt),function(){jt&&jt.dispose()}}},[Ct,Et]),Ot},Tt=function(Ct){var Et=(0,ut.useState)(Ct.matches),Rt=Et[0],It=Et[1];return(0,ut.useEffect)(function(){var Ot=function(kt){It(kt.matches)};return Ct.addListener(Ot),It(Ct.matches),function(){Ct.removeListener(Ot)}},[Ct]),Rt},St=function(Ct,Et,Rt){var It=bt(Et),Ot=At(Ct);if(!Ot)throw new Error("Invalid or missing MediaQuery!");var kt=Mt(Ot,It),$t=Tt(kt),jt=_t();return(0,ut.useEffect)(function(){jt&&Rt&&Rt($t)},[$t]),(0,ut.useEffect)(function(){return function(){kt&&kt.dispose()}},[]),$t};at.default=St},react:ot=>{ot.exports=tt}},rt={};function it(ot){var at=rt[ot];if(at!==void 0)return at.exports;var lt=rt[ot]={exports:{}};return nt[ot].call(lt.exports,lt,lt.exports,it),lt.exports}it.d=(ot,at)=>{for(var lt in at)it.o(at,lt)&&!it.o(ot,lt)&&Object.defineProperty(ot,lt,{enumerable:!0,get:at[lt]})},it.o=(ot,at)=>Object.prototype.hasOwnProperty.call(ot,at),it.r=ot=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ot,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ot,"__esModule",{value:!0})};var st=it("./src/index.ts");return st})())})(reactResponsive);function HUD$1(){function et(){const _e=reactResponsive.exports.useMediaQuery({query:"(max-width: 976px)"}),tt=reactResponsive.exports.useMediaQuery({query:"(min-width: 976px)"}),[nt]=react.exports.useState(()=>new Vector3),{camera:rt}=useThree(),{scrollYProgress:it}=useScroll(),st=react.exports.useRef(),[ot,at]=react.exports.useState(0),[lt,ct]=react.exports.useState(0),ut=()=>{if(it.current===0&&ot<.1)return at(ot+5e-4);it.current===0&&ot<.2?at(.1):at(0)},ft=()=>{if(it.current===0&&lt<.2)return ct(lt+5e-4);it.current===0&&lt<.3?ct(.2):ct(0)};return useFrame(({mouse:ht,delta:pt,clock:gt})=>{it.current<.1&&ut(),it.current<.1&&ft(),it.current<1&&_e&&rt.position.lerp(nt.set(ht.x*1.25,ht.y*.4,5),.02),it.current===0&&tt?rt.position.lerp(nt.set(ht.x*ot,ht.y*ot,3),.01):rt.position.lerp(nt.set(0,0,4.7),.01),it.current===0&&tt?rt.rotation.set(ht.y*ot,-ht.x*lt,0):rt.rotation.set(0,0,0),st.current.position.copy(rt.position),st.current.quaternion.copy(rt.quaternion),st.current.translateZ(-2)}),jsx(Plane,{args:[1.45,4],ref:st,children:jsx("meshStandardMaterial",{visible:!1})})}return jsx(et,{})}const v$4="4.8.0",meta={g:"LottieFiles AE 3.0.2",a:"",k:"",d:"",tc:""},fr=60,ip=0,op=120,w$3=650,h$4=650,nm="Icon 69",ddd=0,assets=[{id:"comp_0",layers:[{ddd:0,ind:1,ty:0,nm:"Icon 69 Animation 01",refId:"comp_1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[1038,354,0],ix:2},a:{a:0,k:[32,71,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:64,h:142,ip:0,op:7200,st:0,bm:0},{ddd:0,ind:2,ty:0,nm:"Icon 69 Animation 01",refId:"comp_1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[874,496,0],ix:2},a:{a:0,k:[32,71,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:64,h:142,ip:0,op:7200,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 3",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[960,595.508,0],ix:2},a:{a:0,k:[-300.723,-166.988,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"sr",sy:1,d:1,pt:{a:0,k:3,ix:3},p:{a:0,k:[0,0],ix:4},r:{a:0,k:0,ix:5},ir:{a:0,k:439.645,ix:6},is:{a:0,k:0,ix:8},or:{a:0,k:0,ix:7,x:`var $bm_rt;
$bm_rt = thisComp.layer('Shape Layer 1').content('Polystar 1').content('Polystar Path 1').outerRadius;`},os:{a:0,k:0,ix:9},ix:1,nm:"Polystar Path 1",mn:"ADBE Vector Shape - Star",hd:!1},{ty:"st",c:{a:0,k:[.274509803922,1,.274509803922,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:76,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-300.723,-166.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Polystar 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:7200,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 2",tt:2,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[960,595.508,0],ix:2},a:{a:0,k:[-300.723,-166.988,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"sr",sy:1,d:1,pt:{a:0,k:3,ix:3},p:{a:0,k:[0,0],ix:4},r:{a:0,k:0,ix:5},ir:{a:0,k:290.645,ix:6},is:{a:0,k:0,ix:8},or:{a:0,k:0,ix:7,x:`var $bm_rt;
$bm_rt = thisComp.layer('Shape Layer 1').content('Polystar 1').content('Polystar Path 1').outerRadius;`},os:{a:0,k:0,ix:9},ix:1,nm:"Polystar Path 1",mn:"ADBE Vector Shape - Star",hd:!1},{ty:"st",c:{a:0,k:[.274509774002,1,.274509774002,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:87,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-300.723,-166.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Polystar 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:0,k:30,ix:2},o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:60,s:[360]}],ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:7200,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[960,595.508,0],ix:2},a:{a:0,k:[-300.723,-166.988,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"sr",sy:1,d:1,pt:{a:0,k:3,ix:3},p:{a:0,k:[0,0],ix:4},r:{a:0,k:0,ix:5},ir:{a:0,k:290.645,ix:6},is:{a:0,k:0,ix:8},or:{a:0,k:0,ix:7},os:{a:0,k:0,ix:9},ix:1,nm:"Polystar Path 1",mn:"ADBE Vector Shape - Star",hd:!1},{ty:"st",c:{a:0,k:[.969056791418,.996078431373,.230465189616,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:6,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-300.723,-166.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Polystar 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:7200,st:0,bm:0}]},{id:"comp_1",layers:[{ddd:0,ind:2,ty:4,nm:"C",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:37.5,s:[100]},{t:60,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[31.891,28.532,0],ix:2},a:{a:0,k:[21.755,7.831,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-21.505,-7.581],[21.505,-7.581],[21.505,7.581],[-21.505,7.581]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.933333333333,.252548995672,.648025393019,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[21.755,7.831],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:7200,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"B",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:7.5,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:30,s:[100]},{t:52.5,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[31.891,70.984,0],ix:2},a:{a:0,k:[21.755,7.831,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-21.505,-7.581],[21.505,-7.581],[21.505,7.581],[-21.505,7.581]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.933333333333,.117124176025,.591270596373,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[21.755,7.831],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:7200,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"A",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:22.5,s:[100]},{t:45,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[31.891,113.435,0],ix:2},a:{a:0,k:[21.755,7.831,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-21.505,-7.581],[21.505,-7.581],[21.505,7.581],[-21.505,7.581]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.945098039216,0,.549019607843,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[21.755,7.831],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:7200,st:0,bm:0}]}],layers=[{ddd:0,ind:2,ty:0,nm:"Icon 69 Animation 02",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[325,381,0],ix:2},a:{a:0,k:[960,596,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,tm:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:120,s:[1]}],ix:2},w:1920,h:1080,ip:0,op:3600,st:0,bm:0},{ddd:0,ind:4,ty:0,nm:"Icon 69 Animation 02",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[325,381,0],ix:2},a:{a:0,k:[960,596,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ef:[{ty:21,nm:"Fill",np:9,mn:"ADBE Fill",ix:1,en:1,ef:[{ty:10,nm:"Fill Mask",mn:"ADBE Fill-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:7,nm:"All Masks",mn:"ADBE Fill-0007",ix:2,v:{a:0,k:0,ix:2}},{ty:2,nm:"Color",mn:"ADBE Fill-0002",ix:3,v:{a:0,k:[.364746719599,.287889271975,.941176474094,1],ix:3}},{ty:7,nm:"Invert",mn:"ADBE Fill-0006",ix:4,v:{a:0,k:0,ix:4}},{ty:0,nm:"Horizontal Feather",mn:"ADBE Fill-0003",ix:5,v:{a:0,k:0,ix:5}},{ty:0,nm:"Vertical Feather",mn:"ADBE Fill-0004",ix:6,v:{a:0,k:0,ix:6}},{ty:0,nm:"Opacity",mn:"ADBE Fill-0005",ix:7,v:{a:0,k:1,ix:7}}]}],tm:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:3589,s:[1]}],ix:2},w:1920,h:1080,ip:0,op:3600,st:0,bm:0},{ddd:0,ind:5,ty:1,nm:"Black Solid 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[325,325,0],ix:2},a:{a:0,k:[960,540,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,sw:1920,sh:1080,sc:"#000000",ip:0,op:3600,st:0,bm:0}],markers=[],LoadingIcon={v:v$4,meta,fr,ip,op,w:w$3,h:h$4,nm,ddd,assets,layers,markers};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(et,_e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,nt){tt.__proto__=nt}||function(tt,nt){for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])})(et,_e)};function __extends(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");function tt(){this.constructor=et}extendStatics(et,_e),et.prototype=_e===null?Object.create(_e):(tt.prototype=_e.prototype,new tt)}var __assign=function(){return(__assign=Object.assign||function(et){for(var _e,tt=1,nt=arguments.length;tt<nt;tt++)for(var rt in _e=arguments[tt])Object.prototype.hasOwnProperty.call(_e,rt)&&(et[rt]=_e[rt]);return et}).apply(this,arguments)};function __awaiter$1(et,_e,tt,nt){return new(tt||(tt=Promise))(function(rt,it){function st(lt){try{at(nt.next(lt))}catch(ct){it(ct)}}function ot(lt){try{at(nt.throw(lt))}catch(ct){it(ct)}}function at(lt){var ct;lt.done?rt(lt.value):(ct=lt.value,ct instanceof tt?ct:new tt(function(ut){ut(ct)})).then(st,ot)}at((nt=nt.apply(et,_e||[])).next())})}function __generator$1(et,_e){var tt,nt,rt,it,st={label:0,sent:function(){if(1&rt[0])throw rt[1];return rt[1]},trys:[],ops:[]};return it={next:ot(0),throw:ot(1),return:ot(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function ot(at){return function(lt){return function(ct){if(tt)throw new TypeError("Generator is already executing.");for(;st;)try{if(tt=1,nt&&(rt=2&ct[0]?nt.return:ct[0]?nt.throw||((rt=nt.return)&&rt.call(nt),0):nt.next)&&!(rt=rt.call(nt,ct[1])).done)return rt;switch(nt=0,rt&&(ct=[2&ct[0],rt.value]),ct[0]){case 0:case 1:rt=ct;break;case 4:return st.label++,{value:ct[1],done:!1};case 5:st.label++,nt=ct[1],ct=[0];continue;case 7:ct=st.ops.pop(),st.trys.pop();continue;default:if(rt=st.trys,!((rt=rt.length>0&&rt[rt.length-1])||ct[0]!==6&&ct[0]!==2)){st=0;continue}if(ct[0]===3&&(!rt||ct[1]>rt[0]&&ct[1]<rt[3])){st.label=ct[1];break}if(ct[0]===6&&st.label<rt[1]){st.label=rt[1],rt=ct;break}if(rt&&st.label<rt[2]){st.label=rt[2],st.ops.push(ct);break}rt[2]&&st.ops.pop(),st.trys.pop();continue}ct=_e.call(et,st)}catch(ut){ct=[6,ut],nt=0}finally{tt=rt=0}if(5&ct[0])throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}([at,lt])}}}function createCommonjsModule(et,_e){return et(_e={exports:{}},_e.exports),_e.exports}var lottie=createCommonjsModule(function(module,exports){typeof navigator<"u"&&function(et,_e){module.exports=_e()}(0,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(et){_useWebWorker=!!et},getWebWorker=function(){return _useWebWorker},setLocationHref=function(et){locationHref=et},getLocationHref=function(){return locationHref};function createTag(et){return document.createElement(et)}function extendPrototype(et,_e){var tt,nt,rt=et.length;for(tt=0;tt<rt;tt+=1)for(var it in nt=et[tt].prototype)Object.prototype.hasOwnProperty.call(nt,it)&&(_e.prototype[it]=nt[it])}function getDescriptor(et,_e){return Object.getOwnPropertyDescriptor(et,_e)}function createProxyFunction(et){function _e(){}return _e.prototype=et,_e}var audioControllerFactory=function(){function et(_e){this.audios=[],this.audioFactory=_e,this._volume=1,this._isMuted=!1}return et.prototype={addAudio:function(_e){this.audios.push(_e)},pause:function(){var _e,tt=this.audios.length;for(_e=0;_e<tt;_e+=1)this.audios[_e].pause()},resume:function(){var _e,tt=this.audios.length;for(_e=0;_e<tt;_e+=1)this.audios[_e].resume()},setRate:function(_e){var tt,nt=this.audios.length;for(tt=0;tt<nt;tt+=1)this.audios[tt].setRate(_e)},createAudio:function(_e){return this.audioFactory?this.audioFactory(_e):window.Howl?new window.Howl({src:[_e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_e){this.audioFactory=_e},setVolume:function(_e){this._volume=_e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _e,tt=this.audios.length;for(_e=0;_e<tt;_e+=1)this.audios[_e].volume(this._volume*(this._isMuted?0:1))}},function(){return new et}}(),createTypedArray=function(){function et(_e,tt){var nt,rt=0,it=[];switch(_e){case"int16":case"uint8c":nt=1;break;default:nt=1.1}for(rt=0;rt<tt;rt+=1)it.push(nt);return it}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(_e,tt){return _e==="float32"?new Float32Array(tt):_e==="int16"?new Int16Array(tt):_e==="uint8c"?new Uint8ClampedArray(tt):et(_e,tt)}:et}();function createSizedArray(et){return Array.apply(null,{length:et})}function _typeof$6(et){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(et)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var et,_e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],tt=_e.length;for(et=0;et<tt;et+=1)BMMath[_e[et]]=Math[_e[et]]})(),BMMath.random=Math.random,BMMath.abs=function(et){if(_typeof$6(et)==="object"&&et.length){var _e,tt=createSizedArray(et.length),nt=et.length;for(_e=0;_e<nt;_e+=1)tt[_e]=Math.abs(et[_e]);return tt}return Math.abs(et)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(et){et.style.position="absolute",et.style.top=0,et.style.left=0,et.style.display="block",et.style.transformOrigin="0 0",et.style.webkitTransformOrigin="0 0",et.style.backfaceVisibility="visible",et.style.webkitBackfaceVisibility="visible",et.style.transformStyle="preserve-3d",et.style.webkitTransformStyle="preserve-3d",et.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(et,_e,tt,nt){this.type=et,this.currentTime=_e,this.totalTime=tt,this.direction=nt<0?-1:1}function BMCompleteEvent(et,_e){this.type=et,this.direction=_e<0?-1:1}function BMCompleteLoopEvent(et,_e,tt,nt){this.type=et,this.currentLoop=tt,this.totalLoops=_e,this.direction=nt<0?-1:1}function BMSegmentStartEvent(et,_e,tt){this.type=et,this.firstFrame=_e,this.totalFrames=tt}function BMDestroyEvent(et,_e){this.type=et,this.target=_e}function BMRenderFrameErrorEvent(et,_e){this.type="renderFrameError",this.nativeError=et,this.currentTime=_e}function BMConfigErrorEvent(et){this.type="configError",this.nativeError=et}var createElementID=(_count=0,function(){return idPrefix+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(et,_e,tt){var nt,rt,it,st,ot,at,lt,ct;switch(at=tt*(1-_e),lt=tt*(1-(ot=6*et-(st=Math.floor(6*et)))*_e),ct=tt*(1-(1-ot)*_e),st%6){case 0:nt=tt,rt=ct,it=at;break;case 1:nt=lt,rt=tt,it=at;break;case 2:nt=at,rt=tt,it=ct;break;case 3:nt=at,rt=lt,it=tt;break;case 4:nt=ct,rt=at,it=tt;break;case 5:nt=tt,rt=at,it=lt}return[nt,rt,it]}function RGBtoHSV(et,_e,tt){var nt,rt=Math.max(et,_e,tt),it=Math.min(et,_e,tt),st=rt-it,ot=rt===0?0:st/rt,at=rt/255;switch(rt){case it:nt=0;break;case et:nt=_e-tt+st*(_e<tt?6:0),nt/=6*st;break;case _e:nt=tt-et+2*st,nt/=6*st;break;case tt:nt=et-_e+4*st,nt/=6*st}return[nt,ot,at]}function addSaturationToRGB(et,_e){var tt=RGBtoHSV(255*et[0],255*et[1],255*et[2]);return tt[1]+=_e,tt[1]>1?tt[1]=1:tt[1]<=0&&(tt[1]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addBrightnessToRGB(et,_e){var tt=RGBtoHSV(255*et[0],255*et[1],255*et[2]);return tt[2]+=_e,tt[2]>1?tt[2]=1:tt[2]<0&&(tt[2]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addHueToRGB(et,_e){var tt=RGBtoHSV(255*et[0],255*et[1],255*et[2]);return tt[0]+=_e/360,tt[0]>1?tt[0]-=1:tt[0]<0&&(tt[0]+=1),HSVtoRGB(tt[0],tt[1],tt[2])}var rgbToHex=function(){var et,_e,tt=[];for(et=0;et<256;et+=1)_e=et.toString(16),tt[et]=_e.length===1?"0"+_e:_e;return function(nt,rt,it){return nt<0&&(nt=0),rt<0&&(rt=0),it<0&&(it=0),"#"+tt[nt]+tt[rt]+tt[it]}}(),setSubframeEnabled=function(et){subframeEnabled=!!et},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(et){expressionsPlugin=et},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(et){defaultCurveSegments=et},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(et){idPrefix=et};function createNS(et){return document.createElementNS(svgNS,et)}function _typeof$5(et){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(et)}var dataManager=function(){var et,_e,tt=1,nt=[],rt={onmessage:function(){},postMessage:function(at){et({data:at})}},it={postMessage:function(at){rt.onmessage({data:at})}};function st(){_e||((_e=function(at){if(window.Worker&&window.Blob&&getWebWorker()){var lt=new Blob(["var _workerSelf = self; self.onmessage = ",at.toString()],{type:"text/javascript"}),ct=URL.createObjectURL(lt);return new Worker(ct)}return et=at,rt}(function(at){if(it.dataManager||(it.dataManager=function(){function ct(Tt,St){var Ct,Et,Rt,It,Ot,kt,$t=Tt.length;for(Et=0;Et<$t;Et+=1)if("ks"in(Ct=Tt[Et])&&!Ct.completed){if(Ct.completed=!0,Ct.tt&&(Tt[Et-1].td=Ct.tt),Ct.hasMask){var jt=Ct.masksProperties;for(It=jt.length,Rt=0;Rt<It;Rt+=1)if(jt[Rt].pt.k.i)ht(jt[Rt].pt.k);else for(kt=jt[Rt].pt.k.length,Ot=0;Ot<kt;Ot+=1)jt[Rt].pt.k[Ot].s&&ht(jt[Rt].pt.k[Ot].s[0]),jt[Rt].pt.k[Ot].e&&ht(jt[Rt].pt.k[Ot].e[0])}Ct.ty===0?(Ct.layers=ut(Ct.refId,St),ct(Ct.layers,St)):Ct.ty===4?ft(Ct.shapes):Ct.ty===5&&At(Ct)}}function ut(Tt,St){var Ct=function(Et,Rt){for(var It=0,Ot=Rt.length;It<Ot;){if(Rt[It].id===Et)return Rt[It];It+=1}return null}(Tt,St);return Ct?Ct.layers.__used?JSON.parse(JSON.stringify(Ct.layers)):(Ct.layers.__used=!0,Ct.layers):null}function ft(Tt){var St,Ct,Et;for(St=Tt.length-1;St>=0;St-=1)if(Tt[St].ty==="sh")if(Tt[St].ks.k.i)ht(Tt[St].ks.k);else for(Et=Tt[St].ks.k.length,Ct=0;Ct<Et;Ct+=1)Tt[St].ks.k[Ct].s&&ht(Tt[St].ks.k[Ct].s[0]),Tt[St].ks.k[Ct].e&&ht(Tt[St].ks.k[Ct].e[0]);else Tt[St].ty==="gr"&&ft(Tt[St].it)}function ht(Tt){var St,Ct=Tt.i.length;for(St=0;St<Ct;St+=1)Tt.i[St][0]+=Tt.v[St][0],Tt.i[St][1]+=Tt.v[St][1],Tt.o[St][0]+=Tt.v[St][0],Tt.o[St][1]+=Tt.v[St][1]}function pt(Tt,St){var Ct=St?St.split("."):[100,100,100];return Tt[0]>Ct[0]||!(Ct[0]>Tt[0])&&(Tt[1]>Ct[1]||!(Ct[1]>Tt[1])&&(Tt[2]>Ct[2]||!(Ct[2]>Tt[2])&&null))}var gt,dt=function(){var Tt=[4,4,14];function St(Ct){var Et,Rt,It,Ot=Ct.length;for(Et=0;Et<Ot;Et+=1)Ct[Et].ty===5&&(Rt=Ct[Et],It=void 0,It=Rt.t.d,Rt.t.d={k:[{s:It,t:0}]})}return function(Ct){if(pt(Tt,Ct.v)&&(St(Ct.layers),Ct.assets)){var Et,Rt=Ct.assets.length;for(Et=0;Et<Rt;Et+=1)Ct.assets[Et].layers&&St(Ct.assets[Et].layers)}}}(),vt=(gt=[4,7,99],function(Tt){if(Tt.chars&&!pt(gt,Tt.v)){var St,Ct=Tt.chars.length;for(St=0;St<Ct;St+=1){var Et=Tt.chars[St];Et.data&&Et.data.shapes&&(ft(Et.data.shapes),Et.data.ip=0,Et.data.op=99999,Et.data.st=0,Et.data.sr=1,Et.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Tt.chars[St].t||(Et.data.shapes.push({ty:"no"}),Et.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),xt=function(){var Tt=[5,7,15];function St(Ct){var Et,Rt,It,Ot=Ct.length;for(Et=0;Et<Ot;Et+=1)Ct[Et].ty===5&&(Rt=Ct[Et],It=void 0,typeof(It=Rt.t.p).a=="number"&&(It.a={a:0,k:It.a}),typeof It.p=="number"&&(It.p={a:0,k:It.p}),typeof It.r=="number"&&(It.r={a:0,k:It.r}))}return function(Ct){if(pt(Tt,Ct.v)&&(St(Ct.layers),Ct.assets)){var Et,Rt=Ct.assets.length;for(Et=0;Et<Rt;Et+=1)Ct.assets[Et].layers&&St(Ct.assets[Et].layers)}}}(),_t=function(){var Tt=[4,1,9];function St(Et){var Rt,It,Ot,kt=Et.length;for(Rt=0;Rt<kt;Rt+=1)if(Et[Rt].ty==="gr")St(Et[Rt].it);else if(Et[Rt].ty==="fl"||Et[Rt].ty==="st")if(Et[Rt].c.k&&Et[Rt].c.k[0].i)for(Ot=Et[Rt].c.k.length,It=0;It<Ot;It+=1)Et[Rt].c.k[It].s&&(Et[Rt].c.k[It].s[0]/=255,Et[Rt].c.k[It].s[1]/=255,Et[Rt].c.k[It].s[2]/=255,Et[Rt].c.k[It].s[3]/=255),Et[Rt].c.k[It].e&&(Et[Rt].c.k[It].e[0]/=255,Et[Rt].c.k[It].e[1]/=255,Et[Rt].c.k[It].e[2]/=255,Et[Rt].c.k[It].e[3]/=255);else Et[Rt].c.k[0]/=255,Et[Rt].c.k[1]/=255,Et[Rt].c.k[2]/=255,Et[Rt].c.k[3]/=255}function Ct(Et){var Rt,It=Et.length;for(Rt=0;Rt<It;Rt+=1)Et[Rt].ty===4&&St(Et[Rt].shapes)}return function(Et){if(pt(Tt,Et.v)&&(Ct(Et.layers),Et.assets)){var Rt,It=Et.assets.length;for(Rt=0;Rt<It;Rt+=1)Et.assets[Rt].layers&&Ct(Et.assets[Rt].layers)}}}(),bt=function(){var Tt=[4,4,18];function St(Et){var Rt,It,Ot;for(Rt=Et.length-1;Rt>=0;Rt-=1)if(Et[Rt].ty==="sh")if(Et[Rt].ks.k.i)Et[Rt].ks.k.c=Et[Rt].closed;else for(Ot=Et[Rt].ks.k.length,It=0;It<Ot;It+=1)Et[Rt].ks.k[It].s&&(Et[Rt].ks.k[It].s[0].c=Et[Rt].closed),Et[Rt].ks.k[It].e&&(Et[Rt].ks.k[It].e[0].c=Et[Rt].closed);else Et[Rt].ty==="gr"&&St(Et[Rt].it)}function Ct(Et){var Rt,It,Ot,kt,$t,jt,Ht=Et.length;for(It=0;It<Ht;It+=1){if((Rt=Et[It]).hasMask){var Bt=Rt.masksProperties;for(kt=Bt.length,Ot=0;Ot<kt;Ot+=1)if(Bt[Ot].pt.k.i)Bt[Ot].pt.k.c=Bt[Ot].cl;else for(jt=Bt[Ot].pt.k.length,$t=0;$t<jt;$t+=1)Bt[Ot].pt.k[$t].s&&(Bt[Ot].pt.k[$t].s[0].c=Bt[Ot].cl),Bt[Ot].pt.k[$t].e&&(Bt[Ot].pt.k[$t].e[0].c=Bt[Ot].cl)}Rt.ty===4&&St(Rt.shapes)}}return function(Et){if(pt(Tt,Et.v)&&(Ct(Et.layers),Et.assets)){var Rt,It=Et.assets.length;for(Rt=0;Rt<It;Rt+=1)Et.assets[Rt].layers&&Ct(Et.assets[Rt].layers)}}}();function At(Tt){Tt.t.a.length===0&&Tt.t.p}var Mt={completeData:function(Tt){Tt.__complete||(_t(Tt),dt(Tt),vt(Tt),xt(Tt),bt(Tt),ct(Tt.layers,Tt.assets),function(St,Ct){if(St){var Et=0,Rt=St.length;for(Et=0;Et<Rt;Et+=1)St[Et].t===1&&(St[Et].data.layers=ut(St[Et].data.refId,Ct),ct(St[Et].data.layers,Ct))}}(Tt.chars,Tt.assets),Tt.__complete=!0)}};return Mt.checkColors=_t,Mt.checkChars=vt,Mt.checkPathProperties=xt,Mt.checkShapes=bt,Mt.completeLayers=ct,Mt}()),it.assetLoader||(it.assetLoader=function(){function ct(ut){var ft=ut.getResponseHeader("content-type");return ft&&ut.responseType==="json"&&ft.indexOf("json")!==-1||ut.response&&_typeof$5(ut.response)==="object"?ut.response:ut.response&&typeof ut.response=="string"?JSON.parse(ut.response):ut.responseText?JSON.parse(ut.responseText):null}return{load:function(ut,ft,ht,pt){var gt,dt=new XMLHttpRequest;try{dt.responseType="json"}catch{}dt.onreadystatechange=function(){if(dt.readyState===4)if(dt.status===200)gt=ct(dt),ht(gt);else try{gt=ct(dt),ht(gt)}catch(vt){pt&&pt(vt)}};try{dt.open("GET",ut,!0)}catch{dt.open("GET",ft+"/"+ut,!0)}dt.send()}}}()),at.data.type==="loadAnimation")it.assetLoader.load(at.data.path,at.data.fullPath,function(ct){it.dataManager.completeData(ct),it.postMessage({id:at.data.id,payload:ct,status:"success"})},function(){it.postMessage({id:at.data.id,status:"error"})});else if(at.data.type==="complete"){var lt=at.data.animation;it.dataManager.completeData(lt),it.postMessage({id:at.data.id,payload:lt,status:"success"})}else at.data.type==="loadData"&&it.assetLoader.load(at.data.path,at.data.fullPath,function(ct){it.postMessage({id:at.data.id,payload:ct,status:"success"})},function(){it.postMessage({id:at.data.id,status:"error"})})})).onmessage=function(at){var lt=at.data,ct=lt.id,ut=nt[ct];nt[ct]=null,lt.status==="success"?ut.onComplete(lt.payload):ut.onError&&ut.onError()})}function ot(at,lt){var ct="processId_"+(tt+=1);return nt[ct]={onComplete:at,onError:lt},ct}return{loadAnimation:function(at,lt,ct){st();var ut=ot(lt,ct);_e.postMessage({type:"loadAnimation",path:at,fullPath:window.location.origin+window.location.pathname,id:ut})},loadData:function(at,lt,ct){st();var ut=ot(lt,ct);_e.postMessage({type:"loadData",path:at,fullPath:window.location.origin+window.location.pathname,id:ut})},completeAnimation:function(at,lt,ct){st();var ut=ot(lt,ct);_e.postMessage({type:"complete",animation:at,id:ut})}}}(),ImagePreloader=function(){var et=function(){var ot=createTag("canvas");ot.width=1,ot.height=1;var at=ot.getContext("2d");return at.fillStyle="rgba(0,0,0,0)",at.fillRect(0,0,1,1),ot}();function _e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(ot,at,lt){var ct="";if(ot.e)ct=ot.p;else if(at){var ut=ot.p;ut.indexOf("images/")!==-1&&(ut=ut.split("/")[1]),ct=at+ut}else ct=lt,ct+=ot.u?ot.u:"",ct+=ot.p;return ct}function rt(ot){var at=0,lt=setInterval(function(){(ot.getBBox().width||at>500)&&(this._imageLoaded(),clearInterval(lt)),at+=1}.bind(this),50)}function it(ot){var at={assetData:ot},lt=nt(ot,this.assetsPath,this.path);return dataManager.loadData(lt,function(ct){at.img=ct,this._footageLoaded()}.bind(this),function(){at.img={},this._footageLoaded()}.bind(this)),at}function st(){this._imageLoaded=_e.bind(this),this._footageLoaded=tt.bind(this),this.testImageLoaded=rt.bind(this),this.createFootageData=it.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return st.prototype={loadAssets:function(ot,at){var lt;this.imagesLoadedCb=at;var ct=ot.length;for(lt=0;lt<ct;lt+=1)ot[lt].layers||(ot[lt].t&&ot[lt].t!=="seq"?ot[lt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ot[lt]))):(this.totalImages+=1,this.images.push(this._createImageData(ot[lt]))))},setAssetsPath:function(ot){this.assetsPath=ot||""},setPath:function(ot){this.path=ot||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(ot){for(var at=0,lt=this.images.length;at<lt;){if(this.images[at].assetData===ot)return this.images[at].img;at+=1}return null},createImgData:function(ot){var at=nt(ot,this.assetsPath,this.path),lt=createTag("img");lt.crossOrigin="anonymous",lt.addEventListener("load",this._imageLoaded,!1),lt.addEventListener("error",function(){ct.img=et,this._imageLoaded()}.bind(this),!1),lt.src=at;var ct={img:lt,assetData:ot};return ct},createImageData:function(ot){var at=nt(ot,this.assetsPath,this.path),lt=createNS("image");isSafari?this.testImageLoaded(lt):lt.addEventListener("load",this._imageLoaded,!1),lt.addEventListener("error",function(){ct.img=et,this._imageLoaded()}.bind(this),!1),lt.setAttributeNS("http://www.w3.org/1999/xlink","href",at),this._elementHelper.append?this._elementHelper.append(lt):this._elementHelper.appendChild(lt);var ct={img:lt,assetData:ot};return ct},imageLoaded:_e,footageLoaded:tt,setCacheType:function(ot,at){ot==="svg"?(this._elementHelper=at,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},st}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(et,_e){if(this._cbs[et])for(var tt=this._cbs[et],nt=0;nt<tt.length;nt+=1)tt[nt](_e)},addEventListener:function(et,_e){return this._cbs[et]||(this._cbs[et]=[]),this._cbs[et].push(_e),function(){this.removeEventListener(et,_e)}.bind(this)},removeEventListener:function(et,_e){if(_e){if(this._cbs[et]){for(var tt=0,nt=this._cbs[et].length;tt<nt;)this._cbs[et][tt]===_e&&(this._cbs[et].splice(tt,1),tt-=1,nt-=1),tt+=1;this._cbs[et].length||(this._cbs[et]=null)}}else this._cbs[et]=null}};var markerParser=function(){function et(_e){for(var tt,nt=_e.split(`\r
`),rt={},it=0,st=0;st<nt.length;st+=1)(tt=nt[st].split(":")).length===2&&(rt[tt[0]]=tt[1].trim(),it+=1);if(it===0)throw new Error;return rt}return function(_e){for(var tt=[],nt=0;nt<_e.length;nt+=1){var rt=_e[nt],it={time:rt.tm,duration:rt.dr};try{it.payload=JSON.parse(_e[nt].cm)}catch{try{it.payload=et(_e[nt].cm)}catch{it.payload={name:_e[nt]}}}tt.push(it)}return tt}}(),ProjectInterface=function(){function et(_e){this.compositions.push(_e)}return function(){function _e(tt){for(var nt=0,rt=this.compositions.length;nt<rt;){if(this.compositions[nt].data&&this.compositions[nt].data.nm===tt)return this.compositions[nt].prepareFrame&&this.compositions[nt].data.xt&&this.compositions[nt].prepareFrame(this.currentFrame),this.compositions[nt].compInterface;nt+=1}return null}return _e.compositions=[],_e.currentFrame=0,_e.registerComposition=et,_e}}(),renderers={},registerRenderer=function(et,_e){renderers[et]=_e};function getRenderer(et){return renderers[et]}function _typeof$4(et){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(et)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(et){(et.wrapper||et.container)&&(this.wrapper=et.wrapper||et.container);var _e="svg";et.animType?_e=et.animType:et.renderer&&(_e=et.renderer);var tt=getRenderer(_e);this.renderer=new tt(this,et.rendererSettings),this.imagePreloader.setCacheType(_e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=_e,et.loop===""||et.loop===null||et.loop===void 0||et.loop===!0?this.loop=!0:et.loop===!1?this.loop=!1:this.loop=parseInt(et.loop,10),this.autoplay=!("autoplay"in et)||et.autoplay,this.name=et.name?et.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(et,"autoloadSegments")||et.autoloadSegments,this.assetsPath=et.assetsPath,this.initialSegment=et.initialSegment,et.audioFactory&&this.audioController.setAudioFactory(et.audioFactory),et.animationData?this.setupAnimation(et.animationData):et.path&&(et.path.lastIndexOf("\\")!==-1?this.path=et.path.substr(0,et.path.lastIndexOf("\\")+1):this.path=et.path.substr(0,et.path.lastIndexOf("/")+1),this.fileName=et.path.substr(et.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(et.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(et){dataManager.completeAnimation(et,this.configAnimation)},AnimationItem.prototype.setData=function(et,_e){_e&&_typeof$4(_e)!=="object"&&(_e=JSON.parse(_e));var tt={wrapper:et,animationData:_e},nt=et.attributes;tt.path=nt.getNamedItem("data-animation-path")?nt.getNamedItem("data-animation-path").value:nt.getNamedItem("data-bm-path")?nt.getNamedItem("data-bm-path").value:nt.getNamedItem("bm-path")?nt.getNamedItem("bm-path").value:"",tt.animType=nt.getNamedItem("data-anim-type")?nt.getNamedItem("data-anim-type").value:nt.getNamedItem("data-bm-type")?nt.getNamedItem("data-bm-type").value:nt.getNamedItem("bm-type")?nt.getNamedItem("bm-type").value:nt.getNamedItem("data-bm-renderer")?nt.getNamedItem("data-bm-renderer").value:nt.getNamedItem("bm-renderer")?nt.getNamedItem("bm-renderer").value:"canvas";var rt=nt.getNamedItem("data-anim-loop")?nt.getNamedItem("data-anim-loop").value:nt.getNamedItem("data-bm-loop")?nt.getNamedItem("data-bm-loop").value:nt.getNamedItem("bm-loop")?nt.getNamedItem("bm-loop").value:"";rt==="false"?tt.loop=!1:rt==="true"?tt.loop=!0:rt!==""&&(tt.loop=parseInt(rt,10));var it=nt.getNamedItem("data-anim-autoplay")?nt.getNamedItem("data-anim-autoplay").value:nt.getNamedItem("data-bm-autoplay")?nt.getNamedItem("data-bm-autoplay").value:!nt.getNamedItem("bm-autoplay")||nt.getNamedItem("bm-autoplay").value;tt.autoplay=it!=="false",tt.name=nt.getNamedItem("data-name")?nt.getNamedItem("data-name").value:nt.getNamedItem("data-bm-name")?nt.getNamedItem("data-bm-name").value:nt.getNamedItem("bm-name")?nt.getNamedItem("bm-name").value:"",(nt.getNamedItem("data-anim-prerender")?nt.getNamedItem("data-anim-prerender").value:nt.getNamedItem("data-bm-prerender")?nt.getNamedItem("data-bm-prerender").value:nt.getNamedItem("bm-prerender")?nt.getNamedItem("bm-prerender").value:"")==="false"&&(tt.prerender=!1),this.setParams(tt)},AnimationItem.prototype.includeLayers=function(et){et.op>this.animationData.op&&(this.animationData.op=et.op,this.totalFrames=Math.floor(et.op-this.animationData.ip));var _e,tt,nt=this.animationData.layers,rt=nt.length,it=et.layers,st=it.length;for(tt=0;tt<st;tt+=1)for(_e=0;_e<rt;){if(nt[_e].id===it[tt].id){nt[_e]=it[tt];break}_e+=1}if((et.chars||et.fonts)&&(this.renderer.globalData.fontManager.addChars(et.chars),this.renderer.globalData.fontManager.addFonts(et.fonts,this.renderer.globalData.defs)),et.assets)for(rt=et.assets.length,_e=0;_e<rt;_e+=1)this.animationData.assets.push(et.assets[_e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(et){this.animationData=et;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var et=this.animationData.segments;if(!et||et.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var _e=et.shift();this.timeCompleted=_e.time*this.frameRate;var tt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(tt,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(et){if(this.renderer)try{this.animationData=et,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(et),et.assets||(et.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(et.assets),this.markers=markerParser(et.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(_e){this.triggerConfigError(_e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(et){this.isSubframeEnabled=!!et},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(et){this.triggerRenderFrameError(et)}},AnimationItem.prototype.play=function(et){et&&this.name!==et||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(et){et&&this.name!==et||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(et){et&&this.name!==et||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(et){et&&this.name!==et||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(et){for(var _e,tt=0;tt<this.markers.length;tt+=1)if((_e=this.markers[tt]).payload&&_e.payload.name===et)return _e;return null},AnimationItem.prototype.goToAndStop=function(et,_e,tt){if(!tt||this.name===tt){var nt=Number(et);if(isNaN(nt)){var rt=this.getMarkerData(et);rt&&this.goToAndStop(rt.time,!0)}else _e?this.setCurrentRawFrameValue(et):this.setCurrentRawFrameValue(et*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(et,_e,tt){if(!tt||this.name===tt){var nt=Number(et);if(isNaN(nt)){var rt=this.getMarkerData(et);rt&&(rt.duration?this.playSegments([rt.time,rt.time+rt.duration],!0):this.goToAndStop(rt.time,!0))}else this.goToAndStop(nt,_e,tt);this.play()}},AnimationItem.prototype.advanceTime=function(et){if(this.isPaused!==!0&&this.isLoaded!==!1){var _e=this.currentRawFrame+et*this.frameModifier,tt=!1;_e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?_e>=this.totalFrames?(this.playCount+=1,this.checkSegments(_e%this.totalFrames)||(this.setCurrentRawFrameValue(_e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(_e):this.checkSegments(_e>this.totalFrames?_e%this.totalFrames:0)||(tt=!0,_e=this.totalFrames-1):_e<0?this.checkSegments(_e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(tt=!0,_e=0):(this.setCurrentRawFrameValue(this.totalFrames+_e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(_e),tt&&(this.setCurrentRawFrameValue(_e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(et,_e){this.playCount=0,et[1]<et[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=et[0]-et[1],this.timeCompleted=this.totalFrames,this.firstFrame=et[1],this.setCurrentRawFrameValue(this.totalFrames-.001-_e)):et[1]>et[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=et[1]-et[0],this.timeCompleted=this.totalFrames,this.firstFrame=et[0],this.setCurrentRawFrameValue(.001+_e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(et,_e){var tt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<et?tt=et:this.currentRawFrame+this.firstFrame>_e&&(tt=_e-et)),this.firstFrame=et,this.totalFrames=_e-et,this.timeCompleted=this.totalFrames,tt!==-1&&this.goToAndStop(tt,!0)},AnimationItem.prototype.playSegments=function(et,_e){if(_e&&(this.segments.length=0),_typeof$4(et[0])==="object"){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)this.segments.push(et[tt])}else this.segments.push(et);this.segments.length&&_e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(et){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),et&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(et){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),et),!0)},AnimationItem.prototype.destroy=function(et){et&&this.name!==et||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(et){this.currentRawFrame=et,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(et){this.playSpeed=et,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(et){this.playDirection=et<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(et,_e){_e&&this.name!==_e||this.audioController.setVolume(et)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(et){et&&this.name!==et||this.audioController.mute()},AnimationItem.prototype.unmute=function(et){et&&this.name!==et||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(et){var _e="";if(et.e)_e=et.p;else if(this.assetsPath){var tt=et.p;tt.indexOf("images/")!==-1&&(tt=tt.split("/")[1]),_e=this.assetsPath+tt}else _e=this.path,_e+=et.u?et.u:"",_e+=et.p;return _e},AnimationItem.prototype.getAssetData=function(et){for(var _e=0,tt=this.assets.length;_e<tt;){if(et===this.assets[_e].id)return this.assets[_e];_e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(et){return et?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(et){if(this._cbs&&this._cbs[et])switch(et){case"enterFrame":case"drawnFrame":this.triggerEvent(et,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(et,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(et,new BMCompleteEvent(et,this.frameMult));break;case"segmentStart":this.triggerEvent(et,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(et,new BMDestroyEvent(et,this));break;default:this.triggerEvent(et)}et==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameMult)),et==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult)),et==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(et,this.frameMult)),et==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames)),et==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(et,this))},AnimationItem.prototype.triggerRenderFrameError=function(et){var _e=new BMRenderFrameErrorEvent(et,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)},AnimationItem.prototype.triggerConfigError=function(et){var _e=new BMConfigErrorEvent(et,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)};var animationManager=function(){var et={},_e=[],tt=0,nt=0,rt=0,it=!0,st=!1;function ot(gt){for(var dt=0,vt=gt.target;dt<nt;)_e[dt].animation===vt&&(_e.splice(dt,1),dt-=1,nt-=1,vt.isPaused||ct()),dt+=1}function at(gt,dt){if(!gt)return null;for(var vt=0;vt<nt;){if(_e[vt].elem===gt&&_e[vt].elem!==null)return _e[vt].animation;vt+=1}var xt=new AnimationItem;return ut(xt,gt),xt.setData(gt,dt),xt}function lt(){rt+=1,pt()}function ct(){rt-=1}function ut(gt,dt){gt.addEventListener("destroy",ot),gt.addEventListener("_active",lt),gt.addEventListener("_idle",ct),_e.push({elem:dt,animation:gt}),nt+=1}function ft(gt){var dt,vt=gt-tt;for(dt=0;dt<nt;dt+=1)_e[dt].animation.advanceTime(vt);tt=gt,rt&&!st?window.requestAnimationFrame(ft):it=!0}function ht(gt){tt=gt,window.requestAnimationFrame(ft)}function pt(){!st&&rt&&it&&(window.requestAnimationFrame(ht),it=!1)}return et.registerAnimation=at,et.loadAnimation=function(gt){var dt=new AnimationItem;return ut(dt,null),dt.setParams(gt),dt},et.setSpeed=function(gt,dt){var vt;for(vt=0;vt<nt;vt+=1)_e[vt].animation.setSpeed(gt,dt)},et.setDirection=function(gt,dt){var vt;for(vt=0;vt<nt;vt+=1)_e[vt].animation.setDirection(gt,dt)},et.play=function(gt){var dt;for(dt=0;dt<nt;dt+=1)_e[dt].animation.play(gt)},et.pause=function(gt){var dt;for(dt=0;dt<nt;dt+=1)_e[dt].animation.pause(gt)},et.stop=function(gt){var dt;for(dt=0;dt<nt;dt+=1)_e[dt].animation.stop(gt)},et.togglePause=function(gt){var dt;for(dt=0;dt<nt;dt+=1)_e[dt].animation.togglePause(gt)},et.searchAnimations=function(gt,dt,vt){var xt,_t=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),bt=_t.length;for(xt=0;xt<bt;xt+=1)vt&&_t[xt].setAttribute("data-bm-type",vt),at(_t[xt],gt);if(dt&&bt===0){vt||(vt="svg");var At=document.getElementsByTagName("body")[0];At.innerText="";var Mt=createTag("div");Mt.style.width="100%",Mt.style.height="100%",Mt.setAttribute("data-bm-type",vt),At.appendChild(Mt),at(Mt,gt)}},et.resize=function(){var gt;for(gt=0;gt<nt;gt+=1)_e[gt].animation.resize()},et.goToAndStop=function(gt,dt,vt){var xt;for(xt=0;xt<nt;xt+=1)_e[xt].animation.goToAndStop(gt,dt,vt)},et.destroy=function(gt){var dt;for(dt=nt-1;dt>=0;dt-=1)_e[dt].animation.destroy(gt)},et.freeze=function(){st=!0},et.unfreeze=function(){st=!1,pt()},et.setVolume=function(gt,dt){var vt;for(vt=0;vt<nt;vt+=1)_e[vt].animation.setVolume(gt,dt)},et.mute=function(gt){var dt;for(dt=0;dt<nt;dt+=1)_e[dt].animation.mute(gt)},et.unmute=function(gt){var dt;for(dt=0;dt<nt;dt+=1)_e[dt].animation.unmute(gt)},et.getRegisteredAnimations=function(){var gt,dt=_e.length,vt=[];for(gt=0;gt<dt;gt+=1)vt.push(_e[gt].animation);return vt},et}(),BezierFactory=function(){var et={getBezierEasing:function(lt,ct,ut,ft,ht){var pt=ht||("bez_"+lt+"_"+ct+"_"+ut+"_"+ft).replace(/\./g,"p");if(_e[pt])return _e[pt];var gt=new at([lt,ct,ut,ft]);return _e[pt]=gt,gt}},_e={},tt=typeof Float32Array=="function";function nt(lt,ct){return 1-3*ct+3*lt}function rt(lt,ct){return 3*ct-6*lt}function it(lt){return 3*lt}function st(lt,ct,ut){return((nt(ct,ut)*lt+rt(ct,ut))*lt+it(ct))*lt}function ot(lt,ct,ut){return 3*nt(ct,ut)*lt*lt+2*rt(ct,ut)*lt+it(ct)}function at(lt){this._p=lt,this._mSampleValues=tt?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return at.prototype={get:function(lt){var ct=this._p[0],ut=this._p[1],ft=this._p[2],ht=this._p[3];return this._precomputed||this._precompute(),ct===ut&&ft===ht?lt:lt===0?0:lt===1?1:st(this._getTForX(lt),ut,ht)},_precompute:function(){var lt=this._p[0],ct=this._p[1],ut=this._p[2],ft=this._p[3];this._precomputed=!0,lt===ct&&ut===ft||this._calcSampleValues()},_calcSampleValues:function(){for(var lt=this._p[0],ct=this._p[2],ut=0;ut<11;++ut)this._mSampleValues[ut]=st(.1*ut,lt,ct)},_getTForX:function(lt){for(var ct=this._p[0],ut=this._p[2],ft=this._mSampleValues,ht=0,pt=1;pt!==10&&ft[pt]<=lt;++pt)ht+=.1;var gt=ht+.1*((lt-ft[--pt])/(ft[pt+1]-ft[pt])),dt=ot(gt,ct,ut);return dt>=.001?function(vt,xt,_t,bt){for(var At=0;At<4;++At){var Mt=ot(xt,_t,bt);if(Mt===0)return xt;xt-=(st(xt,_t,bt)-vt)/Mt}return xt}(lt,gt,ct,ut):dt===0?gt:function(vt,xt,_t,bt,At){var Mt,Tt,St=0;do(Mt=st(Tt=xt+(_t-xt)/2,bt,At)-vt)>0?_t=Tt:xt=Tt;while(Math.abs(Mt)>1e-7&&++St<10);return Tt}(lt,ht,ht+.1,ct,ut)}},et}(),pooling={double:function(et){return et.concat(createSizedArray(et.length))}},poolFactory=function(et,_e,tt){var nt=0,rt=et,it=createSizedArray(rt);return{newElement:function(){return nt?it[nt-=1]:_e()},release:function(st){nt===rt&&(it=pooling.double(it),rt*=2),tt&&tt(st),it[nt]=st,nt+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(et){var _e,tt=et.lengths.length;for(_e=0;_e<tt;_e+=1)bezierLengthPool.release(et.lengths[_e]);et.lengths.length=0});function bezFunction(){var et=Math;function _e(lt,ct,ut,ft,ht,pt){var gt=lt*ft+ct*ht+ut*pt-ht*ft-pt*lt-ut*ct;return gt>-.001&&gt<.001}var tt=function(lt,ct,ut,ft){var ht,pt,gt,dt,vt,xt,_t=getDefaultCurveSegments(),bt=0,At=[],Mt=[],Tt=bezierLengthPool.newElement();for(gt=ut.length,ht=0;ht<_t;ht+=1){for(vt=ht/(_t-1),xt=0,pt=0;pt<gt;pt+=1)dt=bmPow(1-vt,3)*lt[pt]+3*bmPow(1-vt,2)*vt*ut[pt]+3*(1-vt)*bmPow(vt,2)*ft[pt]+bmPow(vt,3)*ct[pt],At[pt]=dt,Mt[pt]!==null&&(xt+=bmPow(At[pt]-Mt[pt],2)),Mt[pt]=At[pt];xt&&(bt+=xt=bmSqrt(xt)),Tt.percents[ht]=vt,Tt.lengths[ht]=bt}return Tt.addedLength=bt,Tt};function nt(lt){this.segmentLength=0,this.points=new Array(lt)}function rt(lt,ct){this.partialLength=lt,this.point=ct}var it,st=(it={},function(lt,ct,ut,ft){var ht=(lt[0]+"_"+lt[1]+"_"+ct[0]+"_"+ct[1]+"_"+ut[0]+"_"+ut[1]+"_"+ft[0]+"_"+ft[1]).replace(/\./g,"p");if(!it[ht]){var pt,gt,dt,vt,xt,_t,bt,At=getDefaultCurveSegments(),Mt=0,Tt=null;lt.length===2&&(lt[0]!==ct[0]||lt[1]!==ct[1])&&_e(lt[0],lt[1],ct[0],ct[1],lt[0]+ut[0],lt[1]+ut[1])&&_e(lt[0],lt[1],ct[0],ct[1],ct[0]+ft[0],ct[1]+ft[1])&&(At=2);var St=new nt(At);for(dt=ut.length,pt=0;pt<At;pt+=1){for(bt=createSizedArray(dt),xt=pt/(At-1),_t=0,gt=0;gt<dt;gt+=1)vt=bmPow(1-xt,3)*lt[gt]+3*bmPow(1-xt,2)*xt*(lt[gt]+ut[gt])+3*(1-xt)*bmPow(xt,2)*(ct[gt]+ft[gt])+bmPow(xt,3)*ct[gt],bt[gt]=vt,Tt!==null&&(_t+=bmPow(bt[gt]-Tt[gt],2));Mt+=_t=bmSqrt(_t),St.points[pt]=new rt(_t,bt),Tt=bt}St.segmentLength=Mt,it[ht]=St}return it[ht]});function ot(lt,ct){var ut=ct.percents,ft=ct.lengths,ht=ut.length,pt=bmFloor((ht-1)*lt),gt=lt*ct.addedLength,dt=0;if(pt===ht-1||pt===0||gt===ft[pt])return ut[pt];for(var vt=ft[pt]>gt?-1:1,xt=!0;xt;)if(ft[pt]<=gt&&ft[pt+1]>gt?(dt=(gt-ft[pt])/(ft[pt+1]-ft[pt]),xt=!1):pt+=vt,pt<0||pt>=ht-1){if(pt===ht-1)return ut[pt];xt=!1}return ut[pt]+(ut[pt+1]-ut[pt])*dt}var at=createTypedArray("float32",8);return{getSegmentsLength:function(lt){var ct,ut=segmentsLengthPool.newElement(),ft=lt.c,ht=lt.v,pt=lt.o,gt=lt.i,dt=lt._length,vt=ut.lengths,xt=0;for(ct=0;ct<dt-1;ct+=1)vt[ct]=tt(ht[ct],ht[ct+1],pt[ct],gt[ct+1]),xt+=vt[ct].addedLength;return ft&&dt&&(vt[ct]=tt(ht[ct],ht[0],pt[ct],gt[0]),xt+=vt[ct].addedLength),ut.totalLength=xt,ut},getNewSegment:function(lt,ct,ut,ft,ht,pt,gt){ht<0?ht=0:ht>1&&(ht=1);var dt,vt=ot(ht,gt),xt=ot(pt=pt>1?1:pt,gt),_t=lt.length,bt=1-vt,At=1-xt,Mt=bt*bt*bt,Tt=vt*bt*bt*3,St=vt*vt*bt*3,Ct=vt*vt*vt,Et=bt*bt*At,Rt=vt*bt*At+bt*vt*At+bt*bt*xt,It=vt*vt*At+bt*vt*xt+vt*bt*xt,Ot=vt*vt*xt,kt=bt*At*At,$t=vt*At*At+bt*xt*At+bt*At*xt,jt=vt*xt*At+bt*xt*xt+vt*At*xt,Ht=vt*xt*xt,Bt=At*At*At,Lt=xt*At*At+At*xt*At+At*At*xt,Ft=xt*xt*At+At*xt*xt+xt*At*xt,Vt=xt*xt*xt;for(dt=0;dt<_t;dt+=1)at[4*dt]=et.round(1e3*(Mt*lt[dt]+Tt*ut[dt]+St*ft[dt]+Ct*ct[dt]))/1e3,at[4*dt+1]=et.round(1e3*(Et*lt[dt]+Rt*ut[dt]+It*ft[dt]+Ot*ct[dt]))/1e3,at[4*dt+2]=et.round(1e3*(kt*lt[dt]+$t*ut[dt]+jt*ft[dt]+Ht*ct[dt]))/1e3,at[4*dt+3]=et.round(1e3*(Bt*lt[dt]+Lt*ut[dt]+Ft*ft[dt]+Vt*ct[dt]))/1e3;return at},getPointInSegment:function(lt,ct,ut,ft,ht,pt){var gt=ot(ht,pt),dt=1-gt;return[et.round(1e3*(dt*dt*dt*lt[0]+(gt*dt*dt+dt*gt*dt+dt*dt*gt)*ut[0]+(gt*gt*dt+dt*gt*gt+gt*dt*gt)*ft[0]+gt*gt*gt*ct[0]))/1e3,et.round(1e3*(dt*dt*dt*lt[1]+(gt*dt*dt+dt*gt*dt+dt*dt*gt)*ut[1]+(gt*gt*dt+dt*gt*gt+gt*dt*gt)*ft[1]+gt*gt*gt*ct[1]))/1e3]},buildBezierData:st,pointOnLine2D:_e,pointOnLine3D:function(lt,ct,ut,ft,ht,pt,gt,dt,vt){if(ut===0&&pt===0&&vt===0)return _e(lt,ct,ft,ht,gt,dt);var xt,_t=et.sqrt(et.pow(ft-lt,2)+et.pow(ht-ct,2)+et.pow(pt-ut,2)),bt=et.sqrt(et.pow(gt-lt,2)+et.pow(dt-ct,2)+et.pow(vt-ut,2)),At=et.sqrt(et.pow(gt-ft,2)+et.pow(dt-ht,2)+et.pow(vt-pt,2));return(xt=_t>bt?_t>At?_t-bt-At:At-bt-_t:At>bt?At-bt-_t:bt-_t-At)>-1e-4&&xt<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var et=initialDefaultFrame,_e=Math.abs;function tt(ft,ht){var pt,gt=this.offsetTime;this.propType==="multidimensional"&&(pt=createTypedArray("float32",this.pv.length));for(var dt,vt,xt,_t,bt,At,Mt,Tt,St,Ct=ht.lastIndex,Et=Ct,Rt=this.keyframes.length-1,It=!0;It;){if(dt=this.keyframes[Et],vt=this.keyframes[Et+1],Et===Rt-1&&ft>=vt.t-gt){dt.h&&(dt=vt),Ct=0;break}if(vt.t-gt>ft){Ct=Et;break}Et<Rt-1?Et+=1:(Ct=0,It=!1)}xt=this.keyframesMetadata[Et]||{};var Ot,kt=vt.t-gt,$t=dt.t-gt;if(dt.to){xt.bezierData||(xt.bezierData=bez.buildBezierData(dt.s,vt.s||dt.e,dt.to,dt.ti));var jt=xt.bezierData;if(ft>=kt||ft<$t){var Ht=ft>=kt?jt.points.length-1:0;for(bt=jt.points[Ht].point.length,_t=0;_t<bt;_t+=1)pt[_t]=jt.points[Ht].point[_t]}else{xt.__fnct?St=xt.__fnct:(St=BezierFactory.getBezierEasing(dt.o.x,dt.o.y,dt.i.x,dt.i.y,dt.n).get,xt.__fnct=St),At=St((ft-$t)/(kt-$t));var Bt,Lt=jt.segmentLength*At,Ft=ht.lastFrame<ft&&ht._lastKeyframeIndex===Et?ht._lastAddedLength:0;for(Tt=ht.lastFrame<ft&&ht._lastKeyframeIndex===Et?ht._lastPoint:0,It=!0,Mt=jt.points.length;It;){if(Ft+=jt.points[Tt].partialLength,Lt===0||At===0||Tt===jt.points.length-1){for(bt=jt.points[Tt].point.length,_t=0;_t<bt;_t+=1)pt[_t]=jt.points[Tt].point[_t];break}if(Lt>=Ft&&Lt<Ft+jt.points[Tt+1].partialLength){for(Bt=(Lt-Ft)/jt.points[Tt+1].partialLength,bt=jt.points[Tt].point.length,_t=0;_t<bt;_t+=1)pt[_t]=jt.points[Tt].point[_t]+(jt.points[Tt+1].point[_t]-jt.points[Tt].point[_t])*Bt;break}Tt<Mt-1?Tt+=1:It=!1}ht._lastPoint=Tt,ht._lastAddedLength=Ft-jt.points[Tt].partialLength,ht._lastKeyframeIndex=Et}}else{var Vt,Yt,rn,sn,cn;if(Rt=dt.s.length,Ot=vt.s||dt.e,this.sh&&dt.h!==1)ft>=kt?(pt[0]=Ot[0],pt[1]=Ot[1],pt[2]=Ot[2]):ft<=$t?(pt[0]=dt.s[0],pt[1]=dt.s[1],pt[2]=dt.s[2]):function(Zt,an){var Qt=an[0],Ut=an[1],Gt=an[2],Wt=an[3],Jt=Math.atan2(2*Ut*Wt-2*Qt*Gt,1-2*Ut*Ut-2*Gt*Gt),Kt=Math.asin(2*Qt*Ut+2*Gt*Wt),nn=Math.atan2(2*Qt*Wt-2*Ut*Gt,1-2*Qt*Qt-2*Gt*Gt);Zt[0]=Jt/degToRads,Zt[1]=Kt/degToRads,Zt[2]=nn/degToRads}(pt,function(Zt,an,Qt){var Ut,Gt,Wt,Jt,Kt,nn=[],fn=Zt[0],hn=Zt[1],bn=Zt[2],un=Zt[3],gn=an[0],vn=an[1],on=an[2],Xt=an[3];return(Gt=fn*gn+hn*vn+bn*on+un*Xt)<0&&(Gt=-Gt,gn=-gn,vn=-vn,on=-on,Xt=-Xt),1-Gt>1e-6?(Ut=Math.acos(Gt),Wt=Math.sin(Ut),Jt=Math.sin((1-Qt)*Ut)/Wt,Kt=Math.sin(Qt*Ut)/Wt):(Jt=1-Qt,Kt=Qt),nn[0]=Jt*fn+Kt*gn,nn[1]=Jt*hn+Kt*vn,nn[2]=Jt*bn+Kt*on,nn[3]=Jt*un+Kt*Xt,nn}(nt(dt.s),nt(Ot),(ft-$t)/(kt-$t)));else for(Et=0;Et<Rt;Et+=1)dt.h!==1&&(ft>=kt?At=1:ft<$t?At=0:(dt.o.x.constructor===Array?(xt.__fnct||(xt.__fnct=[]),xt.__fnct[Et]?St=xt.__fnct[Et]:(Vt=dt.o.x[Et]===void 0?dt.o.x[0]:dt.o.x[Et],Yt=dt.o.y[Et]===void 0?dt.o.y[0]:dt.o.y[Et],rn=dt.i.x[Et]===void 0?dt.i.x[0]:dt.i.x[Et],sn=dt.i.y[Et]===void 0?dt.i.y[0]:dt.i.y[Et],St=BezierFactory.getBezierEasing(Vt,Yt,rn,sn).get,xt.__fnct[Et]=St)):xt.__fnct?St=xt.__fnct:(Vt=dt.o.x,Yt=dt.o.y,rn=dt.i.x,sn=dt.i.y,St=BezierFactory.getBezierEasing(Vt,Yt,rn,sn).get,dt.keyframeMetadata=St),At=St((ft-$t)/(kt-$t)))),Ot=vt.s||dt.e,cn=dt.h===1?dt.s[Et]:dt.s[Et]+(Ot[Et]-dt.s[Et])*At,this.propType==="multidimensional"?pt[Et]=cn:pt=cn}return ht.lastIndex=Ct,pt}function nt(ft){var ht=ft[0]*degToRads,pt=ft[1]*degToRads,gt=ft[2]*degToRads,dt=Math.cos(ht/2),vt=Math.cos(pt/2),xt=Math.cos(gt/2),_t=Math.sin(ht/2),bt=Math.sin(pt/2),At=Math.sin(gt/2);return[_t*bt*xt+dt*vt*At,_t*vt*xt+dt*bt*At,dt*bt*xt-_t*vt*At,dt*vt*xt-_t*bt*At]}function rt(){var ft=this.comp.renderedFrame-this.offsetTime,ht=this.keyframes[0].t-this.offsetTime,pt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(ft===this._caching.lastFrame||this._caching.lastFrame!==et&&(this._caching.lastFrame>=pt&&ft>=pt||this._caching.lastFrame<ht&&ft<ht))){this._caching.lastFrame>=ft&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var gt=this.interpolateValue(ft,this._caching);this.pv=gt}return this._caching.lastFrame=ft,this.pv}function it(ft){var ht;if(this.propType==="unidimensional")ht=ft*this.mult,_e(this.v-ht)>1e-5&&(this.v=ht,this._mdf=!0);else for(var pt=0,gt=this.v.length;pt<gt;)ht=ft[pt]*this.mult,_e(this.v[pt]-ht)>1e-5&&(this.v[pt]=ht,this._mdf=!0),pt+=1}function st(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var ft;this.lock=!0,this._mdf=this._isFirstFrame;var ht=this.effectsSequence.length,pt=this.kf?this.pv:this.data.k;for(ft=0;ft<ht;ft+=1)pt=this.effectsSequence[ft](pt);this.setVValue(pt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ot(ft){this.effectsSequence.push(ft),this.container.addDynamicProperty(this)}function at(ft,ht,pt,gt){this.propType="unidimensional",this.mult=pt||1,this.data=ht,this.v=pt?ht.k*pt:ht.k,this.pv=ht.k,this._mdf=!1,this.elem=ft,this.container=gt,this.comp=ft.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=st,this.setVValue=it,this.addEffect=ot}function lt(ft,ht,pt,gt){var dt;this.propType="multidimensional",this.mult=pt||1,this.data=ht,this._mdf=!1,this.elem=ft,this.container=gt,this.comp=ft.comp,this.k=!1,this.kf=!1,this.frameId=-1;var vt=ht.k.length;for(this.v=createTypedArray("float32",vt),this.pv=createTypedArray("float32",vt),this.vel=createTypedArray("float32",vt),dt=0;dt<vt;dt+=1)this.v[dt]=ht.k[dt]*this.mult,this.pv[dt]=ht.k[dt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=st,this.setVValue=it,this.addEffect=ot}function ct(ft,ht,pt,gt){this.propType="unidimensional",this.keyframes=ht.k,this.keyframesMetadata=[],this.offsetTime=ft.data.st,this.frameId=-1,this._caching={lastFrame:et,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=ht,this.mult=pt||1,this.elem=ft,this.container=gt,this.comp=ft.comp,this.v=et,this.pv=et,this._isFirstFrame=!0,this.getValue=st,this.setVValue=it,this.interpolateValue=tt,this.effectsSequence=[rt.bind(this)],this.addEffect=ot}function ut(ft,ht,pt,gt){var dt;this.propType="multidimensional";var vt,xt,_t,bt,At=ht.k.length;for(dt=0;dt<At-1;dt+=1)ht.k[dt].to&&ht.k[dt].s&&ht.k[dt+1]&&ht.k[dt+1].s&&(vt=ht.k[dt].s,xt=ht.k[dt+1].s,_t=ht.k[dt].to,bt=ht.k[dt].ti,(vt.length===2&&(vt[0]!==xt[0]||vt[1]!==xt[1])&&bez.pointOnLine2D(vt[0],vt[1],xt[0],xt[1],vt[0]+_t[0],vt[1]+_t[1])&&bez.pointOnLine2D(vt[0],vt[1],xt[0],xt[1],xt[0]+bt[0],xt[1]+bt[1])||vt.length===3&&(vt[0]!==xt[0]||vt[1]!==xt[1]||vt[2]!==xt[2])&&bez.pointOnLine3D(vt[0],vt[1],vt[2],xt[0],xt[1],xt[2],vt[0]+_t[0],vt[1]+_t[1],vt[2]+_t[2])&&bez.pointOnLine3D(vt[0],vt[1],vt[2],xt[0],xt[1],xt[2],xt[0]+bt[0],xt[1]+bt[1],xt[2]+bt[2]))&&(ht.k[dt].to=null,ht.k[dt].ti=null),vt[0]===xt[0]&&vt[1]===xt[1]&&_t[0]===0&&_t[1]===0&&bt[0]===0&&bt[1]===0&&(vt.length===2||vt[2]===xt[2]&&_t[2]===0&&bt[2]===0)&&(ht.k[dt].to=null,ht.k[dt].ti=null));this.effectsSequence=[rt.bind(this)],this.data=ht,this.keyframes=ht.k,this.keyframesMetadata=[],this.offsetTime=ft.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=pt||1,this.elem=ft,this.container=gt,this.comp=ft.comp,this.getValue=st,this.setVValue=it,this.interpolateValue=tt,this.frameId=-1;var Mt=ht.k[0].s.length;for(this.v=createTypedArray("float32",Mt),this.pv=createTypedArray("float32",Mt),dt=0;dt<Mt;dt+=1)this.v[dt]=et,this.pv[dt]=et;this._caching={lastFrame:et,lastIndex:0,value:createTypedArray("float32",Mt)},this.addEffect=ot}return{getProp:function(ft,ht,pt,gt,dt){var vt;if(ht.k.length)if(typeof ht.k[0]=="number")vt=new lt(ft,ht,gt,dt);else switch(pt){case 0:vt=new ct(ft,ht,gt,dt);break;case 1:vt=new ut(ft,ht,gt,dt)}else vt=new at(ft,ht,gt,dt);return vt.effectsSequence.length&&dt.addDynamicProperty(vt),vt}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&(this.dynamicProperties.push(et),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var et;this._mdf=!1;var _e=this.dynamicProperties.length;for(et=0;et<_e;et+=1)this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(et){this.container=et,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(et,_e){this.c=et,this.setLength(_e);for(var tt=0;tt<_e;)this.v[tt]=pointPool.newElement(),this.o[tt]=pointPool.newElement(),this.i[tt]=pointPool.newElement(),tt+=1},ShapePath.prototype.setLength=function(et){for(;this._maxLength<et;)this.doubleArrayLength();this._length=et},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(et,_e,tt,nt,rt){var it;switch(this._length=Math.max(this._length,nt+1),this._length>=this._maxLength&&this.doubleArrayLength(),tt){case"v":it=this.v;break;case"i":it=this.i;break;case"o":it=this.o;break;default:it=[]}(!it[nt]||it[nt]&&!rt)&&(it[nt]=pointPool.newElement()),it[nt][0]=et,it[nt][1]=_e},ShapePath.prototype.setTripleAt=function(et,_e,tt,nt,rt,it,st,ot){this.setXYAt(et,_e,"v",st,ot),this.setXYAt(tt,nt,"o",st,ot),this.setXYAt(rt,it,"i",st,ot)},ShapePath.prototype.reverse=function(){var et=new ShapePath;et.setPathData(this.c,this._length);var _e=this.v,tt=this.o,nt=this.i,rt=0;this.c&&(et.setTripleAt(_e[0][0],_e[0][1],nt[0][0],nt[0][1],tt[0][0],tt[0][1],0,!1),rt=1);var it,st=this._length-1,ot=this._length;for(it=rt;it<ot;it+=1)et.setTripleAt(_e[st][0],_e[st][1],nt[st][0],nt[st][1],tt[st][0],tt[st][1],it,!1),st-=1;return et};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(et){var _e,tt=et._length;for(_e=0;_e<tt;_e+=1)pointPool.release(et.v[_e]),pointPool.release(et.i[_e]),pointPool.release(et.o[_e]),et.v[_e]=null,et.i[_e]=null,et.o[_e]=null;et._length=0,et.c=!1}),factory.clone=function(et){var _e,tt=factory.newElement(),nt=et._length===void 0?et.v.length:et._length;for(tt.setLength(nt),tt.c=et.c,_e=0;_e<nt;_e+=1)tt.setTripleAt(et.v[_e][0],et.v[_e][1],et.o[_e][0],et.o[_e][1],et.i[_e][0],et.i[_e][1],_e);return tt},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(et){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=et,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var et;for(et=0;et<this._length;et+=1)shapePool.release(this.shapes[et]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(et){var _e,tt=et._length;for(_e=0;_e<tt;_e+=1)shapePool.release(et.shapes[_e]);et._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=et,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function et(ft,ht,pt){var gt,dt,vt,xt,_t,bt,At,Mt,Tt,St=pt.lastIndex,Ct=this.keyframes;if(ft<Ct[0].t-this.offsetTime)gt=Ct[0].s[0],vt=!0,St=0;else if(ft>=Ct[Ct.length-1].t-this.offsetTime)gt=Ct[Ct.length-1].s?Ct[Ct.length-1].s[0]:Ct[Ct.length-2].e[0],vt=!0;else{for(var Et,Rt,It,Ot=St,kt=Ct.length-1,$t=!0;$t&&(Et=Ct[Ot],!((Rt=Ct[Ot+1]).t-this.offsetTime>ft));)Ot<kt-1?Ot+=1:$t=!1;if(It=this.keyframesMetadata[Ot]||{},St=Ot,!(vt=Et.h===1)){if(ft>=Rt.t-this.offsetTime)Mt=1;else if(ft<Et.t-this.offsetTime)Mt=0;else{var jt;It.__fnct?jt=It.__fnct:(jt=BezierFactory.getBezierEasing(Et.o.x,Et.o.y,Et.i.x,Et.i.y).get,It.__fnct=jt),Mt=jt((ft-(Et.t-this.offsetTime))/(Rt.t-this.offsetTime-(Et.t-this.offsetTime)))}dt=Rt.s?Rt.s[0]:Et.e[0]}gt=Et.s[0]}for(bt=ht._length,At=gt.i[0].length,pt.lastIndex=St,xt=0;xt<bt;xt+=1)for(_t=0;_t<At;_t+=1)Tt=vt?gt.i[xt][_t]:gt.i[xt][_t]+(dt.i[xt][_t]-gt.i[xt][_t])*Mt,ht.i[xt][_t]=Tt,Tt=vt?gt.o[xt][_t]:gt.o[xt][_t]+(dt.o[xt][_t]-gt.o[xt][_t])*Mt,ht.o[xt][_t]=Tt,Tt=vt?gt.v[xt][_t]:gt.v[xt][_t]+(dt.v[xt][_t]-gt.v[xt][_t])*Mt,ht.v[xt][_t]=Tt}function _e(){var ft=this.comp.renderedFrame-this.offsetTime,ht=this.keyframes[0].t-this.offsetTime,pt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,gt=this._caching.lastFrame;return gt!==-999999&&(gt<ht&&ft<ht||gt>pt&&ft>pt)||(this._caching.lastIndex=gt<ft?this._caching.lastIndex:0,this.interpolateShape(ft,this.pv,this._caching)),this._caching.lastFrame=ft,this.pv}function tt(){this.paths=this.localShapeCollection}function nt(ft){(function(ht,pt){if(ht._length!==pt._length||ht.c!==pt.c)return!1;var gt,dt=ht._length;for(gt=0;gt<dt;gt+=1)if(ht.v[gt][0]!==pt.v[gt][0]||ht.v[gt][1]!==pt.v[gt][1]||ht.o[gt][0]!==pt.o[gt][0]||ht.o[gt][1]!==pt.o[gt][1]||ht.i[gt][0]!==pt.i[gt][0]||ht.i[gt][1]!==pt.i[gt][1])return!1;return!0})(this.v,ft)||(this.v=shapePool.clone(ft),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function rt(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var ft,ht;this.lock=!0,this._mdf=!1,ft=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var pt=this.effectsSequence.length;for(ht=0;ht<pt;ht+=1)ft=this.effectsSequence[ht](ft);this.setVValue(ft),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function it(ft,ht,pt){this.propType="shape",this.comp=ft.comp,this.container=ft,this.elem=ft,this.data=ht,this.k=!1,this.kf=!1,this._mdf=!1;var gt=pt===3?ht.pt.k:ht.ks.k;this.v=shapePool.clone(gt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=tt,this.effectsSequence=[]}function st(ft){this.effectsSequence.push(ft),this.container.addDynamicProperty(this)}function ot(ft,ht,pt){this.propType="shape",this.comp=ft.comp,this.elem=ft,this.container=ft,this.offsetTime=ft.data.st,this.keyframes=pt===3?ht.pt.k:ht.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var gt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,gt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=tt,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[_e.bind(this)]}it.prototype.interpolateShape=et,it.prototype.getValue=rt,it.prototype.setVValue=nt,it.prototype.addEffect=st,ot.prototype.getValue=rt,ot.prototype.interpolateShape=et,ot.prototype.setVValue=nt,ot.prototype.addEffect=st;var at=function(){var ft=roundCorner;function ht(pt,gt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=gt.d,this.elem=pt,this.comp=pt.comp,this.frameId=-1,this.initDynamicPropertyContainer(pt),this.p=PropertyFactory.getProp(pt,gt.p,1,0,this),this.s=PropertyFactory.getProp(pt,gt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return ht.prototype={reset:tt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var pt=this.p.v[0],gt=this.p.v[1],dt=this.s.v[0]/2,vt=this.s.v[1]/2,xt=this.d!==3,_t=this.v;_t.v[0][0]=pt,_t.v[0][1]=gt-vt,_t.v[1][0]=xt?pt+dt:pt-dt,_t.v[1][1]=gt,_t.v[2][0]=pt,_t.v[2][1]=gt+vt,_t.v[3][0]=xt?pt-dt:pt+dt,_t.v[3][1]=gt,_t.i[0][0]=xt?pt-dt*ft:pt+dt*ft,_t.i[0][1]=gt-vt,_t.i[1][0]=xt?pt+dt:pt-dt,_t.i[1][1]=gt-vt*ft,_t.i[2][0]=xt?pt+dt*ft:pt-dt*ft,_t.i[2][1]=gt+vt,_t.i[3][0]=xt?pt-dt:pt+dt,_t.i[3][1]=gt+vt*ft,_t.o[0][0]=xt?pt+dt*ft:pt-dt*ft,_t.o[0][1]=gt-vt,_t.o[1][0]=xt?pt+dt:pt-dt,_t.o[1][1]=gt+vt*ft,_t.o[2][0]=xt?pt-dt*ft:pt+dt*ft,_t.o[2][1]=gt+vt,_t.o[3][0]=xt?pt-dt:pt+dt,_t.o[3][1]=gt-vt*ft}},extendPrototype([DynamicPropertyContainer],ht),ht}(),lt=function(){function ft(ht,pt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=ht,this.comp=ht.comp,this.data=pt,this.frameId=-1,this.d=pt.d,this.initDynamicPropertyContainer(ht),pt.sy===1?(this.ir=PropertyFactory.getProp(ht,pt.ir,0,0,this),this.is=PropertyFactory.getProp(ht,pt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(ht,pt.pt,0,0,this),this.p=PropertyFactory.getProp(ht,pt.p,1,0,this),this.r=PropertyFactory.getProp(ht,pt.r,0,degToRads,this),this.or=PropertyFactory.getProp(ht,pt.or,0,0,this),this.os=PropertyFactory.getProp(ht,pt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ft.prototype={reset:tt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ht,pt,gt,dt,vt=2*Math.floor(this.pt.v),xt=2*Math.PI/vt,_t=!0,bt=this.or.v,At=this.ir.v,Mt=this.os.v,Tt=this.is.v,St=2*Math.PI*bt/(2*vt),Ct=2*Math.PI*At/(2*vt),Et=-Math.PI/2;Et+=this.r.v;var Rt=this.data.d===3?-1:1;for(this.v._length=0,ht=0;ht<vt;ht+=1){gt=_t?Mt:Tt,dt=_t?St:Ct;var It=(pt=_t?bt:At)*Math.cos(Et),Ot=pt*Math.sin(Et),kt=It===0&&Ot===0?0:Ot/Math.sqrt(It*It+Ot*Ot),$t=It===0&&Ot===0?0:-It/Math.sqrt(It*It+Ot*Ot);It+=+this.p.v[0],Ot+=+this.p.v[1],this.v.setTripleAt(It,Ot,It-kt*dt*gt*Rt,Ot-$t*dt*gt*Rt,It+kt*dt*gt*Rt,Ot+$t*dt*gt*Rt,ht,!0),_t=!_t,Et+=xt*Rt}},convertPolygonToPath:function(){var ht,pt=Math.floor(this.pt.v),gt=2*Math.PI/pt,dt=this.or.v,vt=this.os.v,xt=2*Math.PI*dt/(4*pt),_t=.5*-Math.PI,bt=this.data.d===3?-1:1;for(_t+=this.r.v,this.v._length=0,ht=0;ht<pt;ht+=1){var At=dt*Math.cos(_t),Mt=dt*Math.sin(_t),Tt=At===0&&Mt===0?0:Mt/Math.sqrt(At*At+Mt*Mt),St=At===0&&Mt===0?0:-At/Math.sqrt(At*At+Mt*Mt);At+=+this.p.v[0],Mt+=+this.p.v[1],this.v.setTripleAt(At,Mt,At-Tt*xt*vt*bt,Mt-St*xt*vt*bt,At+Tt*xt*vt*bt,Mt+St*xt*vt*bt,ht,!0),_t+=gt*bt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ft),ft}(),ct=function(){function ft(ht,pt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=ht,this.comp=ht.comp,this.frameId=-1,this.d=pt.d,this.initDynamicPropertyContainer(ht),this.p=PropertyFactory.getProp(ht,pt.p,1,0,this),this.s=PropertyFactory.getProp(ht,pt.s,1,0,this),this.r=PropertyFactory.getProp(ht,pt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ft.prototype={convertRectToPath:function(){var ht=this.p.v[0],pt=this.p.v[1],gt=this.s.v[0]/2,dt=this.s.v[1]/2,vt=bmMin(gt,dt,this.r.v),xt=vt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ht+gt,pt-dt+vt,ht+gt,pt-dt+vt,ht+gt,pt-dt+xt,0,!0),this.v.setTripleAt(ht+gt,pt+dt-vt,ht+gt,pt+dt-xt,ht+gt,pt+dt-vt,1,!0),vt!==0?(this.v.setTripleAt(ht+gt-vt,pt+dt,ht+gt-vt,pt+dt,ht+gt-xt,pt+dt,2,!0),this.v.setTripleAt(ht-gt+vt,pt+dt,ht-gt+xt,pt+dt,ht-gt+vt,pt+dt,3,!0),this.v.setTripleAt(ht-gt,pt+dt-vt,ht-gt,pt+dt-vt,ht-gt,pt+dt-xt,4,!0),this.v.setTripleAt(ht-gt,pt-dt+vt,ht-gt,pt-dt+xt,ht-gt,pt-dt+vt,5,!0),this.v.setTripleAt(ht-gt+vt,pt-dt,ht-gt+vt,pt-dt,ht-gt+xt,pt-dt,6,!0),this.v.setTripleAt(ht+gt-vt,pt-dt,ht+gt-xt,pt-dt,ht+gt-vt,pt-dt,7,!0)):(this.v.setTripleAt(ht-gt,pt+dt,ht-gt+xt,pt+dt,ht-gt,pt+dt,2),this.v.setTripleAt(ht-gt,pt-dt,ht-gt,pt-dt+xt,ht-gt,pt-dt,3))):(this.v.setTripleAt(ht+gt,pt-dt+vt,ht+gt,pt-dt+xt,ht+gt,pt-dt+vt,0,!0),vt!==0?(this.v.setTripleAt(ht+gt-vt,pt-dt,ht+gt-vt,pt-dt,ht+gt-xt,pt-dt,1,!0),this.v.setTripleAt(ht-gt+vt,pt-dt,ht-gt+xt,pt-dt,ht-gt+vt,pt-dt,2,!0),this.v.setTripleAt(ht-gt,pt-dt+vt,ht-gt,pt-dt+vt,ht-gt,pt-dt+xt,3,!0),this.v.setTripleAt(ht-gt,pt+dt-vt,ht-gt,pt+dt-xt,ht-gt,pt+dt-vt,4,!0),this.v.setTripleAt(ht-gt+vt,pt+dt,ht-gt+vt,pt+dt,ht-gt+xt,pt+dt,5,!0),this.v.setTripleAt(ht+gt-vt,pt+dt,ht+gt-xt,pt+dt,ht+gt-vt,pt+dt,6,!0),this.v.setTripleAt(ht+gt,pt+dt-vt,ht+gt,pt+dt-vt,ht+gt,pt+dt-xt,7,!0)):(this.v.setTripleAt(ht-gt,pt-dt,ht-gt+xt,pt-dt,ht-gt,pt-dt,1,!0),this.v.setTripleAt(ht-gt,pt+dt,ht-gt,pt+dt-xt,ht-gt,pt+dt,2,!0),this.v.setTripleAt(ht+gt,pt+dt,ht+gt-xt,pt+dt,ht+gt,pt+dt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:tt},extendPrototype([DynamicPropertyContainer],ft),ft}(),ut={getShapeProp:function(ft,ht,pt){var gt;return pt===3||pt===4?gt=(pt===3?ht.pt:ht.ks).k.length?new ot(ft,ht,pt):new it(ft,ht,pt):pt===5?gt=new ct(ft,ht):pt===6?gt=new at(ft,ht):pt===7&&(gt=new lt(ft,ht)),gt.k&&ft.addDynamicProperty(gt),gt},getConstructorFunction:function(){return it},getKeyframedConstructorFunction:function(){return ot}};return ut}(),Matrix=function(){var et=Math.cos,_e=Math.sin,tt=Math.tan,nt=Math.round;function rt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function it(Ht){if(Ht===0)return this;var Bt=et(Ht),Lt=_e(Ht);return this._t(Bt,-Lt,0,0,Lt,Bt,0,0,0,0,1,0,0,0,0,1)}function st(Ht){if(Ht===0)return this;var Bt=et(Ht),Lt=_e(Ht);return this._t(1,0,0,0,0,Bt,-Lt,0,0,Lt,Bt,0,0,0,0,1)}function ot(Ht){if(Ht===0)return this;var Bt=et(Ht),Lt=_e(Ht);return this._t(Bt,0,Lt,0,0,1,0,0,-Lt,0,Bt,0,0,0,0,1)}function at(Ht){if(Ht===0)return this;var Bt=et(Ht),Lt=_e(Ht);return this._t(Bt,-Lt,0,0,Lt,Bt,0,0,0,0,1,0,0,0,0,1)}function lt(Ht,Bt){return this._t(1,Bt,Ht,1,0,0)}function ct(Ht,Bt){return this.shear(tt(Ht),tt(Bt))}function ut(Ht,Bt){var Lt=et(Bt),Ft=_e(Bt);return this._t(Lt,Ft,0,0,-Ft,Lt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,tt(Ht),1,0,0,0,0,1,0,0,0,0,1)._t(Lt,-Ft,0,0,Ft,Lt,0,0,0,0,1,0,0,0,0,1)}function ft(Ht,Bt,Lt){return Lt||Lt===0||(Lt=1),Ht===1&&Bt===1&&Lt===1?this:this._t(Ht,0,0,0,0,Bt,0,0,0,0,Lt,0,0,0,0,1)}function ht(Ht,Bt,Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt,Ut,Gt,Wt,Jt){return this.props[0]=Ht,this.props[1]=Bt,this.props[2]=Lt,this.props[3]=Ft,this.props[4]=Vt,this.props[5]=Yt,this.props[6]=rn,this.props[7]=sn,this.props[8]=cn,this.props[9]=Zt,this.props[10]=an,this.props[11]=Qt,this.props[12]=Ut,this.props[13]=Gt,this.props[14]=Wt,this.props[15]=Jt,this}function pt(Ht,Bt,Lt){return Lt=Lt||0,Ht!==0||Bt!==0||Lt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ht,Bt,Lt,1):this}function gt(Ht,Bt,Lt,Ft,Vt,Yt,rn,sn,cn,Zt,an,Qt,Ut,Gt,Wt,Jt){var Kt=this.props;if(Ht===1&&Bt===0&&Lt===0&&Ft===0&&Vt===0&&Yt===1&&rn===0&&sn===0&&cn===0&&Zt===0&&an===1&&Qt===0)return Kt[12]=Kt[12]*Ht+Kt[15]*Ut,Kt[13]=Kt[13]*Yt+Kt[15]*Gt,Kt[14]=Kt[14]*an+Kt[15]*Wt,Kt[15]*=Jt,this._identityCalculated=!1,this;var nn=Kt[0],fn=Kt[1],hn=Kt[2],bn=Kt[3],un=Kt[4],gn=Kt[5],vn=Kt[6],on=Kt[7],Xt=Kt[8],zt=Kt[9],tn=Kt[10],pn=Kt[11],Sn=Kt[12],Pn=Kt[13],Rn=Kt[14],Tn=Kt[15];return Kt[0]=nn*Ht+fn*Vt+hn*cn+bn*Ut,Kt[1]=nn*Bt+fn*Yt+hn*Zt+bn*Gt,Kt[2]=nn*Lt+fn*rn+hn*an+bn*Wt,Kt[3]=nn*Ft+fn*sn+hn*Qt+bn*Jt,Kt[4]=un*Ht+gn*Vt+vn*cn+on*Ut,Kt[5]=un*Bt+gn*Yt+vn*Zt+on*Gt,Kt[6]=un*Lt+gn*rn+vn*an+on*Wt,Kt[7]=un*Ft+gn*sn+vn*Qt+on*Jt,Kt[8]=Xt*Ht+zt*Vt+tn*cn+pn*Ut,Kt[9]=Xt*Bt+zt*Yt+tn*Zt+pn*Gt,Kt[10]=Xt*Lt+zt*rn+tn*an+pn*Wt,Kt[11]=Xt*Ft+zt*sn+tn*Qt+pn*Jt,Kt[12]=Sn*Ht+Pn*Vt+Rn*cn+Tn*Ut,Kt[13]=Sn*Bt+Pn*Yt+Rn*Zt+Tn*Gt,Kt[14]=Sn*Lt+Pn*rn+Rn*an+Tn*Wt,Kt[15]=Sn*Ft+Pn*sn+Rn*Qt+Tn*Jt,this._identityCalculated=!1,this}function dt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function vt(Ht){for(var Bt=0;Bt<16;){if(Ht.props[Bt]!==this.props[Bt])return!1;Bt+=1}return!0}function xt(Ht){var Bt;for(Bt=0;Bt<16;Bt+=1)Ht.props[Bt]=this.props[Bt];return Ht}function _t(Ht){var Bt;for(Bt=0;Bt<16;Bt+=1)this.props[Bt]=Ht[Bt]}function bt(Ht,Bt,Lt){return{x:Ht*this.props[0]+Bt*this.props[4]+Lt*this.props[8]+this.props[12],y:Ht*this.props[1]+Bt*this.props[5]+Lt*this.props[9]+this.props[13],z:Ht*this.props[2]+Bt*this.props[6]+Lt*this.props[10]+this.props[14]}}function At(Ht,Bt,Lt){return Ht*this.props[0]+Bt*this.props[4]+Lt*this.props[8]+this.props[12]}function Mt(Ht,Bt,Lt){return Ht*this.props[1]+Bt*this.props[5]+Lt*this.props[9]+this.props[13]}function Tt(Ht,Bt,Lt){return Ht*this.props[2]+Bt*this.props[6]+Lt*this.props[10]+this.props[14]}function St(){var Ht=this.props[0]*this.props[5]-this.props[1]*this.props[4],Bt=this.props[5]/Ht,Lt=-this.props[1]/Ht,Ft=-this.props[4]/Ht,Vt=this.props[0]/Ht,Yt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ht,rn=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ht,sn=new Matrix;return sn.props[0]=Bt,sn.props[1]=Lt,sn.props[4]=Ft,sn.props[5]=Vt,sn.props[12]=Yt,sn.props[13]=rn,sn}function Ct(Ht){return this.getInverseMatrix().applyToPointArray(Ht[0],Ht[1],Ht[2]||0)}function Et(Ht){var Bt,Lt=Ht.length,Ft=[];for(Bt=0;Bt<Lt;Bt+=1)Ft[Bt]=Ct(Ht[Bt]);return Ft}function Rt(Ht,Bt,Lt){var Ft=createTypedArray("float32",6);if(this.isIdentity())Ft[0]=Ht[0],Ft[1]=Ht[1],Ft[2]=Bt[0],Ft[3]=Bt[1],Ft[4]=Lt[0],Ft[5]=Lt[1];else{var Vt=this.props[0],Yt=this.props[1],rn=this.props[4],sn=this.props[5],cn=this.props[12],Zt=this.props[13];Ft[0]=Ht[0]*Vt+Ht[1]*rn+cn,Ft[1]=Ht[0]*Yt+Ht[1]*sn+Zt,Ft[2]=Bt[0]*Vt+Bt[1]*rn+cn,Ft[3]=Bt[0]*Yt+Bt[1]*sn+Zt,Ft[4]=Lt[0]*Vt+Lt[1]*rn+cn,Ft[5]=Lt[0]*Yt+Lt[1]*sn+Zt}return Ft}function It(Ht,Bt,Lt){return this.isIdentity()?[Ht,Bt,Lt]:[Ht*this.props[0]+Bt*this.props[4]+Lt*this.props[8]+this.props[12],Ht*this.props[1]+Bt*this.props[5]+Lt*this.props[9]+this.props[13],Ht*this.props[2]+Bt*this.props[6]+Lt*this.props[10]+this.props[14]]}function Ot(Ht,Bt){if(this.isIdentity())return Ht+","+Bt;var Lt=this.props;return Math.round(100*(Ht*Lt[0]+Bt*Lt[4]+Lt[12]))/100+","+Math.round(100*(Ht*Lt[1]+Bt*Lt[5]+Lt[13]))/100}function kt(){for(var Ht=0,Bt=this.props,Lt="matrix3d(";Ht<16;)Lt+=nt(1e4*Bt[Ht])/1e4,Lt+=Ht===15?")":",",Ht+=1;return Lt}function $t(Ht){return Ht<1e-6&&Ht>0||Ht>-1e-6&&Ht<0?nt(1e4*Ht)/1e4:Ht}function jt(){var Ht=this.props;return"matrix("+$t(Ht[0])+","+$t(Ht[1])+","+$t(Ht[4])+","+$t(Ht[5])+","+$t(Ht[12])+","+$t(Ht[13])+")"}return function(){this.reset=rt,this.rotate=it,this.rotateX=st,this.rotateY=ot,this.rotateZ=at,this.skew=ct,this.skewFromAxis=ut,this.shear=lt,this.scale=ft,this.setTransform=ht,this.translate=pt,this.transform=gt,this.applyToPoint=bt,this.applyToX=At,this.applyToY=Mt,this.applyToZ=Tt,this.applyToPointArray=It,this.applyToTriplePoints=Rt,this.applyToPointStringified=Ot,this.toCSS=kt,this.to2dCSS=jt,this.clone=xt,this.cloneFromProps=_t,this.equals=vt,this.inversePoints=Et,this.inversePoint=Ct,this.getInverseMatrix=St,this._t=this.transform,this.isIdentity=dt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(et){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(et)}var lottie={},standalone="__[STANDALONE]__",queryString;function setLocation(et){setLocationHref(et)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(et){setSubframeEnabled(et)}function setPrefix(et){setIdPrefix(et)}function loadAnimation(et){return animationManager.loadAnimation(et)}function setQuality(et){if(typeof et=="string")switch(et){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(et)&&et>1&&setDefaultCurveSegments(et)}function inBrowser(){return typeof navigator<"u"}function installPlugin(et,_e){et==="expressions"&&setExpressionsPlugin(_e)}function getFactory(et){switch(et){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(et){for(var _e=queryString.split("&"),tt=0;tt<_e.length;tt+=1){var nt=_e[tt].split("=");if(decodeURIComponent(nt[0])==et)return decodeURIComponent(nt[1])}return null}if(lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.1",standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(et){}var ShapeModifiers=function(){var et={},_e={};return et.registerModifier=function(tt,nt){_e[tt]||(_e[tt]=nt)},et.getModifier=function(tt,nt,rt){return new _e[tt](nt,rt)},et}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(et){if(!this.closed){et.sh.container.addDynamicProperty(et.sh);var _e={shape:et.sh,data:et,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(_e),this.addShapeToModifier(_e),this._isAnimated&&et.setAsAnimated()}},ShapeModifier.prototype.init=function(et,_e){this.shapes=[],this.elem=et,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,_e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(et,_e){this.s=PropertyFactory.getProp(et,_e.s,0,.01,this),this.e=PropertyFactory.getProp(et,_e.e,0,.01,this),this.o=PropertyFactory.getProp(et,_e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=_e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(et){et.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(et,_e,tt,nt,rt){var it=[];_e<=1?it.push({s:et,e:_e}):et>=1?it.push({s:et-1,e:_e-1}):(it.push({s:et,e:1}),it.push({s:0,e:_e-1}));var st,ot,at=[],lt=it.length;for(st=0;st<lt;st+=1){var ct,ut;(ot=it[st]).e*rt<nt||ot.s*rt>nt+tt||(ct=ot.s*rt<=nt?0:(ot.s*rt-nt)/tt,ut=ot.e*rt>=nt+tt?1:(ot.e*rt-nt)/tt,at.push([ct,ut]))}return at.length||at.push([0,0]),at},TrimModifier.prototype.releasePathsData=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)segmentsLengthPool.release(et[_e]);return et.length=0,et},TrimModifier.prototype.processShapes=function(et){var _e,tt,nt,rt;if(this._mdf||et){var it=this.o.v%360/360;if(it<0&&(it+=1),(_e=this.s.v>1?1+it:this.s.v<0?0+it:this.s.v+it)>(tt=this.e.v>1?1+it:this.e.v<0?0+it:this.e.v+it)){var st=_e;_e=tt,tt=st}_e=1e-4*Math.round(1e4*_e),tt=1e-4*Math.round(1e4*tt),this.sValue=_e,this.eValue=tt}else _e=this.sValue,tt=this.eValue;var ot,at,lt,ct,ut,ft=this.shapes.length,ht=0;if(tt===_e)for(rt=0;rt<ft;rt+=1)this.shapes[rt].localShapeCollection.releaseShapes(),this.shapes[rt].shape._mdf=!0,this.shapes[rt].shape.paths=this.shapes[rt].localShapeCollection,this._mdf&&(this.shapes[rt].pathsData.length=0);else if(tt===1&&_e===0||tt===0&&_e===1){if(this._mdf)for(rt=0;rt<ft;rt+=1)this.shapes[rt].pathsData.length=0,this.shapes[rt].shape._mdf=!0}else{var pt,gt,dt=[];for(rt=0;rt<ft;rt+=1)if((pt=this.shapes[rt]).shape._mdf||this._mdf||et||this.m===2){if(at=(nt=pt.shape.paths)._length,ut=0,!pt.shape._mdf&&pt.pathsData.length)ut=pt.totalShapeLength;else{for(lt=this.releasePathsData(pt.pathsData),ot=0;ot<at;ot+=1)ct=bez.getSegmentsLength(nt.shapes[ot]),lt.push(ct),ut+=ct.totalLength;pt.totalShapeLength=ut,pt.pathsData=lt}ht+=ut,pt.shape._mdf=!0}else pt.shape.paths=pt.localShapeCollection;var vt,xt=_e,_t=tt,bt=0;for(rt=ft-1;rt>=0;rt-=1)if((pt=this.shapes[rt]).shape._mdf){for((gt=pt.localShapeCollection).releaseShapes(),this.m===2&&ft>1?(vt=this.calculateShapeEdges(_e,tt,pt.totalShapeLength,bt,ht),bt+=pt.totalShapeLength):vt=[[xt,_t]],at=vt.length,ot=0;ot<at;ot+=1){xt=vt[ot][0],_t=vt[ot][1],dt.length=0,_t<=1?dt.push({s:pt.totalShapeLength*xt,e:pt.totalShapeLength*_t}):xt>=1?dt.push({s:pt.totalShapeLength*(xt-1),e:pt.totalShapeLength*(_t-1)}):(dt.push({s:pt.totalShapeLength*xt,e:pt.totalShapeLength}),dt.push({s:0,e:pt.totalShapeLength*(_t-1)}));var At=this.addShapes(pt,dt[0]);if(dt[0].s!==dt[0].e){if(dt.length>1)if(pt.shape.paths.shapes[pt.shape.paths._length-1].c){var Mt=At.pop();this.addPaths(At,gt),At=this.addShapes(pt,dt[1],Mt)}else this.addPaths(At,gt),At=this.addShapes(pt,dt[1]);this.addPaths(At,gt)}}pt.shape.paths=gt}}},TrimModifier.prototype.addPaths=function(et,_e){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)_e.addShape(et[tt])},TrimModifier.prototype.addSegment=function(et,_e,tt,nt,rt,it,st){rt.setXYAt(_e[0],_e[1],"o",it),rt.setXYAt(tt[0],tt[1],"i",it+1),st&&rt.setXYAt(et[0],et[1],"v",it),rt.setXYAt(nt[0],nt[1],"v",it+1)},TrimModifier.prototype.addSegmentFromArray=function(et,_e,tt,nt){_e.setXYAt(et[1],et[5],"o",tt),_e.setXYAt(et[2],et[6],"i",tt+1),nt&&_e.setXYAt(et[0],et[4],"v",tt),_e.setXYAt(et[3],et[7],"v",tt+1)},TrimModifier.prototype.addShapes=function(et,_e,tt){var nt,rt,it,st,ot,at,lt,ct,ut=et.pathsData,ft=et.shape.paths.shapes,ht=et.shape.paths._length,pt=0,gt=[],dt=!0;for(tt?(ot=tt._length,ct=tt._length):(tt=shapePool.newElement(),ot=0,ct=0),gt.push(tt),nt=0;nt<ht;nt+=1){for(at=ut[nt].lengths,tt.c=ft[nt].c,it=ft[nt].c?at.length:at.length+1,rt=1;rt<it;rt+=1)if(pt+(st=at[rt-1]).addedLength<_e.s)pt+=st.addedLength,tt.c=!1;else{if(pt>_e.e){tt.c=!1;break}_e.s<=pt&&_e.e>=pt+st.addedLength?(this.addSegment(ft[nt].v[rt-1],ft[nt].o[rt-1],ft[nt].i[rt],ft[nt].v[rt],tt,ot,dt),dt=!1):(lt=bez.getNewSegment(ft[nt].v[rt-1],ft[nt].v[rt],ft[nt].o[rt-1],ft[nt].i[rt],(_e.s-pt)/st.addedLength,(_e.e-pt)/st.addedLength,at[rt-1]),this.addSegmentFromArray(lt,tt,ot,dt),dt=!1,tt.c=!1),pt+=st.addedLength,ot+=1}if(ft[nt].c&&at.length){if(st=at[rt-1],pt<=_e.e){var vt=at[rt-1].addedLength;_e.s<=pt&&_e.e>=pt+vt?(this.addSegment(ft[nt].v[rt-1],ft[nt].o[rt-1],ft[nt].i[0],ft[nt].v[0],tt,ot,dt),dt=!1):(lt=bez.getNewSegment(ft[nt].v[rt-1],ft[nt].v[0],ft[nt].o[rt-1],ft[nt].i[0],(_e.s-pt)/vt,(_e.e-pt)/vt,at[rt-1]),this.addSegmentFromArray(lt,tt,ot,dt),dt=!1,tt.c=!1)}else tt.c=!1;pt+=st.addedLength,ot+=1}if(tt._length&&(tt.setXYAt(tt.v[ct][0],tt.v[ct][1],"i",ct),tt.setXYAt(tt.v[tt._length-1][0],tt.v[tt._length-1][1],"o",tt._length-1)),pt>_e.e)break;nt<ht-1&&(tt=shapePool.newElement(),dt=!0,gt.push(tt),ot=0)}return gt},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,_e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(et,_e){var tt=_e/100,nt=[0,0],rt=et._length,it=0;for(it=0;it<rt;it+=1)nt[0]+=et.v[it][0],nt[1]+=et.v[it][1];nt[0]/=rt,nt[1]/=rt;var st,ot,at,lt,ct,ut,ft=shapePool.newElement();for(ft.c=et.c,it=0;it<rt;it+=1)st=et.v[it][0]+(nt[0]-et.v[it][0])*tt,ot=et.v[it][1]+(nt[1]-et.v[it][1])*tt,at=et.o[it][0]+(nt[0]-et.o[it][0])*-tt,lt=et.o[it][1]+(nt[1]-et.o[it][1])*-tt,ct=et.i[it][0]+(nt[0]-et.i[it][0])*-tt,ut=et.i[it][1]+(nt[1]-et.i[it][1])*-tt,ft.setTripleAt(st,ot,at,lt,ct,ut,it);return ft},PuckerAndBloatModifier.prototype.processShapes=function(et){var _e,tt,nt,rt,it,st,ot=this.shapes.length,at=this.amount.v;if(at!==0)for(tt=0;tt<ot;tt+=1){if(st=(it=this.shapes[tt]).localShapeCollection,it.shape._mdf||this._mdf||et)for(st.releaseShapes(),it.shape._mdf=!0,_e=it.shape.paths.shapes,rt=it.shape.paths._length,nt=0;nt<rt;nt+=1)st.addShape(this.processPath(_e[nt],at));it.shape.paths=it.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var et=[0,0];function _e(tt,nt,rt){if(this.elem=tt,this.frameId=-1,this.propType="transform",this.data=nt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(rt||tt),nt.p&&nt.p.s?(this.px=PropertyFactory.getProp(tt,nt.p.x,0,0,this),this.py=PropertyFactory.getProp(tt,nt.p.y,0,0,this),nt.p.z&&(this.pz=PropertyFactory.getProp(tt,nt.p.z,0,0,this))):this.p=PropertyFactory.getProp(tt,nt.p||{k:[0,0,0]},1,0,this),nt.rx){if(this.rx=PropertyFactory.getProp(tt,nt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(tt,nt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(tt,nt.rz,0,degToRads,this),nt.or.k[0].ti){var it,st=nt.or.k.length;for(it=0;it<st;it+=1)nt.or.k[it].to=null,nt.or.k[it].ti=null}this.or=PropertyFactory.getProp(tt,nt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(tt,nt.r||{k:0},0,degToRads,this);nt.sk&&(this.sk=PropertyFactory.getProp(tt,nt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(tt,nt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(tt,nt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(tt,nt.s||{k:[100,100,100]},1,.01,this),nt.o?this.o=PropertyFactory.getProp(tt,nt.o,0,.01,tt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return _e.prototype={applyToMatrix:function(tt){var nt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||nt,this.a&&tt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&tt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&tt.skewFromAxis(-this.sk.v,this.sa.v),this.r?tt.rotate(-this.r.v):tt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?tt.translate(this.px.v,this.py.v,-this.pz.v):tt.translate(this.px.v,this.py.v,0):tt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(tt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||tt){var nt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var rt,it;if(nt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(rt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/nt,0),it=this.p.getValueAtTime(this.p.keyframes[0].t/nt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(rt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/nt,0),it=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/nt,0)):(rt=this.p.pv,it=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/nt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){rt=[],it=[];var st=this.px,ot=this.py;st._caching.lastFrame+st.offsetTime<=st.keyframes[0].t?(rt[0]=st.getValueAtTime((st.keyframes[0].t+.01)/nt,0),rt[1]=ot.getValueAtTime((ot.keyframes[0].t+.01)/nt,0),it[0]=st.getValueAtTime(st.keyframes[0].t/nt,0),it[1]=ot.getValueAtTime(ot.keyframes[0].t/nt,0)):st._caching.lastFrame+st.offsetTime>=st.keyframes[st.keyframes.length-1].t?(rt[0]=st.getValueAtTime(st.keyframes[st.keyframes.length-1].t/nt,0),rt[1]=ot.getValueAtTime(ot.keyframes[ot.keyframes.length-1].t/nt,0),it[0]=st.getValueAtTime((st.keyframes[st.keyframes.length-1].t-.01)/nt,0),it[1]=ot.getValueAtTime((ot.keyframes[ot.keyframes.length-1].t-.01)/nt,0)):(rt=[st.pv,ot.pv],it[0]=st.getValueAtTime((st._caching.lastFrame+st.offsetTime-.01)/nt,st.offsetTime),it[1]=ot.getValueAtTime((ot._caching.lastFrame+ot.offsetTime-.01)/nt,ot.offsetTime))}else rt=it=et;this.v.rotate(-Math.atan2(rt[1]-it[1],rt[0]-it[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],_e),_e.prototype.addDynamicProperty=function(tt){this._addDynamicProperty(tt),this.elem.addDynamicProperty(tt),this._isDirty=!0},_e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(tt,nt,rt){return new _e(tt,nt,rt)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(et){for(var _e=et.fStyle?et.fStyle.split(" "):[],tt="normal",nt="normal",rt=_e.length,it=0;it<rt;it+=1)switch(_e[it].toLowerCase()){case"italic":nt="italic";break;case"bold":tt="700";break;case"black":tt="900";break;case"medium":tt="500";break;case"regular":case"normal":tt="400";break;case"light":case"thin":tt="200"}return{style:nt,weight:et.fWeight||tt}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(et,_e.c,0,null,this),this.o=PropertyFactory.getProp(et,_e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(et,_e.tr,this),this.so=PropertyFactory.getProp(et,_e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(et,_e.tr.eo,0,.01,this),this.data=_e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(et,_e,tt,nt,rt,it){var st=it?-1:1,ot=nt.s.v[0]+(1-nt.s.v[0])*(1-rt),at=nt.s.v[1]+(1-nt.s.v[1])*(1-rt);et.translate(nt.p.v[0]*st*rt,nt.p.v[1]*st*rt,nt.p.v[2]),_e.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),_e.rotate(-nt.r.v*st*rt),_e.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2]),tt.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),tt.scale(it?1/ot:ot,it?1/at:at),tt.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])},RepeaterModifier.prototype.init=function(et,_e,tt,nt){for(this.elem=et,this.arr=_e,this.pos=tt,this.elemsData=nt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,_e[tt]);tt>0;)tt-=1,this._elements.unshift(_e[tt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)et[_e]._processed=!1,et[_e].ty==="gr"&&this.resetElements(et[_e].it)},RepeaterModifier.prototype.cloneElements=function(et){var _e=JSON.parse(JSON.stringify(et));return this.resetElements(_e),_e},RepeaterModifier.prototype.changeGroupRender=function(et,_e){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)et[tt]._render=_e,et[tt].ty==="gr"&&this.changeGroupRender(et[tt].it,_e)},RepeaterModifier.prototype.processShapes=function(et){var _e,tt,nt,rt,it,st=!1;if(this._mdf||et){var ot,at=Math.ceil(this.c.v);if(this._groups.length<at){for(;this._groups.length<at;){var lt={it:this.cloneElements(this._elements),ty:"gr"};lt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,lt),this._groups.splice(0,0,lt),this._currentCopies+=1}this.elem.reloadShapes(),st=!0}for(it=0,nt=0;nt<=this._groups.length-1;nt+=1){if(ot=it<at,this._groups[nt]._render=ot,this.changeGroupRender(this._groups[nt].it,ot),!ot){var ct=this.elemsData[nt].it,ut=ct[ct.length-1];ut.transform.op.v!==0?(ut.transform.op._mdf=!0,ut.transform.op.v=0):ut.transform.op._mdf=!1}it+=1}this._currentCopies=at;var ft=this.o.v,ht=ft%1,pt=ft>0?Math.floor(ft):Math.ceil(ft),gt=this.pMatrix.props,dt=this.rMatrix.props,vt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var xt,_t,bt=0;if(ft>0){for(;bt<pt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),bt+=1;ht&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ht,!1),bt+=ht)}else if(ft<0){for(;bt>pt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),bt-=1;ht&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ht,!0),bt-=ht)}for(nt=this.data.m===1?0:this._currentCopies-1,rt=this.data.m===1?1:-1,it=this._currentCopies;it;){if(_t=(tt=(_e=this.elemsData[nt].it)[_e.length-1].transform.mProps.v.props).length,_e[_e.length-1].transform.mProps._mdf=!0,_e[_e.length-1].transform.op._mdf=!0,_e[_e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(nt/(this._currentCopies-1)),bt!==0){for((nt!==0&&rt===1||nt!==this._currentCopies-1&&rt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5],dt[6],dt[7],dt[8],dt[9],dt[10],dt[11],dt[12],dt[13],dt[14],dt[15]),this.matrix.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15]),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),xt=0;xt<_t;xt+=1)tt[xt]=this.matrix.props[xt];this.matrix.reset()}else for(this.matrix.reset(),xt=0;xt<_t;xt+=1)tt[xt]=this.matrix.props[xt];bt+=1,it-=1,nt+=rt}}else for(it=this._currentCopies,nt=0,rt=1;it;)tt=(_e=this.elemsData[nt].it)[_e.length-1].transform.mProps.v.props,_e[_e.length-1].transform.mProps._mdf=!1,_e[_e.length-1].transform.op._mdf=!1,it-=1,nt+=rt;return st},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(et,_e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(et,_e){var tt,nt=shapePool.newElement();nt.c=et.c;var rt,it,st,ot,at,lt,ct,ut,ft,ht,pt,gt,dt=et._length,vt=0;for(tt=0;tt<dt;tt+=1)rt=et.v[tt],st=et.o[tt],it=et.i[tt],rt[0]===st[0]&&rt[1]===st[1]&&rt[0]===it[0]&&rt[1]===it[1]?tt!==0&&tt!==dt-1||et.c?(ot=tt===0?et.v[dt-1]:et.v[tt-1],lt=(at=Math.sqrt(Math.pow(rt[0]-ot[0],2)+Math.pow(rt[1]-ot[1],2)))?Math.min(at/2,_e)/at:0,ct=pt=rt[0]+(ot[0]-rt[0])*lt,ut=gt=rt[1]-(rt[1]-ot[1])*lt,ft=ct-(ct-rt[0])*roundCorner,ht=ut-(ut-rt[1])*roundCorner,nt.setTripleAt(ct,ut,ft,ht,pt,gt,vt),vt+=1,ot=tt===dt-1?et.v[0]:et.v[tt+1],lt=(at=Math.sqrt(Math.pow(rt[0]-ot[0],2)+Math.pow(rt[1]-ot[1],2)))?Math.min(at/2,_e)/at:0,ct=ft=rt[0]+(ot[0]-rt[0])*lt,ut=ht=rt[1]+(ot[1]-rt[1])*lt,pt=ct-(ct-rt[0])*roundCorner,gt=ut-(ut-rt[1])*roundCorner,nt.setTripleAt(ct,ut,ft,ht,pt,gt,vt),vt+=1):(nt.setTripleAt(rt[0],rt[1],st[0],st[1],it[0],it[1],vt),vt+=1):(nt.setTripleAt(et.v[tt][0],et.v[tt][1],et.o[tt][0],et.o[tt][1],et.i[tt][0],et.i[tt][1],vt),vt+=1);return nt},RoundCornersModifier.prototype.processShapes=function(et){var _e,tt,nt,rt,it,st,ot=this.shapes.length,at=this.rd.v;if(at!==0)for(tt=0;tt<ot;tt+=1){if(st=(it=this.shapes[tt]).localShapeCollection,it.shape._mdf||this._mdf||et)for(st.releaseShapes(),it.shape._mdf=!0,_e=it.shape.paths.shapes,rt=it.shape.paths._length,nt=0;nt<rt;nt+=1)st.addShape(this.processPath(_e[nt],at));it.shape.paths=it.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var et={w:0,size:0,shapes:[],data:{shapes:[]}},_e=[];_e=_e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var tt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],nt=[65039,8205];function rt(ot,at){var lt=createTag("span");lt.setAttribute("aria-hidden",!0),lt.style.fontFamily=at;var ct=createTag("span");ct.innerText="giItT1WQy@!-/#",lt.style.position="absolute",lt.style.left="-10000px",lt.style.top="-10000px",lt.style.fontSize="300px",lt.style.fontVariant="normal",lt.style.fontStyle="normal",lt.style.fontWeight="normal",lt.style.letterSpacing="0",lt.appendChild(ct),document.body.appendChild(lt);var ut=ct.offsetWidth;return ct.style.fontFamily=function(ft){var ht,pt=ft.split(","),gt=pt.length,dt=[];for(ht=0;ht<gt;ht+=1)pt[ht]!=="sans-serif"&&pt[ht]!=="monospace"&&dt.push(pt[ht]);return dt.join(",")}(ot)+", "+at,{node:ct,w:ut,parent:lt}}function it(ot,at){var lt=createNS("text");lt.style.fontSize="100px";var ct=getFontProperties(at);return lt.setAttribute("font-family",at.fFamily),lt.setAttribute("font-style",ct.style),lt.setAttribute("font-weight",ct.weight),lt.textContent="1",at.fClass?(lt.style.fontFamily="inherit",lt.setAttribute("class",at.fClass)):lt.style.fontFamily=at.fFamily,ot.appendChild(lt),createTag("canvas").getContext("2d").font=at.fWeight+" "+at.fStyle+" 100px "+at.fFamily,lt}var st=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return st.isModifier=function(ot,at){var lt=ot.toString(16)+at.toString(16);return tt.indexOf(lt)!==-1},st.isZeroWidthJoiner=function(ot,at){return at?ot===nt[0]&&at===nt[1]:ot===nt[1]},st.isCombinedCharacter=function(ot){return _e.indexOf(ot)!==-1},st.prototype={addChars:function(ot){if(ot){var at;this.chars||(this.chars=[]);var lt,ct,ut=ot.length,ft=this.chars.length;for(at=0;at<ut;at+=1){for(lt=0,ct=!1;lt<ft;)this.chars[lt].style===ot[at].style&&this.chars[lt].fFamily===ot[at].fFamily&&this.chars[lt].ch===ot[at].ch&&(ct=!0),lt+=1;ct||(this.chars.push(ot[at]),ft+=1)}}},addFonts:function(ot,at){if(ot){if(this.chars)return this.isLoaded=!0,void(this.fonts=ot.list);var lt,ct=ot.list,ut=ct.length,ft=ut;for(lt=0;lt<ut;lt+=1){var ht,pt,gt=!0;if(ct[lt].loaded=!1,ct[lt].monoCase=rt(ct[lt].fFamily,"monospace"),ct[lt].sansCase=rt(ct[lt].fFamily,"sans-serif"),ct[lt].fPath){if(ct[lt].fOrigin==="p"||ct[lt].origin===3){if((ht=document.querySelectorAll('style[f-forigin="p"][f-family="'+ct[lt].fFamily+'"], style[f-origin="3"][f-family="'+ct[lt].fFamily+'"]')).length>0&&(gt=!1),gt){var dt=createTag("style");dt.setAttribute("f-forigin",ct[lt].fOrigin),dt.setAttribute("f-origin",ct[lt].origin),dt.setAttribute("f-family",ct[lt].fFamily),dt.type="text/css",dt.innerText="@font-face {font-family: "+ct[lt].fFamily+"; font-style: normal; src: url('"+ct[lt].fPath+"');}",at.appendChild(dt)}}else if(ct[lt].fOrigin==="g"||ct[lt].origin===1){for(ht=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),pt=0;pt<ht.length;pt+=1)ht[pt].href.indexOf(ct[lt].fPath)!==-1&&(gt=!1);if(gt){var vt=createTag("link");vt.setAttribute("f-forigin",ct[lt].fOrigin),vt.setAttribute("f-origin",ct[lt].origin),vt.type="text/css",vt.rel="stylesheet",vt.href=ct[lt].fPath,document.body.appendChild(vt)}}else if(ct[lt].fOrigin==="t"||ct[lt].origin===2){for(ht=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),pt=0;pt<ht.length;pt+=1)ct[lt].fPath===ht[pt].src&&(gt=!1);if(gt){var xt=createTag("link");xt.setAttribute("f-forigin",ct[lt].fOrigin),xt.setAttribute("f-origin",ct[lt].origin),xt.setAttribute("rel","stylesheet"),xt.setAttribute("href",ct[lt].fPath),at.appendChild(xt)}}}else ct[lt].loaded=!0,ft-=1;ct[lt].helper=it(at,ct[lt]),ct[lt].cache={},this.fonts.push(ct[lt])}ft===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(ot,at,lt){for(var ct=0,ut=this.chars.length;ct<ut;){if(this.chars[ct].ch===ot&&this.chars[ct].style===at&&this.chars[ct].fFamily===lt)return this.chars[ct];ct+=1}return(typeof ot=="string"&&ot.charCodeAt(0)!==13||!ot)&&console&&console.warn&&!this._warned&&(this._warned=!0),et},getFontByName:function(ot){for(var at=0,lt=this.fonts.length;at<lt;){if(this.fonts[at].fName===ot)return this.fonts[at];at+=1}return this.fonts[0]},measureText:function(ot,at,lt){var ct=this.getFontByName(at),ut=ot.charCodeAt(0);if(!ct.cache[ut+1]){var ft=ct.helper;if(ot===" "){ft.textContent="|"+ot+"|";var ht=ft.getComputedTextLength();ft.textContent="||";var pt=ft.getComputedTextLength();ct.cache[ut+1]=(ht-pt)/100}else ft.textContent=ot,ct.cache[ut+1]=ft.getComputedTextLength()/100}return ct.cache[ut+1]*lt},checkLoadedFonts:function(){var ot,at,lt,ct=this.fonts.length,ut=ct;for(ot=0;ot<ct;ot+=1)this.fonts[ot].loaded?ut-=1:this.fonts[ot].fOrigin==="n"||this.fonts[ot].origin===0?this.fonts[ot].loaded=!0:(at=this.fonts[ot].monoCase.node,lt=this.fonts[ot].monoCase.w,at.offsetWidth!==lt?(ut-=1,this.fonts[ot].loaded=!0):(at=this.fonts[ot].sansCase.node,lt=this.fonts[ot].sansCase.w,at.offsetWidth!==lt&&(ut-=1,this.fonts[ot].loaded=!0)),this.fonts[ot].loaded&&(this.fonts[ot].sansCase.parent.parentNode.removeChild(this.fonts[ot].sansCase.parent),this.fonts[ot].monoCase.parent.parentNode.removeChild(this.fonts[ot].monoCase.parent)));ut!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},st}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(et){this.renderableComponents.indexOf(et)===-1&&this.renderableComponents.push(et)},removeRenderableComponent:function(et){this.renderableComponents.indexOf(et)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(et),1)},prepareRenderableFrame:function(et){this.checkLayerLimits(et)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(et){this.data.ip-this.data.st<=et&&this.data.op-this.data.st>et?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var et,_e=this.renderableComponents.length;for(et=0;et<_e;et+=1)this.renderableComponents[et].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function et(_e,tt){this._mask=_e,this._data=tt}return Object.defineProperty(et.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(et.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(_e){var tt,nt=createSizedArray(_e.viewData.length),rt=_e.viewData.length;for(tt=0;tt<rt;tt+=1)nt[tt]=new et(_e.viewData[tt],_e.masksProperties[tt]);return function(it){for(tt=0;tt<rt;){if(_e.masksProperties[tt].nm===it)return nt[tt];tt+=1}return null}}}(),ExpressionPropertyInterface=function(){var et={pv:0,v:0,mult:1},_e={pv:[0,0,0],v:[0,0,0],mult:1};function tt(rt,it,st){Object.defineProperty(rt,"velocity",{get:function(){return it.getVelocityAtTime(it.comp.currentFrame)}}),rt.numKeys=it.keyframes?it.keyframes.length:0,rt.key=function(ot){if(!rt.numKeys)return 0;var at="";at="s"in it.keyframes[ot-1]?it.keyframes[ot-1].s:"e"in it.keyframes[ot-2]?it.keyframes[ot-2].e:it.keyframes[ot-2].s;var lt=st==="unidimensional"?new Number(at):Object.assign({},at);return lt.time=it.keyframes[ot-1].t/it.elem.comp.globalData.frameRate,lt.value=st==="unidimensional"?at[0]:at,lt},rt.valueAtTime=it.getValueAtTime,rt.speedAtTime=it.getSpeedAtTime,rt.velocityAtTime=it.getVelocityAtTime,rt.propertyGroup=it.propertyGroup}function nt(){return et}return function(rt){return rt?rt.propType==="unidimensional"?function(it){it&&"pv"in it||(it=et);var st=1/it.mult,ot=it.pv*st,at=new Number(ot);return at.value=ot,tt(at,it,"unidimensional"),function(){return it.k&&it.getValue(),ot=it.v*st,at.value!==ot&&((at=new Number(ot)).value=ot,tt(at,it,"unidimensional")),at}}(rt):function(it){it&&"pv"in it||(it=_e);var st=1/it.mult,ot=it.data&&it.data.l||it.pv.length,at=createTypedArray("float32",ot),lt=createTypedArray("float32",ot);return at.value=lt,tt(at,it,"multidimensional"),function(){it.k&&it.getValue();for(var ct=0;ct<ot;ct+=1)lt[ct]=it.v[ct]*st,at[ct]=lt[ct];return at}}(rt):nt}}(),TransformExpressionInterface=function(et){function _e(st){switch(st){case"scale":case"Scale":case"ADBE Scale":case 6:return _e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _e.rotation;case"ADBE Rotate X":return _e.xRotation;case"ADBE Rotate Y":return _e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _e.position;case"ADBE Position_0":return _e.xPosition;case"ADBE Position_1":return _e.yPosition;case"ADBE Position_2":return _e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _e.anchorPoint;case"opacity":case"Opacity":case 11:return _e.opacity;default:return null}}var tt,nt,rt,it;return Object.defineProperty(_e,"rotation",{get:ExpressionPropertyInterface(et.r||et.rz)}),Object.defineProperty(_e,"zRotation",{get:ExpressionPropertyInterface(et.rz||et.r)}),Object.defineProperty(_e,"xRotation",{get:ExpressionPropertyInterface(et.rx)}),Object.defineProperty(_e,"yRotation",{get:ExpressionPropertyInterface(et.ry)}),Object.defineProperty(_e,"scale",{get:ExpressionPropertyInterface(et.s)}),et.p?it=ExpressionPropertyInterface(et.p):(tt=ExpressionPropertyInterface(et.px),nt=ExpressionPropertyInterface(et.py),et.pz&&(rt=ExpressionPropertyInterface(et.pz))),Object.defineProperty(_e,"position",{get:function(){return et.p?it():[tt(),nt(),rt?rt():0]}}),Object.defineProperty(_e,"xPosition",{get:ExpressionPropertyInterface(et.px)}),Object.defineProperty(_e,"yPosition",{get:ExpressionPropertyInterface(et.py)}),Object.defineProperty(_e,"zPosition",{get:ExpressionPropertyInterface(et.pz)}),Object.defineProperty(_e,"anchorPoint",{get:ExpressionPropertyInterface(et.a)}),Object.defineProperty(_e,"opacity",{get:ExpressionPropertyInterface(et.o)}),Object.defineProperty(_e,"skew",{get:ExpressionPropertyInterface(et.sk)}),Object.defineProperty(_e,"skewAxis",{get:ExpressionPropertyInterface(et.sa)}),Object.defineProperty(_e,"orientation",{get:ExpressionPropertyInterface(et.or)}),_e},LayerExpressionInterface=function(){function et(lt){var ct=new Matrix;return lt!==void 0?this._elem.finalTransform.mProp.getValueAtTime(lt).clone(ct):this._elem.finalTransform.mProp.applyToMatrix(ct),ct}function _e(lt,ct){var ut=this.getMatrix(ct);return ut.props[12]=0,ut.props[13]=0,ut.props[14]=0,this.applyPoint(ut,lt)}function tt(lt,ct){var ut=this.getMatrix(ct);return this.applyPoint(ut,lt)}function nt(lt,ct){var ut=this.getMatrix(ct);return ut.props[12]=0,ut.props[13]=0,ut.props[14]=0,this.invertPoint(ut,lt)}function rt(lt,ct){var ut=this.getMatrix(ct);return this.invertPoint(ut,lt)}function it(lt,ct){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ut,ft=this._elem.hierarchy.length;for(ut=0;ut<ft;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(lt)}return lt.applyToPointArray(ct[0],ct[1],ct[2]||0)}function st(lt,ct){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ut,ft=this._elem.hierarchy.length;for(ut=0;ut<ft;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(lt)}return lt.inversePoint(ct)}function ot(lt){var ct=new Matrix;if(ct.reset(),this._elem.finalTransform.mProp.applyToMatrix(ct),this._elem.hierarchy&&this._elem.hierarchy.length){var ut,ft=this._elem.hierarchy.length;for(ut=0;ut<ft;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(ct);return ct.inversePoint(lt)}return ct.inversePoint(lt)}function at(){return[1,1,1,1]}return function(lt){var ct;function ut(ht){switch(ht){case"ADBE Root Vectors Group":case"Contents":case 2:return ut.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ct;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ut.effect;case"ADBE Text Properties":return ut.textInterface;default:return null}}ut.getMatrix=et,ut.invertPoint=st,ut.applyPoint=it,ut.toWorld=tt,ut.toWorldVec=_e,ut.fromWorld=rt,ut.fromWorldVec=nt,ut.toComp=tt,ut.fromComp=ot,ut.sampleImage=at,ut.sourceRectAtTime=lt.sourceRectAtTime.bind(lt),ut._elem=lt;var ft=getDescriptor(ct=TransformExpressionInterface(lt.finalTransform.mProp),"anchorPoint");return Object.defineProperties(ut,{hasParent:{get:function(){return lt.hierarchy.length}},parent:{get:function(){return lt.hierarchy[0].layerInterface}},rotation:getDescriptor(ct,"rotation"),scale:getDescriptor(ct,"scale"),position:getDescriptor(ct,"position"),opacity:getDescriptor(ct,"opacity"),anchorPoint:ft,anchor_point:ft,transform:{get:function(){return ct}},active:{get:function(){return lt.isInRange}}}),ut.startTime=lt.data.st,ut.index=lt.data.ind,ut.source=lt.data.refId,ut.height=lt.data.ty===0?lt.data.h:100,ut.width=lt.data.ty===0?lt.data.w:100,ut.inPoint=lt.data.ip/lt.comp.globalData.frameRate,ut.outPoint=lt.data.op/lt.comp.globalData.frameRate,ut._name=lt.data.nm,ut.registerMaskInterface=function(ht){ut.mask=new MaskManagerInterface(ht,lt)},ut.registerEffectsInterface=function(ht){ut.effect=ht},ut}}(),propertyGroupFactory=function(et,_e){return function(tt){return(tt=tt===void 0?1:tt)<=0?et:_e(tt-1)}},PropertyInterface=function(et,_e){var tt={_name:et};return function(nt){return(nt=nt===void 0?1:nt)<=0?tt:_e(nt-1)}},EffectsExpressionInterface=function(){function et(tt,nt,rt,it){function st(ut){for(var ft=tt.ef,ht=0,pt=ft.length;ht<pt;){if(ut===ft[ht].nm||ut===ft[ht].mn||ut===ft[ht].ix)return ft[ht].ty===5?lt[ht]:lt[ht]();ht+=1}throw new Error}var ot,at=propertyGroupFactory(st,rt),lt=[],ct=tt.ef.length;for(ot=0;ot<ct;ot+=1)tt.ef[ot].ty===5?lt.push(et(tt.ef[ot],nt.effectElements[ot],nt.effectElements[ot].propertyGroup,it)):lt.push(_e(nt.effectElements[ot],tt.ef[ot].ty,it,at));return tt.mn==="ADBE Color Control"&&Object.defineProperty(st,"color",{get:function(){return lt[0]()}}),Object.defineProperties(st,{numProperties:{get:function(){return tt.np}},_name:{value:tt.nm},propertyGroup:{value:at}}),st.enabled=tt.en!==0,st.active=st.enabled,st}function _e(tt,nt,rt,it){var st=ExpressionPropertyInterface(tt.p);return tt.p.setGroupProperty&&tt.p.setGroupProperty(PropertyInterface("",it)),function(){return nt===10?rt.comp.compInterface(tt.p.v):st()}}return{createEffectsInterface:function(tt,nt){if(tt.effectsManager){var rt,it=[],st=tt.data.ef,ot=tt.effectsManager.effectElements.length;for(rt=0;rt<ot;rt+=1)it.push(et(st[rt],tt.effectsManager.effectElements[rt],nt,tt));var at=tt.data.ef||[],lt=function(ct){for(rt=0,ot=at.length;rt<ot;){if(ct===at[rt].nm||ct===at[rt].mn||ct===at[rt].ix)return it[rt];rt+=1}return null};return Object.defineProperty(lt,"numProperties",{get:function(){return at.length}}),lt}return null}}}(),CompExpressionInterface=function(et){function _e(tt){for(var nt=0,rt=et.layers.length;nt<rt;){if(et.layers[nt].nm===tt||et.layers[nt].ind===tt)return et.elements[nt].layerInterface;nt+=1}return null}return Object.defineProperty(_e,"_name",{value:et.data.nm}),_e.layer=_e,_e.pixelAspect=1,_e.height=et.data.h||et.globalData.compSize.h,_e.width=et.data.w||et.globalData.compSize.w,_e.pixelAspect=1,_e.frameDuration=1/et.globalData.frameRate,_e.displayStartTime=0,_e.numLayers=et.layers.length,_e},ShapePathInterface=function(et,_e,tt){var nt=_e.sh;function rt(st){return st==="Shape"||st==="shape"||st==="Path"||st==="path"||st==="ADBE Vector Shape"||st===2?rt.path:null}var it=propertyGroupFactory(rt,tt);return nt.setGroupProperty(PropertyInterface("Path",it)),Object.defineProperties(rt,{path:{get:function(){return nt.k&&nt.getValue(),nt}},shape:{get:function(){return nt.k&&nt.getValue(),nt}},_name:{value:et.nm},ix:{value:et.ix},propertyIndex:{value:et.ix},mn:{value:et.mn},propertyGroup:{value:tt}}),rt},ShapeExpressionInterface=function(){function et(ht,pt,gt){var dt,vt=[],xt=ht?ht.length:0;for(dt=0;dt<xt;dt+=1)ht[dt].ty==="gr"?vt.push(_e(ht[dt],pt[dt],gt)):ht[dt].ty==="fl"?vt.push(tt(ht[dt],pt[dt],gt)):ht[dt].ty==="st"?vt.push(it(ht[dt],pt[dt],gt)):ht[dt].ty==="tm"?vt.push(st(ht[dt],pt[dt],gt)):ht[dt].ty==="tr"||(ht[dt].ty==="el"?vt.push(at(ht[dt],pt[dt],gt)):ht[dt].ty==="sr"?vt.push(lt(ht[dt],pt[dt],gt)):ht[dt].ty==="sh"?vt.push(ShapePathInterface(ht[dt],pt[dt],gt)):ht[dt].ty==="rc"?vt.push(ct(ht[dt],pt[dt],gt)):ht[dt].ty==="rd"?vt.push(ut(ht[dt],pt[dt],gt)):ht[dt].ty==="rp"?vt.push(ft(ht[dt],pt[dt],gt)):ht[dt].ty==="gf"?vt.push(nt(ht[dt],pt[dt],gt)):vt.push(rt(ht[dt],pt[dt])));return vt}function _e(ht,pt,gt){var dt=function(_t){switch(_t){case"ADBE Vectors Group":case"Contents":case 2:return dt.content;default:return dt.transform}};dt.propertyGroup=propertyGroupFactory(dt,gt);var vt=function(_t,bt,At){var Mt,Tt=function(Ct){for(var Et=0,Rt=Mt.length;Et<Rt;){if(Mt[Et]._name===Ct||Mt[Et].mn===Ct||Mt[Et].propertyIndex===Ct||Mt[Et].ix===Ct||Mt[Et].ind===Ct)return Mt[Et];Et+=1}return typeof Ct=="number"?Mt[Ct-1]:null};Tt.propertyGroup=propertyGroupFactory(Tt,At),Mt=et(_t.it,bt.it,Tt.propertyGroup),Tt.numProperties=Mt.length;var St=ot(_t.it[_t.it.length-1],bt.it[bt.it.length-1],Tt.propertyGroup);return Tt.transform=St,Tt.propertyIndex=_t.cix,Tt._name=_t.nm,Tt}(ht,pt,dt.propertyGroup),xt=ot(ht.it[ht.it.length-1],pt.it[pt.it.length-1],dt.propertyGroup);return dt.content=vt,dt.transform=xt,Object.defineProperty(dt,"_name",{get:function(){return ht.nm}}),dt.numProperties=ht.np,dt.propertyIndex=ht.ix,dt.nm=ht.nm,dt.mn=ht.mn,dt}function tt(ht,pt,gt){function dt(vt){return vt==="Color"||vt==="color"?dt.color:vt==="Opacity"||vt==="opacity"?dt.opacity:null}return Object.defineProperties(dt,{color:{get:ExpressionPropertyInterface(pt.c)},opacity:{get:ExpressionPropertyInterface(pt.o)},_name:{value:ht.nm},mn:{value:ht.mn}}),pt.c.setGroupProperty(PropertyInterface("Color",gt)),pt.o.setGroupProperty(PropertyInterface("Opacity",gt)),dt}function nt(ht,pt,gt){function dt(vt){return vt==="Start Point"||vt==="start point"?dt.startPoint:vt==="End Point"||vt==="end point"?dt.endPoint:vt==="Opacity"||vt==="opacity"?dt.opacity:null}return Object.defineProperties(dt,{startPoint:{get:ExpressionPropertyInterface(pt.s)},endPoint:{get:ExpressionPropertyInterface(pt.e)},opacity:{get:ExpressionPropertyInterface(pt.o)},type:{get:function(){return"a"}},_name:{value:ht.nm},mn:{value:ht.mn}}),pt.s.setGroupProperty(PropertyInterface("Start Point",gt)),pt.e.setGroupProperty(PropertyInterface("End Point",gt)),pt.o.setGroupProperty(PropertyInterface("Opacity",gt)),dt}function rt(){return function(){return null}}function it(ht,pt,gt){var dt,vt=propertyGroupFactory(Mt,gt),xt=propertyGroupFactory(At,vt);function _t(Tt){Object.defineProperty(At,ht.d[Tt].nm,{get:ExpressionPropertyInterface(pt.d.dataProps[Tt].p)})}var bt=ht.d?ht.d.length:0,At={};for(dt=0;dt<bt;dt+=1)_t(dt),pt.d.dataProps[dt].p.setGroupProperty(xt);function Mt(Tt){return Tt==="Color"||Tt==="color"?Mt.color:Tt==="Opacity"||Tt==="opacity"?Mt.opacity:Tt==="Stroke Width"||Tt==="stroke width"?Mt.strokeWidth:null}return Object.defineProperties(Mt,{color:{get:ExpressionPropertyInterface(pt.c)},opacity:{get:ExpressionPropertyInterface(pt.o)},strokeWidth:{get:ExpressionPropertyInterface(pt.w)},dash:{get:function(){return At}},_name:{value:ht.nm},mn:{value:ht.mn}}),pt.c.setGroupProperty(PropertyInterface("Color",vt)),pt.o.setGroupProperty(PropertyInterface("Opacity",vt)),pt.w.setGroupProperty(PropertyInterface("Stroke Width",vt)),Mt}function st(ht,pt,gt){function dt(xt){return xt===ht.e.ix||xt==="End"||xt==="end"?dt.end:xt===ht.s.ix?dt.start:xt===ht.o.ix?dt.offset:null}var vt=propertyGroupFactory(dt,gt);return dt.propertyIndex=ht.ix,pt.s.setGroupProperty(PropertyInterface("Start",vt)),pt.e.setGroupProperty(PropertyInterface("End",vt)),pt.o.setGroupProperty(PropertyInterface("Offset",vt)),dt.propertyIndex=ht.ix,dt.propertyGroup=gt,Object.defineProperties(dt,{start:{get:ExpressionPropertyInterface(pt.s)},end:{get:ExpressionPropertyInterface(pt.e)},offset:{get:ExpressionPropertyInterface(pt.o)},_name:{value:ht.nm}}),dt.mn=ht.mn,dt}function ot(ht,pt,gt){function dt(xt){return ht.a.ix===xt||xt==="Anchor Point"?dt.anchorPoint:ht.o.ix===xt||xt==="Opacity"?dt.opacity:ht.p.ix===xt||xt==="Position"?dt.position:ht.r.ix===xt||xt==="Rotation"||xt==="ADBE Vector Rotation"?dt.rotation:ht.s.ix===xt||xt==="Scale"?dt.scale:ht.sk&&ht.sk.ix===xt||xt==="Skew"?dt.skew:ht.sa&&ht.sa.ix===xt||xt==="Skew Axis"?dt.skewAxis:null}var vt=propertyGroupFactory(dt,gt);return pt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",vt)),pt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",vt)),pt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",vt)),pt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",vt)),pt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",vt)),pt.transform.mProps.sk&&(pt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",vt)),pt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",vt))),pt.transform.op.setGroupProperty(PropertyInterface("Opacity",vt)),Object.defineProperties(dt,{opacity:{get:ExpressionPropertyInterface(pt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(pt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(pt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(pt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(pt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(pt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(pt.transform.mProps.sa)},_name:{value:ht.nm}}),dt.ty="tr",dt.mn=ht.mn,dt.propertyGroup=gt,dt}function at(ht,pt,gt){function dt(_t){return ht.p.ix===_t?dt.position:ht.s.ix===_t?dt.size:null}var vt=propertyGroupFactory(dt,gt);dt.propertyIndex=ht.ix;var xt=pt.sh.ty==="tm"?pt.sh.prop:pt.sh;return xt.s.setGroupProperty(PropertyInterface("Size",vt)),xt.p.setGroupProperty(PropertyInterface("Position",vt)),Object.defineProperties(dt,{size:{get:ExpressionPropertyInterface(xt.s)},position:{get:ExpressionPropertyInterface(xt.p)},_name:{value:ht.nm}}),dt.mn=ht.mn,dt}function lt(ht,pt,gt){function dt(_t){return ht.p.ix===_t?dt.position:ht.r.ix===_t?dt.rotation:ht.pt.ix===_t?dt.points:ht.or.ix===_t||_t==="ADBE Vector Star Outer Radius"?dt.outerRadius:ht.os.ix===_t?dt.outerRoundness:!ht.ir||ht.ir.ix!==_t&&_t!=="ADBE Vector Star Inner Radius"?ht.is&&ht.is.ix===_t?dt.innerRoundness:null:dt.innerRadius}var vt=propertyGroupFactory(dt,gt),xt=pt.sh.ty==="tm"?pt.sh.prop:pt.sh;return dt.propertyIndex=ht.ix,xt.or.setGroupProperty(PropertyInterface("Outer Radius",vt)),xt.os.setGroupProperty(PropertyInterface("Outer Roundness",vt)),xt.pt.setGroupProperty(PropertyInterface("Points",vt)),xt.p.setGroupProperty(PropertyInterface("Position",vt)),xt.r.setGroupProperty(PropertyInterface("Rotation",vt)),ht.ir&&(xt.ir.setGroupProperty(PropertyInterface("Inner Radius",vt)),xt.is.setGroupProperty(PropertyInterface("Inner Roundness",vt))),Object.defineProperties(dt,{position:{get:ExpressionPropertyInterface(xt.p)},rotation:{get:ExpressionPropertyInterface(xt.r)},points:{get:ExpressionPropertyInterface(xt.pt)},outerRadius:{get:ExpressionPropertyInterface(xt.or)},outerRoundness:{get:ExpressionPropertyInterface(xt.os)},innerRadius:{get:ExpressionPropertyInterface(xt.ir)},innerRoundness:{get:ExpressionPropertyInterface(xt.is)},_name:{value:ht.nm}}),dt.mn=ht.mn,dt}function ct(ht,pt,gt){function dt(_t){return ht.p.ix===_t?dt.position:ht.r.ix===_t?dt.roundness:ht.s.ix===_t||_t==="Size"||_t==="ADBE Vector Rect Size"?dt.size:null}var vt=propertyGroupFactory(dt,gt),xt=pt.sh.ty==="tm"?pt.sh.prop:pt.sh;return dt.propertyIndex=ht.ix,xt.p.setGroupProperty(PropertyInterface("Position",vt)),xt.s.setGroupProperty(PropertyInterface("Size",vt)),xt.r.setGroupProperty(PropertyInterface("Rotation",vt)),Object.defineProperties(dt,{position:{get:ExpressionPropertyInterface(xt.p)},roundness:{get:ExpressionPropertyInterface(xt.r)},size:{get:ExpressionPropertyInterface(xt.s)},_name:{value:ht.nm}}),dt.mn=ht.mn,dt}function ut(ht,pt,gt){function dt(_t){return ht.r.ix===_t||_t==="Round Corners 1"?dt.radius:null}var vt=propertyGroupFactory(dt,gt),xt=pt;return dt.propertyIndex=ht.ix,xt.rd.setGroupProperty(PropertyInterface("Radius",vt)),Object.defineProperties(dt,{radius:{get:ExpressionPropertyInterface(xt.rd)},_name:{value:ht.nm}}),dt.mn=ht.mn,dt}function ft(ht,pt,gt){function dt(_t){return ht.c.ix===_t||_t==="Copies"?dt.copies:ht.o.ix===_t||_t==="Offset"?dt.offset:null}var vt=propertyGroupFactory(dt,gt),xt=pt;return dt.propertyIndex=ht.ix,xt.c.setGroupProperty(PropertyInterface("Copies",vt)),xt.o.setGroupProperty(PropertyInterface("Offset",vt)),Object.defineProperties(dt,{copies:{get:ExpressionPropertyInterface(xt.c)},offset:{get:ExpressionPropertyInterface(xt.o)},_name:{value:ht.nm}}),dt.mn=ht.mn,dt}return function(ht,pt,gt){var dt;function vt(xt){if(typeof xt=="number")return(xt=xt===void 0?1:xt)===0?gt:dt[xt-1];for(var _t=0,bt=dt.length;_t<bt;){if(dt[_t]._name===xt)return dt[_t];_t+=1}return null}return vt.propertyGroup=propertyGroupFactory(vt,function(){return gt}),dt=et(ht,pt,vt.propertyGroup),vt.numProperties=dt.length,vt._name="Contents",vt}}(),TextExpressionInterface=function(et){var _e;function tt(nt){switch(nt){case"ADBE Text Document":return tt.sourceText;default:return null}}return Object.defineProperty(tt,"sourceText",{get:function(){et.textProperty.getValue();var nt=et.textProperty.currentData.t;return nt!==void 0&&(et.textProperty.currentData.t=void 0,(_e=new String(nt)).value=nt||new String(nt)),_e}}),tt},getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(et){return blendModeEnums[et]||""}),blendModeEnums;function SliderEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function AngleEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function ColorEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,1,0,tt)}function PointEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,1,0,tt)}function LayerIndexEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function MaskIndexEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function CheckboxEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function NoValueEffect(){this.p={}}function EffectsManager(et,_e){var tt,nt=et.ef||[];this.effectElements=[];var rt,it=nt.length;for(tt=0;tt<it;tt+=1)rt=new GroupEffect(nt[tt],_e),this.effectElements.push(rt)}function GroupEffect(et,_e){this.init(et,_e)}function BaseElement(){}function FrameElement(){}function _typeof$2(et){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(et)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(et,_e){var tt;this.data=et,this.effectElements=[],this.initDynamicPropertyContainer(_e);var nt,rt=this.data.ef.length,it=this.data.ef;for(tt=0;tt<rt;tt+=1){switch(nt=null,it[tt].ty){case 0:nt=new SliderEffect(it[tt],_e,this);break;case 1:nt=new AngleEffect(it[tt],_e,this);break;case 2:nt=new ColorEffect(it[tt],_e,this);break;case 3:nt=new PointEffect(it[tt],_e,this);break;case 4:case 7:nt=new CheckboxEffect(it[tt],_e,this);break;case 10:nt=new LayerIndexEffect(it[tt],_e,this);break;case 11:nt=new MaskIndexEffect(it[tt],_e,this);break;case 5:nt=new EffectsManager(it[tt],_e);break;default:nt=new NoValueEffect(it[tt])}nt&&this.effectElements.push(nt)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var et=0,_e=this.data.masksProperties.length;et<_e;){if(this.data.masksProperties[et].mode!=="n"&&this.data.masksProperties[et].cl!==!1)return!0;et+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var et=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(et),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var et=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=et},initBaseData:function(et,_e,tt){this.globalData=_e,this.comp=tt,this.data=et,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(et,_e){var tt,nt=this.dynamicProperties.length;for(tt=0;tt<nt;tt+=1)(_e||this._isParent&&this.dynamicProperties[tt].propType==="transform")&&(this.dynamicProperties[tt].getValue(),this.dynamicProperties[tt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&this.dynamicProperties.push(et)}};var FootageInterface=(dataInterfaceFactory=function(et){function _e(tt){return tt==="Outline"?_e.outlineInterface():null}return _e._name="Outline",_e.outlineInterface=function(tt){var nt="",rt=tt.getFootageData();function it(st){if(rt[st])return nt=st,_typeof$2(rt=rt[st])==="object"?it:rt;var ot=st.indexOf(nt);if(ot!==-1){var at=parseInt(st.substr(ot+nt.length),10);return _typeof$2(rt=rt[at])==="object"?it:rt}return""}return function(){return nt="",rt=tt.getFootageData(),it}}(et),_e},function(et){function _e(tt){return tt==="Data"?_e.dataInterface:null}return _e._name="Data",_e.dataInterface=dataInterfaceFactory(et),_e}),dataInterfaceFactory;function FootageElement(et,_e,tt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(et.refId),this.footageData=_e.imageLoader.getAsset(this.assetData),this.initBaseData(et,_e,tt)}function AudioElement(et,_e,tt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(et.refId),this.initBaseData(et,_e,tt),this._isPlaying=!1,this._canPlay=!1;var nt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(nt),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0}}function BaseRenderer(){}function TransformElement(){}function MaskElement(et,_e,tt){this.data=et,this.element=_e,this.globalData=tt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var nt,rt,it=this.globalData.defs,st=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(st),this.solidPath="";var ot,at,lt,ct,ut,ft,ht=this.masksProperties,pt=0,gt=[],dt=createElementID(),vt="clipPath",xt="clip-path";for(nt=0;nt<st;nt+=1)if((ht[nt].mode!=="a"&&ht[nt].mode!=="n"||ht[nt].inv||ht[nt].o.k!==100||ht[nt].o.x)&&(vt="mask",xt="mask"),ht[nt].mode!=="s"&&ht[nt].mode!=="i"||pt!==0?lt=null:((lt=createNS("rect")).setAttribute("fill","#ffffff"),lt.setAttribute("width",this.element.comp.data.w||0),lt.setAttribute("height",this.element.comp.data.h||0),gt.push(lt)),rt=createNS("path"),ht[nt].mode==="n")this.viewData[nt]={op:PropertyFactory.getProp(this.element,ht[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ht[nt],3),elem:rt,lastPath:""},it.appendChild(rt);else{var _t;if(pt+=1,rt.setAttribute("fill",ht[nt].mode==="s"?"#000000":"#ffffff"),rt.setAttribute("clip-rule","nonzero"),ht[nt].x.k!==0?(vt="mask",xt="mask",ft=PropertyFactory.getProp(this.element,ht[nt].x,0,null,this.element),_t=createElementID(),(ct=createNS("filter")).setAttribute("id",_t),(ut=createNS("feMorphology")).setAttribute("operator","erode"),ut.setAttribute("in","SourceGraphic"),ut.setAttribute("radius","0"),ct.appendChild(ut),it.appendChild(ct),rt.setAttribute("stroke",ht[nt].mode==="s"?"#000000":"#ffffff")):(ut=null,ft=null),this.storedData[nt]={elem:rt,x:ft,expan:ut,lastPath:"",lastOperator:"",filterId:_t,lastRadius:0},ht[nt].mode==="i"){at=gt.length;var bt=createNS("g");for(ot=0;ot<at;ot+=1)bt.appendChild(gt[ot]);var At=createNS("mask");At.setAttribute("mask-type","alpha"),At.setAttribute("id",dt+"_"+pt),At.appendChild(rt),it.appendChild(At),bt.setAttribute("mask","url("+getLocationHref()+"#"+dt+"_"+pt+")"),gt.length=0,gt.push(bt)}else gt.push(rt);ht[nt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[nt]={elem:rt,lastPath:"",op:PropertyFactory.getProp(this.element,ht[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ht[nt],3),invRect:lt},this.viewData[nt].prop.k||this.drawPath(ht[nt],this.viewData[nt].prop.v,this.viewData[nt])}for(this.maskElement=createNS(vt),st=gt.length,nt=0;nt<st;nt+=1)this.maskElement.appendChild(gt[nt]);pt>0&&(this.maskElement.setAttribute("id",dt),this.element.maskedElement.setAttribute(xt,"url("+getLocationHref()+"#"+dt+")"),it.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(et){if(this.prepareRenderableFrame(et,!0),this.prepareProperties(et,!0),this.tm._placeholder)this._currentTime=et/this.data.sr;else{var _e=this.tm.v;this._currentTime=_e}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(et){this.audio.rate(et)},AudioElement.prototype.volume=function(et){this.audio.volume(et)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(et){var _e,tt,nt=this.layers.length;for(this.completeLayers=!0,_e=nt-1;_e>=0;_e-=1)this.elements[_e]||(tt=this.layers[_e]).ip-tt.st<=et-this.layers[_e].st&&tt.op-tt.st>et-this.layers[_e].st&&this.buildItem(_e),this.completeLayers=!!this.elements[_e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(et){switch(et.ty){case 2:return this.createImage(et);case 0:return this.createComp(et);case 1:return this.createSolid(et);case 3:return this.createNull(et);case 4:return this.createShape(et);case 5:return this.createText(et);case 6:return this.createAudio(et);case 13:return this.createCamera(et);case 15:return this.createFootage(et);default:return this.createNull(et)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(et){return new AudioElement(et,this.globalData,this)},BaseRenderer.prototype.createFootage=function(et){return new FootageElement(et,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var et,_e=this.layers.length;for(et=0;et<_e;et+=1)this.buildItem(et);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(et){var _e;this.completeLayers=!1;var tt,nt=et.length,rt=this.layers.length;for(_e=0;_e<nt;_e+=1)for(tt=0;tt<rt;){if(this.layers[tt].id===et[_e].id){this.layers[tt]=et[_e];break}tt+=1}},BaseRenderer.prototype.setProjectInterface=function(et){this.globalData.projectInterface=et},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(et,_e,tt){for(var nt=this.elements,rt=this.layers,it=0,st=rt.length;it<st;)rt[it].ind==_e&&(nt[it]&&nt[it]!==!0?(tt.push(nt[it]),nt[it].setAsParent(),rt[it].parent!==void 0?this.buildElementParenting(et,rt[it].parent,tt):et.setHierarchy(tt)):(this.buildItem(it),this.addPendingElement(et))),it+=1},BaseRenderer.prototype.addPendingElement=function(et){this.pendingElements.push(et)},BaseRenderer.prototype.searchExtraCompositions=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)if(et[_e].xt){var nt=this.createComp(et[_e]);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}},BaseRenderer.prototype.setupGlobalData=function(et,_e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(et.chars),this.globalData.fontManager.addFonts(et.fonts,_e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=et.fr,this.globalData.nm=et.nm,this.globalData.compSize={w:et.w,h:et.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var et,_e=this.finalTransform.mat,tt=0,nt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;tt<nt;){if(this.hierarchy[tt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}tt+=1}if(this.finalTransform._matMdf)for(et=this.finalTransform.mProp.v.props,_e.cloneFromProps(et),tt=0;tt<nt;tt+=1)et=this.hierarchy[tt].finalTransform.mProp.v.props,_e.transform(et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],et[8],et[9],et[10],et[11],et[12],et[13],et[14],et[15])}},globalToLocal:function(et){var _e=[];_e.push(this.finalTransform);for(var tt,nt=!0,rt=this.comp;nt;)rt.finalTransform?(rt.data.hasMask&&_e.splice(0,0,rt.finalTransform),rt=rt.comp):nt=!1;var it,st=_e.length;for(tt=0;tt<st;tt+=1)it=_e[tt].mat.applyToPointArray(0,0,0),et=[et[0]-it[0],et[1]-it[1],0];return et},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(et){return this.viewData[et].prop},MaskElement.prototype.renderFrame=function(et){var _e,tt=this.element.finalTransform.mat,nt=this.masksProperties.length;for(_e=0;_e<nt;_e+=1)if((this.viewData[_e].prop._mdf||et)&&this.drawPath(this.masksProperties[_e],this.viewData[_e].prop.v,this.viewData[_e]),(this.viewData[_e].op._mdf||et)&&this.viewData[_e].elem.setAttribute("fill-opacity",this.viewData[_e].op.v),this.masksProperties[_e].mode!=="n"&&(this.viewData[_e].invRect&&(this.element.finalTransform.mProp._mdf||et)&&this.viewData[_e].invRect.setAttribute("transform",tt.getInverseMatrix().to2dCSS()),this.storedData[_e].x&&(this.storedData[_e].x._mdf||et))){var rt=this.storedData[_e].expan;this.storedData[_e].x.v<0?(this.storedData[_e].lastOperator!=="erode"&&(this.storedData[_e].lastOperator="erode",this.storedData[_e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[_e].filterId+")")),rt.setAttribute("radius",-this.storedData[_e].x.v)):(this.storedData[_e].lastOperator!=="dilate"&&(this.storedData[_e].lastOperator="dilate",this.storedData[_e].elem.setAttribute("filter",null)),this.storedData[_e].elem.setAttribute("stroke-width",2*this.storedData[_e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var et="M0,0 ";return et+=" h"+this.globalData.compSize.w,et+=" v"+this.globalData.compSize.h,et+=" h-"+this.globalData.compSize.w,et+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(et,_e,tt){var nt,rt,it=" M"+_e.v[0][0]+","+_e.v[0][1];for(rt=_e._length,nt=1;nt<rt;nt+=1)it+=" C"+_e.o[nt-1][0]+","+_e.o[nt-1][1]+" "+_e.i[nt][0]+","+_e.i[nt][1]+" "+_e.v[nt][0]+","+_e.v[nt][1];if(_e.c&&rt>1&&(it+=" C"+_e.o[nt-1][0]+","+_e.o[nt-1][1]+" "+_e.i[0][0]+","+_e.i[0][1]+" "+_e.v[0][0]+","+_e.v[0][1]),tt.lastPath!==it){var st="";tt.elem&&(_e.c&&(st=et.inv?this.solidPath+it:it),tt.elem.setAttribute("d",st)),tt.lastPath=it}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var et={};return et.createFilter=function(_e,tt){var nt=createNS("filter");return nt.setAttribute("id",_e),tt!==!0&&(nt.setAttribute("filterUnits","objectBoundingBox"),nt.setAttribute("x","0%"),nt.setAttribute("y","0%"),nt.setAttribute("width","100%"),nt.setAttribute("height","100%")),nt},et.createAlphaToLuminanceFilter=function(){var _e=createNS("feColorMatrix");return _e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_e},et}(),featureSupport=function(){var et={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(et.maskType=!1),et}();function SVGTintFilter(et,_e){this.filterManager=_e;var tt=createNS("feColorMatrix");if(tt.setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","linearRGB"),tt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),tt.setAttribute("result","f1"),et.appendChild(tt),(tt=createNS("feColorMatrix")).setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","sRGB"),tt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),tt.setAttribute("result","f2"),et.appendChild(tt),this.matrixFilter=tt,_e.effectElements[2].p.v!==100||_e.effectElements[2].p.k){var nt,rt=createNS("feMerge");et.appendChild(rt),(nt=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),rt.appendChild(nt),(nt=createNS("feMergeNode")).setAttribute("in","f2"),rt.appendChild(nt)}}function SVGFillFilter(et,_e){this.filterManager=_e;var tt=createNS("feColorMatrix");tt.setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","sRGB"),tt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),et.appendChild(tt),this.matrixFilter=tt}function SVGStrokeEffect(et,_e){this.initialized=!1,this.filterManager=_e,this.elem=et,this.paths=[]}function SVGTritoneFilter(et,_e){this.filterManager=_e;var tt=createNS("feColorMatrix");tt.setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","linearRGB"),tt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),tt.setAttribute("result","f1"),et.appendChild(tt);var nt=createNS("feComponentTransfer");nt.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(nt),this.matrixFilter=nt;var rt=createNS("feFuncR");rt.setAttribute("type","table"),nt.appendChild(rt),this.feFuncR=rt;var it=createNS("feFuncG");it.setAttribute("type","table"),nt.appendChild(it),this.feFuncG=it;var st=createNS("feFuncB");st.setAttribute("type","table"),nt.appendChild(st),this.feFuncB=st}function SVGProLevelsFilter(et,_e){this.filterManager=_e;var tt=this.filterManager.effectElements,nt=createNS("feComponentTransfer");(tt[10].p.k||tt[10].p.v!==0||tt[11].p.k||tt[11].p.v!==1||tt[12].p.k||tt[12].p.v!==1||tt[13].p.k||tt[13].p.v!==0||tt[14].p.k||tt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",nt)),(tt[17].p.k||tt[17].p.v!==0||tt[18].p.k||tt[18].p.v!==1||tt[19].p.k||tt[19].p.v!==1||tt[20].p.k||tt[20].p.v!==0||tt[21].p.k||tt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",nt)),(tt[24].p.k||tt[24].p.v!==0||tt[25].p.k||tt[25].p.v!==1||tt[26].p.k||tt[26].p.v!==1||tt[27].p.k||tt[27].p.v!==0||tt[28].p.k||tt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",nt)),(tt[31].p.k||tt[31].p.v!==0||tt[32].p.k||tt[32].p.v!==1||tt[33].p.k||tt[33].p.v!==1||tt[34].p.k||tt[34].p.v!==0||tt[35].p.k||tt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",nt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(nt.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(nt),nt=createNS("feComponentTransfer")),(tt[3].p.k||tt[3].p.v!==0||tt[4].p.k||tt[4].p.v!==1||tt[5].p.k||tt[5].p.v!==1||tt[6].p.k||tt[6].p.v!==0||tt[7].p.k||tt[7].p.v!==1)&&(nt.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(nt),this.feFuncRComposed=this.createFeFunc("feFuncR",nt),this.feFuncGComposed=this.createFeFunc("feFuncG",nt),this.feFuncBComposed=this.createFeFunc("feFuncB",nt))}function SVGDropShadowEffect(et,_e){var tt=_e.container.globalData.renderConfig.filterSize;et.setAttribute("x",tt.x),et.setAttribute("y",tt.y),et.setAttribute("width",tt.width),et.setAttribute("height",tt.height),this.filterManager=_e;var nt=createNS("feGaussianBlur");nt.setAttribute("in","SourceAlpha"),nt.setAttribute("result","drop_shadow_1"),nt.setAttribute("stdDeviation","0"),this.feGaussianBlur=nt,et.appendChild(nt);var rt=createNS("feOffset");rt.setAttribute("dx","25"),rt.setAttribute("dy","0"),rt.setAttribute("in","drop_shadow_1"),rt.setAttribute("result","drop_shadow_2"),this.feOffset=rt,et.appendChild(rt);var it=createNS("feFlood");it.setAttribute("flood-color","#00ff00"),it.setAttribute("flood-opacity","1"),it.setAttribute("result","drop_shadow_3"),this.feFlood=it,et.appendChild(it);var st=createNS("feComposite");st.setAttribute("in","drop_shadow_3"),st.setAttribute("in2","drop_shadow_2"),st.setAttribute("operator","in"),st.setAttribute("result","drop_shadow_4"),et.appendChild(st);var ot,at=createNS("feMerge");et.appendChild(at),ot=createNS("feMergeNode"),at.appendChild(ot),(ot=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=ot,this.feMerge=at,this.originalNodeAdded=!1,at.appendChild(ot)}SVGTintFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",tt[0]-_e[0]+" 0 0 0 "+_e[0]+" "+(tt[1]-_e[1])+" 0 0 0 "+_e[1]+" "+(tt[2]-_e[2])+" 0 0 0 "+_e[2]+" 0 0 0 "+nt+" 0")}},SVGFillFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=this.filterManager.effectElements[2].p.v,tt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+_e[0]+" 0 0 0 0 "+_e[1]+" 0 0 0 0 "+_e[2]+" 0 0 0 "+tt+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var et,_e,tt,nt,rt=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(nt=this.elem.maskManager.masksProperties.length,tt=0):nt=(tt=this.filterManager.effectElements[0].p.v-1)+1,(_e=createNS("g")).setAttribute("fill","none"),_e.setAttribute("stroke-linecap","round"),_e.setAttribute("stroke-dashoffset",1);tt<nt;tt+=1)et=createNS("path"),_e.appendChild(et),this.paths.push({p:et,m:tt});if(this.filterManager.effectElements[10].p.v===3){var it=createNS("mask"),st=createElementID();it.setAttribute("id",st),it.setAttribute("mask-type","alpha"),it.appendChild(_e),this.elem.globalData.defs.appendChild(it);var ot=createNS("g");for(ot.setAttribute("mask","url("+getLocationHref()+"#"+st+")");rt[0];)ot.appendChild(rt[0]);this.elem.layerElement.appendChild(ot),this.masker=it,_e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(rt=this.elem.layerElement.children||this.elem.layerElement.childNodes;rt.length;)this.elem.layerElement.removeChild(rt[0]);this.elem.layerElement.appendChild(_e),this.elem.layerElement.removeAttribute("mask"),_e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=_e},SVGStrokeEffect.prototype.renderFrame=function(et){var _e;this.initialized||this.initialize();var tt,nt,rt=this.paths.length;for(_e=0;_e<rt;_e+=1)if(this.paths[_e].m!==-1&&(tt=this.elem.maskManager.viewData[this.paths[_e].m],nt=this.paths[_e].p,(et||this.filterManager._mdf||tt.prop._mdf)&&nt.setAttribute("d",tt.lastPath),et||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||tt.prop._mdf)){var it;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var st=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),ot=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),at=nt.getTotalLength();it="0 0 0 "+at*st+" ";var lt,ct=at*(ot-st),ut=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,ft=Math.floor(ct/ut);for(lt=0;lt<ft;lt+=1)it+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";it+="0 "+10*at+" 0 0"}else it="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;nt.setAttribute("stroke-dasharray",it)}if((et||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(et||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(et||this.filterManager.effectElements[3].p._mdf)){var ht=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*ht[0])+","+bmFloor(255*ht[1])+","+bmFloor(255*ht[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v,rt=nt[0]+" "+tt[0]+" "+_e[0],it=nt[1]+" "+tt[1]+" "+_e[1],st=nt[2]+" "+tt[2]+" "+_e[2];this.feFuncR.setAttribute("tableValues",rt),this.feFuncG.setAttribute("tableValues",it),this.feFuncB.setAttribute("tableValues",st)}},SVGProLevelsFilter.prototype.createFeFunc=function(et,_e){var tt=createNS(et);return tt.setAttribute("type","table"),_e.appendChild(tt),tt},SVGProLevelsFilter.prototype.getTableValue=function(et,_e,tt,nt,rt){for(var it,st,ot=0,at=Math.min(et,_e),lt=Math.max(et,_e),ct=Array.call(null,{length:256}),ut=0,ft=rt-nt,ht=_e-et;ot<=256;)st=(it=ot/256)<=at?ht<0?rt:nt:it>=lt?ht<0?nt:rt:nt+ft*Math.pow((it-et)/ht,1/tt),ct[ut]=st,ut+=1,ot+=256/255;return ct.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e,tt=this.filterManager.effectElements;this.feFuncRComposed&&(et||tt[3].p._mdf||tt[4].p._mdf||tt[5].p._mdf||tt[6].p._mdf||tt[7].p._mdf)&&(_e=this.getTableValue(tt[3].p.v,tt[4].p.v,tt[5].p.v,tt[6].p.v,tt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",_e),this.feFuncGComposed.setAttribute("tableValues",_e),this.feFuncBComposed.setAttribute("tableValues",_e)),this.feFuncR&&(et||tt[10].p._mdf||tt[11].p._mdf||tt[12].p._mdf||tt[13].p._mdf||tt[14].p._mdf)&&(_e=this.getTableValue(tt[10].p.v,tt[11].p.v,tt[12].p.v,tt[13].p.v,tt[14].p.v),this.feFuncR.setAttribute("tableValues",_e)),this.feFuncG&&(et||tt[17].p._mdf||tt[18].p._mdf||tt[19].p._mdf||tt[20].p._mdf||tt[21].p._mdf)&&(_e=this.getTableValue(tt[17].p.v,tt[18].p.v,tt[19].p.v,tt[20].p.v,tt[21].p.v),this.feFuncG.setAttribute("tableValues",_e)),this.feFuncB&&(et||tt[24].p._mdf||tt[25].p._mdf||tt[26].p._mdf||tt[27].p._mdf||tt[28].p._mdf)&&(_e=this.getTableValue(tt[24].p.v,tt[25].p.v,tt[26].p.v,tt[27].p.v,tt[28].p.v),this.feFuncB.setAttribute("tableValues",_e)),this.feFuncA&&(et||tt[31].p._mdf||tt[32].p._mdf||tt[33].p._mdf||tt[34].p._mdf||tt[35].p._mdf)&&(_e=this.getTableValue(tt[31].p.v,tt[32].p.v,tt[33].p.v,tt[34].p.v,tt[35].p.v),this.feFuncA.setAttribute("tableValues",_e))}},SVGDropShadowEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){if((et||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),et||this.filterManager.effectElements[0].p._mdf){var _e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*_e[0]),Math.round(255*_e[1]),Math.round(255*_e[2])))}if((et||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),et||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var tt=this.filterManager.effectElements[3].p.v,nt=(this.filterManager.effectElements[2].p.v-90)*degToRads,rt=tt*Math.cos(nt),it=tt*Math.sin(nt);this.feOffset.setAttribute("dx",rt),this.feOffset.setAttribute("dy",it)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(et,_e,tt){this.initialized=!1,this.filterManager=_e,this.filterElem=et,this.elem=tt,tt.matteElement=createNS("g"),tt.matteElement.appendChild(tt.layerElement),tt.matteElement.appendChild(tt.transformedElement),tt.baseElement=tt.matteElement}function SVGGaussianBlurEffect(et,_e){et.setAttribute("x","-100%"),et.setAttribute("y","-100%"),et.setAttribute("width","300%"),et.setAttribute("height","300%"),this.filterManager=_e;var tt=createNS("feGaussianBlur");et.appendChild(tt),this.feGaussianBlur=tt}SVGMatte3Effect.prototype.findSymbol=function(et){for(var _e=0,tt=_svgMatteSymbols.length;_e<tt;){if(_svgMatteSymbols[_e]===et)return _svgMatteSymbols[_e];_e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(et,_e){var tt=et.layerElement.parentNode;if(tt){for(var nt,rt=tt.children,it=0,st=rt.length;it<st&&rt[it]!==et.layerElement;)it+=1;it<=st-2&&(nt=rt[it+1]);var ot=createNS("use");ot.setAttribute("href","#"+_e),nt?tt.insertBefore(ot,nt):tt.appendChild(ot)}},SVGMatte3Effect.prototype.setElementAsMask=function(et,_e){if(!this.findSymbol(_e)){var tt=createElementID(),nt=createNS("mask");nt.setAttribute("id",_e.layerId),nt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(_e);var rt=et.globalData.defs;rt.appendChild(nt);var it=createNS("symbol");it.setAttribute("id",tt),this.replaceInParent(_e,tt),it.appendChild(_e.layerElement),rt.appendChild(it);var st=createNS("use");st.setAttribute("href","#"+tt),nt.appendChild(st),_e.data.hd=!1,_e.show()}et.setMatte(_e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var et=this.filterManager.effectElements[0].p.v,_e=this.elem.comp.elements,tt=0,nt=_e.length;tt<nt;)_e[tt]&&_e[tt].data.ind===et&&this.setElementAsMask(this.elem,_e[tt]),tt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=.3*this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,nt=tt==3?0:_e,rt=tt==2?0:_e;this.feGaussianBlur.setAttribute("stdDeviation",nt+" "+rt);var it=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",it)}};var registeredEffects={};function SVGEffects(et){var _e,tt,nt=et.data.ef?et.data.ef.length:0,rt=createElementID(),it=filtersFactory.createFilter(rt,!0),st=0;for(this.filters=[],_e=0;_e<nt;_e+=1){tt=null;var ot=et.data.ef[_e].ty;registeredEffects[ot]&&(tt=new registeredEffects[ot].effect(it,et.effectsManager.effectElements[_e],et),registeredEffects[ot].countsAsEffect&&(st+=1)),et.data.ef[_e].ty===20?(st+=1,tt=new SVGTintFilter(it,et.effectsManager.effectElements[_e])):et.data.ef[_e].ty===21?(st+=1,tt=new SVGFillFilter(it,et.effectsManager.effectElements[_e])):et.data.ef[_e].ty===22?tt=new SVGStrokeEffect(et,et.effectsManager.effectElements[_e]):et.data.ef[_e].ty===23?(st+=1,tt=new SVGTritoneFilter(it,et.effectsManager.effectElements[_e])):et.data.ef[_e].ty===24?(st+=1,tt=new SVGProLevelsFilter(it,et.effectsManager.effectElements[_e])):et.data.ef[_e].ty===25?(st+=1,tt=new SVGDropShadowEffect(it,et.effectsManager.effectElements[_e])):et.data.ef[_e].ty===28?tt=new SVGMatte3Effect(it,et.effectsManager.effectElements[_e],et):et.data.ef[_e].ty===29&&(st+=1,tt=new SVGGaussianBlurEffect(it,et.effectsManager.effectElements[_e])),tt&&this.filters.push(tt)}st&&(et.globalData.defs.appendChild(it),et.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+rt+")")),this.filters.length&&et.addRenderableComponent(this)}function registerEffect(et,_e,tt){registeredEffects[et]={effect:_e,countsAsEffect:tt}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(et,_e,tt){this.assetData=_e.getAssetData(et.refId),this.initElement(et,_e,tt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(et,_e){this.elem=et,this.pos=_e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(et){var _e,tt=this.filters.length;for(_e=0;_e<tt;_e+=1)this.filters[_e].renderFrame(et)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var et,_e,tt,nt=null;if(this.data.td){if(this.data.td==3||this.data.td==1){var rt=createNS("mask");rt.setAttribute("id",this.layerId),rt.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),rt.appendChild(this.layerElement),nt=rt,this.globalData.defs.appendChild(rt),featureSupport.maskType||this.data.td!=1||(rt.setAttribute("mask-type","luminance"),et=createElementID(),_e=filtersFactory.createFilter(et),this.globalData.defs.appendChild(_e),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(tt=createNS("g")).appendChild(this.layerElement),nt=tt,rt.appendChild(tt),tt.setAttribute("filter","url("+getLocationHref()+"#"+et+")"))}else if(this.data.td==2){var it=createNS("mask");it.setAttribute("id",this.layerId),it.setAttribute("mask-type","alpha");var st=createNS("g");it.appendChild(st),et=createElementID(),_e=filtersFactory.createFilter(et);var ot=createNS("feComponentTransfer");ot.setAttribute("in","SourceGraphic"),_e.appendChild(ot);var at=createNS("feFuncA");at.setAttribute("type","table"),at.setAttribute("tableValues","1.0 0.0"),ot.appendChild(at),this.globalData.defs.appendChild(_e);var lt=createNS("rect");lt.setAttribute("width",this.comp.data.w),lt.setAttribute("height",this.comp.data.h),lt.setAttribute("x","0"),lt.setAttribute("y","0"),lt.setAttribute("fill","#ffffff"),lt.setAttribute("opacity","0"),st.setAttribute("filter","url("+getLocationHref()+"#"+et+")"),st.appendChild(lt),st.appendChild(this.layerElement),nt=st,featureSupport.maskType||(it.setAttribute("mask-type","luminance"),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),tt=createNS("g"),st.appendChild(lt),tt.appendChild(this.layerElement),nt=tt,st.appendChild(tt)),this.globalData.defs.appendChild(it)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),nt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ct=createNS("clipPath"),ut=createNS("path");ut.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var ft=createElementID();if(ct.setAttribute("id",ft),ct.appendChild(ut),this.globalData.defs.appendChild(ct),this.checkMasks()){var ht=createNS("g");ht.setAttribute("clip-path","url("+getLocationHref()+"#"+ft+")"),ht.appendChild(this.layerElement),this.transformedElement=ht,nt?nt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ft+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(et){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+et+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(et){this.hierarchy=et},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(et,_e,tt){this.initFrame(),this.initBaseData(et,_e,tt),this.initTransform(et,_e,tt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(et){var _e,tt=this.shapeModifiers.length;for(_e=0;_e<tt;_e+=1)this.shapeModifiers[_e].addShape(et)},isShapeInAnimatedModifiers:function(et){for(var _e=this.shapeModifiers.length;0<_e;)if(this.shapeModifiers[0].isAnimatedWithShape(et))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var et,_e=this.shapes.length;for(et=0;et<_e;et+=1)this.shapes[et].sh.reset();for(et=(_e=this.shapeModifiers.length)-1;et>=0&&!this.shapeModifiers[et].processShapes(this._isFirstFrame);et-=1);}},searchProcessedElement:function(et){for(var _e=this.processedElements,tt=0,nt=_e.length;tt<nt;){if(_e[tt].elem===et)return _e[tt].pos;tt+=1}return 0},addProcessedElement:function(et,_e){for(var tt=this.processedElements,nt=tt.length;nt;)if(tt[nt-=1].elem===et)return void(tt[nt].pos=_e);tt.push(new ProcessedElement(et,_e))},prepareFrame:function(et){this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(et,_e,tt){this.caches=[],this.styles=[],this.transformers=et,this.lStr="",this.sh=tt,this.lvl=_e,this._isAnimated=!!tt.k;for(var nt=0,rt=et.length;nt<rt;){if(et[nt].mProps.dynamicProperties.length){this._isAnimated=!0;break}nt+=1}}function SVGStyleData(et,_e){this.data=et,this.type=et.ty,this.d="",this.lvl=_e,this._mdf=!1,this.closed=et.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(et,_e,tt,nt){var rt;this.elem=et,this.frameId=-1,this.dataProps=createSizedArray(_e.length),this.renderer=tt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",_e.length?_e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(nt);var it,st=_e.length||0;for(rt=0;rt<st;rt+=1)it=PropertyFactory.getProp(et,_e[rt].v,0,0,this),this.k=it.k||this.k,this.dataProps[rt]={n:_e[rt].n,p:it};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,_e.o,0,.01,this),this.w=PropertyFactory.getProp(et,_e.w,0,null,this),this.d=new DashProperty(et,_e.d||{},"svg",this),this.c=PropertyFactory.getProp(et,_e.c,1,255,this),this.style=tt,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,_e.o,0,.01,this),this.c=PropertyFactory.getProp(et,_e.c,1,255,this),this.style=tt}function SVGNoStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.style=tt}function GradientProperty(et,_e,tt){this.data=_e,this.c=createTypedArray("uint8c",4*_e.p);var nt=_e.k.k[0].s?_e.k.k[0].s.length-4*_e.p:_e.k.k.length-4*_e.p;this.o=createTypedArray("float32",nt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=nt,this.initDynamicPropertyContainer(tt),this.prop=PropertyFactory.getProp(et,_e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.initGradientData(et,_e,tt)}function SVGGradientStrokeStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(et,_e.w,0,null,this),this.d=new DashProperty(et,_e.d||{},"svg",this),this.initGradientData(et,_e,tt),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(et,_e,tt){this.transform={mProps:et,op:_e,container:tt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(et){if((this.elem.globalData.frameId!==this.frameId||et)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||et,this._mdf)){var _e=0,tt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),_e=0;_e<tt;_e+=1)this.dataProps[_e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[_e].p.v:this.dashArray[_e]=this.dataProps[_e].p.v:this.dashoffset[0]=this.dataProps[_e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(et,_e){for(var tt=0,nt=this.o.length/2;tt<nt;){if(Math.abs(et[4*tt]-et[4*_e+2*tt])>.01)return!1;tt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var et=0,_e=this.data.k.k.length;et<_e;){if(!this.comparePoints(this.data.k.k[et].s,this.data.p))return!1;et+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(et){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||et){var _e,tt,nt,rt=4*this.data.p;for(_e=0;_e<rt;_e+=1)tt=_e%4==0?100:255,nt=Math.round(this.prop.v[_e]*tt),this.c[_e]!==nt&&(this.c[_e]=nt,this._cmdf=!et);if(this.o.length)for(rt=this.prop.v.length,_e=4*this.data.p;_e<rt;_e+=1)tt=_e%2==0?100:1,nt=_e%2==0?Math.round(100*this.prop.v[_e]):this.prop.v[_e],this.o[_e-4*this.data.p]!==nt&&(this.o[_e-4*this.data.p]=nt,this._omdf=!et);this._mdf=!et}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(et,_e,tt){this.o=PropertyFactory.getProp(et,_e.o,0,.01,this),this.s=PropertyFactory.getProp(et,_e.s,1,null,this),this.e=PropertyFactory.getProp(et,_e.e,1,null,this),this.h=PropertyFactory.getProp(et,_e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(et,_e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(et,_e.g,this),this.style=tt,this.stops=[],this.setGradientData(tt.pElem,_e),this.setGradientOpacity(_e,tt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(et,_e){var tt=createElementID(),nt=createNS(_e.t===1?"linearGradient":"radialGradient");nt.setAttribute("id",tt),nt.setAttribute("spreadMethod","pad"),nt.setAttribute("gradientUnits","userSpaceOnUse");var rt,it,st,ot=[];for(st=4*_e.g.p,it=0;it<st;it+=4)rt=createNS("stop"),nt.appendChild(rt),ot.push(rt);et.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+tt+")"),this.gf=nt,this.cst=ot},SVGGradientFillStyleData.prototype.setGradientOpacity=function(et,_e){if(this.g._hasOpacity&&!this.g._collapsable){var tt,nt,rt,it=createNS("mask"),st=createNS("path");it.appendChild(st);var ot=createElementID(),at=createElementID();it.setAttribute("id",at);var lt=createNS(et.t===1?"linearGradient":"radialGradient");lt.setAttribute("id",ot),lt.setAttribute("spreadMethod","pad"),lt.setAttribute("gradientUnits","userSpaceOnUse"),rt=et.g.k.k[0].s?et.g.k.k[0].s.length:et.g.k.k.length;var ct=this.stops;for(nt=4*et.g.p;nt<rt;nt+=2)(tt=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),lt.appendChild(tt),ct.push(tt);st.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ot+")"),et.ty==="gs"&&(st.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),st.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),et.lj===1&&st.setAttribute("stroke-miterlimit",et.ml)),this.of=lt,this.ms=it,this.ost=ct,this.maskId=at,_e.msElem=st}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(et,_e,tt,nt){if(_e===0)return"";var rt,it=et.o,st=et.i,ot=et.v,at=" M"+nt.applyToPointStringified(ot[0][0],ot[0][1]);for(rt=1;rt<_e;rt+=1)at+=" C"+nt.applyToPointStringified(it[rt-1][0],it[rt-1][1])+" "+nt.applyToPointStringified(st[rt][0],st[rt][1])+" "+nt.applyToPointStringified(ot[rt][0],ot[rt][1]);return tt&&_e&&(at+=" C"+nt.applyToPointStringified(it[rt-1][0],it[rt-1][1])+" "+nt.applyToPointStringified(st[0][0],st[0][1])+" "+nt.applyToPointStringified(ot[0][0],ot[0][1]),at+="z"),at},SVGElementsRenderer=function(){var et=new Matrix,_e=new Matrix;function tt(lt,ct,ut){(ut||ct.transform.op._mdf)&&ct.transform.container.setAttribute("opacity",ct.transform.op.v),(ut||ct.transform.mProps._mdf)&&ct.transform.container.setAttribute("transform",ct.transform.mProps.v.to2dCSS())}function nt(){}function rt(lt,ct,ut){var ft,ht,pt,gt,dt,vt,xt,_t,bt,At,Mt,Tt=ct.styles.length,St=ct.lvl;for(vt=0;vt<Tt;vt+=1){if(gt=ct.sh._mdf||ut,ct.styles[vt].lvl<St){for(_t=_e.reset(),At=St-ct.styles[vt].lvl,Mt=ct.transformers.length-1;!gt&&At>0;)gt=ct.transformers[Mt].mProps._mdf||gt,At-=1,Mt-=1;if(gt)for(At=St-ct.styles[vt].lvl,Mt=ct.transformers.length-1;At>0;)bt=ct.transformers[Mt].mProps.v.props,_t.transform(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6],bt[7],bt[8],bt[9],bt[10],bt[11],bt[12],bt[13],bt[14],bt[15]),At-=1,Mt-=1}else _t=et;if(ht=(xt=ct.sh.paths)._length,gt){for(pt="",ft=0;ft<ht;ft+=1)(dt=xt.shapes[ft])&&dt._length&&(pt+=buildShapeString(dt,dt._length,dt.c,_t));ct.caches[vt]=pt}else pt=ct.caches[vt];ct.styles[vt].d+=lt.hd===!0?"":pt,ct.styles[vt]._mdf=gt||ct.styles[vt]._mdf}}function it(lt,ct,ut){var ft=ct.style;(ct.c._mdf||ut)&&ft.pElem.setAttribute("fill","rgb("+bmFloor(ct.c.v[0])+","+bmFloor(ct.c.v[1])+","+bmFloor(ct.c.v[2])+")"),(ct.o._mdf||ut)&&ft.pElem.setAttribute("fill-opacity",ct.o.v)}function st(lt,ct,ut){ot(lt,ct,ut),at(lt,ct,ut)}function ot(lt,ct,ut){var ft,ht,pt,gt,dt,vt=ct.gf,xt=ct.g._hasOpacity,_t=ct.s.v,bt=ct.e.v;if(ct.o._mdf||ut){var At=lt.ty==="gf"?"fill-opacity":"stroke-opacity";ct.style.pElem.setAttribute(At,ct.o.v)}if(ct.s._mdf||ut){var Mt=lt.t===1?"x1":"cx",Tt=Mt==="x1"?"y1":"cy";vt.setAttribute(Mt,_t[0]),vt.setAttribute(Tt,_t[1]),xt&&!ct.g._collapsable&&(ct.of.setAttribute(Mt,_t[0]),ct.of.setAttribute(Tt,_t[1]))}if(ct.g._cmdf||ut){ft=ct.cst;var St=ct.g.c;for(pt=ft.length,ht=0;ht<pt;ht+=1)(gt=ft[ht]).setAttribute("offset",St[4*ht]+"%"),gt.setAttribute("stop-color","rgb("+St[4*ht+1]+","+St[4*ht+2]+","+St[4*ht+3]+")")}if(xt&&(ct.g._omdf||ut)){var Ct=ct.g.o;for(pt=(ft=ct.g._collapsable?ct.cst:ct.ost).length,ht=0;ht<pt;ht+=1)gt=ft[ht],ct.g._collapsable||gt.setAttribute("offset",Ct[2*ht]+"%"),gt.setAttribute("stop-opacity",Ct[2*ht+1])}if(lt.t===1)(ct.e._mdf||ut)&&(vt.setAttribute("x2",bt[0]),vt.setAttribute("y2",bt[1]),xt&&!ct.g._collapsable&&(ct.of.setAttribute("x2",bt[0]),ct.of.setAttribute("y2",bt[1])));else if((ct.s._mdf||ct.e._mdf||ut)&&(dt=Math.sqrt(Math.pow(_t[0]-bt[0],2)+Math.pow(_t[1]-bt[1],2)),vt.setAttribute("r",dt),xt&&!ct.g._collapsable&&ct.of.setAttribute("r",dt)),ct.e._mdf||ct.h._mdf||ct.a._mdf||ut){dt||(dt=Math.sqrt(Math.pow(_t[0]-bt[0],2)+Math.pow(_t[1]-bt[1],2)));var Et=Math.atan2(bt[1]-_t[1],bt[0]-_t[0]),Rt=ct.h.v;Rt>=1?Rt=.99:Rt<=-1&&(Rt=-.99);var It=dt*Rt,Ot=Math.cos(Et+ct.a.v)*It+_t[0],kt=Math.sin(Et+ct.a.v)*It+_t[1];vt.setAttribute("fx",Ot),vt.setAttribute("fy",kt),xt&&!ct.g._collapsable&&(ct.of.setAttribute("fx",Ot),ct.of.setAttribute("fy",kt))}}function at(lt,ct,ut){var ft=ct.style,ht=ct.d;ht&&(ht._mdf||ut)&&ht.dashStr&&(ft.pElem.setAttribute("stroke-dasharray",ht.dashStr),ft.pElem.setAttribute("stroke-dashoffset",ht.dashoffset[0])),ct.c&&(ct.c._mdf||ut)&&ft.pElem.setAttribute("stroke","rgb("+bmFloor(ct.c.v[0])+","+bmFloor(ct.c.v[1])+","+bmFloor(ct.c.v[2])+")"),(ct.o._mdf||ut)&&ft.pElem.setAttribute("stroke-opacity",ct.o.v),(ct.w._mdf||ut)&&(ft.pElem.setAttribute("stroke-width",ct.w.v),ft.msElem&&ft.msElem.setAttribute("stroke-width",ct.w.v))}return{createRenderFunction:function(lt){switch(lt.ty){case"fl":return it;case"gf":return ot;case"gs":return st;case"st":return at;case"sh":case"el":case"rc":case"sr":return rt;case"tr":return tt;case"no":return nt;default:return null}}}}();function SVGShapeElement(et,_e,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(et,_e,tt),this.prevViewData=[]}function LetterProps(et,_e,tt,nt,rt,it){this.o=et,this.sw=_e,this.sc=tt,this.fc=nt,this.m=rt,this.p=it,this._mdf={o:!0,sw:!!_e,sc:!!tt,fc:!!nt,m:!0,p:!0}}function TextProperty(et,_e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=_e,this.elem=et,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var et,_e,tt,nt,rt=this.shapes.length,it=this.stylesList.length,st=[],ot=!1;for(tt=0;tt<it;tt+=1){for(nt=this.stylesList[tt],ot=!1,st.length=0,et=0;et<rt;et+=1)(_e=this.shapes[et]).styles.indexOf(nt)!==-1&&(st.push(_e),ot=_e._isAnimated||ot);st.length>1&&ot&&this.setShapesAsAnimated(st)}},SVGShapeElement.prototype.setShapesAsAnimated=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)et[_e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(et,_e){var tt,nt=new SVGStyleData(et,_e),rt=nt.pElem;return et.ty==="st"?tt=new SVGStrokeStyleData(this,et,nt):et.ty==="fl"?tt=new SVGFillStyleData(this,et,nt):et.ty==="gf"||et.ty==="gs"?(tt=new(et.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,et,nt),this.globalData.defs.appendChild(tt.gf),tt.maskId&&(this.globalData.defs.appendChild(tt.ms),this.globalData.defs.appendChild(tt.of),rt.setAttribute("mask","url("+getLocationHref()+"#"+tt.maskId+")"))):et.ty==="no"&&(tt=new SVGNoStyleData(this,et,nt)),et.ty!=="st"&&et.ty!=="gs"||(rt.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),rt.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),rt.setAttribute("fill-opacity","0"),et.lj===1&&rt.setAttribute("stroke-miterlimit",et.ml)),et.r===2&&rt.setAttribute("fill-rule","evenodd"),et.ln&&rt.setAttribute("id",et.ln),et.cl&&rt.setAttribute("class",et.cl),et.bm&&(rt.style["mix-blend-mode"]=getBlendMode(et.bm)),this.stylesList.push(nt),this.addToAnimatedContents(et,tt),tt},SVGShapeElement.prototype.createGroupElement=function(et){var _e=new ShapeGroupData;return et.ln&&_e.gr.setAttribute("id",et.ln),et.cl&&_e.gr.setAttribute("class",et.cl),et.bm&&(_e.gr.style["mix-blend-mode"]=getBlendMode(et.bm)),_e},SVGShapeElement.prototype.createTransformElement=function(et,_e){var tt=TransformPropertyFactory.getTransformProperty(this,et,this),nt=new SVGTransformData(tt,tt.o,_e);return this.addToAnimatedContents(et,nt),nt},SVGShapeElement.prototype.createShapeElement=function(et,_e,tt){var nt=4;et.ty==="rc"?nt=5:et.ty==="el"?nt=6:et.ty==="sr"&&(nt=7);var rt=new SVGShapeData(_e,tt,ShapePropertyFactory.getShapeProp(this,et,nt,this));return this.shapes.push(rt),this.addShapeToModifiers(rt),this.addToAnimatedContents(et,rt),rt},SVGShapeElement.prototype.addToAnimatedContents=function(et,_e){for(var tt=0,nt=this.animatedContents.length;tt<nt;){if(this.animatedContents[tt].element===_e)return;tt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(et),element:_e,data:et})},SVGShapeElement.prototype.setElementStyles=function(et){var _e,tt=et.styles,nt=this.stylesList.length;for(_e=0;_e<nt;_e+=1)this.stylesList[_e].closed||tt.push(this.stylesList[_e])},SVGShapeElement.prototype.reloadShapes=function(){var et;this._isFirstFrame=!0;var _e=this.itemsData.length;for(et=0;et<_e;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_e=this.dynamicProperties.length,et=0;et<_e;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(et,_e,tt,nt,rt,it,st){var ot,at,lt,ct,ut,ft,ht=[].concat(it),pt=et.length-1,gt=[],dt=[];for(ot=pt;ot>=0;ot-=1){if((ft=this.searchProcessedElement(et[ot]))?_e[ot]=tt[ft-1]:et[ot]._render=st,et[ot].ty==="fl"||et[ot].ty==="st"||et[ot].ty==="gf"||et[ot].ty==="gs"||et[ot].ty==="no")ft?_e[ot].style.closed=!1:_e[ot]=this.createStyleElement(et[ot],rt),et[ot]._render&&_e[ot].style.pElem.parentNode!==nt&&nt.appendChild(_e[ot].style.pElem),gt.push(_e[ot].style);else if(et[ot].ty==="gr"){if(ft)for(lt=_e[ot].it.length,at=0;at<lt;at+=1)_e[ot].prevViewData[at]=_e[ot].it[at];else _e[ot]=this.createGroupElement(et[ot]);this.searchShapes(et[ot].it,_e[ot].it,_e[ot].prevViewData,_e[ot].gr,rt+1,ht,st),et[ot]._render&&_e[ot].gr.parentNode!==nt&&nt.appendChild(_e[ot].gr)}else et[ot].ty==="tr"?(ft||(_e[ot]=this.createTransformElement(et[ot],nt)),ct=_e[ot].transform,ht.push(ct)):et[ot].ty==="sh"||et[ot].ty==="rc"||et[ot].ty==="el"||et[ot].ty==="sr"?(ft||(_e[ot]=this.createShapeElement(et[ot],ht,rt)),this.setElementStyles(_e[ot])):et[ot].ty==="tm"||et[ot].ty==="rd"||et[ot].ty==="ms"||et[ot].ty==="pb"?(ft?(ut=_e[ot]).closed=!1:((ut=ShapeModifiers.getModifier(et[ot].ty)).init(this,et[ot]),_e[ot]=ut,this.shapeModifiers.push(ut)),dt.push(ut)):et[ot].ty==="rp"&&(ft?(ut=_e[ot]).closed=!0:(ut=ShapeModifiers.getModifier(et[ot].ty),_e[ot]=ut,ut.init(this,et,ot,_e),this.shapeModifiers.push(ut),st=!1),dt.push(ut));this.addProcessedElement(et[ot],ot+1)}for(pt=gt.length,ot=0;ot<pt;ot+=1)gt[ot].closed=!0;for(pt=dt.length,ot=0;ot<pt;ot+=1)dt[ot].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var et;this.renderModifiers();var _e=this.stylesList.length;for(et=0;et<_e;et+=1)this.stylesList[et].reset();for(this.renderShape(),et=0;et<_e;et+=1)(this.stylesList[et]._mdf||this._isFirstFrame)&&(this.stylesList[et].msElem&&(this.stylesList[et].msElem.setAttribute("d",this.stylesList[et].d),this.stylesList[et].d="M0 0"+this.stylesList[et].d),this.stylesList[et].pElem.setAttribute("d",this.stylesList[et].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var et,_e,tt=this.animatedContents.length;for(et=0;et<tt;et+=1)_e=this.animatedContents[et],(this._isFirstFrame||_e.element._isAnimated)&&_e.data!==!0&&_e.fn(_e.data,_e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(et,_e,tt,nt,rt,it){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var st=!1;return this.o!==et&&(this.o=et,this._mdf.o=!0,st=!0),this.sw!==_e&&(this.sw=_e,this._mdf.sw=!0,st=!0),this.sc!==tt&&(this.sc=tt,this._mdf.sc=!0,st=!0),this.fc!==nt&&(this.fc=nt,this._mdf.fc=!0,st=!0),this.m!==rt&&(this.m=rt,this._mdf.m=!0,st=!0),!it.length||this.p[0]===it[0]&&this.p[1]===it[1]&&this.p[4]===it[4]&&this.p[5]===it[5]&&this.p[12]===it[12]&&this.p[13]===it[13]||(this.p=it,this._mdf.p=!0,st=!0),st},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(et,_e){for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_e[tt]);return et},TextProperty.prototype.setCurrentData=function(et){et.__complete||this.completeTextData(et),this.currentData=et,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(et){this.effectsSequence.push(et),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(et){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||et){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var _e=this.currentData,tt=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var nt;this.lock=!0,this._mdf=!1;var rt=this.effectsSequence.length,it=et||this.data.d.k[this.keysIndex].s;for(nt=0;nt<rt;nt+=1)it=tt!==this.keysIndex?this.effectsSequence[nt](it,it.t):this.effectsSequence[nt](this.currentData,it.t);_e!==it&&this.setCurrentData(it),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var et=this.data.d.k,_e=this.elem.comp.renderedFrame,tt=0,nt=et.length;tt<=nt-1&&!(tt===nt-1||et[tt+1].t>_e);)tt+=1;return this.keysIndex!==tt&&(this.keysIndex=tt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(et){for(var _e,tt,nt=[],rt=0,it=et.length,st=!1;rt<it;)_e=et.charCodeAt(rt),FontManager.isCombinedCharacter(_e)?nt[nt.length-1]+=et.charAt(rt):_e>=55296&&_e<=56319?(tt=et.charCodeAt(rt+1))>=56320&&tt<=57343?(st||FontManager.isModifier(_e,tt)?(nt[nt.length-1]+=et.substr(rt,2),st=!1):nt.push(et.substr(rt,2)),rt+=1):nt.push(et.charAt(rt)):_e>56319?(tt=et.charCodeAt(rt+1),FontManager.isZeroWidthJoiner(_e,tt)?(st=!0,nt[nt.length-1]+=et.substr(rt,2),rt+=1):nt.push(et.charAt(rt))):FontManager.isZeroWidthJoiner(_e)?(nt[nt.length-1]+=et.charAt(rt),st=!0):nt.push(et.charAt(rt)),rt+=1;return nt},TextProperty.prototype.completeTextData=function(et){et.__complete=!0;var _e,tt,nt,rt,it,st,ot,at=this.elem.globalData.fontManager,lt=this.data,ct=[],ut=0,ft=lt.m.g,ht=0,pt=0,gt=0,dt=[],vt=0,xt=0,_t=at.getFontByName(et.f),bt=0,At=getFontProperties(_t);et.fWeight=At.weight,et.fStyle=At.style,et.finalSize=et.s,et.finalText=this.buildFinalText(et.t),tt=et.finalText.length,et.finalLineHeight=et.lh;var Mt,Tt=et.tr/1e3*et.finalSize;if(et.sz)for(var St,Ct,Et=!0,Rt=et.sz[0],It=et.sz[1];Et;){St=0,vt=0,tt=(Ct=this.buildFinalText(et.t)).length,Tt=et.tr/1e3*et.finalSize;var Ot=-1;for(_e=0;_e<tt;_e+=1)Mt=Ct[_e].charCodeAt(0),nt=!1,Ct[_e]===" "?Ot=_e:Mt!==13&&Mt!==3||(vt=0,nt=!0,St+=et.finalLineHeight||1.2*et.finalSize),at.chars?(ot=at.getCharData(Ct[_e],_t.fStyle,_t.fFamily),bt=nt?0:ot.w*et.finalSize/100):bt=at.measureText(Ct[_e],et.f,et.finalSize),vt+bt>Rt&&Ct[_e]!==" "?(Ot===-1?tt+=1:_e=Ot,St+=et.finalLineHeight||1.2*et.finalSize,Ct.splice(_e,Ot===_e?1:0,"\r"),Ot=-1,vt=0):(vt+=bt,vt+=Tt);St+=_t.ascent*et.finalSize/100,this.canResize&&et.finalSize>this.minimumFontSize&&It<St?(et.finalSize-=1,et.finalLineHeight=et.finalSize*et.lh/et.s):(et.finalText=Ct,tt=et.finalText.length,Et=!1)}vt=-Tt,bt=0;var kt,$t=0;for(_e=0;_e<tt;_e+=1)if(nt=!1,(Mt=(kt=et.finalText[_e]).charCodeAt(0))===13||Mt===3?($t=0,dt.push(vt),xt=vt>xt?vt:xt,vt=-2*Tt,rt="",nt=!0,gt+=1):rt=kt,at.chars?(ot=at.getCharData(kt,_t.fStyle,at.getFontByName(et.f).fFamily),bt=nt?0:ot.w*et.finalSize/100):bt=at.measureText(rt,et.f,et.finalSize),kt===" "?$t+=bt+Tt:(vt+=bt+Tt+$t,$t=0),ct.push({l:bt,an:bt,add:ht,n:nt,anIndexes:[],val:rt,line:gt,animatorJustifyOffset:0}),ft==2){if(ht+=bt,rt===""||rt===" "||_e===tt-1){for(rt!==""&&rt!==" "||(ht-=bt);pt<=_e;)ct[pt].an=ht,ct[pt].ind=ut,ct[pt].extra=bt,pt+=1;ut+=1,ht=0}}else if(ft==3){if(ht+=bt,rt===""||_e===tt-1){for(rt===""&&(ht-=bt);pt<=_e;)ct[pt].an=ht,ct[pt].ind=ut,ct[pt].extra=bt,pt+=1;ht=0,ut+=1}}else ct[ut].ind=ut,ct[ut].extra=0,ut+=1;if(et.l=ct,xt=vt>xt?vt:xt,dt.push(vt),et.sz)et.boxWidth=et.sz[0],et.justifyOffset=0;else switch(et.boxWidth=xt,et.j){case 1:et.justifyOffset=-et.boxWidth;break;case 2:et.justifyOffset=-et.boxWidth/2;break;default:et.justifyOffset=0}et.lineWidths=dt;var jt,Ht,Bt,Lt,Ft=lt.a;st=Ft.length;var Vt=[];for(it=0;it<st;it+=1){for((jt=Ft[it]).a.sc&&(et.strokeColorAnim=!0),jt.a.sw&&(et.strokeWidthAnim=!0),(jt.a.fc||jt.a.fh||jt.a.fs||jt.a.fb)&&(et.fillColorAnim=!0),Lt=0,Bt=jt.s.b,_e=0;_e<tt;_e+=1)(Ht=ct[_e]).anIndexes[it]=Lt,(Bt==1&&Ht.val!==""||Bt==2&&Ht.val!==""&&Ht.val!==" "||Bt==3&&(Ht.n||Ht.val==" "||_e==tt-1)||Bt==4&&(Ht.n||_e==tt-1))&&(jt.s.rn===1&&Vt.push(Lt),Lt+=1);lt.a[it].s.totalChars=Lt;var Yt,rn=-1;if(jt.s.rn===1)for(_e=0;_e<tt;_e+=1)rn!=(Ht=ct[_e]).anIndexes[it]&&(rn=Ht.anIndexes[it],Yt=Vt.splice(Math.floor(Math.random()*Vt.length),1)[0]),Ht.anIndexes[it]=Yt}et.yOffset=et.finalLineHeight||1.2*et.finalSize,et.ls=et.ls||0,et.ascent=_t.ascent*et.finalSize/100},TextProperty.prototype.updateDocumentData=function(et,_e){_e=_e===void 0?this.keysIndex:_e;var tt=this.copyData({},this.data.d.k[_e].s);tt=this.copyData(tt,et),this.data.d.k[_e].s=tt,this.recalculate(_e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(et){var _e=this.data.d.k[et].s;_e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(_e)},TextProperty.prototype.canResizeFont=function(et){this.canResize=et,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(et){this.minimumFontSize=Math.floor(et)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var et=Math.max,_e=Math.min,tt=Math.floor;function nt(rt,it){this._currentTextLength=-1,this.k=!1,this.data=it,this.elem=rt,this.comp=rt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(rt),this.s=PropertyFactory.getProp(rt,it.s||{k:0},0,0,this),this.e="e"in it?PropertyFactory.getProp(rt,it.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(rt,it.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(rt,it.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(rt,it.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(rt,it.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(rt,it.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return nt.prototype={getMult:function(rt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var it=0,st=0,ot=1,at=1;this.ne.v>0?it=this.ne.v/100:st=-this.ne.v/100,this.xe.v>0?ot=1-this.xe.v/100:at=1+this.xe.v/100;var lt=BezierFactory.getBezierEasing(it,st,ot,at).get,ct=0,ut=this.finalS,ft=this.finalE,ht=this.data.sh;if(ht===2)ct=lt(ct=ft===ut?rt>=ft?1:0:et(0,_e(.5/(ft-ut)+(rt-ut)/(ft-ut),1)));else if(ht===3)ct=lt(ct=ft===ut?rt>=ft?0:1:1-et(0,_e(.5/(ft-ut)+(rt-ut)/(ft-ut),1)));else if(ht===4)ft===ut?ct=0:(ct=et(0,_e(.5/(ft-ut)+(rt-ut)/(ft-ut),1)))<.5?ct*=2:ct=1-2*(ct-.5),ct=lt(ct);else if(ht===5){if(ft===ut)ct=0;else{var pt=ft-ut,gt=-pt/2+(rt=_e(et(0,rt+.5-ut),ft-ut)),dt=pt/2;ct=Math.sqrt(1-gt*gt/(dt*dt))}ct=lt(ct)}else ht===6?(ft===ut?ct=0:(rt=_e(et(0,rt+.5-ut),ft-ut),ct=(1+Math.cos(Math.PI+2*Math.PI*rt/(ft-ut)))/2),ct=lt(ct)):(rt>=tt(ut)&&(ct=et(0,_e(rt-ut<0?_e(ft,1)-(ut-rt):ft-rt,1))),ct=lt(ct));if(this.sm.v!==100){var vt=.01*this.sm.v;vt===0&&(vt=1e-8);var xt=.5-.5*vt;ct<xt?ct=0:(ct=(ct-xt)/vt)>1&&(ct=1)}return ct*this.a.v},getValue:function(rt){this.iterateDynamicProperties(),this._mdf=rt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,rt&&this.data.r===2&&(this.e.v=this._currentTextLength);var it=this.data.r===2?1:100/this.data.totalChars,st=this.o.v/it,ot=this.s.v/it+st,at=this.e.v/it+st;if(ot>at){var lt=ot;ot=at,at=lt}this.finalS=ot,this.finalE=at}},extendPrototype([DynamicPropertyContainer],nt),{getTextSelectorProp:function(rt,it,st){return new nt(rt,it)}}}();function TextAnimatorDataProperty(et,_e,tt){var nt={propType:!1},rt=PropertyFactory.getProp,it=_e.a;this.a={r:it.r?rt(et,it.r,0,degToRads,tt):nt,rx:it.rx?rt(et,it.rx,0,degToRads,tt):nt,ry:it.ry?rt(et,it.ry,0,degToRads,tt):nt,sk:it.sk?rt(et,it.sk,0,degToRads,tt):nt,sa:it.sa?rt(et,it.sa,0,degToRads,tt):nt,s:it.s?rt(et,it.s,1,.01,tt):nt,a:it.a?rt(et,it.a,1,0,tt):nt,o:it.o?rt(et,it.o,0,.01,tt):nt,p:it.p?rt(et,it.p,1,0,tt):nt,sw:it.sw?rt(et,it.sw,0,0,tt):nt,sc:it.sc?rt(et,it.sc,1,0,tt):nt,fc:it.fc?rt(et,it.fc,1,0,tt):nt,fh:it.fh?rt(et,it.fh,0,0,tt):nt,fs:it.fs?rt(et,it.fs,0,.01,tt):nt,fb:it.fb?rt(et,it.fb,0,.01,tt):nt,t:it.t?rt(et,it.t,0,0,tt):nt},this.s=TextSelectorProp.getTextSelectorProp(et,_e.s,tt),this.s.t=_e.s.t}function TextAnimatorProperty(et,_e,tt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=et,this._renderType=_e,this._elem=tt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(tt)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var et,_e,tt=this._textData.a.length,nt=PropertyFactory.getProp;for(et=0;et<tt;et+=1)_e=this._textData.a[et],this._animatorsData[et]=new TextAnimatorDataProperty(this._elem,_e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:nt(this._elem,this._textData.p.a,0,0,this),f:nt(this._elem,this._textData.p.f,0,0,this),l:nt(this._elem,this._textData.p.l,0,0,this),r:nt(this._elem,this._textData.p.r,0,0,this),p:nt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=nt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(et,_e){if(this.lettersChangedFlag=_e,this._mdf||this._isFirstFrame||_e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,pt,gt,dt,vt,xt,_t,bt,At=this._moreOptions.alignment.v,Mt=this._animatorsData,Tt=this._textData,St=this.mHelper,Ct=this._renderType,Et=this.renderedLetters.length,Rt=et.l;if(this._hasMaskedPath){if(bt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var It,Ot=bt.v;for(this._pathData.r.v&&(Ot=Ot.reverse()),st={tLength:0,segments:[]},it=Ot._length-1,vt=0,rt=0;rt<it;rt+=1)It=bez.buildBezierData(Ot.v[rt],Ot.v[rt+1],[Ot.o[rt][0]-Ot.v[rt][0],Ot.o[rt][1]-Ot.v[rt][1]],[Ot.i[rt+1][0]-Ot.v[rt+1][0],Ot.i[rt+1][1]-Ot.v[rt+1][1]]),st.tLength+=It.segmentLength,st.segments.push(It),vt+=It.segmentLength;rt=it,bt.v.c&&(It=bez.buildBezierData(Ot.v[rt],Ot.v[0],[Ot.o[rt][0]-Ot.v[rt][0],Ot.o[rt][1]-Ot.v[rt][1]],[Ot.i[0][0]-Ot.v[0][0],Ot.i[0][1]-Ot.v[0][1]]),st.tLength+=It.segmentLength,st.segments.push(It),vt+=It.segmentLength),this._pathData.pi=st}if(st=this._pathData.pi,ot=this._pathData.f.v,ft=0,ut=1,lt=0,ct=!0,gt=st.segments,ot<0&&bt.v.c)for(st.tLength<Math.abs(ot)&&(ot=-Math.abs(ot)%st.tLength),ut=(pt=gt[ft=gt.length-1].points).length-1;ot<0;)ot+=pt[ut].partialLength,(ut-=1)<0&&(ut=(pt=gt[ft-=1].points).length-1);ht=(pt=gt[ft].points)[ut-1],dt=(at=pt[ut]).partialLength}it=Rt.length,tt=0,nt=0;var kt,$t,jt,Ht,Bt,Lt=1.2*et.finalSize*.714,Ft=!0;jt=Mt.length;var Vt,Yt,rn,sn,cn,Zt,an,Qt,Ut,Gt,Wt,Jt,Kt=-1,nn=ot,fn=ft,hn=ut,bn=-1,un="",gn=this.defaultPropsArray;if(et.j===2||et.j===1){var vn=0,on=0,Xt=et.j===2?-.5:-1,zt=0,tn=!0;for(rt=0;rt<it;rt+=1)if(Rt[rt].n){for(vn&&(vn+=on);zt<rt;)Rt[zt].animatorJustifyOffset=vn,zt+=1;vn=0,tn=!0}else{for($t=0;$t<jt;$t+=1)(kt=Mt[$t].a).t.propType&&(tn&&et.j===2&&(on+=kt.t.v*Xt),(Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars)).length?vn+=kt.t.v*Bt[0]*Xt:vn+=kt.t.v*Bt*Xt);tn=!1}for(vn&&(vn+=on);zt<rt;)Rt[zt].animatorJustifyOffset=vn,zt+=1}for(rt=0;rt<it;rt+=1){if(St.reset(),sn=1,Rt[rt].n)tt=0,nt+=et.yOffset,nt+=Ft?1:0,ot=nn,Ft=!1,this._hasMaskedPath&&(ut=hn,ht=(pt=gt[ft=fn].points)[ut-1],dt=(at=pt[ut]).partialLength,lt=0),un="",Wt="",Ut="",Jt="",gn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(bn!==Rt[rt].line){switch(et.j){case 1:ot+=vt-et.lineWidths[Rt[rt].line];break;case 2:ot+=(vt-et.lineWidths[Rt[rt].line])/2}bn=Rt[rt].line}Kt!==Rt[rt].ind&&(Rt[Kt]&&(ot+=Rt[Kt].extra),ot+=Rt[rt].an/2,Kt=Rt[rt].ind),ot+=At[0]*Rt[rt].an*.005;var pn=0;for($t=0;$t<jt;$t+=1)(kt=Mt[$t].a).p.propType&&((Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars)).length?pn+=kt.p.v[0]*Bt[0]:pn+=kt.p.v[0]*Bt),kt.a.propType&&((Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars)).length?pn+=kt.a.v[0]*Bt[0]:pn+=kt.a.v[0]*Bt);for(ct=!0,this._pathData.a.v&&(ot=.5*Rt[0].an+(vt-this._pathData.f.v-.5*Rt[0].an-.5*Rt[Rt.length-1].an)*Kt/(it-1),ot+=this._pathData.f.v);ct;)lt+dt>=ot+pn||!pt?(xt=(ot+pn-lt)/at.partialLength,Yt=ht.point[0]+(at.point[0]-ht.point[0])*xt,rn=ht.point[1]+(at.point[1]-ht.point[1])*xt,St.translate(-At[0]*Rt[rt].an*.005,-At[1]*Lt*.01),ct=!1):pt&&(lt+=at.partialLength,(ut+=1)>=pt.length&&(ut=0,gt[ft+=1]?pt=gt[ft].points:bt.v.c?(ut=0,pt=gt[ft=0].points):(lt-=at.partialLength,pt=null)),pt&&(ht=at,dt=(at=pt[ut]).partialLength));Vt=Rt[rt].an/2-Rt[rt].add,St.translate(-Vt,0,0)}else Vt=Rt[rt].an/2-Rt[rt].add,St.translate(-Vt,0,0),St.translate(-At[0]*Rt[rt].an*.005,-At[1]*Lt*.01,0);for($t=0;$t<jt;$t+=1)(kt=Mt[$t].a).t.propType&&(Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars),tt===0&&et.j===0||(this._hasMaskedPath?Bt.length?ot+=kt.t.v*Bt[0]:ot+=kt.t.v*Bt:Bt.length?tt+=kt.t.v*Bt[0]:tt+=kt.t.v*Bt));for(et.strokeWidthAnim&&(Zt=et.sw||0),et.strokeColorAnim&&(cn=et.sc?[et.sc[0],et.sc[1],et.sc[2]]:[0,0,0]),et.fillColorAnim&&et.fc&&(an=[et.fc[0],et.fc[1],et.fc[2]]),$t=0;$t<jt;$t+=1)(kt=Mt[$t].a).a.propType&&((Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars)).length?St.translate(-kt.a.v[0]*Bt[0],-kt.a.v[1]*Bt[1],kt.a.v[2]*Bt[2]):St.translate(-kt.a.v[0]*Bt,-kt.a.v[1]*Bt,kt.a.v[2]*Bt));for($t=0;$t<jt;$t+=1)(kt=Mt[$t].a).s.propType&&((Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars)).length?St.scale(1+(kt.s.v[0]-1)*Bt[0],1+(kt.s.v[1]-1)*Bt[1],1):St.scale(1+(kt.s.v[0]-1)*Bt,1+(kt.s.v[1]-1)*Bt,1));for($t=0;$t<jt;$t+=1){if(kt=Mt[$t].a,Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars),kt.sk.propType&&(Bt.length?St.skewFromAxis(-kt.sk.v*Bt[0],kt.sa.v*Bt[1]):St.skewFromAxis(-kt.sk.v*Bt,kt.sa.v*Bt)),kt.r.propType&&(Bt.length?St.rotateZ(-kt.r.v*Bt[2]):St.rotateZ(-kt.r.v*Bt)),kt.ry.propType&&(Bt.length?St.rotateY(kt.ry.v*Bt[1]):St.rotateY(kt.ry.v*Bt)),kt.rx.propType&&(Bt.length?St.rotateX(kt.rx.v*Bt[0]):St.rotateX(kt.rx.v*Bt)),kt.o.propType&&(Bt.length?sn+=(kt.o.v*Bt[0]-sn)*Bt[0]:sn+=(kt.o.v*Bt-sn)*Bt),et.strokeWidthAnim&&kt.sw.propType&&(Bt.length?Zt+=kt.sw.v*Bt[0]:Zt+=kt.sw.v*Bt),et.strokeColorAnim&&kt.sc.propType)for(Qt=0;Qt<3;Qt+=1)Bt.length?cn[Qt]+=(kt.sc.v[Qt]-cn[Qt])*Bt[0]:cn[Qt]+=(kt.sc.v[Qt]-cn[Qt])*Bt;if(et.fillColorAnim&&et.fc){if(kt.fc.propType)for(Qt=0;Qt<3;Qt+=1)Bt.length?an[Qt]+=(kt.fc.v[Qt]-an[Qt])*Bt[0]:an[Qt]+=(kt.fc.v[Qt]-an[Qt])*Bt;kt.fh.propType&&(an=Bt.length?addHueToRGB(an,kt.fh.v*Bt[0]):addHueToRGB(an,kt.fh.v*Bt)),kt.fs.propType&&(an=Bt.length?addSaturationToRGB(an,kt.fs.v*Bt[0]):addSaturationToRGB(an,kt.fs.v*Bt)),kt.fb.propType&&(an=Bt.length?addBrightnessToRGB(an,kt.fb.v*Bt[0]):addBrightnessToRGB(an,kt.fb.v*Bt))}}for($t=0;$t<jt;$t+=1)(kt=Mt[$t].a).p.propType&&(Bt=Mt[$t].s.getMult(Rt[rt].anIndexes[$t],Tt.a[$t].s.totalChars),this._hasMaskedPath?Bt.length?St.translate(0,kt.p.v[1]*Bt[0],-kt.p.v[2]*Bt[1]):St.translate(0,kt.p.v[1]*Bt,-kt.p.v[2]*Bt):Bt.length?St.translate(kt.p.v[0]*Bt[0],kt.p.v[1]*Bt[1],-kt.p.v[2]*Bt[2]):St.translate(kt.p.v[0]*Bt,kt.p.v[1]*Bt,-kt.p.v[2]*Bt));if(et.strokeWidthAnim&&(Ut=Zt<0?0:Zt),et.strokeColorAnim&&(Gt="rgb("+Math.round(255*cn[0])+","+Math.round(255*cn[1])+","+Math.round(255*cn[2])+")"),et.fillColorAnim&&et.fc&&(Wt="rgb("+Math.round(255*an[0])+","+Math.round(255*an[1])+","+Math.round(255*an[2])+")"),this._hasMaskedPath){if(St.translate(0,-et.ls),St.translate(0,At[1]*Lt*.01+nt,0),this._pathData.p.v){_t=(at.point[1]-ht.point[1])/(at.point[0]-ht.point[0]);var Sn=180*Math.atan(_t)/Math.PI;at.point[0]<ht.point[0]&&(Sn+=180),St.rotate(-Sn*Math.PI/180)}St.translate(Yt,rn,0),ot-=At[0]*Rt[rt].an*.005,Rt[rt+1]&&Kt!==Rt[rt+1].ind&&(ot+=Rt[rt].an/2,ot+=.001*et.tr*et.finalSize)}else{switch(St.translate(tt,nt,0),et.ps&&St.translate(et.ps[0],et.ps[1]+et.ascent,0),et.j){case 1:St.translate(Rt[rt].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[Rt[rt].line]),0,0);break;case 2:St.translate(Rt[rt].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[Rt[rt].line])/2,0,0)}St.translate(0,-et.ls),St.translate(Vt,0,0),St.translate(At[0]*Rt[rt].an*.005,At[1]*Lt*.01,0),tt+=Rt[rt].l+.001*et.tr*et.finalSize}Ct==="html"?un=St.toCSS():Ct==="svg"?un=St.to2dCSS():gn=[St.props[0],St.props[1],St.props[2],St.props[3],St.props[4],St.props[5],St.props[6],St.props[7],St.props[8],St.props[9],St.props[10],St.props[11],St.props[12],St.props[13],St.props[14],St.props[15]],Jt=sn}Et<=rt?(Ht=new LetterProps(Jt,Ut,Gt,Wt,un,gn),this.renderedLetters.push(Ht),Et+=1,this.lettersChangedFlag=!0):(Ht=this.renderedLetters[rt],this.lettersChangedFlag=Ht.update(Jt,Ut,Gt,Wt,un,gn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(et,_e,tt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(et,_e,tt),this.textProperty=new TextProperty(this,et.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(et.t,this.renderType,this),this.initTransform(et,_e,tt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(et,_e){var tt,nt,rt=_e.length,it="";for(tt=0;tt<rt;tt+=1)_e[tt].ty==="sh"&&(nt=_e[tt].ks.k,it+=buildShapeString(nt,nt.i.length,!0,et));return it},ITextElement.prototype.updateDocumentData=function(et,_e){this.textProperty.updateDocumentData(et,_e)},ITextElement.prototype.canResizeFont=function(et){this.textProperty.canResizeFont(et)},ITextElement.prototype.setMinimumFontSize=function(et){this.textProperty.setMinimumFontSize(et)},ITextElement.prototype.applyTextPropertiesToMatrix=function(et,_e,tt,nt,rt){switch(et.ps&&_e.translate(et.ps[0],et.ps[1]+et.ascent,0),_e.translate(0,-et.ls,0),et.j){case 1:_e.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[tt]),0,0);break;case 2:_e.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[tt])/2,0,0)}_e.translate(nt,rt,0)},ITextElement.prototype.buildColor=function(et){return"rgb("+Math.round(255*et[0])+","+Math.round(255*et[1])+","+Math.round(255*et[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(et,_e,tt){this.textSpans=[],this.renderType="svg",this.initElement(et,_e,tt)}function ISolidElement(et,_e,tt){this.initElement(et,_e,tt)}function NullElement(et,_e,tt){this.initFrame(),this.initBaseData(et,_e,tt),this.initFrame(),this.initTransform(et,_e,tt),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(et,_e,tt){this.layers=et.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,_e,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0}}function SVGRenderer(et,_e){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var tt="";if(_e&&_e.title){var nt=createNS("title"),rt=createElementID();nt.setAttribute("id",rt),nt.textContent=_e.title,this.svgElement.appendChild(nt),tt+=rt}if(_e&&_e.description){var it=createNS("desc"),st=createElementID();it.setAttribute("id",st),it.textContent=_e.description,this.svgElement.appendChild(it),tt+=" "+st}tt&&this.svgElement.setAttribute("aria-labelledby",tt);var ot=createNS("defs");this.svgElement.appendChild(ot);var at=createNS("g");this.svgElement.appendChild(at),this.layerElement=at,this.renderConfig={preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",progressiveLoad:_e&&_e.progressiveLoad||!1,hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),viewBoxOnly:_e&&_e.viewBoxOnly||!1,viewBoxSize:_e&&_e.viewBoxSize||!1,className:_e&&_e.className||"",id:_e&&_e.id||"",focusable:_e&&_e.focusable,filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"100%",height:_e&&_e.filterSize&&_e.filterSize.height||"100%",x:_e&&_e.filterSize&&_e.filterSize.x||"0%",y:_e&&_e.filterSize&&_e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:ot,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var et;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),et=0;et<15;et+=1)this.saved[et]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(et,_e){var tt;this.data=et,this.element=_e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var nt=this.masksProperties.length,rt=!1;for(tt=0;tt<nt;tt+=1)this.masksProperties[tt].mode!=="n"&&(rt=!0),this.viewData[tt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[tt],3);this.hasMasks=rt,rt&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(et,_e,tt,nt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var rt,it=4;_e.ty==="rc"?it=5:_e.ty==="el"?it=6:_e.ty==="sr"&&(it=7),this.sh=ShapePropertyFactory.getShapeProp(et,_e,it,et);var st,ot=tt.length;for(rt=0;rt<ot;rt+=1)tt[rt].closed||(st={transforms:nt.addTransformSequence(tt[rt].transforms),trNodes:[]},this.styledShapes.push(st),tt[rt].elements.push(st))}function CVShapeElement(et,_e,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(et,_e,tt)}function CVTextElement(et,_e,tt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(et,_e,tt)}function CVImageElement(et,_e,tt){this.assetData=_e.getAssetData(et.refId),this.img=_e.imageLoader.getAsset(this.assetData),this.initElement(et,_e,tt)}function CVSolidElement(et,_e,tt){this.initElement(et,_e,tt)}function CanvasRendererBase(et,_e){this.animationItem=et,this.renderConfig={clearCanvas:!_e||_e.clearCanvas===void 0||_e.clearCanvas,context:_e&&_e.context||null,progressiveLoad:_e&&_e.progressiveLoad||!1,preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",className:_e&&_e.className||"",id:_e&&_e.id||""},this.renderConfig.dpr=_e&&_e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_e&&_e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(et,_e,tt){this.completeLayers=!1,this.layers=et.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(et,_e,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(et,_e){this.animationItem=et,this.renderConfig={clearCanvas:!_e||_e.clearCanvas===void 0||_e.clearCanvas,context:_e&&_e.context||null,progressiveLoad:_e&&_e.progressiveLoad||!1,preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",className:_e&&_e.className||"",id:_e&&_e.id||""},this.renderConfig.dpr=_e&&_e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_e&&_e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(et,_e,tt){this.initElement(et,_e,tt)}function HShapeElement(et,_e,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(et,_e,tt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(et,_e,tt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(et,_e,tt)}function HCameraElement(et,_e,tt){this.initFrame(),this.initBaseData(et,_e,tt),this.initHierarchy();var nt=PropertyFactory.getProp;if(this.pe=nt(this,et.pe,0,0,this),et.ks.p.s?(this.px=nt(this,et.ks.p.x,1,0,this),this.py=nt(this,et.ks.p.y,1,0,this),this.pz=nt(this,et.ks.p.z,1,0,this)):this.p=nt(this,et.ks.p,1,0,this),et.ks.a&&(this.a=nt(this,et.ks.a,1,0,this)),et.ks.or.k.length&&et.ks.or.k[0].to){var rt,it=et.ks.or.k.length;for(rt=0;rt<it;rt+=1)et.ks.or.k[rt].to=null,et.ks.or.k[rt].ti=null}this.or=nt(this,et.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=nt(this,et.ks.rx,0,degToRads,this),this.ry=nt(this,et.ks.ry,0,degToRads,this),this.rz=nt(this,et.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(et,_e,tt){this.assetData=_e.getAssetData(et.refId),this.initElement(et,_e,tt)}function HybridRendererBase(et,_e){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(et,_e,tt){this.layers=et.layers,this.supports3d=!et.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,_e,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0}}function HybridRenderer(et,_e){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(et){for(var _e=0,tt=et.length,nt=[],rt="";_e<tt;)et[_e]===String.fromCharCode(13)||et[_e]===String.fromCharCode(3)?(nt.push(rt),rt=""):rt+=et[_e],_e+=1;return nt.push(rt),nt},SVGTextLottieElement.prototype.buildNewText=function(){var et,_e;this.addDynamicProperty(this);var tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt?tt.l.length:0),tt.fc?this.layerElement.setAttribute("fill",this.buildColor(tt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),tt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(tt.sc)),this.layerElement.setAttribute("stroke-width",tt.sw)),this.layerElement.setAttribute("font-size",tt.finalSize);var nt=this.globalData.fontManager.getFontByName(tt.f);if(nt.fClass)this.layerElement.setAttribute("class",nt.fClass);else{this.layerElement.setAttribute("font-family",nt.fFamily);var rt=tt.fWeight,it=tt.fStyle;this.layerElement.setAttribute("font-style",it),this.layerElement.setAttribute("font-weight",rt)}this.layerElement.setAttribute("aria-label",tt.t);var st,ot=tt.l||[],at=!!this.globalData.fontManager.chars;_e=ot.length;var lt=this.mHelper,ct=this.data.singleShape,ut=0,ft=0,ht=!0,pt=.001*tt.tr*tt.finalSize;if(!ct||at||tt.sz){var gt,dt=this.textSpans.length;for(et=0;et<_e;et+=1){if(this.textSpans[et]||(this.textSpans[et]={span:null,childSpan:null,glyph:null}),!at||!ct||et===0){if(st=dt>et?this.textSpans[et].span:createNS(at?"g":"text"),dt<=et){if(st.setAttribute("stroke-linecap","butt"),st.setAttribute("stroke-linejoin","round"),st.setAttribute("stroke-miterlimit","4"),this.textSpans[et].span=st,at){var vt=createNS("g");st.appendChild(vt),this.textSpans[et].childSpan=vt}this.textSpans[et].span=st,this.layerElement.appendChild(st)}st.style.display="inherit"}if(lt.reset(),lt.scale(tt.finalSize/100,tt.finalSize/100),ct&&(ot[et].n&&(ut=-pt,ft+=tt.yOffset,ft+=ht?1:0,ht=!1),this.applyTextPropertiesToMatrix(tt,lt,ot[et].line,ut,ft),ut+=ot[et].l||0,ut+=pt),at){var xt;if((gt=this.globalData.fontManager.getCharData(tt.finalText[et],nt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily)).t===1)xt=new SVGCompElement(gt.data,this.globalData,this);else{var _t=emptyShapeData;gt.data&&gt.data.shapes&&(_t=gt.data),xt=new SVGShapeElement(_t,this.globalData,this)}this.textSpans[et].glyph=xt,xt._debug=!0,xt.prepareFrame(0),xt.renderFrame(),this.textSpans[et].childSpan.appendChild(xt.layerElement),this.textSpans[et].childSpan.setAttribute("transform","scale("+tt.finalSize/100+","+tt.finalSize/100+")")}else ct&&st.setAttribute("transform","translate("+lt.props[12]+","+lt.props[13]+")"),st.textContent=ot[et].val,st.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ct&&st&&st.setAttribute("d","")}else{var bt=this.textContainer,At="start";switch(tt.j){case 1:At="end";break;case 2:At="middle";break;default:At="start"}bt.setAttribute("text-anchor",At),bt.setAttribute("letter-spacing",pt);var Mt=this.buildTextContents(tt.finalText);for(_e=Mt.length,ft=tt.ps?tt.ps[1]+tt.ascent:0,et=0;et<_e;et+=1)(st=this.textSpans[et].span||createNS("tspan")).textContent=Mt[et],st.setAttribute("x",0),st.setAttribute("y",ft),st.style.display="inherit",bt.appendChild(st),this.textSpans[et]||(this.textSpans[et]={span:null,glyph:null}),this.textSpans[et].span=st,ft+=tt.finalLineHeight;this.layerElement.appendChild(bt)}for(;et<this.textSpans.length;)this.textSpans[et].span.style.display="none",et+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var et=this.layerElement.getBBox();this.bbox={top:et.y,left:et.x,width:et.width,height:et.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var et,_e,tt=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,et=0;et<tt;et+=1)(_e=this.textSpans[et].glyph)&&(_e.prepareFrame(this.comp.renderedFrame-this.data.st),_e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var et,_e;this._sizeChanged=!0;var tt,nt,rt,it=this.textAnimator.renderedLetters,st=this.textProperty.currentData.l;for(_e=st.length,et=0;et<_e;et+=1)st[et].n||(tt=it[et],nt=this.textSpans[et].span,(rt=this.textSpans[et].glyph)&&rt.renderFrame(),tt._mdf.m&&nt.setAttribute("transform",tt.m),tt._mdf.o&&nt.setAttribute("opacity",tt.o),tt._mdf.sw&&nt.setAttribute("stroke-width",tt.sw),tt._mdf.sc&&nt.setAttribute("stroke",tt.sc),tt._mdf.fc&&nt.setAttribute("fill",tt.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var et=createNS("rect");et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.layerElement.appendChild(et)},NullElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(et){return new NullElement(et,this.globalData,this)},SVGRendererBase.prototype.createShape=function(et){return new SVGShapeElement(et,this.globalData,this)},SVGRendererBase.prototype.createText=function(et){return new SVGTextLottieElement(et,this.globalData,this)},SVGRendererBase.prototype.createImage=function(et){return new IImageElement(et,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(et){return new ISolidElement(et,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(et){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+et.w+" "+et.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",et.w),this.svgElement.setAttribute("height",et.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var _e=this.globalData.defs;this.setupGlobalData(et,_e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=et;var tt=createNS("clipPath"),nt=createNS("rect");nt.setAttribute("width",et.w),nt.setAttribute("height",et.h),nt.setAttribute("x",0),nt.setAttribute("y",0);var rt=createElementID();tt.setAttribute("id",rt),tt.appendChild(nt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+rt+")"),_e.appendChild(tt),this.layers=et.layers,this.elements=createSizedArray(et.layers.length)},SVGRendererBase.prototype.destroy=function(){var et;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var _e=this.layers?this.layers.length:0;for(et=0;et<_e;et+=1)this.elements[et]&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(et){var _e=this.elements;if(!_e[et]&&this.layers[et].ty!==99){_e[et]=!0;var tt=this.createItem(this.layers[et]);_e[et]=tt,getExpressionsPlugin()&&(this.layers[et].ty===0&&this.globalData.projectInterface.registerComposition(tt),tt.initExpressions()),this.appendElementInPos(tt,et),this.layers[et].tt&&(this.elements[et-1]&&this.elements[et-1]!==!0?tt.setMatte(_e[et-1].layerId):(this.buildItem(et-1),this.addPendingElement(tt)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();if(et.checkParenting(),et.data.tt)for(var _e=0,tt=this.elements.length;_e<tt;){if(this.elements[_e]===et){et.setMatte(this.elements[_e-1].layerId);break}_e+=1}}},SVGRendererBase.prototype.renderFrame=function(et){if(this.renderedFrame!==et&&!this.destroyed){var _e;et===null?et=this.renderedFrame:this.renderedFrame=et,this.globalData.frameNum=et,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=et,this.globalData._mdf=!1;var tt=this.layers.length;for(this.completeLayers||this.checkLayers(et),_e=tt-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].prepareFrame(et-this.layers[_e].st);if(this.globalData._mdf)for(_e=0;_e<tt;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(et,_e){var tt=et.getBaseElement();if(tt){for(var nt,rt=0;rt<_e;)this.elements[rt]&&this.elements[rt]!==!0&&this.elements[rt].getBaseElement()&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.layerElement.insertBefore(tt,nt):this.layerElement.appendChild(tt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(et,_e,tt){this.initFrame(),this.initBaseData(et,_e,tt),this.initTransform(et,_e,tt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&_e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(et){if(this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=et/this.data.sr;else{var _e=this.tm.v;_e===this.data.op&&(_e=this.data.op-1),this.renderedFrame=_e}var tt,nt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),tt=nt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&(this.elements[tt].prepareFrame(this.renderedFrame-this.layers[tt].st),this.elements[tt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var et,_e=this.layers.length;for(et=0;et<_e;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},ICompElement.prototype.setElements=function(et){this.elements=et},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var et,_e=this.layers.length;for(et=0;et<_e;et+=1)this.elements[et]&&this.elements[et].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)},CVContextData.prototype.duplicate=function(){var et=2*this._length,_e=this.savedOp;this.savedOp=createTypedArray("float32",et),this.savedOp.set(_e);var tt=0;for(tt=this._length;tt<et;tt+=1)this.saved[tt]=createTypedArray("float32",16);this._length=et},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(et){var _e,tt=et.length,nt="_";for(_e=0;_e<tt;_e+=1)nt+=et[_e].transform.key+"_";var rt=this.sequences[nt];return rt||(rt={transforms:[].concat(et),finalTransform:new Matrix,_mdf:!1},this.sequences[nt]=rt,this.sequenceList.push(rt)),rt},processSequence:function(et,_e){for(var tt,nt=0,rt=et.transforms.length,it=_e;nt<rt&&!_e;){if(et.transforms[nt].transform.mProps._mdf){it=!0;break}nt+=1}if(it)for(et.finalTransform.reset(),nt=rt-1;nt>=0;nt-=1)tt=et.transforms[nt].transform.mProps.v.props,et.finalTransform.transform(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],tt[8],tt[9],tt[10],tt[11],tt[12],tt[13],tt[14],tt[15]);et._mdf=it},processSequences:function(et){var _e,tt=this.sequenceList.length;for(_e=0;_e<tt;_e+=1)this.processSequence(this.sequenceList[_e],et)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var et,_e,tt,nt,rt=this.element.finalTransform.mat,it=this.element.canvasContext,st=this.masksProperties.length;for(it.beginPath(),et=0;et<st;et+=1)if(this.masksProperties[et].mode!=="n"){var ot;this.masksProperties[et].inv&&(it.moveTo(0,0),it.lineTo(this.element.globalData.compSize.w,0),it.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),it.lineTo(0,this.element.globalData.compSize.h),it.lineTo(0,0)),nt=this.viewData[et].v,_e=rt.applyToPointArray(nt.v[0][0],nt.v[0][1],0),it.moveTo(_e[0],_e[1]);var at=nt._length;for(ot=1;ot<at;ot+=1)tt=rt.applyToTriplePoints(nt.o[ot-1],nt.i[ot],nt.v[ot]),it.bezierCurveTo(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5]);tt=rt.applyToTriplePoints(nt.o[ot-1],nt.i[0],nt.v[0]),it.bezierCurveTo(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5])}this.element.globalData.renderer.save(!0),it.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var et=this.globalData;if(et.blendMode!==this.data.bm){et.blendMode=this.data.bm;var _e=getBlendMode(this.data.bm);et.canvasContext.globalCompositeOperation=_e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var et=this.data.ty===0;this.globalData.renderer.save(et),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(et),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(et,_e){var tt={data:et,type:et.ty,preTransforms:this.transformsManager.addTransformSequence(_e),transforms:[],elements:[],closed:et.hd===!0},nt={};if(et.ty==="fl"||et.ty==="st"?(nt.c=PropertyFactory.getProp(this,et.c,1,255,this),nt.c.k||(tt.co="rgb("+bmFloor(nt.c.v[0])+","+bmFloor(nt.c.v[1])+","+bmFloor(nt.c.v[2])+")")):et.ty!=="gf"&&et.ty!=="gs"||(nt.s=PropertyFactory.getProp(this,et.s,1,null,this),nt.e=PropertyFactory.getProp(this,et.e,1,null,this),nt.h=PropertyFactory.getProp(this,et.h||{k:0},0,.01,this),nt.a=PropertyFactory.getProp(this,et.a||{k:0},0,degToRads,this),nt.g=new GradientProperty(this,et.g,this)),nt.o=PropertyFactory.getProp(this,et.o,0,.01,this),et.ty==="st"||et.ty==="gs"){if(tt.lc=lineCapEnum[et.lc||2],tt.lj=lineJoinEnum[et.lj||2],et.lj==1&&(tt.ml=et.ml),nt.w=PropertyFactory.getProp(this,et.w,0,null,this),nt.w.k||(tt.wi=nt.w.v),et.d){var rt=new DashProperty(this,et.d,"canvas",this);nt.d=rt,nt.d.k||(tt.da=nt.d.dashArray,tt.do=nt.d.dashoffset[0])}}else tt.r=et.r===2?"evenodd":"nonzero";return this.stylesList.push(tt),nt.style=tt,nt},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(et){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,et.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,et,this)}}},CVShapeElement.prototype.createShapeElement=function(et){var _e=new CVShapeData(this,et,this.stylesList,this.transformsManager);return this.shapes.push(_e),this.addShapeToModifiers(_e),_e},CVShapeElement.prototype.reloadShapes=function(){var et;this._isFirstFrame=!0;var _e=this.itemsData.length;for(et=0;et<_e;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_e=this.dynamicProperties.length,et=0;et<_e;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(et){var _e,tt=this.stylesList.length;for(_e=0;_e<tt;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.push(et)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var et,_e=this.stylesList.length;for(et=0;et<_e;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.pop()},CVShapeElement.prototype.closeStyles=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)et[_e].closed=!0},CVShapeElement.prototype.searchShapes=function(et,_e,tt,nt,rt){var it,st,ot,at,lt,ct,ut=et.length-1,ft=[],ht=[],pt=[].concat(rt);for(it=ut;it>=0;it-=1){if((at=this.searchProcessedElement(et[it]))?_e[it]=tt[at-1]:et[it]._shouldRender=nt,et[it].ty==="fl"||et[it].ty==="st"||et[it].ty==="gf"||et[it].ty==="gs")at?_e[it].style.closed=!1:_e[it]=this.createStyleElement(et[it],pt),ft.push(_e[it].style);else if(et[it].ty==="gr"){if(at)for(ot=_e[it].it.length,st=0;st<ot;st+=1)_e[it].prevViewData[st]=_e[it].it[st];else _e[it]=this.createGroupElement(et[it]);this.searchShapes(et[it].it,_e[it].it,_e[it].prevViewData,nt,pt)}else et[it].ty==="tr"?(at||(ct=this.createTransformElement(et[it]),_e[it]=ct),pt.push(_e[it]),this.addTransformToStyleList(_e[it])):et[it].ty==="sh"||et[it].ty==="rc"||et[it].ty==="el"||et[it].ty==="sr"?at||(_e[it]=this.createShapeElement(et[it])):et[it].ty==="tm"||et[it].ty==="rd"||et[it].ty==="pb"?(at?(lt=_e[it]).closed=!1:((lt=ShapeModifiers.getModifier(et[it].ty)).init(this,et[it]),_e[it]=lt,this.shapeModifiers.push(lt)),ht.push(lt)):et[it].ty==="rp"&&(at?(lt=_e[it]).closed=!0:(lt=ShapeModifiers.getModifier(et[it].ty),_e[it]=lt,lt.init(this,et,it,_e),this.shapeModifiers.push(lt),nt=!1),ht.push(lt));this.addProcessedElement(et[it],it+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ft),ut=ht.length,it=0;it<ut;it+=1)ht[it].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(et,_e){(et._opMdf||_e.op._mdf||this._isFirstFrame)&&(_e.opacity=et.opacity,_e.opacity*=_e.op.v,_e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var et,_e,tt,nt,rt,it,st,ot,at,lt=this.stylesList.length,ct=this.globalData.renderer,ut=this.globalData.canvasContext;for(et=0;et<lt;et+=1)if(((ot=(at=this.stylesList[et]).type)!=="st"&&ot!=="gs"||at.wi!==0)&&at.data._shouldRender&&at.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(ct.save(),it=at.elements,ot==="st"||ot==="gs"?(ut.strokeStyle=ot==="st"?at.co:at.grd,ut.lineWidth=at.wi,ut.lineCap=at.lc,ut.lineJoin=at.lj,ut.miterLimit=at.ml||0):ut.fillStyle=ot==="fl"?at.co:at.grd,ct.ctxOpacity(at.coOp),ot!=="st"&&ot!=="gs"&&ut.beginPath(),ct.ctxTransform(at.preTransforms.finalTransform.props),tt=it.length,_e=0;_e<tt;_e+=1){for(ot!=="st"&&ot!=="gs"||(ut.beginPath(),at.da&&(ut.setLineDash(at.da),ut.lineDashOffset=at.do)),rt=(st=it[_e].trNodes).length,nt=0;nt<rt;nt+=1)st[nt].t==="m"?ut.moveTo(st[nt].p[0],st[nt].p[1]):st[nt].t==="c"?ut.bezierCurveTo(st[nt].pts[0],st[nt].pts[1],st[nt].pts[2],st[nt].pts[3],st[nt].pts[4],st[nt].pts[5]):ut.closePath();ot!=="st"&&ot!=="gs"||(ut.stroke(),at.da&&ut.setLineDash(this.dashResetter))}ot!=="st"&&ot!=="gs"&&ut.fill(at.r),ct.restore()}},CVShapeElement.prototype.renderShape=function(et,_e,tt,nt){var rt,it;for(it=et,rt=_e.length-1;rt>=0;rt-=1)_e[rt].ty==="tr"?(it=tt[rt].transform,this.renderShapeTransform(et,it)):_e[rt].ty==="sh"||_e[rt].ty==="el"||_e[rt].ty==="rc"||_e[rt].ty==="sr"?this.renderPath(_e[rt],tt[rt]):_e[rt].ty==="fl"?this.renderFill(_e[rt],tt[rt],it):_e[rt].ty==="st"?this.renderStroke(_e[rt],tt[rt],it):_e[rt].ty==="gf"||_e[rt].ty==="gs"?this.renderGradientFill(_e[rt],tt[rt],it):_e[rt].ty==="gr"?this.renderShape(it,_e[rt].it,tt[rt].it):_e[rt].ty;nt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(et,_e){if(this._isFirstFrame||_e._mdf||et.transforms._mdf){var tt,nt,rt,it=et.trNodes,st=_e.paths,ot=st._length;it.length=0;var at=et.transforms.finalTransform;for(rt=0;rt<ot;rt+=1){var lt=st.shapes[rt];if(lt&&lt.v){for(nt=lt._length,tt=1;tt<nt;tt+=1)tt===1&&it.push({t:"m",p:at.applyToPointArray(lt.v[0][0],lt.v[0][1],0)}),it.push({t:"c",pts:at.applyToTriplePoints(lt.o[tt-1],lt.i[tt],lt.v[tt])});nt===1&&it.push({t:"m",p:at.applyToPointArray(lt.v[0][0],lt.v[0][1],0)}),lt.c&&nt&&(it.push({t:"c",pts:at.applyToTriplePoints(lt.o[tt-1],lt.i[0],lt.v[0])}),it.push({t:"z"}))}}et.trNodes=it}},CVShapeElement.prototype.renderPath=function(et,_e){if(et.hd!==!0&&et._shouldRender){var tt,nt=_e.styledShapes.length;for(tt=0;tt<nt;tt+=1)this.renderStyledShape(_e.styledShapes[tt],_e.sh)}},CVShapeElement.prototype.renderFill=function(et,_e,tt){var nt=_e.style;(_e.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||tt._opMdf||this._isFirstFrame)&&(nt.coOp=_e.o.v*tt.opacity)},CVShapeElement.prototype.renderGradientFill=function(et,_e,tt){var nt,rt=_e.style;if(!rt.grd||_e.g._mdf||_e.s._mdf||_e.e._mdf||et.t!==1&&(_e.h._mdf||_e.a._mdf)){var it,st=this.globalData.canvasContext,ot=_e.s.v,at=_e.e.v;if(et.t===1)nt=st.createLinearGradient(ot[0],ot[1],at[0],at[1]);else{var lt=Math.sqrt(Math.pow(ot[0]-at[0],2)+Math.pow(ot[1]-at[1],2)),ct=Math.atan2(at[1]-ot[1],at[0]-ot[0]),ut=_e.h.v;ut>=1?ut=.99:ut<=-1&&(ut=-.99);var ft=lt*ut,ht=Math.cos(ct+_e.a.v)*ft+ot[0],pt=Math.sin(ct+_e.a.v)*ft+ot[1];nt=st.createRadialGradient(ht,pt,0,ot[0],ot[1],lt)}var gt=et.g.p,dt=_e.g.c,vt=1;for(it=0;it<gt;it+=1)_e.g._hasOpacity&&_e.g._collapsable&&(vt=_e.g.o[2*it+1]),nt.addColorStop(dt[4*it]/100,"rgba("+dt[4*it+1]+","+dt[4*it+2]+","+dt[4*it+3]+","+vt+")");rt.grd=nt}rt.coOp=_e.o.v*tt.opacity},CVShapeElement.prototype.renderStroke=function(et,_e,tt){var nt=_e.style,rt=_e.d;rt&&(rt._mdf||this._isFirstFrame)&&(nt.da=rt.dashArray,nt.do=rt.dashoffset[0]),(_e.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||tt._opMdf||this._isFirstFrame)&&(nt.coOp=_e.o.v*tt.opacity),(_e.w._mdf||this._isFirstFrame)&&(nt.wi=_e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var _e=!1;et.fc?(_e=!0,this.values.fill=this.buildColor(et.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=_e;var tt=!1;et.sc&&(tt=!0,this.values.stroke=this.buildColor(et.sc),this.values.sWidth=et.sw);var nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,pt,gt=this.globalData.fontManager.getFontByName(et.f),dt=et.l,vt=this.mHelper;this.stroke=tt,this.values.fValue=et.finalSize+"px "+this.globalData.fontManager.getFontByName(et.f).fFamily,rt=et.finalText.length;var xt=this.data.singleShape,_t=.001*et.tr*et.finalSize,bt=0,At=0,Mt=!0,Tt=0;for(nt=0;nt<rt;nt+=1){st=(it=this.globalData.fontManager.getCharData(et.finalText[nt],gt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily))&&it.data||{},vt.reset(),xt&&dt[nt].n&&(bt=-_t,At+=et.yOffset,At+=Mt?1:0,Mt=!1),ut=(lt=st.shapes?st.shapes[0].it:[]).length,vt.scale(et.finalSize/100,et.finalSize/100),xt&&this.applyTextPropertiesToMatrix(et,vt,dt[nt].line,bt,At),ht=createSizedArray(ut-1);var St=0;for(ct=0;ct<ut;ct+=1)if(lt[ct].ty==="sh"){for(at=lt[ct].ks.k.i.length,ft=lt[ct].ks.k,pt=[],ot=1;ot<at;ot+=1)ot===1&&pt.push(vt.applyToX(ft.v[0][0],ft.v[0][1],0),vt.applyToY(ft.v[0][0],ft.v[0][1],0)),pt.push(vt.applyToX(ft.o[ot-1][0],ft.o[ot-1][1],0),vt.applyToY(ft.o[ot-1][0],ft.o[ot-1][1],0),vt.applyToX(ft.i[ot][0],ft.i[ot][1],0),vt.applyToY(ft.i[ot][0],ft.i[ot][1],0),vt.applyToX(ft.v[ot][0],ft.v[ot][1],0),vt.applyToY(ft.v[ot][0],ft.v[ot][1],0));pt.push(vt.applyToX(ft.o[ot-1][0],ft.o[ot-1][1],0),vt.applyToY(ft.o[ot-1][0],ft.o[ot-1][1],0),vt.applyToX(ft.i[0][0],ft.i[0][1],0),vt.applyToY(ft.i[0][0],ft.i[0][1],0),vt.applyToX(ft.v[0][0],ft.v[0][1],0),vt.applyToY(ft.v[0][0],ft.v[0][1],0)),ht[St]=pt,St+=1}xt&&(bt+=dt[nt].l,bt+=_t),this.textSpans[Tt]?this.textSpans[Tt].elem=ht:this.textSpans[Tt]={elem:ht},Tt+=1}},CVTextElement.prototype.renderInnerContent=function(){var et,_e,tt,nt,rt,it,st=this.canvasContext;st.font=this.values.fValue,st.lineCap="butt",st.lineJoin="miter",st.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var ot,at=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;_e=lt.length;var ct,ut,ft=null,ht=null,pt=null;for(et=0;et<_e;et+=1)if(!lt[et].n){if((ot=at[et])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(ot.p),this.globalData.renderer.ctxOpacity(ot.o)),this.fill){for(ot&&ot.fc?ft!==ot.fc&&(ft=ot.fc,st.fillStyle=ot.fc):ft!==this.values.fill&&(ft=this.values.fill,st.fillStyle=this.values.fill),nt=(ct=this.textSpans[et].elem).length,this.globalData.canvasContext.beginPath(),tt=0;tt<nt;tt+=1)for(it=(ut=ct[tt]).length,this.globalData.canvasContext.moveTo(ut[0],ut[1]),rt=2;rt<it;rt+=6)this.globalData.canvasContext.bezierCurveTo(ut[rt],ut[rt+1],ut[rt+2],ut[rt+3],ut[rt+4],ut[rt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(ot&&ot.sw?pt!==ot.sw&&(pt=ot.sw,st.lineWidth=ot.sw):pt!==this.values.sWidth&&(pt=this.values.sWidth,st.lineWidth=this.values.sWidth),ot&&ot.sc?ht!==ot.sc&&(ht=ot.sc,st.strokeStyle=ot.sc):ht!==this.values.stroke&&(ht=this.values.stroke,st.strokeStyle=this.values.stroke),nt=(ct=this.textSpans[et].elem).length,this.globalData.canvasContext.beginPath(),tt=0;tt<nt;tt+=1)for(it=(ut=ct[tt]).length,this.globalData.canvasContext.moveTo(ut[0],ut[1]),rt=2;rt<it;rt+=6)this.globalData.canvasContext.bezierCurveTo(ut[rt],ut[rt+1],ut[rt+2],ut[rt+3],ut[rt+4],ut[rt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}ot&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var et=createTag("canvas");et.width=this.assetData.w,et.height=this.assetData.h;var _e,tt,nt=et.getContext("2d"),rt=this.img.width,it=this.img.height,st=rt/it,ot=this.assetData.w/this.assetData.h,at=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;st>ot&&at==="xMidYMid slice"||st<ot&&at!=="xMidYMid slice"?_e=(tt=it)*ot:tt=(_e=rt)/ot,nt.drawImage(this.img,(rt-_e)/2,(it-tt)/2,_e,tt,0,0,this.assetData.w,this.assetData.h),this.img=et}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var et=this.canvasContext;et.fillStyle=this.data.sc,et.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(et){return new CVShapeElement(et,this.globalData,this)},CanvasRendererBase.prototype.createText=function(et){return new CVTextElement(et,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(et){return new CVImageElement(et,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(et){return new CVSolidElement(et,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(et){if(et[0]!==1||et[1]!==0||et[4]!==0||et[5]!==1||et[12]!==0||et[13]!==0)if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(et);var _e=this.contextData.cTr.props;this.transformMat.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7],_e[8],_e[9],_e[10],_e[11],_e[12],_e[13],_e[14],_e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var tt=this.contextData.cTr.props;this.canvasContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13])}else this.canvasContext.transform(et[0],et[1],et[4],et[5],et[12],et[13])},CanvasRendererBase.prototype.ctxOpacity=function(et){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=et<0?0:et,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=et<0?0:et,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(et){if(this.renderConfig.clearCanvas){et&&this.canvasContext.save();var _e,tt=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var nt=this.contextData.saved[this.contextData.cArrPos];for(_e=0;_e<16;_e+=1)nt[_e]=tt[_e];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(et){if(this.renderConfig.clearCanvas){et&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var _e,tt=this.contextData.saved[this.contextData.cArrPos],nt=this.contextData.cTr.props;for(_e=0;_e<16;_e+=1)nt[_e]=tt[_e];this.canvasContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13]),tt=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=tt,this.globalData.currentGlobalAlpha!==tt&&(this.canvasContext.globalAlpha=tt,this.globalData.currentGlobalAlpha=tt)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(et){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var _e=this.animationItem.container.style;_e.width="100%",_e.height="100%";var tt="0px 0px 0px";_e.transformOrigin=tt,_e.mozTransformOrigin=tt,_e.webkitTransformOrigin=tt,_e["-webkit-transform"]=tt,_e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=et,this.layers=et.layers,this.transformCanvas={w:et.w,h:et.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(et,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(et.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var et,_e,tt,nt;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(et=this.animationItem.wrapper.offsetWidth,_e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",et*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",_e*this.renderConfig.dpr)):(et=this.canvasContext.canvas.width*this.renderConfig.dpr,_e=this.canvasContext.canvas.height*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var rt=this.renderConfig.preserveAspectRatio.split(" "),it=rt[1]||"meet",st=rt[0]||"xMidYMid",ot=st.substr(0,4),at=st.substr(4);tt=et/_e,(nt=this.transformCanvas.w/this.transformCanvas.h)>tt&&it==="meet"||nt<tt&&it==="slice"?(this.transformCanvas.sx=et/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=et/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=_e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=_e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=ot==="xMid"&&(nt<tt&&it==="meet"||nt>tt&&it==="slice")?(et-this.transformCanvas.w*(_e/this.transformCanvas.h))/2*this.renderConfig.dpr:ot==="xMax"&&(nt<tt&&it==="meet"||nt>tt&&it==="slice")?(et-this.transformCanvas.w*(_e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=at==="YMid"&&(nt>tt&&it==="meet"||nt<tt&&it==="slice")?(_e-this.transformCanvas.h*(et/this.transformCanvas.w))/2*this.renderConfig.dpr:at==="YMax"&&(nt>tt&&it==="meet"||nt<tt&&it==="slice")?(_e-this.transformCanvas.h*(et/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=et/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=_e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var et;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),et=(this.layers?this.layers.length:0)-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(et,_e){if((this.renderedFrame!==et||this.renderConfig.clearCanvas!==!0||_e)&&!this.destroyed&&et!==-1){var tt;this.renderedFrame=et,this.globalData.frameNum=et-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||_e,this.globalData.projectInterface.currentFrame=et;var nt=this.layers.length;for(this.completeLayers||this.checkLayers(et),tt=0;tt<nt;tt+=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].prepareFrame(et-this.layers[tt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),tt=nt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(et){var _e=this.elements;if(!_e[et]&&this.layers[et].ty!==99){var tt=this.createItem(this.layers[et],this,this.globalData);_e[et]=tt,tt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var et,_e=this.canvasContext;for(_e.beginPath(),_e.moveTo(0,0),_e.lineTo(this.data.w,0),_e.lineTo(this.data.w,this.data.h),_e.lineTo(0,this.data.h),_e.lineTo(0,0),_e.clip(),et=this.layers.length-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},CVCompElement.prototype.destroy=function(){var et;for(et=this.layers.length-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var et=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var _e=this.finalTransform.mat.toCSS();et.transform=_e,et.webkitTransform=_e}this.finalTransform._opMdf&&(et.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var et;this.data.hasMask?((et=createNS("rect")).setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((et=createTag("div")).style.width=this.data.sw+"px",et.style.height=this.data.sh+"px",et.style.backgroundColor=this.data.sc),this.layerElement.appendChild(et)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var et;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),et=this.svgElement;else{et=createNS("svg");var _e=this.comp.data?this.comp.data:this.globalData.compSize;et.setAttribute("width",_e.w),et.setAttribute("height",_e.h),et.appendChild(this.shapesContainer),this.layerElement.appendChild(et)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=et},HShapeElement.prototype.getTransformedPoint=function(et,_e){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)_e=et[tt].mProps.v.applyToPointArray(_e[0],_e[1],0);return _e},HShapeElement.prototype.calculateShapeBoundingBox=function(et,_e){var tt,nt,rt,it,st,ot=et.sh.v,at=et.transformers,lt=ot._length;if(!(lt<=1)){for(tt=0;tt<lt-1;tt+=1)nt=this.getTransformedPoint(at,ot.v[tt]),rt=this.getTransformedPoint(at,ot.o[tt]),it=this.getTransformedPoint(at,ot.i[tt+1]),st=this.getTransformedPoint(at,ot.v[tt+1]),this.checkBounds(nt,rt,it,st,_e);ot.c&&(nt=this.getTransformedPoint(at,ot.v[tt]),rt=this.getTransformedPoint(at,ot.o[tt]),it=this.getTransformedPoint(at,ot.i[0]),st=this.getTransformedPoint(at,ot.v[0]),this.checkBounds(nt,rt,it,st,_e))}},HShapeElement.prototype.checkBounds=function(et,_e,tt,nt,rt){this.getBoundsOfCurve(et,_e,tt,nt);var it=this.shapeBoundingBox;rt.x=bmMin(it.left,rt.x),rt.xMax=bmMax(it.right,rt.xMax),rt.y=bmMin(it.top,rt.y),rt.yMax=bmMax(it.bottom,rt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(et,_e,tt,nt){for(var rt,it,st,ot,at,lt,ct,ut=[[et[0],nt[0]],[et[1],nt[1]]],ft=0;ft<2;++ft)it=6*et[ft]-12*_e[ft]+6*tt[ft],rt=-3*et[ft]+9*_e[ft]-9*tt[ft]+3*nt[ft],st=3*_e[ft]-3*et[ft],it|=0,st|=0,(rt|=0)===0&&it===0||(rt===0?(ot=-st/it)>0&&ot<1&&ut[ft].push(this.calculateF(ot,et,_e,tt,nt,ft)):(at=it*it-4*st*rt)>=0&&((lt=(-it+bmSqrt(at))/(2*rt))>0&&lt<1&&ut[ft].push(this.calculateF(lt,et,_e,tt,nt,ft)),(ct=(-it-bmSqrt(at))/(2*rt))>0&&ct<1&&ut[ft].push(this.calculateF(ct,et,_e,tt,nt,ft))));this.shapeBoundingBox.left=bmMin.apply(null,ut[0]),this.shapeBoundingBox.top=bmMin.apply(null,ut[1]),this.shapeBoundingBox.right=bmMax.apply(null,ut[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ut[1])},HShapeElement.prototype.calculateF=function(et,_e,tt,nt,rt,it){return bmPow(1-et,3)*_e[it]+3*bmPow(1-et,2)*et*tt[it]+3*(1-et)*bmPow(et,2)*nt[it]+bmPow(et,3)*rt[it]},HShapeElement.prototype.calculateBoundingBox=function(et,_e){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)et[tt]&&et[tt].sh?this.calculateShapeBoundingBox(et[tt],_e):et[tt]&&et[tt].it&&this.calculateBoundingBox(et[tt].it,_e)},HShapeElement.prototype.currentBoxContains=function(et){return this.currentBBox.x<=et.x&&this.currentBBox.y<=et.y&&this.currentBBox.width+this.currentBBox.x>=et.x+et.width&&this.currentBBox.height+this.currentBBox.y>=et.y+et.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var et=this.tempBoundingBox,_e=999999;if(et.x=_e,et.xMax=-_e,et.y=_e,et.yMax=-_e,this.calculateBoundingBox(this.itemsData,et),et.width=et.xMax<et.x?0:et.xMax-et.x,et.height=et.yMax<et.y?0:et.yMax-et.y,this.currentBoxContains(et))return;var tt=!1;if(this.currentBBox.w!==et.width&&(this.currentBBox.w=et.width,this.shapeCont.setAttribute("width",et.width),tt=!0),this.currentBBox.h!==et.height&&(this.currentBBox.h=et.height,this.shapeCont.setAttribute("height",et.height),tt=!0),tt||this.currentBBox.x!==et.x||this.currentBBox.y!==et.y){this.currentBBox.w=et.width,this.currentBBox.h=et.height,this.currentBBox.x=et.x,this.currentBBox.y=et.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var nt=this.shapeCont.style,rt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";nt.transform=rt,nt.webkitTransform=rt}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var et=createNS("g");this.maskedElement.appendChild(et),this.innerElem=et}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var _e=this.innerElem.style,tt=et.fc?this.buildColor(et.fc):"rgba(0,0,0,0)";_e.fill=tt,_e.color=tt,et.sc&&(_e.stroke=this.buildColor(et.sc),_e.strokeWidth=et.sw+"px");var nt,rt,it=this.globalData.fontManager.getFontByName(et.f);if(!this.globalData.fontManager.chars)if(_e.fontSize=et.finalSize+"px",_e.lineHeight=et.finalSize+"px",it.fClass)this.innerElem.className=it.fClass;else{_e.fontFamily=it.fFamily;var st=et.fWeight,ot=et.fStyle;_e.fontStyle=ot,_e.fontWeight=st}var at,lt,ct,ut=et.l;rt=ut.length;var ft,ht=this.mHelper,pt="",gt=0;for(nt=0;nt<rt;nt+=1){if(this.globalData.fontManager.chars?(this.textPaths[gt]?at=this.textPaths[gt]:((at=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),at.setAttribute("stroke-linejoin",lineJoinEnum[2]),at.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[gt]?ct=(lt=this.textSpans[gt]).children[0]:((lt=createTag("div")).style.lineHeight=0,(ct=createNS("svg")).appendChild(at),styleDiv(lt)))):this.isMasked?at=this.textPaths[gt]?this.textPaths[gt]:createNS("text"):this.textSpans[gt]?(lt=this.textSpans[gt],at=this.textPaths[gt]):(styleDiv(lt=createTag("span")),styleDiv(at=createTag("span")),lt.appendChild(at)),this.globalData.fontManager.chars){var dt,vt=this.globalData.fontManager.getCharData(et.finalText[nt],it.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily);if(dt=vt?vt.data:null,ht.reset(),dt&&dt.shapes&&dt.shapes.length&&(ft=dt.shapes[0].it,ht.scale(et.finalSize/100,et.finalSize/100),pt=this.createPathShape(ht,ft),at.setAttribute("d",pt)),this.isMasked)this.innerElem.appendChild(at);else{if(this.innerElem.appendChild(lt),dt&&dt.shapes){document.body.appendChild(ct);var xt=ct.getBBox();ct.setAttribute("width",xt.width+2),ct.setAttribute("height",xt.height+2),ct.setAttribute("viewBox",xt.x-1+" "+(xt.y-1)+" "+(xt.width+2)+" "+(xt.height+2));var _t=ct.style,bt="translate("+(xt.x-1)+"px,"+(xt.y-1)+"px)";_t.transform=bt,_t.webkitTransform=bt,ut[nt].yOffset=xt.y-1}else ct.setAttribute("width",1),ct.setAttribute("height",1);lt.appendChild(ct)}}else if(at.textContent=ut[nt].val,at.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(at);else{this.innerElem.appendChild(lt);var At=at.style,Mt="translate3d(0,"+-et.finalSize/1.2+"px,0)";At.transform=Mt,At.webkitTransform=Mt}this.isMasked?this.textSpans[gt]=at:this.textSpans[gt]=lt,this.textSpans[gt].style.display="block",this.textPaths[gt]=at,gt+=1}for(;gt<this.textSpans.length;)this.textSpans[gt].style.display="none",gt+=1},HTextElement.prototype.renderInnerContent=function(){var et;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),et=this.svgElement.style;var _e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";et.transform=_e,et.webkitTransform=_e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var tt,nt,rt,it,st,ot=0,at=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;for(nt=lt.length,tt=0;tt<nt;tt+=1)lt[tt].n?ot+=1:(it=this.textSpans[tt],st=this.textPaths[tt],rt=at[ot],ot+=1,rt._mdf.m&&(this.isMasked?it.setAttribute("transform",rt.m):(it.style.webkitTransform=rt.m,it.style.transform=rt.m)),it.style.opacity=rt.o,rt.sw&&rt._mdf.sw&&st.setAttribute("stroke-width",rt.sw),rt.sc&&rt._mdf.sc&&st.setAttribute("stroke",rt.sc),rt.fc&&rt._mdf.fc&&(st.setAttribute("fill",rt.fc),st.style.color=rt.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ct=this.innerElem.getBBox();if(this.currentBBox.w!==ct.width&&(this.currentBBox.w=ct.width,this.svgElement.setAttribute("width",ct.width)),this.currentBBox.h!==ct.height&&(this.currentBBox.h=ct.height,this.svgElement.setAttribute("height",ct.height)),this.currentBBox.w!==ct.width+2||this.currentBBox.h!==ct.height+2||this.currentBBox.x!==ct.x-1||this.currentBBox.y!==ct.y-1){this.currentBBox.w=ct.width+2,this.currentBBox.h=ct.height+2,this.currentBBox.x=ct.x-1,this.currentBBox.y=ct.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),et=this.svgElement.style;var ut="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";et.transform=ut,et.webkitTransform=ut}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var et,_e,tt,nt,rt=this.comp.threeDElements.length;for(et=0;et<rt;et+=1)if((_e=this.comp.threeDElements[et]).type==="3d"){tt=_e.perspectiveElem.style,nt=_e.container.style;var it=this.pe.v+"px",st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";tt.perspective=it,tt.webkitPerspective=it,nt.transformOrigin="0px 0px 0px",nt.mozTransformOrigin="0px 0px 0px",nt.webkitTransformOrigin="0px 0px 0px",tt.transform=st,tt.webkitTransform=st}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var et,_e,tt=this._isFirstFrame;if(this.hierarchy)for(_e=this.hierarchy.length,et=0;et<_e;et+=1)tt=this.hierarchy[et].finalTransform.mProp._mdf||tt;if(tt||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(et=_e=this.hierarchy.length-1;et>=0;et-=1){var nt=this.hierarchy[et].finalTransform.mProp;this.mat.translate(-nt.p.v[0],-nt.p.v[1],nt.p.v[2]),this.mat.rotateX(-nt.or.v[0]).rotateY(-nt.or.v[1]).rotateZ(nt.or.v[2]),this.mat.rotateX(-nt.rx.v).rotateY(-nt.ry.v).rotateZ(nt.rz.v),this.mat.scale(1/nt.s.v[0],1/nt.s.v[1],1/nt.s.v[2]),this.mat.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var rt;rt=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var it=Math.sqrt(Math.pow(rt[0],2)+Math.pow(rt[1],2)+Math.pow(rt[2],2)),st=[rt[0]/it,rt[1]/it,rt[2]/it],ot=Math.sqrt(st[2]*st[2]+st[0]*st[0]),at=Math.atan2(st[1],ot),lt=Math.atan2(st[0],-st[2]);this.mat.rotateY(lt).rotateX(-at)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ct=!this._prevMat.equals(this.mat);if((ct||this.pe._mdf)&&this.comp.threeDElements){var ut,ft,ht;for(_e=this.comp.threeDElements.length,et=0;et<_e;et+=1)if((ut=this.comp.threeDElements[et]).type==="3d"){if(ct){var pt=this.mat.toCSS();(ht=ut.container.style).transform=pt,ht.webkitTransform=pt}this.pe._mdf&&((ft=ut.perspectiveElem.style).perspective=this.pe.v+"px",ft.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData),_e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(_e),_e.crossOrigin="anonymous",_e.src=et,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(et,_e){var tt=et.getBaseElement();if(tt){var nt=this.layers[_e];if(nt.ddd&&this.supports3d)this.addTo3dContainer(tt,_e);else if(this.threeDElements)this.addTo3dContainer(tt,_e);else{for(var rt,it,st=0;st<_e;)this.elements[st]&&this.elements[st]!==!0&&this.elements[st].getBaseElement&&(it=this.elements[st],rt=(this.layers[st].ddd?this.getThreeDContainerByPos(st):it.getBaseElement())||rt),st+=1;rt?nt.ddd&&this.supports3d||this.layerElement.insertBefore(tt,rt):nt.ddd&&this.supports3d||this.layerElement.appendChild(tt)}}},HybridRendererBase.prototype.createShape=function(et){return this.supports3d?new HShapeElement(et,this.globalData,this):new SVGShapeElement(et,this.globalData,this)},HybridRendererBase.prototype.createText=function(et){return this.supports3d?new HTextElement(et,this.globalData,this):new SVGTextLottieElement(et,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(et){return this.camera=new HCameraElement(et,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(et){return this.supports3d?new HImageElement(et,this.globalData,this):new IImageElement(et,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(et){return this.supports3d?new HSolidElement(et,this.globalData,this):new ISolidElement(et,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(et){for(var _e=0,tt=this.threeDElements.length;_e<tt;){if(this.threeDElements[_e].startPos<=et&&this.threeDElements[_e].endPos>=et)return this.threeDElements[_e].perspectiveElem;_e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(et,_e){var tt,nt,rt=createTag("div");styleDiv(rt);var it=createTag("div");if(styleDiv(it),_e==="3d"){(tt=rt.style).width=this.globalData.compSize.w+"px",tt.height=this.globalData.compSize.h+"px",tt.webkitTransformOrigin="50% 50%",tt.mozTransformOrigin="50% 50%",tt.transformOrigin="50% 50%";var st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(nt=it.style).transform=st,nt.webkitTransform=st}rt.appendChild(it);var ot={container:it,perspectiveElem:rt,startPos:et,endPos:et,type:_e};return this.threeDElements.push(ot),ot},HybridRendererBase.prototype.build3dContainers=function(){var et,_e,tt=this.layers.length,nt="";for(et=0;et<tt;et+=1)this.layers[et].ddd&&this.layers[et].ty!==3?(nt!=="3d"&&(nt="3d",_e=this.createThreeDContainer(et,"3d")),_e.endPos=Math.max(_e.endPos,et)):(nt!=="2d"&&(nt="2d",_e=this.createThreeDContainer(et,"2d")),_e.endPos=Math.max(_e.endPos,et));for(et=(tt=this.threeDElements.length)-1;et>=0;et-=1)this.resizerElem.appendChild(this.threeDElements[et].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(et,_e){for(var tt=0,nt=this.threeDElements.length;tt<nt;){if(_e<=this.threeDElements[tt].endPos){for(var rt,it=this.threeDElements[tt].startPos;it<_e;)this.elements[it]&&this.elements[it].getBaseElement&&(rt=this.elements[it].getBaseElement()),it+=1;rt?this.threeDElements[tt].container.insertBefore(et,rt):this.threeDElements[tt].container.appendChild(et);break}tt+=1}},HybridRendererBase.prototype.configAnimation=function(et){var _e=createTag("div"),tt=this.animationItem.wrapper,nt=_e.style;nt.width=et.w+"px",nt.height=et.h+"px",this.resizerElem=_e,styleDiv(_e),nt.transformStyle="flat",nt.mozTransformStyle="flat",nt.webkitTransformStyle="flat",this.renderConfig.className&&_e.setAttribute("class",this.renderConfig.className),tt.appendChild(_e),nt.overflow="hidden";var rt=createNS("svg");rt.setAttribute("width","1"),rt.setAttribute("height","1"),styleDiv(rt),this.resizerElem.appendChild(rt);var it=createNS("defs");rt.appendChild(it),this.data=et,this.setupGlobalData(et,rt),this.globalData.defs=it,this.layers=et.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var et;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var _e=this.layers?this.layers.length:0;for(et=0;et<_e;et+=1)this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var et,_e,tt,nt,rt=this.animationItem.wrapper.offsetWidth,it=this.animationItem.wrapper.offsetHeight,st=rt/it;this.globalData.compSize.w/this.globalData.compSize.h>st?(et=rt/this.globalData.compSize.w,_e=rt/this.globalData.compSize.w,tt=0,nt=(it-this.globalData.compSize.h*(rt/this.globalData.compSize.w))/2):(et=it/this.globalData.compSize.h,_e=it/this.globalData.compSize.h,tt=(rt-this.globalData.compSize.w*(it/this.globalData.compSize.h))/2,nt=0);var ot=this.resizerElem.style;ot.webkitTransform="matrix3d("+et+",0,0,0,0,"+_e+",0,0,0,0,1,0,"+tt+","+nt+",0,1)",ot.transform=ot.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var et,_e=this.globalData.compSize.w,tt=this.globalData.compSize.h,nt=this.threeDElements.length;for(et=0;et<nt;et+=1){var rt=this.threeDElements[et].perspectiveElem.style;rt.webkitPerspective=Math.sqrt(Math.pow(_e,2)+Math.pow(tt,2))+"px",rt.perspective=rt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(et){var _e,tt=et.length,nt=createTag("div");for(_e=0;_e<tt;_e+=1)if(et[_e].xt){var rt=this.createComp(et[_e],nt,this.globalData.comp,null);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(et,_e){for(var tt,nt=0;nt<_e;)this.elements[nt]&&this.elements[nt].getBaseElement&&(tt=this.elements[nt].getBaseElement()),nt+=1;tt?this.layerElement.insertBefore(et,tt):this.layerElement.appendChild(et)},HCompElement.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};var Expressions=function(){var et={};return et.initExpressions=function(_e){var tt=0,nt=[];_e.renderer.compInterface=CompExpressionInterface(_e.renderer),_e.renderer.globalData.projectInterface.registerComposition(_e.renderer),_e.renderer.globalData.pushExpression=function(){tt+=1},_e.renderer.globalData.popExpression=function(){(tt-=1)===0&&function(){var rt,it=nt.length;for(rt=0;rt<it;rt+=1)nt[rt].release();nt.length=0}()},_e.renderer.globalData.registerExpressionProperty=function(rt){nt.indexOf(rt)===-1&&nt.push(rt)}},et}();function _typeof$1(et){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(et)}function seedRandom(et,_e){var tt=this,nt=_e.pow(256,6),rt=_e.pow(2,52),it=2*rt;function st(ct){var ut,ft=ct.length,ht=this,pt=0,gt=ht.i=ht.j=0,dt=ht.S=[];for(ft||(ct=[ft++]);pt<256;)dt[pt]=pt++;for(pt=0;pt<256;pt++)dt[pt]=dt[gt=255&gt+ct[pt%ft]+(ut=dt[pt])],dt[gt]=ut;ht.g=function(vt){for(var xt,_t=0,bt=ht.i,At=ht.j,Mt=ht.S;vt--;)xt=Mt[bt=255&bt+1],_t=256*_t+Mt[255&(Mt[bt]=Mt[At=255&At+xt])+(Mt[At]=xt)];return ht.i=bt,ht.j=At,_t}}function ot(ct,ut){return ut.i=ct.i,ut.j=ct.j,ut.S=ct.S.slice(),ut}function at(ct,ut){for(var ft,ht=ct+"",pt=0;pt<ht.length;)ut[255&pt]=255&(ft^=19*ut[255&pt])+ht.charCodeAt(pt++);return lt(ut)}function lt(ct){return String.fromCharCode.apply(0,ct)}_e.seedrandom=function(ct,ut,ft){var ht=[],pt=at(function vt(xt,_t){var bt,At=[],Mt=_typeof$1(xt);if(_t&&Mt=="object")for(bt in xt)try{At.push(vt(xt[bt],_t-1))}catch{}return At.length?At:Mt=="string"?xt:xt+"\0"}((ut=ut===!0?{entropy:!0}:ut||{}).entropy?[ct,lt(et)]:ct===null?function(){try{var vt=new Uint8Array(256);return(tt.crypto||tt.msCrypto).getRandomValues(vt),lt(vt)}catch{var xt=tt.navigator,_t=xt&&xt.plugins;return[+new Date,tt,_t,tt.screen,lt(et)]}}():ct,3),ht),gt=new st(ht),dt=function(){for(var vt=gt.g(6),xt=nt,_t=0;vt<rt;)vt=256*(vt+_t),xt*=256,_t=gt.g(1);for(;vt>=it;)vt/=2,xt/=2,_t>>>=1;return(vt+_t)/xt};return dt.int32=function(){return 0|gt.g(4)},dt.quick=function(){return gt.g(4)/4294967296},dt.double=dt,at(lt(gt.S),et),(ut.pass||ft||function(vt,xt,_t,bt){return bt&&(bt.S&&ot(bt,gt),vt.state=function(){return ot(gt,{})}),_t?(_e.random=vt,xt):vt})(dt,pt,"global"in ut?ut.global:this==_e,ut.state)},at(_e.random(),et)}function initialize$2(et){seedRandom([],et)}var propTypes={SHAPE:"shape"};function _typeof(et){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(et)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(et){return et.constructor===Array||et.constructor===Float32Array}function isNumerable(et,_e){return et==="number"||et==="boolean"||et==="string"||_e instanceof Number}function $bm_neg(et){var _e=_typeof(et);if(_e==="number"||_e==="boolean"||et instanceof Number)return-et;if($bm_isInstanceOfArray(et)){var tt,nt=et.length,rt=[];for(tt=0;tt<nt;tt+=1)rt[tt]=-et[tt];return rt}return et.propType?et.v:-et}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(et,_e){var tt=_typeof(et),nt=_typeof(_e);if(tt==="string"||nt==="string"||isNumerable(tt,et)&&isNumerable(nt,_e))return et+_e;if($bm_isInstanceOfArray(et)&&isNumerable(nt,_e))return(et=et.slice(0))[0]+=_e,et;if(isNumerable(tt,et)&&$bm_isInstanceOfArray(_e))return(_e=_e.slice(0))[0]=et+_e[0],_e;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(_e)){for(var rt=0,it=et.length,st=_e.length,ot=[];rt<it||rt<st;)(typeof et[rt]=="number"||et[rt]instanceof Number)&&(typeof _e[rt]=="number"||_e[rt]instanceof Number)?ot[rt]=et[rt]+_e[rt]:ot[rt]=_e[rt]===void 0?et[rt]:et[rt]||_e[rt],rt+=1;return ot}return 0}var add=sum;function sub(et,_e){var tt=_typeof(et),nt=_typeof(_e);if(isNumerable(tt,et)&&isNumerable(nt,_e))return tt==="string"&&(et=parseInt(et,10)),nt==="string"&&(_e=parseInt(_e,10)),et-_e;if($bm_isInstanceOfArray(et)&&isNumerable(nt,_e))return(et=et.slice(0))[0]-=_e,et;if(isNumerable(tt,et)&&$bm_isInstanceOfArray(_e))return(_e=_e.slice(0))[0]=et-_e[0],_e;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(_e)){for(var rt=0,it=et.length,st=_e.length,ot=[];rt<it||rt<st;)(typeof et[rt]=="number"||et[rt]instanceof Number)&&(typeof _e[rt]=="number"||_e[rt]instanceof Number)?ot[rt]=et[rt]-_e[rt]:ot[rt]=_e[rt]===void 0?et[rt]:et[rt]||_e[rt],rt+=1;return ot}return 0}function mul(et,_e){var tt,nt,rt,it=_typeof(et),st=_typeof(_e);if(isNumerable(it,et)&&isNumerable(st,_e))return et*_e;if($bm_isInstanceOfArray(et)&&isNumerable(st,_e)){for(rt=et.length,tt=createTypedArray("float32",rt),nt=0;nt<rt;nt+=1)tt[nt]=et[nt]*_e;return tt}if(isNumerable(it,et)&&$bm_isInstanceOfArray(_e)){for(rt=_e.length,tt=createTypedArray("float32",rt),nt=0;nt<rt;nt+=1)tt[nt]=et*_e[nt];return tt}return 0}function div(et,_e){var tt,nt,rt,it=_typeof(et),st=_typeof(_e);if(isNumerable(it,et)&&isNumerable(st,_e))return et/_e;if($bm_isInstanceOfArray(et)&&isNumerable(st,_e)){for(rt=et.length,tt=createTypedArray("float32",rt),nt=0;nt<rt;nt+=1)tt[nt]=et[nt]/_e;return tt}if(isNumerable(it,et)&&$bm_isInstanceOfArray(_e)){for(rt=_e.length,tt=createTypedArray("float32",rt),nt=0;nt<rt;nt+=1)tt[nt]=et/_e[nt];return tt}return 0}function mod(et,_e){return typeof et=="string"&&(et=parseInt(et,10)),typeof _e=="string"&&(_e=parseInt(_e,10)),et%_e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(et,_e,tt){if(_e>tt){var nt=tt;tt=_e,_e=nt}return Math.min(Math.max(et,_e),tt)}function radiansToDegrees(et){return et/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(et){return et*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(et,_e){if(typeof et=="number"||et instanceof Number)return _e=_e||0,Math.abs(et-_e);var tt;_e||(_e=helperLengthArray);var nt=Math.min(et.length,_e.length),rt=0;for(tt=0;tt<nt;tt+=1)rt+=Math.pow(_e[tt]-et[tt],2);return Math.sqrt(rt)}function normalize(et){return div(et,length(et))}function rgbToHsl(et){var _e,tt,nt=et[0],rt=et[1],it=et[2],st=Math.max(nt,rt,it),ot=Math.min(nt,rt,it),at=(st+ot)/2;if(st===ot)_e=0,tt=0;else{var lt=st-ot;switch(tt=at>.5?lt/(2-st-ot):lt/(st+ot),st){case nt:_e=(rt-it)/lt+(rt<it?6:0);break;case rt:_e=(it-nt)/lt+2;break;case it:_e=(nt-rt)/lt+4}_e/=6}return[_e,tt,at,et[3]]}function hue2rgb(et,_e,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+6*(_e-et)*tt:tt<.5?_e:tt<2/3?et+(_e-et)*(2/3-tt)*6:et}function hslToRgb(et){var _e,tt,nt,rt=et[0],it=et[1],st=et[2];if(it===0)_e=st,nt=st,tt=st;else{var ot=st<.5?st*(1+it):st+it-st*it,at=2*st-ot;_e=hue2rgb(at,ot,rt+1/3),tt=hue2rgb(at,ot,rt),nt=hue2rgb(at,ot,rt-1/3)}return[_e,tt,nt,et[3]]}function linear(et,_e,tt,nt,rt){if(nt!==void 0&&rt!==void 0||(nt=_e,rt=tt,_e=0,tt=1),tt<_e){var it=tt;tt=_e,_e=it}if(et<=_e)return nt;if(et>=tt)return rt;var st,ot=tt===_e?0:(et-_e)/(tt-_e);if(!nt.length)return nt+(rt-nt)*ot;var at=nt.length,lt=createTypedArray("float32",at);for(st=0;st<at;st+=1)lt[st]=nt[st]+(rt[st]-nt[st])*ot;return lt}function random(et,_e){if(_e===void 0&&(et===void 0?(et=0,_e=1):(_e=et,et=void 0)),_e.length){var tt,nt=_e.length;et||(et=createTypedArray("float32",nt));var rt=createTypedArray("float32",nt),it=BMMath.random();for(tt=0;tt<nt;tt+=1)rt[tt]=et[tt]+it*(_e[tt]-et[tt]);return rt}return et===void 0&&(et=0),et+BMMath.random()*(_e-et)}function createPath(et,_e,tt,nt){var rt,it=et.length,st=shapePool.newElement();st.setPathData(!!nt,it);var ot,at,lt=[0,0];for(rt=0;rt<it;rt+=1)ot=_e&&_e[rt]?_e[rt]:lt,at=tt&&tt[rt]?tt[rt]:lt,st.setTripleAt(et[rt][0],et[rt][1],at[0]+et[rt][0],at[1]+et[rt][1],ot[0]+et[rt][0],ot[1]+et[rt][1],rt,!0);return st}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function(et,_e){var tt,nt,rt=this.pv.length?this.pv.length:1,it=createTypedArray("float32",rt),st=Math.floor(5*time);for(tt=0,nt=0;tt<st;){for(nt=0;nt<rt;nt+=1)it[nt]+=-_e+2*_e*BMMath.random();tt+=1}var ot=5*time,at=ot-Math.floor(ot),lt=createTypedArray("float32",rt);if(rt>1){for(nt=0;nt<rt;nt+=1)lt[nt]=this.pv[nt]+it[nt]+(-_e+2*_e*BMMath.random())*at;return lt}return this.pv+it[0]+(-_e+2*_e*BMMath.random())*at}.bind(this);function loopInDuration(et,_e){return loopIn(et,_e,!0)}function loopOutDuration(et,_e){return loopOut(et,_e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(et,_e){var tt=[_e[0]-et[0],_e[1]-et[1],_e[2]-et[2]],nt=Math.atan2(tt[0],Math.sqrt(tt[1]*tt[1]+tt[2]*tt[2]))/degToRads;return[-Math.atan2(tt[1],tt[2])/degToRads,nt,0]}function easeOut(et,_e,tt,nt,rt){return applyEase(easeOutBez,et,_e,tt,nt,rt)}function easeIn(et,_e,tt,nt,rt){return applyEase(easeInBez,et,_e,tt,nt,rt)}function ease(et,_e,tt,nt,rt){return applyEase(easeInOutBez,et,_e,tt,nt,rt)}function applyEase(et,_e,tt,nt,rt,it){rt===void 0?(rt=tt,it=nt):_e=(_e-tt)/(nt-tt),_e>1?_e=1:_e<0&&(_e=0);var st=et(_e);if($bm_isInstanceOfArray(rt)){var ot,at=rt.length,lt=createTypedArray("float32",at);for(ot=0;ot<at;ot+=1)lt[ot]=(it[ot]-rt[ot])*st+rt[ot];return lt}return(it-rt)*st+rt}function nearestKey(et){var _e,tt,nt,rt=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(tt=-1,(et*=elem.comp.globalData.frameRate)<data.k[0].t)tt=1,nt=data.k[0].t;else{for(_e=0;_e<rt-1;_e+=1){if(et===data.k[_e].t){tt=_e+1,nt=data.k[_e].t;break}if(et>data.k[_e].t&&et<data.k[_e+1].t){et-data.k[_e].t>data.k[_e+1].t-et?(tt=_e+2,nt=data.k[_e+1].t):(tt=_e+1,nt=data.k[_e].t);break}}tt===-1&&(tt=_e+1,nt=data.k[_e].t)}else tt=0,nt=0;var it={};return it.index=tt,it.time=nt/elem.comp.globalData.frameRate,it}function key(et){var _e,tt,nt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+et);et-=1,_e={time:data.k[et].t/elem.comp.globalData.frameRate,value:[]};var rt=Object.prototype.hasOwnProperty.call(data.k[et],"s")?data.k[et].s:data.k[et-1].e;for(nt=rt.length,tt=0;tt<nt;tt+=1)_e[tt]=rt[tt],_e.value[tt]=rt[tt];return _e}function framesToTime(et,_e){return _e||(_e=elem.comp.globalData.frameRate),et/_e}function timeToFrames(et,_e){return et||et===0||(et=time),_e||(_e=elem.comp.globalData.frameRate),et*_e}function seedRandom(et){BMMath.seedrandom(randSeed+et)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(et,_e){return typeof value=="string"?_e===void 0?value.substring(et):value.substring(et,_e):""}function substr(et,_e){return typeof value=="string"?_e===void 0?value.substr(et):value.substr(et,_e):""}function posterizeTime(et){time=et===0?0:Math.floor(time*et)/et,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(et){return value=et,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(et,_e,tt){_e.x&&(tt.k=!0,tt.x=!0,tt.initiateExpression=ExpressionManager.initiateExpression,tt.effectsSequence.push(tt.initiateExpression(et,_e,tt).bind(tt)))},getSpeedAtTime:function(et){var _e=this.getValueAtTime(et),tt=this.getValueAtTime(et+-.01),nt=0;if(_e.length){var rt;for(rt=0;rt<_e.length;rt+=1)nt+=Math.pow(tt[rt]-_e[rt],2);nt=100*Math.sqrt(nt)}else nt=0;return nt},getVelocityAtTime:function(et){if(this.vel!==void 0)return this.vel;var _e,tt,nt=this.getValueAtTime(et),rt=this.getValueAtTime(et+-.001);if(nt.length)for(_e=createTypedArray("float32",nt.length),tt=0;tt<nt.length;tt+=1)_e[tt]=(rt[tt]-nt[tt])/-.001;else _e=(rt-nt)/-.001;return _e},getValueAtTime:function(et){return et*=this.elem.globalData.frameRate,(et-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<et?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(et,this._cachingAtTime),this._cachingAtTime.lastFrame=et),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(et){this.propertyGroup=et}};function addPropertyDecorator(){function et(ut,ft,ht){if(!this.k||!this.keyframes)return this.pv;ut=ut?ut.toLowerCase():"";var pt,gt,dt,vt,xt,_t=this.comp.renderedFrame,bt=this.keyframes,At=bt[bt.length-1].t;if(_t<=At)return this.pv;if(ht?gt=At-(pt=ft?Math.abs(At-this.elem.comp.globalData.frameRate*ft):Math.max(0,At-this.elem.data.ip)):((!ft||ft>bt.length-1)&&(ft=bt.length-1),pt=At-(gt=bt[bt.length-1-ft].t)),ut==="pingpong"){if(Math.floor((_t-gt)/pt)%2!=0)return this.getValueAtTime((pt-(_t-gt)%pt+gt)/this.comp.globalData.frameRate,0)}else{if(ut==="offset"){var Mt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Tt=this.getValueAtTime(At/this.comp.globalData.frameRate,0),St=this.getValueAtTime(((_t-gt)%pt+gt)/this.comp.globalData.frameRate,0),Ct=Math.floor((_t-gt)/pt);if(this.pv.length){for(vt=(xt=new Array(Mt.length)).length,dt=0;dt<vt;dt+=1)xt[dt]=(Tt[dt]-Mt[dt])*Ct+St[dt];return xt}return(Tt-Mt)*Ct+St}if(ut==="continue"){var Et=this.getValueAtTime(At/this.comp.globalData.frameRate,0),Rt=this.getValueAtTime((At-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(vt=(xt=new Array(Et.length)).length,dt=0;dt<vt;dt+=1)xt[dt]=Et[dt]+(Et[dt]-Rt[dt])*((_t-At)/this.comp.globalData.frameRate)/5e-4;return xt}return Et+(_t-At)/.001*(Et-Rt)}}return this.getValueAtTime(((_t-gt)%pt+gt)/this.comp.globalData.frameRate,0)}function _e(ut,ft,ht){if(!this.k)return this.pv;ut=ut?ut.toLowerCase():"";var pt,gt,dt,vt,xt,_t=this.comp.renderedFrame,bt=this.keyframes,At=bt[0].t;if(_t>=At)return this.pv;if(ht?gt=At+(pt=ft?Math.abs(this.elem.comp.globalData.frameRate*ft):Math.max(0,this.elem.data.op-At)):((!ft||ft>bt.length-1)&&(ft=bt.length-1),pt=(gt=bt[ft].t)-At),ut==="pingpong"){if(Math.floor((At-_t)/pt)%2==0)return this.getValueAtTime(((At-_t)%pt+At)/this.comp.globalData.frameRate,0)}else{if(ut==="offset"){var Mt=this.getValueAtTime(At/this.comp.globalData.frameRate,0),Tt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),St=this.getValueAtTime((pt-(At-_t)%pt+At)/this.comp.globalData.frameRate,0),Ct=Math.floor((At-_t)/pt)+1;if(this.pv.length){for(vt=(xt=new Array(Mt.length)).length,dt=0;dt<vt;dt+=1)xt[dt]=St[dt]-(Tt[dt]-Mt[dt])*Ct;return xt}return St-(Tt-Mt)*Ct}if(ut==="continue"){var Et=this.getValueAtTime(At/this.comp.globalData.frameRate,0),Rt=this.getValueAtTime((At+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(vt=(xt=new Array(Et.length)).length,dt=0;dt<vt;dt+=1)xt[dt]=Et[dt]+(Et[dt]-Rt[dt])*(At-_t)/.001;return xt}return Et+(Et-Rt)*(At-_t)/.001}}return this.getValueAtTime((pt-((At-_t)%pt+At))/this.comp.globalData.frameRate,0)}function tt(ut,ft){if(!this.k)return this.pv;if(ut=.5*(ut||.4),(ft=Math.floor(ft||5))<=1)return this.pv;var ht,pt,gt=this.comp.renderedFrame/this.comp.globalData.frameRate,dt=gt-ut,vt=ft>1?(gt+ut-dt)/(ft-1):1,xt=0,_t=0;for(ht=this.pv.length?createTypedArray("float32",this.pv.length):0;xt<ft;){if(pt=this.getValueAtTime(dt+xt*vt),this.pv.length)for(_t=0;_t<this.pv.length;_t+=1)ht[_t]+=pt[_t];else ht+=pt;xt+=1}if(this.pv.length)for(_t=0;_t<this.pv.length;_t+=1)ht[_t]/=ft;else ht/=ft;return ht}function nt(ut){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ft=this._transformCachingAtTime.v;if(ft.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ht=this.a.getValueAtTime(ut);ft.translate(-ht[0]*this.a.mult,-ht[1]*this.a.mult,ht[2]*this.a.mult)}if(this.appliedTransformations<2){var pt=this.s.getValueAtTime(ut);ft.scale(pt[0]*this.s.mult,pt[1]*this.s.mult,pt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var gt=this.sk.getValueAtTime(ut),dt=this.sa.getValueAtTime(ut);ft.skewFromAxis(-gt*this.sk.mult,dt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var vt=this.r.getValueAtTime(ut);ft.rotate(-vt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var xt=this.rz.getValueAtTime(ut),_t=this.ry.getValueAtTime(ut),bt=this.rx.getValueAtTime(ut),At=this.or.getValueAtTime(ut);ft.rotateZ(-xt*this.rz.mult).rotateY(_t*this.ry.mult).rotateX(bt*this.rx.mult).rotateZ(-At[2]*this.or.mult).rotateY(At[1]*this.or.mult).rotateX(At[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Mt=this.px.getValueAtTime(ut),Tt=this.py.getValueAtTime(ut);if(this.data.p.z){var St=this.pz.getValueAtTime(ut);ft.translate(Mt*this.px.mult,Tt*this.py.mult,-St*this.pz.mult)}else ft.translate(Mt*this.px.mult,Tt*this.py.mult,0)}else{var Ct=this.p.getValueAtTime(ut);ft.translate(Ct[0]*this.p.mult,Ct[1]*this.p.mult,-Ct[2]*this.p.mult)}return ft}function rt(){return this.v.clone(new Matrix)}var it=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ut,ft,ht){var pt=it(ut,ft,ht);return pt.dynamicProperties.length?pt.getValueAtTime=nt.bind(pt):pt.getValueAtTime=rt.bind(pt),pt.setGroupProperty=expressionHelpers.setGroupProperty,pt};var st=PropertyFactory.getProp;PropertyFactory.getProp=function(ut,ft,ht,pt,gt){var dt=st(ut,ft,ht,pt,gt);dt.kf?dt.getValueAtTime=expressionHelpers.getValueAtTime.bind(dt):dt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(dt),dt.setGroupProperty=expressionHelpers.setGroupProperty,dt.loopOut=et,dt.loopIn=_e,dt.smooth=tt,dt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(dt),dt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(dt),dt.numKeys=ft.a===1?ft.k.length:0,dt.propertyIndex=ft.ix;var vt=0;return ht!==0&&(vt=createTypedArray("float32",ft.a===1?ft.k[0].s.length:ft.k.length)),dt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:vt},expressionHelpers.searchExpressions(ut,ft,dt),dt.k&&gt.addDynamicProperty(dt),dt};var ot=ShapePropertyFactory.getConstructorFunction(),at=ShapePropertyFactory.getKeyframedConstructorFunction();function lt(){}lt.prototype={vertices:function(ut,ft){this.k&&this.getValue();var ht,pt=this.v;ft!==void 0&&(pt=this.getValueAtTime(ft,0));var gt=pt._length,dt=pt[ut],vt=pt.v,xt=createSizedArray(gt);for(ht=0;ht<gt;ht+=1)xt[ht]=ut==="i"||ut==="o"?[dt[ht][0]-vt[ht][0],dt[ht][1]-vt[ht][1]]:[dt[ht][0],dt[ht][1]];return xt},points:function(ut){return this.vertices("v",ut)},inTangents:function(ut){return this.vertices("i",ut)},outTangents:function(ut){return this.vertices("o",ut)},isClosed:function(){return this.v.c},pointOnPath:function(ut,ft){var ht=this.v;ft!==void 0&&(ht=this.getValueAtTime(ft,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ht));for(var pt,gt=this._segmentsLength,dt=gt.lengths,vt=gt.totalLength*ut,xt=0,_t=dt.length,bt=0;xt<_t;){if(bt+dt[xt].addedLength>vt){var At=xt,Mt=ht.c&&xt===_t-1?0:xt+1,Tt=(vt-bt)/dt[xt].addedLength;pt=bez.getPointInSegment(ht.v[At],ht.v[Mt],ht.o[At],ht.i[Mt],Tt,dt[xt]);break}bt+=dt[xt].addedLength,xt+=1}return pt||(pt=ht.c?[ht.v[0][0],ht.v[0][1]]:[ht.v[ht._length-1][0],ht.v[ht._length-1][1]]),pt},vectorOnPath:function(ut,ft,ht){ut==1?ut=this.v.c:ut==0&&(ut=.999);var pt=this.pointOnPath(ut,ft),gt=this.pointOnPath(ut+.001,ft),dt=gt[0]-pt[0],vt=gt[1]-pt[1],xt=Math.sqrt(Math.pow(dt,2)+Math.pow(vt,2));return xt===0?[0,0]:ht==="tangent"?[dt/xt,vt/xt]:[-vt/xt,dt/xt]},tangentOnPath:function(ut,ft){return this.vectorOnPath(ut,ft,"tangent")},normalOnPath:function(ut,ft){return this.vectorOnPath(ut,ft,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([lt],ot),extendPrototype([lt],at),at.prototype.getValueAtTime=function(ut){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ut*=this.elem.globalData.frameRate,(ut-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ut?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ut,this.interpolateShape(ut,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},at.prototype.initiateExpression=ExpressionManager.initiateExpression;var ct=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ut,ft,ht,pt,gt){var dt=ct(ut,ft,ht,pt,gt);return dt.propertyIndex=ft.ix,dt.lock=!1,ht===3?expressionHelpers.searchExpressions(ut,ft.pt,dt):ht===4&&expressionHelpers.searchExpressions(ut,ft.ks,dt),dt.k&&ut.addDynamicProperty(dt),dt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(et,_e){var tt=this.calculateExpression(_e);if(et.t!==tt){var nt={};return this.copyData(nt,et),nt.t=tt.toString(),nt.__complete=!1,nt}return et},TextProperty.prototype.searchProperty=function(){var et=this.searchKeyframes(),_e=this.searchExpressions();return this.kf=et||_e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}return registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})}),PlayerState,PlayerEvent;function parseSrc(et){if(typeof et=="object")return et;try{return JSON.parse(et)}catch{}try{return new URL(et).toString()}catch{}return et}(function(et){et.Loading="loading",et.Playing="playing",et.Paused="paused",et.Stopped="stopped",et.Frozen="frozen",et.Error="error"})(PlayerState||(PlayerState={})),function(et){et.Load="load",et.Error="error",et.Ready="ready",et.Play="play",et.Pause="pause",et.Stop="stop",et.Freeze="freeze",et.Loop="loop",et.Complete="complete",et.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(et){function _e(tt){var nt=et.call(this,tt)||this;return nt.container=null,nt.unmounted=!1,nt.handleBgChange=function(rt){nt.setState({background:rt})},nt.triggerDownload=function(rt,it){var st=document.createElement("a");st.href=rt,st.download=it,document.body.appendChild(st),st.click(),document.body.removeChild(st)},nt.snapshot=function(rt){var it;rt===void 0&&(rt=!0);var st=nt.props.id?nt.props.id:"lottie",ot=document.getElementById(st);if(nt.props.renderer==="svg"){if(ot){var at=ot.querySelector("svg");if(at){var lt=new XMLSerializer().serializeToString(at);it="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(lt)}}rt&&nt.triggerDownload(it,"snapshot.svg")}else if(nt.props.renderer==="canvas"){if(ot){var ct=ot.querySelector("canvas");ct&&(it=ct.toDataURL("image/png"))}rt&&nt.triggerDownload(it,"snapshot.png")}return it},typeof window<"u"&&(window.lottie=lottie),nt.state={animationData:null,background:"transparent",containerRef:react.exports.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},nt}return __extends(_e,et),_e.getDerivedStateFromProps=function(tt,nt){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(rt){return tt.background!==nt.background?[2,{background:tt.background}]:[2,null]})})},_e.prototype.componentDidMount=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(tt){switch(tt.label){case 0:return this.unmounted?[3,2]:[4,this.createLottie()];case 1:tt.sent(),tt.label=2;case 2:return[2]}})})},_e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.instance&&this.state.instance.destroy()},_e.prototype.componentDidUpdate=function(tt){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(nt){switch(nt.label){case 0:return this.props.src===tt.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:nt.sent(),nt.label=2;case 2:return[2]}})})},_e.prototype.render=function(){var tt=this,nt=this.props,rt=nt.children,it=nt.loop,st=nt.style,ot=nt.onBackgroundChange,at=nt.className,lt=this.state,ct=lt.animationData,ut=lt.instance,ft=lt.playerState,ht=lt.seeker,pt=lt.debug,gt=lt.background;return react.exports.createElement("div",{className:"lf-player-container"},this.state.playerState===PlayerState.Error?react.exports.createElement("div",{className:"lf-error"},react.exports.createElement("span",{"aria-label":"error-symbol",role:"img"},"\u26A0\uFE0F")):react.exports.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(dt){return tt.container=dt},style:__assign({background:gt,margin:"0 auto",outline:"none",overflow:"hidden"},st),className:at}),react.exports.Children.map(rt,function(dt){return react.exports.isValidElement(dt)?react.exports.cloneElement(dt,{animationData:ct,background:gt,debug:pt,instance:ut,loop:it,pause:function(){return tt.pause()},play:function(){return tt.play()},playerState:ft,seeker:ht,setBackground:function(vt){tt.setState({background:vt}),typeof ot=="function"&&ot(vt)},setSeeker:function(vt,xt){return tt.setSeeker(vt,xt)},stop:function(){return tt.stop()},toggleDebug:function(){return tt.toggleDebug()},setLoop:function(vt){return tt.setLoop(vt)},colorChangedEvent:function(vt){tt.handleBgChange(vt)},snapshot:function(){tt.snapshot()}}):null}))},_e.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},_e.prototype.createLottie=function(){return __awaiter$1(this,void 0,void 0,function(){var tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,pt,gt,dt=this;return __generator$1(this,function(vt){switch(vt.label){case 0:if(tt=this.props,nt=tt.autoplay,rt=tt.direction,it=tt.loop,st=tt.lottieRef,ot=tt.renderer,at=tt.speed,lt=tt.src,ct=tt.background,ut=tt.rendererSettings,ft=tt.hover,ht=this.state.instance,!lt||!this.container)return[2];vt.label=1;case 1:return vt.trys.push([1,5,,6]),typeof(pt=parseSrc(lt))!="string"?[3,4]:[4,fetch(pt)];case 2:return[4,vt.sent().json()];case 3:pt=vt.sent(),vt.label=4;case 4:return ht&&ht.destroy(),gt=lottie.loadAnimation({rendererSettings:ut||defaultOptions,animationData:pt,autoplay:nt||!1,container:this.container,loop:it||!1,renderer:ot}),at&&gt.setSpeed(at),this.setState({animationData:pt}),gt.addEventListener("enterFrame",function(){dt.triggerEvent(PlayerEvent.Frame),dt.setState({seeker:Math.floor(gt.currentFrame)})}),gt.addEventListener("DOMLoaded",function(){dt.triggerEvent(PlayerEvent.Load)}),gt.addEventListener("data_ready",function(){dt.triggerEvent(PlayerEvent.Ready)}),gt.addEventListener("data_failed",function(){dt.setState({playerState:PlayerState.Error})}),gt.addEventListener("loopComplete",function(){dt.triggerEvent(PlayerEvent.Loop)}),gt.addEventListener("complete",function(){dt.triggerEvent(PlayerEvent.Complete),dt.setState({playerState:PlayerState.Paused}),dt.props.keepLastFrame&&!dt.props.loop||dt.setSeeker(0)}),this.container.addEventListener("mouseenter",function(){ft&&dt.state.playerState!==PlayerState.Playing&&(dt.props.keepLastFrame&&dt.stop(),dt.play())}),this.container.addEventListener("mouseleave",function(){ft&&dt.state.playerState===PlayerState.Playing&&dt.stop()}),at&&this.setPlayerSpeed(at),rt&&this.setPlayerDirection(rt),ct&&this.setState({background:ct}),this.setState({instance:gt},function(){typeof st=="function"&&st(gt),nt&&dt.play()}),[3,6];case 5:return vt.sent(),this.setState({playerState:PlayerState.Error}),[3,6];case 6:return[2]}})})},_e.prototype.play=function(){var tt=this.state.instance;tt&&(this.triggerEvent(PlayerEvent.Play),tt.play(),this.setState({playerState:PlayerState.Playing}))},_e.prototype.pause=function(){var tt=this.state.instance;tt&&(this.triggerEvent(PlayerEvent.Pause),tt.pause(),this.setState({playerState:PlayerState.Paused}))},_e.prototype.stop=function(){var tt=this.state.instance;tt&&(this.triggerEvent(PlayerEvent.Stop),tt.stop(),this.setState({playerState:PlayerState.Stopped}))},_e.prototype.setPlayerSpeed=function(tt){var nt=this.state.instance;nt&&nt.setSpeed(tt)},_e.prototype.setPlayerDirection=function(tt){var nt=this.state.instance;nt&&nt.setDirection(tt)},_e.prototype.setSeeker=function(tt,nt){nt===void 0&&(nt=!1);var rt=this.state,it=rt.instance,st=rt.playerState;it&&(nt&&st===PlayerState.Playing?it.goToAndPlay(tt,!0):(it.goToAndStop(tt,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},_e.prototype.setLoop=function(tt){var nt=this.state.instance;nt&&(nt.loop=tt,this.setState({instance:nt}))},_e.prototype.triggerEvent=function(tt){var nt=this.props.onEvent;nt&&nt(tt)},_e.defaultProps={loop:!1},_e}(react.exports.Component);function styleInject(et,_e){_e===void 0&&(_e={});var tt=_e.insertAt;if(et&&typeof document<"u"){var nt=document.head||document.getElementsByTagName("head")[0],rt=document.createElement("style");rt.type="text/css",tt==="top"&&nt.firstChild?nt.insertBefore(rt,nt.firstChild):nt.appendChild(rt),rt.styleSheet?rt.styleSheet.cssText=et:rt.appendChild(document.createTextNode(et))}}var css_248z=`.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '\u297C';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
`;styleInject(css_248z);var ColorPicker=function(et){function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},tt.handleChange=function(nt,rt){if(nt==="r"){var it="#"+(256|rt).toString(16).slice(1)+(256|tt.state.green).toString(16).slice(1)+(256|tt.state.blue).toString(16).slice(1);tt.setState({hex:it})}else nt==="g"?(it="#"+(256|tt.state.red).toString(16).slice(1)+(256|rt).toString(16).slice(1)+(256|tt.state.blue).toString(16).slice(1),tt.setState({hex:it})):nt==="b"&&(it="#"+(256|tt.state.red).toString(16).slice(1)+(256|tt.state.green).toString(16).slice(1)+(256|rt).toString(16).slice(1),tt.setState({hex:it}))},tt.parseColor=function(nt){var rt;if(typeof nt=="string"){if(nt[0]==="#"){var it=nt.length===4?[nt.slice(1,2),nt.slice(2,3),nt.slice(3,4)].map(function(st){return parseInt(""+st+st,16)}):[nt.slice(1,3),nt.slice(3,5),nt.slice(5,7)].map(function(st){return parseInt(st,16)});tt.setState({colorComponents:it})}else nt.startsWith("rgb")&&(it=(rt=nt.match(/\d+/g))===null||rt===void 0?void 0:rt.map(function(st){return parseInt(st)}))!==void 0&&tt.setState({colorComponents:it});tt.state.colorComponents.length&&(tt.setState({red:tt.state.colorComponents[0]}),tt.setState({green:tt.state.colorComponents[1]}),tt.setState({blue:tt.state.colorComponents[2]}))}},tt}return __extends(_e,et),_e.prototype.componentDidUpdate=function(tt,nt){return this.props.colorChangedEvent&&this.state.hex!==nt.hex&&this.props.colorChangedEvent(this.state.hex),!0},_e.prototype.render=function(){var tt=this;return react.exports.createElement("div",{className:"lf-color-picker"},react.exports.createElement("div",{className:"lf-color-selectors"},react.exports.createElement("div",{className:"lf-color-component"},react.exports.createElement("strong",null,"Red"),react.exports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(nt){tt.setState({red:nt.target.value}),tt.handleChange("r",nt.target.value)}}),react.exports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(nt){tt.setState({red:nt.target.value}),tt.handleChange("r",nt.target.value)}})),react.exports.createElement("div",{className:"lf-color-component"},react.exports.createElement("strong",null,"Green"),react.exports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(nt){tt.setState({green:nt.target.value}),tt.handleChange("g",nt.target.value)}}),react.exports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(nt){tt.setState({green:nt.target.value}),tt.handleChange("g",nt.target.value)}})),react.exports.createElement("div",{className:"lf-color-component"},react.exports.createElement("strong",null,"Blue"),react.exports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(nt){tt.setState({blue:nt.target.value}),tt.handleChange("b",nt.target.value)}}),react.exports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(nt){tt.setState({blue:nt.target.value}),tt.handleChange("b",nt.target.value)}}))),react.exports.createElement("div",{className:"lf-color-preview"},react.exports.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),react.exports.createElement("div",null,react.exports.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(nt){tt.setState({hex:nt.target.value}),tt.parseColor(nt.target.value)}}))))},_e}(react.exports.Component),Popover=function(et){var _e=et.children,tt=et.icon,nt=react.exports.useState(null),rt=nt[0],it=nt[1],st=react.exports.useState(null),ot=st[0],at=st[1],lt=react.exports.useState(null),ct=lt[0],ut=lt[1],ft=react.exports.useState(!1),ht=ft[0],pt=ft[1];return react.exports.useEffect(function(){if(rt&&ot){var gt=rt.getBoundingClientRect(),dt=ot.getBoundingClientRect(),vt=gt.left+dt.width>window.innerWidth?-1:0;ut(vt)}},[ct,ot,rt]),react.exports.createElement("div",{className:"lf-popover",onMouseOver:function(){pt(!0)},onMouseLeave:function(){pt(!1)},ref:function(gt){it(gt)}},react.exports.createElement("div",{className:" lf-player-btn"},tt),react.exports.createElement("div",{className:"lf-popover-content",ref:function(gt){at(gt)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:ht?"visible":"hidden"}},_e))},Seeker=function(et){function _e(tt){var nt=et.call(this,tt)||this;return nt.inputRef=react.exports.createRef(),nt.handleChange=function(){return function(rt){var it=rt.target.value,st=Math.floor(it/100*nt.props.max);nt.props.onChange(st)}},nt.state={value:0},nt}return __extends(_e,et),_e.prototype.render=function(){var tt=this.props.value/this.props.max*100,nt={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+tt+"%, rgba(15, 204, 206, 0.4)), color-stop("+tt+"%, #DAE1E7))"},rt={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},it={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return react.exports.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},react.exports.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress",type:"range",min:"0",max:"100",step:"0.1",value:tt,onInput:this.handleChange(),onChange:this.handleChange(),style:nt}),this.props.showLabels&&react.exports.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},react.exports.createElement("div",{style:rt},this.props.min),react.exports.createElement("div",{style:it},this.props.max)))},_e}(react.exports.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"};(function(et){function _e(tt){var nt=et.call(this,tt)||this;return nt.state={activeFrame:0,mouseDown:!1},nt}return __extends(_e,et),_e.prototype.render=function(){var tt=this,nt=this.props,rt=nt.instance,it=nt.playerState,st=nt.seeker,ot=nt.setLoop,at=nt.setSeeker,lt=nt.play,ct=nt.pause,ut=nt.stop,ft=nt.visible,ht=nt.buttons;if(!rt||!ft)return null;var pt=!ht||ht.includes("play"),gt=!ht||ht.includes("stop"),dt=!ht||ht.includes("repeat"),vt=!ht||ht.includes("frame"),xt=!ht||ht.includes("background"),_t=!ht||ht.includes("snapshot"),bt={width:14,height:14,viewBox:"0 0 24 24"},At=Math.round(rt.currentFrame);return react.exports.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},pt&&react.exports.createElement("div",{role:"button",tabIndex:0,onClick:function(){it===PlayerState.Playing?typeof ct=="function"&&ct():typeof lt=="function"&&lt()},onKeyDown:function(){it===PlayerState.Playing?typeof ct=="function"&&ct():typeof lt=="function"&&lt()},className:"lf-player-btn",style:ControlButtonStyle},it===PlayerState.Playing?react.exports.createElement("svg",__assign({},bt),react.exports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),react.exports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):react.exports.createElement("svg",__assign({},bt),react.exports.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),gt&&react.exports.createElement("div",{tabIndex:0,role:"button",onClick:function(){return ut&&ut()},onKeyDown:function(){return ut&&ut()},className:it===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},react.exports.createElement("svg",__assign({},bt),react.exports.createElement("path",{d:`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`}))),react.exports.createElement(Seeker,{min:0,step:1,max:rt?rt.totalFrames:1,value:st||0,onChange:function(Mt){at&&tt.setState({activeFrame:Mt},function(){at(Mt,!1)})},onChangeEnd:function(Mt){at&&tt.setState({activeFrame:Mt},function(){at(Mt,!1)})},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),vt&&react.exports.createElement("div",{role:"button",className:"lf-player-btn-container"},react.exports.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:At,readOnly:!0})),dt&&react.exports.createElement("div",{role:"button",tabIndex:0,onClick:function(){rt&&ot&&ot(!rt.loop)},onKeyDown:function(){rt&&ot&&ot(!rt.loop)},className:rt.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},react.exports.createElement("svg",__assign({},bt),react.exports.createElement("path",{d:`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`,stroke:"#8795A1",strokeWidth:".26"}),react.exports.createElement("path",{d:`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`,fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),xt&&react.exports.createElement(Popover,{icon:react.exports.createElement("svg",__assign({},bt),react.exports.createElement("path",{d:`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`}))},react.exports.createElement("div",{slot:"content",className:"lf-popover popover-background"},react.exports.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),_t&&react.exports.createElement(Popover,{icon:react.exports.createElement("svg",__assign({},bt),react.exports.createElement("path",{clipRule:"evenodd",d:`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`,fillRule:"evenodd"}),react.exports.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),react.exports.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),react.exports.createElement("path",{d:`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
              01-.803.804H9.562a1.061 1.061 0 100 2.123z`,stroke:"#8795a1",strokeWidth:".215"}))},react.exports.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(Mt){at&&at(At+(Mt.deltaY>0?-1:1),!1)}},react.exports.createElement("h5",null,"Frame ",At),react.exports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),react.exports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),react.exports.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},_e})(react.exports.Component);function Part1(){const et=reactResponsive.exports.useMediaQuery({query:"(max-width: 976px)"}),_e=react.exports.useRef(),tt=react.exports.useRef(),[nt,rt]=react.exports.useState(.1),{scrollYProgress:it}=useScroll({target:_e,offset:["end end","end start"]});function st(){const ct=react.exports.useRef();useFrame(()=>{ct.current.material.opacity<1&&(ct.current.material.opacity+=.01)});function ut(){return et?[2.5,1.25,1]:[2,1,1]}return jsxs("group",{children:[jsxs(Plane,{args:[.4,.3],visible:!1,position:[0,0,-1.2],children:[jsx(Html,{center:!0,position:[0,0,-2],scale:.015,className:"pointer-events-none"}),jsx("meshBasicMaterial",{visible:!1})]}),jsx(Image$1,{ref:ct,scale:ut(),position:[0,0,-.5],url:TitlePic,transparent:!0,opacity:0})]})}function ot(){return jsxs("group",{children:[jsx(Box,{args:[4,.6,1.5],position:[0,1.2,.2],children:jsx("meshStandardMaterial",{color:"#000000"})}),jsx(Box,{args:[4,.6,1],position:[0,-1.2,.2],children:jsx("meshStandardMaterial",{color:"#000000"})})]})}function at(){useFrame(()=>{it.current>.99?rt(.01):rt(1)})}function lt(){const{progress:ct}=useProgress(),[ut,ft]=react.exports.useState(!1);return useFrame(ht=>{ht.clock.elapsedTime>5&&ft(!0)}),jsx(Html,{center:!0,children:jsx("div",{className:"font-Dreamscape relative flex h-[100vh] w-[100vw] flex-col items-center justify-center bg-black  text-center text-4xl text-white",children:jsxs("div",{className:"relative bottom-[5vw]",children:[jsx(Player,{src:LoadingIcon,speed:1.5,className:"relative h-[20vw] w-[20vw]",autoplay:!0,loop:!0,keepLastFrame:!0}),ut?jsx("p",{children:"Loading failed - Please refresh the browser"}):jsxs("p",{children:[Math.floor(ct)," % loaded"]})]})})})}return jsx("div",{ref:_e,className:" h-full w-full",children:jsx(Canvas$1,{camera:{position:[0,0,4],fov:20},ref:tt,children:jsxs(react.exports.Suspense,{fallback:jsx(lt,{}),children:[jsx(at,{}),jsx("ambientLight",{intensity:.5}),jsx(HUD$1,{}),jsx(st,{}),jsx("color",{attach:"background",args:["#000000"]}),jsx(ot,{}),jsx(Screen5$1,{})]})})})}const AboutMeDesign="/assets/AboutMeDesign.3a33db94.jpg",AboutMeD3="/assets/AboutMeD3.9032c3bf.jpg",AboutMeCoding="/assets/AboutMeCoding.b10da607.jpg",AboutMeMobileDesign="/assets/AboutMeMobileDesign.c56106cc.jpg",AboutMeMobileD3="/assets/AboutMeMobileD3.a2cec477.jpg",AboutMeMobileCoding="/assets/AboutMeMobileCoding.9aefe0ac.jpg";function AboutMe({scrollToDesign:et,scrollTo3D:_e,scrollToCoding:tt}){const nt=reactResponsive.exports.useMediaQuery({query:"(min-width: 540px)"});function rt(){return jsx("div",{children:jsxs("div",{className:" relative left-[10vw] flex h-max w-[70vw]  flex-row flex-wrap gap-[10vw] pt-[70vw] pb-[20vw] opacity-100 lg:left-[0vw] lg:top-[300px] lg:gap-[4.4vw] lg:pt-[310px] lg:pb-[450px] ",children:[jsxs(motion.div,{className:"  relative  h-max   w-max border-[4px] border-black bg-[#00ffd3] pb-[1vw] font-Oxanium opacity-100 lg:top-[8.9vw] lg:order-2  lg:border-[.3vw]",whileHover:{backgroundColor:"#ffffff",transition:{duration:.25}},children:[jsx("p",{className:"relative  h-max w-[78vw] pr-[20px] pt-[12px] pl-[20px] pb-[4px] text-[22px] font-semibold sm:text-[40px] lg:w-[31vw] ",children:"ME MYSELF & I"}),jsx("p",{className:"relative left-[20px] w-[78vw] pr-[50px] pb-[10px] text-[22px] font-extralight leading-6 lg:w-[31vw] lg:pr-[2vw]",children:"I'm a passionate web designer & front-end developer based in Switzerland. My goal is to stay consistent in my desire to improve, so that I'll one day be able to make a big impact with my skills."})]}),jsxs(motion.div,{className:"  relative h-max  w-max cursor-pointer border-[4px] border-black  bg-[#00ffd3] pb-[1vw] font-Oxanium opacity-100 lg:order-1 lg:border-[.3vw]  ",whileHover:{backgroundColor:"#ffffff",scale:1.01,transition:{duration:.25}},onClick:et,children:[jsx("img",{className:"h-max w-[78vw] pr-[20px] pt-[20px] pl-[20px] lg:w-[31vw]",src:nt?AboutMeDesign:AboutMeMobileDesign}),jsx("p",{className:"relative  h-max w-[78vw] pr-[20px] pt-[12px] pl-[20px] pb-[4px] text-[22px] font-semibold sm:text-[40px] lg:w-[31vw] ",children:"DESIGN"}),jsx("p",{className:"relative left-[20px] w-[78vw] pr-[50px] pb-[10px] text-[22px] font-extralight leading-6 lg:w-[31vw] lg:pr-[2vw]",children:"Around 2015 I started setting foot in graphical design with photoshop. Working in the TV branche as a graphic & motion designer, I've created countless flyers, posters, videos etc. Right now I'm more focused on web design."})]}),jsxs(motion.div,{className:"  relative h-max  w-max cursor-pointer border-[4px] border-black bg-[#00ffd3] pb-[1vw] font-Oxanium opacity-100 lg:order-3 lg:border-[.3vw]",whileHover:{backgroundColor:"#ffffff",scale:1.01,transition:{duration:.25}},onClick:_e,children:[jsx("img",{className:"h-max w-[78vw] pr-[20px] pt-[20px] pl-[20px] lg:w-[31vw]",src:nt?AboutMeD3:AboutMeMobileD3}),jsx("p",{className:"relative  h-max w-[78vw] pr-[20px] pt-[12px] pl-[20px] pb-[4px] text-[22px] font-semibold sm:text-[40px] lg:w-[31vw] ",children:"3D"}),jsx("p",{className:"relative left-[20px] w-[78vw] pr-[50px] pb-[10px] text-[22px] font-extralight leading-6 lg:w-[31vw] lg:pr-[2vw]",children:"In 2020 I started creating Motion Design & Pictures with 3D. It has been very joyful working with all kinds of 3D Softwares. With Three.js I was able to implement my 3D knowledge with front-end coding. Creating 3D in React has been a game changer for me."})]}),jsxs(motion.div,{className:" relative h-max  w-max cursor-pointer  border-[4px] border-black bg-[#00ffd3] pb-[1vw] font-Oxanium opacity-100 lg:order-4 lg:border-[.3vw]",whileHover:{backgroundColor:"#ffffff",scale:1.01,transition:{duration:.25}},onClick:tt,children:[jsx("img",{className:"h-max w-[78vw] pr-[20px] pt-[20px] pl-[20px] lg:w-[31vw]",src:nt?AboutMeCoding:AboutMeMobileCoding}),jsx("p",{className:"relative  h-max w-[78vw] pr-[20px] pt-[12px] pl-[20px] pb-[4px] text-[22px] font-semibold sm:text-[40px] lg:w-[31vw] ",children:"CODING"}),jsx("p",{className:"relative left-[20px] w-[78vw] pr-[50px] pb-[10px] text-[22px] font-extralight leading-6 lg:w-[31vw] lg:pr-[2vw]",children:"In 2022 I started taking coding more seriously. Working with different kinds of front-end frameworks like React and Three.js has been very enjoyable. With help of my previous experience in design & 3D, I am able to create unique websites."})]})]})})}return jsxs("div",{className:"relative bg-black",children:[jsx("div",{className:"relative top-[30px] z-10 flex h-[30px] w-full   bg-BGFrameTop bg-left"}),jsx("div",{className:"relative left-[50%] z-0 flex  w-full translate-x-[-50%] flex-col bg-[#f9ef02] bg-AboutMeMobileBG  bg-contain bg-[center_top] bg-no-repeat lg:items-center  lg:bg-AboutMeBG lg:bg-auto lg:bg-right ",children:jsx(rt,{})}),jsx("div",{className:"relative bottom-[30px] z-10 flex h-[30px] w-full  bg-BGFrameBot bg-left"})]})}let nanoid=(et=21)=>crypto.getRandomValues(new Uint8Array(et)).reduce((_e,tt)=>(tt&=63,tt<36?_e+=tt.toString(36):tt<62?_e+=(tt-26).toString(36).toUpperCase():tt>62?_e+="-":_e+="_",_e),"");const DesignMainImg="/assets/DesignMain.036c5688.jpg",DesignIcon1="/assets/DesignIcon1.65cf9cef.png",DesignIcon2="/assets/DesignIcon2.4b7b009a.png",DesignIcon3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAB0CAYAAAC/ra0kAAAOFUlEQVR4nO2dW2xjx3nH/zPnwptIiiKXklbSXrS7XnvtlV3HsesEAdI4Tdw6bh9q1EmdAn4wCtcPLZLAqZMgRZoXB0ELtMhDgzzkJYCROnnJxmmQpAZS1whi13XX9movXmfXe5N1WUoiKd7OZSb45lAbxdZS1NoWxdn5AwcQBZKHPD9+c/v+8x2GdVSEjQ+zYVQZg5QCFiww2KiwBlLSRYJxAAE/be14ijP2ybgIMgnpc1cGsBGu95ZGXSiABY/ZaDBHNrhdk4w/N+kv/IUlw2aDWfDgISNdSBCTEE3mwJEB/lfOYR7BO05gb+aiCwBn7fw305B/nwvr7t5w0TB7D0WBEZcEEAyCDQDyTxtwGkvWYLDEU0/vCs4+tJmz8e6eJnHGKXy1xXeEB8LS46PhkhtHq6cXQn9J9Q3j8DEqlu2bgkt/VeN5cdwZ/u66ze062qBZBoSUmLeLlfFwKW3TDwqyfVqjrRYDU1f/ojXUmgzm4k1mw5bhVZvlq0YuvcmMlb2nzrNyV7icpl9BaMD2VKtXfyxcii3xrDxujz7Rici6cFsIcNrd9eRo6P3XkGwYpNtMFL8p2cDBoPTkSWffkeY6UYurweX2+D/e4JeeiCEwYLetJFwEuC2YuZ85+3+03qdkh9Z0u0S6zAo3HmS5EwkECMy0ZtvLBkcIC7+C+9ioOPHvYs0HZo8gd+WBA4Zz1oiUsgmJQHXgRttbUgWlBQ4XI2KeWaqtjVpbu4RYRBnA61a+vFM22gsRBmw/KKIUIoSHX9kTfjGYc1b/ywMV1hzH7Pxf75a1DFeTHaN+klSQQ+wSFfuEPfytFTDQwe5FWvW1C9aYyEuPMdPP9q1omXieObDDS0w1101kcMLZ82hB1hmH0PRrXx8KIVCQDVxwbv/eAAbBBxnDoGT/Rt2ymfb0uyilwFEUlYcyDOAhbBRE1TVg9RAtcBTkMjtmF8b4eWfwOxSzZmysh1g71ddgsSO8IeWDjkGrjVbb37j0pnhSIi3MQEor0WR2UAQ2T0uPGbT6KSE9cFf6plHWULTKyM3cVk8RV26iVk8RV25mt3pKbtb9aBSp24Dodato4G5CDjiqwscs6m1wnfAJuLAxxlNrMqxbKwN3E1qULeyODeCx4ZsjI4PsMBi1HczWyvjhwptwKZ3Otj6ODdxNqCSbuCe5Ew/svwPwvc5wYyk0Fi/iP+bPwKd0HLO2/PMauJsQ+ZVaIgTqFSDwO8MNA8y06uA9NCv1FC6Z3OdEE3V4G2x+kOoSjbAEYsxS/mmjbq5vD1WVAW5P5jGSSEOK9b23JMY4QhHi/6slFTk263IXzHWunsH1pUBN+viHPVPYM7wXaNau/mTOAcvGl195Fj8un8cES23lR+1b9TRyaRQZSAl4DcBvXv2JNNJ044hxy9j3NqGewpXtCAYBlhtAEwKBFGqAYtSdTOelsQxcjWXgaiwDV2MZuBrLwNVYBq7GMomDNaIFlYYMUIcPD5Hhd+2iyZtYwRwtuPQgfXctum7hribb68JHCU34EEjDxaiTwlQsj6KbQNZ2kOA23PZa9qWghhtiGZXx6d6P0Ttdd3BZu+TPgmhiCU1MsAF8IrsbH8gUcGMyi8lEGlk3AVhOO0LZ7yKVeIZ+tFzaB9F7XcGlFGNJtDCPOg67eTw2fAvuGRrDeCqnEhMIwwgeRSYdKjjXRmgbqGmWt494uzjaKVHGKBL4ysQH8ZmR/YglMoDfiiJxo7Vtpf5KWmgPl0qS1kSAc1jBp9ITeGLfHRjNFIFWDVhZ6psovBZpDZfALgsP82jg8dEpPDr5wag86cpiBFVjsNAZ7lqw/7z7D3H/7imgtRIZ2zSHuiot4dJouC4DzKKBf9l1F+7fcytQL0eDpOsELPSNXIkzsoovFQ/jz/ZeI1hl7XGoVmL7dZJK2AKhFzkfzVRo60XTnddFBX+SGsPfHLgz8mZ1BTaq5oTVOa7fwGy9jLlWHY0wUKbyQSeGidgA4jRt6mRr3TbXQiMRPupnM3Dw9ck7IqA01dkILIFyEoATw4XyHJ4pncfLlcs4V6+iLFrw2zVDKvDxUG4/vnbwbiDYwJS+DaQZXIZLqOMrw7eikBsFal1MdWh+q+a7Hv71jRfw9OwbmEMdGbjI0sFiKrtCcV2RHhaVka8/5rtawaWoPcAz+OzYAdWsXmlqryaKvGQWpdoy/vbEL/FCcx67kcZNPLeuyzIhbaSs/rlk2qT8aBWKdt99qrAL7kAuWnXqCJYiNo3F2jI+/erPcLS5iMM8jzR3tLHPagO3JUPkEcd9+fFojXgjC6ztquc9fuJ5nAlXcCMf1O7+DdrAXZItTMWHsDc91I7aTpJALIkfXpjGz5szCmygYW0QbeBWEWAqMxRNZcQGlWctB2GjiqfnzqGIRN8lBLqVFnBle357MJnprliBE8PJymX8JqiggLi2G1S0gBtKiQHYGHaTgOyiXjSzcLxeRg0+bI3r+WgBl/YbkUUm78Q2bpLb5Q5m26NpnbeV6RG5EEhYFpJqWXADXCya39ZCXzXlOkubPpcxBr6JxXzRlfOiv6UFXBWMUnYHTEavIFej7uUXtIBLd9VphQJN6m+7yf5wjpFYQvuN3FrApb6TRr4VytR0Uy9DChxMZpGEo3XzrEfkMoY6Aiyq9F4XXynwcWgghwkrhar0t+Ij9kRawKWBVBNhNL3h3cD1EE8N4sPZImZQV34rHaXVRrDTVPxrw3ku2paZEJ/deQBDiKlUoY61NrSBS4sYx8mH7DUj31NHMeVbHhsaxRd3HsZplOFpWExFG7g55mK6tYxT1ZIqa9SVmjU8uHcKn88fxnG5iJJoqiZaF8TawHUYxzJa+GnpIsC7KaLJIhdj4OOLN34I35i4Gy7nmBZLuCRqapeCp8ojSVUiif6mQVs9vHqlu+0mbWw2NGfdiSR+UrqAR1cWEY8PAF69c5Zo1UBH/e+e23BvfhzPXD6PF8tzOFuvYiX0VXPN2gXRKKqzlOTvk9jWykOV5S5OiGV89+IpPHbTh7pI2rcB0yCstoxCPI2H996Oh70GSs0qSl4TDREqlHFuwWIcI5Qv7tr52NsfgVZwKXppv+23F07hvsIEdhfGFbSuDOQqipvRwTjy8Qzyydya18rf7c8NutmSImEzphZYeuXx0GoqRNd+gNnqry/85oUocuOpzfuL6flBK2rWaTegOurR47DL3QYyinanh/UqtSt4QsmA3XwAr3hL+Nz0f0crVrFrAPxuJYWywRLgXiUotKxmQ5FC/uUjKxfwxLFno76PjOdbuY4sJVLcxoBlq3obvZCWcFet6DfwLJ4un8Ojr/4MS40VgJyRNE16vyHT+zMGRvU1bFdVxumFtK1DJdtf7hAfxC9rs/j00f/Ejy9MK3McUoNRDYz3urmkLoBG0+r9Hby08CbOeStIM+e9PU+X6ulomaKLCmSrxf5O2RwawNDgRN1Vv3sgUh1SRfCsaODxM8/jpwtv4oGR/fhYbieQHIx2AAbRXHdTEa125kcV3KOtnpYaaZ+vLeLX5QU8tziDX1dnkYKDDHd60u/2DC6BpeZKFdOmi9NpD47K9DDUaCvlNcwdA0gUeQIFGcf/VN/Cc9UZ3JbYgT8aGsOd2SIOJbOwKOJWV7aEaE992kDWlixaHSmrijceFhpVnG5UcKpexv+VF3BsZRFzsgYXFoZZAm4Pb7jB/phPSjKc9EK0BWQ8lkKBRrOdsjntG1icrpfVcuC7uQETJQfICntZNlFBCznEMRmn+lMZ7Eum1efZ4cSUDcdmEV86J33WcuCjFLQw12rgYquGt1p1dcyGdVV1LgEbOdBrox9JL20AKgx6Cddq14Xq9tYzRRUJ/D2LBNa2xVLCfgW+inBaZozDvrLcKNvTKxrxeuoI1WMXDDFYys2RYNamzHlboZ7D3Y6iPl0osx2ubAujHxbB422XZT+sLBNcU9jzbeJtkDrk/UxJXo1l4GosA1djGbgay8DVWAauxjJwNZaBq7E0LhpwfYu4cnM3Wj2l8tmBaZm1FG2O4UGPXAJG768occBrzJb67I4xQru/rTMXvMx4vZudNUb9IwrWCnNCDm4/Y7K5+qnJ42+w+9le3mQIyRdvGmc9RA6wk07sII+hKZZYJtQiO22kDEnLLCPv9hqv88vSxjzHN6Ai1wDuZ0X8BM7z3C9maJg8hkE14R2yRsU+2WKe8VP1rcjUN4MY5sSsilI+hQJuRQE1O/9PLe3LbukrotmCxDl79MgYihhHEewRjKkvTCbOo3axmReVGE2BTRPdPyKXpg0b51lW5MM5a5UcD1ACHQIl3BKcjEs4yrVrYrg/RGAd0GYzjldZfkcGC0i3Dza+5iuQz7XC9n3mLmY/ZSuTtul/t7sccCzCwsvW4Ley/mt/F93eatVvvY7S7uT3Px7gQY8M2hre2EEXEUiCO23lj+7yX/oDid9fa1wXLlVxGnM/8syBYPY+S22kME309hNDCAuvWaPHHvGfPzwJ4O3lXdZdVk6D4W5Re+qoM8JcKT+aVLtojLaLmKpS6+KUNfqDg8G5j+VRU3FcBtRfq0enTbE4EMx9LSYq7II15Msrk2SjXom3N6Zd5EPiqLPnpsPBxb/stLLYMVPP2jvxdgYL7rQ9fmSBDUj0TYktfbR6vRdYGsfskRd3hpetj3qvnNyoqk7XNowb/LN/npNlftIe+8UlPig8s4fsfdUqNrrNxlssJ6ft4ksxeZkd8mfv6va8myAUne4W/9InaCVk2h69M8nwHUeIQynZtGPwmSupizfTp2tVCK5gNpiDGo8FLeaebcrm524O5n9SlPIdA6aOAvBb/Nt3MGbhe7wAAAAASUVORK5CYII=",DesignIcon4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAB0CAYAAAC/ra0kAAAOwUlEQVR4nO1deYxdVRn/nXPvmzdv9n3mzdJlgLZSao1A4Y9SqoQuFKwoREWjJioECUYESUwAY0wIGo3GuBBNamyoQtBUNGJtTU0BK0ppxa0U2s509uUt0+lb5r27HPPde187Hd4yU6Yz7505v+T0Te+727u/+33nO99yDkNO3AGgAcAkAA6gHADzPiO4g/+DH+NX7DOEb6MlfOWW8LGU8CENX+5TKuSFDhN+lobOLGgsnfZx+9h66+TmF+33TAGNHg+W95kCYACoBeAH8HsAwxedXp/r4+7U//d02q7+/EH7Wi1uVwMQirF5ggkNU8KfeaRlsNgNEdQmm3jM1rThfaNGx465XGmW5Aos8535dsKqfmTQXMGE8+ZAEXvZYSOJAJJ2JYdt31bPIiKgx/YOGV0fmc2VC5ArnBbUoslBo6vcUqQuMDK9pu38GxV1iBp1d7bwkDlmV+mFeOD5vlzjO7algaXEsNVZbkErxacjJcbsZq2GpUSrL/xkvt+Xk9wryiI/7DfW/ykiGr0tSlqLBzYmRQ3CRtfX2vThly9I+MXISm6N1v2tvnTnA3FHWoUitkhhgmPEbNlYqR87BCTecZMa0Aag6nzrZBVXx+ytv0w53XEKud4KhWIBg2UHl1fxyVRaGK8AAWQaAx7zbtIdQ7WwE2JM6C7vCiWDKpiIQbtIEnWg77zabecDiSG7yxF4hVKCQAxlaOBhK2I3aRlty8nbRG2l9u8vDNutAdcDolRxaYE5RlbEruf12slnMnYSAz7mfNnEJkTovGWsUKqoYnHERIAR2Zz8xx16zyMh0aAIlQAxEUCTHn2RfM4MuB2tPGWO2kHNVckKpQ0NdSyCCWEyTgxP2lVaxsWlUOoQmBQBdOixq3i33v+bJCqhyJUFFmyUIYnq/XxSaF4YSVnIcoA5zbbtZVyIgF+5F2WDgBDlnFtizvF6hRKAIXRwSo1RkA+U1cENlfMkJciFwVVvKyeIV65sZDnBCqXZKJQ2FLkSQ5ErMRS5EqOEPBjT7XplBs4GC0yuDjfzIzaNrJmfM7exaWSyadmYwlM8zMv3qvLqmHRFvocFJvccWltXYfnyDqTTDLquO03TtGnN/T/nmW3c+Zsx5jQhyG9qwzBMTE3FkUzGEIlE0d/fg1hszLmGS3wd4ES72JJNzV1AcimkGMbOnY/ic5+7Af39AOcAY/kbQWThhr6zLMC2gVQKGB+fwtjYEEZH+3D06Ot4443XkUr1O/VUQOuSJHnB1bJpGgiHgWj0wtaZ5GUjMxsy5NNLUltbjra2blRUdGPbts0YGprAq6/+FQcP7sfAwFFKtQfQhKWUbbLgBpVlWecl7t0i8xLQ+eJxt9E2Iru+vg6f/OQObN++AwcO/BF79uxBKnUKwIolI8XSDYVImongyUng9GkgnQbuuWc7fvCDn2DNmlsAvO1VUsg/CpT6F5IET00Bb70FtLZW46mnvoGbb/48gEEASekJXhJODE0DhoaARAJ44okvYMuWL3kEm1IPm5aMh4oIPnsWGB4GHn74Y1i37m4AvVI/gqL+ZdR/kmrN1tglCBwdR31xLEYEP4SKilVUyiyt9BYluWQQUWtoAJqa3NbY6DbaRp8tLUBnJ9DeDlRVXTiuEEiCR0fdYz/xiQe92XrktJyL0res6y4Ju3fvxfj4KTBWA9M0KV3T+Z6k1u8vQ0NDHYLBdlxzzfuwYkWVMyQaGcH5fXKBzj04CGzdei3+8IebMDJyBEBwEUjOXO/yaI6iJZdU6IEDLyKZfBlugfjMB2B7DgkfKiuXY/36Ndi8+U5s3LjakUyyknkevUTGVUcHsGXLbdi9+6UcezHvOrMZlBeqZ2beECzuWeqm9/h9ngdt/mcwKEpyM2q5ubkVfX3LATTn3T8ej+Lw4d/i8OE/4a67HsJnPvMhjI+7Y9xcEkzE0z7XXXcjnntuNVKpqBd8uGgvL8iRKnTH3r7NM2qbMxcPe+dpRmtrN9rbl2PZsivQ1laFN98cwKFDv/Oq4ee3l5QkabnaCxRM4Ne//jp8vip89rMfdJwY+dQzGVadnWXo7r4ax4//MQu5I7jxxjtxxx03IRTKfg5S8YGAhT179uL06cMAWjyyNed+gBAaGtZh06absGHDTQgGl6Gmho6hsTfw0ktxHDr0gjcbnH9en4pEGemWN1VeEL/61Y+wYcP70dFRd5EPeyaoCy8vB7q6OnD8uJFlj0l0d1+F229fi97e7OcgDUPq3e9vw2OP/d2TXCL2tKNu7777y9ix46Nob+c4dw5Oi0TcayeTQDgc8vaf/35XsnID21ON/8P+/X/GQw/d5TzIfNJL5DQ1tXqPQsx4yGUYHR1CX59rYeeyxml4FQy2oL5+DaLRfzn96tVXb8V9930Ra9e2OMeeOnUh+nXx9S+fESdhLYnlqOkTJ/6LSOQu+HyAmWeKD7Kwa2trvdDgTHIZUqmUs08+GAZQXU1agIyjU9i+/Zu4//5POUe8/faF8fpCQ1L3TA36+3sxPDzl9G35QILj9wc81fhOKaLhF+2TT/pJxdq2cJILNm16DF/5yqccaR4YuHSHy3xA0iowDYZhIJVKgvPygntzznL0ecwJURYCkR+J2Lj33i9h1ao2h1QaimmLPNuTpORa8Pl8jkTOJm5sOno7+46WZRY8B5FLUnvllW1OTJnU9GKo4ZmQVC3HEQx2oLm53JGgfCASkskEck3RRJI7W5uHLGF6TxZLDc+EhOSSLjyL5cuvcHzSRrYRzvS9NbJ2zwJIZ3kcDKbpquX5JGx63hi/jCIumVrmXiCgBjff/AFnHFkIJJWh0HjO3KrZqOV8oPOXlbnjaTLu6G86H3Xl5MQ4darWu/b8d9ASkat5ftvT2Lr1CWzcuAJnzuQ/IpOp0d+fyZJ8Jy5lHErkkX+cIlhEKI21R0cjGBkZRU/PaUQiISSTBsrLbQwNRbxrz3+dtATkMu/NH3BceNu2fRX33//R806HfOqU3IB9fQn09Bz3siOznXv2yPjEg0H3kP/8pxdvvHEEr732DwwNDSKdnpiWV52RVP/SChxkMOVYQ2TszLSKbM/Nl/Cc+n6sXPk+7Nx5D269dYMjKWS15huKkHRRn/zCC6/CME7S9OFZH+5sJde1mN048dGj/di7dzeOHPmb518OeP5vavXZ7mZW15gripZckrhAoMJ7s6ezRJUKZaiqCqC5uQXr1q3H6tWrsHbtex01SHFaslgLjTErKuDkT//lL/u9yoR3B7oeObqef/4gdu36tmPUAV0emYuTDFCU5JKFSwQ9+OAjSCRi04YiAoxxBAIBVFdXoLa2zHmgFNqjAAH1sZmUnHwgY6ari5IBjmCYZpHHyndNABlM0aiFXbt+5sVrV3ndxeJleRQluRnrNBisgc9Xc1G/SUQTOfQCUMCd3HwZzGZUQcdSas7JkwaeffZ7XiTp3Sep0z2m0wIVFTVIJOJFUdlQlORmyKR463yCiCXVTSr0ySe/iakpiuNdOS9EZCodNC27j3oxsGRmGCNiyYAiC/nxx3+M3t4DnhElb+2Q9ORmhifUx1Lf/Pjj38drrz23JGqGpCaX+m6Ks7a1AW++GcF3vvMUenspGa47Z4hPJkhHLkkpBehJ/RKx4+MCu3f/Hs888wxsm/Jer8rsuch3evlR1OTOtJJnboNnIfv9bqPhCBFLw6Le3kH8859HsW/fiwiH/+t5oFaq+tzFRsZtSJUFZHzOHLuSus30pVRVHw4b6OsbQzg8it7e0zh27Ah6et52Mg8BcoQsm+amXDooSnJJCsn4efrpXyKRCMHvr3eC7/DcgRSpMYw0UqkEJiYmMTw8gMnJkBcRmvK8WrWeh4hdFr9tKaAoySUeidwDByifl1RqY5apijKNe9JZjgurQ0/H0p26tKg9VI2NQYTDsRzOdoVCUDPISQxFrsRQ5EoMRa7EUORKDEWuxFDkSgxFrsRQ5EoMRa7EUORKDEWuxFjgwIGNiopK1NXlz2yk+hoK+9GU+Iu7aLOFsjK/kxtNqbT5CsIoyV3QypdcK5qFpheQXHehieHhQZw5sxojI7lDcZWVDOFwAvH45LxP3zM3lCMaDaGvLwnGypBK5b5nIRhGRs4hnU5clqKuSwHT8XFhXobywexwg+a67s8bZ6VpDNIU0PVmiFu8mCxz6nb9/loEAj5YVu77oIU2kskkUqn4It+zCx3WQqtlzSncMs1ogQq6TBVcgdlKFgQ6UqlRpFKznSKwugju2cWC97nuWz0XtbWYEpCZumguhBVP5oeyliWGIldiKHIlhiJXYihyJYYiV2IociWGIldiKHIlBl+6lTRyw1lSQy0ALiecEjkdeeaIVyhZcNjgfmaoBfwlhAYrI7mq55UNOjPBbUZRcUWubNCYLbhfs15xR0SKYHmggbHkGL/e7Lm1rOBadQqlA05rqoCz8Q8zYDOamW6Pi07mrienUNrQUcPGMSmmGKf5D7mW/LEiVhYYNK3TUeKVAZ92flQ1mxDnRPEkdylcGsphYAp+RjYUd2f0jqLGN/ldZVSVOhj8+sQr7tT750hyH/AsZR/a+SlzyK7WVDyhFMFQy86Js8LHMxUPujvLGhwra8hu0mtwQkw6jg2uPFclBB9MnOVWENZKTCP359N+AQdj5r2auO6nbr760porsTThCiDXB5+FWT8KnDnvs8gqmhX6+/clzPVb3SXQFIobDC3acM+Y5evGeY3rIkvnWoOEuXZbUB/6q6Ykt+hRp4X6x6y2breU5eKW03IaNoMbm3wD369kmQXxlCVdTPAjjUZt/OCE1bQs121lUcs06fRO7w2wnFW3mnjcCtnNvFjqTpc2BOpYTKR1+/qEUfn6hYrCCcxCLU8Hdw4I2Q1asz76ci07N604SlnSCw3Soo36yIkJUccTRvPrhS5fgNwLC/SPm12bzopq1qqPH6ljUaErY2sBIMBgo4bFiNSTcVHBwmbLmtlODj7HEk6BUbPjelIBTfrILRzlu0zb12kJjZvQYQoywRZ5ofYSBqXGOEXTzITGDJszhARLPBox238Bc47rDQL4P5jXPN0B68rWAAAAAElFTkSuQmCC",DesignIcon5="/assets/DesignIcon5.b18bed97.png",D3MainImg="/assets/D3Main.102ae043.jpg",D3Icon1="/assets/D3Icon1.37de9171.png",D3Icon2="/assets/D3Icon2.f179e72f.png",D3Icon3="/assets/D3Icon3.9f5312e1.png",D3Icon4="/assets/D3Icon4.c51daaa6.png",D3Icon5="/assets/D3Icon5.9dd480b5.png",D3Icon6="/assets/D3Icon6.9f383397.png",D3Icon7="/assets/D3Icon7.a152f56f.png",CodingMainImg="/assets/CodingMain.e47c9caf.jpg",CodingIcon1="/assets/CodingIcon1.6457925b.png",CodingIcon2="/assets/CodingIcon2.3a1f1556.png",CodingIcon3="/assets/CodingIcon3.bda78459.svg",CodingIcon4="/assets/CodingIcon4.19190c80.png",CodingIcon5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAB0CAYAAAC/ra0kAAAOQUlEQVR4nO1dDbAXVRX/PR4hPkWUeH0Y1ZN5phUwqAT4MWgEakpGyBQNVFSMoMMY+REmpkgYZFhkKFLkEOGAM2QIiDaiEUqBUTJICQVFCCTyoXzDU3nN5rnT6cy9d+/uvfv/2P/+ZnbE/9u9e/ee3XvOPed3zkWBAgVygt8CaKVjC4D7AXwawMmFgKsfzzLh8uMogGUAxgLoWuuDVK24mwl0l0HQ0bEJwHQAAwCcVOuDVi0YwAR4PYAm+lqXAjhiEPRhAIsBjAHwoVofwEpGA4AWEtoC0c/2AK4gPbzZ8lVvADANwCcBvKvWB7TS8DwJ6dWYfjUD+AaA3wA4ZhD0AQCPARgFoEvtDWXlYTITzrmOvYu++EEAHgCw1fJVrwMwBUA/AG1raVArBVzvjknZp48CuAnAcjbNy+MNAGsBzALwvvwNY2XiVABvkSDmB+hhBwCDSYjbLF/1nwFMAnAhgPo8DmylYDUN+PYM+nMBgL9ahBwde+nFGgGgc3UOYeViKhvo5oC9jHTzkxphRl/0ToOgTwBYA2AigE8AaJO3wS41rmSDOyrQvRuEByxaTv2J/r2fpuKeACaQxf62QdivAZgL4IsAOlXPkFYOuN6dF6BXHQH8gQnoJQBnAriD/dZTXHMGgC8A+AUJVCfot+lFiNo5H0BdNQ96KfFCIL37bppWuWAb6W+XsN/HWdqIpuJeAO4ke+CEQdj/BvAwgKEATq+8Ia0cTGOD1pSyV40kTNXOGvqKFdoxt+aiBO12JmNrHhlfOkFHM88KAOMB9KiSMS8ZBrGBGpnippFH6i+sjeeFYBWW09/3pTSW6mn5NInWzaav+iCAFwEMoeVZTaMjM2rmpBAs9z8/SwaVDhPZeSG+sMghEr2MjwJ43SDoFurTzeRwqUmspcHYmuDhm4WzYolFsBEuY+eODTzInSiQYVtTq+ebCeAzMX3NFX6YUO+eQwaYumYx6VUb2rPAw8KAgycNOXVsoWDGAYOgj1EwJDLwPpJn4Q5mDz0i5tzuAHaz8x9J4EZcQdfsDrSc0Rlyi5mhdSqFI6NZ496Yr3tzXulGnZiBMttyXm8h2DkJ/cOcAdLNs8+RvufuzefIfhjFfrtSc11ENBhNVvthg6CPEnEhN3SjdewN1qEPeZjUAMxM8fVJBkhafNBiyJ3Lfp8S0/5J1KdILb1s+ao30TlVSzeazh5GBtz7AzjE/n5fymnVxgBxRbNG30vj6FW2LEuCrgnoRqOriW70OYPeHSgedKrnfVwZIDp8XAh2kcGQW8CWQmmt4vakf+PoRtEU/lPS6xVLN2pkHZ5Fv10jgvC3BbhPGgYIEhpyY9h5AwL0GTRjjCML+7hB0JxudGag+waDsiY3kjOfC/aWQDe5nLXpygDpQ54tdd3sGEOO693Jgfqt8AHhkbMdnG5UdmLCDNZRHorzMX4keCTqEYfzL0phyNWxr3xlwL5Lj5wao2hqvpUMOxPd6HXypo0sF91oqKZT38vgPq4MkP4afe9qyC1kzor2AfrcLEiByygmrf7/EjqP0422W77qtaWmGzUaOvIP+qoHBXLbuTBArhaC/W7Ce4xl117m2d+zDR65Xuy3bxuu7UERq8iB86ZhfPfSLJY53eifmmmZH8eIQnOjBzUnjgESwpDrxq6fmLKfMBhyykKvZyrjKYe2TqfZ8WEHutFd9PIEpRs9xG40hOK9tgV+GrddB/bySAbIcPFi3ZjyOaLpew+1sSJlGxcIwc7VTKFL6W+HEnK0o/6dR+wSF7rRMGKteGEYa3goa6iJDKvFgdx2ukjUV9lDnghgyC1i/YoLbEi4euRuYef09ejrGTT2c2PoRj6z0H8tOdXYDMM5ym03nVxzpq9aZQleoXHbSQbI9eIhhvs8BGGcxuBxQX8h2B9ZDLnenupDB0U3uksT8XrBt/GN1NAGx/OTuO1UViFngDzK/h3p2s/7PgChJ2v3DsdrPpXQI9eWuWafCNLr/yF6ob7P+nKEEu+88DPWYFLrzTVL8F+a31rImAqFNsz5sdyhTWnITXDsx1N0/v6Ay5o6UgWtrO2LQjQ8gjU62LOtZjKKniTdZxJ2NBU/SESAkFjM3nqb3h0qBDs+QR9uY9f1CtD36AX5OWtzH9kAQdCFNTw9VKNkTV9Funy/RdDRuvongQLnLgaPtNCTGnJ92bW+btp6Wm6p9nbTciwo1JS6LnC7crqJO456rqu5o0Fn8FzHBBv99+sp7tGW6emlKa5XiGaWx1l/I8fJxzzaM2I2W5KESueop3Wt6vwexgCZ7xg4/zuzwF3cijZHww0BLXRf6m4DWzNHxyuB87f+D18OqHdBb+V8zXRjYoCo5dESiwV+xHFdrXM0cD3ZQvFsH9hSZuKgy6/KtEJBE7vZNM+22jHDRk036q20MUAUlAUet67eaKDDjBd69072/8cCWeiuKTMSEe/r9+zaDaUqPaGiIGs92migALfq/BYx3SRhXiqodfUyiwXO19WcZcK/kCPksAiBNCkznSz5VZljDtNHuhSROJziMN24Mi9NONmRDiN9t5EevjTwAKrKfHsdQpM6Wq637zgJRrKbD0p4bUfNW2kKUquH/FuAPqt1ta36TisFEwYHzifiKTM26q6k5ZryqzLFWSn1bvRW/pFduy5muuEMkJAshQaKbB2yCDkypp6hwi2++UQuKTM2Wm7JsZ1NGy6IS+fUgTNAhgV8wAYSnBSoKZbayvKJriG1kgRxKTMutNySQq1LVXqGDV1oauVTn8t0wxkgDwV6uI4afa+Mr0XU11Ex+UTHWT6Rq1vUlDLTzZGWW1LEpWcoNHlON5x56Qudvm+0OBpc84lc6EacuqumeZ/8qkzRzDplCn/pppukaRecAfIejwdqZAVWWunfSt+7Ohp4PtFBg6BNblFZvK2PyB+Oo+WWHDuoY6s1N+7O/q50TZrpxsQASYI4fZ/G0dCO1sL3OdKNrmXLruUB8qsyh0rPeEsYGSGnGxcGiA1dyO/M1cJp4nxu8DyWsp8udCN18NIOvmk4mUGXniE5RrMCTDdJGSAKZwl9/4xFJ4bMEXalG93teZ9MIdMz+gnBPhBoupnF2nR1w+n0vU0tuDoa0qArJYXxL9aV3lNWqLTIlwJn/XFwBohLlCaNvs+yNocM+oduPzMs0Ew3XjRLDZIwQNLq+6xqc4wSQf/RAdvOHBOEYLdRJmBoZ7cLA6QP1XFOq+9VjvCuAP1FRrTckmKgwVhQdRlvp7Wjr+6NY4BcLPT9gynumTZHWAcZ9L/Ws72yoI7RRA9YKrjtpFyYIZqliAtsDBBd1l8ahKgSDyKNq3ZCBf3LBp4WGSUhf4moM6a6jG/S0uNbCSxTEwNkkBBslP6YFiFqc/BMxZBB/7LBlBap6jJOpjL3pvXeNtKPn42JuEgGSBblG1ZRW0lrc9SJEGUWQf+yoIejpazqMi4Uhg8/jpN77iZNxIUzQG5gmfitHll/EvzLO9vxmnqxFt8fkixebiRNzwCxDfvRYK63fNUq4nI1cYnl30Nk/XEkrRKvI4vnrgSwSouMS88wQcVRbREXSY/JYnmRpEp89Jy/Yv3ZkUUWQCUgbVqkDiriEpfgvZOcGpcHruDmUpujvYWWmzukSYt0RRObGUwHp6x+2PN+PD1SJzAdWdz3nhWNNiz47Kp3XfEdg0B3WIStNozsn6KCm61KfBQH/h37+6Za2adQpWccDrhXn1w38jDjVJEKGmrDSFOVeBNNpyYQqg4EaN34Y7G8UGtoFYlaJa5RG0bOYNV3dIfLhpGyNkejsOrX1JJg4ZAW6Qpd9jhfN7oW6OQbRprqMpoquE0TLyqn6awuB1m83Ehaf0kH3brxPHFemgKdvILbK5avWlVwm8R+41u8l5UsXm48QYOQtP4SNOmcrxnWjSEKdLpUcJPHsloWLESoq3eC62zpnDqomkxJC2Pr4FLBzWUzjtwjTR2IBlb5pVWTzqlD6AKdCnVUEokzGF8u9t9/B7z+kksdiLTZ4yELdHL08dyMI/dwrb+kWze+33FwQhXo5OhbDWTxcsOl/lJnIdj1CdeNvDB22gKdHJLN8YNCsHpczAbpZs0ZadI5dfg107s+xs5VQrD3eLSVe9jqQMjs8ZUeDoEQkags2By5hy4tMsnunC7wjUQNF2vcJNVmahoyLbJZeIZCZI+nYYAojMxwM47cg6dFThF5O48HdAikYYBUPVm83GjHQnDcaR86e5xHoi50OP9Wdn4LZUcUSIHnhAtvn6E6ug+SRKImCMFWNVm83LjX4Kc9SNNpiE0NXSNRMug/sHqGsTLB0yL3GATd6kmJQcxOIHWijuSBPGQBVAJkWuQ5bFPDUJQYUFqKup4zQOKC/gU8sZIGVpYjUJSYmWK7NHmsJzbipZb4MI9ERQYTDEH/8wthhoVrWqQLJeYNmgG+JrYqlZGodmJnk115JYuXG2nSIk9hlJhtlq9aEd2iNfXTbOpdws7JNVm83AiRFtmN1rO2rUp1x+ZCsNnDZ8tyiQ6UwD07ZqvSzEvGF3gH9zjq3TToQZnsvAjnVs9SggUSgKdFXhd44BpFYnfSoH8BTyRJi0yC9wYK+hfwhOuW5a7QxYZDlq4vkAAuW5a7olkI9ulaJ4uXG0nLEZiQtKZjgRLgNMZ8+GXK23UXuz8vKARbOdBtWe4KuU/8vIIsXlmQW5a7wnWf+AJlhK0cgQn9RXUb2z7xBcoIUzkCEwZmWMO5QAZ40VHvSrL47YUwKh8uW6cOE4L13RK8QIkQt3XqiIIsXr2wbZ0qyeJfqfXBqkbotiz/JhNsS5EFUL24X+hdWTK+IItXMfjWqavYv4/QbtUFqhh861Qu2IIsnhPwLUsLsnjOoPzMuxPWqypQoECBPALAfwD4Thn8vyHKNQAAAABJRU5ErkJggg==",CodingIcon6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAB0CAYAAAC/ra0kAAAOTElEQVR4nO2dC3AV1RnH/2d37/vePEhCHoTwhgAqICroqEVbFawiI2CVKkzrqK1jLU6tjjqtos6opSp2plrUjrb1gVrUUSz1hVaLj1JeQqi8QgIh5EFCkpvc5+6eznfCjaDhcvfmJiTL+Y03A5K9e3b/e77zne9851sGARc//aVBjFqwDQpMmIqGaNQJvyd4hWmql3DgLAClALyQnAgijGM/GNaZTvNdvda9knEGns/BDAMs4IIOFxg3UXHfRNE87ahGMoCbDBwKVEf8apeD/9bg6ngpZb8gwBUUgGOyorMbtJz4bhjswbjpeB6cgXXTQuXIvxhRFYpmAip/gYG/rKr6+MOdWtIfOKwFNxgUlzlK9enPqdBXMs7BnBxaQBefBEf3XA44A7EPjYh6oRlXpJ79FdYpMAeDpupXKh7ji2BdYHqkNUuY5QRC3FMWbgGJyQKxFUZUkcIOIEhgMDZNDUf+4WrBpapmdDVeiOstC0HxRWdz0/xRtMUNpkpbPJDQwxp8Je2zjKLgdaF2198STRddtHmHD6EG99N62CGFHYAwhYPHGeIdnic7mvK7hlohbta45lmaRy804+rJfp8GLLquweGK+0tKa+clrkGIy3TnXM7JdsteO1BhjINzBbqhzk1cgujCnPNpJ/vNsQVc/Dc5cSmi53JgyMl+X+wBJ+85P3EpiTmP82S/LTbCkbiUhLim3a/4JKJLSxmtsDFSXBsjxbUxUlwbI8W1MVJcGyPFtTFSXBsjxbUxUlwbI8W1MVJcGyPFtTFSXBsjxbUxUlwbI8W1MVJcGyPFtTFSXBsjxbUxUlwbI8W1MVJcGyPFtTFSXBsjxbUxUlwbI8W1MVJcGyPFtTFSXBsjxbUxUlwbI8W1MVJcGyPFtTFSXBsjxbUx2kl75b0M50DcMBGNm4gZHLrBYZjf1NZUGKAoDJrC4FAZnJoCh8agsO4K2qdHn4lLjaaLDcWMFH77xOFxqOJGmzz1IqekB+nWFtLREoojGudwaQxZXg35ASeyvRr8bhUuTRH3gYr4kdhR3UQoaqItrONQRxwNbToicVMIn+XRkOPV4HQosNCUo+gzcelm0VOa7XWk8NsnDs55ysKqChMPa01TRIg2ttiHGRMG4bQyP0YWelGW50ZJrgs5Pg0OtfsRMKaTuAYaWqPYfyiKvQfD2FbTga017fi6tgONDWGMKPDA51bFA2GFPhN3X1MEl08twMPXjO2rU6bFg6/vxktr61CW7z7m4WROdcPEztqQ6F3zphWJa5sxfpAQ0gpkJfID9HFgQqm/60iScVNVG97f0oTXvqhHMKzD47RWD7vPxKUn1OdSMTirf9cQJXNI5vJY0PhIPaylIy5EXTyrDJOHZ2W8HTTyThmeJT4VNe1YtaERw/I9lr6jz8QlExa3aFZOBCQstbU7SNgdB0IozHZi2cJyzJtW2CctJEdMO0abkiG95RQhYWkMLC/xYeVtk1Gad2yznWn6vUM1kNFUhsr6MIYXePD+PWcI0z0QkEGM40DTnJYOXTg4f188ecAIC9lzjw+9JW9PYwhPLBqPMcUD6x2VfSpu5mIvvceRbaQ/17dGcdbIbNx80dAenZNmC83tcRGkoDGUghNZbhWBXrQEfSYuecouR/8fBTwu9RuvngENbTEsmT86re+qb43h1c/rsKGqDVWNYWHeKUqHw+O416miKMeFYflujCvx4ewxOZg0LJCxa+kzcYtzXPjf/g4sWbnb0nE0DeiIGLjlkjKMGJzaPK/2UBR/+Gc1NKUzXmuF9ZVtIqpEhGOmmFvOnJRv6TuI5R/WYOnbVag+GIbfpYoQpFOEHzsfGnqAgmEDexrD+GCrIaJPFMiYWBrABRNzceWZhRhd1DkM6CZPy2PuM3Fz/Q4RWvtiZ4ul4+I6R7gthtlTC1IWt64likfe3AOHQ4HHac1aFGW7kOd3CDNKgYppo3O6xE6VJ1ZXY/Gft6GsyIfJwwIwSZxjHEui47DjFotzEZVaU9GEP763D9eeW4I7Zg9HYbZLhEWt0ndmWTdF+GxUoTWnhJ7oZr/DUuiNzP+oYq8I1KczFMQOR6io5yYLQ3ZHwjqNLvWLOPqRK0HJIO3IyhTnujAkzy3CjY+9U4XPd7SIB3RwtrUHDNJbTg4JQ9EoK1CvC0Z0sXBgpijst6HjyJSfMtQvPHUy59TD++3CwUCEbqXPZf0Wdf+ScWvwww9Xrq9zFc2qsJBBjONz7NGye2jJj9Zu28M6MrjunhZS3CSQNrSQboWJpX78+rIR2L43iJjOxfLgiUKa5STQXPTAoZjl4+6aM0JkZCxdVYXSQS7hgetpjr89QfbcJJB5rWwIpXXsIwvG4vmfnyIyMDZVB9ERNY65lNhbSHGTkON1YOu+oJjepMPC80rw6X1n4ZezysT06qu9QZErRSk5fTEeS3GTQPPOpvY43lrfkPZ3UABk6Y/H4b27z8Ddc0YK77eiJoia5qhw1TKZ7fhtpLhJoMBC6SA3nv1oP9ojPcvaHFPkxb1zR2HNb87E4wvLReSqsj6E3fUhkZDXGyJLcY8D9bT9zRHc88rOjHwfJdT97AdD8e5dU/HiLafhkkl52NMQxu7DY3smRZbiHgeKFlGv+9MH+7Dis7qMfvdlpxdgxa2TxOd75bkijedAS1R46ZmQWIp7HLgYexUMzXPjpmcr8MGWpoyfY9bkfLx5+xQ8fcNEkR36VXUQFJDqaS+W4qYA9d5Bfofwnucv25zxHpzg2nOL8fG9Z+KnM4ZgW0072qN6j6ZPUtwUodhuYY5TjMHXL9+Ku1bsTHnFxwrZHg1PXj8Bv1swFnsPRsTUKV2BpbgWIIHzAg6xrvzoqirMuH8d3t18sFfOtfjSYXjq+gnY3xwVy3/pmGgprkWot9IaMaXDbD/Qgaue2IxFT23FfytbM36uReeXYNmiclQ2hC1tTEsgxU0Dus8kMqXgUC7z6/+px+VLN+LGZyrwr22HMnqum75fimvPK8bOAyHL5lmK2wNIYLrhtAuBUnNe/qwOcx/fhDmPbsRLaw90ZXT0lIeuHivmxxSftoIUNwOQyJQtMa7YhyGDXPj39hbc8HQFLnhgncinIqeoJ1A2yLzpRWKnpJWhV4qbQWhcpJ5MqarlQ3yobozgjpd24HtL1uGxd6p7dKKZk/NEYMOKgy7F7QVoTKYPTZ1OLQugNazj9he2C++6Yl97Wic8Y2S28NJDFkyzFLcXIYEpAEL5yFNHZmFjVRvOX7IOayqaLZ+UxnQKg1rJDJHi9gEJ75p2FbgcDHMf24Rt+633YNqdQNtRUkWKexzS3RvbHRQEoX294ZiB+y3uvCC8LtVSe6S4SaCoEPU4EiNTS3Ek8PDBXmzYExTbXqxgtQVS3CSQqLRfx+/WsLMuJPb5ZEJjKoGQ2K5ihagFkwwpbnIoxYbGub/efCounJiLzdVBNLZ1BvLT1ZgejtZQXCxAWN2q0hiMi/pWqSLFTQKNb41tUYwf4sMbv5qCx68rR8CjCpHrWmPi3y0FFRQmel9NbQd+MmOIsAipQtEpSsmxsp9X5i0ngYQ7cqy9ZWYZFpxbjL98Uos31tVjy752IRb1ws4tmkxsJTlScDHnBcT8lMZY2hB35/zRuHVmmaW2bNnbLnKuii3sOJTiWoQW7W+7dBh+MbMMa7Y246NtzdhcFcSu+hAa22LCYUrspyWRqXAc5S4X5Tgxf3ohrjmnGBeflmf5vGt3tCAYMTBUYSlvcJHipgk5RSRSQihyuGijNZVGIBNqGByqyuBzqsjPcmLCEJ8Yv9Nl9aZGsZZsZWYmxc0QFD0aU9Q7BVHIOny2o0WsPllBOlQDgAder0TArVqea0tx+zn3vrYLa78+hLJ8j+VsDCluP+b3q6rwyFt7MLbEl1aajRxzk0Cer9diGdxMQJVuaIlw+Yf7RPkFt0NJK9NSipsE2sJJpYRomjPaYqGWdKF8rGWrq/HlrlbhQFFCfLoptAlx+615TtSGKAikXnhkcLZTmLGerugUZDnFPqGZD63HD6fki3pU54zN7SovlClofkxFs1/5vE6s9VJd6kllAXHdaRRN6dIy0cqeJfn0IhSsJ7O0rrIVoXhqWQgUyaHAQU9LFtDNzfY50B7R8dzHtXjh0wMYU+zDqWV+TBmWJRYVKDuCds+nWkqJAhy1zVERStxRFxJFzdZXtoo/U0ki+k6VsZ7sxO/SUlz96XeureAKm2CxtkefQRrRFspUL5gC+2RSM7kWK15SYaLrZRNU74LEoAyJwhwqjeAU0auAWxP/nxLmwDozMWiBndpPx1EBtAMtMTS0xkSwg0KWdBxVg6Vz9LzNrHLjw2ePQqLnKgrW6RwT+mvhzcRmLDVFccUbQDL8oCbCiWSSE2aZTD9VfaPKeNtrO8Qynsk7X4LBEw1nnT2I2pSo90jiUzjy23nIPW0zB4PCza8SfxetNF3GSiWmLuIG65elVUV1NZUCtf2rcSSY20kfBbnWgkcZh5sMimbA4Y2v7Gof/YjXeN82I2oz0/r/Owgk3aO5dMTDzkjthqGvJn5BiMuyGdQs42bVpUP0XsmAgnotc3C4AtHF/oJg7ChxjSYNkV1Zr4RqA6sUj7WiWpITj+bREdzn/6RpS85yo+2IV8rRj3idB/FGN1hQu1xR8KUMSg4gGDlvbKvfHb8oy6vDpXwjnnCoBpU3ASaDCYZohzYdCn9TVfgVEM6MNNP9DvLctc4UDzOmvh+PKrPzioMxz8gYTM6w5cXOBnf23JBDfExDEQdwHXMY2I2mqewdEC8mOMlgCmBGlTpuslu5rlzMOCJ6TEWkzSU+Cb4bRxN5Qxym7njGMJXnXY7wVQbUWQCbBHB6BVbfvS1JciRUlawBDFu4k6826h2vKl4jzNxcOFTfAcD/AfIShSw0v9ymAAAAAElFTkSuQmCC",CodingIcon7="/assets/CodingIcon7.024d1e3f.svg",Array$1=[{title:"Design",subTitle:"Graphic & Motion Design Image & Video Editing / Web Design",titleIcon1:DesignIcon1,titleIcon2:DesignIcon2,titleIcon3:DesignIcon3,titleIcon4:DesignIcon4,titleIcon5:DesignIcon5,titleIconLink1:"https://www.adobe.com/products/photoshop.html",titleIconLink2:"https://www.adobe.com/products/aftereffects.html",titleIconLink3:"https://www.adobe.com/products/indesign.html",titleIconLink4:"https://www.adobe.com/products/premiere.html",titleIconLink5:"https://www.adobe.com/products/illustrator.html",mainFrame:DesignMainImg},{title:"3D",subTitle:"Character & Environment Images with 3D Softwares",titleIcon1:D3Icon1,titleIcon2:D3Icon2,titleIcon3:D3Icon3,titleIcon4:D3Icon4,titleIcon5:D3Icon5,titleIcon6:D3Icon6,titleIcon7:D3Icon7,titleIconLink1:"https://www.marvelousdesigner.com/",titleIconLink2:"https://www.maxon.net/en/cinema-4d",titleIconLink3:"https://www.autodesk.com/",titleIconLink4:"https://www.adobe.com/products/substance3d/3d-augmented-reality.html",titleIconLink5:"https://www.blender.org/",titleIconLink6:"https://www.foundry.com/products/mari",titleIconLink7:"https://pixologic.com/",mainFrame:D3MainImg},{title:"Coding",subTitle:"Front-End / Designing & Creating Websites",titleIcon1:CodingIcon1,titleIcon2:CodingIcon2,titleIcon3:CodingIcon3,titleIcon4:CodingIcon4,titleIcon5:CodingIcon5,titleIcon6:CodingIcon6,titleIcon7:CodingIcon7,titleIconLink1:"https://www.freecodecamp.org/news/html-css-and-javascript-explained-for-beginners/",titleIconLink2:"https://nodejs.org/en/",titleIconLink3:"https://www.mongodb.com/",titleIconLink4:"https://reactjs.org/",titleIconLink5:"https://threejs.org/",titleIconLink6:"https://www.typescriptlang.org/",titleIconLink7:"https://redux.js.org/",mainFrame:CodingMainImg}],Design1="/assets/Design1.1efa2a73.png",Design2="/assets/Design2.e442fe31.png",Design3="/assets/Design3.a41f0afc.png",DesignMobile1="/assets/DesignMobile1.380f5569.jpg",DesignMobile2="/assets/DesignMobile2.91e05871.jpg",YoutubeIcon="/assets/Youtube.8593ddf2.png",ArtstationIcon="/assets/Artstation.e325ffb1.png",DesignMobile3="/assets/DesignMobile3.8b3e4d40.jpg",D31="/assets/D31.24b71acf.png",D3Mobile1="/assets/D3Mobile1.95414e83.jpg",Coding1="/assets/Coding1.43694cca.png",Coding3="/assets/Coding3.c4bfc42f.png",Coding4="/assets/Coding4.3e1006c3.png",CodingMobile1="/assets/CodingMobile1.c9c6fa2e.jpg",CodingMobile3="/assets/CodingMobile3.ee7d6199.jpg",CodingMobile4="/assets/CodingMobile4.360068df.jpg",DWIcon="/assets/DWIcon.9b454337.png",SMFA=[[{text1:"Fantasy Images",text2:"Creating and Editing Pictures",text3:"2015 - 2019",backgroundImage:Design3,backgroundMobileImage:DesignMobile3,link:"https://www.artstation.com/artwork/mzk2O1",linkText:"View on Artstation",linkIcon:ArtstationIcon},{text1:"Work and Clients",text2:"Animations and Motion Graphic",text3:"2019 - 2020",backgroundImage:Design2,backgroundMobileImage:DesignMobile2,link:"https://www.youtube.com/watch?v=gsKiwVeOg9I&list=PLyTTmzgmeHrk2WamZWF5IBCpHSK07dF3o&index=1",linkText:"Watch on Youtube",linkIcon:YoutubeIcon},{text1:"Youtube Battle Music",text2:"Creating Animations and Effects",text3:"2020 - 2022",backgroundImage:Design1,backgroundMobileImage:DesignMobile1,link:"https://www.youtube.com/@DWBattleMusic",linkText:"Watch on Youtube",linkIcon:YoutubeIcon}],[{text1:"Gallery - Fantasy Images",text2:"Images with 3D Softwares",text3:"2020 - 2022",backgroundImage:D31,backgroundMobileImage:D3Mobile1,link:"https://www.artstation.com/dreamwalkerworld",linkText:"View on Artstation",linkIcon:ArtstationIcon}],[{text1:"Notes App",text2:"Simple MERN Stack App",text3:"2022",backgroundImage:Coding3,backgroundMobileImage:CodingMobile3,link:"https://notesdw.up.railway.app/login",linkText:"View on MernAppJL",linkIcon:DWIcon},{text1:"Tic Tac Toe",text2:"Play VS an unbeatable AI",text3:"2023",backgroundImage:Coding4,backgroundMobileImage:CodingMobile4,link:"https://tictactoegame.up.railway.app/",linkText:"View on DreamwalkerJL",linkIcon:DWIcon},{text1:"Moon",text2:"Interactive FrontPage",text3:"2022",backgroundImage:Coding1,backgroundMobileImage:CodingMobile1,link:"https://www.artstation.com/dreamwalkerworld",linkIntern:2,linkText:"View on DreamwalkerJL",linkIcon:DWIcon}]];function SkillsMiniFrame({mainI:et,i:_e}){const tt=reactResponsive.exports.useMediaQuery({query:"(min-width: 976px)"}),nt={offscreen:{y:"75px",opacity:0,"--rotate":"120deg"},onscreen:{y:"0px",opacity:1,"--rotate":"0deg",transition:{type:"linear",duration:1.25,staggerChildren:.2,delayChildren:.1}},hover:{}},rt={hover:{filter:"blur(3px) brightness(20%)",transition:{}}},it={hover:{opacity:1}},st=useNavigate();function ot(){st("/gallery")}function at(){st("/moon")}function lt(){return SMFA[et][_e].linkIntern===1?ot():SMFA[et][_e].linkIntern===2?at():window.open(SMFA[et][_e].link,"_blank")}return jsxs(motion.div,{variants:nt,className:"relative flex w-max cursor-pointer flex-col items-center bg-[#f9ef02] lg:h-[150.5px] lg:bg-opacity-0",whileHover:"hover",onClick:()=>lt(),children:[jsx(motion.img,{src:tt?SMFA[et][_e].backgroundImage:SMFA[et][_e].backgroundMobileImage,className:" relative  w-[80vw] p-1 lg:w-[270px]  lg:p-0 xl:w-[327px] xxl:w-[460px] ",variants:tt&&rt}),jsxs(motion.p,{variants:tt&&rt,className:"l pointer-events-none relative w-[80vw] text-center font-Oxanium text-[14px] font-light  sm:text-[16px] lg:bottom-[50px] lg:left-6 lg:w-[250px] lg:p-[2px] lg:text-start  lg:text-[10px] xl:bottom-[63px] xl:w-[327px] xl:text-[13px] xl:leading-5 xxl:bottom-[82px] xxl:w-[460px] xxl:text-[23px] xxl:leading-6",children:[SMFA[et][_e].text1,jsx("br",{}),SMFA[et][_e].text2,jsx("br",{}),SMFA[et][_e].text3]}),jsxs(motion.div,{variants:tt&&it,className:"relative flex h-max w-max justify-start gap-2  pb-2 pt-1 text-base opacity-100 lg:bottom-[178px] lg:flex-col lg:items-center lg:gap-0 lg:p-0  lg:opacity-0 xl:bottom-[210px] xxl:bottom-[275px]",children:[jsx("p",{className:"font-Oxanium text-[14px]  font-extralight text-black sm:text-[16px] lg:order-2 lg:text-[14px] lg:font-normal lg:text-white xl:text-[16px] xxl:text-[22px]",children:SMFA[et][_e].linkText}),jsx("img",{src:SMFA[et][_e].linkIcon,className:"h-[20px] w-[20px] lg:order-1 lg:h-max lg:w-[42px] xxl:w-[65px]"})]})]})}function SkillsMF({mainI:et}){const _e=reactResponsive.exports.useMediaQuery({query:"(max-width: 976px)"}),tt={offscreen:{y:"75px",opacity:0,"--rotate":"120deg"},onscreen:{y:"0px",opacity:1,"--rotate":"0deg",transition:{type:"linear",duration:1.25,staggerChildren:.2,delayChildren:.1}},hover:{}};function nt(){return et===0?3:et===1?1:et===2&&_e?2:et===2?3:0}const[rt,it]=react.exports.useState(ot()),st=rt.map(at=>jsx(SkillsMiniFrame,{i:at.i,mainI:et},at.id));function ot(){const at=[];for(let lt=0;lt<nt();lt++)at.push({i:lt,id:nanoid()});return at}return jsx(motion.div,{variants:tt,initial:"offscreen",whileInView:"onscreen",viewport:{once:!0,margin:"50px"},className:"relative  flex  w-full flex-col  items-center gap-[5vw] lg:absolute lg:top-[58vh] lg:right-[7vw] lg:w-max lg:flex-row lg:items-start lg:gap-[2vw] xxl:top-[50vh] xxl:gap-[1vw]",children:st})}function Skills({i:et,deRef:_e,d3Ref:tt,coRef:nt}){const rt={offscreen:{y:"75px",opacity:0,"--rotate":"120deg"},onscreen:{y:"0px",opacity:1,"--rotate":"0deg",transition:{type:"linear",duration:1.25,staggerChildren:.2,delayChildren:.1}},hover:{}};function it(){const st={whilehover:{scale:1.2}},ot=react.exports.useRef(),at=[_e,tt,nt];return jsx("div",{ref:ot,children:jsxs(motion.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},ref:at[et],className:"  relative flex h-max w-full  flex-col gap-[10vw] lg:top-0 lg:h-[80vh]    ",children:[jsxs("div",{className:"relative left-[10vw] z-10 flex h-max w-[80vw] flex-col gap-[2vw] overflow-hidden bg-[#f9ef02] bg-auto bg-left text-center lg:left-0 lg:top-[35px] lg:h-[240px] lg:w-[30vw] lg:gap-[18px] lg:bg-opacity-0 lg:bg-SkillsTitleBG lg:text-start xl:h-[271px] xl:gap-[12px] xl:bg-cover  xxl:h-[300px] xxl:gap-[20px]",children:[jsx("p",{className:"relative pt-[2vw] font-Oxanium text-[22px] font-semibold lg:left-[50px] lg:top-[12px] lg:p-0 lg:text-[40px] xl:text-[56px]",children:Array$1[et].title}),jsx("div",{className:"relative flex justify-center lg:justify-start",children:jsx("div",{className:"relative bottom-0 h-[1px] w-[70vw]  bg-black lg:left-[53px] lg:w-[30vw]"})}),jsx("p",{className:"relative pl-[20px] pr-[20px] font-Oxanium text-[14px] font-extralight sm:text-[16px]  lg:left-[50px]  lg:w-[25vw] lg:p-0  xl:text-[22px] xxl:text-[30px] xxl:leading-8",children:Array$1[et].subTitle}),jsxs("div",{className:"relative flex flex-row justify-center gap-[5px] pb-[2.5vw] lg:bottom-[0px] lg:left-[50px] lg:justify-start  xl:bottom-[0px]  ",children:[jsx("a",{href:Array$1[et].titleIconLink1,target:"_blank",rel:"Ps",children:jsx(motion.img,{variants:st,whileHover:"whilehover",src:Array$1[et].titleIcon1,className:"relative w-[30px] cursor-pointer "})}),jsx("a",{href:Array$1[et].titleIconLink2,target:"_blank",rel:"Ae",children:jsx(motion.img,{variants:st,whileHover:"whilehover",src:Array$1[et].titleIcon2,className:"relative w-[30px] cursor-pointer "})}),jsx("a",{href:Array$1[et].titleIconLink3,target:"_blank",rel:"Id",children:jsx(motion.img,{variants:st,whileHover:"whilehover",src:Array$1[et].titleIcon3,className:"relative w-[30px] cursor-pointer "})}),jsx("a",{href:Array$1[et].titleIconLink4,target:"_blank",rel:"Pr",children:jsx(motion.img,{variants:st,whileHover:"whilehover",src:Array$1[et].titleIcon4,className:"relative w-[30px] cursor-pointer "})}),jsx("a",{href:Array$1[et].titleIconLink5,target:"_blank",rel:"Ai",children:jsx(motion.img,{variants:st,whileHover:"whilehover",src:Array$1[et].titleIcon5,className:"relative w-[30px] cursor-pointer "})}),Array$1[et].titleIcon6?jsx("a",{href:Array$1[et].titleIconLink6,target:"_blank",rel:"Ai",children:jsx(motion.img,{variants:st,whileHover:"whilehover",src:Array$1[et].titleIcon6,className:"relative w-[30px] cursor-pointer "})}):!1,Array$1[et].titleIcon7?jsx("a",{href:Array$1[et].titleIconLink7,target:"_blank",rel:"Ai",children:jsx(motion.img,{variants:st,whileHover:"whilehover",src:Array$1[et].titleIcon7,className:"relative w-[30px] cursor-pointer "})}):!1]})]}),jsx(motion.div,{variants:rt,initial:"offscreen",whileInView:"onscreen",viewport:{once:!0,amount:.1},className:" relative z-0  flex h-max w-full justify-center opacity-100 lg:absolute lg:right-[5vw]  lg:w-max",children:jsx("img",{src:Array$1[et].mainFrame,className:"   relative w-[80vw] border-2 border-[#f9ef02] lg:w-[800px] xl:w-[1036.8px] xxl:w-[60vw] "})}),jsx(SkillsMF,{mainI:et})]})})}return jsx("div",{className:"bg-black",children:jsx("div",{className:"relative z-0  h-max  w-full  bg-SkillsBG bg-cover bg-fixed bg-[center_top] bg-no-repeat  pb-[250px] ",children:jsx(it,{})})})}function SkillsMain({deRef:et,d3Ref:_e,coRef:tt}){const[nt,rt]=react.exports.useState(st()),it=nt.map(ot=>jsx(Skills,{i:ot.i,deRef:et,d3Ref:_e,coRef:tt},ot.id));function st(){const ot=[];for(let at=0;at<3;at++)ot.push({i:at,id:nanoid()});return ot}return jsx("div",{children:it})}function App(){const et=react.exports.useRef(),_e=react.exports.useRef(),tt=react.exports.useRef(),nt=react.exports.useRef();function rt(){_e.current.scrollIntoView({behavior:"smooth"})}function it(){tt.current.scrollIntoView({behavior:"smooth"})}function st(){nt.current.scrollIntoView({behavior:"smooth"})}function ot(){return jsx("div",{className:"relative h-[5vh] w-full bg-[#f9ef02] ",children:jsx("div",{className:"relative  z-10 flex h-[30px] w-full bg-[#f9ef02]  bg-BGFrameTop bg-left"})})}return jsx("div",{children:jsxs("div",{className:"absolute h-full w-full",children:[jsx("div",{className:"relative h-full w-full",children:jsx(Part1,{})}),jsxs("div",{ref:et,className:"",children:[jsx(AboutMe,{scrollToDesign:rt,scrollTo3D:it,scrollToCoding:st}),jsx("div",{className:"relative z-0  h-max w-full  bg-SkillsBG  bg-cover bg-fixed bg-[center_top] bg-no-repeat pt-[250px]   ",children:jsx(SkillsMain,{deRef:_e,d3Ref:tt,coRef:nt})}),jsx("div",{className:"relative flex h-full w-full bg-white"})]}),jsx(ot,{})]})})}const CyberVideo="/assets/AreaScreenVideo.2654b53c.mp4",Dirt="/assets/ScreenBackgroundDirt.12e6dda8.png",G1="/assets/1.5a5f07d4.jpg",G2="/assets/2.2c466ec3.jpg",G3="/assets/3.72c3d5c4.jpg",G4="/assets/4.d2373c8c.jpg",G5="/assets/5.29f6136b.jpg",G6="/assets/6.6cdb2fab.jpg",G7="/assets/7.754f177a.jpg",G8="/assets/8.2dbc7270.jpg",G9="/assets/9.6865b977.jpg",G10="/assets/10.939d851a.jpg",G11="/assets/11.46066024.jpg",G12="/assets/12.63fe745a.jpg",G13="/assets/13.7c74423b.jpg",G14="/assets/14.42abfd57.jpg",G15="/assets/15.4f7cd513.jpg",GF1="/assets/1.c5bb9e1d.jpg",GF2="/assets/2.18dedd6b.jpg",GF3="/assets/3.f24f2c73.jpg",GF4="/assets/4.2592bf95.jpg",GF5="/assets/5.dc39ad5a.jpg",GF6="/assets/6.d3bec723.jpg",GF7="/assets/7.494ec930.jpg",GF8="/assets/8.295d1f33.jpg",GF9="/assets/9.838046c8.jpg",GF10="/assets/10.c18968d7.jpg",GF11="/assets/11.5e8ee38b.jpg",GF12="/assets/12.a2dab91f.jpg",GF13="/assets/13.94b5123c.jpg",GF14="/assets/14.f03c6b17.jpg",GF15="/assets/15.57adc433.jpg",GM1="/assets/1.c0703d7c.jpg",GM2="/assets/2.9dae8548.jpg",GM3="/assets/3.8aaf550d.jpg",GM4="/assets/4.e429e36a.jpg",GM5="/assets/5.77a839f6.jpg",GM6="/assets/6.8f27fbb7.jpg",GM7="/assets/7.d43d34e3.jpg",GM8="/assets/8.47830dc0.jpg",GM9="/assets/9.21012711.jpg",GM10="/assets/10.0b2605a5.jpg",GM11="/assets/11.342ce985.jpg",GM12="/assets/12.5819a366.jpg",GM13="/assets/13.8867ad2b.jpg",GM14="/assets/14.cc71f99e.jpg",GM15="/assets/15.f0635e61.jpg",GFM1="/assets/1.b2bd5781.jpg",GFM2="/assets/2.39f73ff2.jpg",GFM3="/assets/3.d93c43b8.jpg",GFM4="/assets/4.7d5aad15.jpg",GFM5="/assets/5.e1ac5e30.jpg",GFM6="/assets/6.cea040b0.jpg",GFM7="/assets/7.a6ca9644.jpg",GFM8="/assets/8.eb7e14c3.jpg",GFM9="/assets/9.ca657cf5.jpg",GFM10="/assets/10.8f54677e.jpg",GFM11="/assets/11.b0a711ce.jpg",GFM12="/assets/12.a6d4beb5.jpg",GFM13="/assets/13.91c3ca57.jpg",GFM14="/assets/14.63569d7a.jpg",GFM15="/assets/15.97cb03ee.jpg",Gallery=[{1:G1,2:G2,3:G3,4:G4,5:G5,6:G6,7:G7,8:G8,9:G9,10:G10,11:G11,12:G12,13:G13,14:G14,15:G15},{1:GF1,2:GF2,3:GF3,4:GF4,5:GF5,6:GF6,7:GF7,8:GF8,9:GF9,10:GF10,11:GF11,12:GF12,13:GF13,14:GF14,15:GF15},{1:GM1,2:GM2,3:GM3,4:GM4,5:GM5,6:GM6,7:GM7,8:GM8,9:GM9,10:GM10,11:GM11,12:GM12,13:GM13,14:GM14,15:GM15},{1:GFM1,2:GFM2,3:GFM3,4:GFM4,5:GFM5,6:GFM6,7:GFM7,8:GFM8,9:GFM9,10:GFM10,11:GFM11,12:GFM12,13:GFM13,14:GFM14,15:GFM15}];function ImgGallery({ImgState:et,onFullDisplay:_e,clickDisplay:tt}){return jsxs(Fragment,{children:[jsxs("group",{children:[jsx(Image$1,{url:Gallery[0][1],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===1}),jsx(Image$1,{url:Gallery[0][2],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===2}),jsx(Image$1,{url:Gallery[0][3],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===3}),jsx(Image$1,{url:Gallery[0][4],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===4}),jsx(Image$1,{url:Gallery[0][5],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===5}),jsx(Image$1,{url:Gallery[0][6],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===6}),jsx(Image$1,{url:Gallery[0][7],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===7}),jsx(Image$1,{url:Gallery[0][8],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===8}),jsx(Image$1,{url:Gallery[0][9],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===9}),jsx(Image$1,{url:Gallery[0][10],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===10}),jsx(Image$1,{url:Gallery[0][11],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===11}),jsx(Image$1,{url:Gallery[0][12],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===12}),jsx(Image$1,{url:Gallery[0][13],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===13}),jsx(Image$1,{url:Gallery[0][14],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===14}),jsx(Image$1,{url:Gallery[0][15],transparent:!0,toneMapped:!1,position:[.006,.15,.002],scale:[.9,.48276],opacity:1,visible:et===15})]}),jsxs("group",{children:[jsx(Image$1,{url:Gallery[1][1],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===1)}),jsx(Image$1,{url:Gallery[1][2],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===2)}),jsx(Image$1,{url:Gallery[1][3],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===3)}),jsx(Image$1,{url:Gallery[1][4],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===4)}),jsx(Image$1,{url:Gallery[1][5],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===5)}),jsx(Image$1,{url:Gallery[1][6],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===6)}),jsx(Image$1,{url:Gallery[1][7],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===7)}),jsx(Image$1,{url:Gallery[1][8],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===8)}),jsx(Image$1,{url:Gallery[1][9],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===9)}),jsx(Image$1,{url:Gallery[1][10],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===10)}),jsx(Image$1,{url:Gallery[1][11],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===11)}),jsx(Image$1,{url:Gallery[1][12],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===12)}),jsx(Image$1,{url:Gallery[1][13],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===13)}),jsx(Image$1,{url:Gallery[1][14],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===14)}),jsx(Image$1,{url:Gallery[1][15],position:_e?[.006,.1,.008]:[-4,-4,-4],scale:1,opacity:1,toneMapped:!1,onClick:tt,visible:!!(_e&&et===15)})]})]})}const ExitGallery="/assets/ExitGallery.e32b357b.png",AreaImg="/assets/Area.d6539766.jpg";function Screen5(){const et=useVideoTexture(CyberVideo),[_e,tt]=react.exports.useState(1),[nt,rt]=react.exports.useState(!1),it=useTexture(AreaImg),st=useNavigate();function ot(){_e<15&&tt(ct=>ct+1),_e===15&&tt(1)}function at(){_e>1&&tt(ct=>ct-1),_e===1&&tt(15)}function lt(){rt(ct=>!ct)}return jsxs("group",{scale:1,children:[jsx(Plane,{args:[.16,.16],position:[-.595,.15,.005],onClick:at,children:jsx("meshBasicMaterial",{visible:!1})}),jsx(Plane,{args:[.16,.16],position:[.606,.15,.005],onClick:ot,children:jsx("meshBasicMaterial",{visible:!1})}),jsx(Image$1,{url:ExitGallery,scale:[.3,.2],position:[-.621,.55,.001],transparent:!0,onClick:()=>st("/")}),jsx(Image$1,{url:Dirt,transparent:!0,position:[.006,.15,.003],scale:[1.5,.6],opacity:1,toneMapped:!1}),jsx(ImgGallery,{ImgState:_e,onFullDisplay:nt,clickDisplay:lt}),jsx(Plane,{args:[4,2.1],children:jsx("meshStandardMaterial",{map:it})}),jsx(Plane,{args:[1.499,.598],position:[.0058,.149,.001],rotation:[0,0,0],children:jsx("meshStandardMaterial",{map:et,side:FrontSide,opacity:1,transparent:!0})}),jsx("ambientLight",{intensity:1})]})}useGLTF.preload("/Screen5.glb");function HUD(){function et(){const[_e]=react.exports.useState(()=>new Vector3),{camera:tt,mouse:nt}=useThree(),rt=reactResponsive.exports.useMediaQuery({query:"(max-width: 976px)"}),it=reactResponsive.exports.useMediaQuery({query:"(min-width: 976px)"});useFrame(({mouse:st,delta:ot,clock:at})=>{rt&&tt.position.lerp(_e.set(st.x*2.2,st.y*.2,4),.02),it&&tt.position.lerp(_e.set(st.x*.1,st.y*.1,3.7),.005),it&&tt.rotation.set(st.y*.05,-st.x*.1,0)})}return jsx(et,{})}function Part3(){const et=react.exports.useRef(),_e=react.exports.useRef();function tt(){const{active:nt,progress:rt,errors:it,item:st,loaded:ot,total:at}=useProgress();return jsx(Html,{center:!0,children:jsx("div",{className:"font-Dreamscape relative flex h-[100vh] w-[100vw] flex-col items-center justify-center bg-black  text-center text-4xl text-white",children:jsxs("div",{className:"relative bottom-[5vw]",children:[jsx(Player,{src:LoadingIcon,speed:1.5,className:"relative h-[20vw] w-[20vw]",autoplay:!0,loop:!0,keepLastFrame:!0}),jsxs("p",{children:[Math.floor(rt)," % loaded"]})]})})})}return jsx("div",{ref:et,className:"absolute h-full w-full",children:jsx(Canvas$1,{camera:{position:[0,0,4],fov:20},ref:_e,color:"blue",children:jsxs(react.exports.Suspense,{fallback:jsx(tt,{}),children:[jsx("ambientLight",{intensity:.5}),jsx(HUD,{}),jsx("color",{attach:"background",args:["#000000"]}),jsx(Screen5,{})]})})})}var literals=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],operators$1=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],builtins=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],v100$1=literals,literals300es$1=v100$1.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),v100=builtins;v100=v100.slice().filter(function(et){return!/^(gl\_|texture)/.test(et)});var builtins300es$1=v100.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),glslTokenizer=tokenize$1,literals100=literals,operators=operators$1,builtins100=builtins,literals300es=literals300es$1,builtins300es=builtins300es$1,NORMAL=999,TOKEN=9999,BLOCK_COMMENT=0,LINE_COMMENT=1,PREPROCESSOR=2,OPERATOR=3,INTEGER=4,FLOAT=5,IDENT=6,BUILTIN=7,KEYWORD=8,WHITESPACE=9,EOF=10,HEX=11,map=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function tokenize$1(et){var _e=0,tt=0,nt=NORMAL,rt,it,st=[],ot=[],at=1,lt=0,ct=0,ut=!1,ft=!1,ht="",pt;et=et||{};var gt=builtins100,dt=literals100;et.version==="300 es"&&(gt=builtins300es,dt=literals300es);for(var vt={},xt={},_e=0;_e<gt.length;_e++)vt[gt[_e]]=!0;for(var _e=0;_e<dt.length;_e++)xt[dt[_e]]=!0;return function(Ht){return ot=[],Ht!==null?bt(Ht):At()};function _t(Ht){Ht.length&&ot.push({type:map[nt],data:Ht,position:ct,line:at,column:lt})}function bt(Ht){_e=0,Ht.toString&&(Ht=Ht.toString()),ht+=Ht.replace(/\r\n/g,`
`),pt=ht.length;for(var Bt;rt=ht[_e],_e<pt;){switch(Bt=_e,nt){case BLOCK_COMMENT:_e=Et();break;case LINE_COMMENT:_e=Ct();break;case PREPROCESSOR:_e=St();break;case OPERATOR:_e=Rt();break;case INTEGER:_e=kt();break;case HEX:_e=Ot();break;case FLOAT:_e=$t();break;case TOKEN:_e=jt();break;case WHITESPACE:_e=Tt();break;case NORMAL:_e=Mt();break}if(Bt!==_e)switch(ht[Bt]){case`
`:lt=0,++at;break;default:++lt;break}}return tt+=_e,ht=ht.slice(_e),ot}function At(Ht){return st.length&&_t(st.join("")),nt=EOF,_t("(eof)"),ot}function Mt(){return st=st.length?[]:st,it==="/"&&rt==="*"?(ct=tt+_e-1,nt=BLOCK_COMMENT,it=rt,_e+1):it==="/"&&rt==="/"?(ct=tt+_e-1,nt=LINE_COMMENT,it=rt,_e+1):rt==="#"?(nt=PREPROCESSOR,ct=tt+_e,_e):/\s/.test(rt)?(nt=WHITESPACE,ct=tt+_e,_e):(ut=/\d/.test(rt),ft=/[^\w_]/.test(rt),ct=tt+_e,nt=ut?INTEGER:ft?OPERATOR:TOKEN,_e)}function Tt(){return/[^\s]/g.test(rt)?(_t(st.join("")),nt=NORMAL,_e):(st.push(rt),it=rt,_e+1)}function St(){return(rt==="\r"||rt===`
`)&&it!=="\\"?(_t(st.join("")),nt=NORMAL,_e):(st.push(rt),it=rt,_e+1)}function Ct(){return St()}function Et(){return rt==="/"&&it==="*"?(st.push(rt),_t(st.join("")),nt=NORMAL,_e+1):(st.push(rt),it=rt,_e+1)}function Rt(){if(it==="."&&/\d/.test(rt))return nt=FLOAT,_e;if(it==="/"&&rt==="*")return nt=BLOCK_COMMENT,_e;if(it==="/"&&rt==="/")return nt=LINE_COMMENT,_e;if(rt==="."&&st.length){for(;It(st););return nt=FLOAT,_e}if(rt===";"||rt===")"||rt==="("){if(st.length)for(;It(st););return _t(rt),nt=NORMAL,_e+1}var Ht=st.length===2&&rt!=="=";if(/[\w_\d\s]/.test(rt)||Ht){for(;It(st););return nt=NORMAL,_e}return st.push(rt),it=rt,_e+1}function It(Ht){var Bt=0,Lt,Ft;do{if(Lt=operators.indexOf(Ht.slice(0,Ht.length+Bt).join("")),Ft=operators[Lt],Lt===-1){if(Bt--+Ht.length>0)continue;Ft=Ht.slice(0,1).join("")}return _t(Ft),ct+=Ft.length,st=st.slice(Ft.length),st.length}while(1)}function Ot(){return/[^a-fA-F0-9]/.test(rt)?(_t(st.join("")),nt=NORMAL,_e):(st.push(rt),it=rt,_e+1)}function kt(){return rt==="."||/[eE]/.test(rt)?(st.push(rt),nt=FLOAT,it=rt,_e+1):rt==="x"&&st.length===1&&st[0]==="0"?(nt=HEX,st.push(rt),it=rt,_e+1):/[^\d]/.test(rt)?(_t(st.join("")),nt=NORMAL,_e):(st.push(rt),it=rt,_e+1)}function $t(){return rt==="f"&&(st.push(rt),it=rt,_e+=1),/[eE]/.test(rt)||(rt==="-"||rt==="+")&&/[eE]/.test(it)?(st.push(rt),it=rt,_e+1):/[^\d]/.test(rt)?(_t(st.join("")),nt=NORMAL,_e):(st.push(rt),it=rt,_e+1)}function jt(){if(/[^\d\w_]/.test(rt)){var Ht=st.join("");return xt[Ht]?nt=KEYWORD:vt[Ht]?nt=BUILTIN:nt=IDENT,_t(st.join("")),nt=NORMAL,_e}return st.push(rt),it=rt,_e+1}}var tokenize=glslTokenizer,string$1=tokenizeString;function tokenizeString(et,_e){var tt=tokenize(_e),nt=[];return nt=nt.concat(tt(et)),nt=nt.concat(tt(null)),nt}var glslTokenDepth,hasRequiredGlslTokenDepth;function requireGlslTokenDepth(){if(hasRequiredGlslTokenDepth)return glslTokenDepth;hasRequiredGlslTokenDepth=1,glslTokenDepth=et;function et(_e){for(var tt=!1,nt=0,rt=0;rt<_e.length;rt++)switch(tt=tt||_e[rt].type==="keyword"&&_e[rt].data==="for",_e[rt].data){case"(":_e[rt].depth=tt?nt++:nt;break;case"{":_e[rt].depth=tt?nt:nt++,tt=!1;break;case"}":_e[rt].depth=--nt;break;default:_e[rt].depth=nt}for(var rt=0;rt<_e.length;rt++){var it=_e[rt],st=rt+1;if(!(it.type!=="ident"&&it.type!=="keyword")&&(ot(),_e[st].type==="ident"&&(ot(),st++,_e[st].data==="("))){for(;_e[st]&&_e[st].data!==";"&&_e[st].data!=="{";)_e[st++].depth++;_e[st]&&_e[st].data==="{"&&_e[st].depth++}}return _e;function ot(){for(;_e[st]&&(_e[st].type==="whitespace"||_e[st].data==="["||_e[st].data==="]"||_e[st].data==="integer");)st++}}return glslTokenDepth}var glslTokenScope,hasRequiredGlslTokenScope;function requireGlslTokenScope(){if(hasRequiredGlslTokenScope)return glslTokenScope;hasRequiredGlslTokenScope=1,glslTokenScope=et;function et(_e){var tt=[0],nt=tt[0],rt=0;if(!_e||!_e.length)return _e;if(!("depth"in _e[0]))throw new Error("glsl-token-scope: No scope depth defined on tokens! Use glsl-token-depth on these tokens first");for(var it=0;it<_e.length;it++){var st=_e[it],ot=st.depth;ot>rt?tt.push(++nt):ot<rt&&tt.splice(-1,1),st.scope=tt[tt.length-1],st.stack=tt.slice(),rt=st.depth}return _e}return glslTokenScope}var glslTokenProperties,hasRequiredGlslTokenProperties;function requireGlslTokenProperties(){if(hasRequiredGlslTokenProperties)return glslTokenProperties;hasRequiredGlslTokenProperties=1,glslTokenProperties=et;function et(_e){for(var tt=0;tt<_e.length;tt++){var nt=_e[tt];if(nt.property=!1,nt.type==="ident"){for(var rt=tt;_e[--rt]&&_e[rt].type==="whitespace";);!_e[rt]||_e[rt].type==="operator"&&_e[rt].data==="."&&(nt.property=!0)}}return _e}return glslTokenProperties}var assignments,hasRequiredAssignments;function requireAssignments(){return hasRequiredAssignments||(hasRequiredAssignments=1,assignments={"<<=":!0,">>=":!0,"++":!0,"--":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"&=":!0,"^=":!0,"|=":!0,"=":!0}),assignments}var ignored,hasRequiredIgnored;function requireIgnored(){return hasRequiredIgnored||(hasRequiredIgnored=1,ignored={precision:!0,highp:!0,mediump:!0,lowp:!0,attribute:!0,const:!0,uniform:!0,varying:!0,break:!0,continue:!0,do:!0,for:!0,while:!0,if:!0,else:!0,in:!0,out:!0,inout:!0,true:!0,false:!0,return:!0}),ignored}var glslTokenAssignments,hasRequiredGlslTokenAssignments;function requireGlslTokenAssignments(){if(hasRequiredGlslTokenAssignments)return glslTokenAssignments;hasRequiredGlslTokenAssignments=1;var et=requireAssignments(),_e=requireIgnored();glslTokenAssignments=tt;function tt(nt){for(var rt=0,it=0;it<nt.length;it++){var st=nt[it],ot=st.type;st.assignment=!1,st.declaration=!1,!(ot!=="ident"&&ot!=="builtin")&&(rt=it+1,ct(),nt[rt].type==="operator"&&(!et[nt[rt].data]||(st.assignment=!0)))}for(var it=0;it<nt.length;it++){var at=nt[it],ot=at.type,lt=at.data;if(at.declaration=!1,ot==="keyword"){if(_e[lt])continue}else if(ot!=="ident")continue;if(rt=it+1,ut(),nt[rt].type==="ident"){if(nt[rt++].declaration=!0,ut(),nt[rt].data==="("){for(rt++,ct();nt[rt]&&nt[rt].data!==")"&&!(nt[rt].type!=="keyword"&&nt[rt].type!=="ident");)rt++,ct(),nt[rt].type==="ident"&&(nt[rt++].declaration=!0,ct(),ut(),ct(),nt[rt].data===","&&(rt++,ct()));it=rt;continue}for(;nt[rt]&&nt[rt].data!==";";)nt[rt].data===","?(rt++,ct(),(nt[rt].declaration=nt[rt].type==="ident")&&rt++):(ct(),ft(),ct(),rt++);it=rt}}for(var it=0;it<nt.length;it++){var st=nt[it];if(st.type==="keyword"&&st.data==="struct"&&(rt=it+1,ct(),nt[rt].type==="ident"&&(rt++,ct(),nt[rt++].data==="{"))){for(ct();nt[rt].type==="ident"||nt[rt].type==="keyword";){do rt++,ct(),nt[rt].structMember=!0,nt[rt].declaration=!1,rt++,ut();while(nt[rt].data===",");nt[rt].data===";"&&rt++,ct()}if(rt++,ct(),nt[rt].type==="ident")for(nt[rt].declaration=!0,ct();nt[++rt].data===",";)ct(),rt++,ct(),nt[rt].type==="ident"&&(nt[rt].declaration=!0),ct()}}return nt;function ct(ht){for(;nt[rt]&&nt[rt].type==="whitespace";)rt++}function ut(){for(;nt[rt]&&(nt[rt].type==="integer"||nt[rt].data==="["||nt[rt].data==="]"||nt[rt].type==="whitespace");)rt++}function ft(){if(!!nt[rt]&&nt[rt].data==="("){var ht=0;do{if(nt[rt].data===";")break;nt[rt].data==="("&&ht++,nt[rt].data===")"&&ht--}while(ht&&nt[++rt])}}}return glslTokenAssignments}var glslTokenDescope_1=glslTokenDescope;function glslTokenDescope(et,_e){requireGlslTokenDepth()(et),requireGlslTokenScope()(et),requireGlslTokenProperties()(et),requireGlslTokenAssignments()(et);for(var tt=getScope(et),nt=_e||defaultRenamer(),rt={},it=0;it<et.length;it++){var st=et[it],ot=st.stack,at=st.data;if(st.descoped=!1,st.type==="ident"&&!st.property&&!st.structMember){for(var lt=!1,ct=ot.length-1;ct>=0;ct--){var ut=tt[ot[ct]];if(!!ut&&!!ut[at]){if(lt=!0,ct)break;st.descoped=st.data,st.data=rt[at]=rt[at]||nt(at,st)||st.data}}lt||(st.descoped=st.data,st.data=rt[at]=rt[at]||nt(at,st)||st.data)}}return et}function defaultRenamer(){var et=0;return function(tt){return tt+"_"+(et++).toString(36)}}function getScope(et){for(var _e={},tt=0;tt<et.length;tt++){var nt=et[tt];nt.declaration&&(_e[nt.scope]=_e[nt.scope]||{},_e[nt.scope][nt.data]=nt)}return _e}var glslTokenString=toString$1;function toString$1(et){for(var _e=[],tt=0;tt<et.length;tt++)et[tt].type!=="eof"&&_e.push(et[tt].data);return _e.join("")}var glslTokenFunctions=functions;function functions(et){var _e=null,tt=null,nt=0,rt=0,it=0,st=0,ot=0,at=[],lt,ct,ut;for(lt=0,ct;lt<et.length;lt++)if(ut=et[lt],ut.data==="{"){if(nt&&nt++||(ct=ht(lt,findOp(")"),findOp()),ct<0)||(st=ct,ct=ht(ct,findOp("("),findOp(")")),ct<0)||(ot=ct,ct=ht(ct,findGlyph),ct<0)||et[ct].type!=="ident"||(tt=et[ct].data,ct=ht(ct,findGlyph),ct<0))continue;nt=1,rt=lt,_e=et[ct].data,it=ct;var ft=ht(ct,findGlyph);switch(et[ft]&&et[ft].data){case"lowp":case"highp":case"mediump":it=ft}}else if(nt&&ut.data==="}"){if(--nt)continue;at.push({name:tt,type:_e,body:[rt+1,lt],args:[ot,st+1],outer:[it,lt+1]})}for(lt=0;lt<et.length;lt++)if(ut=et[lt],ut.data===";"){if(ct=ht(lt,findOp(")"),findOp()),ct<0||(st=ct,ct=ht(ct,findOp("("),findOp(")")),ct<0)||(ot=ct,ct=ht(ct,findGlyph),ct<0)||et[ct].type!=="ident"||(tt=et[ct].data,ct=ht(ct,findGlyph),ct<0)||et[ct].type==="operator"||et[ct].data==="return")continue;_e=et[ct].data,at.push({name:tt,type:_e,body:!1,args:[ot,st+1],outer:[ct,lt+1]})}return at.sort(function(pt,gt){return pt.outer[0]-gt.outer[0]});function ht(pt,gt,dt){for(var vt=pt-1;vt>=0;vt--){if(gt(et[vt]))return vt;if(dt&&dt(et[vt]))return-1}return-1}}function findOp(et){return function(_e){return _e.type==="operator"&&(!et||_e.data===et)}}function findGlyph(et){return et.type!=="whitespace"}function commonjsRequire(et){throw new Error('Could not dynamically require "'+et+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var object_hash={exports:{}};(function(et,_e){(function(tt){et.exports=tt()})(function(){return function tt(nt,rt,it){function st(lt,ct){if(!rt[lt]){if(!nt[lt]){var ut=typeof commonjsRequire=="function"&&commonjsRequire;if(!ct&&ut)return ut(lt,!0);if(ot)return ot(lt,!0);throw new Error("Cannot find module '"+lt+"'")}ct=rt[lt]={exports:{}},nt[lt][0].call(ct.exports,function(ft){var ht=nt[lt][1][ft];return st(ht||ft)},ct,ct.exports,tt,nt,rt,it)}return rt[lt].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,at=0;at<it.length;at++)st(it[at]);return st}({1:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){var pt=tt("crypto");function gt(Mt,Tt){Tt=xt(Mt,Tt);var St;return(St=Tt.algorithm!=="passthrough"?pt.createHash(Tt.algorithm):new At).write===void 0&&(St.write=St.update,St.end=St.update),bt(Tt,St).dispatch(Mt),St.update||St.end(""),St.digest?St.digest(Tt.encoding==="buffer"?void 0:Tt.encoding):(Mt=St.read(),Tt.encoding!=="buffer"?Mt.toString(Tt.encoding):Mt)}(rt=nt.exports=gt).sha1=function(Mt){return gt(Mt)},rt.keys=function(Mt){return gt(Mt,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},rt.MD5=function(Mt){return gt(Mt,{algorithm:"md5",encoding:"hex"})},rt.keysMD5=function(Mt){return gt(Mt,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var dt=pt.getHashes?pt.getHashes().slice():["sha1","md5"],vt=(dt.push("passthrough"),["buffer","hex","binary","base64"]);function xt(Mt,Tt){var St={};if(St.algorithm=(Tt=Tt||{}).algorithm||"sha1",St.encoding=Tt.encoding||"hex",St.excludeValues=!!Tt.excludeValues,St.algorithm=St.algorithm.toLowerCase(),St.encoding=St.encoding.toLowerCase(),St.ignoreUnknown=Tt.ignoreUnknown===!0,St.respectType=Tt.respectType!==!1,St.respectFunctionNames=Tt.respectFunctionNames!==!1,St.respectFunctionProperties=Tt.respectFunctionProperties!==!1,St.unorderedArrays=Tt.unorderedArrays===!0,St.unorderedSets=Tt.unorderedSets!==!1,St.unorderedObjects=Tt.unorderedObjects!==!1,St.replacer=Tt.replacer||void 0,St.excludeKeys=Tt.excludeKeys||void 0,Mt===void 0)throw new Error("Object argument required.");for(var Ct=0;Ct<dt.length;++Ct)dt[Ct].toLowerCase()===St.algorithm.toLowerCase()&&(St.algorithm=dt[Ct]);if(dt.indexOf(St.algorithm)===-1)throw new Error('Algorithm "'+St.algorithm+'"  not supported. supported values: '+dt.join(", "));if(vt.indexOf(St.encoding)===-1&&St.algorithm!=="passthrough")throw new Error('Encoding "'+St.encoding+'"  not supported. supported values: '+vt.join(", "));return St}function _t(Mt){if(typeof Mt=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(Mt))!=null}function bt(Mt,Tt,St){St=St||[];function Ct(Et){return Tt.update?Tt.update(Et,"utf8"):Tt.write(Et,"utf8")}return{dispatch:function(Et){return this["_"+((Et=Mt.replacer?Mt.replacer(Et):Et)===null?"null":typeof Et)](Et)},_object:function(Et){var Rt,It=Object.prototype.toString.call(Et),Ot=/\[object (.*)\]/i.exec(It);if(Ot=(Ot=Ot?Ot[1]:"unknown:["+It+"]").toLowerCase(),0<=(It=St.indexOf(Et)))return this.dispatch("[CIRCULAR:"+It+"]");if(St.push(Et),ot!==void 0&&ot.isBuffer&&ot.isBuffer(Et))return Ct("buffer:"),Ct(Et);if(Ot==="object"||Ot==="function"||Ot==="asyncfunction")return It=Object.keys(Et),Mt.unorderedObjects&&(It=It.sort()),Mt.respectType===!1||_t(Et)||It.splice(0,0,"prototype","__proto__","constructor"),Mt.excludeKeys&&(It=It.filter(function(kt){return!Mt.excludeKeys(kt)})),Ct("object:"+It.length+":"),Rt=this,It.forEach(function(kt){Rt.dispatch(kt),Ct(":"),Mt.excludeValues||Rt.dispatch(Et[kt]),Ct(",")});if(!this["_"+Ot]){if(Mt.ignoreUnknown)return Ct("["+Ot+"]");throw new Error('Unknown object type "'+Ot+'"')}this["_"+Ot](Et)},_array:function(Et,kt){kt=kt!==void 0?kt:Mt.unorderedArrays!==!1;var It=this;if(Ct("array:"+Et.length+":"),!kt||Et.length<=1)return Et.forEach(function($t){return It.dispatch($t)});var Ot=[],kt=Et.map(function($t){var jt=new At,Ht=St.slice();return bt(Mt,jt,Ht).dispatch($t),Ot=Ot.concat(Ht.slice(St.length)),jt.read().toString()});return St=St.concat(Ot),kt.sort(),this._array(kt,!1)},_date:function(Et){return Ct("date:"+Et.toJSON())},_symbol:function(Et){return Ct("symbol:"+Et.toString())},_error:function(Et){return Ct("error:"+Et.toString())},_boolean:function(Et){return Ct("bool:"+Et.toString())},_string:function(Et){Ct("string:"+Et.length+":"),Ct(Et.toString())},_function:function(Et){Ct("fn:"),_t(Et)?this.dispatch("[native]"):this.dispatch(Et.toString()),Mt.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(Et.name)),Mt.respectFunctionProperties&&this._object(Et)},_number:function(Et){return Ct("number:"+Et.toString())},_xml:function(Et){return Ct("xml:"+Et.toString())},_null:function(){return Ct("Null")},_undefined:function(){return Ct("Undefined")},_regexp:function(Et){return Ct("regex:"+Et.toString())},_uint8array:function(Et){return Ct("uint8array:"),this.dispatch(Array.prototype.slice.call(Et))},_uint8clampedarray:function(Et){return Ct("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(Et))},_int8array:function(Et){return Ct("int8array:"),this.dispatch(Array.prototype.slice.call(Et))},_uint16array:function(Et){return Ct("uint16array:"),this.dispatch(Array.prototype.slice.call(Et))},_int16array:function(Et){return Ct("int16array:"),this.dispatch(Array.prototype.slice.call(Et))},_uint32array:function(Et){return Ct("uint32array:"),this.dispatch(Array.prototype.slice.call(Et))},_int32array:function(Et){return Ct("int32array:"),this.dispatch(Array.prototype.slice.call(Et))},_float32array:function(Et){return Ct("float32array:"),this.dispatch(Array.prototype.slice.call(Et))},_float64array:function(Et){return Ct("float64array:"),this.dispatch(Array.prototype.slice.call(Et))},_arraybuffer:function(Et){return Ct("arraybuffer:"),this.dispatch(new Uint8Array(Et))},_url:function(Et){return Ct("url:"+Et.toString())},_map:function(Et){return Ct("map:"),Et=Array.from(Et),this._array(Et,Mt.unorderedSets!==!1)},_set:function(Et){return Ct("set:"),Et=Array.from(Et),this._array(Et,Mt.unorderedSets!==!1)},_file:function(Et){return Ct("file:"),this.dispatch([Et.name,Et.size,Et.type,Et.lastModfied])},_blob:function(){if(Mt.ignoreUnknown)return Ct("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return Ct("domwindow")},_bigint:function(Et){return Ct("bigint:"+Et.toString())},_process:function(){return Ct("process")},_timer:function(){return Ct("timer")},_pipe:function(){return Ct("pipe")},_tcp:function(){return Ct("tcp")},_udp:function(){return Ct("udp")},_tty:function(){return Ct("tty")},_statwatcher:function(){return Ct("statwatcher")},_securecontext:function(){return Ct("securecontext")},_connection:function(){return Ct("connection")},_zlib:function(){return Ct("zlib")},_context:function(){return Ct("context")},_nodescript:function(){return Ct("nodescript")},_httpparser:function(){return Ct("httpparser")},_dataview:function(){return Ct("dataview")},_signal:function(){return Ct("signal")},_fsevent:function(){return Ct("fsevent")},_tlswrap:function(){return Ct("tlswrap")}}}function At(){return{buf:"",write:function(Mt){this.buf+=Mt},end:function(Mt){this.buf+=Mt},read:function(){return this.buf}}}rt.writeToStream=function(Mt,Tt,St){return St===void 0&&(St=Tt,Tt={}),bt(Tt=xt(Mt,Tt),St).dispatch(Mt)}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){(function(pt){var gt=typeof Uint8Array<"u"?Uint8Array:Array,dt="+".charCodeAt(0),vt="/".charCodeAt(0),xt="0".charCodeAt(0),_t="a".charCodeAt(0),bt="A".charCodeAt(0),At="-".charCodeAt(0),Mt="_".charCodeAt(0);function Tt(St){return St=St.charCodeAt(0),St===dt||St===At?62:St===vt||St===Mt?63:St<xt?-1:St<xt+10?St-xt+26+26:St<bt+26?St-bt:St<_t+26?St-_t+26:void 0}pt.toByteArray=function(St){var Ct,Et;if(0<St.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var Rt=St.length,Rt=St.charAt(Rt-2)==="="?2:St.charAt(Rt-1)==="="?1:0,It=new gt(3*St.length/4-Rt),Ot=0<Rt?St.length-4:St.length,kt=0;function $t(jt){It[kt++]=jt}for(Ct=0;Ct<Ot;Ct+=4,0)$t((16711680&(Et=Tt(St.charAt(Ct))<<18|Tt(St.charAt(Ct+1))<<12|Tt(St.charAt(Ct+2))<<6|Tt(St.charAt(Ct+3))))>>16),$t((65280&Et)>>8),$t(255&Et);return Rt==2?$t(255&(Et=Tt(St.charAt(Ct))<<2|Tt(St.charAt(Ct+1))>>4)):Rt==1&&($t((Et=Tt(St.charAt(Ct))<<10|Tt(St.charAt(Ct+1))<<4|Tt(St.charAt(Ct+2))>>2)>>8&255),$t(255&Et)),It},pt.fromByteArray=function(St){var Ct,Et,Rt,It,Ot=St.length%3,kt="";function $t(jt){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(jt)}for(Ct=0,Rt=St.length-Ot;Ct<Rt;Ct+=3)Et=(St[Ct]<<16)+(St[Ct+1]<<8)+St[Ct+2],kt+=$t((It=Et)>>18&63)+$t(It>>12&63)+$t(It>>6&63)+$t(63&It);switch(Ot){case 1:kt=(kt+=$t((Et=St[St.length-1])>>2))+$t(Et<<4&63)+"==";break;case 2:kt=(kt=(kt+=$t((Et=(St[St.length-2]<<8)+St[St.length-1])>>10))+$t(Et>>4&63))+$t(Et<<2&63)+"="}return kt}})(rt===void 0?this.base64js={}:rt)}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(tt,nt,rt){(function(it,st,dt,at,lt,ct,ut,ft,ht){var pt=tt("base64-js"),gt=tt("ieee754");function dt(Ut,Gt,Wt){if(!(this instanceof dt))return new dt(Ut,Gt,Wt);var Jt,Kt,nn,fn,hn=typeof Ut;if(Gt==="base64"&&hn=="string")for(Ut=(fn=Ut).trim?fn.trim():fn.replace(/^\s+|\s+$/g,"");Ut.length%4!=0;)Ut+="=";if(hn=="number")Jt=Bt(Ut);else if(hn=="string")Jt=dt.byteLength(Ut,Gt);else{if(hn!="object")throw new Error("First argument needs to be a number, array or string.");Jt=Bt(Ut.length)}if(dt._useTypedArrays?Kt=dt._augment(new Uint8Array(Jt)):((Kt=this).length=Jt,Kt._isBuffer=!0),dt._useTypedArrays&&typeof Ut.byteLength=="number")Kt._set(Ut);else if(Lt(fn=Ut)||dt.isBuffer(fn)||fn&&typeof fn=="object"&&typeof fn.length=="number")for(nn=0;nn<Jt;nn++)dt.isBuffer(Ut)?Kt[nn]=Ut.readUInt8(nn):Kt[nn]=Ut[nn];else if(hn=="string")Kt.write(Ut,0,Gt);else if(hn=="number"&&!dt._useTypedArrays&&!Wt)for(nn=0;nn<Jt;nn++)Kt[nn]=0;return Kt}function vt(Ut,Gt,Wt,Jt){return dt._charsWritten=rn(function(Kt){for(var nn=[],fn=0;fn<Kt.length;fn++)nn.push(255&Kt.charCodeAt(fn));return nn}(Gt),Ut,Wt,Jt)}function xt(Ut,Gt,Wt,Jt){return dt._charsWritten=rn(function(Kt){for(var nn,fn,hn=[],bn=0;bn<Kt.length;bn++)fn=Kt.charCodeAt(bn),nn=fn>>8,fn=fn%256,hn.push(fn),hn.push(nn);return hn}(Gt),Ut,Wt,Jt)}function _t(Ut,Gt,Wt){var Jt="";Wt=Math.min(Ut.length,Wt);for(var Kt=Gt;Kt<Wt;Kt++)Jt+=String.fromCharCode(Ut[Kt]);return Jt}function bt(Ut,Gt,Wt,nn){nn||(Qt(typeof Wt=="boolean","missing or invalid endian"),Qt(Gt!=null,"missing offset"),Qt(Gt+1<Ut.length,"Trying to read beyond buffer length"));var Kt,nn=Ut.length;if(!(nn<=Gt))return Wt?(Kt=Ut[Gt],Gt+1<nn&&(Kt|=Ut[Gt+1]<<8)):(Kt=Ut[Gt]<<8,Gt+1<nn&&(Kt|=Ut[Gt+1])),Kt}function At(Ut,Gt,Wt,nn){nn||(Qt(typeof Wt=="boolean","missing or invalid endian"),Qt(Gt!=null,"missing offset"),Qt(Gt+3<Ut.length,"Trying to read beyond buffer length"));var Kt,nn=Ut.length;if(!(nn<=Gt))return Wt?(Gt+2<nn&&(Kt=Ut[Gt+2]<<16),Gt+1<nn&&(Kt|=Ut[Gt+1]<<8),Kt|=Ut[Gt],Gt+3<nn&&(Kt+=Ut[Gt+3]<<24>>>0)):(Gt+1<nn&&(Kt=Ut[Gt+1]<<16),Gt+2<nn&&(Kt|=Ut[Gt+2]<<8),Gt+3<nn&&(Kt|=Ut[Gt+3]),Kt+=Ut[Gt]<<24>>>0),Kt}function Mt(Ut,Gt,Wt,Jt){if(Jt||(Qt(typeof Wt=="boolean","missing or invalid endian"),Qt(Gt!=null,"missing offset"),Qt(Gt+1<Ut.length,"Trying to read beyond buffer length")),!(Ut.length<=Gt))return Jt=bt(Ut,Gt,Wt,!0),32768&Jt?-1*(65535-Jt+1):Jt}function Tt(Ut,Gt,Wt,Jt){if(Jt||(Qt(typeof Wt=="boolean","missing or invalid endian"),Qt(Gt!=null,"missing offset"),Qt(Gt+3<Ut.length,"Trying to read beyond buffer length")),!(Ut.length<=Gt))return Jt=At(Ut,Gt,Wt,!0),2147483648&Jt?-1*(4294967295-Jt+1):Jt}function St(Ut,Gt,Wt,Jt){return Jt||(Qt(typeof Wt=="boolean","missing or invalid endian"),Qt(Gt+3<Ut.length,"Trying to read beyond buffer length")),gt.read(Ut,Gt,Wt,23,4)}function Ct(Ut,Gt,Wt,Jt){return Jt||(Qt(typeof Wt=="boolean","missing or invalid endian"),Qt(Gt+7<Ut.length,"Trying to read beyond buffer length")),gt.read(Ut,Gt,Wt,52,8)}function Et(Ut,Gt,Wt,Jt,Kt){if(Kt||(Qt(Gt!=null,"missing value"),Qt(typeof Jt=="boolean","missing or invalid endian"),Qt(Wt!=null,"missing offset"),Qt(Wt+1<Ut.length,"trying to write beyond buffer length"),cn(Gt,65535)),Kt=Ut.length,!(Kt<=Wt))for(var nn=0,fn=Math.min(Kt-Wt,2);nn<fn;nn++)Ut[Wt+nn]=(Gt&255<<8*(Jt?nn:1-nn))>>>8*(Jt?nn:1-nn)}function Rt(Ut,Gt,Wt,Jt,Kt){if(Kt||(Qt(Gt!=null,"missing value"),Qt(typeof Jt=="boolean","missing or invalid endian"),Qt(Wt!=null,"missing offset"),Qt(Wt+3<Ut.length,"trying to write beyond buffer length"),cn(Gt,4294967295)),Kt=Ut.length,!(Kt<=Wt))for(var nn=0,fn=Math.min(Kt-Wt,4);nn<fn;nn++)Ut[Wt+nn]=Gt>>>8*(Jt?nn:3-nn)&255}function It(Ut,Gt,Wt,Jt,Kt){Kt||(Qt(Gt!=null,"missing value"),Qt(typeof Jt=="boolean","missing or invalid endian"),Qt(Wt!=null,"missing offset"),Qt(Wt+1<Ut.length,"Trying to write beyond buffer length"),Zt(Gt,32767,-32768)),Ut.length<=Wt||Et(Ut,0<=Gt?Gt:65535+Gt+1,Wt,Jt,Kt)}function Ot(Ut,Gt,Wt,Jt,Kt){Kt||(Qt(Gt!=null,"missing value"),Qt(typeof Jt=="boolean","missing or invalid endian"),Qt(Wt!=null,"missing offset"),Qt(Wt+3<Ut.length,"Trying to write beyond buffer length"),Zt(Gt,2147483647,-2147483648)),Ut.length<=Wt||Rt(Ut,0<=Gt?Gt:4294967295+Gt+1,Wt,Jt,Kt)}function kt(Ut,Gt,Wt,Jt,Kt){Kt||(Qt(Gt!=null,"missing value"),Qt(typeof Jt=="boolean","missing or invalid endian"),Qt(Wt!=null,"missing offset"),Qt(Wt+3<Ut.length,"Trying to write beyond buffer length"),an(Gt,34028234663852886e22,-34028234663852886e22)),Ut.length<=Wt||gt.write(Ut,Gt,Wt,Jt,23,4)}function $t(Ut,Gt,Wt,Jt,Kt){Kt||(Qt(Gt!=null,"missing value"),Qt(typeof Jt=="boolean","missing or invalid endian"),Qt(Wt!=null,"missing offset"),Qt(Wt+7<Ut.length,"Trying to write beyond buffer length"),an(Gt,17976931348623157e292,-17976931348623157e292)),Ut.length<=Wt||gt.write(Ut,Gt,Wt,Jt,52,8)}rt.Buffer=dt,rt.SlowBuffer=dt,rt.INSPECT_MAX_BYTES=50,dt.poolSize=8192,dt._useTypedArrays=function(){try{var Ut=new ArrayBuffer(0),Gt=new Uint8Array(Ut);return Gt.foo=function(){return 42},Gt.foo()===42&&typeof Gt.subarray=="function"}catch{return!1}}(),dt.isEncoding=function(Ut){switch(String(Ut).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},dt.isBuffer=function(Ut){return!(Ut==null||!Ut._isBuffer)},dt.byteLength=function(Ut,Gt){var Wt;switch(Ut+="",Gt||"utf8"){case"hex":Wt=Ut.length/2;break;case"utf8":case"utf-8":Wt=Vt(Ut).length;break;case"ascii":case"binary":case"raw":Wt=Ut.length;break;case"base64":Wt=Yt(Ut).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Wt=2*Ut.length;break;default:throw new Error("Unknown encoding")}return Wt},dt.concat=function(Ut,Gt){if(Qt(Lt(Ut),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),Ut.length===0)return new dt(0);if(Ut.length===1)return Ut[0];if(typeof Gt!="number")for(Kt=Gt=0;Kt<Ut.length;Kt++)Gt+=Ut[Kt].length;for(var Wt=new dt(Gt),Jt=0,Kt=0;Kt<Ut.length;Kt++){var nn=Ut[Kt];nn.copy(Wt,Jt),Jt+=nn.length}return Wt},dt.prototype.write=function(Ut,Gt,Wt,Jt){isFinite(Gt)?isFinite(Wt)||(Jt=Wt,Wt=void 0):(bn=Jt,Jt=Gt,Gt=Wt,Wt=bn),Gt=Number(Gt)||0;var Kt,nn,fn,hn,bn=this.length-Gt;switch((!Wt||bn<(Wt=Number(Wt)))&&(Wt=bn),Jt=String(Jt||"utf8").toLowerCase()){case"hex":Kt=function(un,gn,vn,on){vn=Number(vn)||0;var Xt=un.length-vn;(!on||Xt<(on=Number(on)))&&(on=Xt),Qt((Xt=gn.length)%2==0,"Invalid hex string"),Xt/2<on&&(on=Xt/2);for(var zt=0;zt<on;zt++){var tn=parseInt(gn.substr(2*zt,2),16);Qt(!isNaN(tn),"Invalid hex string"),un[vn+zt]=tn}return dt._charsWritten=2*zt,zt}(this,Ut,Gt,Wt);break;case"utf8":case"utf-8":nn=this,fn=Gt,hn=Wt,Kt=dt._charsWritten=rn(Vt(Ut),nn,fn,hn);break;case"ascii":case"binary":Kt=vt(this,Ut,Gt,Wt);break;case"base64":nn=this,fn=Gt,hn=Wt,Kt=dt._charsWritten=rn(Yt(Ut),nn,fn,hn);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Kt=xt(this,Ut,Gt,Wt);break;default:throw new Error("Unknown encoding")}return Kt},dt.prototype.toString=function(Ut,Gt,Wt){var Jt,Kt,nn,fn,hn=this;if(Ut=String(Ut||"utf8").toLowerCase(),Gt=Number(Gt)||0,(Wt=Wt!==void 0?Number(Wt):hn.length)===Gt)return"";switch(Ut){case"hex":Jt=function(bn,un,gn){var vn=bn.length;(!un||un<0)&&(un=0),(!gn||gn<0||vn<gn)&&(gn=vn);for(var on="",Xt=un;Xt<gn;Xt++)on+=Ft(bn[Xt]);return on}(hn,Gt,Wt);break;case"utf8":case"utf-8":Jt=function(bn,un,gn){var vn="",on="";gn=Math.min(bn.length,gn);for(var Xt=un;Xt<gn;Xt++)bn[Xt]<=127?(vn+=sn(on)+String.fromCharCode(bn[Xt]),on=""):on+="%"+bn[Xt].toString(16);return vn+sn(on)}(hn,Gt,Wt);break;case"ascii":case"binary":Jt=_t(hn,Gt,Wt);break;case"base64":Kt=hn,fn=Wt,Jt=(nn=Gt)===0&&fn===Kt.length?pt.fromByteArray(Kt):pt.fromByteArray(Kt.slice(nn,fn));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Jt=function(bn,un,gn){for(var vn=bn.slice(un,gn),on="",Xt=0;Xt<vn.length;Xt+=2)on+=String.fromCharCode(vn[Xt]+256*vn[Xt+1]);return on}(hn,Gt,Wt);break;default:throw new Error("Unknown encoding")}return Jt},dt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},dt.prototype.copy=function(Ut,Gt,Wt,Jt){if(Gt=Gt||0,(Jt=Jt||Jt===0?Jt:this.length)!==(Wt=Wt||0)&&Ut.length!==0&&this.length!==0){Qt(Wt<=Jt,"sourceEnd < sourceStart"),Qt(0<=Gt&&Gt<Ut.length,"targetStart out of bounds"),Qt(0<=Wt&&Wt<this.length,"sourceStart out of bounds"),Qt(0<=Jt&&Jt<=this.length,"sourceEnd out of bounds"),Jt>this.length&&(Jt=this.length);var Kt=(Jt=Ut.length-Gt<Jt-Wt?Ut.length-Gt+Wt:Jt)-Wt;if(Kt<100||!dt._useTypedArrays)for(var nn=0;nn<Kt;nn++)Ut[nn+Gt]=this[nn+Wt];else Ut._set(this.subarray(Wt,Wt+Kt),Gt)}},dt.prototype.slice=function(Ut,Gt){var Wt=this.length;if(Ut=Ht(Ut,Wt,0),Gt=Ht(Gt,Wt,Wt),dt._useTypedArrays)return dt._augment(this.subarray(Ut,Gt));for(var Jt=Gt-Ut,Kt=new dt(Jt,void 0,!0),nn=0;nn<Jt;nn++)Kt[nn]=this[nn+Ut];return Kt},dt.prototype.get=function(Ut){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(Ut)},dt.prototype.set=function(Ut,Gt){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(Ut,Gt)},dt.prototype.readUInt8=function(Ut,Gt){if(Gt||(Qt(Ut!=null,"missing offset"),Qt(Ut<this.length,"Trying to read beyond buffer length")),!(Ut>=this.length))return this[Ut]},dt.prototype.readUInt16LE=function(Ut,Gt){return bt(this,Ut,!0,Gt)},dt.prototype.readUInt16BE=function(Ut,Gt){return bt(this,Ut,!1,Gt)},dt.prototype.readUInt32LE=function(Ut,Gt){return At(this,Ut,!0,Gt)},dt.prototype.readUInt32BE=function(Ut,Gt){return At(this,Ut,!1,Gt)},dt.prototype.readInt8=function(Ut,Gt){if(Gt||(Qt(Ut!=null,"missing offset"),Qt(Ut<this.length,"Trying to read beyond buffer length")),!(Ut>=this.length))return 128&this[Ut]?-1*(255-this[Ut]+1):this[Ut]},dt.prototype.readInt16LE=function(Ut,Gt){return Mt(this,Ut,!0,Gt)},dt.prototype.readInt16BE=function(Ut,Gt){return Mt(this,Ut,!1,Gt)},dt.prototype.readInt32LE=function(Ut,Gt){return Tt(this,Ut,!0,Gt)},dt.prototype.readInt32BE=function(Ut,Gt){return Tt(this,Ut,!1,Gt)},dt.prototype.readFloatLE=function(Ut,Gt){return St(this,Ut,!0,Gt)},dt.prototype.readFloatBE=function(Ut,Gt){return St(this,Ut,!1,Gt)},dt.prototype.readDoubleLE=function(Ut,Gt){return Ct(this,Ut,!0,Gt)},dt.prototype.readDoubleBE=function(Ut,Gt){return Ct(this,Ut,!1,Gt)},dt.prototype.writeUInt8=function(Ut,Gt,Wt){Wt||(Qt(Ut!=null,"missing value"),Qt(Gt!=null,"missing offset"),Qt(Gt<this.length,"trying to write beyond buffer length"),cn(Ut,255)),Gt>=this.length||(this[Gt]=Ut)},dt.prototype.writeUInt16LE=function(Ut,Gt,Wt){Et(this,Ut,Gt,!0,Wt)},dt.prototype.writeUInt16BE=function(Ut,Gt,Wt){Et(this,Ut,Gt,!1,Wt)},dt.prototype.writeUInt32LE=function(Ut,Gt,Wt){Rt(this,Ut,Gt,!0,Wt)},dt.prototype.writeUInt32BE=function(Ut,Gt,Wt){Rt(this,Ut,Gt,!1,Wt)},dt.prototype.writeInt8=function(Ut,Gt,Wt){Wt||(Qt(Ut!=null,"missing value"),Qt(Gt!=null,"missing offset"),Qt(Gt<this.length,"Trying to write beyond buffer length"),Zt(Ut,127,-128)),Gt>=this.length||(0<=Ut?this.writeUInt8(Ut,Gt,Wt):this.writeUInt8(255+Ut+1,Gt,Wt))},dt.prototype.writeInt16LE=function(Ut,Gt,Wt){It(this,Ut,Gt,!0,Wt)},dt.prototype.writeInt16BE=function(Ut,Gt,Wt){It(this,Ut,Gt,!1,Wt)},dt.prototype.writeInt32LE=function(Ut,Gt,Wt){Ot(this,Ut,Gt,!0,Wt)},dt.prototype.writeInt32BE=function(Ut,Gt,Wt){Ot(this,Ut,Gt,!1,Wt)},dt.prototype.writeFloatLE=function(Ut,Gt,Wt){kt(this,Ut,Gt,!0,Wt)},dt.prototype.writeFloatBE=function(Ut,Gt,Wt){kt(this,Ut,Gt,!1,Wt)},dt.prototype.writeDoubleLE=function(Ut,Gt,Wt){$t(this,Ut,Gt,!0,Wt)},dt.prototype.writeDoubleBE=function(Ut,Gt,Wt){$t(this,Ut,Gt,!1,Wt)},dt.prototype.fill=function(Ut,Gt,Wt){if(Gt=Gt||0,Wt=Wt||this.length,Qt(typeof(Ut=typeof(Ut=Ut||0)=="string"?Ut.charCodeAt(0):Ut)=="number"&&!isNaN(Ut),"value is not a number"),Qt(Gt<=Wt,"end < start"),Wt!==Gt&&this.length!==0){Qt(0<=Gt&&Gt<this.length,"start out of bounds"),Qt(0<=Wt&&Wt<=this.length,"end out of bounds");for(var Jt=Gt;Jt<Wt;Jt++)this[Jt]=Ut}},dt.prototype.inspect=function(){for(var Ut=[],Gt=this.length,Wt=0;Wt<Gt;Wt++)if(Ut[Wt]=Ft(this[Wt]),Wt===rt.INSPECT_MAX_BYTES){Ut[Wt+1]="...";break}return"<Buffer "+Ut.join(" ")+">"},dt.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(dt._useTypedArrays)return new dt(this).buffer;for(var Ut=new Uint8Array(this.length),Gt=0,Wt=Ut.length;Gt<Wt;Gt+=1)Ut[Gt]=this[Gt];return Ut.buffer};var jt=dt.prototype;function Ht(Ut,Gt,Wt){return typeof Ut!="number"?Wt:Gt<=(Ut=~~Ut)?Gt:0<=Ut||0<=(Ut+=Gt)?Ut:0}function Bt(Ut){return(Ut=~~Math.ceil(+Ut))<0?0:Ut}function Lt(Ut){return(Array.isArray||function(Gt){return Object.prototype.toString.call(Gt)==="[object Array]"})(Ut)}function Ft(Ut){return Ut<16?"0"+Ut.toString(16):Ut.toString(16)}function Vt(Ut){for(var Gt=[],Wt=0;Wt<Ut.length;Wt++){var Jt=Ut.charCodeAt(Wt);if(Jt<=127)Gt.push(Ut.charCodeAt(Wt));else for(var Kt=Wt,nn=(55296<=Jt&&Jt<=57343&&Wt++,encodeURIComponent(Ut.slice(Kt,Wt+1)).substr(1).split("%")),fn=0;fn<nn.length;fn++)Gt.push(parseInt(nn[fn],16))}return Gt}function Yt(Ut){return pt.toByteArray(Ut)}function rn(Ut,Gt,Wt,Jt){for(var Kt=0;Kt<Jt&&!(Kt+Wt>=Gt.length||Kt>=Ut.length);Kt++)Gt[Kt+Wt]=Ut[Kt];return Kt}function sn(Ut){try{return decodeURIComponent(Ut)}catch{return String.fromCharCode(65533)}}function cn(Ut,Gt){Qt(typeof Ut=="number","cannot write a non-number as a number"),Qt(0<=Ut,"specified a negative value for writing an unsigned value"),Qt(Ut<=Gt,"value is larger than maximum value for type"),Qt(Math.floor(Ut)===Ut,"value has a fractional component")}function Zt(Ut,Gt,Wt){Qt(typeof Ut=="number","cannot write a non-number as a number"),Qt(Ut<=Gt,"value larger than maximum allowed value"),Qt(Wt<=Ut,"value smaller than minimum allowed value"),Qt(Math.floor(Ut)===Ut,"value has a fractional component")}function an(Ut,Gt,Wt){Qt(typeof Ut=="number","cannot write a non-number as a number"),Qt(Ut<=Gt,"value larger than maximum allowed value"),Qt(Wt<=Ut,"value smaller than minimum allowed value")}function Qt(Ut,Gt){if(!Ut)throw new Error(Gt||"Failed assertion")}dt._augment=function(Ut){return Ut._isBuffer=!0,Ut._get=Ut.get,Ut._set=Ut.set,Ut.get=jt.get,Ut.set=jt.set,Ut.write=jt.write,Ut.toString=jt.toString,Ut.toLocaleString=jt.toString,Ut.toJSON=jt.toJSON,Ut.copy=jt.copy,Ut.slice=jt.slice,Ut.readUInt8=jt.readUInt8,Ut.readUInt16LE=jt.readUInt16LE,Ut.readUInt16BE=jt.readUInt16BE,Ut.readUInt32LE=jt.readUInt32LE,Ut.readUInt32BE=jt.readUInt32BE,Ut.readInt8=jt.readInt8,Ut.readInt16LE=jt.readInt16LE,Ut.readInt16BE=jt.readInt16BE,Ut.readInt32LE=jt.readInt32LE,Ut.readInt32BE=jt.readInt32BE,Ut.readFloatLE=jt.readFloatLE,Ut.readFloatBE=jt.readFloatBE,Ut.readDoubleLE=jt.readDoubleLE,Ut.readDoubleBE=jt.readDoubleBE,Ut.writeUInt8=jt.writeUInt8,Ut.writeUInt16LE=jt.writeUInt16LE,Ut.writeUInt16BE=jt.writeUInt16BE,Ut.writeUInt32LE=jt.writeUInt32LE,Ut.writeUInt32BE=jt.writeUInt32BE,Ut.writeInt8=jt.writeInt8,Ut.writeInt16LE=jt.writeInt16LE,Ut.writeInt16BE=jt.writeInt16BE,Ut.writeInt32LE=jt.writeInt32LE,Ut.writeInt32BE=jt.writeInt32BE,Ut.writeFloatLE=jt.writeFloatLE,Ut.writeFloatBE=jt.writeFloatBE,Ut.writeDoubleLE=jt.writeDoubleLE,Ut.writeDoubleBE=jt.writeDoubleBE,Ut.fill=jt.fill,Ut.inspect=jt.inspect,Ut.toArrayBuffer=jt.toArrayBuffer,Ut}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(tt,nt,rt){(function(it,st,pt,at,lt,ct,ut,ft,ht){var pt=tt("buffer").Buffer,gt=4,dt=new pt(gt);dt.fill(0),nt.exports={hash:function(vt,xt,_t,bt){for(var At=xt(function(Et,Rt){Et.length%gt!=0&&(It=Et.length+(gt-Et.length%gt),Et=pt.concat([Et,dt],It));for(var It,Ot=[],kt=Rt?Et.readInt32BE:Et.readInt32LE,$t=0;$t<Et.length;$t+=gt)Ot.push(kt.call(Et,$t));return Ot}(vt=pt.isBuffer(vt)?vt:new pt(vt),bt),8*vt.length),xt=bt,Mt=new pt(_t),Tt=xt?Mt.writeInt32BE:Mt.writeInt32LE,St=0;St<At.length;St++)Tt.call(Mt,At[St],4*St,!0);return Mt}}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(tt,nt,rt){(function(it,st,pt,at,lt,ct,ut,ft,ht){var pt=tt("buffer").Buffer,gt=tt("./sha"),dt=tt("./sha256"),vt=tt("./rng"),xt={sha1:gt,sha256:dt,md5:tt("./md5")},_t=64,bt=new pt(_t);function At(Et,Rt){var It=xt[Et=Et||"sha1"],Ot=[];return It||Mt("algorithm:",Et,"is not yet supported"),{update:function(kt){return pt.isBuffer(kt)||(kt=new pt(kt)),Ot.push(kt),kt.length,this},digest:function(kt){var $t=pt.concat(Ot),$t=Rt?function(jt,Ht,Bt){pt.isBuffer(Ht)||(Ht=new pt(Ht)),pt.isBuffer(Bt)||(Bt=new pt(Bt)),Ht.length>_t?Ht=jt(Ht):Ht.length<_t&&(Ht=pt.concat([Ht,bt],_t));for(var Lt=new pt(_t),Ft=new pt(_t),Vt=0;Vt<_t;Vt++)Lt[Vt]=54^Ht[Vt],Ft[Vt]=92^Ht[Vt];return Bt=jt(pt.concat([Lt,Bt])),jt(pt.concat([Ft,Bt]))}(It,Rt,$t):It($t);return Ot=null,kt?$t.toString(kt):$t}}}function Mt(){var Et=[].slice.call(arguments).join(" ");throw new Error([Et,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}bt.fill(0),rt.createHash=function(Et){return At(Et)},rt.createHmac=At,rt.randomBytes=function(Et,Rt){if(!Rt||!Rt.call)return new pt(vt(Et));try{Rt.call(this,void 0,new pt(vt(Et)))}catch(It){Rt(It)}};var Tt,St=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],Ct=function(Et){rt[Et]=function(){Mt("sorry,",Et,"is not implemented yet")}};for(Tt in St)Ct(St[Tt])}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){var pt=tt("./helpers");function gt(Mt,Tt){Mt[Tt>>5]|=128<<Tt%32,Mt[14+(Tt+64>>>9<<4)]=Tt;for(var St=1732584193,Ct=-271733879,Et=-1732584194,Rt=271733878,It=0;It<Mt.length;It+=16){var Ot=St,kt=Ct,$t=Et,jt=Rt,St=vt(St,Ct,Et,Rt,Mt[It+0],7,-680876936),Rt=vt(Rt,St,Ct,Et,Mt[It+1],12,-389564586),Et=vt(Et,Rt,St,Ct,Mt[It+2],17,606105819),Ct=vt(Ct,Et,Rt,St,Mt[It+3],22,-1044525330);St=vt(St,Ct,Et,Rt,Mt[It+4],7,-176418897),Rt=vt(Rt,St,Ct,Et,Mt[It+5],12,1200080426),Et=vt(Et,Rt,St,Ct,Mt[It+6],17,-1473231341),Ct=vt(Ct,Et,Rt,St,Mt[It+7],22,-45705983),St=vt(St,Ct,Et,Rt,Mt[It+8],7,1770035416),Rt=vt(Rt,St,Ct,Et,Mt[It+9],12,-1958414417),Et=vt(Et,Rt,St,Ct,Mt[It+10],17,-42063),Ct=vt(Ct,Et,Rt,St,Mt[It+11],22,-1990404162),St=vt(St,Ct,Et,Rt,Mt[It+12],7,1804603682),Rt=vt(Rt,St,Ct,Et,Mt[It+13],12,-40341101),Et=vt(Et,Rt,St,Ct,Mt[It+14],17,-1502002290),St=xt(St,Ct=vt(Ct,Et,Rt,St,Mt[It+15],22,1236535329),Et,Rt,Mt[It+1],5,-165796510),Rt=xt(Rt,St,Ct,Et,Mt[It+6],9,-1069501632),Et=xt(Et,Rt,St,Ct,Mt[It+11],14,643717713),Ct=xt(Ct,Et,Rt,St,Mt[It+0],20,-373897302),St=xt(St,Ct,Et,Rt,Mt[It+5],5,-701558691),Rt=xt(Rt,St,Ct,Et,Mt[It+10],9,38016083),Et=xt(Et,Rt,St,Ct,Mt[It+15],14,-660478335),Ct=xt(Ct,Et,Rt,St,Mt[It+4],20,-405537848),St=xt(St,Ct,Et,Rt,Mt[It+9],5,568446438),Rt=xt(Rt,St,Ct,Et,Mt[It+14],9,-1019803690),Et=xt(Et,Rt,St,Ct,Mt[It+3],14,-187363961),Ct=xt(Ct,Et,Rt,St,Mt[It+8],20,1163531501),St=xt(St,Ct,Et,Rt,Mt[It+13],5,-1444681467),Rt=xt(Rt,St,Ct,Et,Mt[It+2],9,-51403784),Et=xt(Et,Rt,St,Ct,Mt[It+7],14,1735328473),St=_t(St,Ct=xt(Ct,Et,Rt,St,Mt[It+12],20,-1926607734),Et,Rt,Mt[It+5],4,-378558),Rt=_t(Rt,St,Ct,Et,Mt[It+8],11,-2022574463),Et=_t(Et,Rt,St,Ct,Mt[It+11],16,1839030562),Ct=_t(Ct,Et,Rt,St,Mt[It+14],23,-35309556),St=_t(St,Ct,Et,Rt,Mt[It+1],4,-1530992060),Rt=_t(Rt,St,Ct,Et,Mt[It+4],11,1272893353),Et=_t(Et,Rt,St,Ct,Mt[It+7],16,-155497632),Ct=_t(Ct,Et,Rt,St,Mt[It+10],23,-1094730640),St=_t(St,Ct,Et,Rt,Mt[It+13],4,681279174),Rt=_t(Rt,St,Ct,Et,Mt[It+0],11,-358537222),Et=_t(Et,Rt,St,Ct,Mt[It+3],16,-722521979),Ct=_t(Ct,Et,Rt,St,Mt[It+6],23,76029189),St=_t(St,Ct,Et,Rt,Mt[It+9],4,-640364487),Rt=_t(Rt,St,Ct,Et,Mt[It+12],11,-421815835),Et=_t(Et,Rt,St,Ct,Mt[It+15],16,530742520),St=bt(St,Ct=_t(Ct,Et,Rt,St,Mt[It+2],23,-995338651),Et,Rt,Mt[It+0],6,-198630844),Rt=bt(Rt,St,Ct,Et,Mt[It+7],10,1126891415),Et=bt(Et,Rt,St,Ct,Mt[It+14],15,-1416354905),Ct=bt(Ct,Et,Rt,St,Mt[It+5],21,-57434055),St=bt(St,Ct,Et,Rt,Mt[It+12],6,1700485571),Rt=bt(Rt,St,Ct,Et,Mt[It+3],10,-1894986606),Et=bt(Et,Rt,St,Ct,Mt[It+10],15,-1051523),Ct=bt(Ct,Et,Rt,St,Mt[It+1],21,-2054922799),St=bt(St,Ct,Et,Rt,Mt[It+8],6,1873313359),Rt=bt(Rt,St,Ct,Et,Mt[It+15],10,-30611744),Et=bt(Et,Rt,St,Ct,Mt[It+6],15,-1560198380),Ct=bt(Ct,Et,Rt,St,Mt[It+13],21,1309151649),St=bt(St,Ct,Et,Rt,Mt[It+4],6,-145523070),Rt=bt(Rt,St,Ct,Et,Mt[It+11],10,-1120210379),Et=bt(Et,Rt,St,Ct,Mt[It+2],15,718787259),Ct=bt(Ct,Et,Rt,St,Mt[It+9],21,-343485551),St=At(St,Ot),Ct=At(Ct,kt),Et=At(Et,$t),Rt=At(Rt,jt)}return Array(St,Ct,Et,Rt)}function dt(Mt,Tt,St,Ct,Et,Rt){return At((Tt=At(At(Tt,Mt),At(Ct,Rt)))<<Et|Tt>>>32-Et,St)}function vt(Mt,Tt,St,Ct,Et,Rt,It){return dt(Tt&St|~Tt&Ct,Mt,Tt,Et,Rt,It)}function xt(Mt,Tt,St,Ct,Et,Rt,It){return dt(Tt&Ct|St&~Ct,Mt,Tt,Et,Rt,It)}function _t(Mt,Tt,St,Ct,Et,Rt,It){return dt(Tt^St^Ct,Mt,Tt,Et,Rt,It)}function bt(Mt,Tt,St,Ct,Et,Rt,It){return dt(St^(Tt|~Ct),Mt,Tt,Et,Rt,It)}function At(Mt,Tt){var St=(65535&Mt)+(65535&Tt);return(Mt>>16)+(Tt>>16)+(St>>16)<<16|65535&St}nt.exports=function(Mt){return pt.hash(Mt,gt,16)}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){nt.exports=function(pt){for(var gt,dt=new Array(pt),vt=0;vt<pt;vt++)(3&vt)==0&&(gt=4294967296*Math.random()),dt[vt]=gt>>>((3&vt)<<3)&255;return dt}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){var pt=tt("./helpers");function gt(xt,_t){xt[_t>>5]|=128<<24-_t%32,xt[15+(_t+64>>9<<4)]=_t;for(var bt,At,Mt,Tt=Array(80),St=1732584193,Ct=-271733879,Et=-1732584194,Rt=271733878,It=-1009589776,Ot=0;Ot<xt.length;Ot+=16){for(var kt=St,$t=Ct,jt=Et,Ht=Rt,Bt=It,Lt=0;Lt<80;Lt++){Tt[Lt]=Lt<16?xt[Ot+Lt]:vt(Tt[Lt-3]^Tt[Lt-8]^Tt[Lt-14]^Tt[Lt-16],1);var Ft=dt(dt(vt(St,5),(Ft=Ct,At=Et,Mt=Rt,(bt=Lt)<20?Ft&At|~Ft&Mt:!(bt<40)&&bt<60?Ft&At|Ft&Mt|At&Mt:Ft^At^Mt)),dt(dt(It,Tt[Lt]),(bt=Lt)<20?1518500249:bt<40?1859775393:bt<60?-1894007588:-899497514)),It=Rt,Rt=Et,Et=vt(Ct,30),Ct=St,St=Ft}St=dt(St,kt),Ct=dt(Ct,$t),Et=dt(Et,jt),Rt=dt(Rt,Ht),It=dt(It,Bt)}return Array(St,Ct,Et,Rt,It)}function dt(xt,_t){var bt=(65535&xt)+(65535&_t);return(xt>>16)+(_t>>16)+(bt>>16)<<16|65535&bt}function vt(xt,_t){return xt<<_t|xt>>>32-_t}nt.exports=function(xt){return pt.hash(xt,gt,20,!0)}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){function pt(_t,bt){var At=(65535&_t)+(65535&bt);return(_t>>16)+(bt>>16)+(At>>16)<<16|65535&At}function gt(_t,bt){var At,Mt=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),Tt=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),St=new Array(64);_t[bt>>5]|=128<<24-bt%32,_t[15+(bt+64>>9<<4)]=bt;for(var Ct,Et,Rt=0;Rt<_t.length;Rt+=16){for(var It=Tt[0],Ot=Tt[1],kt=Tt[2],$t=Tt[3],jt=Tt[4],Ht=Tt[5],Bt=Tt[6],Lt=Tt[7],Ft=0;Ft<64;Ft++)St[Ft]=Ft<16?_t[Ft+Rt]:pt(pt(pt((Et=St[Ft-2],vt(Et,17)^vt(Et,19)^xt(Et,10)),St[Ft-7]),(Et=St[Ft-15],vt(Et,7)^vt(Et,18)^xt(Et,3))),St[Ft-16]),At=pt(pt(pt(pt(Lt,vt(Et=jt,6)^vt(Et,11)^vt(Et,25)),jt&Ht^~jt&Bt),Mt[Ft]),St[Ft]),Ct=pt(vt(Ct=It,2)^vt(Ct,13)^vt(Ct,22),It&Ot^It&kt^Ot&kt),Lt=Bt,Bt=Ht,Ht=jt,jt=pt($t,At),$t=kt,kt=Ot,Ot=It,It=pt(At,Ct);Tt[0]=pt(It,Tt[0]),Tt[1]=pt(Ot,Tt[1]),Tt[2]=pt(kt,Tt[2]),Tt[3]=pt($t,Tt[3]),Tt[4]=pt(jt,Tt[4]),Tt[5]=pt(Ht,Tt[5]),Tt[6]=pt(Bt,Tt[6]),Tt[7]=pt(Lt,Tt[7])}return Tt}var dt=tt("./helpers"),vt=function(_t,bt){return _t>>>bt|_t<<32-bt},xt=function(_t,bt){return _t>>>bt};nt.exports=function(_t){return dt.hash(_t,gt,32,!0)}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){rt.read=function(pt,gt,dt,vt,Rt){var _t,bt,At=8*Rt-vt-1,Mt=(1<<At)-1,Tt=Mt>>1,St=-7,Ct=dt?Rt-1:0,Et=dt?-1:1,Rt=pt[gt+Ct];for(Ct+=Et,_t=Rt&(1<<-St)-1,Rt>>=-St,St+=At;0<St;_t=256*_t+pt[gt+Ct],Ct+=Et,St-=8);for(bt=_t&(1<<-St)-1,_t>>=-St,St+=vt;0<St;bt=256*bt+pt[gt+Ct],Ct+=Et,St-=8);if(_t===0)_t=1-Tt;else{if(_t===Mt)return bt?NaN:1/0*(Rt?-1:1);bt+=Math.pow(2,vt),_t-=Tt}return(Rt?-1:1)*bt*Math.pow(2,_t-vt)},rt.write=function(pt,gt,dt,vt,xt,It){var bt,At,Mt=8*It-xt-1,Tt=(1<<Mt)-1,St=Tt>>1,Ct=xt===23?Math.pow(2,-24)-Math.pow(2,-77):0,Et=vt?0:It-1,Rt=vt?1:-1,It=gt<0||gt===0&&1/gt<0?1:0;for(gt=Math.abs(gt),isNaN(gt)||gt===1/0?(At=isNaN(gt)?1:0,bt=Tt):(bt=Math.floor(Math.log(gt)/Math.LN2),gt*(vt=Math.pow(2,-bt))<1&&(bt--,vt*=2),2<=(gt+=1<=bt+St?Ct/vt:Ct*Math.pow(2,1-St))*vt&&(bt++,vt/=2),Tt<=bt+St?(At=0,bt=Tt):1<=bt+St?(At=(gt*vt-1)*Math.pow(2,xt),bt+=St):(At=gt*Math.pow(2,St-1)*Math.pow(2,xt),bt=0));8<=xt;pt[dt+Et]=255&At,Et+=Rt,At/=256,xt-=8);for(bt=bt<<xt|At,Mt+=xt;0<Mt;pt[dt+Et]=255&bt,Et+=Rt,bt/=256,Mt-=8);pt[dt+Et-Rt]|=128*It}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(tt,nt,rt){(function(it,st,ot,at,lt,ct,ut,ft,ht){var pt,gt,dt;function vt(){}(it=nt.exports={}).nextTick=(gt=typeof window<"u"&&window.setImmediate,dt=typeof window<"u"&&window.postMessage&&window.addEventListener,gt?function(xt){return window.setImmediate(xt)}:dt?(pt=[],window.addEventListener("message",function(xt){var _t=xt.source;_t!==window&&_t!==null||xt.data!=="process-tick"||(xt.stopPropagation(),0<pt.length&&pt.shift()())},!0),function(xt){pt.push(xt),window.postMessage("process-tick","*")}):function(xt){setTimeout(xt,0)}),it.title="browser",it.browser=!0,it.env={},it.argv=[],it.on=vt,it.addListener=vt,it.once=vt,it.off=vt,it.removeListener=vt,it.removeAllListeners=vt,it.emit=vt,it.binding=function(xt){throw new Error("process.binding is not supported")},it.cwd=function(){return"/"},it.chdir=function(xt){throw new Error("process.chdir is not supported")}}).call(this,tt("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},tt("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(object_hash);const hash=object_hash.exports;var keywords={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive"};const defaultPatchMap={[`${keywords.normal}`]:{"#include <beginnormal_vertex>":`
    vec3 objectNormal = ${keywords.normal};
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `},[`${keywords.position}`]:{"#include <begin_vertex>":`
    vec3 transformed = ${keywords.position};
  `},[`${keywords.positionRaw}`]:{"#include <begin_vertex>":`
    vec4 csm_positionUnprojected = ${keywords.positionRaw};
    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;
    #endif
    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;
    vec3 transformed = csm_positionUnprojected.xyz;
  `},[`${keywords.pointSize}`]:{"gl_PointSize = size;":`
    gl_PointSize = ${keywords.pointSize};
    `},[`${keywords.diffuseColor}`]:{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = ${keywords.diffuseColor};
  `},[`${keywords.fragColor}`]:{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = ${keywords.fragColor};
  `},[`${keywords.emissive}`]:{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = ${keywords.emissive};
    `},[`${keywords.roughness}`]:{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = ${keywords.roughness};
    `},[`${keywords.metalness}`]:{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = ${keywords.metalness};
    `}},shaderMaterial_PatchMap={[`${keywords.position}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( ${keywords.position}, 1.0 );
  `},[`${keywords.positionRaw}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = ${keywords.position};
  `},[`${keywords.diffuseColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${keywords.diffuseColor};
  `},[`${keywords.fragColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${keywords.fragColor};
  `}},defaultDefinitions=`

#ifdef IS_VERTEX
    vec3 csm_Position = position;
    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
    vec3 csm_Normal = normal;
#else
    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL
        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);
        vec4 csm_FragColor = vec4(1., 0., 1., 1.);
    #else
        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
            vec3 csm_Emissive = emissive;
            float csm_Roughness = roughness;
            float csm_Metalness = metalness;
        #endif
        
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif
#endif
`,replaceAll=(et,_e,tt)=>et.split(_e).join(tt),escapeRegExpMatch=function(et){return et.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},isExactMatch=(et,_e)=>new RegExp(`\\b${escapeRegExpMatch(_e)}\\b`).test(et);function isConstructor(et){try{new et}catch(_e){if(_e.message.indexOf("is not a constructor")>=0)return!1}return!0}class CustomShaderMaterial extends Material{constructor({baseMaterial:_e,fragmentShader:tt,vertexShader:nt,uniforms:rt,patchMap:it,cacheKey:st,...ot}){let at;if(isConstructor(_e)?at=new _e(ot):(at=_e,Object.assign(at,ot)),at.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");super(),this.uniforms=rt||{},this._customPatchMap=it||{},this._fs=tt||"",this._vs=nt||"",this._cacheKey=st,this._base=_e,this._type=at.type,this._instanceID=MathUtils.generateUUID();for(const lt in at){let ct=lt;lt.startsWith("_")&&(ct=lt.split("_")[1]),this[ct]===void 0&&(this[ct]=0),this[ct]=at[ct]}this.update({fragmentShader:tt,vertexShader:nt,uniforms:rt,cacheKey:st})}update(_e){const tt=(_e==null?void 0:_e.uniforms)||{},nt=(_e==null?void 0:_e.fragmentShader)||this._fs,rt=(_e==null?void 0:_e.vertexShader)||this._vs,it=Object.values(tt).reduce((st,{value:ot})=>st+JSON.stringify(ot),"");this.uuid=(_e==null||_e.cacheKey==null?void 0:_e.cacheKey())||hash([nt,rt,it,this._instanceID]),this.generateMaterial({fragmentShader:nt,vertexShader:rt,uniforms:tt})}clone(){const _e=new this.constructor({baseMaterial:this._base,fragmentShader:this._fs,vertexShader:this._vs,patchMap:this._customPatchMap,uniforms:this.uniforms,cacheKey:this._cacheKey});for(const tt in this)tt!=="uuid"&&(_e[tt]=this[tt]);return _e}generateMaterial({fragmentShader:_e,vertexShader:tt,uniforms:nt}){const rt=this.parseShader(_e),it=this.parseShader(tt);this.uniforms=nt||{},this.customProgramCacheKey=()=>this.uuid,this.onBeforeCompile=st=>{if(rt){const ot=this.patchShader(rt,st.fragmentShader);st.fragmentShader=this.getMaterialDefine()+ot}if(it){const ot=this.patchShader(it,st.vertexShader);st.vertexShader=`#define IS_VERTEX;
`+ot,st.vertexShader=this.getMaterialDefine()+st.vertexShader}st.uniforms={...st.uniforms,...this.uniforms},this.uniforms=st.uniforms},this.needsUpdate=!0}getMaterialDefine(){return`#define IS_${this._type.toUpperCase()};
`}getPatchMapForMaterial(){switch(this._type){case"ShaderMaterial":return shaderMaterial_PatchMap;default:return defaultPatchMap}}patchShader(_e,tt){let nt=tt;const rt={...this.getPatchMapForMaterial(),...this._customPatchMap};return Object.keys(rt).forEach(it=>{Object.keys(rt[it]).forEach(st=>{isExactMatch(_e.main,it)&&(nt=replaceAll(nt,st,rt[it][st]))})}),nt=nt.replace("void main() {",`
          ${_e.header}
          void main() {
            ${defaultDefinitions}
            ${_e.main}
          `),nt=_e.defines+nt,nt}parseShader(_e){if(!_e)return;const tt=_e.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),nt=string$1(tt),rt=glslTokenFunctions(nt),it=rt.map(at=>at.name).indexOf("main"),st=glslTokenString(nt.slice(0,it>=0?rt[it].outer[0]:void 0)),ot=it>=0?this.getShaderFromIndex(nt,rt[it].body):"";return{defines:"",header:st,main:ot}}getShaderFromIndex(_e,tt){return glslTokenString(_e.slice(tt[0],tt[1]))}}function composeRefs$2(...et){return _e=>et.forEach(tt=>function(nt,rt){typeof nt=="function"?nt(rt):nt!=null&&(nt.current=rt)}(tt,_e))}const Slot$1=react.exports.forwardRef((et,_e)=>{const{children:tt,...nt}=et;return react.exports.Children.toArray(tt).some(l$4)?react.exports.createElement(react.exports.Fragment,null,react.exports.Children.map(tt,rt=>l$4(rt)?react.exports.createElement(n$4,_extends({},nt,{ref:_e}),rt.props.children):rt)):react.exports.createElement(n$4,_extends({},nt,{ref:_e}),tt)});Slot$1.displayName="Slot";const n$4=react.exports.forwardRef((et,_e)=>{const{children:tt,...nt}=et;return react.exports.isValidElement(tt)?react.exports.cloneElement(tt,{...o$5(nt,tt.props),ref:composeRefs$2(_e,tt.ref)}):react.exports.Children.count(tt)>1?react.exports.Children.only(null):null});n$4.displayName="SlotClone";const Slottable$1=({children:et})=>react.exports.createElement(react.exports.Fragment,null,et);function l$4(et){return react.exports.isValidElement(et)&&et.type===Slottable$1}function o$5(et,_e){const tt={..._e};for(const nt in _e){const rt=et[nt],it=_e[nt];/^on[A-Z]/.test(nt)?tt[nt]=(...st)=>{it==null||it(...st),rt==null||rt(...st)}:nt==="style"?tt[nt]={...rt,...it}:nt==="className"&&(tt[nt]=[rt,it].filter(Boolean).join(" "))}return{...et,...tt}}const Primitive$1=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((et,_e)=>({...et,[_e]:react.exports.forwardRef((tt,nt)=>{const{asChild:rt,...it}=tt,st=rt?Slot$1:_e;return react.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),react.exports.createElement(st,_extends({},it,{ref:nt}))})}),{}),useLayoutEffect$3=Boolean(globalThis==null?void 0:globalThis.document)?react.exports.useLayoutEffect:()=>{},Portal$2=react.exports.forwardRef((et,_e)=>{var tt,nt;const{containerRef:rt,style:it,...st}=et,ot=(tt=rt==null?void 0:rt.current)!==null&&tt!==void 0?tt:globalThis==null||(nt=globalThis.document)===null||nt===void 0?void 0:nt.body,[,at]=react.exports.useState({});return useLayoutEffect$3(()=>{at({})},[]),ot?ReactDOM.createPortal(react.exports.createElement(Primitive$1.div,_extends({"data-radix-portal":""},st,{ref:_e,style:ot===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...it}:void 0})),ot):null}),Root$4=Portal$2;var has=Object.prototype.hasOwnProperty;function dequal(et,_e){var tt,nt;if(et===_e)return!0;if(et&&_e&&(tt=et.constructor)===_e.constructor){if(tt===Date)return et.getTime()===_e.getTime();if(tt===RegExp)return et.toString()===_e.toString();if(tt===Array){if((nt=et.length)===_e.length)for(;nt--&&dequal(et[nt],_e[nt]););return nt===-1}if(!tt||typeof et=="object"){nt=0;for(tt in et)if(has.call(et,tt)&&++nt&&!has.call(_e,tt)||!(tt in _e)||!dequal(et[tt],_e[tt]))return!1;return Object.keys(_e).length===nt}}return et!==et&&_e!==_e}var Rule=function et(_e,tt,nt,rt){this.name=_e,this.fn=tt,this.args=nt,this.modifiers=rt};Rule.prototype._test=function et(_e){var tt=this.fn;try{testAux(this.modifiers.slice(),tt,this)(_e)}catch{tt=function(){return!1}}try{return testAux(this.modifiers.slice(),tt,this)(_e)}catch{return!1}};Rule.prototype._check=function et(_e){try{testAux(this.modifiers.slice(),this.fn,this)(_e)}catch{if(testAux(this.modifiers.slice(),function(nt){return nt},this)(!1))return}if(!testAux(this.modifiers.slice(),this.fn,this)(_e))throw null};Rule.prototype._testAsync=function et(_e){var tt=this;return new Promise(function(nt,rt){testAsyncAux(tt.modifiers.slice(),tt.fn,tt)(_e).then(function(it){it?nt(_e):rt(null)}).catch(function(it){return rt(it)})})};function pickFn(et,_e){return _e===void 0&&(_e="simple"),typeof et=="object"?et[_e]:et}function testAux(et,_e,tt){if(et.length){var nt=et.shift(),rt=testAux(et,_e,tt);return nt.perform(rt,tt)}else return pickFn(_e)}function testAsyncAux(et,_e,tt){if(et.length){var nt=et.shift(),rt=testAsyncAux(et,_e,tt);return nt.performAsync(rt,tt)}else return function(it){return Promise.resolve(pickFn(_e,"async")(it))}}var Modifier=function et(_e,tt,nt){this.name=_e,this.perform=tt,this.performAsync=nt},ValidationError=function(et){function _e(tt,nt,rt,it){for(var st=[],ot=arguments.length-4;ot-- >0;)st[ot]=arguments[ot+4];et.call(this,st),et.captureStackTrace&&et.captureStackTrace(this,_e),this.rule=tt,this.value=nt,this.cause=rt,this.target=it}return et&&(_e.__proto__=et),_e.prototype=Object.create(et&&et.prototype),_e.prototype.constructor=_e,_e}(Error),Context=function et(_e,tt){_e===void 0&&(_e=[]),tt===void 0&&(tt=[]),this.chain=_e,this.nextRuleModifiers=tt};Context.prototype._applyRule=function et(_e,tt){var nt=this;return function(){for(var rt=[],it=arguments.length;it--;)rt[it]=arguments[it];return nt.chain.push(new Rule(tt,_e.apply(nt,rt),rt,nt.nextRuleModifiers)),nt.nextRuleModifiers=[],nt}};Context.prototype._applyModifier=function et(_e,tt){return this.nextRuleModifiers.push(new Modifier(tt,_e.simple,_e.async)),this};Context.prototype._clone=function et(){return new Context(this.chain.slice(),this.nextRuleModifiers.slice())};Context.prototype.test=function et(_e){return this.chain.every(function(tt){return tt._test(_e)})};Context.prototype.testAll=function et(_e){var tt=[];return this.chain.forEach(function(nt){try{nt._check(_e)}catch(rt){tt.push(new ValidationError(nt,_e,rt))}}),tt};Context.prototype.check=function et(_e){this.chain.forEach(function(tt){try{tt._check(_e)}catch(nt){throw new ValidationError(tt,_e,nt)}})};Context.prototype.testAsync=function et(_e){var tt=this;return new Promise(function(nt,rt){executeAsyncRules(_e,tt.chain.slice(),nt,rt)})};function executeAsyncRules(et,_e,tt,nt){if(_e.length){var rt=_e.shift();rt._testAsync(et).then(function(){executeAsyncRules(et,_e,tt,nt)},function(it){nt(new ValidationError(rt,et,it))})}else tt(et)}var consideredEmpty=function(et,_e){return _e&&typeof et=="string"&&et.trim().length===0?!0:et==null};function optional(et,_e){return _e===void 0&&(_e=!1),{simple:function(tt){return consideredEmpty(tt,_e)||et.check(tt)===void 0},async:function(tt){return consideredEmpty(tt,_e)||et.testAsync(tt)}}}function v8n(){return typeof Proxy<"u"?proxyContext(new Context):proxylessContext(new Context)}var customRules={};v8n.extend=function(et){Object.assign(customRules,et)};v8n.clearCustomRules=function(){customRules={}};function proxyContext(et){return new Proxy(et,{get:function(tt,nt){if(nt in tt)return tt[nt];var rt=proxyContext(et._clone());if(nt in availableModifiers)return rt._applyModifier(availableModifiers[nt],nt);if(nt in customRules)return rt._applyRule(customRules[nt],nt);if(nt in availableRules)return rt._applyRule(availableRules[nt],nt)}})}function proxylessContext(et){var _e=function(rt,it){return Object.keys(rt).forEach(function(st){it[st]=function(){for(var ot=[],at=arguments.length;at--;)ot[at]=arguments[at];var lt=proxylessContext(it._clone()),ct=lt._applyRule(rt[st],st).apply(void 0,ot);return ct}}),it},tt=_e(availableRules,et),nt=_e(customRules,tt);return Object.keys(availableModifiers).forEach(function(rt){Object.defineProperty(nt,rt,{get:function(){var it=proxylessContext(nt._clone());return it._applyModifier(availableModifiers[rt],rt)}})}),nt}var availableModifiers={not:{simple:function(et){return function(_e){return!et(_e)}},async:function(et){return function(_e){return Promise.resolve(et(_e)).then(function(tt){return!tt}).catch(function(){return!0})}}},some:{simple:function(et){return function(_e){return split$1(_e).some(function(tt){try{return et(tt)}catch{return!1}})}},async:function(et){return function(_e){return Promise.all(split$1(_e).map(function(tt){try{return et(tt).catch(function(){return!1})}catch{return!1}})).then(function(tt){return tt.some(Boolean)})}}},every:{simple:function(et){return function(_e){return _e!==!1&&split$1(_e).every(et)}},async:function(et){return function(_e){return Promise.all(split$1(_e).map(et)).then(function(tt){return tt.every(Boolean)})}}},strict:{simple:function(et,_e){return function(tt){return isSchemaRule(_e)&&tt&&typeof tt=="object"?Object.keys(_e.args[0]).length===Object.keys(tt).length&&et(tt):et(tt)}},async:function(et,_e){return function(tt){return Promise.resolve(et(tt)).then(function(nt){return isSchemaRule(_e)&&tt&&typeof tt=="object"?Object.keys(_e.args[0]).length===Object.keys(tt).length&&nt:nt}).catch(function(){return!1})}}}};function isSchemaRule(et){return et&&et.name==="schema"&&et.args.length>0&&typeof et.args[0]=="object"}function split$1(et){return typeof et=="string"?et.split(""):et}var availableRules={equal:function(et){return function(_e){return _e==et}},exact:function(et){return function(_e){return _e===et}},number:function(et){return et===void 0&&(et=!0),function(_e){return typeof _e=="number"&&(et||isFinite(_e))}},integer:function(){return function(et){var _e=Number.isInteger||isIntegerPolyfill;return _e(et)}},numeric:function(){return function(et){return!isNaN(parseFloat(et))&&isFinite(et)}},string:function(){return testType("string")},boolean:function(){return testType("boolean")},undefined:function(){return testType("undefined")},null:function(){return testType("null")},array:function(){return testType("array")},object:function(){return testType("object")},instanceOf:function(et){return function(_e){return _e instanceof et}},pattern:function(et){return function(_e){return et.test(_e)}},lowercase:function(){return function(et){return typeof et=="boolean"||et===et.toLowerCase()&&et.trim()!==""}},uppercase:function(){return function(et){return et===et.toUpperCase()&&et.trim()!==""}},vowel:function(){return function(et){return/^[aeiou]+$/i.test(et)}},consonant:function(){return function(et){return/^(?=[^aeiou])([a-z]+)$/i.test(et)}},first:function(et){return function(_e){return _e[0]==et}},last:function(et){return function(_e){return _e[_e.length-1]==et}},empty:function(){return function(et){return et.length===0}},length:function(et,_e){return function(tt){return tt.length>=et&&tt.length<=(_e||et)}},minLength:function(et){return function(_e){return _e.length>=et}},maxLength:function(et){return function(_e){return _e.length<=et}},negative:function(){return function(et){return et<0}},positive:function(){return function(et){return et>=0}},between:function(et,_e){return function(tt){return tt>=et&&tt<=_e}},range:function(et,_e){return function(tt){return tt>=et&&tt<=_e}},lessThan:function(et){return function(_e){return _e<et}},lessThanOrEqual:function(et){return function(_e){return _e<=et}},greaterThan:function(et){return function(_e){return _e>et}},greaterThanOrEqual:function(et){return function(_e){return _e>=et}},even:function(){return function(et){return et%2===0}},odd:function(){return function(et){return et%2!==0}},includes:function(et){return function(_e){return~_e.indexOf(et)}},schema:function(et){return testSchema(et)},passesAnyOf:function(){for(var et=[],_e=arguments.length;_e--;)et[_e]=arguments[_e];return function(tt){return et.some(function(nt){return nt.test(tt)})}},optional};function testType(et){return function(_e){return Array.isArray(_e)&&et==="array"||_e===null&&et==="null"||typeof _e===et}}function isIntegerPolyfill(et){return typeof et=="number"&&isFinite(et)&&Math.floor(et)===et}function testSchema(et){return{simple:function(_e){var tt=[];if(Object.keys(et).forEach(function(nt){var rt=et[nt];try{rt.check((_e||{})[nt])}catch(it){it.target=nt,tt.push(it)}}),tt.length>0)throw tt;return!0},async:function(_e){var tt=[],nt=Object.keys(et).map(function(rt){var it=et[rt];return it.testAsync((_e||{})[rt]).catch(function(st){st.target=rt,tt.push(st)})});return Promise.all(nt).then(function(){if(tt.length>0)throw tt;return!0})}}}var e$3="colors",t$4="sizes",r$4="space",n$3={gap:r$4,gridGap:r$4,columnGap:r$4,gridColumnGap:r$4,rowGap:r$4,gridRowGap:r$4,inset:r$4,insetBlock:r$4,insetBlockEnd:r$4,insetBlockStart:r$4,insetInline:r$4,insetInlineEnd:r$4,insetInlineStart:r$4,margin:r$4,marginTop:r$4,marginRight:r$4,marginBottom:r$4,marginLeft:r$4,marginBlock:r$4,marginBlockEnd:r$4,marginBlockStart:r$4,marginInline:r$4,marginInlineEnd:r$4,marginInlineStart:r$4,padding:r$4,paddingTop:r$4,paddingRight:r$4,paddingBottom:r$4,paddingLeft:r$4,paddingBlock:r$4,paddingBlockEnd:r$4,paddingBlockStart:r$4,paddingInline:r$4,paddingInlineEnd:r$4,paddingInlineStart:r$4,top:r$4,right:r$4,bottom:r$4,left:r$4,scrollMargin:r$4,scrollMarginTop:r$4,scrollMarginRight:r$4,scrollMarginBottom:r$4,scrollMarginLeft:r$4,scrollMarginX:r$4,scrollMarginY:r$4,scrollMarginBlock:r$4,scrollMarginBlockEnd:r$4,scrollMarginBlockStart:r$4,scrollMarginInline:r$4,scrollMarginInlineEnd:r$4,scrollMarginInlineStart:r$4,scrollPadding:r$4,scrollPaddingTop:r$4,scrollPaddingRight:r$4,scrollPaddingBottom:r$4,scrollPaddingLeft:r$4,scrollPaddingX:r$4,scrollPaddingY:r$4,scrollPaddingBlock:r$4,scrollPaddingBlockEnd:r$4,scrollPaddingBlockStart:r$4,scrollPaddingInline:r$4,scrollPaddingInlineEnd:r$4,scrollPaddingInlineStart:r$4,fontSize:"fontSizes",background:e$3,backgroundColor:e$3,backgroundImage:e$3,borderImage:e$3,border:e$3,borderBlock:e$3,borderBlockEnd:e$3,borderBlockStart:e$3,borderBottom:e$3,borderBottomColor:e$3,borderColor:e$3,borderInline:e$3,borderInlineEnd:e$3,borderInlineStart:e$3,borderLeft:e$3,borderLeftColor:e$3,borderRight:e$3,borderRightColor:e$3,borderTop:e$3,borderTopColor:e$3,caretColor:e$3,color:e$3,columnRuleColor:e$3,fill:e$3,outline:e$3,outlineColor:e$3,stroke:e$3,textDecorationColor:e$3,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t$4,minBlockSize:t$4,maxBlockSize:t$4,inlineSize:t$4,minInlineSize:t$4,maxInlineSize:t$4,width:t$4,minWidth:t$4,maxWidth:t$4,height:t$4,minHeight:t$4,maxHeight:t$4,flexBasis:t$4,gridTemplateColumns:t$4,gridTemplateRows:t$4,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i$4=(et,_e)=>typeof _e=="function"?{"()":Function.prototype.toString.call(_e)}:_e,o$4=()=>{const et=Object.create(null);return(_e,tt,...nt)=>{const rt=(it=>JSON.stringify(it,i$4))(_e);return rt in et?et[rt]:et[rt]=tt(_e,...nt)}},l$3=Symbol.for("sxs.internal"),s$3=(et,_e)=>Object.defineProperties(et,Object.getOwnPropertyDescriptors(_e)),a$2=et=>{for(const _e in et)return!0;return!1},{hasOwnProperty:c$4}=Object.prototype,d$3=et=>et.includes("-")?et:et.replace(/[A-Z]/g,_e=>"-"+_e.toLowerCase()),g$3=/\s+(?![^()]*\))/,p$4=et=>_e=>et(...typeof _e=="string"?String(_e).split(g$3):[_e]),u$3={appearance:et=>({WebkitAppearance:et,appearance:et}),backfaceVisibility:et=>({WebkitBackfaceVisibility:et,backfaceVisibility:et}),backdropFilter:et=>({WebkitBackdropFilter:et,backdropFilter:et}),backgroundClip:et=>({WebkitBackgroundClip:et,backgroundClip:et}),boxDecorationBreak:et=>({WebkitBoxDecorationBreak:et,boxDecorationBreak:et}),clipPath:et=>({WebkitClipPath:et,clipPath:et}),content:et=>({content:et.includes('"')||et.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(et)?et:`"${et}"`}),hyphens:et=>({WebkitHyphens:et,hyphens:et}),maskImage:et=>({WebkitMaskImage:et,maskImage:et}),maskSize:et=>({WebkitMaskSize:et,maskSize:et}),tabSize:et=>({MozTabSize:et,tabSize:et}),textSizeAdjust:et=>({WebkitTextSizeAdjust:et,textSizeAdjust:et}),userSelect:et=>({WebkitUserSelect:et,userSelect:et}),marginBlock:p$4((et,_e)=>({marginBlockStart:et,marginBlockEnd:_e||et})),marginInline:p$4((et,_e)=>({marginInlineStart:et,marginInlineEnd:_e||et})),maxSize:p$4((et,_e)=>({maxBlockSize:et,maxInlineSize:_e||et})),minSize:p$4((et,_e)=>({minBlockSize:et,minInlineSize:_e||et})),paddingBlock:p$4((et,_e)=>({paddingBlockStart:et,paddingBlockEnd:_e||et})),paddingInline:p$4((et,_e)=>({paddingInlineStart:et,paddingInlineEnd:_e||et}))},h$3=/([\d.]+)([^]*)/,f$3=(et,_e)=>et.length?et.reduce((tt,nt)=>(tt.push(..._e.map(rt=>rt.includes("&")?rt.replace(/&/g,/[ +>|~]/.test(nt)&&/&.*&/.test(rt)?`:is(${nt})`:nt):nt+" "+rt)),tt),[]):_e,m$3=(et,_e)=>et in b$3&&typeof _e=="string"?_e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(tt,nt,rt,it)=>nt+(rt==="stretch"?`-moz-available${it};${d$3(et)}:${nt}-webkit-fill-available`:`-moz-fit-content${it};${d$3(et)}:${nt}fit-content`)+it):String(_e),b$3={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S$2=et=>et?et+"-":"",k$3=(et,_e,tt)=>et.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(nt,rt,it,st,ot)=>st=="$"==!!it?nt:(rt||st=="--"?"calc(":"")+"var(--"+(st==="$"?S$2(_e)+(ot.includes("$")?"":S$2(tt))+ot.replace(/\$/g,"-"):ot)+")"+(rt||st=="--"?"*"+(rt||"")+(it||"1")+")":"")),y$3=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$$2=(et,_e,tt,nt,rt)=>{let it,st,ot;const at=(lt,ct,ut)=>{let ft,ht;const pt=gt=>{for(ft in gt){const xt=ft.charCodeAt(0)===64,_t=xt&&Array.isArray(gt[ft])?gt[ft]:[gt[ft]];for(ht of _t){const bt=/[A-Z]/.test(vt=ft)?vt:vt.replace(/-[^]/g,Mt=>Mt[1].toUpperCase()),At=typeof ht=="object"&&ht&&ht.toString===B&&(!nt.utils[bt]||!ct.length);if(bt in nt.utils&&!At){const Mt=nt.utils[bt];if(Mt!==st){st=Mt,pt(Mt(ht)),st=null;continue}}else if(bt in u$3){const Mt=u$3[bt];if(Mt!==ot){ot=Mt,pt(Mt(ht)),ot=null;continue}}if(xt&&(dt=ft.slice(1)in nt.media?"@media "+nt.media[ft.slice(1)]:ft,ft=dt.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(Mt,Tt,St,Ct,Et,Rt)=>{const It=h$3.test(Tt),Ot=.0625*(It?-1:1),[kt,$t]=It?[Ct,Tt]:[Tt,Ct];return"("+(St[0]==="="?"":St[0]===">"===It?"max-":"min-")+kt+":"+(St[0]!=="="&&St.length===1?$t.replace(h$3,(jt,Ht,Bt)=>Number(Ht)+Ot*(St===">"?1:-1)+Bt):$t)+(Et?") and ("+(Et[0]===">"?"min-":"max-")+kt+":"+(Et.length===1?Rt.replace(h$3,(jt,Ht,Bt)=>Number(Ht)+Ot*(Et===">"?-1:1)+Bt):Rt):"")+")"})),At){const Mt=xt?ut.concat(ft):[...ut],Tt=xt?[...ct]:f$3(ct,ft.split(y$3));it!==void 0&&rt(x$2(...it)),it=void 0,at(ht,Tt,Mt)}else it===void 0&&(it=[[],ct,ut]),ft=xt||ft.charCodeAt(0)!==36?ft:`--${S$2(nt.prefix)}${ft.slice(1).replace(/\$/g,"-")}`,ht=At?ht:typeof ht=="number"?ht&&bt in I$2?String(ht)+"px":String(ht):k$3(m$3(bt,ht==null?"":ht),nt.prefix,nt.themeMap[bt]),it[0].push(`${xt?`${ft} `:`${d$3(ft)}:`}${ht}`)}}var dt,vt};pt(lt),it!==void 0&&rt(x$2(...it)),it=void 0};at(et,_e,tt)},x$2=(et,_e,tt)=>`${tt.map(nt=>`${nt}{`).join("")}${_e.length?`${_e.join(",")}{`:""}${et.join(";")}${_e.length?"}":""}${Array(tt.length?tt.length+1:0).join("}")}`,I$2={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=et=>String.fromCharCode(et+(et>25?39:97)),z=et=>(_e=>{let tt,nt="";for(tt=Math.abs(_e);tt>52;tt=tt/52|0)nt=R(tt%52)+nt;return R(tt%52)+nt})(((_e,tt)=>{let nt=tt.length;for(;nt;)_e=33*_e^tt.charCodeAt(--nt);return _e})(5381,JSON.stringify(et))>>>0),W=["themed","global","styled","onevar","resonevar","allvar","inline"],j$1=et=>{if(et.href&&!et.href.startsWith(location.origin))return!1;try{return!!et.cssRules}catch{return!1}},E$1=et=>{let _e;const tt=()=>{const{cssRules:rt}=_e.sheet;return[].map.call(rt,(it,st)=>{const{cssText:ot}=it;let at="";if(ot.startsWith("--sxs"))return"";if(rt[st-1]&&(at=rt[st-1].cssText).startsWith("--sxs")){if(!it.cssRules.length)return"";for(const lt in _e.rules)if(_e.rules[lt].group===it)return`--sxs{--sxs:${[..._e.rules[lt].cache].join(" ")}}${ot}`;return it.cssRules.length?`${at}${ot}`:""}return ot}).join("")},nt=()=>{if(_e){const{rules:ot,sheet:at}=_e;if(!at.deleteRule){for(;Object(Object(at.cssRules)[0]).type===3;)at.cssRules.splice(0,1);at.cssRules=[]}for(const lt in ot)delete ot[lt]}const rt=Object(et).styleSheets||[];for(const ot of rt)if(j$1(ot)){for(let at=0,lt=ot.cssRules;lt[at];++at){const ct=Object(lt[at]);if(ct.type!==1)continue;const ut=Object(lt[at+1]);if(ut.type!==4)continue;++at;const{cssText:ft}=ct;if(!ft.startsWith("--sxs"))continue;const ht=ft.slice(14,-3).trim().split(/\s+/),pt=W[ht[0]];pt&&(_e||(_e={sheet:ot,reset:nt,rules:{},toString:tt}),_e.rules[pt]={group:ut,index:at,cache:new Set(ht)})}if(_e)break}if(!_e){const ot=(at,lt)=>({type:lt,cssRules:[],insertRule(ct,ut){this.cssRules.splice(ut,0,ot(ct,{import:3,undefined:1}[(ct.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return at==="@media{}"?`@media{${[].map.call(this.cssRules,ct=>ct.cssText).join("")}}`:at}});_e={sheet:et?(et.head||et).appendChild(document.createElement("style")).sheet:ot("","text/css"),rules:{},reset:nt,toString:tt}}const{sheet:it,rules:st}=_e;for(let ot=W.length-1;ot>=0;--ot){const at=W[ot];if(!st[at]){const lt=W[ot+1],ct=st[lt]?st[lt].index:it.cssRules.length;it.insertRule("@media{}",ct),it.insertRule(`--sxs{--sxs:${ot}}`,ct),st[at]={group:it.cssRules[ct+1],index:ct,cache:new Set([ot])}}v$3(st[at])}};return nt(),_e},v$3=et=>{const _e=et.group;let tt=_e.cssRules.length;et.apply=nt=>{try{_e.insertRule(nt,tt),++tt}catch{}}},T$1=Symbol(),w$2=o$4(),M$1=(et,_e)=>w$2(et,()=>(...tt)=>{let nt={type:null,composers:new Set};for(const rt of tt)if(rt!=null)if(rt[l$3]){nt.type==null&&(nt.type=rt[l$3].type);for(const it of rt[l$3].composers)nt.composers.add(it)}else rt.constructor!==Object||rt.$$typeof?nt.type==null&&(nt.type=rt):nt.composers.add(C(rt,et));return nt.type==null&&(nt.type="span"),nt.composers.size||nt.composers.add(["PJLV",{},[],[],{},[]]),P(et,nt,_e)}),C=({variants:et,compoundVariants:_e,defaultVariants:tt,...nt},rt)=>{const it=`${S$2(rt.prefix)}c-${z(nt)}`,st=[],ot=[],at=Object.create(null),lt=[];for(const ft in tt)at[ft]=String(tt[ft]);if(typeof et=="object"&&et)for(const ft in et){ct=at,ut=ft,c$4.call(ct,ut)||(at[ft]="undefined");const ht=et[ft];for(const pt in ht){const gt={[ft]:String(pt)};String(pt)==="undefined"&&lt.push(ft);const dt=ht[pt],vt=[gt,dt,!a$2(dt)];st.push(vt)}}var ct,ut;if(typeof _e=="object"&&_e)for(const ft of _e){let{css:ht,...pt}=ft;ht=typeof ht=="object"&&ht||{};for(const dt in pt)pt[dt]=String(pt[dt]);const gt=[pt,ht,!a$2(ht)];ot.push(gt)}return[it,nt,st,ot,at,lt]},P=(et,_e,tt)=>{const[nt,rt,it,st]=L$1(_e.composers),ot=typeof _e.type=="function"||_e.type.$$typeof?(ut=>{function ft(){for(let ht=0;ht<ft[T$1].length;ht++){const[pt,gt]=ft[T$1][ht];ut.rules[pt].apply(gt)}return ft[T$1]=[],null}return ft[T$1]=[],ft.rules={},W.forEach(ht=>ft.rules[ht]={apply:pt=>ft[T$1].push([ht,pt])}),ft})(tt):null,at=(ot||tt).rules,lt=`.${nt}${rt.length>1?`:where(.${rt.slice(1).join(".")})`:""}`,ct=ut=>{ut=typeof ut=="object"&&ut||A;const{css:ft,...ht}=ut,pt={};for(const vt in it)if(delete ht[vt],vt in ut){let xt=ut[vt];typeof xt=="object"&&xt?pt[vt]={"@initial":it[vt],...xt}:(xt=String(xt),pt[vt]=xt!=="undefined"||st.has(vt)?xt:it[vt])}else pt[vt]=it[vt];const gt=new Set([...rt]);for(const[vt,xt,_t,bt]of _e.composers){tt.rules.styled.cache.has(vt)||(tt.rules.styled.cache.add(vt),$$2(xt,[`.${vt}`],[],et,Tt=>{at.styled.apply(Tt)}));const At=O(_t,pt,et.media),Mt=O(bt,pt,et.media,!0);for(const Tt of At)if(Tt!==void 0)for(const[St,Ct,Et]of Tt){const Rt=`${vt}-${z(Ct)}-${St}`;gt.add(Rt);const It=(Et?tt.rules.resonevar:tt.rules.onevar).cache,Ot=Et?at.resonevar:at.onevar;It.has(Rt)||(It.add(Rt),$$2(Ct,[`.${Rt}`],[],et,kt=>{Ot.apply(kt)}))}for(const Tt of Mt)if(Tt!==void 0)for(const[St,Ct]of Tt){const Et=`${vt}-${z(Ct)}-${St}`;gt.add(Et),tt.rules.allvar.cache.has(Et)||(tt.rules.allvar.cache.add(Et),$$2(Ct,[`.${Et}`],[],et,Rt=>{at.allvar.apply(Rt)}))}}if(typeof ft=="object"&&ft){const vt=`${nt}-i${z(ft)}-css`;gt.add(vt),tt.rules.inline.cache.has(vt)||(tt.rules.inline.cache.add(vt),$$2(ft,[`.${vt}`],[],et,xt=>{at.inline.apply(xt)}))}for(const vt of String(ut.className||"").trim().split(/\s+/))vt&&gt.add(vt);const dt=ht.className=[...gt].join(" ");return{type:_e.type,className:dt,selector:lt,props:ht,toString:()=>dt,deferredInjector:ot}};return s$3(ct,{className:nt,selector:lt,[l$3]:_e,toString:()=>(tt.rules.styled.cache.has(nt)||ct(),nt)})},L$1=et=>{let _e="";const tt=[],nt={},rt=[];for(const[it,,,,st,ot]of et){_e===""&&(_e=it),tt.push(it),rt.push(...ot);for(const at in st){const lt=st[at];(nt[at]===void 0||lt!=="undefined"||ot.includes(lt))&&(nt[at]=lt)}}return[_e,tt,nt,new Set(rt)]},O=(et,_e,tt,nt)=>{const rt=[];e:for(let[it,st,ot]of et){if(ot)continue;let at,lt=0,ct=!1;for(at in it){const ut=it[at];let ft=_e[at];if(ft!==ut){if(typeof ft!="object"||!ft)continue e;{let ht,pt,gt=0;for(const dt in ft){if(ut===String(ft[dt])){if(dt!=="@initial"){const vt=dt.slice(1);(pt=pt||[]).push(vt in tt?tt[vt]:dt.replace(/^@media ?/,"")),ct=!0}lt+=gt,ht=!0}++gt}if(pt&&pt.length&&(st={["@media "+pt.join(", ")]:st}),!ht)continue e}}}(rt[lt]=rt[lt]||[]).push([nt?"cv":`${at}-${it[at]}`,st,ct])}return rt},A={},N$1=o$4(),D=(et,_e)=>N$1(et,()=>(...tt)=>{const nt=()=>{for(let rt of tt){rt=typeof rt=="object"&&rt||{};let it=z(rt);if(!_e.rules.global.cache.has(it)){if(_e.rules.global.cache.add(it),"@import"in rt){let st=[].indexOf.call(_e.sheet.cssRules,_e.rules.themed.group)-1;for(let ot of[].concat(rt["@import"]))ot=ot.includes('"')||ot.includes("'")?ot:`"${ot}"`,_e.sheet.insertRule(`@import ${ot};`,st++);delete rt["@import"]}$$2(rt,[],[],et,st=>{_e.rules.global.apply(st)})}}return""};return s$3(nt,{toString:nt})}),H$1=o$4(),V$1=(et,_e)=>H$1(et,()=>tt=>{const nt=`${S$2(et.prefix)}k-${z(tt)}`,rt=()=>{if(!_e.rules.global.cache.has(nt)){_e.rules.global.cache.add(nt);const it=[];$$2(tt,[],[],et,ot=>it.push(ot));const st=`@keyframes ${nt}{${it.join("")}}`;_e.rules.global.apply(st)}return nt};return s$3(rt,{get name(){return rt()},toString:rt})}),G=class{constructor(et,_e,tt,nt){this.token=et==null?"":String(et),this.value=_e==null?"":String(_e),this.scale=tt==null?"":String(tt),this.prefix=nt==null?"":String(nt)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S$2(this.prefix)+S$2(this.scale)+this.token}toString(){return this.computedValue}},F$1=o$4(),J$1=(et,_e)=>F$1(et,()=>(tt,nt)=>{nt=typeof tt=="object"&&tt||Object(nt);const rt=`.${tt=(tt=typeof tt=="string"?tt:"")||`${S$2(et.prefix)}t-${z(nt)}`}`,it={},st=[];for(const at in nt){it[at]={};for(const lt in nt[at]){const ct=`--${S$2(et.prefix)}${at}-${lt}`,ut=k$3(String(nt[at][lt]),et.prefix,at);it[at][lt]=new G(lt,ut,at,et.prefix),st.push(`${ct}:${ut}`)}}const ot=()=>{if(st.length&&!_e.rules.themed.cache.has(tt)){_e.rules.themed.cache.add(tt);const at=`${nt===et.theme?":root,":""}.${tt}{${st.join(";")}}`;_e.rules.themed.apply(at)}return tt};return{...it,get className(){return ot()},selector:rt,toString:ot}}),U$1=o$4(),Y$1=o$4(),q$1=et=>{const _e=(tt=>{let nt=!1;const rt=U$1(tt,it=>{nt=!0;const st="prefix"in(it=typeof it=="object"&&it||{})?String(it.prefix):"",ot=typeof it.media=="object"&&it.media||{},at=typeof it.root=="object"?it.root||null:globalThis.document||null,lt=typeof it.theme=="object"&&it.theme||{},ct={prefix:st,media:ot,theme:lt,themeMap:typeof it.themeMap=="object"&&it.themeMap||{...n$3},utils:typeof it.utils=="object"&&it.utils||{}},ut=E$1(at),ft={css:M$1(ct,ut),globalCss:D(ct,ut),keyframes:V$1(ct,ut),createTheme:J$1(ct,ut),reset(){ut.reset(),ft.theme.toString()},theme:{},sheet:ut,config:ct,prefix:st,getCssText:ut.toString,toString:ut.toString};return String(ft.theme=ft.createTheme(lt)),ft});return nt||rt.reset(),rt})(et);return _e.styled=(({config:tt,sheet:nt})=>Y$1(tt,()=>{const rt=M$1(tt,nt);return(...it)=>{const st=rt(...it),ot=st[l$3].type,at=React.forwardRef((lt,ct)=>{const ut=lt&&lt.as||ot,{props:ft,deferredInjector:ht}=st(lt);return delete ft.as,ft.ref=ct,ht?React.createElement(React.Fragment,null,React.createElement(ut,ft),React.createElement(ht,null)):React.createElement(ut,ft)});return at.className=st.className,at.displayName=`Styled.${ot.displayName||ot.name||ot}`,at.selector=st.selector,at.toString=()=>st.selector,at[l$3]=st[l$3],at}}))(_e),_e};const useLayoutEffect$2=Boolean(globalThis==null?void 0:globalThis.document)?react.exports.useLayoutEffect:()=>{},r$3=t$5["useId".toString()]||(()=>{});let i$3=0;function useId(et){const[_e,tt]=react.exports.useState(r$3());return useLayoutEffect$2(()=>{et||tt(nt=>nt!=null?nt:String(i$3++))},[et]),et||(_e?`radix-${_e}`:"")}function composeRefs$1(...et){return _e=>et.forEach(tt=>function(nt,rt){typeof nt=="function"?nt(rt):nt!=null&&(nt.current=rt)}(tt,_e))}function useComposedRefs$1(...et){return react.exports.useCallback(composeRefs$1(...et),et)}const Slot=react.exports.forwardRef((et,_e)=>{const{children:tt,...nt}=et;return react.exports.Children.toArray(tt).some(l$2)?react.exports.createElement(react.exports.Fragment,null,react.exports.Children.map(tt,rt=>l$2(rt)?react.exports.createElement(n$2,_extends({},nt,{ref:_e}),rt.props.children):rt)):react.exports.createElement(n$2,_extends({},nt,{ref:_e}),tt)});Slot.displayName="Slot";const n$2=react.exports.forwardRef((et,_e)=>{const{children:tt,...nt}=et;return react.exports.isValidElement(tt)?react.exports.cloneElement(tt,{...o$3(nt,tt.props),ref:composeRefs$1(_e,tt.ref)}):react.exports.Children.count(tt)>1?react.exports.Children.only(null):null});n$2.displayName="SlotClone";const Slottable=({children:et})=>react.exports.createElement(react.exports.Fragment,null,et);function l$2(et){return react.exports.isValidElement(et)&&et.type===Slottable}function o$3(et,_e){const tt={..._e};for(const nt in _e){const rt=et[nt],it=_e[nt];/^on[A-Z]/.test(nt)?tt[nt]=(...st)=>{it==null||it(...st),rt==null||rt(...st)}:nt==="style"?tt[nt]={...rt,...it}:nt==="className"&&(tt[nt]=[rt,it].filter(Boolean).join(" "))}return{...et,...tt}}const Primitive=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((et,_e)=>({...et,[_e]:react.exports.forwardRef((tt,nt)=>{const{asChild:rt,...it}=tt,st=rt?Slot:_e;return react.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),tt.as&&console.error(o$2),react.exports.createElement(st,_extends({},it,{ref:nt}))})}),{}),o$2="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",VisuallyHidden=react.exports.forwardRef((et,_e)=>react.exports.createElement(Primitive.span,_extends({},et,{ref:_e,style:{...et.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),Root$3=VisuallyHidden,useLayoutEffect$1=Boolean(globalThis==null?void 0:globalThis.document)?react.exports.useLayoutEffect:()=>{},Portal$1=react.exports.forwardRef((et,_e)=>{var tt,nt;const{containerRef:rt,style:it,...st}=et,ot=(tt=rt==null?void 0:rt.current)!==null&&tt!==void 0?tt:globalThis==null||(nt=globalThis.document)===null||nt===void 0?void 0:nt.body,[,at]=react.exports.useState({});return useLayoutEffect$1(()=>{at({})},[]),ot?ReactDOM.createPortal(react.exports.createElement(Primitive.div,_extends({"data-radix-portal":""},st,{ref:_e,style:ot===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...it}:void 0})),ot):null}),Arrow$2=react.exports.forwardRef((et,_e)=>{const{children:tt,width:nt=10,height:rt=5,...it}=et;return react.exports.createElement(Primitive.svg,_extends({},it,{ref:_e,width:nt,height:rt,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),et.asChild?tt:react.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Root$2=Arrow$2;function useSize(et){const[_e,tt]=react.exports.useState(void 0);return react.exports.useEffect(()=>{if(et){const nt=new ResizeObserver(rt=>{if(!Array.isArray(rt)||!rt.length)return;const it=rt[0];let st,ot;if("borderBoxSize"in it){const at=it.borderBoxSize,lt=Array.isArray(at)?at[0]:at;st=lt.inlineSize,ot=lt.blockSize}else{const at=et.getBoundingClientRect();st=at.width,ot=at.height}tt({width:st,height:ot})});return nt.observe(et,{box:"border-box"}),()=>{tt(void 0),nt.unobserve(et)}}},[et]),_e}function observeElementRect(et,_e){const tt=e$2.get(et);return tt===void 0?(e$2.set(et,{rect:{},callbacks:[_e]}),e$2.size===1&&(t$3=requestAnimationFrame(c$3))):(tt.callbacks.push(_e),_e(et.getBoundingClientRect())),()=>{const nt=e$2.get(et);if(nt===void 0)return;const rt=nt.callbacks.indexOf(_e);rt>-1&&nt.callbacks.splice(rt,1),nt.callbacks.length===0&&(e$2.delete(et),e$2.size===0&&cancelAnimationFrame(t$3))}}let t$3;const e$2=new Map;function c$3(){const et=[];e$2.forEach((_e,tt)=>{const nt=tt.getBoundingClientRect();var rt,it;rt=_e.rect,it=nt,(rt.width!==it.width||rt.height!==it.height||rt.top!==it.top||rt.right!==it.right||rt.bottom!==it.bottom||rt.left!==it.left)&&(_e.rect=nt,et.push(_e))}),et.forEach(_e=>{_e.callbacks.forEach(tt=>tt(_e.rect))}),t$3=requestAnimationFrame(c$3)}function useRect(et){const[_e,tt]=react.exports.useState();return react.exports.useEffect(()=>{if(et){const nt=observeElementRect(et,tt);return()=>{tt(void 0),nt()}}},[et]),_e}function createContextScope(et,_e=[]){let tt=[];const nt=()=>{const rt=tt.map(it=>react.exports.createContext(it));return function(it){const st=(it==null?void 0:it[et])||rt;return react.exports.useMemo(()=>({[`__scope${et}`]:{...it,[et]:st}}),[it,st])}};return nt.scopeName=et,[function(rt,it){const st=react.exports.createContext(it),ot=tt.length;function at(lt){const{scope:ct,children:ut,...ft}=lt,ht=(ct==null?void 0:ct[et][ot])||st,pt=react.exports.useMemo(()=>ft,Object.values(ft));return react.exports.createElement(ht.Provider,{value:pt},ut)}return tt=[...tt,it],at.displayName=rt+"Provider",[at,function(lt,ct){const ut=(ct==null?void 0:ct[et][ot])||st,ft=react.exports.useContext(ut);if(ft)return ft;if(it!==void 0)return it;throw new Error(`\`${lt}\` must be used within \`${rt}\``)}]},t$2(nt,..._e)]}function t$2(...et){const _e=et[0];if(et.length===1)return _e;const tt=()=>{const nt=et.map(rt=>({useScope:rt(),scopeName:rt.scopeName}));return function(rt){const it=nt.reduce((st,{useScope:ot,scopeName:at})=>({...st,...ot(rt)[`__scope${at}`]}),{});return react.exports.useMemo(()=>({[`__scope${_e.scopeName}`]:it}),[it])}};return tt.scopeName=_e.scopeName,tt}function getPlacementData({anchorRect:et,popperSize:_e,arrowSize:tt,arrowOffset:nt=0,side:rt,sideOffset:it=0,align:st,alignOffset:ot=0,shouldAvoidCollisions:at=!0,collisionBoundariesRect:lt,collisionTolerance:ct=0}){if(!et||!_e||!lt)return{popperStyles:o$1,arrowStyles:n$1};const ut=function(Tt,St,Ct=0,Et=0,Rt){const It=Rt?Rt.height:0,Ot=t$1(St,Tt,"x"),kt=t$1(St,Tt,"y"),$t=kt.before-Ct-It,jt=kt.after+Ct+It,Ht=Ot.before-Ct-It,Bt=Ot.after+Ct+It;return{top:{start:{x:Ot.start+Et,y:$t},center:{x:Ot.center,y:$t},end:{x:Ot.end-Et,y:$t}},right:{start:{x:Bt,y:kt.start+Et},center:{x:Bt,y:kt.center},end:{x:Bt,y:kt.end-Et}},bottom:{start:{x:Ot.start+Et,y:jt},center:{x:Ot.center,y:jt},end:{x:Ot.end-Et,y:jt}},left:{start:{x:Ht,y:kt.start+Et},center:{x:Ht,y:kt.center},end:{x:Ht,y:kt.end-Et}}}}(_e,et,it,ot,tt),ft=ut[rt][st];if(at===!1){const Tt=e$1(ft);let St=n$1;return tt&&(St=i$2({popperSize:_e,arrowSize:tt,arrowOffset:nt,side:rt,align:st})),{popperStyles:{...Tt,"--radix-popper-transform-origin":r$2(_e,rt,st,nt,tt)},arrowStyles:St,placedSide:rt,placedAlign:st}}const ht=DOMRect.fromRect({..._e,...ft}),pt=(gt=lt,dt=ct,DOMRect.fromRect({width:gt.width-2*dt,height:gt.height-2*dt,x:gt.left+dt,y:gt.top+dt}));var gt,dt;const vt=s$2(ht,pt),xt=ut[a$1(rt)][st],_t=function(Tt,St,Ct){const Et=a$1(Tt);return St[Tt]&&!Ct[Et]?Et:Tt}(rt,vt,s$2(DOMRect.fromRect({..._e,...xt}),pt)),bt=function(Tt,St,Ct,Et,Rt){const It=Ct==="top"||Ct==="bottom",Ot=It?"left":"top",kt=It?"right":"bottom",$t=It?"width":"height",jt=St[$t]>Tt[$t];return(Et==="start"||Et==="center")&&(Rt[Ot]&&jt||Rt[kt]&&!jt)?"end":(Et==="end"||Et==="center")&&(Rt[kt]&&jt||Rt[Ot]&&!jt)?"start":Et}(_e,et,rt,st,vt),At=e$1(ut[_t][bt]);let Mt=n$1;return tt&&(Mt=i$2({popperSize:_e,arrowSize:tt,arrowOffset:nt,side:_t,align:bt})),{popperStyles:{...At,"--radix-popper-transform-origin":r$2(_e,_t,bt,nt,tt)},arrowStyles:Mt,placedSide:_t,placedAlign:bt}}function t$1(et,_e,tt){const nt=et[tt==="x"?"left":"top"],rt=tt==="x"?"width":"height",it=et[rt],st=_e[rt];return{before:nt-st,start:nt,center:nt+(it-st)/2,end:nt+it-st,after:nt+it}}function e$1(et){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(et.x+window.scrollX)}px, ${Math.round(et.y+window.scrollY)}px, 0)`}}function r$2(et,_e,tt,nt,rt){const it=_e==="top"||_e==="bottom",st=rt?rt.width:0,ot=rt?rt.height:0,at=st/2+nt;let lt="",ct="";return it?(lt={start:`${at}px`,center:"center",end:et.width-at+"px"}[tt],ct=_e==="top"?`${et.height+ot}px`:-ot+"px"):(lt=_e==="left"?`${et.width+ot}px`:-ot+"px",ct={start:`${at}px`,center:"center",end:et.height-at+"px"}[tt]),`${lt} ${ct}`}const o$1={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},n$1={position:"absolute",opacity:0};function i$2({popperSize:et,arrowSize:_e,arrowOffset:tt,side:nt,align:rt}){const it=(et.width-_e.width)/2,st=(et.height-_e.width)/2,ot={top:0,right:90,bottom:180,left:-90}[nt],at=Math.max(_e.width,_e.height),lt={width:`${at}px`,height:`${at}px`,transform:`rotate(${ot}deg)`,willChange:"transform",position:"absolute",[nt]:"100%",direction:p$3(nt,rt)};return nt!=="top"&&nt!=="bottom"||(rt==="start"&&(lt.left=`${tt}px`),rt==="center"&&(lt.left=`${it}px`),rt==="end"&&(lt.right=`${tt}px`)),nt!=="left"&&nt!=="right"||(rt==="start"&&(lt.top=`${tt}px`),rt==="center"&&(lt.top=`${st}px`),rt==="end"&&(lt.bottom=`${tt}px`)),lt}function p$3(et,_e){return(et!=="top"&&et!=="right"||_e!=="end")&&(et!=="bottom"&&et!=="left"||_e==="end")?"ltr":"rtl"}function a$1(et){return{top:"bottom",right:"left",bottom:"top",left:"right"}[et]}function s$2(et,_e){return{top:et.top<_e.top,right:et.right>_e.right,bottom:et.bottom>_e.bottom,left:et.left<_e.left}}const[c$2,l$1]=createContextScope("Popper"),[f$2,d$2]=c$2("Popper"),Popper=et=>{const{__scopePopper:_e,children:tt}=et,[nt,rt]=react.exports.useState(null);return react.exports.createElement(f$2,{scope:_e,anchor:nt,onAnchorChange:rt},tt)},PopperAnchor=react.exports.forwardRef((et,_e)=>{const{__scopePopper:tt,virtualRef:nt,...rt}=et,it=d$2("PopperAnchor",tt),st=react.exports.useRef(null),ot=useComposedRefs$1(_e,st);return react.exports.useEffect(()=>{it.onAnchorChange((nt==null?void 0:nt.current)||st.current)}),nt?null:react.exports.createElement(Primitive.div,_extends({},rt,{ref:ot}))}),[u$2,m$2]=c$2("PopperContent"),PopperContent=react.exports.forwardRef((et,_e)=>{const{__scopePopper:tt,side:nt="bottom",sideOffset:rt,align:it="center",alignOffset:st,collisionTolerance:ot,avoidCollisions:at=!0,...lt}=et,ct=d$2("PopperContent",tt),[ut,ft]=react.exports.useState(),ht=useRect(ct.anchor),[pt,gt]=react.exports.useState(null),dt=useSize(pt),[vt,xt]=react.exports.useState(null),_t=useSize(vt),bt=useComposedRefs$1(_e,It=>gt(It)),At=function(){const[It,Ot]=react.exports.useState(void 0);return react.exports.useEffect(()=>{let kt;function $t(){Ot({width:window.innerWidth,height:window.innerHeight})}function jt(){window.clearTimeout(kt),kt=window.setTimeout($t,100)}return $t(),window.addEventListener("resize",jt),()=>window.removeEventListener("resize",jt)},[]),It}(),Mt=At?DOMRect.fromRect({...At,x:0,y:0}):void 0,{popperStyles:Tt,arrowStyles:St,placedSide:Ct,placedAlign:Et}=getPlacementData({anchorRect:ht,popperSize:dt,arrowSize:_t,arrowOffset:ut,side:nt,sideOffset:rt,align:it,alignOffset:st,shouldAvoidCollisions:at,collisionBoundariesRect:Mt,collisionTolerance:ot}),Rt=Ct!==void 0;return react.exports.createElement("div",{style:Tt,"data-radix-popper-content-wrapper":""},react.exports.createElement(u$2,{scope:tt,arrowStyles:St,onArrowChange:xt,onArrowOffsetChange:ft},react.exports.createElement(Primitive.div,_extends({"data-side":Ct,"data-align":Et},lt,{style:{...lt.style,animation:Rt?void 0:"none"},ref:bt}))))}),PopperArrow=react.exports.forwardRef(function(et,_e){const{__scopePopper:tt,offset:nt,...rt}=et,it=m$2("PopperArrow",tt),{onArrowOffsetChange:st}=it;return react.exports.useEffect(()=>st(nt),[st,nt]),react.exports.createElement("span",{style:{...it.arrowStyles,pointerEvents:"none"}},react.exports.createElement("span",{ref:it.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},react.exports.createElement(Root$2,_extends({},rt,{ref:_e,style:{...rt.style,display:"block"}}))))}),Root$1=Popper,Anchor=PopperAnchor,Content$1=PopperContent,Arrow$1=PopperArrow,useLayoutEffect=Boolean(globalThis==null?void 0:globalThis.document)?react.exports.useLayoutEffect:()=>{};function composeRefs(...et){return _e=>et.forEach(tt=>function(nt,rt){typeof nt=="function"?nt(rt):nt!=null&&(nt.current=rt)}(tt,_e))}function useComposedRefs(...et){return react.exports.useCallback(composeRefs(...et),et)}const Presence=et=>{const{present:_e,children:tt}=et,nt=function(st){const[ot,at]=react.exports.useState(),lt=react.exports.useRef({}),ct=react.exports.useRef(st),ut=react.exports.useRef("none"),ft=st?"mounted":"unmounted",[ht,pt]=function(gt,dt){return react.exports.useReducer((vt,xt)=>{const _t=dt[vt][xt];return _t!=null?_t:vt},gt)}(ft,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return react.exports.useEffect(()=>{const gt=r$1(lt.current);ut.current=ht==="mounted"?gt:"none"},[ht]),useLayoutEffect(()=>{const gt=lt.current,dt=ct.current;if(dt!==st){const vt=ut.current,xt=r$1(gt);st?pt("MOUNT"):xt==="none"||(gt==null?void 0:gt.display)==="none"?pt("UNMOUNT"):pt(dt&&vt!==xt?"ANIMATION_OUT":"UNMOUNT"),ct.current=st}},[st,pt]),useLayoutEffect(()=>{if(ot){const gt=vt=>{const xt=r$1(lt.current).includes(vt.animationName);vt.target===ot&&xt&&pt("ANIMATION_END")},dt=vt=>{vt.target===ot&&(ut.current=r$1(lt.current))};return ot.addEventListener("animationstart",dt),ot.addEventListener("animationcancel",gt),ot.addEventListener("animationend",gt),()=>{ot.removeEventListener("animationstart",dt),ot.removeEventListener("animationcancel",gt),ot.removeEventListener("animationend",gt)}}},[ot,pt]),{isPresent:["mounted","unmountSuspended"].includes(ht),ref:react.exports.useCallback(gt=>{gt&&(lt.current=getComputedStyle(gt)),at(gt)},[])}}(_e),rt=typeof tt=="function"?tt({present:nt.isPresent}):react.exports.Children.only(tt),it=useComposedRefs(nt.ref,rt.ref);return typeof tt=="function"||nt.isPresent?react.exports.cloneElement(rt,{ref:it}):null};function r$1(et){return(et==null?void 0:et.animationName)||"none"}Presence.displayName="Presence";function usePrevious(et){const _e=react.exports.useRef(et);return react.exports.useEffect(()=>{_e.current=et},[et]),_e.current}function useCallbackRef$1(et){const _e=react.exports.useRef(et);return react.exports.useEffect(()=>{_e.current=et}),react.exports.useMemo(()=>(...tt)=>{var nt;return(nt=_e.current)===null||nt===void 0?void 0:nt.call(_e,...tt)},[])}function useEscapeKeydown(et){const _e=useCallbackRef$1(et);react.exports.useEffect(()=>{const tt=nt=>{nt.key==="Escape"&&_e(nt)};return document.addEventListener("keydown",tt),()=>document.removeEventListener("keydown",tt)},[_e])}function useCallbackRef(et){const _e=react.exports.useRef(et);return react.exports.useEffect(()=>{_e.current=et}),react.exports.useMemo(()=>(...tt)=>{var nt;return(nt=_e.current)===null||nt===void 0?void 0:nt.call(_e,...tt)},[])}function useControllableState({prop:et,defaultProp:_e,onChange:tt=()=>{}}){const[nt,rt]=function({defaultProp:at,onChange:lt}){const ct=react.exports.useState(at),[ut]=ct,ft=react.exports.useRef(ut),ht=useCallbackRef(lt);return react.exports.useEffect(()=>{ft.current!==ut&&(ht(ut),ft.current=ut)},[ut,ft,ht]),ct}({defaultProp:_e,onChange:tt}),it=et!==void 0,st=it?et:nt,ot=useCallbackRef(tt);return[st,react.exports.useCallback(at=>{if(it){const lt=at,ct=typeof at=="function"?lt(et):at;ct!==et&&ot(ct)}else rt(at)},[it,et,rt,ot])]}function composeEventHandlers$1(et,_e,{checkForDefaultPrevented:tt=!0}={}){return function(nt){if(et==null||et(nt),tt===!1||!nt.defaultPrevented)return _e==null?void 0:_e(nt)}}const[w$1,x$1]=createContextScope("Tooltip",[l$1]),g$2=l$1(),E=700,[v$2,b$2]=w$1("TooltipProvider",{isOpenDelayed:!0,delayDuration:E,onOpen:()=>{},onClose:()=>{}}),[y$2,_]=w$1("Tooltip"),Tooltip=et=>{const{__scopeTooltip:_e,children:tt,open:nt,defaultOpen:rt=!1,onOpenChange:it,delayDuration:st}=et,ot=b$2("Tooltip",_e),at=g$2(_e),[lt,ct]=react.exports.useState(null),ut=useId(),ft=react.exports.useRef(0),ht=st!=null?st:ot.delayDuration,pt=react.exports.useRef(!1),{onOpen:gt,onClose:dt}=ot,[vt=!1,xt]=useControllableState({prop:nt,defaultProp:rt,onChange:Mt=>{Mt&&(document.dispatchEvent(new CustomEvent("tooltip.open")),gt()),it==null||it(Mt)}}),_t=react.exports.useMemo(()=>vt?pt.current?"delayed-open":"instant-open":"closed",[vt]),bt=react.exports.useCallback(()=>{window.clearTimeout(ft.current),pt.current=!1,xt(!0)},[xt]),At=react.exports.useCallback(()=>{window.clearTimeout(ft.current),ft.current=window.setTimeout(()=>{pt.current=!0,xt(!0)},ht)},[ht,xt]);return react.exports.useEffect(()=>()=>window.clearTimeout(ft.current),[]),react.exports.createElement(Root$1,at,react.exports.createElement(y$2,{scope:_e,contentId:ut,open:vt,stateAttribute:_t,trigger:lt,onTriggerChange:ct,onTriggerEnter:react.exports.useCallback(()=>{ot.isOpenDelayed?At():bt()},[ot.isOpenDelayed,At,bt]),onOpen:react.exports.useCallback(bt,[bt]),onClose:react.exports.useCallback(()=>{window.clearTimeout(ft.current),xt(!1),dt()},[xt,dt])},tt))},TooltipTrigger=react.exports.forwardRef((et,_e)=>{const{__scopeTooltip:tt,...nt}=et,rt=_("TooltipTrigger",tt),it=g$2(tt),st=useComposedRefs$1(_e,rt.onTriggerChange),ot=react.exports.useRef(!1),at=react.exports.useCallback(()=>ot.current=!1,[]);return react.exports.useEffect(()=>()=>document.removeEventListener("mouseup",at),[at]),react.exports.createElement(Anchor,_extends({asChild:!0},it),react.exports.createElement(Primitive.button,_extends({"aria-describedby":rt.open?rt.contentId:void 0,"data-state":rt.stateAttribute},nt,{ref:st,onMouseEnter:composeEventHandlers$1(et.onMouseEnter,rt.onTriggerEnter),onMouseLeave:composeEventHandlers$1(et.onMouseLeave,rt.onClose),onMouseDown:composeEventHandlers$1(et.onMouseDown,()=>{rt.onClose(),ot.current=!0,document.addEventListener("mouseup",at,{once:!0})}),onFocus:composeEventHandlers$1(et.onFocus,()=>{ot.current||rt.onOpen()}),onBlur:composeEventHandlers$1(et.onBlur,rt.onClose),onClick:composeEventHandlers$1(et.onClick,rt.onClose)})))}),TooltipContent=react.exports.forwardRef((et,_e)=>{const{forceMount:tt,...nt}=et,rt=_("TooltipContent",et.__scopeTooltip);return react.exports.createElement(Presence,{present:tt||rt.open},react.exports.createElement(h$2,_extends({ref:_e},nt)))}),h$2=react.exports.forwardRef((et,_e)=>{const{__scopeTooltip:tt,children:nt,"aria-label":rt,portalled:it=!0,...st}=et,ot=_("TooltipContent",tt),at=g$2(tt),lt=it?Portal$1:react.exports.Fragment,{onClose:ct}=ot;return useEscapeKeydown(()=>ct()),react.exports.useEffect(()=>(document.addEventListener("tooltip.open",ct),()=>document.removeEventListener("tooltip.open",ct)),[ct]),react.exports.createElement(lt,null,react.exports.createElement(k$2,{__scopeTooltip:tt}),react.exports.createElement(Content$1,_extends({"data-state":ot.stateAttribute},at,st,{ref:_e,style:{...st.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),react.exports.createElement(Slottable,null,nt),react.exports.createElement(Root$3,{id:ot.contentId,role:"tooltip"},rt||nt)))}),TooltipArrow=react.exports.forwardRef((et,_e)=>{const{__scopeTooltip:tt,...nt}=et,rt=g$2(tt);return react.exports.createElement(Arrow$1,_extends({},rt,nt,{ref:_e}))});function k$2(et){const{__scopeTooltip:_e}=et,tt=_("CheckTriggerMoved",_e),nt=useRect(tt.trigger),rt=nt==null?void 0:nt.left,it=usePrevious(rt),st=nt==null?void 0:nt.top,ot=usePrevious(st),at=tt.onClose;return react.exports.useEffect(()=>{(it!==void 0&&it!==rt||ot!==void 0&&ot!==st)&&at()},[at,it,ot,rt,st]),null}const Root=Tooltip,Trigger=TooltipTrigger,Content=TooltipContent,Arrow=TooltipArrow;function _objectWithoutPropertiesLoose$1(et,_e){if(et==null)return{};var tt={},nt=Object.keys(et),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(_e.indexOf(rt)>=0)&&(tt[rt]=et[rt]);return tt}function _objectWithoutProperties$1(et,_e){if(et==null)return{};var tt=_objectWithoutPropertiesLoose$1(et,_e),nt,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(rt=0;rt<it.length;rt++)nt=it[rt],!(_e.indexOf(nt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(et,nt)||(tt[nt]=et[nt]))}return tt}let LevaErrors;(function(et){et[et.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",et[et.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",et[et.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",et[et.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",et[et.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",et[et.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",et[et.THEME_ERROR=6]="THEME_ERROR",et[et.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",et[et.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",et[et.EMPTY_KEY=9]="EMPTY_KEY"})(LevaErrors||(LevaErrors={}));const ErrorList={[LevaErrors.UNSUPPORTED_INPUT]:(et,_e)=>[`An input with type \`${et}\` input was found at path \`${_e}\` but it's not supported yet.`],[LevaErrors.NO_COMPONENT_FOR_TYPE]:(et,_e)=>[`Type \`${et}\` found at path \`${_e}\` can't be displayed in panel because no component supports it yet.`],[LevaErrors.UNKNOWN_INPUT]:(et,_e)=>[`input at path \`${et}\` is not recognized.`,_e],[LevaErrors.DUPLICATE_KEYS]:(et,_e,tt)=>[`Key \`${et}\` of path \`${_e}\` already exists at path \`${tt}\`. Even nested keys need to be unique. Rename one of the keys.`],[LevaErrors.ALREADY_REGISTERED_TYPE]:et=>[`Type ${et} has already been registered. You can't register a component with the same type.`],[LevaErrors.CLIPBOARD_ERROR]:et=>["Error copying the value",et],[LevaErrors.THEME_ERROR]:(et,_e)=>[`Error accessing the theme \`${et}.${_e}\` value.`],[LevaErrors.PATH_DOESNT_EXIST]:et=>[`Error getting the value at path \`${et}\`. There is probably an error in your \`render\` function.`],[LevaErrors.PATH_DOESNT_EXIST]:et=>[`Error accessing the value at path \`${et}\``],[LevaErrors.INPUT_TYPE_OVERRIDE]:(et,_e,tt)=>[`Input at path \`${et}\` already exists with type: \`${_e}\`. Its type cannot be overridden with type \`${tt}\`.`],[LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function _log(et,_e,...tt){const[nt,...rt]=ErrorList[_e](...tt);console[et]("LEVA: "+nt,...rt)}const warn=_log.bind(null,"warn"),log=_log.bind(null,"log"),_excluded$a=["value"],_excluded2$4=["schema"],_excluded3$1=["value"],Schemas=[],Plugins={};function getValueType(et){let{value:_e}=et,tt=_objectWithoutProperties$1(et,_excluded$a);for(let nt of Schemas){const rt=nt(_e,tt);if(rt)return rt}}function register(et,_e){let{schema:tt}=_e,nt=_objectWithoutProperties$1(_e,_excluded2$4);if(et in Plugins){warn(LevaErrors.ALREADY_REGISTERED_TYPE,et);return}Schemas.push((rt,it)=>tt(rt,it)&&et),Plugins[et]=nt}function createInternalPlugin(et){return et}function normalize$3$1(et,_e,tt,nt){const{normalize:rt}=Plugins[et];if(rt)return rt(_e,tt,nt);if(typeof _e!="object"||!("value"in _e))return{value:_e};const{value:it}=_e,st=_objectWithoutProperties$1(_e,_excluded3$1);return{value:it,settings:st}}function sanitize$4(et,_e,tt,nt,rt,it){const{sanitize:st}=Plugins[et];return st?st(_e,tt,nt,rt,it):_e}function format$2(et,_e,tt){const{format:nt}=Plugins[et];return nt?nt(_e,tt):_e}function _defineProperty$3(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function ownKeys$3(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(et,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread2$1(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$3(Object(tt),!0).forEach(function(nt){_defineProperty$3(et,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys$3(Object(tt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return et}const clamp=(et,_e,tt)=>et>tt?tt:et<_e?_e:et,parseNumber=et=>{if(et===""||typeof et=="number")return et;try{const _e=evaluate(et);if(!isNaN(_e))return _e}catch{}return parseFloat(et)},log10=Math.log(10);function getStep(et){let _e=Math.abs(+String(et).replace(".",""));if(_e===0)return .01;for(;_e!==0&&_e%10===0;)_e/=10;const tt=Math.floor(Math.log(_e)/log10)+1,nt=Math.floor(Math.log10(Math.abs(et))),rt=Math.pow(10,nt-tt);return Math.max(rt,.001)}const range=(et,_e,tt)=>tt===_e?0:(clamp(et,_e,tt)-_e)/(tt-_e),invertedRange=(et,_e,tt)=>et*(tt-_e)+_e,getUid=()=>"_"+Math.random().toString(36).substr(2,9),parens=/\(([0-9+\-*/^ .]+)\)/,exp=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,mul=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,div=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,add=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,sub=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function evaluate(et){if(isNaN(Number(et)))if(parens.test(et)){const _e=et.replace(parens,(tt,nt)=>String(evaluate(nt)));return evaluate(_e)}else if(exp.test(et)){const _e=et.replace(exp,(tt,nt,rt)=>String(Math.pow(Number(nt),Number(rt))));return evaluate(_e)}else if(mul.test(et)){const _e=et.replace(mul,(tt,nt,rt)=>String(Number(nt)*Number(rt)));return evaluate(_e)}else if(div.test(et)){const _e=et.replace(div,(tt,nt,rt)=>{if(rt!=0)return String(Number(nt)/Number(rt));throw new Error("Division by zero")});return evaluate(_e)}else if(add.test(et)){const _e=et.replace(add,(tt,nt,rt)=>String(Number(nt)+Number(rt)));return evaluate(_e)}else if(sub.test(et)){const _e=et.replace(sub,(tt,nt,rt)=>String(Number(nt)-Number(rt)));return evaluate(_e)}else return Number(et);return Number(et)}function omit(et,_e){const tt=_objectSpread2$1({},et);return _e.forEach(nt=>nt in et&&delete tt[nt]),tt}function mapArrayToKeys(et,_e){return et.reduce((tt,nt,rt)=>Object.assign(tt,{[_e[rt]]:nt}),{})}function isObject$8(et){return Object.prototype.toString.call(et)==="[object Object]"}const isEmptyObject=et=>isObject$8(et)&&Object.keys(et).length===0;let SpecialInputs;(function(et){et.BUTTON="BUTTON",et.BUTTON_GROUP="BUTTON_GROUP",et.MONITOR="MONITOR",et.FOLDER="FOLDER"})(SpecialInputs||(SpecialInputs={}));let LevaInputs;(function(et){et.SELECT="SELECT",et.IMAGE="IMAGE",et.NUMBER="NUMBER",et.COLOR="COLOR",et.STRING="STRING",et.BOOLEAN="BOOLEAN",et.INTERVAL="INTERVAL",et.VECTOR3D="VECTOR3D",et.VECTOR2D="VECTOR2D"})(LevaInputs||(LevaInputs={}));const _excluded$9=["type","__customInput"],_excluded2$3=["render","label","optional","disabled","hint","onChange","onEditStart","onEditEnd","transient"],_excluded3$2=["type"];function parseOptions(et,_e,tt={},nt){var rt,it;if(typeof et!="object"||Array.isArray(et))return{type:nt,input:et,options:_objectSpread2$1({key:_e,label:_e,optional:!1,disabled:!1},tt)};if("__customInput"in et){const{type:bt,__customInput:At}=et,Mt=_objectWithoutProperties$1(et,_excluded$9);return parseOptions(At,_e,Mt,bt)}const{render:st,label:ot,optional:at,disabled:lt,hint:ct,onChange:ut,onEditStart:ft,onEditEnd:ht,transient:pt}=et,gt=_objectWithoutProperties$1(et,_excluded2$3),dt=_objectSpread2$1({render:st,key:_e,label:ot!=null?ot:_e,hint:ct,transient:pt!=null?pt:!!ut,onEditStart:ft,onEditEnd:ht,disabled:lt,optional:at},tt);let{type:vt}=gt,xt=_objectWithoutProperties$1(gt,_excluded3$2);if(vt=nt!=null?nt:vt,vt in SpecialInputs)return{type:vt,input:xt,options:dt};let _t;return nt&&isObject$8(xt)&&"value"in xt?_t=xt.value:_t=isEmptyObject(xt)?void 0:xt,{type:vt,input:_t,options:_objectSpread2$1(_objectSpread2$1({},dt),{},{onChange:ut,optional:(rt=dt.optional)!==null&&rt!==void 0?rt:!1,disabled:(it=dt.disabled)!==null&&it!==void 0?it:!1})}}function normalizeInput(et,_e,tt,nt){const rt=parseOptions(et,_e),{type:it,input:st,options:ot}=rt;if(it)return it in SpecialInputs?rt:{type:it,input:normalize$3$1(it,st,tt,nt),options:ot};let at=getValueType(st);return at?{type:at,input:normalize$3$1(at,st,tt,nt),options:ot}:(at=getValueType({value:st}),at?{type:at,input:normalize$3$1(at,{value:st},tt,nt),options:ot}:!1)}function updateInput(et,_e,tt,nt,rt){const{value:it,type:st,settings:ot}=et;et.value=sanitizeValue({type:st,value:it,settings:ot},_e,tt,nt),et.fromPanel=rt}const ValueError=function et(_e,tt,nt){this.type="LEVA_ERROR",this.message="LEVA: "+_e,this.previousValue=tt,this.error=nt};function sanitizeValue({type:et,value:_e,settings:tt},nt,rt,it){const st=et!=="SELECT"&&typeof nt=="function"?nt(_e):nt;let ot;try{ot=sanitize$4(et,st,tt,_e,rt,it)}catch(at){throw new ValueError(`The value \`${nt}\` did not result in a correct value.`,_e,at)}if(dequal(ot,_e))throw new ValueError(`The value \`${nt}\` did not result in a value update, which remained the same: \`${_e}\`.
        You can ignore this warning if this is the intended behavior.`,_e);return ot}const debounce=(et,_e,tt=!1)=>{let nt=0;return function(){const rt=arguments,it=tt&&!nt,st=()=>et.apply(this,rt);window.clearTimeout(nt),nt=window.setTimeout(st,_e),it&&st()}},multiplyStep=et=>et.shiftKey?5:et.altKey?1/5:1,_excluded$8=["value"],_excluded2$2$1=["min","max"],schema$3=et=>{if(typeof et=="number")return!0;if(typeof et=="string"){const _e=parseFloat(et);return isNaN(_e)?!1:et.substring((""+_e).length).trim().length<4}return!1},sanitize$3=(et,{min:_e=-1/0,max:tt=1/0,suffix:nt})=>{const rt=parseFloat(et);if(et===""||isNaN(rt))throw Error("Invalid number");const it=clamp(rt,_e,tt);return nt?it+nt:it},format$1$1=(et,{pad:_e=0,suffix:tt})=>{const nt=parseFloat(et).toFixed(_e);return tt?nt+tt:nt},normalize$2$1=et=>{let{value:_e}=et,tt=_objectWithoutProperties$1(et,_excluded$8);const{min:nt=-1/0,max:rt=1/0}=tt,it=_objectWithoutProperties$1(tt,_excluded2$2$1);let st=parseFloat(_e);const ot=typeof _e=="string"?_e.substring((""+st).length):void 0;st=clamp(st,nt,rt);let at=tt.step;at||(Number.isFinite(nt)?Number.isFinite(rt)?at=+(Math.abs(rt-nt)/100).toPrecision(1):at=+(Math.abs(st-nt)/100).toPrecision(1):Number.isFinite(rt)&&(at=+(Math.abs(rt-st)/100).toPrecision(1)));const lt=at?getStep(at)*10:getStep(st);at=at||lt/10;const ct=Math.round(clamp(Math.log10(1/lt),0,2));return{value:ot?st+ot:st,settings:_objectSpread2$1({initialValue:st,step:at,pad:ct,min:nt,max:rt,suffix:ot},it)}},sanitizeStep$1=(et,{step:_e,initialValue:tt})=>{const nt=Math.round((et-tt)/_e);return tt+nt*_e};var props$3=Object.freeze({__proto__:null,schema:schema$3,sanitize:sanitize$3,format:format$1$1,normalize:normalize$2$1,sanitizeStep:sanitizeStep$1});const InputContext=react.exports.createContext({});function useInputContext(){return react.exports.useContext(InputContext)}const ThemeContext=react.exports.createContext(null),StoreContext=react.exports.createContext(null),PanelSettingsContext=react.exports.createContext(null);function useStoreContext(){return react.exports.useContext(StoreContext)}function usePanelSettingsContext(){return react.exports.useContext(PanelSettingsContext)}const getDefaultTheme=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function createStateClass(et,_e){const[tt,nt]=et.split(" "),rt={};return tt!=="none"&&(rt.boxShadow=`${_e.inset?"inset ":""}0 0 0 $borderWidths${[_e.key]} $colors${tt!=="default"&&tt||_e.borderColor}`),nt&&(rt.backgroundColor=nt),rt}const utils={$inputStyle:()=>et=>createStateClass(et,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>et=>createStateClass(et,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>et=>createStateClass(et,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>et=>createStateClass(et,{key:"$active",borderColor:"$accent1",inset:!0})},{styled,css,createTheme,globalCss,keyframes}=q$1({prefix:"leva",theme:getDefaultTheme(),utils:_objectSpread2$1(_objectSpread2$1({},utils),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:et=>({"&:focus":utils.$focusStyle()(et)}),$focusWithin:et=>({"&:focus-within":utils.$focusStyle()(et)}),$hover:et=>({"&:hover":utils.$hoverStyle()(et)}),$active:et=>({"&:active":utils.$activeStyle()(et)})})}),globalStyles=globalCss({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function useTh(et,_e){const{theme:tt}=react.exports.useContext(ThemeContext);if(!(et in tt)||!(_e in tt[et]))return warn(LevaErrors.THEME_ERROR,et,_e),"";let nt=_e;for(;;){let rt=tt[et][nt];if(typeof rt=="string"&&rt.charAt(0)==="$")nt=rt.substr(1);else return rt}}const StyledInput=styled("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),InnerLabel=styled("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${StyledInput}`]:{paddingLeft:0}}),InnerNumberLabel=styled(InnerLabel,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),InputContainer=styled("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),_excluded$7$1=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],_excluded2$1$1=["onUpdate"];function ValueInput(et){let{innerLabel:_e,value:tt,onUpdate:nt,onChange:rt,onKeyDown:it,type:st,id:ot,inputType:at="text",rows:lt=0}=et,ct=_objectWithoutProperties$1(et,_excluded$7$1);const{id:ut,emitOnEditStart:ft,emitOnEditEnd:ht,disabled:pt}=useInputContext(),gt=ot||ut,dt=react.exports.useRef(null),vt=lt>0,xt=vt?"textarea":"input",_t=react.exports.useCallback(Mt=>Tt=>{const St=Tt.currentTarget.value;Mt(St)},[]);React.useEffect(()=>{const Mt=dt.current,Tt=_t(St=>{nt(St),ht()});return Mt==null||Mt.addEventListener("blur",Tt),()=>Mt==null?void 0:Mt.removeEventListener("blur",Tt)},[_t,nt,ht]);const bt=react.exports.useCallback(Mt=>{Mt.key==="Enter"&&_t(nt)(Mt)},[_t,nt]),At=Object.assign({as:xt},vt?{rows:lt}:{},ct);return jsxs(InputContainer,{textArea:vt,children:[_e&&typeof _e=="string"?jsx(InnerLabel,{children:_e}):_e,jsx(StyledInput,{levaType:st,ref:dt,id:gt,type:at,autoComplete:"off",spellCheck:"false",value:tt,onChange:_t(rt),onFocus:()=>ft(),onKeyPress:bt,onKeyDown:it,disabled:pt,...At})]})}function NumberInput(et){let{onUpdate:_e}=et,tt=_objectWithoutProperties$1(et,_excluded2$1$1);const nt=react.exports.useCallback(it=>_e(parseNumber(it)),[_e]),rt=react.exports.useCallback(it=>{const st=it.key==="ArrowUp"?1:it.key==="ArrowDown"?-1:0;if(st){it.preventDefault();const ot=it.altKey?.1:it.shiftKey?10:1;_e(at=>parseFloat(at)+st*ot)}},[_e]);return jsx(ValueInput,{...tt,onUpdate:nt,onKeyDown:rt,type:"number"})}const StyledFolder=styled("div",{}),StyledWrapper=styled("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),StyledTitle=styled("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & > svg`]:{opacity:1}}),StyledContent=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${StyledFolder}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),StyledRow=styled("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${StyledContent} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),StyledInputRow=styled(StyledRow,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),CopyLabelContainer=styled("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),StyledOptionalToggle=styled("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),StyledLabel=styled("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),StyledInputWrapper$1=styled("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${StyledLabel}`]:{pointerEvents:"auto"}}}}}),Overlay=styled("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),StyledToolTipContent=styled("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),ToolTipArrow=styled(Arrow,{fill:"$toolTipBackground"});function Portal({children:et}){const{className:_e}=react.exports.useContext(ThemeContext);return jsx(Root$4,{className:_e,children:et})}const _excluded$6$1=["align"];function OptionalToggle(){const{id:et,disable:_e,disabled:tt}=useInputContext();return jsxs(Fragment,{children:[jsx(StyledOptionalToggle,{id:et+"__disable",type:"checkbox",checked:!tt,onChange:()=>_e(!tt)}),jsx("label",{htmlFor:et+"__disable"})]})}function RawLabel(et){const{id:_e,optional:tt,hint:nt}=useInputContext(),rt=et.htmlFor||(_e?{htmlFor:_e}:null),it=!nt&&typeof et.children=="string"?{title:et.children}:null;return jsxs(Fragment,{children:[tt&&jsx(OptionalToggle,{}),nt!==void 0?jsxs(Root,{children:[jsx(Trigger,{asChild:!0,children:jsx(StyledLabel,{...rt,...et})}),jsx(Content,{side:"top",sideOffset:2,children:jsxs(StyledToolTipContent,{children:[nt,jsx(ToolTipArrow,{})]})})]}):jsx(StyledLabel,{...rt,...it,...et})]})}function Label(et){let{align:_e}=et,tt=_objectWithoutProperties$1(et,_excluded$6$1);const{value:nt,label:rt,key:it,disabled:st}=useInputContext(),{hideCopyButton:ot}=usePanelSettingsContext(),at=!ot&&it!==void 0,[lt,ct]=react.exports.useState(!1),ut=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[it]:nt!=null?nt:""})),ct(!0)}catch{warn(LevaErrors.CLIPBOARD_ERROR,{[it]:nt})}};return jsxs(CopyLabelContainer,{align:_e,onPointerLeave:()=>ct(!1),children:[jsx(RawLabel,{...tt}),at&&!st&&jsx("div",{title:`Click to copy ${typeof rt=="string"?rt:it} value`,children:lt?jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}):jsxs("svg",{onClick:ut,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})}const _excluded$5$1=["toggled"],Svg=styled("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Chevron(et){let{toggled:_e}=et,tt=_objectWithoutProperties$1(et,_excluded$5$1);return jsx(Svg,{width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${_e?0:-90}deg)`},...tt,children:jsx("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"})})}const _excluded$4$1=["input"];function Row(et){let{input:_e}=et,tt=_objectWithoutProperties$1(et,_excluded$4$1);return _e?jsx(StyledInputRow,{...tt}):jsx(StyledRow,{...tt})}function useInputSetters({value:et,type:_e,settings:tt,setValue:nt}){const[rt,it]=react.exports.useState(format$2(_e,et,tt)),st=react.exports.useRef(et),ot=react.exports.useRef(tt);ot.current=tt;const at=react.exports.useCallback(ct=>it(format$2(_e,ct,ot.current)),[_e]),lt=react.exports.useCallback(ct=>{try{nt(ct)}catch(ut){const{type:ft,previousValue:ht}=ut;if(ft!=="LEVA_ERROR")throw ut;at(ht)}},[at,nt]);return react.exports.useEffect(()=>{dequal(et,st.current)||at(et),st.current=et},[et,at]),{displayValue:rt,onChange:it,onUpdate:lt}}function useDrag(et,_e){const{emitOnEditStart:tt,emitOnEditEnd:nt}=useInputContext();return useDrag$2(rt=>{rt.first&&(document.body.classList.add("leva__panel__dragged"),tt==null||tt());const it=et(rt);return rt.last&&(document.body.classList.remove("leva__panel__dragged"),nt==null||nt()),it},_e)}function useCanvas2d(et){const _e=react.exports.useRef(null),tt=react.exports.useRef(null),nt=react.exports.useRef(!1);return react.exports.useEffect(()=>{const rt=debounce(()=>{_e.current.width=_e.current.offsetWidth*window.devicePixelRatio,_e.current.height=_e.current.offsetHeight*window.devicePixelRatio,et(_e.current,tt.current)},250);return window.addEventListener("resize",rt),nt.current||(rt(),nt.current=!0),()=>window.removeEventListener("resize",rt)},[et]),react.exports.useEffect(()=>{tt.current=_e.current.getContext("2d")},[]),[_e,tt]}function useTransform(){const et=react.exports.useRef(null),_e=react.exports.useRef({x:0,y:0}),tt=react.exports.useCallback(nt=>{Object.assign(_e.current,nt),et.current&&(et.current.style.transform=`translate3d(${_e.current.x}px, ${_e.current.y}px, 0)`)},[]);return[et,tt]}const _excluded$3$1=["__refCount"],getInputAtPath=(et,_e)=>{if(!et[_e])return null;const tt=et[_e];return _objectWithoutProperties$1(tt,_excluded$3$1)};function useInput(et){const _e=useStoreContext(),[tt,nt]=react.exports.useState(getInputAtPath(_e.getData(),et)),rt=react.exports.useCallback(lt=>_e.setValueAtPath(et,lt,!0),[et,_e]),it=react.exports.useCallback(lt=>_e.setSettingsAtPath(et,lt),[et,_e]),st=react.exports.useCallback(lt=>_e.disableInputAtPath(et,lt),[et,_e]),ot=react.exports.useCallback(()=>_e.emitOnEditStart(et),[et,_e]),at=react.exports.useCallback(()=>_e.emitOnEditEnd(et),[et,_e]);return react.exports.useEffect(()=>{nt(getInputAtPath(_e.getData(),et));const lt=_e.useStore.subscribe(ct=>getInputAtPath(ct.data,et),nt,{equalityFn:shallow});return()=>lt()},[_e,et]),[tt,{set:rt,setSettings:it,disable:st,storeId:_e.storeId,emitOnEditStart:ot,emitOnEditEnd:at}]}const RangeGrid=styled("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Range=styled("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Scrubber=styled("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),RangeWrapper=styled("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Indicator=styled("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function RangeSlider({value:et,min:_e,max:tt,onDrag:nt,step:rt,initialValue:it}){const st=react.exports.useRef(null),ot=react.exports.useRef(null),at=react.exports.useRef(0),lt=useTh("sizes","scrubberWidth"),ct=useDrag(({event:ft,first:ht,xy:[pt],movement:[gt],memo:dt})=>{if(ht){const{width:xt,left:_t}=st.current.getBoundingClientRect();at.current=xt-parseFloat(lt),dt=(ft==null?void 0:ft.target)===ot.current?et:invertedRange((pt-_t)/xt,_e,tt)}const vt=dt+invertedRange(gt/at.current,0,tt-_e);return nt(sanitizeStep$1(vt,{step:rt,initialValue:it})),dt}),ut=range(et,_e,tt);return jsxs(RangeWrapper,{ref:st,...ct(),children:[jsx(Range,{children:jsx(Indicator,{style:{left:0,right:`${(1-ut)*100}%`}})}),jsx(Scrubber,{ref:ot,style:{left:`calc(${ut} * (100% - ${lt}))`}})]})}const DraggableLabel=React.memo(({label:et,onUpdate:_e,step:tt,innerLabelTrim:nt})=>{const[rt,it]=react.exports.useState(!1),st=useDrag(({active:ot,delta:[at],event:lt,memo:ct=0})=>(it(ot),ct+=at/2,Math.abs(ct)>=1&&(_e(ut=>parseFloat(ut)+Math.floor(ct)*tt*multiplyStep(lt)),ct=0),ct));return jsx(InnerNumberLabel,{dragging:rt,title:et.length>1?et:"",...st(),children:et.slice(0,nt)})});function Number$1({label:et,id:_e,displayValue:tt,onUpdate:nt,onChange:rt,settings:it,innerLabelTrim:st=1}){const ot=st>0&&jsx(DraggableLabel,{label:et,step:it.step,onUpdate:nt,innerLabelTrim:st});return jsx(NumberInput,{id:_e,value:String(tt),onUpdate:nt,onChange:rt,innerLabel:ot})}function NumberComponent(){const et=useInputContext(),{label:_e,value:tt,onUpdate:nt,settings:rt,id:it}=et,{min:st,max:ot}=rt,at=ot!==1/0&&st!==-1/0;return jsxs(Row,{input:!0,children:[jsx(Label,{children:_e}),jsxs(RangeGrid,{hasRange:at,children:[at&&jsx(RangeSlider,{value:parseFloat(tt),onDrag:nt,...rt}),jsx(Number$1,{...et,id:it,label:"value",innerLabelTrim:at?0:1})]})]})}const{sanitizeStep}=props$3,rest=_objectWithoutProperties$1(props$3,["sanitizeStep"]);var number$1=_objectSpread2$1({component:NumberComponent},rest);const schema$2$1=(et,_e)=>v8n().schema({options:v8n().passesAnyOf(v8n().object(),v8n().array())}).test(_e),sanitize$2$1=(et,{values:_e})=>{if(_e.indexOf(et)<0)throw Error("Selected value doesn't match Select options");return et},format$3=(et,{values:_e})=>_e.indexOf(et),normalize$1$1=et=>{let{value:_e,options:tt}=et,nt,rt;return Array.isArray(tt)?(rt=tt,nt=tt.map(it=>String(it))):(rt=Object.values(tt),nt=Object.keys(tt)),"value"in et?rt.includes(_e)||(nt.unshift(String(_e)),rt.unshift(_e)):_e=rt[0],Object.values(tt).includes(_e)||(tt[String(_e)]=_e),{value:_e,settings:{keys:nt,values:rt}}};var props$2$1=Object.freeze({__proto__:null,schema:schema$2$1,sanitize:sanitize$2$1,format:format$3,normalize:normalize$1$1});const SelectContainer=styled("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),NativeSelect=styled("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),PresentationalSelect=styled("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${NativeSelect}:focus + &`]:{$focusStyle:""},[`${NativeSelect}:hover + &`]:{$hoverStyle:""}});function Select({displayValue:et,value:_e,onUpdate:tt,id:nt,settings:rt,disabled:it}){const{keys:st,values:ot}=rt,at=react.exports.useRef();return _e===ot[et]&&(at.current=st[et]),jsxs(SelectContainer,{children:[jsx(NativeSelect,{id:nt,value:et,onChange:lt=>tt(ot[Number(lt.currentTarget.value)]),disabled:it,children:st.map((lt,ct)=>jsx("option",{value:ct,children:lt},lt))}),jsx(PresentationalSelect,{children:at.current}),jsx(Chevron,{toggled:!0})]})}function SelectComponent(){const{label:et,value:_e,displayValue:tt,onUpdate:nt,id:rt,disabled:it,settings:st}=useInputContext();return jsxs(Row,{input:!0,children:[jsx(Label,{children:et}),jsx(Select,{id:rt,value:_e,displayValue:tt,onUpdate:nt,settings:st,disabled:it})]})}var select=_objectSpread2$1({component:SelectComponent},props$2$1);const schema$1$1=et=>v8n().string().test(et),sanitize$1$1=et=>{if(typeof et!="string")throw Error("Invalid string");return et},normalize$4=({value:et,editable:_e=!0,rows:tt=!1})=>({value:et,settings:{editable:_e,rows:typeof tt=="number"?tt:tt?5:0}});var props$1$1=Object.freeze({__proto__:null,schema:schema$1$1,sanitize:sanitize$1$1,normalize:normalize$4});const _excluded$2=["displayValue","onUpdate","onChange","editable"],NonEditableString=styled("div",{whiteSpace:"pre-wrap"});function String$1(et){let{displayValue:_e,onUpdate:tt,onChange:nt,editable:rt=!0}=et,it=_objectWithoutProperties$1(et,_excluded$2);return rt?jsx(ValueInput,{value:_e,onUpdate:tt,onChange:nt,...it}):jsx(NonEditableString,{children:_e})}function StringComponent(){const{label:et,settings:_e,displayValue:tt,onUpdate:nt,onChange:rt}=useInputContext();return jsxs(Row,{input:!0,children:[jsx(Label,{children:et}),jsx(String$1,{displayValue:tt,onUpdate:nt,onChange:rt,..._e})]})}var string=_objectSpread2$1({component:StringComponent},props$1$1);const schema$4=et=>v8n().boolean().test(et),sanitize$5=et=>{if(typeof et!="boolean")throw Error("Invalid boolean");return et};var props$4=Object.freeze({__proto__:null,schema:schema$4,sanitize:sanitize$5});const StyledInputWrapper=styled("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Boolean$1({value:et,onUpdate:_e,id:tt,disabled:nt}){return jsxs(StyledInputWrapper,{children:[jsx("input",{id:tt,type:"checkbox",checked:et,onChange:rt=>_e(rt.currentTarget.checked),disabled:nt}),jsx("label",{htmlFor:tt,children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}function BooleanComponent(){const{label:et,value:_e,onUpdate:tt,disabled:nt,id:rt}=useInputContext();return jsxs(Row,{input:!0,children:[jsx(Label,{children:et}),jsx(Boolean$1,{value:_e,onUpdate:tt,id:rt,disabled:nt})]})}var boolean=_objectSpread2$1({component:BooleanComponent},props$4);const _excluded$1=["locked"];function Coordinate({value:et,id:_e,valueKey:tt,settings:nt,onUpdate:rt,innerLabelTrim:it}){const st=react.exports.useRef(et[tt]);st.current=et[tt];const ot=react.exports.useCallback(lt=>rt({[tt]:sanitizeValue({type:"NUMBER",value:st.current,settings:nt},lt)}),[rt,nt,tt]),at=useInputSetters({type:"NUMBER",value:et[tt],settings:nt,setValue:ot});return jsx(Number$1,{id:_e,label:tt,value:et[tt],displayValue:at.displayValue,onUpdate:at.onUpdate,onChange:at.onChange,settings:nt,innerLabelTrim:it})}const Container$2=styled("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Lock(et){let{locked:_e}=et,tt=_objectWithoutProperties$1(et,_excluded$1);return jsx("svg",{width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...tt,children:_e?jsx("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):jsx("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Vector({value:et,onUpdate:_e,settings:tt,innerLabelTrim:nt}){const{id:rt,setSettings:it}=useInputContext(),{lock:st,locked:ot}=tt;return jsxs(Container$2,{withLock:st,children:[st&&jsx(Lock,{locked:ot,onClick:()=>it({locked:!ot})}),Object.keys(et).map((at,lt)=>jsx(Coordinate,{id:lt===0?rt:`${rt}.${at}`,valueKey:at,value:et,settings:tt[at],onUpdate:_e,innerLabelTrim:nt},at))]})}const normalizeKeyedNumberSettings=(et,_e)=>{const tt={};let nt=0,rt=1/0;Object.entries(et).forEach(([it,st])=>{tt[it]=normalize$2$1(_objectSpread2$1({value:st},_e[it])).settings,nt=Math.max(nt,tt[it].step),rt=Math.min(rt,tt[it].pad)});for(let it in tt){const{step:st,min:ot,max:at}=_e[it]||{};!isFinite(st)&&(!isFinite(ot)||!isFinite(at))&&(tt[it].step=nt,tt[it].pad=rt)}return tt},_excluded$b=["lock"],_excluded2$5=["value"];function getVectorSchema(et){const _e=v8n().array().length(et).every.number(),tt=nt=>{if(!nt||typeof nt!="object")return!1;const rt=Object.values(nt);return rt.length===et&&rt.every(it=>isFinite(it))};return nt=>_e.test(nt)||tt(nt)}function getVectorType(et){return Array.isArray(et)?"array":"object"}function convert$1(et,_e,tt){return getVectorType(et)===_e?et:_e==="array"?Object.values(et):mapArrayToKeys(et,tt)}const sanitizeVector=(et,_e,tt)=>{const nt=convert$1(et,"object",_e.keys);for(let st in nt)nt[st]=sanitize$3(nt[st],_e[st]);const rt=Object.keys(nt);let it={};if(rt.length===_e.keys.length)it=nt;else{const st=convert$1(tt,"object",_e.keys);if(rt.length===1&&_e.locked){const ot=rt[0],at=nt[ot],lt=st[ot],ct=lt!==0?at/lt:1;for(let ut in st)ut===ot?it[ot]=at:it[ut]=st[ut]*ct}else it=_objectSpread2$1(_objectSpread2$1({},st),nt)}return convert$1(it,_e.format,_e.keys)},formatVector=(et,_e)=>convert$1(et,"object",_e.keys),isNumberSettings=et=>!!et&&("step"in et||"min"in et||"max"in et);function normalizeVector(et,_e,tt=[]){const{lock:nt=!1}=_e,rt=_objectWithoutProperties$1(_e,_excluded$b),it=Array.isArray(et)?"array":"object",st=it==="object"?Object.keys(et):tt,ot=convert$1(et,"object",st),at=isNumberSettings(rt)?st.reduce((ct,ut)=>Object.assign(ct,{[ut]:rt}),{}):rt,lt=normalizeKeyedNumberSettings(ot,at);return{value:it==="array"?et:ot,settings:_objectSpread2$1(_objectSpread2$1({},lt),{},{format:it,keys:st,lock:nt,locked:!1})}}function getVectorPlugin(et){return{schema:getVectorSchema(et.length),normalize:_e=>{let{value:tt}=_e,nt=_objectWithoutProperties$1(_e,_excluded2$5);return normalizeVector(tt,nt,et)},format:(_e,tt)=>formatVector(_e,tt),sanitize:(_e,tt,nt)=>sanitizeVector(_e,tt,nt)}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(et){return typeof et=="string"?et.length>0:typeof et=="number"},n=function(et,_e,tt){return _e===void 0&&(_e=0),tt===void 0&&(tt=Math.pow(10,_e)),Math.round(tt*et)/tt+0},e=function(et,_e,tt){return _e===void 0&&(_e=0),tt===void 0&&(tt=1),et>tt?tt:et>_e?et:_e},u$1=function(et){return(et=isFinite(et)?et%360:0)>0?et:et+360},a=function(et){return{r:e(et.r,0,255),g:e(et.g,0,255),b:e(et.b,0,255),a:e(et.a)}},o=function(et){return{r:n(et.r),g:n(et.g),b:n(et.b),a:n(et.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$1=function(et){var _e=et.toString(16);return _e.length<2?"0"+_e:_e},h$1=function(et){var _e=et.r,tt=et.g,nt=et.b,rt=et.a,it=Math.max(_e,tt,nt),st=it-Math.min(_e,tt,nt),ot=st?it===_e?(tt-nt)/st:it===tt?2+(nt-_e)/st:4+(_e-tt)/st:0;return{h:60*(ot<0?ot+6:ot),s:it?st/it*100:0,v:it/255*100,a:rt}},b$1=function(et){var _e=et.h,tt=et.s,nt=et.v,rt=et.a;_e=_e/360*6,tt/=100,nt/=100;var it=Math.floor(_e),st=nt*(1-tt),ot=nt*(1-(_e-it)*tt),at=nt*(1-(1-_e+it)*tt),lt=it%6;return{r:255*[nt,ot,st,st,at,nt][lt],g:255*[at,nt,nt,ot,st,st][lt],b:255*[st,st,at,nt,nt,ot][lt],a:rt}},g$1=function(et){return{h:u$1(et.h),s:e(et.s,0,100),l:e(et.l,0,100),a:e(et.a)}},d$1=function(et){return{h:n(et.h),s:n(et.s),l:n(et.l),a:n(et.a,3)}},f$1=function(et){return b$1((tt=(_e=et).s,{h:_e.h,s:(tt*=((nt=_e.l)<50?nt:100-nt)/100)>0?2*tt/(nt+tt)*100:0,v:nt+tt,a:_e.a}));var _e,tt,nt},c$1=function(et){return{h:(_e=h$1(et)).h,s:(rt=(200-(tt=_e.s))*(nt=_e.v)/100)>0&&rt<200?tt*nt/100/(rt<=100?rt:200-rt)*100:0,l:rt/2,a:_e.a};var _e,tt,nt,rt},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(et){var _e=i$1.exec(et);return _e?(et=_e[1]).length<=4?{r:parseInt(et[0]+et[0],16),g:parseInt(et[1]+et[1],16),b:parseInt(et[2]+et[2],16),a:et.length===4?n(parseInt(et[3]+et[3],16)/255,2):1}:et.length===6||et.length===8?{r:parseInt(et.substr(0,2),16),g:parseInt(et.substr(2,2),16),b:parseInt(et.substr(4,2),16),a:et.length===8?n(parseInt(et.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(et){var _e=v$1.exec(et)||m$1.exec(et);return _e?_e[2]!==_e[4]||_e[4]!==_e[6]?null:a({r:Number(_e[1])/(_e[2]?100/255:1),g:Number(_e[3])/(_e[4]?100/255:1),b:Number(_e[5])/(_e[6]?100/255:1),a:_e[7]===void 0?1:Number(_e[7])/(_e[8]?100:1)}):null},"rgb"],[function(et){var _e=l.exec(et)||p$2.exec(et);if(!_e)return null;var tt,nt,rt=g$1({h:(tt=_e[1],nt=_e[2],nt===void 0&&(nt="deg"),Number(tt)*(r[nt]||1)),s:Number(_e[3]),l:Number(_e[4]),a:_e[5]===void 0?1:Number(_e[5])/(_e[6]?100:1)});return f$1(rt)},"hsl"]],object:[[function(et){var _e=et.r,tt=et.g,nt=et.b,rt=et.a,it=rt===void 0?1:rt;return t(_e)&&t(tt)&&t(nt)?a({r:Number(_e),g:Number(tt),b:Number(nt),a:Number(it)}):null},"rgb"],[function(et){var _e=et.h,tt=et.s,nt=et.l,rt=et.a,it=rt===void 0?1:rt;if(!t(_e)||!t(tt)||!t(nt))return null;var st=g$1({h:Number(_e),s:Number(tt),l:Number(nt),a:Number(it)});return f$1(st)},"hsl"],[function(et){var _e=et.h,tt=et.s,nt=et.v,rt=et.a,it=rt===void 0?1:rt;if(!t(_e)||!t(tt)||!t(nt))return null;var st=function(ot){return{h:u$1(ot.h),s:e(ot.s,0,100),v:e(ot.v,0,100),a:e(ot.a)}}({h:Number(_e),s:Number(tt),v:Number(nt),a:Number(it)});return b$1(st)},"hsv"]]},N=function(et,_e){for(var tt=0;tt<_e.length;tt++){var nt=_e[tt][0](et);if(nt)return[nt,_e[tt][1]]}return[null,void 0]},x=function(et){return typeof et=="string"?N(et.trim(),y$1.string):typeof et=="object"&&et!==null?N(et,y$1.object):[null,void 0]},I$1=function(et){return x(et)[1]},M=function(et,_e){var tt=c$1(et);return{h:tt.h,s:e(tt.s+100*_e,0,100),l:tt.l,a:tt.a}},H=function(et){return(299*et.r+587*et.g+114*et.b)/1e3/255},$$1=function(et,_e){var tt=c$1(et);return{h:tt.h,s:tt.s,l:e(tt.l+100*_e,0,100),a:tt.a}},j=function(){function et(_e){this.parsed=x(_e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return et.prototype.isValid=function(){return this.parsed!==null},et.prototype.brightness=function(){return n(H(this.rgba),2)},et.prototype.isDark=function(){return H(this.rgba)<.5},et.prototype.isLight=function(){return H(this.rgba)>=.5},et.prototype.toHex=function(){return _e=o(this.rgba),tt=_e.r,nt=_e.g,rt=_e.b,st=(it=_e.a)<1?s$1(n(255*it)):"","#"+s$1(tt)+s$1(nt)+s$1(rt)+st;var _e,tt,nt,rt,it,st},et.prototype.toRgb=function(){return o(this.rgba)},et.prototype.toRgbString=function(){return _e=o(this.rgba),tt=_e.r,nt=_e.g,rt=_e.b,(it=_e.a)<1?"rgba("+tt+", "+nt+", "+rt+", "+it+")":"rgb("+tt+", "+nt+", "+rt+")";var _e,tt,nt,rt,it},et.prototype.toHsl=function(){return d$1(c$1(this.rgba))},et.prototype.toHslString=function(){return _e=d$1(c$1(this.rgba)),tt=_e.h,nt=_e.s,rt=_e.l,(it=_e.a)<1?"hsla("+tt+", "+nt+"%, "+rt+"%, "+it+")":"hsl("+tt+", "+nt+"%, "+rt+"%)";var _e,tt,nt,rt,it},et.prototype.toHsv=function(){return _e=h$1(this.rgba),{h:n(_e.h),s:n(_e.s),v:n(_e.v),a:n(_e.a,3)};var _e},et.prototype.invert=function(){return w({r:255-(_e=this.rgba).r,g:255-_e.g,b:255-_e.b,a:_e.a});var _e},et.prototype.saturate=function(_e){return _e===void 0&&(_e=.1),w(M(this.rgba,_e))},et.prototype.desaturate=function(_e){return _e===void 0&&(_e=.1),w(M(this.rgba,-_e))},et.prototype.grayscale=function(){return w(M(this.rgba,-1))},et.prototype.lighten=function(_e){return _e===void 0&&(_e=.1),w($$1(this.rgba,_e))},et.prototype.darken=function(_e){return _e===void 0&&(_e=.1),w($$1(this.rgba,-_e))},et.prototype.rotate=function(_e){return _e===void 0&&(_e=15),this.hue(this.hue()+_e)},et.prototype.alpha=function(_e){return typeof _e=="number"?w({r:(tt=this.rgba).r,g:tt.g,b:tt.b,a:_e}):n(this.rgba.a,3);var tt},et.prototype.hue=function(_e){var tt=c$1(this.rgba);return typeof _e=="number"?w({h:_e,s:tt.s,l:tt.l,a:tt.a}):n(tt.h)},et.prototype.isEqual=function(_e){return this.toHex()===w(_e).toHex()},et}(),w=function(et){return et instanceof j?et:new j(et)},S$1=[],k$1=function(et){et.forEach(function(_e){S$1.indexOf(_e)<0&&(_e(j,y$1),S$1.push(_e))})};function namesPlugin(et,_e){var tt={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},nt={};for(var rt in tt)nt[tt[rt]]=rt;var it={};et.prototype.toName=function(st){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var ot,at,lt=nt[this.toHex()];if(lt)return lt;if(st!=null&&st.closest){var ct=this.toRgb(),ut=1/0,ft="black";if(!it.length)for(var ht in tt)it[ht]=new et(tt[ht]).toRgb();for(var pt in tt){var gt=(ot=ct,at=it[pt],Math.pow(ot.r-at.r,2)+Math.pow(ot.g-at.g,2)+Math.pow(ot.b-at.b,2));gt<ut&&(ut=gt,ft=pt)}return ft}},_e.string.push([function(st){var ot=st.toLowerCase(),at=ot==="transparent"?"#0000":tt[ot];return at?new et(at).toRgb():null},"name"])}function u(){return(u=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])}return et}).apply(this,arguments)}function c(et,_e){if(et==null)return{};var tt,nt,rt={},it=Object.keys(et);for(nt=0;nt<it.length;nt++)_e.indexOf(tt=it[nt])>=0||(rt[tt]=et[tt]);return rt}function i(et){var _e=react.exports.useRef(et),tt=react.exports.useRef(function(nt){_e.current&&_e.current(nt)});return _e.current=et,tt.current}var s=function(et,_e,tt){return _e===void 0&&(_e=0),tt===void 0&&(tt=1),et>tt?tt:et<_e?_e:et},f=function(et){return"touches"in et},v=function(et){return et&&et.ownerDocument.defaultView||self},d=function(et,_e,tt){var nt=et.getBoundingClientRect(),rt=f(_e)?function(it,st){for(var ot=0;ot<it.length;ot++)if(it[ot].identifier===st)return it[ot];return it[0]}(_e.touches,tt):_e;return{left:s((rt.pageX-(nt.left+v(et).pageXOffset))/nt.width),top:s((rt.pageY-(nt.top+v(et).pageYOffset))/nt.height)}},h=function(et){!f(et)&&et.preventDefault()},m=React.memo(function(et){var _e=et.onMove,tt=et.onKey,nt=c(et,["onMove","onKey"]),rt=react.exports.useRef(null),it=i(_e),st=i(tt),ot=react.exports.useRef(null),at=react.exports.useRef(!1),lt=react.exports.useMemo(function(){var ht=function(dt){h(dt),(f(dt)?dt.touches.length>0:dt.buttons>0)&&rt.current?it(d(rt.current,dt,ot.current)):gt(!1)},pt=function(){return gt(!1)};function gt(dt){var vt=at.current,xt=v(rt.current),_t=dt?xt.addEventListener:xt.removeEventListener;_t(vt?"touchmove":"mousemove",ht),_t(vt?"touchend":"mouseup",pt)}return[function(dt){var vt=dt.nativeEvent,xt=rt.current;if(xt&&(h(vt),!function(bt,At){return At&&!f(bt)}(vt,at.current)&&xt)){if(f(vt)){at.current=!0;var _t=vt.changedTouches||[];_t.length&&(ot.current=_t[0].identifier)}xt.focus(),it(d(xt,vt,ot.current)),gt(!0)}},function(dt){var vt=dt.which||dt.keyCode;vt<37||vt>40||(dt.preventDefault(),st({left:vt===39?.05:vt===37?-.05:0,top:vt===40?.05:vt===38?-.05:0}))},gt]},[st,it]),ct=lt[0],ut=lt[1],ft=lt[2];return react.exports.useEffect(function(){return ft},[ft]),jsx("div",{...u({},nt,{onTouchStart:ct,onMouseDown:ct,className:"react-colorful__interactive",ref:rt,onKeyDown:ut,tabIndex:0,role:"slider"})})}),g=function(et){return et.filter(Boolean).join(" ")},p$1=function(et){var _e=et.color,tt=et.left,nt=et.top,rt=nt===void 0?.5:nt,it=g(["react-colorful__pointer",et.className]);return jsx("div",{className:it,style:{top:100*rt+"%",left:100*tt+"%"},children:jsx("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:_e}})})},b=function(et,_e,tt){return _e===void 0&&(_e=0),tt===void 0&&(tt=Math.pow(10,_e)),Math.round(tt*et)/tt},y=function(et){var _e=et.s,tt=et.v,nt=et.a,rt=(200-_e)*tt/100;return{h:b(et.h),s:b(rt>0&&rt<200?_e*tt/100/(rt<=100?rt:200-rt)*100:0),l:b(rt/2),a:b(nt,2)}},q=function(et){var _e=y(et);return"hsl("+_e.h+", "+_e.s+"%, "+_e.l+"%)"},k=function(et){var _e=y(et);return"hsla("+_e.h+", "+_e.s+"%, "+_e.l+"%, "+_e.a+")"},I=function(et){var _e=et.h,tt=et.s,nt=et.v,rt=et.a;_e=_e/360*6,tt/=100,nt/=100;var it=Math.floor(_e),st=nt*(1-tt),ot=nt*(1-(_e-it)*tt),at=nt*(1-(1-_e+it)*tt),lt=it%6;return{r:b(255*[nt,ot,st,st,at,nt][lt]),g:b(255*[at,nt,nt,ot,st,st][lt]),b:b(255*[st,st,at,nt,nt,ot][lt]),a:b(rt,2)}},L=function(et){var _e=et.r,tt=et.g,nt=et.b,rt=et.a,it=Math.max(_e,tt,nt),st=it-Math.min(_e,tt,nt),ot=st?it===_e?(tt-nt)/st:it===tt?2+(nt-_e)/st:4+(_e-tt)/st:0;return{h:b(60*(ot<0?ot+6:ot)),s:b(it?st/it*100:0),v:b(it/255*100),a:rt}},S=React.memo(function(et){var _e=et.hue,tt=et.onChange,nt=g(["react-colorful__hue",et.className]);return React.createElement("div",{className:nt},React.createElement(m,{onMove:function(rt){tt({h:360*rt.left})},onKey:function(rt){tt({h:s(_e+360*rt.left,0,360)})},"aria-label":"Hue","aria-valuenow":b(_e),"aria-valuemax":"360","aria-valuemin":"0"},React.createElement(p$1,{className:"react-colorful__hue-pointer",left:_e/360,color:q({h:_e,s:100,v:100,a:1})})))}),T=React.memo(function(et){var _e=et.hsva,tt=et.onChange,nt={backgroundColor:q({h:_e.h,s:100,v:100,a:1})};return React.createElement("div",{className:"react-colorful__saturation",style:nt},React.createElement(m,{onMove:function(rt){tt({s:100*rt.left,v:100-100*rt.top})},onKey:function(rt){tt({s:s(_e.s+100*rt.left,0,100),v:s(_e.v-100*rt.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+b(_e.s)+"%, Brightness "+b(_e.v)+"%"},React.createElement(p$1,{className:"react-colorful__saturation-pointer",top:1-_e.v/100,left:_e.s/100,color:q(_e)})))}),F=function(et,_e){if(et===_e)return!0;for(var tt in et)if(et[tt]!==_e[tt])return!1;return!0};function Y(et,_e,tt){var nt=i(tt),rt=react.exports.useState(function(){return et.toHsva(_e)}),it=rt[0],st=rt[1],ot=react.exports.useRef({color:_e,hsva:it});react.exports.useEffect(function(){if(!et.equal(_e,ot.current.color)){var lt=et.toHsva(_e);ot.current={hsva:lt,color:_e},st(lt)}},[_e,et]),react.exports.useEffect(function(){var lt;F(it,ot.current.hsva)||et.equal(lt=et.fromHsva(it),ot.current.color)||(ot.current={hsva:it,color:lt},nt(lt))},[it,et,nt]);var at=react.exports.useCallback(function(lt){st(function(ct){return Object.assign({},ct,lt)})},[]);return[it,at]}var V=typeof window<"u"?react.exports.useLayoutEffect:react.exports.useEffect,$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},J=new Map,Q=function(et){V(function(){var _e=et.current?et.current.ownerDocument:document;if(_e!==void 0&&!J.has(_e)){var tt=_e.createElement("style");tt.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,J.set(_e,tt);var nt=$();nt&&tt.setAttribute("nonce",nt),_e.head.appendChild(tt)}},[])},U=function(et){var _e=et.className,tt=et.colorModel,nt=et.color,rt=nt===void 0?tt.defaultColor:nt,it=et.onChange,st=c(et,["className","colorModel","color","onChange"]),ot=react.exports.useRef(null);Q(ot);var at=Y(tt,rt,it),lt=at[0],ct=at[1],ut=g(["react-colorful",_e]);return jsxs("div",{...u({},st,{ref:ot,className:ut}),children:[jsx(T,{hsva:lt,onChange:ct}),jsx(S,{hue:lt.h,onChange:ct,className:"react-colorful__last-control"})]})},ee=function(et){var _e=et.className,tt=et.hsva,nt=et.onChange,rt={backgroundImage:"linear-gradient(90deg, "+k(Object.assign({},tt,{a:0}))+", "+k(Object.assign({},tt,{a:1}))+")"},it=g(["react-colorful__alpha",_e]),st=b(100*tt.a);return React.createElement("div",{className:it},jsx("div",{className:"react-colorful__alpha-gradient",style:rt}),React.createElement(m,{onMove:function(ot){nt({a:ot.left})},onKey:function(ot){nt({a:s(tt.a+ot.left)})},"aria-label":"Alpha","aria-valuetext":st+"%","aria-valuenow":st,"aria-valuemin":"0","aria-valuemax":"100"},React.createElement(p$1,{className:"react-colorful__alpha-pointer",left:tt.a,color:k(tt)})))},re=function(et){var _e=et.className,tt=et.colorModel,nt=et.color,rt=nt===void 0?tt.defaultColor:nt,it=et.onChange,st=c(et,["className","colorModel","color","onChange"]),ot=react.exports.useRef(null);Q(ot);var at=Y(tt,rt,it),lt=at[0],ct=at[1],ut=g(["react-colorful",_e]);return React.createElement("div",u({},st,{ref:ot,className:ut}),jsx(T,{hsva:lt,onChange:ct}),jsx(S,{hue:lt.h,onChange:ct}),React.createElement(ee,{hsva:lt,onChange:ct,className:"react-colorful__last-control"}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},Ce=function(et){return React.createElement(re,u({},et,{colorModel:xe}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(et){return L({r:et.r,g:et.g,b:et.b,a:1})},fromHsva:function(et){return{r:(_e=I(et)).r,g:_e.g,b:_e.b};var _e},equal:F},Ne=function(et){return jsx(U,{...u({},et,{colorModel:Me})})};function __awaiter(et,_e,tt,nt){function rt(it){return it instanceof tt?it:new tt(function(st){st(it)})}return new(tt||(tt=Promise))(function(it,st){function ot(ct){try{lt(nt.next(ct))}catch(ut){st(ut)}}function at(ct){try{lt(nt.throw(ct))}catch(ut){st(ut)}}function lt(ct){ct.done?it(ct.value):rt(ct.value).then(ot,at)}lt((nt=nt.apply(et,_e||[])).next())})}function __generator(et,_e){var tt={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},nt,rt,it,st;return st={next:ot(0),throw:ot(1),return:ot(2)},typeof Symbol=="function"&&(st[Symbol.iterator]=function(){return this}),st;function ot(lt){return function(ct){return at([lt,ct])}}function at(lt){if(nt)throw new TypeError("Generator is already executing.");for(;tt;)try{if(nt=1,rt&&(it=lt[0]&2?rt.return:lt[0]?rt.throw||((it=rt.return)&&it.call(rt),0):rt.next)&&!(it=it.call(rt,lt[1])).done)return it;switch(rt=0,it&&(lt=[lt[0]&2,it.value]),lt[0]){case 0:case 1:it=lt;break;case 4:return tt.label++,{value:lt[1],done:!1};case 5:tt.label++,rt=lt[1],lt=[0];continue;case 7:lt=tt.ops.pop(),tt.trys.pop();continue;default:if(it=tt.trys,!(it=it.length>0&&it[it.length-1])&&(lt[0]===6||lt[0]===2)){tt=0;continue}if(lt[0]===3&&(!it||lt[1]>it[0]&&lt[1]<it[3])){tt.label=lt[1];break}if(lt[0]===6&&tt.label<it[1]){tt.label=it[1],it=lt;break}if(it&&tt.label<it[2]){tt.label=it[2],tt.ops.push(lt);break}it[2]&&tt.ops.pop(),tt.trys.pop();continue}lt=_e.call(et,tt)}catch(ct){lt=[6,ct],rt=0}finally{nt=it=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}}function __read(et,_e){var tt=typeof Symbol=="function"&&et[Symbol.iterator];if(!tt)return et;var nt=tt.call(et),rt,it=[],st;try{for(;(_e===void 0||_e-- >0)&&!(rt=nt.next()).done;)it.push(rt.value)}catch(ot){st={error:ot}}finally{try{rt&&!rt.done&&(tt=nt.return)&&tt.call(nt)}finally{if(st)throw st.error}}return it}function __spread(){for(var et=[],_e=0;_e<arguments.length;_e++)et=et.concat(__read(arguments[_e]));return et}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(et,_e){var tt=withMimeType(et);if(typeof tt.path!="string"){var nt=et.webkitRelativePath;Object.defineProperty(tt,"path",{value:typeof _e=="string"?_e:typeof nt=="string"&&nt.length>0?nt:et.name,writable:!1,configurable:!1,enumerable:!0})}return tt}function withMimeType(et){var _e=et.name,tt=_e&&_e.lastIndexOf(".")!==-1;if(tt&&!et.type){var nt=_e.split(".").pop().toLowerCase(),rt=COMMON_MIME_TYPES.get(nt);rt&&Object.defineProperty(et,"type",{value:rt,writable:!1,configurable:!1,enumerable:!0})}return et}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(et){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_e){return isObject$7(et)&&isDataTransfer(et)?[2,getDataTransferFiles(et.dataTransfer,et.type)]:isChangeEvt(et)?[2,getInputFiles(et)]:Array.isArray(et)&&et.every(function(tt){return"getFile"in tt&&typeof tt.getFile=="function"})?[2,getFsHandleFiles(et)]:[2,[]]})})}function isDataTransfer(et){return isObject$7(et.dataTransfer)}function isChangeEvt(et){return isObject$7(et)&&isObject$7(et.target)}function isObject$7(et){return typeof et=="object"&&et!==null}function getInputFiles(et){return fromList(et.target.files).map(function(_e){return toFileWithPath(_e)})}function getFsHandleFiles(et){return __awaiter(this,void 0,void 0,function(){var _e;return __generator(this,function(tt){switch(tt.label){case 0:return[4,Promise.all(et.map(function(nt){return nt.getFile()}))];case 1:return _e=tt.sent(),[2,_e.map(function(nt){return toFileWithPath(nt)})]}})})}function getDataTransferFiles(et,_e){return __awaiter(this,void 0,void 0,function(){var tt,nt;return __generator(this,function(rt){switch(rt.label){case 0:return et===null?[2,[]]:et.items?(tt=fromList(et.items).filter(function(it){return it.kind==="file"}),_e!=="drop"?[2,tt]:[4,Promise.all(tt.map(toFilePromises))]):[3,2];case 1:return nt=rt.sent(),[2,noIgnoredFiles(flatten(nt))];case 2:return[2,noIgnoredFiles(fromList(et.files).map(function(it){return toFileWithPath(it)}))]}})})}function noIgnoredFiles(et){return et.filter(function(_e){return FILES_TO_IGNORE.indexOf(_e.name)===-1})}function fromList(et){if(et===null)return[];for(var _e=[],tt=0;tt<et.length;tt++){var nt=et[tt];_e.push(nt)}return _e}function toFilePromises(et){if(typeof et.webkitGetAsEntry!="function")return fromDataTransferItem(et);var _e=et.webkitGetAsEntry();return _e&&_e.isDirectory?fromDirEntry(_e):fromDataTransferItem(et)}function flatten(et){return et.reduce(function(_e,tt){return __spread(_e,Array.isArray(tt)?flatten(tt):[tt])},[])}function fromDataTransferItem(et){var _e=et.getAsFile();if(!_e)return Promise.reject(et+" is not a File");var tt=toFileWithPath(_e);return Promise.resolve(tt)}function fromEntry(et){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_e){return[2,et.isDirectory?fromDirEntry(et):fromFileEntry(et)]})})}function fromDirEntry(et){var _e=et.createReader();return new Promise(function(tt,nt){var rt=[];function it(){var st=this;_e.readEntries(function(ot){return __awaiter(st,void 0,void 0,function(){var at,lt,ct;return __generator(this,function(ut){switch(ut.label){case 0:if(ot.length)return[3,5];ut.label=1;case 1:return ut.trys.push([1,3,,4]),[4,Promise.all(rt)];case 2:return at=ut.sent(),tt(at),[3,4];case 3:return lt=ut.sent(),nt(lt),[3,4];case 4:return[3,6];case 5:ct=Promise.all(ot.map(fromEntry)),rt.push(ct),it(),ut.label=6;case 6:return[2]}})})},function(ot){nt(ot)})}it()})}function fromFileEntry(et){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_e){return[2,new Promise(function(tt,nt){et.file(function(rt){var it=toFileWithPath(rt,et.fullPath);tt(it)},function(rt){nt(rt)})})]})})}var _default=function(et,_e){if(et&&_e){var tt=Array.isArray(_e)?_e:_e.split(","),nt=et.name||"",rt=(et.type||"").toLowerCase(),it=rt.replace(/\/.*$/,"");return tt.some(function(st){var ot=st.trim().toLowerCase();return ot.charAt(0)==="."?nt.toLowerCase().endsWith(ot):ot.endsWith("/*")?it===ot.replace(/\/.*$/,""):rt===ot})}return!0};function ownKeys$2(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(et,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread$1(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$2(Object(tt),!0).forEach(function(nt){_defineProperty$2(et,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys$2(Object(tt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return et}function _defineProperty$2(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _slicedToArray$1(et,_e){return _arrayWithHoles$1(et)||_iterableToArrayLimit$1(et,_e)||_unsupportedIterableToArray$1(et,_e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(et,_e){if(!!et){if(typeof et=="string")return _arrayLikeToArray$1(et,_e);var tt=Object.prototype.toString.call(et).slice(8,-1);if(tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set")return Array.from(et);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray$1(et,_e)}}function _arrayLikeToArray$1(et,_e){(_e==null||_e>et.length)&&(_e=et.length);for(var tt=0,nt=new Array(_e);tt<_e;tt++)nt[tt]=et[tt];return nt}function _iterableToArrayLimit$1(et,_e){var tt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(tt!=null){var nt=[],rt=!0,it=!1,st,ot;try{for(tt=tt.call(et);!(rt=(st=tt.next()).done)&&(nt.push(st.value),!(_e&&nt.length===_e));rt=!0);}catch(at){it=!0,ot=at}finally{try{!rt&&tt.return!=null&&tt.return()}finally{if(it)throw ot}}return nt}}function _arrayWithHoles$1(et){if(Array.isArray(et))return et}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function et(_e){_e=Array.isArray(_e)&&_e.length===1?_e[0]:_e;var tt=Array.isArray(_e)?"one of ".concat(_e.join(", ")):_e;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(tt)}},getTooLargeRejectionErr=function et(_e){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(_e," ").concat(_e===1?"byte":"bytes")}},getTooSmallRejectionErr=function et(_e){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(_e," ").concat(_e===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(et,_e){var tt=et.type==="application/x-moz-file"||_default(et,_e);return[tt,tt?null:getInvalidTypeRejectionErr(_e)]}function fileMatchSize(et,_e,tt){if(isDefined(et.size))if(isDefined(_e)&&isDefined(tt)){if(et.size>tt)return[!1,getTooLargeRejectionErr(tt)];if(et.size<_e)return[!1,getTooSmallRejectionErr(_e)]}else{if(isDefined(_e)&&et.size<_e)return[!1,getTooSmallRejectionErr(_e)];if(isDefined(tt)&&et.size>tt)return[!1,getTooLargeRejectionErr(tt)]}return[!0,null]}function isDefined(et){return et!=null}function allFilesAccepted(et){var _e=et.files,tt=et.accept,nt=et.minSize,rt=et.maxSize,it=et.multiple,st=et.maxFiles;return!it&&_e.length>1||it&&st>=1&&_e.length>st?!1:_e.every(function(ot){var at=fileAccepted(ot,tt),lt=_slicedToArray$1(at,1),ct=lt[0],ut=fileMatchSize(ot,nt,rt),ft=_slicedToArray$1(ut,1),ht=ft[0];return ct&&ht})}function isPropagationStopped(et){return typeof et.isPropagationStopped=="function"?et.isPropagationStopped():typeof et.cancelBubble<"u"?et.cancelBubble:!1}function isEvtWithFiles(et){return et.dataTransfer?Array.prototype.some.call(et.dataTransfer.types,function(_e){return _e==="Files"||_e==="application/x-moz-file"}):!!et.target&&!!et.target.files}function onDocumentDragOver(et){et.preventDefault()}function isIe(et){return et.indexOf("MSIE")!==-1||et.indexOf("Trident/")!==-1}function isEdge(et){return et.indexOf("Edge/")!==-1}function isIeOrEdge(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(et)||isEdge(et)}function composeEventHandlers(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];return function(nt){for(var rt=arguments.length,it=new Array(rt>1?rt-1:0),st=1;st<rt;st++)it[st-1]=arguments[st];return _e.some(function(ot){return!isPropagationStopped(nt)&&ot&&ot.apply(void 0,[nt].concat(it)),isPropagationStopped(nt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function filePickerOptionsTypes(et){return et=typeof et=="string"?et.split(","):et,[{description:"everything",accept:Array.isArray(et)?et.filter(function(_e){return _e==="audio/*"||_e==="video/*"||_e==="image/*"||_e==="text/*"||/\w+\/[-+.\w]+/g.test(_e)}).reduce(function(_e,tt){return _objectSpread$1(_objectSpread$1({},_e),{},_defineProperty$2({},tt,[]))},{}):{}}]}function isAbort(et){return et instanceof DOMException&&(et.name==="AbortError"||et.code===et.ABORT_ERR)}function isSecurityError(et){return et instanceof DOMException&&(et.name==="SecurityError"||et.code===et.SECURITY_ERR)}var _excluded=["children"],_excluded2$2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(et){return _arrayWithoutHoles(et)||_iterableToArray(et)||_unsupportedIterableToArray(et)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles(et){if(Array.isArray(et))return _arrayLikeToArray(et)}function _slicedToArray(et,_e){return _arrayWithHoles(et)||_iterableToArrayLimit(et,_e)||_unsupportedIterableToArray(et,_e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(et,_e){if(!!et){if(typeof et=="string")return _arrayLikeToArray(et,_e);var tt=Object.prototype.toString.call(et).slice(8,-1);if(tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set")return Array.from(et);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray(et,_e)}}function _arrayLikeToArray(et,_e){(_e==null||_e>et.length)&&(_e=et.length);for(var tt=0,nt=new Array(_e);tt<_e;tt++)nt[tt]=et[tt];return nt}function _iterableToArrayLimit(et,_e){var tt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(tt!=null){var nt=[],rt=!0,it=!1,st,ot;try{for(tt=tt.call(et);!(rt=(st=tt.next()).done)&&(nt.push(st.value),!(_e&&nt.length===_e));rt=!0);}catch(at){it=!0,ot=at}finally{try{!rt&&tt.return!=null&&tt.return()}finally{if(it)throw ot}}return nt}}function _arrayWithHoles(et){if(Array.isArray(et))return et}function ownKeys$1(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(et,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(tt),!0).forEach(function(nt){_defineProperty$1(et,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys$1(Object(tt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return et}function _defineProperty$1(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _objectWithoutProperties(et,_e){if(et==null)return{};var tt=_objectWithoutPropertiesLoose(et,_e),nt,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(rt=0;rt<it.length;rt++)nt=it[rt],!(_e.indexOf(nt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(et,nt)||(tt[nt]=et[nt]))}return tt}function _objectWithoutPropertiesLoose(et,_e){if(et==null)return{};var tt={},nt=Object.keys(et),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(_e.indexOf(rt)>=0)&&(tt[rt]=et[rt]);return tt}var Dropzone=react.exports.forwardRef(function(et,_e){var tt=et.children,nt=_objectWithoutProperties(et,_excluded),rt=useDropzone(nt),it=rt.open,st=_objectWithoutProperties(rt,_excluded2$2);return react.exports.useImperativeHandle(_e,function(){return{open:it}},[it]),jsx(react.exports.Fragment,{children:tt(_objectSpread(_objectSpread({},st),{},{open:it}))})});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:propTypes.exports.func,accept:propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.arrayOf(propTypes.exports.string)]),multiple:propTypes.exports.bool,preventDropOnDocument:propTypes.exports.bool,noClick:propTypes.exports.bool,noKeyboard:propTypes.exports.bool,noDrag:propTypes.exports.bool,noDragEventsBubbling:propTypes.exports.bool,minSize:propTypes.exports.number,maxSize:propTypes.exports.number,maxFiles:propTypes.exports.number,disabled:propTypes.exports.bool,getFilesFromEvent:propTypes.exports.func,onFileDialogCancel:propTypes.exports.func,onFileDialogOpen:propTypes.exports.func,useFsAccessApi:propTypes.exports.bool,onDragEnter:propTypes.exports.func,onDragLeave:propTypes.exports.func,onDragOver:propTypes.exports.func,onDrop:propTypes.exports.func,onDropAccepted:propTypes.exports.func,onDropRejected:propTypes.exports.func,validator:propTypes.exports.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function useDropzone(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=_objectSpread(_objectSpread({},defaultProps),et),tt=_e.accept,nt=_e.disabled,rt=_e.getFilesFromEvent,it=_e.maxSize,st=_e.minSize,ot=_e.multiple,at=_e.maxFiles,lt=_e.onDragEnter,ct=_e.onDragLeave,ut=_e.onDragOver,ft=_e.onDrop,ht=_e.onDropAccepted,pt=_e.onDropRejected,gt=_e.onFileDialogCancel,dt=_e.onFileDialogOpen,vt=_e.useFsAccessApi,xt=_e.preventDropOnDocument,_t=_e.noClick,bt=_e.noKeyboard,At=_e.noDrag,Mt=_e.noDragEventsBubbling,Tt=_e.validator,St=react.exports.useMemo(function(){return typeof dt=="function"?dt:noop},[dt]),Ct=react.exports.useMemo(function(){return typeof gt=="function"?gt:noop},[gt]),Et=react.exports.useRef(null),Rt=react.exports.useRef(null),It=react.exports.useReducer(reducer,initialState),Ot=_slicedToArray(It,2),kt=Ot[0],$t=Ot[1],jt=kt.isFocused,Ht=kt.isFileDialogActive,Bt=kt.draggedFiles,Lt=react.exports.useRef(typeof window<"u"&&window.isSecureContext&&vt&&canUseFileSystemAccessAPI()),Ft=function(){!Lt.current&&Ht&&setTimeout(function(){if(Rt.current){var tn=Rt.current.files;tn.length||($t({type:"closeDialog"}),Ct())}},300)};react.exports.useEffect(function(){return window.addEventListener("focus",Ft,!1),function(){window.removeEventListener("focus",Ft,!1)}},[Rt,Ht,Ct,Lt]);var Vt=react.exports.useRef([]),Yt=function(tn){Et.current&&Et.current.contains(tn.target)||(tn.preventDefault(),Vt.current=[])};react.exports.useEffect(function(){return xt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Yt,!1)),function(){xt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Yt))}},[Et,xt]);var rn=react.exports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt),Vt.current=[].concat(_toConsumableArray(Vt.current),[zt.target]),isEvtWithFiles(zt)&&Promise.resolve(rt(zt)).then(function(tn){isPropagationStopped(zt)&&!Mt||($t({draggedFiles:tn,isDragActive:!0,type:"setDraggedFiles"}),lt&&lt(zt))})},[rt,lt,Mt]),sn=react.exports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt);var tn=isEvtWithFiles(zt);if(tn&&zt.dataTransfer)try{zt.dataTransfer.dropEffect="copy"}catch{}return tn&&ut&&ut(zt),!1},[ut,Mt]),cn=react.exports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt);var tn=Vt.current.filter(function(Sn){return Et.current&&Et.current.contains(Sn)}),pn=tn.indexOf(zt.target);pn!==-1&&tn.splice(pn,1),Vt.current=tn,!(tn.length>0)&&($t({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),isEvtWithFiles(zt)&&ct&&ct(zt))},[Et,ct,Mt]),Zt=react.exports.useCallback(function(zt,tn){var pn=[],Sn=[];zt.forEach(function(Pn){var Rn=fileAccepted(Pn,tt),Tn=_slicedToArray(Rn,2),wn=Tn[0],kn=Tn[1],Gn=fileMatchSize(Pn,st,it),Fn=_slicedToArray(Gn,2),Dn=Fn[0],In=Fn[1],Hn=Tt?Tt(Pn):null;if(wn&&Dn&&!Hn)pn.push(Pn);else{var ln=[kn,In];Hn&&(ln=ln.concat(Hn)),Sn.push({file:Pn,errors:ln.filter(function(Un){return Un})})}}),(!ot&&pn.length>1||ot&&at>=1&&pn.length>at)&&(pn.forEach(function(Pn){Sn.push({file:Pn,errors:[TOO_MANY_FILES_REJECTION]})}),pn.splice(0)),$t({acceptedFiles:pn,fileRejections:Sn,type:"setFiles"}),ft&&ft(pn,Sn,tn),Sn.length>0&&pt&&pt(Sn,tn),pn.length>0&&ht&&ht(pn,tn)},[$t,ot,tt,st,it,at,ft,ht,pt,Tt]),an=react.exports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt),Vt.current=[],isEvtWithFiles(zt)&&Promise.resolve(rt(zt)).then(function(tn){isPropagationStopped(zt)&&!Mt||Zt(tn,zt)}),$t({type:"reset"})},[rt,Zt,Mt]),Qt=react.exports.useCallback(function(){if(Lt.current){$t({type:"openDialog"}),St();var zt={multiple:ot,types:filePickerOptionsTypes(tt)};window.showOpenFilePicker(zt).then(function(tn){return rt(tn)}).then(function(tn){Zt(tn,null),$t({type:"closeDialog"})}).catch(function(tn){isAbort(tn)?(Ct(tn),$t({type:"closeDialog"})):isSecurityError(tn)&&(Lt.current=!1,Rt.current&&(Rt.current.value=null,Rt.current.click()))});return}Rt.current&&($t({type:"openDialog"}),St(),Rt.current.value=null,Rt.current.click())},[$t,St,Ct,vt,Zt,tt,ot]),Ut=react.exports.useCallback(function(zt){!Et.current||!Et.current.isEqualNode(zt.target)||(zt.key===" "||zt.key==="Enter"||zt.keyCode===32||zt.keyCode===13)&&(zt.preventDefault(),Qt())},[Et,Qt]),Gt=react.exports.useCallback(function(){$t({type:"focus"})},[]),Wt=react.exports.useCallback(function(){$t({type:"blur"})},[]),Jt=react.exports.useCallback(function(){_t||(isIeOrEdge()?setTimeout(Qt,0):Qt())},[_t,Qt]),Kt=function(tn){return nt?null:tn},nn=function(tn){return bt?null:Kt(tn)},fn=function(tn){return At?null:Kt(tn)},hn=function(tn){Mt&&tn.stopPropagation()},bn=react.exports.useMemo(function(){return function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tn=zt.refKey,pn=tn===void 0?"ref":tn,Sn=zt.role,Pn=zt.onKeyDown,Rn=zt.onFocus,Tn=zt.onBlur,wn=zt.onClick,kn=zt.onDragEnter,Gn=zt.onDragOver,Fn=zt.onDragLeave,Dn=zt.onDrop,In=_objectWithoutProperties(zt,_excluded3);return _objectSpread(_objectSpread(_defineProperty$1({onKeyDown:nn(composeEventHandlers(Pn,Ut)),onFocus:nn(composeEventHandlers(Rn,Gt)),onBlur:nn(composeEventHandlers(Tn,Wt)),onClick:Kt(composeEventHandlers(wn,Jt)),onDragEnter:fn(composeEventHandlers(kn,rn)),onDragOver:fn(composeEventHandlers(Gn,sn)),onDragLeave:fn(composeEventHandlers(Fn,cn)),onDrop:fn(composeEventHandlers(Dn,an)),role:typeof Sn=="string"&&Sn!==""?Sn:"button"},pn,Et),!nt&&!bt?{tabIndex:0}:{}),In)}},[Et,Ut,Gt,Wt,Jt,rn,sn,cn,an,bt,At,nt]),un=react.exports.useCallback(function(zt){zt.stopPropagation()},[]),gn=react.exports.useMemo(function(){return function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tn=zt.refKey,pn=tn===void 0?"ref":tn,Sn=zt.onChange,Pn=zt.onClick,Rn=_objectWithoutProperties(zt,_excluded4),Tn=_defineProperty$1({accept:tt,multiple:ot,type:"file",style:{display:"none"},onChange:Kt(composeEventHandlers(Sn,an)),onClick:Kt(composeEventHandlers(Pn,un)),tabIndex:-1},pn,Rt);return _objectSpread(_objectSpread({},Tn),Rn)}},[Rt,tt,ot,an,nt]),vn=Bt.length,on=vn>0&&allFilesAccepted({files:Bt,accept:tt,minSize:st,maxSize:it,multiple:ot,maxFiles:at}),Xt=vn>0&&!on;return _objectSpread(_objectSpread({},kt),{},{isDragAccept:on,isDragReject:Xt,isFocused:jt&&!nt,getRootProps:bn,getInputProps:gn,rootRef:Et,inputRef:Rt,open:Kt(Qt)})}function reducer(et,_e){switch(_e.type){case"focus":return _objectSpread(_objectSpread({},et),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},et),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},et),{},{isFileDialogActive:!1});case"setDraggedFiles":var tt=_e.isDragActive,nt=_e.draggedFiles;return _objectSpread(_objectSpread({},et),{},{draggedFiles:nt,isDragActive:tt});case"setFiles":return _objectSpread(_objectSpread({},et),{},{acceptedFiles:_e.acceptedFiles,fileRejections:_e.fileRejections});case"reset":return _objectSpread({},initialState);default:return et}}function noop(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isobject=function et(_e){return _e!=null&&typeof _e=="object"&&Array.isArray(_e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isObject$6=isobject;function isObjectObject(et){return isObject$6(et)===!0&&Object.prototype.toString.call(et)==="[object Object]"}var isPlainObject$2=function et(_e){var tt,nt;return!(isObjectObject(_e)===!1||(tt=_e.constructor,typeof tt!="function")||(nt=tt.prototype,isObjectObject(nt)===!1)||nt.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isPlainObject$1=isPlainObject$2,isExtendable$4=function et(_e){return isPlainObject$1(_e)||typeof _e=="function"||Array.isArray(_e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var forIn$1=function et(_e,tt,nt){for(var rt in _e)if(tt.call(nt,_e[rt],rt,_e)===!1)break},isExtendable$3=isExtendable$4,forIn=forIn$1;function mixinDeep(et,_e){for(var tt=arguments.length,nt=0;++nt<tt;){var rt=arguments[nt];isObject$5(rt)&&forIn(rt,copy,et)}return et}function copy(et,_e){if(!!isValidKey$1(_e)){var tt=this[_e];isObject$5(et)&&isObject$5(tt)?mixinDeep(tt,et):this[_e]=et}}function isObject$5(et){return isExtendable$3(et)&&!Array.isArray(et)}function isValidKey$1(et){return et!=="__proto__"&&et!=="constructor"&&et!=="prototype"}var mixinDeep_1=mixinDeep;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var getValue$1=function(et,_e,tt,nt,rt){if(!isObject$4(et)||!_e)return et;if(_e=toString(_e),tt&&(_e+="."+toString(tt)),nt&&(_e+="."+toString(nt)),rt&&(_e+="."+toString(rt)),_e in et)return et[_e];for(var it=_e.split("."),st=it.length,ot=-1;et&&++ot<st;){for(var at=it[ot];at[at.length-1]==="\\";)at=at.slice(0,-1)+"."+it[++ot];et=et[at]}return et};function isObject$4(et){return et!==null&&(typeof et=="object"||typeof et=="function")}function toString(et){return et?Array.isArray(et)?et.join("."):et:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var assignSymbols$1=function(et,_e){if(et===null||typeof et>"u")throw new TypeError("expected first argument to be an object.");if(typeof _e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return et;for(var tt=Object.prototype.propertyIsEnumerable,nt=Object(et),rt=arguments.length,it=0;++it<rt;)for(var st=Object(arguments[it]),ot=Object.getOwnPropertySymbols(st),at=0;at<ot.length;at++){var lt=ot[at];tt.call(st,lt)&&(nt[lt]=st[lt])}return nt},isExtendable$2=isExtendable$4,assignSymbols=assignSymbols$1,extendShallow$1=Object.assign||function(et){if(et===null||typeof et>"u")throw new TypeError("Cannot convert undefined or null to object");isObject$3(et)||(et={});for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];isString(tt)&&(tt=toObject(tt)),isObject$3(tt)&&(assign$1(et,tt),assignSymbols(et,tt))}return et};function assign$1(et,_e){for(var tt in _e)hasOwn$1(_e,tt)&&(et[tt]=_e[tt])}function isString(et){return et&&typeof et=="string"}function toObject(et){var _e={};for(var tt in et)_e[tt]=et[tt];return _e}function isObject$3(et){return et&&typeof et=="object"||isExtendable$2(et)}function hasOwn$1(et,_e){return Object.prototype.hasOwnProperty.call(et,_e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var extend$1=extendShallow$1,splitString=function(et,_e,tt){if(typeof et!="string")throw new TypeError("expected a string");typeof _e=="function"&&(tt=_e,_e=null),typeof _e=="string"&&(_e={sep:_e});var nt=extend$1({sep:"."},_e),rt=nt.quotes||['"',"'","`"],it;nt.brackets===!0?it={"<":">","(":")","[":"]","{":"}"}:nt.brackets&&(it=nt.brackets);var st=[],ot=[],at=[""],lt=nt.sep,ct=et.length,ut=-1,ft;function ht(){if(it&&ot.length)return it[ot[ot.length-1]]}for(;++ut<ct;){var pt=et[ut],gt=et[ut+1],dt={val:pt,idx:ut,arr:at,str:et};if(st.push(dt),pt==="\\"){dt.val=keepEscaping(nt,et,ut)===!0?pt+gt:gt,dt.escaped=!0,typeof tt=="function"&&tt(dt),at[at.length-1]+=dt.val,ut++;continue}if(it&&it[pt]){ot.push(pt);var vt=ht(),xt=ut+1;if(et.indexOf(vt,xt+1)!==-1)for(;ot.length&&xt<ct;){var _t=et[++xt];if(_t==="\\"){_t++;continue}if(rt.indexOf(_t)!==-1){xt=getClosingQuote(et,_t,xt+1);continue}if(vt=ht(),ot.length&&et.indexOf(vt,xt+1)===-1)break;if(it[_t]){ot.push(_t);continue}vt===_t&&ot.pop()}if(ft=xt,ft===-1){at[at.length-1]+=pt;continue}pt=et.slice(ut,ft+1),dt.val=pt,dt.idx=ut=ft}if(rt.indexOf(pt)!==-1){if(ft=getClosingQuote(et,pt,ut+1),ft===-1){at[at.length-1]+=pt;continue}keepQuotes(pt,nt)===!0?pt=et.slice(ut,ft+1):pt=et.slice(ut+1,ft),dt.val=pt,dt.idx=ut=ft}if(typeof tt=="function"&&(tt(dt,st),pt=dt.val,ut=dt.idx),dt.val===lt&&dt.split!==!1){at.push("");continue}at[at.length-1]+=dt.val}return at};function getClosingQuote(et,_e,tt,nt){var rt=et.indexOf(_e,tt);return et.charAt(rt-1)==="\\"?getClosingQuote(et,_e,rt+1):rt}function keepQuotes(et,_e){return _e.keepDoubleQuotes===!0&&et==='"'||_e.keepSingleQuotes===!0&&et==="'"?!0:_e.keepQuotes}function keepEscaping(et,_e,tt){return typeof et.keepEscaping=="function"?et.keepEscaping(_e,tt):et.keepEscaping===!0||_e[tt+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable$1=function et(_e){return typeof _e<"u"&&_e!==null&&(typeof _e=="object"||typeof _e=="function")},isObject$2=isExtendable$1,extendShallow=function et(_e){isObject$2(_e)||(_e={});for(var tt=arguments.length,nt=1;nt<tt;nt++){var rt=arguments[nt];isObject$2(rt)&&assign(_e,rt)}return _e};function assign(et,_e){for(var tt in _e)hasOwn(_e,tt)&&(et[tt]=_e[tt])}function hasOwn(et,_e){return Object.prototype.hasOwnProperty.call(et,_e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable=function et(_e){return typeof _e<"u"&&_e!==null&&(typeof _e=="object"||typeof _e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var split=splitString,extend=extendShallow,isPlainObject=isPlainObject$2,isObject$1=isExtendable,setValue=function(et,_e,tt){if(!isObject$1(et)||(Array.isArray(_e)&&(_e=[].concat.apply([],_e).join(".")),typeof _e!="string"))return et;for(var nt=split(_e,{sep:".",brackets:!0}).filter(isValidKey),rt=nt.length,it=-1,st=et;++it<rt;){var ot=nt[it];if(it!==rt-1){isObject$1(st[ot])||(st[ot]={}),st=st[ot];continue}isPlainObject(st[ot])&&isPlainObject(tt)?st[ot]=extend({},st[ot],tt):st[ot]=tt}return et};function isValidKey(et){return et!=="__proto__"&&et!=="constructor"&&et!=="prototype"}var isObject=isExtendable$4,merge=mixinDeep_1,get=getValue$1,set=setValue,mergeValue=function et(_e,tt,nt){if(!isObject(_e))throw new TypeError("expected an object");if(typeof tt!="string"||nt==null)return merge.apply(null,arguments);if(typeof nt=="string")return set(_e,tt,nt),_e;var rt=get(_e,tt);return isObject(nt)&&isObject(rt)&&(nt=merge({},rt,nt)),set(_e,tt,nt),_e};const join=(...et)=>et.filter(Boolean).join(".");function getKeyPath(et){const _e=et.split(".");return[_e.pop(),_e.join(".")||void 0]}function useToggle(et){const _e=react.exports.useRef(null),tt=react.exports.useRef(null),nt=react.exports.useRef(!0);return react.exports.useLayoutEffect(()=>{et||(_e.current.style.height="0px",_e.current.style.overflow="hidden")},[]),react.exports.useEffect(()=>{if(nt.current){nt.current=!1;return}let rt;const it=_e.current,st=()=>{et&&(it.style.removeProperty("height"),it.style.removeProperty("overflow"),tt.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};it.addEventListener("transitionend",st,{once:!0});const{height:ot}=tt.current.getBoundingClientRect();return it.style.height=ot+"px",et||(it.style.overflow="hidden",rt=window.setTimeout(()=>it.style.height="0px",50)),()=>{it.removeEventListener("transitionend",st),clearTimeout(rt)}},[et]),{wrapperRef:_e,contentRef:tt}}const useVisiblePaths=et=>{const[_e,tt]=react.exports.useState(et.getVisiblePaths());return react.exports.useEffect(()=>{tt(et.getVisiblePaths());const nt=et.useStore.subscribe(et.getVisiblePaths,tt,{equalityFn:shallow});return()=>nt()},[et]),_e};function usePopin(et=3){const _e=react.exports.useRef(null),tt=react.exports.useRef(null),[nt,rt]=react.exports.useState(!1),it=react.exports.useCallback(()=>rt(!0),[]),st=react.exports.useCallback(()=>rt(!1),[]);return react.exports.useLayoutEffect(()=>{if(nt){const{bottom:ot,top:at,left:lt}=_e.current.getBoundingClientRect(),{height:ct}=tt.current.getBoundingClientRect(),ut=ot+ct>window.innerHeight-40?"up":"down";tt.current.style.position="fixed",tt.current.style.zIndex="10000",tt.current.style.left=lt+"px",ut==="down"?tt.current.style.top=ot+et+"px":tt.current.style.bottom=window.innerHeight-at+et+"px"}},[et,nt]),{popinRef:_e,wrapperRef:tt,shown:nt,show:it,hide:st}}k$1([namesPlugin]);const convertMap={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};v8n.extend({color:()=>et=>w(et).isValid()});const schema$2=et=>v8n().color().test(et);function convert(et,{format:_e,hasAlpha:tt,isString:nt}){const rt=convertMap[_e]+(nt&&_e!=="hex"?"String":""),it=et[rt]();return typeof it=="object"&&!tt?omit(it,["a"]):it}const sanitize$2=(et,_e)=>{const tt=w(et);if(!tt.isValid())throw Error("Invalid color");return convert(tt,_e)},format$1=(et,_e)=>convert(w(et),_objectSpread2$1(_objectSpread2$1({},_e),{},{isString:!0,format:"hex"})),normalize$3=({value:et})=>{const _e=I$1(et),tt=_e==="name"?"hex":_e,nt=typeof et=="object"?"a"in et:_e==="hex"&&et.length===8||/^(rgba)|(hsla)|(hsva)/.test(et),rt={format:tt,hasAlpha:nt,isString:typeof et=="string"};return{value:sanitize$2(et,rt),settings:rt}};var props$2=Object.freeze({__proto__:null,schema:schema$2,sanitize:sanitize$2,format:format$1,normalize:normalize$3});const ColorPreview=styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),PickerContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),PickerWrapper=styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function convertToRgb(et,_e){return _e!=="rgb"?w(et).toRgb():et}function Color({value:et,displayValue:_e,settings:tt,onUpdate:nt}){const{emitOnEditStart:rt,emitOnEditEnd:it}=useInputContext(),{format:st,hasAlpha:ot}=tt,{popinRef:at,wrapperRef:lt,shown:ct,show:ut,hide:ft}=usePopin(),ht=react.exports.useRef(0),[pt,gt]=react.exports.useState(()=>convertToRgb(et,st)),dt=ot?Ce:Ne,vt=()=>{gt(convertToRgb(et,st)),ut(),rt()},xt=()=>{ft(),it(),window.clearTimeout(ht.current)},_t=()=>{ht.current=window.setTimeout(xt,500)};return react.exports.useEffect(()=>()=>window.clearTimeout(ht.current),[]),jsxs(Fragment,{children:[jsx(ColorPreview,{ref:at,active:ct,onClick:()=>vt(),style:{color:_e}}),ct&&jsxs(Portal,{children:[jsx(Overlay,{onPointerUp:xt}),jsx(PickerWrapper,{ref:lt,onMouseEnter:()=>window.clearTimeout(ht.current),onMouseLeave:bt=>bt.buttons===0&&_t(),children:jsx(dt,{color:pt,onChange:nt})})]})]})}function ColorComponent(){const{value:et,displayValue:_e,label:tt,onChange:nt,onUpdate:rt,settings:it}=useInputContext();return jsxs(Row,{input:!0,children:[jsx(Label,{children:tt}),jsxs(PickerContainer,{children:[jsx(Color,{value:et,displayValue:_e,onChange:nt,onUpdate:rt,settings:it}),jsx(ValueInput,{value:_e,onChange:nt,onUpdate:rt})]})]})}var color$1=_objectSpread2$1({component:ColorComponent},props$2);function Vector3dComponent(){const{label:et,displayValue:_e,onUpdate:tt,settings:nt}=useInputContext();return jsxs(Row,{input:!0,children:[jsx(Label,{children:et}),jsx(Vector,{value:_e,settings:nt,onUpdate:tt})]})}var vector3d=_objectSpread2$1({component:Vector3dComponent},getVectorPlugin(["x","y","z"]));const JoystickTrigger=styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),JoystickPlayground=styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Joystick({value:et,settings:_e,onUpdate:tt}){const nt=react.exports.useRef(),rt=react.exports.useRef(0),it=react.exports.useRef(0),st=react.exports.useRef(1),[ot,at]=react.exports.useState(!1),[lt,ct]=react.exports.useState(!1),[ut,ft]=useTransform(),ht=react.exports.useRef(null),pt=react.exports.useRef(null);react.exports.useLayoutEffect(()=>{if(ot){const{top:It,left:Ot,width:kt,height:$t}=ht.current.getBoundingClientRect();pt.current.style.left=Ot+kt/2+"px",pt.current.style.top=It+$t/2+"px"}},[ot]);const{keys:[gt,dt],joystick:vt}=_e,xt=vt==="invertY"?1:-1,{[gt]:{step:_t},[dt]:{step:bt}}=_e,At=useTh("sizes","joystickWidth"),Mt=useTh("sizes","joystickHeight"),Tt=parseFloat(At)*.8/2,St=parseFloat(Mt)*.8/2,Ct=react.exports.useCallback(()=>{nt.current||(ct(!0),rt.current&&ft({x:rt.current*Tt}),it.current&&ft({y:it.current*-St}),nt.current=window.setInterval(()=>{tt(It=>{const Ot=_t*rt.current*st.current,kt=xt*bt*it.current*st.current;return Array.isArray(It)?{[gt]:It[0]+Ot,[dt]:It[1]+kt}:{[gt]:It[gt]+Ot,[dt]:It[dt]+kt}})},16))},[Tt,St,tt,ft,_t,bt,gt,dt,xt]),Et=react.exports.useCallback(()=>{window.clearTimeout(nt.current),nt.current=void 0,ct(!1)},[]);react.exports.useEffect(()=>{function It(Ot){st.current=multiplyStep(Ot)}return window.addEventListener("keydown",It),window.addEventListener("keyup",It),()=>{window.clearTimeout(nt.current),window.removeEventListener("keydown",It),window.removeEventListener("keyup",It)}},[]);const Rt=useDrag(({first:It,active:Ot,delta:[kt,$t],movement:[jt,Ht]})=>{It&&at(!0);const Bt=clamp(jt,-Tt,Tt),Lt=clamp(Ht,-St,St);rt.current=Math.abs(jt)>Math.abs(Bt)?Math.sign(jt-Bt):0,it.current=Math.abs(Ht)>Math.abs(Lt)?Math.sign(Lt-Ht):0;let Ft=et[gt],Vt=et[dt];Ot?(rt.current||(Ft+=kt*_t*st.current,ft({x:Bt})),it.current||(Vt-=xt*$t*bt*st.current,ft({y:Lt})),rt.current||it.current?Ct():Et(),tt({[gt]:Ft,[dt]:Vt})):(at(!1),rt.current=0,it.current=0,ft({x:0,y:0}),Et())});return jsx(JoystickTrigger,{ref:ht,...Rt(),children:ot&&jsx(Portal,{children:jsxs(JoystickPlayground,{ref:pt,isOutOfBounds:lt,children:[jsx("div",{}),jsx("span",{ref:ut})]})})})}const Container$1=styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Vector2dComponent(){const{label:et,displayValue:_e,onUpdate:tt,settings:nt}=useInputContext();return jsxs(Row,{input:!0,children:[jsx(Label,{children:et}),jsxs(Container$1,{withJoystick:!!nt.joystick,children:[nt.joystick&&jsx(Joystick,{value:_e,settings:nt,onUpdate:tt}),jsx(Vector,{value:_e,settings:nt,onUpdate:tt})]})]})}const _excluded$7=["joystick"],plugin=getVectorPlugin(["x","y"]),normalize$2=et=>{let{joystick:_e=!0}=et,tt=_objectWithoutProperties$1(et,_excluded$7);const{value:nt,settings:rt}=plugin.normalize(tt);return{value:nt,settings:_objectSpread2$1(_objectSpread2$1({},rt),{},{joystick:_e})}};var vector2d=_objectSpread2$1(_objectSpread2$1({component:Vector2dComponent},plugin),{},{normalize:normalize$2});const sanitize$1=et=>{if(et!==void 0){if(et instanceof File)try{return URL.createObjectURL(et)}catch{return}if(typeof et=="string"&&et.indexOf("blob:")===0)return et;throw Error("Invalid image format [undefined | blob |\xA0File].")}},schema$1=(et,_e)=>typeof _e=="object"&&"image"in _e,normalize$1=({image:et})=>({value:et});var props$1=Object.freeze({__proto__:null,sanitize:sanitize$1,schema:schema$1,normalize:normalize$1});const ImageContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),DropZone=styled("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ImagePreview=styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ImageLargePreview=styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Instructions=styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Remove=styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function ImageComponent(){const{label:et,value:_e,onUpdate:tt,disabled:nt}=useInputContext(),{popinRef:rt,wrapperRef:it,shown:st,show:ot,hide:at}=usePopin(),lt=react.exports.useCallback(pt=>{pt.length&&tt(pt[0])},[tt]),ct=react.exports.useCallback(pt=>{pt.stopPropagation(),tt(void 0)},[tt]),{getRootProps:ut,getInputProps:ft,isDragAccept:ht}=useDropzone({maxFiles:1,accept:"image/*",onDrop:lt,disabled:nt});return jsxs(Row,{input:!0,children:[jsx(Label,{children:et}),jsxs(ImageContainer,{children:[jsx(ImagePreview,{ref:rt,hasImage:!!_e,onPointerDown:()=>!!_e&&ot(),onPointerUp:at,style:{backgroundImage:_e?`url(${_e})`:"none"}}),st&&!!_e&&jsxs(Portal,{children:[jsx(Overlay,{onPointerUp:at,style:{cursor:"pointer"}}),jsx(ImageLargePreview,{ref:it,style:{backgroundImage:`url(${_e})`}})]}),jsxs(DropZone,{...ut({isDragAccept:ht}),children:[jsx("input",{...ft()}),jsx(Instructions,{children:ht?"drop image":"click or drop"})]}),jsx(Remove,{onClick:ct,disabled:!_e})]})]})}var image=_objectSpread2$1({component:ImageComponent},props$1);const number=v8n().number(),schema=(et,_e)=>v8n().array().length(2).every.number().test(et)&&v8n().schema({min:number,max:number}).test(_e),format=et=>({min:et[0],max:et[1]}),sanitize=(et,{bounds:[_e,tt]},nt)=>{const rt=Array.isArray(et)?format(et):et,it={min:nt[0],max:nt[1]},{min:st,max:ot}=_objectSpread2$1(_objectSpread2$1({},it),rt);return[clamp(Number(st),_e,Math.max(_e,ot)),clamp(Number(ot),Math.min(tt,st),tt)]},normalize=({value:et,min:_e,max:tt})=>{const nt={min:_e,max:tt},rt=normalizeKeyedNumberSettings(format(et),{min:nt,max:nt}),it=[_e,tt],st=_objectSpread2$1(_objectSpread2$1({},rt),{},{bounds:it});return{value:sanitize(format(et),st,et),settings:st}};var props=Object.freeze({__proto__:null,schema,format,sanitize,normalize});const _excluded$6=["value","bounds","onDrag"],_excluded2$1=["bounds"],Container=styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function IntervalSlider(et){let{value:_e,bounds:[tt,nt],onDrag:rt}=et,it=_objectWithoutProperties$1(et,_excluded$6);const st=react.exports.useRef(null),ot=react.exports.useRef(null),at=react.exports.useRef(null),lt=react.exports.useRef(0),ct=useTh("sizes","scrubberWidth"),ut=useDrag(({event:pt,first:gt,xy:[dt],movement:[vt],memo:xt={}})=>{if(gt){const{width:bt,left:At}=st.current.getBoundingClientRect();lt.current=bt-parseFloat(ct);const Mt=(pt==null?void 0:pt.target)===ot.current||(pt==null?void 0:pt.target)===at.current;xt.pos=invertedRange((dt-At)/bt,tt,nt);const Tt=Math.abs(xt.pos-_e.min)-Math.abs(xt.pos-_e.max);xt.key=Tt<0||Tt===0&&xt.pos<=_e.min?"min":"max",Mt&&(xt.pos=_e[xt.key])}const _t=xt.pos+invertedRange(vt/lt.current,0,nt-tt);return rt({[xt.key]:sanitizeStep(_t,it[xt.key])}),xt}),ft=`calc(${range(_e.min,tt,nt)} * (100% - ${ct} - 8px) + 4px)`,ht=`calc(${1-range(_e.max,tt,nt)} * (100% - ${ct} - 8px) + 4px)`;return jsxs(RangeWrapper,{ref:st,...ut(),children:[jsx(Range,{children:jsx(Indicator,{style:{left:ft,right:ht}})}),jsx(Scrubber,{position:"left",ref:ot,style:{left:ft}}),jsx(Scrubber,{position:"right",ref:at,style:{right:ht}})]})}function IntervalComponent(){const{label:et,displayValue:_e,onUpdate:tt,settings:nt}=useInputContext(),rt=_objectWithoutProperties$1(nt,_excluded2$1);return jsx(Fragment,{children:jsxs(Row,{input:!0,children:[jsx(Label,{children:et}),jsxs(Container,{children:[jsx(IntervalSlider,{value:_e,...nt,onDrag:tt}),jsx(Vector,{value:_e,settings:rt,onUpdate:tt,innerLabelTrim:0})]})]})})}var interval=_objectSpread2$1({component:IntervalComponent},props);const createEventEmitter=()=>{const et=new Map;return{on:(_e,tt)=>{let nt=et.get(_e);nt===void 0&&(nt=new Set,et.set(_e,nt)),nt.add(tt)},off:(_e,tt)=>{const nt=et.get(_e);nt!==void 0&&(nt.delete(tt),nt.size===0&&et.delete(_e))},emit:(_e,...tt)=>{const nt=et.get(_e);if(nt!==void 0)for(const rt of nt)rt(...tt)}}},_excluded$5=["type","value"],_excluded2=["onChange","transient","onEditStart","onEditEnd"],Store=function et(){const _e=create$1(subscribeWithSelector(()=>({data:{}}))),tt=createEventEmitter();this.storeId=getUid(),this.useStore=_e;const nt={},rt=new Set;this.getVisiblePaths=()=>{const st=this.getData(),ot=Object.keys(st),at=[];Object.entries(nt).forEach(([ct,ut])=>{ut.render&&ot.some(ft=>ft.indexOf(ct)===0)&&!ut.render(this.get)&&at.push(ct+".")});const lt=[];return rt.forEach(ct=>{ct in st&&st[ct].__refCount>0&&at.every(ut=>ct.indexOf(ut)===-1)&&(!st[ct].render||st[ct].render(this.get))&&lt.push(ct)}),lt},this.setOrderedPaths=st=>{st.forEach(ot=>rt.add(ot))},this.orderPaths=st=>(this.setOrderedPaths(st),st),this.disposePaths=st=>{_e.setState(ot=>{const at=ot.data;return st.forEach(lt=>{if(lt in at){const ct=at[lt];ct.__refCount--,ct.__refCount===0&&ct.type in SpecialInputs&&delete at[lt]}}),{data:at}})},this.dispose=()=>{_e.setState(()=>({data:{}}))},this.getFolderSettings=st=>nt[st]||{},this.getData=()=>_e.getState().data,this.addData=(st,ot)=>{_e.setState(at=>{const lt=at.data;return Object.entries(st).forEach(([ct,ut])=>{let ft=lt[ct];if(ft){const{type:ht,value:pt}=ut,gt=_objectWithoutProperties$1(ut,_excluded$5);ht!==ft.type?warn(LevaErrors.INPUT_TYPE_OVERRIDE,ht):((ft.__refCount===0||ot)&&Object.assign(ft,gt),ft.__refCount++)}else lt[ct]=_objectSpread2$1(_objectSpread2$1({},ut),{},{__refCount:1})}),{data:lt}})},this.setValueAtPath=(st,ot,at)=>{_e.setState(lt=>{const ct=lt.data;return updateInput(ct[st],ot,st,this,at),{data:ct}})},this.setSettingsAtPath=(st,ot)=>{_e.setState(at=>{const lt=at.data;return lt[st].settings=_objectSpread2$1(_objectSpread2$1({},lt[st].settings),ot),{data:lt}})},this.disableInputAtPath=(st,ot)=>{_e.setState(at=>{const lt=at.data;return lt[st].disabled=ot,{data:lt}})},this.set=(st,ot)=>{_e.setState(at=>{const lt=at.data;return Object.entries(st).forEach(([ct,ut])=>{try{updateInput(lt[ct],ut,void 0,void 0,ot)}catch{}}),{data:lt}})},this.getInput=st=>{try{return this.getData()[st]}catch{warn(LevaErrors.PATH_DOESNT_EXIST,st)}},this.get=st=>{var ot;return(ot=this.getInput(st))===null||ot===void 0?void 0:ot.value},this.emitOnEditStart=st=>{tt.emit(`onEditStart:${st}`,this.get(st),st,_objectSpread2$1(_objectSpread2$1({},this.getInput(st)),{},{get:this.get}))},this.emitOnEditEnd=st=>{tt.emit(`onEditEnd:${st}`,this.get(st),st,_objectSpread2$1(_objectSpread2$1({},this.getInput(st)),{},{get:this.get}))},this.subscribeToEditStart=(st,ot)=>{const at=`onEditStart:${st}`;return tt.on(at,ot),()=>tt.off(at,ot)},this.subscribeToEditEnd=(st,ot)=>{const at=`onEditEnd:${st}`;return tt.on(at,ot),()=>tt.off(at,ot)};const it=(st,ot,at)=>{const lt={};return Object.entries(st).forEach(([ct,ut])=>{if(ct==="")return warn(LevaErrors.EMPTY_KEY);let ft=join(ot,ct);if(ut.type===SpecialInputs.FOLDER){const ht=it(ut.schema,ft,at);Object.assign(lt,ht),ft in nt||(nt[ft]=ut.settings)}else if(ct in at)warn(LevaErrors.DUPLICATE_KEYS,ct,ft,at[ct].path);else{const ht=normalizeInput(ut,ct,ft,lt);if(ht){const{type:pt,options:gt,input:dt}=ht,{onChange:vt,transient:xt,onEditStart:_t,onEditEnd:bt}=gt,At=_objectWithoutProperties$1(gt,_excluded2);lt[ft]=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({type:pt},At),dt),{},{fromPanel:!0}),at[ct]={path:ft,onChange:vt,transient:xt,onEditStart:_t,onEditEnd:bt}}else warn(LevaErrors.UNKNOWN_INPUT,ft,ut)}}),lt};this.getDataFromSchema=st=>{const ot={};return[it(st,"",ot),ot]}};new Store;const isInput=et=>"__levaInput"in et,buildTree=(et,_e)=>{const tt={},nt=_e?_e.toLowerCase():null;return et.forEach(rt=>{const[it,st]=getKeyPath(rt);(!nt||it.toLowerCase().indexOf(nt)>-1)&&mergeValue(tt,st,{[it]:{__levaInput:!0,path:rt}})}),tt};function FolderTitle({toggle:et,toggled:_e,name:tt}){return jsxs(StyledTitle,{onClick:()=>et(),children:[jsx(Chevron,{toggled:_e}),jsx("div",{children:tt})]})}const _excluded$4=["type","label","path","valueKey","value","settings","setValue","disabled"];function ControlInput(et){let{type:_e,label:tt,path:nt,valueKey:rt,value:it,settings:st,setValue:ot,disabled:at}=et,lt=_objectWithoutProperties$1(et,_excluded$4);const{displayValue:ct,onChange:ut,onUpdate:ft}=useInputSetters({type:_e,value:it,settings:st,setValue:ot}),ht=Plugins[_e].component;return ht?jsx(InputContext.Provider,{value:_objectSpread2$1({key:rt,path:nt,id:""+nt,label:tt,displayValue:ct,value:it,onChange:ut,onUpdate:ft,settings:st,setValue:ot,disabled:at},lt),children:jsx(StyledInputWrapper$1,{disabled:at,children:jsx(ht,{})})}):(warn(LevaErrors.NO_COMPONENT_FOR_TYPE,_e,nt),null)}const StyledButton=styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Button({onClick:et,settings:_e,label:tt}){const nt=useStoreContext();return jsx(Row,{children:jsx(StyledButton,{disabled:_e.disabled,onClick:()=>et(nt.get),children:tt})})}const StyledButtonGroup=styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),StyledButtonGroupButton=styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),getOpts=({label:et,opts:_e})=>{let tt=typeof et=="string"&&et.trim()===""?null:et,nt=_e;return typeof _e.opts=="object"&&(nt.label!==void 0&&(tt=_e.label),nt=_e.opts),{label:tt,opts:nt}};function ButtonGroup(et){const{label:_e,opts:tt}=getOpts(et),nt=useStoreContext();return jsxs(Row,{input:!!_e,children:[_e&&jsx(Label,{children:_e}),jsx(StyledButtonGroup,{children:Object.entries(tt).map(([rt,it])=>jsx(StyledButtonGroupButton,{onClick:()=>it(nt.get),children:rt},rt))})]})}const Canvas=styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),POINTS=100;function push(et,_e){et.push(_e),et.length>POINTS&&et.shift()}const MonitorCanvas=react.exports.forwardRef(function({initialValue:et},_e){const tt=useTh("colors","highlight3"),nt=useTh("colors","elevation2"),rt=useTh("colors","highlight1"),[it,st]=react.exports.useMemo(()=>[w(rt).alpha(.4).toRgbString(),w(rt).alpha(.1).toRgbString()],[rt]),ot=react.exports.useRef([et]),at=react.exports.useRef(et),lt=react.exports.useRef(et),ct=react.exports.useRef(),ut=react.exports.useCallback((pt,gt)=>{if(!pt)return;const{width:dt,height:vt}=pt,xt=new Path2D,_t=dt/POINTS,bt=vt*.05;for(let Tt=0;Tt<ot.current.length;Tt++){const St=range(ot.current[Tt],at.current,lt.current),Ct=_t*Tt,Et=vt-St*(vt-bt*2)-bt;xt.lineTo(Ct,Et)}gt.clearRect(0,0,dt,vt);const At=new Path2D(xt);At.lineTo(_t*(ot.current.length+1),vt),At.lineTo(0,vt),At.lineTo(0,0);const Mt=gt.createLinearGradient(0,0,0,vt);Mt.addColorStop(0,it),Mt.addColorStop(1,st),gt.fillStyle=Mt,gt.fill(At),gt.strokeStyle=nt,gt.lineJoin="round",gt.lineWidth=14,gt.stroke(xt),gt.strokeStyle=tt,gt.lineWidth=2,gt.stroke(xt)},[tt,nt,it,st]),[ft,ht]=useCanvas2d(ut);return react.exports.useImperativeHandle(_e,()=>({frame:pt=>{(at.current===void 0||pt<at.current)&&(at.current=pt),(lt.current===void 0||pt>lt.current)&&(lt.current=pt),push(ot.current,pt),ct.current=requestAnimationFrame(()=>ut(ft.current,ht.current))}}),[ft,ht,ut]),react.exports.useEffect(()=>()=>cancelAnimationFrame(ct.current),[]),jsx(Canvas,{ref:ft})}),parse=et=>Number.isFinite(et)?et.toPrecision(2):et.toString(),MonitorLog=react.exports.forwardRef(function({initialValue:et},_e){const[tt,nt]=react.exports.useState(parse(et));return react.exports.useImperativeHandle(_e,()=>({frame:rt=>nt(parse(rt))}),[]),jsx("div",{children:tt})});function getValue(et){return typeof et=="function"?et():et.current}function Monitor({label:et,objectOrFn:_e,settings:tt}){const nt=react.exports.useRef(),rt=react.exports.useRef(getValue(_e));return react.exports.useEffect(()=>{const it=window.setInterval(()=>{var st;document.hidden||(st=nt.current)===null||st===void 0||st.frame(getValue(_e))},tt.interval);return()=>window.clearInterval(it)},[_e,tt.interval]),jsxs(Row,{input:!0,children:[jsx(Label,{align:"top",children:et}),tt.graph?jsx(MonitorCanvas,{ref:nt,initialValue:rt.current}):jsx(MonitorLog,{ref:nt,initialValue:rt.current})]})}const _excluded$3=["type","label","key"],specialComponents={[SpecialInputs.BUTTON]:Button,[SpecialInputs.BUTTON_GROUP]:ButtonGroup,[SpecialInputs.MONITOR]:Monitor},Control=React.memo(({path:et})=>{const[_e,{set:tt,setSettings:nt,disable:rt,storeId:it,emitOnEditStart:st,emitOnEditEnd:ot}]=useInput(et);if(!_e)return null;const{type:at,label:lt,key:ct}=_e,ut=_objectWithoutProperties$1(_e,_excluded$3);if(at in SpecialInputs){const ft=specialComponents[at];return jsx(ft,{label:lt,path:et,...ut})}return at in Plugins?jsx(ControlInput,{type:at,label:lt,storeId:it,path:et,valueKey:ct,setValue:tt,setSettings:nt,disable:rt,emitOnEditStart:st,emitOnEditEnd:ot,...ut},it+et):(log(LevaErrors.UNSUPPORTED_INPUT,at,et),null)}),Folder=({name:et,path:_e,tree:tt})=>{const nt=useStoreContext(),rt=join(_e,et),{collapsed:it,color:st}=nt.getFolderSettings(rt),[ot,at]=react.exports.useState(!it),lt=react.exports.useRef(null),ct=useTh("colors","folderWidgetColor"),ut=useTh("colors","folderTextColor");return react.exports.useLayoutEffect(()=>{lt.current.style.setProperty("--leva-colors-folderWidgetColor",st||ct),lt.current.style.setProperty("--leva-colors-folderTextColor",st||ut)},[st,ct,ut]),jsxs(StyledFolder,{ref:lt,children:[jsx(FolderTitle,{name:et,toggled:ot,toggle:()=>at(ft=>!ft)}),jsx(TreeWrapper,{parent:rt,tree:tt,toggled:ot})]})},TreeWrapper=React.memo(({isRoot:et=!1,fill:_e=!1,flat:tt=!1,parent:nt,tree:rt,toggled:it})=>{const{wrapperRef:st,contentRef:ot}=useToggle(it);return jsx(StyledWrapper,{ref:st,isRoot:et,fill:_e,flat:tt,children:jsx(StyledContent,{ref:ot,isRoot:et,toggled:it,children:Object.entries(rt).map(([at,lt])=>isInput(lt)?jsx(Control,{valueKey:lt.valueKey,path:lt.path},lt.path):jsx(Folder,{name:at,path:nt,tree:lt},at))})})}),StyledRoot=styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),iconWidth=40,Icon=styled("i",{$flexCenter:"",width:iconWidth,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),StyledTitleWithFilter=styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),FilterWrapper=styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Icon}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),StyledFilterInput=styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),TitleContainer=styled("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:iconWidth}}}}),FilterInput=React.forwardRef(({setFilter:et,toggle:_e},tt)=>{const[nt,rt]=react.exports.useState(""),it=react.exports.useMemo(()=>debounce(et,250),[et]),st=()=>{et(""),rt("")},ot=at=>{const lt=at.currentTarget.value;_e(!0),rt(lt)};return react.exports.useEffect(()=>{it(nt)},[nt,it]),jsxs(Fragment,{children:[jsx(StyledFilterInput,{ref:tt,value:nt,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:at=>at.stopPropagation(),onChange:ot}),jsx(Icon,{onClick:()=>st(),style:{visibility:nt?"visible":"hidden"},children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor",children:jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})});function TitleWithFilter({setFilter:et,onDrag:_e,onDragStart:tt,onDragEnd:nt,toggle:rt,toggled:it,title:st,drag:ot,filterEnabled:at,from:lt}){const[ct,ut]=react.exports.useState(!1),ft=react.exports.useRef(null);react.exports.useEffect(()=>{var pt,gt;ct?(pt=ft.current)===null||pt===void 0||pt.focus():(gt=ft.current)===null||gt===void 0||gt.blur()},[ct]);const ht=useDrag(({offset:[pt,gt],first:dt,last:vt})=>{_e({x:pt,y:gt}),dt&&tt({x:pt,y:gt}),vt&&nt({x:pt,y:gt})},{filterTaps:!0,from:({offset:[pt,gt]})=>[(lt==null?void 0:lt.x)||pt,(lt==null?void 0:lt.y)||gt]});return react.exports.useEffect(()=>{const pt=gt=>{gt.key==="L"&&gt.shiftKey&&gt.metaKey&&ut(dt=>!dt)};return window.addEventListener("keydown",pt),()=>window.removeEventListener("keydown",pt)},[]),jsxs(Fragment,{children:[jsxs(StyledTitleWithFilter,{mode:ot?"drag":void 0,children:[jsx(Icon,{active:!it,onClick:()=>rt(),children:jsx(Chevron,{toggled:it,width:12,height:8})}),jsx(TitleContainer,{...ot?ht():{},drag:ot,filterEnabled:at,children:st===void 0&&ot?jsxs("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg",children:[jsx("circle",{cx:"2",cy:"2",r:"2"}),jsx("circle",{cx:"14",cy:"2",r:"2"}),jsx("circle",{cx:"26",cy:"2",r:"2"}),jsx("circle",{cx:"2",cy:"12",r:"2"}),jsx("circle",{cx:"14",cy:"12",r:"2"}),jsx("circle",{cx:"26",cy:"12",r:"2"})]}):st}),at&&jsx(Icon,{active:ct,onClick:()=>ut(pt=>!pt),children:jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20",children:[jsx("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})]})})]}),jsx(FilterWrapper,{toggled:ct,children:jsx(FilterInput,{ref:ft,setFilter:et,toggle:rt})})]})}React.memo(({store:et,rootClass:_e,fill:tt=!1,flat:nt=!1,neverHide:rt=!1,oneLineLabels:it=!1,titleBar:st={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:ot=!1,toggled:at,setToggle:lt})=>{var ct,ut;const ft=useVisiblePaths(et),[ht,pt]=react.exports.useState(""),gt=react.exports.useMemo(()=>buildTree(ft,ht),[ft,ht]),[dt,vt]=useTransform(),xt=rt||ft.length>0,_t=typeof st=="object"&&st.title||void 0,bt=typeof st=="object"&&(ct=st.drag)!==null&&ct!==void 0?ct:!0,At=typeof st=="object"&&(ut=st.filter)!==null&&ut!==void 0?ut:!0,Mt=typeof st=="object"&&st.position||void 0,Tt=typeof st=="object"&&st.onDrag||void 0,St=typeof st=="object"&&st.onDragStart||void 0,Ct=typeof st=="object"&&st.onDragEnd||void 0;return React.useEffect(()=>{vt({x:Mt==null?void 0:Mt.x,y:Mt==null?void 0:Mt.y})},[Mt,vt]),globalStyles(),jsx(PanelSettingsContext.Provider,{value:{hideCopyButton:ot},children:jsxs(StyledRoot,{ref:dt,className:_e,fill:tt,flat:nt,oneLineLabels:it,hideTitleBar:!st,style:{display:xt?"block":"none"},children:[st&&jsx(TitleWithFilter,{onDrag:Et=>{vt(Et),Tt==null||Tt(Et)},onDragStart:Et=>St==null?void 0:St(Et),onDragEnd:Et=>Ct==null?void 0:Ct(Et),setFilter:pt,toggle:Et=>lt(Rt=>Et!=null?Et:!Rt),toggled:at,title:_t,drag:bt,filterEnabled:At,from:Mt}),xt&&jsx(StoreContext.Provider,{value:et,children:jsx(TreeWrapper,{isRoot:!0,fill:tt,flat:nt,tree:gt,toggled:at})})]})})});register(LevaInputs.SELECT,select);register(LevaInputs.IMAGE,image);register(LevaInputs.NUMBER,number$1);register(LevaInputs.COLOR,color$1);register(LevaInputs.STRING,string);register(LevaInputs.BOOLEAN,boolean);register(LevaInputs.INTERVAL,interval);register(LevaInputs.VECTOR3D,vector3d);register(LevaInputs.VECTOR2D,vector2d);function getUniform(et){return typeof et=="string"?new Color$2(et).convertLinearToSRGB():et}function getSpecialParameters(et){switch(et){case"alpha":return{min:0,max:1};case"scale":return{min:0};case"map":return{image:void 0};default:return{}}}function getLayerMaterialArgs({color:et,alpha:_e,lighting:tt,name:nt,...rt}={}){return[{color:et,alpha:_e,lighting:tt,name:nt},rt]}function isSerializableType(et){return et instanceof Vector3||et instanceof Vector2||et instanceof Vector4||et instanceof Matrix3||et instanceof Matrix4}function serializeProp(et){return isSerializableType(et)?et.toArray():et instanceof Color$2?"#"+et.clone().convertLinearToSRGB().getHexString():et instanceof Texture?et.image.src:et}const BlendModes={normal:"normal",add:"add",subtract:"subtract",multiply:"multiply",lighten:"lighten",darken:"darken",divide:"divide",overlay:"overlay",screen:"screen",softlight:"softlight",negation:"negation",reflect:"reflect"},NoiseTypes={perlin:"perlin",simplex:"simplex",cell:"cell",curl:"curl",white:"white"},MappingTypes={local:"local",world:"world",uv:"uv"},ShadingTypes={phong:MeshPhongMaterial,physical:MeshPhysicalMaterial,toon:MeshToonMaterial,basic:MeshBasicMaterial,lambert:MeshLambertMaterial,standard:MeshStandardMaterial};class Abstract{constructor(_e,tt,nt){this.uuid=MathUtils.generateUUID().replace(/-/g,"_"),this.name="LayerMaterial",this.mode="normal",this.visible=!0;const it=Object.getOwnPropertyNames(_e).filter(ot=>ot.startsWith("u_")).reduce((ot,at)=>{var lt;let ct=(lt=Object.getOwnPropertyDescriptor(_e,at))==null?void 0:lt.value;return(isSerializableType(ct)||ct instanceof Color$2)&&(ct=ct.clone()),{...ot,[at.slice(1)]:ct}},{});for(const ot in it){const at=ot.split("_")[1];(tt==null?void 0:tt[at])!==void 0&&(it[ot]=tt[at])}tt&&Object.keys(tt).map(ot=>{tt[ot]!==void 0&&(this[ot]=tt[ot])}),this.uniforms={},this.schema=[];const st={};Object.keys(it).map(ot=>{const at=ot.split("_")[1];this.uniforms[`u_${this.uuid}_${at}`]={value:getUniform(it[ot])},this.schema.push({value:it[ot],label:at}),st[at]={set:lt=>{this.uniforms[`u_${this.uuid}_${at}`].value=getUniform(lt)},get:()=>this.uniforms[`u_${this.uuid}_${at}`].value}}),tt!=null&&tt.name&&(this.name=tt.name),tt!=null&&tt.mode&&(this.mode=tt.mode),tt!=null&&tt.visible&&(this.visible=tt.visible),Object.defineProperties(this,st),this.vertexShader="",this.fragmentShader="",this.vertexVariables="",this.fragmentVariables="",this.onParse=nt,this.buildShaders(_e),this.schema.push({value:this.mode,label:"mode",options:Object.values(BlendModes)}),this.schema.push({value:this.visible,label:"visible"})}buildShaders(_e){var tt;const nt=Object.getOwnPropertyNames(_e).filter(ct=>ct==="fragmentShader"||ct==="vertexShader").reduce((ct,ut)=>{var ft;return{...ct,[ut]:(ft=Object.getOwnPropertyDescriptor(_e,ut))==null?void 0:ft.value}},{}),rt={vert:string$1(nt.vertexShader||""),frag:string$1(nt.fragmentShader||"")},it={vert:glslTokenDescope_1(rt.vert,this.renameTokens.bind(this)),frag:glslTokenDescope_1(rt.frag,this.renameTokens.bind(this))},st={vert:glslTokenFunctions(it.vert),frag:glslTokenFunctions(it.frag)},ot={vert:st.vert.map(ct=>ct.name).indexOf("main"),frag:st.frag.map(ct=>ct.name).indexOf("main")},at={vert:ot.vert>=0?glslTokenString(it.vert.slice(0,st.vert[ot.vert].outer[0])):"",frag:ot.frag>=0?glslTokenString(it.frag.slice(0,st.frag[ot.frag].outer[0])):""},lt={vert:ot.vert>=0?this.getShaderFromIndex(it.vert,st.vert[ot.vert].body):"",frag:ot.frag>=0?this.getShaderFromIndex(it.frag,st.frag[ot.frag].body):""};this.vertexShader=this.processFinal(lt.vert,!0),this.fragmentShader=this.processFinal(lt.frag),this.vertexVariables=at.vert,this.fragmentVariables=at.frag,(tt=this.onParse)==null||tt.call(this,this),this.schema=this.schema.filter((ct,ut)=>{const ft=ct.label;return ut===this.schema.findIndex(ht=>ht.label===ft)})}renameTokens(_e){if(_e.startsWith("u_")){const tt=_e.slice(2);return`u_${this.uuid}_${tt}`}else if(_e.startsWith("v_")){const tt=_e.slice(2);return`v_${this.uuid}_${tt}`}else if(_e.startsWith("f_")){const tt=_e.slice(2);return`f_${this.uuid}_${tt}`}else return _e}processFinal(_e,tt){const nt=_e.replace(/\sf_/gm,` f_${this.uuid}_`).replace(/\(f_/gm,`(f_${this.uuid}_`),rt=nt.match(/^.*return.*$/gm);let it=nt.replace(/^.*return.*$/gm,"");if(rt!=null&&rt[0]){const st=rt[0].replace("return","").trim().replace(";",""),ot=this.getBlendMode(st,"lamina_finalColor");it+=tt?`lamina_finalPosition = ${st};`:`lamina_finalColor = ${ot};`}return it}getShaderFromIndex(_e,tt){return glslTokenString(_e.slice(tt[0],tt[1]))}getBlendMode(_e,tt){switch(this.mode){default:case"normal":return`lamina_blend_alpha(${tt}, ${_e}, ${_e}.a)`;case"add":return`lamina_blend_add(${tt}, ${_e}, ${_e}.a)`;case"subtract":return`lamina_blend_subtract(${tt}, ${_e}, ${_e}.a)`;case"multiply":return`lamina_blend_multiply(${tt}, ${_e}, ${_e}.a)`;case"lighten":return`lamina_blend_lighten(${tt}, ${_e}, ${_e}.a)`;case"darken":return`lamina_blend_darken(${tt}, ${_e}, ${_e}.a)`;case"divide":return`lamina_blend_divide(${tt}, ${_e}, ${_e}.a)`;case"overlay":return`lamina_blend_overlay(${tt}, ${_e}, ${_e}.a)`;case"screen":return`lamina_blend_screen(${tt}, ${_e}, ${_e}.a)`;case"softlight":return`lamina_blend_softlight(${tt}, ${_e}, ${_e}.a)`;case"reflect":return`lamina_blend_reflect(${tt}, ${_e}, ${_e}.a)`;case"negation":return`lamina_blend_negation(${tt}, ${_e}, ${_e}.a)`}}getSchema(){return this.schema.map(({label:tt,options:nt,...rt})=>({label:tt,options:nt,...getSpecialParameters(tt),...rt,value:serializeProp(this[tt])}))}serialize(){const _e=this.constructor.name.split("$")[0];let tt=Object.keys(this);tt=tt.filter(it=>!["uuid","uniforms","schema","fragmentShader","vertexShader","fragmentVariables","vertexVariables","attribs","events","__r3f","onParse"].includes(it));const nt={};tt.forEach(it=>{nt[it]=this[it]});const rt={};for(const it in this.uniforms){const st=it.replace(`u_${this.uuid}_`,"");rt[st]=serializeProp(this.uniforms[it].value)}return{constructor:_e,properties:{...rt,...nt}}}}class Depth$1 extends Abstract{constructor(_e){super(Depth$1,{name:"Depth",..._e},tt=>{tt.schema.push({value:tt.mapping,label:"mapping",options:["vector","world","camera"]});const nt=Depth$1.getMapping(tt.uuid,tt.mapping);tt.fragmentShader=tt.fragmentShader.replace("lamina_mapping_template",nt)}),this.mapping="vector"}static getMapping(_e,tt){switch(tt){default:case"vector":return`length(v_${_e}_worldPosition - u_${_e}_origin)`;case"world":return`length(v_${_e}_position - vec3(0.))`;case"camera":return`length(v_${_e}_worldPosition - cameraPosition)`}}}Depth$1.u_near=2;Depth$1.u_far=10;Depth$1.u_origin=new Vector3(0,0,0);Depth$1.u_colorA="white";Depth$1.u_colorB="black";Depth$1.u_alpha=1;Depth$1.vertexShader=`
  varying vec3 v_worldPosition;
  varying vec3 v_position;

  void main() {
    v_worldPosition = (vec4(position, 1.0) * modelMatrix).xyz;
    v_position = position;
  }
  `;Depth$1.fragmentShader=`   
    uniform float u_alpha;
    uniform float u_near;
    uniform float u_far;
    uniform float u_isVector;
    uniform vec3 u_origin;
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;

    varying vec3 v_worldPosition;
    varying vec3 v_position;

    void main() {
      float f_dist = lamina_mapping_template;
      float f_depth = (f_dist - u_near) / (u_far - u_near);
			vec3 f_depthColor =  mix(u_colorB, u_colorA, 1.0 - clamp(f_depth, 0., 1.));
  
  
      return vec4(f_depthColor, u_alpha);
    }
  `;class Color$1 extends Abstract{constructor(_e){super(Color$1,{name:"Color",..._e})}}Color$1.u_color="red";Color$1.u_alpha=1;Color$1.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;

    void main() {
      return vec4(u_color, u_alpha);
    }
  `;class Noise$1 extends Abstract{constructor(_e){super(Noise$1,{name:"noise",..._e},tt=>{tt.schema.push({value:tt.type,label:"type",options:Object.values(NoiseTypes)}),tt.schema.push({value:tt.mapping,label:"mapping",options:Object.values(MappingTypes)});const nt=Noise$1.getNoiseFunction(tt.type),rt=Noise$1.getMapping(tt.mapping);tt.vertexShader=tt.vertexShader.replace("lamina_mapping_template",rt),tt.fragmentShader=tt.fragmentShader.replace("lamina_noise_template",nt)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(_e){switch(_e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(_e){switch(_e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}Noise$1.u_colorA="#666666";Noise$1.u_colorB="#666666";Noise$1.u_colorC="#FFFFFF";Noise$1.u_colorD="#FFFFFF";Noise$1.u_alpha=1;Noise$1.u_scale=1;Noise$1.u_offset=new Vector3(0,0,0);Noise$1.vertexShader=`
    varying vec3 v_position;

    void main() {
        v_position = lamina_mapping_template;
    }
  `;Noise$1.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_colorC;
    uniform vec3 u_colorD;
    uniform vec3 u_offset;

    uniform float u_alpha;
    uniform float u_scale;

    varying vec3 v_position;


    void main() {
        float f_n = lamina_noise_template((v_position + u_offset) * u_scale);

        float f_step1 = 0.;
        float f_step2 = 0.2;
        float f_step3 = 0.6;
        float f_step4 = 1.;

        vec3 f_color = mix(u_colorA, u_colorB, smoothstep(f_step1, f_step2, f_n));
        f_color = mix(f_color, u_colorC, smoothstep(f_step2, f_step3, f_n));
        f_color = mix(f_color, u_colorD, smoothstep(f_step3, f_step4, f_n));

        return vec4(f_color, u_alpha);
    }
  `;class Fresnel$1 extends Abstract{constructor(_e){super(Fresnel$1,{name:"Fresnel",..._e})}}Fresnel$1.u_color="white";Fresnel$1.u_alpha=1;Fresnel$1.u_bias=0;Fresnel$1.u_intensity=1;Fresnel$1.u_power=2;Fresnel$1.u_factor=1;Fresnel$1.vertexShader=`
    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        v_worldPosition = vec3(-viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2]);
        v_worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );
        
    }
  `;Fresnel$1.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;
    uniform float u_bias;
    uniform float u_intensity;
    uniform float u_power;
    uniform float u_factor;

    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        float f_a = (u_factor  + dot(v_worldPosition, v_worldNormal));
        float f_fresnel = u_bias + u_intensity * pow(abs(f_a), u_power);

        f_fresnel = clamp(f_fresnel, 0.0, 1.0);
        return vec4(f_fresnel * u_color, u_alpha);
    }
  `;class Gradient$1 extends Abstract{constructor(_e){super(Gradient$1,{name:"Gradient",..._e},tt=>{tt.schema.push({value:tt.axes,label:"axes",options:["x","y","z"]}),tt.schema.push({value:tt.mapping,label:"mapping",options:Object.values(MappingTypes)});const nt=Gradient$1.getMapping(tt.mapping);tt.vertexShader=tt.vertexShader.replace("lamina_mapping_template",nt||"local"),tt.fragmentShader=tt.fragmentShader.replace("axes_template",tt.axes||"x")}),this.axes="x",this.mapping="local"}static getMapping(_e){switch(_e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}Gradient$1.u_colorA="white";Gradient$1.u_colorB="black";Gradient$1.u_alpha=1;Gradient$1.u_start=1;Gradient$1.u_end=-1;Gradient$1.u_contrast=1;Gradient$1.vertexShader=`
		varying vec3 v_position;

		vod main() {
      v_position = lamina_mapping_template;
		}
  `;Gradient$1.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_axis;
    uniform float u_alpha;
    uniform float u_start;
    uniform float u_end;
    uniform float u_contrast;

		varying vec3 v_position;

    void main() {

      float f_step = smoothstep(u_start, u_end, v_position.axes_template * u_contrast);
      vec3 f_color = mix(u_colorA, u_colorB, f_step);

      return vec4(f_color, u_alpha);
    }
  `;class Matcap$1 extends Abstract{constructor(_e){super(Matcap$1,{name:"Matcap",..._e})}}Matcap$1.u_alpha=1;Matcap$1.u_map=void 0;Matcap$1.vertexShader=`
    varying vec3 v_position;
    varying vec3 v_normal;
    
    void main() {
      v_position = normalize( vec3( modelViewMatrix * vec4( position, 1.0 ) ) );
      v_normal = normalize( normalMatrix * normal );
    }
    `;Matcap$1.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec3 v_position;
		varying vec3 v_normal;

		
    void main() {
			vec3 f_r = reflect( v_position, v_normal );
			float f_m = 2. * sqrt( pow( f_r.x, 2. ) + pow( f_r.y, 2. ) + pow( f_r.z + 1., 2. ) );
			vec2 f_vN = f_r.xy / f_m + .5;

			vec3 f_base = texture2D(u_map, f_vN).rgb;

      return vec4(f_base, u_alpha);
    }
  `;class Texture$1 extends Abstract{constructor(_e){super(Texture$1,{name:"Texture",..._e})}}Texture$1.u_alpha=1;Texture$1.u_map=void 0;Texture$1.vertexShader=`
    varying vec2 v_uv;
    
    void main() {
        v_uv = uv;
    }
    `;Texture$1.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec2 v_uv;

    void main() {
			vec4 f_color = texture2D(u_map, v_uv);
      return vec4(f_color.rgb, f_color.a * u_alpha);
    }
  `;class Displace$1 extends Abstract{constructor(_e){super(Displace$1,{name:"Displace",..._e},tt=>{tt.schema.push({value:tt.type,label:"type",options:Object.values(NoiseTypes)}),tt.schema.push({value:tt.mapping,label:"mapping",options:Object.values(MappingTypes)});const nt=Displace$1.getNoiseFunction(tt.type),rt=Displace$1.getMapping(tt.mapping);tt.vertexVariables=tt.vertexVariables.replace("lamina_mapping_template",rt),tt.vertexVariables=tt.vertexVariables.replace("lamina_noise_template",nt)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(_e){switch(_e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(_e){switch(_e){default:case"local":return"p";case"world":return"(modelMatrix * vec4(p,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}Displace$1.u_strength=1;Displace$1.u_scale=1;Displace$1.u_offset=new Vector3(0,0,0);Displace$1.vertexShader=`
       
      uniform float u_strength;
      uniform float u_scale;
      uniform vec3 u_offset;

      vec3 displace(vec3 p) {
				vec3 f_position = lamina_mapping_template;
        float f_n = lamina_noise_template((f_position + u_offset) * u_scale) * u_strength;
        vec3 f_newPosition = p + (f_n * normal);

				return f_newPosition;
      }

      
			vec3 orthogonal(vec3 v) {
  		  return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)
  		  : vec3(0.0, -v.z, v.y));
  		}
  		vec3 recalcNormals(vec3 newPos) {
  		  float offset = 0.001;
  		  vec3 tangent = orthogonal(normal);
  		  vec3 bitangent = normalize(cross(normal, tangent));
  		  vec3 neighbour1 = position + tangent * offset;
  		  vec3 neighbour2 = position + bitangent * offset;
  		  vec3 displacedNeighbour1 = displace(neighbour1);
  		  vec3 displacedNeighbour2 = displace(neighbour2);
  		  vec3 displacedTangent = displacedNeighbour1 - newPos;
  		  vec3 displacedBitangent = displacedNeighbour2 - newPos;
  		  return normalize(cross(displacedTangent, displacedBitangent));
  		}
  
  
      void main() {
       
				vec3 f_newPosition = displace(position);
        lamina_finalNormal = recalcNormals(f_newPosition);

        return f_newPosition;
      }
    `;class Normal$1 extends Abstract{constructor(_e){super(Normal$1,{name:"Normal",..._e})}}Normal$1.u_alpha=1;Normal$1.u_direction=new Vector3(1,1,1);Normal$1.vertexShader=`   
  varying vec3 v_normals; 

  void main() {
    v_normals = normal;
  }
`;Normal$1.fragmentShader=`   
  	uniform float u_alpha;
  	uniform vec3 u_color;
  	uniform vec3 u_direction;

		varying vec3 v_normals;

    void main() {
			vec3 f_normalColor = vec3(1.);
      f_normalColor.x = v_normals.x * u_direction.x;
      f_normalColor.y = v_normals.y * u_direction.y;
      f_normalColor.z = v_normals.z * u_direction.z;

      return vec4(f_normalColor, u_alpha);
    }
  `;var BlendModesChunk=`
vec4 lamina_blend_add(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz + y.xyz, 1.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec3 lamina_blend_alpha(const in vec3 x, const in vec3 y, const in float opacity) {

	return y * opacity + x * (1.0 - opacity);

}

vec4 lamina_blend_alpha(const in vec4 x, const in vec4 y, const in float opacity) {

	float a = min(y.a, opacity);

	return vec4(lamina_blend_alpha(x.rgb, y.rgb, a), x.a);

}
vec4 lamina_blend_average(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz) * 0.5 * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_burn(const in float x, const in float y) {

	return (y == 0.0) ? y : max(1.0 - (1.0 - x) / y, 0.0);

}

vec4 lamina_blend_color_burn(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_burn(x.r, y.r),
		lamina_blend_color_burn(x.g, y.g),
		lamina_blend_color_burn(x.b, y.b),
		lamina_blend_color_burn(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_dodge(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x / (1.0 - y), 1.0);

}

vec4 lamina_blend_color_dodge(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_dodge(x.r, y.r),
		lamina_blend_color_dodge(x.g, y.g),
		lamina_blend_color_dodge(x.b, y.b),
		lamina_blend_color_dodge(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_darken(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_difference(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(abs(x.xyz - y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_divide(const in float x, const in float y) {

	return (y > 0.0) ? min(x / y, 1.0) : 1.0;

}

vec4 lamina_blend_divide(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_divide(x.r, y.r),
		lamina_blend_divide(x.g, y.g),
		lamina_blend_divide(x.b, y.b),
		lamina_blend_divide(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_exclusion(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz - 2.0 * x.xyz * y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_lighten(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_multiply(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4( x.xyz * y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_negation(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - abs(1.0 - x.xyz - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_normal(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_overlay(const in float x, const in float y) {

	return (x < 0.5) ? (2.0 * x * y) : (1.0 - 2.0 * (1.0 - x) * (1.0 - y));

}

vec4 lamina_blend_overlay(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_overlay(x.r, y.r),
		lamina_blend_overlay(x.g, y.g),
		lamina_blend_overlay(x.b, y.b),
		lamina_blend_overlay(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_reflect(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x * x / (1.0 - y), 1.0);

}

vec4 lamina_blend_reflect(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_reflect(x.r, y.r),
		lamina_blend_reflect(x.g, y.g),
		lamina_blend_reflect(x.b, y.b),
		lamina_blend_reflect(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_screen(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - (1.0 - x.xyz) * (1.0 - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_softlight(const in float x, const in float y) {

	return (y < 0.5) ?
		(2.0 * x * y + x * x * (1.0 - 2.0 * y)) :
		(sqrt(x) * (2.0 * y - 1.0) + 2.0 * x * (1.0 - y));

}

vec4 lamina_blend_softlight(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_softlight(x.r, y.r),
		lamina_blend_softlight(x.g, y.g),
		lamina_blend_softlight(x.b, y.b),
		lamina_blend_softlight(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_subtract(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz + y.xyz - 1.0, 0.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}

`,NoiseChunk=`

// From: https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83
// Huge thanks to the creators of these algorithms

float lamina_noise_mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_perm(vec4 x){return lamina_noise_mod289(((x * 34.0) + 1.0) * x);}
vec4 lamina_noise_permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }
vec4 lamina_noise_taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }


float lamina_noise_white(vec2 p) {
  return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) *
               (0.1 + abs(sin(p.y * 13.0 + p.x))));
}

float lamina_noise_white(vec3 p) {
  return lamina_noise_white(p.xy);
}


vec3 lamina_noise_fade(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }

float lamina_noise_perlin(vec3 P) {
  vec3 Pi0 = floor(P);        // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);        // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = lamina_noise_permute(lamina_noise_permute(ix) + iy);
  vec4 ixy0 = lamina_noise_permute(ixy + iz0);
  vec4 ixy1 = lamina_noise_permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
  vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
  vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
  vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
  vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
  vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
  vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
  vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);

  vec4 norm0 = lamina_noise_taylorInvSqrt(
      vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = lamina_noise_taylorInvSqrt(
      vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = lamina_noise_fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),
                 fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return lamina_normalize(2.2 * n_xyz);
}

float lamina_noise_simplex(vec3 v) {
  const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);
  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i = floor(v + dot(v, C.yyy));
  vec3 x0 = v - i + dot(i, C.xxx);

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min(g.xyz, l.zxy);
  vec3 i2 = max(g.xyz, l.zxy);

  //  x0 = x0 - 0. + 0.0 * C
  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
  vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
  i = mod(i, 289.0);
  vec4 p = lamina_noise_permute(lamina_noise_permute(lamina_noise_permute(i.z + vec4(0.0, i1.z, i2.z, 1.0)) + i.y +
                             vec4(0.0, i1.y, i2.y, 1.0)) +
                    i.x + vec4(0.0, i1.x, i2.x, 1.0));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
  float n_ = 1.0 / 7.0; // N=7
  vec3 ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z); //  mod(p,N*N)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)

  vec4 x = x_ * ns.x + ns.yyyy;
  vec4 y = y_ * ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4(x.xy, y.xy);
  vec4 b1 = vec4(x.zw, y.zw);

  vec4 s0 = floor(b0) * 2.0 + 1.0;
  vec4 s1 = floor(b1) * 2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;
  vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;

  vec3 p0 = vec3(a0.xy, h.x);
  vec3 p1 = vec3(a0.zw, h.y);
  vec3 p2 = vec3(a1.xy, h.z);
  vec3 p3 = vec3(a1.zw, h.w);

  // Normalise gradients
  vec4 norm =
      lamina_noise_taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m =
      max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);
  m = m * m;
  return lamina_normalize(42.0 *
         dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3))));
}

vec3 lamina_noise_simplex3(vec3 x) {
  float s = lamina_noise_simplex(vec3(x));
  float s1 = lamina_noise_simplex(vec3(x.y - 19.1, x.z + 33.4, x.x + 47.2));
  float s2 = lamina_noise_simplex(vec3(x.z + 74.2, x.x - 124.5, x.y + 99.4));
  vec3 c = vec3(s, s1, s2);
  return c;
}

vec3 lamina_noise_curl(vec3 p) {
  const float e = .1;
  vec3 dx = vec3(e, 0.0, 0.0);
  vec3 dy = vec3(0.0, e, 0.0);
  vec3 dz = vec3(0.0, 0.0, e);

  vec3 p_x0 = lamina_noise_simplex3(p - dx);
  vec3 p_x1 = lamina_noise_simplex3(p + dx);
  vec3 p_y0 = lamina_noise_simplex3(p - dy);
  vec3 p_y1 = lamina_noise_simplex3(p + dy);
  vec3 p_z0 = lamina_noise_simplex3(p - dz);
  vec3 p_z1 = lamina_noise_simplex3(p + dz);

  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;

  const float divisor = 1.0 / (2.0 * e);
  return normalize(vec3(x, y, z) * divisor);
}

vec3 lamina_permute(vec3 x) {
  return mod((34.0 * x + 1.0) * x, 289.0);
}

vec3 lamina_dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {
  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);
}

// From: https://github.com/Erkaman/glsl-worley
float lamina_noise_worley(vec3 P) {
  float jitter = 1.;
  bool manhattanDistance = false; 

  float K = 0.142857142857; // 1/7
  float Ko = 0.428571428571; // 1/2-K/2
  float  K2 = 0.020408163265306; // 1/(7*7)
  float Kz = 0.166666666667; // 1/6
  float Kzo = 0.416666666667; // 1/2-1/6*2

	vec3 Pi = mod(floor(P), 289.0);
 	vec3 Pf = fract(P) - 0.5;

	vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);
	vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);
	vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);

	vec3 p = lamina_permute(Pi.x + vec3(-1.0, 0.0, 1.0));
	vec3 p1 = lamina_permute(p + Pi.y - 1.0);
	vec3 p2 = lamina_permute(p + Pi.y);
	vec3 p3 = lamina_permute(p + Pi.y + 1.0);

	vec3 p11 = lamina_permute(p1 + Pi.z - 1.0);
	vec3 p12 = lamina_permute(p1 + Pi.z);
	vec3 p13 = lamina_permute(p1 + Pi.z + 1.0);

	vec3 p21 = lamina_permute(p2 + Pi.z - 1.0);
	vec3 p22 = lamina_permute(p2 + Pi.z);
	vec3 p23 = lamina_permute(p2 + Pi.z + 1.0);

	vec3 p31 = lamina_permute(p3 + Pi.z - 1.0);
	vec3 p32 = lamina_permute(p3 + Pi.z);
	vec3 p33 = lamina_permute(p3 + Pi.z + 1.0);

	vec3 ox11 = fract(p11*K) - Ko;
	vec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;
	vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed

	vec3 ox12 = fract(p12*K) - Ko;
	vec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;
	vec3 oz12 = floor(p12*K2)*Kz - Kzo;

	vec3 ox13 = fract(p13*K) - Ko;
	vec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;
	vec3 oz13 = floor(p13*K2)*Kz - Kzo;

	vec3 ox21 = fract(p21*K) - Ko;
	vec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;
	vec3 oz21 = floor(p21*K2)*Kz - Kzo;

	vec3 ox22 = fract(p22*K) - Ko;
	vec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;
	vec3 oz22 = floor(p22*K2)*Kz - Kzo;

	vec3 ox23 = fract(p23*K) - Ko;
	vec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;
	vec3 oz23 = floor(p23*K2)*Kz - Kzo;

	vec3 ox31 = fract(p31*K) - Ko;
	vec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;
	vec3 oz31 = floor(p31*K2)*Kz - Kzo;

	vec3 ox32 = fract(p32*K) - Ko;
	vec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;
	vec3 oz32 = floor(p32*K2)*Kz - Kzo;

	vec3 ox33 = fract(p33*K) - Ko;
	vec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;
	vec3 oz33 = floor(p33*K2)*Kz - Kzo;

	vec3 dx11 = Pfx + jitter*ox11;
	vec3 dy11 = Pfy.x + jitter*oy11;
	vec3 dz11 = Pfz.x + jitter*oz11;

	vec3 dx12 = Pfx + jitter*ox12;
	vec3 dy12 = Pfy.x + jitter*oy12;
	vec3 dz12 = Pfz.y + jitter*oz12;

	vec3 dx13 = Pfx + jitter*ox13;
	vec3 dy13 = Pfy.x + jitter*oy13;
	vec3 dz13 = Pfz.z + jitter*oz13;

	vec3 dx21 = Pfx + jitter*ox21;
	vec3 dy21 = Pfy.y + jitter*oy21;
	vec3 dz21 = Pfz.x + jitter*oz21;

	vec3 dx22 = Pfx + jitter*ox22;
	vec3 dy22 = Pfy.y + jitter*oy22;
	vec3 dz22 = Pfz.y + jitter*oz22;

	vec3 dx23 = Pfx + jitter*ox23;
	vec3 dy23 = Pfy.y + jitter*oy23;
	vec3 dz23 = Pfz.z + jitter*oz23;

	vec3 dx31 = Pfx + jitter*ox31;
	vec3 dy31 = Pfy.z + jitter*oy31;
	vec3 dz31 = Pfz.x + jitter*oz31;

	vec3 dx32 = Pfx + jitter*ox32;
	vec3 dy32 = Pfy.z + jitter*oy32;
	vec3 dz32 = Pfz.y + jitter*oz32;

	vec3 dx33 = Pfx + jitter*ox33;
	vec3 dy33 = Pfy.z + jitter*oy33;
	vec3 dz33 = Pfz.z + jitter*oz33;

	vec3 d11 = lamina_dist(dx11, dy11, dz11, manhattanDistance);
	vec3 d12 = lamina_dist(dx12, dy12, dz12, manhattanDistance);
	vec3 d13 = lamina_dist(dx13, dy13, dz13, manhattanDistance);
	vec3 d21 = lamina_dist(dx21, dy21, dz21, manhattanDistance);
	vec3 d22 = lamina_dist(dx22, dy22, dz22, manhattanDistance);
	vec3 d23 = lamina_dist(dx23, dy23, dz23, manhattanDistance);
	vec3 d31 = lamina_dist(dx31, dy31, dz31, manhattanDistance);
	vec3 d32 = lamina_dist(dx32, dy32, dz32, manhattanDistance);
	vec3 d33 = lamina_dist(dx33, dy33, dz33, manhattanDistance);

	vec3 d1a = min(d11, d12);
	d12 = max(d11, d12);
	d11 = min(d1a, d13); // Smallest now not in d12 or d13
	d13 = max(d1a, d13);
	d12 = min(d12, d13); // 2nd smallest now not in d13
	vec3 d2a = min(d21, d22);
	d22 = max(d21, d22);
	d21 = min(d2a, d23); // Smallest now not in d22 or d23
	d23 = max(d2a, d23);
	d22 = min(d22, d23); // 2nd smallest now not in d23
	vec3 d3a = min(d31, d32);
	d32 = max(d31, d32);
	d31 = min(d3a, d33); // Smallest now not in d32 or d33
	d33 = max(d3a, d33);
	d32 = min(d32, d33); // 2nd smallest now not in d33
	vec3 da = min(d11, d21);
	d21 = max(d11, d21);
	d11 = min(da, d31); // Smallest now in d11
	d31 = max(da, d31); // 2nd smallest now not in d31
	d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;
	d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest
	d12 = min(d12, d21); // 2nd smallest now not in d21
	d12 = min(d12, d22); // nor in d22
	d12 = min(d12, d31); // nor in d31
	d12 = min(d12, d32); // nor in d32
	d11.yz = min(d11.yz,d12.xy); // nor in d12.yz
	d11.y = min(d11.y,d12.z); // Only two more to go
	d11.y = min(d11.y,d11.z); // Done! (Phew!)

  vec2 F = sqrt(d11.xy);
	return F.x; // F1, F2

}

float lamina_noise_swirl(vec3 position) {
    float scale = 0.1;
    float freq = 4. * scale;
    float t = 1.;

    vec3 pos = (position * scale) + lamina_noise_curl(position * 7. * scale);

    float worley1 = 1. - lamina_noise_worley((pos * (freq * 2.)) +  (t * 2.));
    float worley2 = 1. - lamina_noise_worley((pos * (freq * 4.)) +  (t * 4.));
    float worley3 = 1. - lamina_noise_worley((pos * (freq * 8.)) +  (t * 8.));
    float worley4 = 1. - lamina_noise_worley((pos * (freq * 16.)) +  (t * 16.));
    
    float fbm1 = worley1 * .625 + worley2 * .25 + worley3 * .125;
    float fbm2 = worley2 * .625 + worley3 * .25 + worley4 * .125;
    float fbm3 = worley3 * .75 + worley4 * .25;

    vec3 curlWorleyFbm = vec3(fbm1, fbm2, fbm3);
    float curlWorley = curlWorleyFbm.r * .625 + curlWorleyFbm.g * .25 + 
        curlWorleyFbm.b * .125;

    return curlWorley;
}
  
  
`,HelpersChunk=`

float lamina_map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float lamina_normalize(float v) { return lamina_map(v, -1.0, 1.0, 0.0, 1.0); }
`;class LayerMaterial$1 extends CustomShaderMaterial{constructor({color:_e,alpha:tt,lighting:nt,layers:rt,name:it,...st}={}){super({baseMaterial:ShadingTypes[nt||"basic"],...st}),this.name="LayerMaterial",this.layers=[],this.lighting="basic";const ot=_e||"white",at=tt!=null?tt:1;this.uniforms={u_lamina_color:{value:typeof ot=="string"?new Color$2(ot).convertSRGBToLinear():ot},u_lamina_alpha:{value:at}},this.layers=rt||this.layers,this.lighting=nt||this.lighting,this.name=it||this.name,this.refresh()}genShaders(){let _e="",tt="",nt="",rt="",it={};return this.layers.filter(st=>st.visible).forEach(st=>{_e+=st.vertexVariables+`
`,tt+=st.fragmentVariables+`
`,nt+=st.vertexShader+`
`,rt+=st.fragmentShader+`
`,it={...it,...st.uniforms}}),it={...it,...this.uniforms},{uniforms:it,vertexShader:`
        ${HelpersChunk}
        ${NoiseChunk}
        ${_e}

        void main() {
          vec3 lamina_finalPosition = position;
          vec3 lamina_finalNormal = normal;

          ${nt}

          csm_Position = lamina_finalPosition;
          csm_Normal = lamina_finalNormal;
        }
        `,fragmentShader:`
        ${HelpersChunk}
        ${NoiseChunk}
        ${BlendModesChunk}
        ${tt}

        uniform vec3 u_lamina_color;
        uniform float u_lamina_alpha;

        void main() {
          vec4 lamina_finalColor = vec4(u_lamina_color, u_lamina_alpha);

          ${rt}

          csm_DiffuseColor = lamina_finalColor;
         
        }
        `}}refresh(){const{uniforms:_e,fragmentShader:tt,vertexShader:nt}=this.genShaders();super.update({fragmentShader:tt,vertexShader:nt,uniforms:_e})}serialize(){return{constructor:"LayerMaterial",properties:{color:this.color,alpha:this.alpha,name:this.name,lighting:this.lighting}}}set color(_e){var tt,nt;(tt=this.uniforms)!=null&&(nt=tt.u_lamina_color)!=null&&nt.value&&(this.uniforms.u_lamina_color.value=typeof _e=="string"?new Color$2(_e).convertSRGBToLinear():_e)}get color(){var _e,tt;return(_e=this.uniforms)==null||(tt=_e.u_lamina_color)==null?void 0:tt.value}set alpha(_e){this.uniforms.u_lamina_alpha.value=_e}get alpha(){return this.uniforms.u_lamina_alpha.value}}extend$2({LayerMaterial:LayerMaterial$1});extend$2({LayerMaterial:LayerMaterial$1,Depth_:Depth$1,Color_:Color$1,Noise_:Noise$1,Fresnel_:Fresnel$1,Gradient_:Gradient$1,Matcap_:Matcap$1,Texture_:Texture$1,Displace_:Displace$1,Normal_:Normal$1});const LayerMaterial=React.forwardRef(({children:et,..._e},tt)=>{const nt=React.useRef(null);react.exports.useImperativeHandle(tt,()=>nt.current),React.useLayoutEffect(()=>{nt.current.layers=nt.current.__r3f.objects,nt.current.refresh()},[et]);const[rt,it]=react.exports.useMemo(()=>getLayerMaterialArgs(_e),[_e]);return jsx("layerMaterial",{args:[rt],ref:nt,...it,children:et})});function getNonUniformArgs(et){return[{mode:et==null?void 0:et.mode,visible:et==null?void 0:et.visible,type:et==null?void 0:et.type,mapping:et==null?void 0:et.mapping,map:et==null?void 0:et.map,axes:et==null?void 0:et.axes}]}const Depth=React.forwardRef((et,_e)=>jsx("depth_",{args:getNonUniformArgs(et),ref:_e,...et})),Fresnel=React.forwardRef((et,_e)=>jsx("fresnel_",{ref:_e,args:getNonUniformArgs(et),...et}));function Moon(et){const{nodes:_e,materials:tt}=useGLTF("/Moon.gltf"),nt=react.exports.useRef(),rt=react.exports.useRef(),it=.7;return useFrame(st=>{const ot=Math.cos(st.clock.elapsedTime)*1,at=Math.sin(st.clock.elapsedTime)*1;rt.current.layers[0].origin.set(ot/2,0,0),rt.current.layers[1].origin.set(ot,at,ot),rt.current.layers[2].origin.set(at,ot,at),rt.current.layers[3].origin.set(ot,at,ot)}),jsx("group",{...et,dispose:null,scale:9,children:jsx(Float,{speed:1,rotationIntensity:0,floatIntensity:1,floatingRange:[-.15,.15],children:jsx("mesh",{geometry:_e.Moon.geometry,material:tt.Moon,ref:nt,position:[0,-.6,0],rotation:[Math.PI*.5,-.6,Math.PI],scale:.8,children:jsxs(LayerMaterial,{ref:rt,toneMapped:!1,children:[jsx(Depth,{colorA:"#ff0080",colorB:"black",alpha:1,mode:"normal",near:1*3.5*it,far:1*3.5,origin:[0,0,0]}),jsx(Depth,{colorA:"blue",colorB:"#f7b955",alpha:1,mode:"add",near:1*14*it,far:1*14,origin:[0,1,1]}),jsx(Depth,{colorA:"green",colorB:"#f7b955",alpha:1,mode:"add",near:1*21*it,far:1*21,origin:[0,1,-1]}),jsx(Depth,{colorA:"white",colorB:"red",alpha:1,mode:"overlay",near:1*8*it,far:1*8,origin:[1,-1,-1]}),jsx(Fresnel,{mode:"add",color:"white",intensity:.5,power:1.5,bias:.05})]})})})})}useGLTF.preload("/Moon.gltf");/**
 * postprocessing v6.28.7 build Wed Aug 31 2022
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2022 Raoul van Rschen
 * @license Zlib
 */var adaptive_luminance_default=`#include <packing>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
uniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));
#if __VERSION__ < 300
float l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#else
float l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#endif
l0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}`,common_default="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",AdaptiveLuminanceMaterial=class extends ShaderMaterial{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,""),MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new Uniform(null),luminanceBuffer1:new Uniform(null),minLuminance:new Uniform(.01),deltaTime:new Uniform(0),tau:new Uniform(1)},extensions:{shaderTextureLOD:!0},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:adaptive_luminance_default,vertexShader:common_default}),this.toneMapped=!1}set luminanceBuffer0(et){this.uniforms.luminanceBuffer0.value=et}setLuminanceBuffer0(et){this.uniforms.luminanceBuffer0.value=et}set luminanceBuffer1(et){this.uniforms.luminanceBuffer1.value=et}setLuminanceBuffer1(et){this.uniforms.luminanceBuffer1.value=et}set mipLevel1x1(et){this.defines.MIP_LEVEL_1X1=et.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(et){this.mipLevel1x1=et}set deltaTime(et){this.uniforms.deltaTime.value=et}setDeltaTime(et){this.uniforms.deltaTime.value=et}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(et){this.uniforms.minLuminance.value=et}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(et){this.uniforms.minLuminance.value=et}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(et){this.uniforms.tau.value=et}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(et){this.uniforms.tau.value=et}},BlendFunction={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},EffectAttribute={NONE:0,DEPTH:1,CONVOLUTION:2},EffectShaderSection={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},KernelSize={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},ToneMappingMode={REINHARD:0,REINHARD2:1,REINHARD2_ADAPTIVE:2,OPTIMIZED_CINEON:3,ACES_FILMIC:4},VignetteTechnique={DEFAULT:0,ESKIL:1},convolution_kawase_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,convolution_kawase_default2="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",kernelPresets=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],KawaseBlurMaterial=class extends ShaderMaterial{constructor(et=new Vector4){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector4),scale:new Uniform(1),kernel:new Uniform(0)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:convolution_kawase_default,vertexShader:convolution_kawase_default2}),this.toneMapped=!1,this.setTexelSize(et.x,et.y),this.kernelSize=KernelSize.MEDIUM}set inputBuffer(et){this.uniforms.inputBuffer.value=et}setInputBuffer(et){this.inputBuffer=et}get kernelSequence(){return kernelPresets[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(et){this.uniforms.scale.value=et}getScale(){return this.uniforms.scale.value}setScale(et){this.uniforms.scale.value=et}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(et){this.uniforms.kernel.value=et}setKernel(et){this.kernel=et}setTexelSize(et,_e){this.uniforms.texelSize.value.set(et,_e,et*.5,_e*.5)}setSize(et,_e){const tt=1/et,nt=1/_e;this.uniforms.texelSize.value.set(tt,nt,tt*.5,nt*.5)}},copy_default=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
#include <dithering_fragment>
}`,CopyMaterial=class extends ShaderMaterial{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Uniform(null),opacity:new Uniform(1)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:copy_default,vertexShader:common_default}),this.toneMapped=!1}set inputBuffer(et){this.uniforms.inputBuffer.value=et}setInputBuffer(et){this.uniforms.inputBuffer.value=et}getOpacity(et){return this.uniforms.opacity.value}setOpacity(et){this.uniforms.opacity.value=et}},depth_downsampling_default=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec2 uvs[4];uvs[0]=vUv0;uvs[1]=vUv1;uvs[2]=vUv2;uvs[3]=vUv3;vec3 n=texture2D(normalBuffer,uvs[index]).rgb;
#else
vec3 n=vec3(0.0);
#endif
gl_FragColor=vec4(n,d[index]);}`,depth_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",DepthDownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform(null),normalBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:depth_downsampling_default,vertexShader:depth_downsampling_default2}),this.toneMapped=!1}set depthBuffer(et){this.uniforms.depthBuffer.value=et}set depthPacking(et){this.defines.DEPTH_PACKING=et.toFixed(0),this.needsUpdate=!0}setDepthBuffer(et,_e=BasicDepthPacking){this.depthBuffer=et,this.depthPacking=_e}set normalBuffer(et){this.uniforms.normalBuffer.value=et,et!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(et){this.normalBuffer=et}setTexelSize(et,_e){this.uniforms.texelSize.value.set(et,_e)}setSize(et,_e){this.uniforms.texelSize.value.set(1/et,1/_e)}},convolution_downsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <encodings_fragment>
}`,convolution_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",DownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:convolution_downsampling_default,vertexShader:convolution_downsampling_default2}),this.toneMapped=!1}set inputBuffer(et){this.uniforms.inputBuffer.value=et}setSize(et,_e){this.uniforms.texelSize.value.set(1/et,1/_e)}},effect_default=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,effect_default2="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",EffectMaterial=class extends ShaderMaterial{constructor(et,_e,tt,nt,rt=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Uniform(null),depthBuffer:new Uniform(null),resolution:new Uniform(new Vector2),texelSize:new Uniform(new Vector2),cameraNear:new Uniform(.3),cameraFar:new Uniform(1e3),aspect:new Uniform(1),time:new Uniform(0)},blending:NoBlending,depthWrite:!1,depthTest:!1,dithering:rt}),this.toneMapped=!1,et&&this.setShaderParts(et),_e&&this.setDefines(_e),tt&&this.setUniforms(tt),this.adoptCameraSettings(nt)}set inputBuffer(et){this.uniforms.inputBuffer.value=et}setInputBuffer(et){this.uniforms.inputBuffer.value=et}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(et){this.uniforms.depthBuffer.value=et}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(et){this.defines.DEPTH_PACKING=et.toFixed(0),this.needsUpdate=!0}setDepthBuffer(et,_e=BasicDepthPacking){this.depthBuffer=et,this.depthPacking=_e}setShaderData(et){this.setShaderParts(et.shaderParts),this.setDefines(et.defines),this.setUniforms(et.uniforms),this.setExtensions(et.extensions)}setShaderParts(et){var _e,tt,nt,rt,it;return this.fragmentShader=effect_default.replace(EffectShaderSection.FRAGMENT_HEAD,(_e=et.get(EffectShaderSection.FRAGMENT_HEAD))!=null?_e:"").replace(EffectShaderSection.FRAGMENT_MAIN_UV,(tt=et.get(EffectShaderSection.FRAGMENT_MAIN_UV))!=null?tt:"").replace(EffectShaderSection.FRAGMENT_MAIN_IMAGE,(nt=et.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE))!=null?nt:""),this.vertexShader=effect_default2.replace(EffectShaderSection.VERTEX_HEAD,(rt=et.get(EffectShaderSection.VERTEX_HEAD))!=null?rt:"").replace(EffectShaderSection.VERTEX_MAIN_SUPPORT,(it=et.get(EffectShaderSection.VERTEX_MAIN_SUPPORT))!=null?it:""),this.needsUpdate=!0,this}setDefines(et){for(const _e of et.entries())this.defines[_e[0]]=_e[1];return this.needsUpdate=!0,this}setUniforms(et){for(const _e of et.entries())this.uniforms[_e[0]]=_e[1];return this}setExtensions(et){this.extensions={};for(const _e of et)this.extensions[_e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(et){this.encodeOutput!==et&&(et?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(et){return this.encodeOutput}setOutputEncodingEnabled(et){this.encodeOutput=et}get time(){return this.uniforms.time.value}set time(et){this.uniforms.time.value=et}setDeltaTime(et){this.uniforms.time.value+=et}adoptCameraSettings(et){et&&(this.uniforms.cameraNear.value=et.near,this.uniforms.cameraFar.value=et.far,et instanceof PerspectiveCamera$1?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(et,_e){const tt=this.uniforms;tt.resolution.value.set(et,_e),tt.texelSize.value.set(1/et,1/_e),tt.aspect.value=et/_e}static get Section(){return EffectShaderSection}},luminance_default=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,LuminanceMaterial=class extends ShaderMaterial{constructor(et=!1,_e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,"")},uniforms:{inputBuffer:new Uniform(null),threshold:new Uniform(0),smoothing:new Uniform(1),range:new Uniform(null)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:luminance_default,vertexShader:common_default}),this.toneMapped=!1,this.colorOutput=et,this.luminanceRange=_e}set inputBuffer(et){this.uniforms.inputBuffer.value=et}setInputBuffer(et){this.uniforms.inputBuffer.value=et}get threshold(){return this.uniforms.threshold.value}set threshold(et){this.smoothing>0||et>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=et}getThreshold(){return this.threshold}setThreshold(et){this.threshold=et}get smoothing(){return this.uniforms.smoothing.value}set smoothing(et){this.threshold>0||et>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=et}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(et){this.smoothing=et}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(et){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(et){et?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(et){return this.colorOutput}setColorOutputEnabled(et){this.colorOutput=et}get useRange(){return this.luminanceRange!==null}set useRange(et){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(et){et!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=et,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(et){this.luminanceRange=et}},convolution_upsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <encodings_fragment>
}`,convolution_upsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",UpsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),supportBuffer:new Uniform(null),texelSize:new Uniform(new Vector2),radius:new Uniform(.85)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:convolution_upsampling_default,vertexShader:convolution_upsampling_default2}),this.toneMapped=!1}set inputBuffer(et){this.uniforms.inputBuffer.value=et}set supportBuffer(et){this.uniforms.supportBuffer.value=et}get radius(){return this.uniforms.radius.value}set radius(et){this.uniforms.radius.value=et}setSize(et,_e){this.uniforms.texelSize.value.set(1/et,1/_e)}},dummyCamera=new Camera,geometry=null;function getFullscreenTriangle(){if(geometry===null){const et=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),_e=new Float32Array([0,0,2,0,0,2]);geometry=new BufferGeometry,geometry.setAttribute!==void 0?(geometry.setAttribute("position",new BufferAttribute(et,3)),geometry.setAttribute("uv",new BufferAttribute(_e,2))):(geometry.addAttribute("position",new BufferAttribute(et,3)),geometry.addAttribute("uv",new BufferAttribute(_e,2)))}return geometry}var Pass=class{constructor(et="Pass",_e=new Scene,tt=dummyCamera){this.name=et,this.renderer=null,this.scene=_e,this.camera=tt,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(et){if(this.rtt===et){const _e=this.fullscreenMaterial;_e!==null&&(_e.needsUpdate=!0),this.rtt=!et}}setRenderer(et){this.renderer=et}isEnabled(){return this.enabled}setEnabled(et){this.enabled=et}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(et){let _e=this.screen;_e!==null?_e.material=et:(_e=new Mesh(getFullscreenTriangle(),et),_e.frustumCulled=!1,this.scene===null&&(this.scene=new Scene),this.scene.add(_e),this.screen=_e)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(et){this.fullscreenMaterial=et}getDepthTexture(){return null}setDepthTexture(et,_e=BasicDepthPacking){}render(et,_e,tt,nt,rt){throw new Error("Render method not implemented!")}setSize(et,_e){}initialize(et,_e,tt){}dispose(){for(const et of Object.keys(this)){const _e=this[et];(_e instanceof WebGLRenderTarget||_e instanceof Material||_e instanceof Texture||_e instanceof Pass)&&this[et].dispose()}}},CopyPass=class extends Pass{constructor(et,_e=!0){super("CopyPass"),this.fullscreenMaterial=new CopyMaterial,this.needsSwap=!1,this.renderTarget=et,et===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=_e}get resize(){return this.autoResize}set resize(et){this.autoResize=et}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(et){this.autoResize=et}render(et,_e,tt,nt,rt){this.fullscreenMaterial.inputBuffer=_e.texture,et.setRenderTarget(this.renderToScreen?null:this.renderTarget),et.render(this.scene,this.camera)}setSize(et,_e){this.autoResize&&this.renderTarget.setSize(et,_e)}initialize(et,_e,tt){tt!==void 0&&(this.renderTarget.texture.type=tt,tt!==UnsignedByteType?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":et.outputEncoding===sRGBEncoding&&(this.renderTarget.texture.encoding=sRGBEncoding))}},AdaptiveLuminancePass=class extends Pass{constructor(et,{minLuminance:_e=.01,adaptationRate:tt=1}={}){super("AdaptiveLuminancePass"),this.fullscreenMaterial=new AdaptiveLuminanceMaterial,this.needsSwap=!1,this.renderTargetPrevious=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";const nt=this.fullscreenMaterial;nt.luminanceBuffer0=this.renderTargetPrevious.texture,nt.luminanceBuffer1=et,nt.minLuminance=_e,nt.adaptationRate=tt,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new CopyPass(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(et){this.fullscreenMaterial.mipLevel1x1=et}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(et){this.fullscreenMaterial.adaptationRate=et}render(et,_e,tt,nt,rt){this.fullscreenMaterial.deltaTime=nt,et.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),et.render(this.scene,this.camera),this.copyPass.render(et,this.renderTargetAdapted)}},ClearMaskPass=class extends Pass{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(et,_e,tt,nt,rt){const it=et.state.buffers.stencil;it.setLocked(!1),it.setTest(!1)}},color=new Color$2,ClearPass=class extends Pass{constructor(et=!0,_e=!0,tt=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=et,this.depth=_e,this.stencil=tt,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(et,_e,tt){this.color=et,this.depth=_e,this.stencil=tt}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(et){this.overrideClearColor=et}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(et){this.overrideClearAlpha=et}render(et,_e,tt,nt,rt){const it=this.overrideClearColor,st=this.overrideClearAlpha,ot=et.getClearAlpha(),at=it!==null,lt=st>=0;at?(color.copy(et.getClearColor(color)),et.setClearColor(it,lt?st:ot)):lt&&et.setClearAlpha(st),et.setRenderTarget(this.renderToScreen?null:_e),et.clear(this.color,this.depth,this.stencil),at?et.setClearColor(color,ot):lt&&et.setClearAlpha(ot)}},AUTO_SIZE=-1,Resolution=class extends EventDispatcher{constructor(et,_e=AUTO_SIZE,tt=AUTO_SIZE,nt=1){super(),this.resizable=et,this.baseSize=new Vector2(1,1),this.preferredSize=new Vector2(_e,tt),this.target=this.preferredSize,this.s=nt,this.effectiveSize=new Vector2,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const et=this.baseSize,_e=this.preferredSize,tt=this.effectiveSize,nt=this.scale;_e.width!==AUTO_SIZE?tt.width=_e.width:_e.height!==AUTO_SIZE?tt.width=Math.round(_e.height*(et.width/Math.max(et.height,1))):tt.width=Math.round(et.width*nt),_e.height!==AUTO_SIZE?tt.height=_e.height:_e.width!==AUTO_SIZE?tt.height=Math.round(_e.width/Math.max(et.width/Math.max(et.height,1),1)):tt.height=Math.round(et.height*nt)}get width(){return this.effectiveSize.width}set width(et){this.preferredWidth=et}get height(){return this.effectiveSize.height}set height(et){this.preferredHeight=et}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(et){this.s!==et&&(this.s=et,this.preferredSize.setScalar(AUTO_SIZE),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(et){this.scale=et}get baseWidth(){return this.baseSize.width}set baseWidth(et){this.baseSize.width!==et&&(this.baseSize.width=et,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(et){this.baseWidth=et}get baseHeight(){return this.baseSize.height}set baseHeight(et){this.baseSize.height!==et&&(this.baseSize.height=et,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(et){this.baseHeight=et}setBaseSize(et,_e){(this.baseSize.width!==et||this.baseSize.height!==_e)&&(this.baseSize.set(et,_e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(et){this.preferredSize.width!==et&&(this.preferredSize.width=et,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(et){this.preferredWidth=et}get preferredHeight(){return this.preferredSize.height}set preferredHeight(et){this.preferredSize.height!==et&&(this.preferredSize.height=et,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(et){this.preferredHeight=et}setPreferredSize(et,_e){(this.preferredSize.width!==et||this.preferredSize.height!==_e)&&(this.preferredSize.set(et,_e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(et){this.s=et.scale,this.baseSize.set(et.getBaseWidth(),et.getBaseHeight()),this.preferredSize.set(et.getPreferredWidth(),et.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return AUTO_SIZE}},workaroundEnabled=!1,OverrideMaterialManager=class{constructor(et=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(et),this.meshCount=0,this.replaceMaterial=_e=>{if(_e.isMesh){let tt;if(_e.material.flatShading)switch(_e.material.side){case DoubleSide:tt=this.materialsFlatShadedDoubleSide;break;case BackSide:tt=this.materialsFlatShadedBackSide;break;default:tt=this.materialsFlatShaded;break}else switch(_e.material.side){case DoubleSide:tt=this.materialsDoubleSide;break;case BackSide:tt=this.materialsBackSide;break;default:tt=this.materials;break}this.originalMaterials.set(_e,_e.material),_e.isSkinnedMesh?_e.material=tt[2]:_e.isInstancedMesh?_e.material=tt[1]:_e.material=tt[0],++this.meshCount}}}setMaterial(et){if(this.disposeMaterials(),this.material=et,et!==null){const _e=this.materials=[et.clone(),et.clone(),et.clone()];for(const tt of _e)tt.uniforms=Object.assign({},et.uniforms),tt.side=FrontSide;_e[2].skinning=!0,this.materialsBackSide=_e.map(tt=>{const nt=tt.clone();return nt.uniforms=Object.assign({},et.uniforms),nt.side=BackSide,nt}),this.materialsDoubleSide=_e.map(tt=>{const nt=tt.clone();return nt.uniforms=Object.assign({},et.uniforms),nt.side=DoubleSide,nt}),this.materialsFlatShaded=_e.map(tt=>{const nt=tt.clone();return nt.uniforms=Object.assign({},et.uniforms),nt.flatShading=!0,nt}),this.materialsFlatShadedBackSide=_e.map(tt=>{const nt=tt.clone();return nt.uniforms=Object.assign({},et.uniforms),nt.flatShading=!0,nt.side=BackSide,nt}),this.materialsFlatShadedDoubleSide=_e.map(tt=>{const nt=tt.clone();return nt.uniforms=Object.assign({},et.uniforms),nt.flatShading=!0,nt.side=DoubleSide,nt})}}render(et,_e,tt){const nt=et.shadowMap.enabled;if(et.shadowMap.enabled=!1,workaroundEnabled){const rt=this.originalMaterials;this.meshCount=0,_e.traverse(this.replaceMaterial),et.render(_e,tt);for(const it of rt)it[0].material=it[1];this.meshCount!==rt.size&&rt.clear()}else{const rt=_e.overrideMaterial;_e.overrideMaterial=this.material,et.render(_e,tt),_e.overrideMaterial=rt}et.shadowMap.enabled=nt}disposeMaterials(){if(this.material!==null){const et=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const _e of et)_e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return workaroundEnabled}static set workaroundEnabled(et){workaroundEnabled=et}},RenderPass=class extends Pass{constructor(et,_e,tt=null){super("RenderPass",et,_e),this.needsSwap=!1,this.clearPass=new ClearPass,this.overrideMaterialManager=tt===null?null:new OverrideMaterialManager(tt),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(et){super.renderToScreen=et,this.clearPass.renderToScreen=et}get overrideMaterial(){const et=this.overrideMaterialManager;return et!==null?et.material:null}set overrideMaterial(et){const _e=this.overrideMaterialManager;et!==null?_e!==null?_e.setMaterial(et):this.overrideMaterialManager=new OverrideMaterialManager(et):_e!==null&&(_e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(et){this.overrideMaterial=et}get clear(){return this.clearPass.enabled}set clear(et){this.clearPass.enabled=et}getSelection(){return this.selection}setSelection(et){this.selection=et}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(et){this.ignoreBackground=et}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(et){this.skipShadowMapUpdate=et}getClearPass(){return this.clearPass}render(et,_e,tt,nt,rt){const it=this.scene,st=this.camera,ot=this.selection,at=st.layers.mask,lt=it.background,ct=et.shadowMap.autoUpdate,ut=this.renderToScreen?null:_e;ot!==null&&st.layers.set(ot.getLayer()),this.skipShadowMapUpdate&&(et.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(it.background=null),this.clearPass.enabled&&this.clearPass.render(et,_e),et.setRenderTarget(ut),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(et,it,st):et.render(it,st),st.layers.mask=at,it.background=lt,et.shadowMap.autoUpdate=ct}},DepthDownsamplingPass=class extends Pass{constructor({normalBuffer:et=null,resolutionScale:_e=.5,width:tt=Resolution.AUTO_SIZE,height:nt=Resolution.AUTO_SIZE,resolutionX:rt=tt,resolutionY:it=nt}={}){super("DepthDownsamplingPass");const st=new DepthDownsamplingMaterial;st.normalBuffer=et,this.fullscreenMaterial=st,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter,depthBuffer:!1,type:FloatType}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const ot=this.resolution=new Resolution(this,rt,it,_e);ot.addEventListener("change",at=>this.setSize(ot.baseWidth,ot.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(et,_e=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=et,this.fullscreenMaterial.depthPacking=_e}render(et,_e,tt,nt,rt){et.setRenderTarget(this.renderToScreen?null:this.renderTarget),et.render(this.scene,this.camera)}setSize(et,_e){this.fullscreenMaterial.setSize(et,_e);const tt=this.resolution;tt.setBaseSize(et,_e),this.renderTarget.setSize(tt.width,tt.height)}initialize(et,_e,tt){if(!et.capabilities.isWebGL2)throw new Error("The DepthDownsamplingPass requires WebGL 2")}};function prefixSubstrings(et,_e,tt){for(const nt of _e){const rt="$1"+et+nt.charAt(0).toUpperCase()+nt.slice(1),it=new RegExp("([^\\.])(\\b"+nt+"\\b)","g");for(const st of tt.entries())st[1]!==null&&tt.set(st[0],st[1].replace(it,rt))}}function integrateEffect(et,_e,tt){var nt,rt,it,st,ot;let at=_e.getFragmentShader(),lt=_e.getVertexShader();const ct=at!==void 0&&/mainImage/.test(at),ut=at!==void 0&&/mainUv/.test(at);if(tt.attributes|=_e.getAttributes(),at===void 0)throw new Error(`Missing fragment shader (${_e.name})`);if(ut&&(tt.attributes&EffectAttribute.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${_e.name})`);if(!ct&&!ut)throw new Error(`Could not find mainImage or mainUv function (${_e.name})`);{const ft=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,ht=tt.shaderParts;let pt=(nt=ht.get(EffectShaderSection.FRAGMENT_HEAD))!=null?nt:"",gt=(rt=ht.get(EffectShaderSection.FRAGMENT_MAIN_UV))!=null?rt:"",dt=(it=ht.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE))!=null?it:"",vt=(st=ht.get(EffectShaderSection.VERTEX_HEAD))!=null?st:"",xt=(ot=ht.get(EffectShaderSection.VERTEX_MAIN_SUPPORT))!=null?ot:"";const _t=new Set,bt=new Set;if(ut&&(gt+=`	${et}MainUv(UV);
`,tt.uvTransformation=!0),lt!==null&&/mainSupport/.test(lt)){const Tt=/mainSupport *\([\w\s]*?uv\s*?\)/.test(lt);xt+=`	${et}MainSupport(`,xt+=Tt?`vUv);
`:`);
`;for(const St of lt.matchAll(/(?:varying\s+\w+\s+(\w*))/g))tt.varyings.add(St[1]),_t.add(St[1]),bt.add(St[1]);for(const St of lt.matchAll(ft))bt.add(St[1])}for(const Tt of at.matchAll(ft))bt.add(Tt[1]);for(const Tt of _e.defines.keys())bt.add(Tt.replace(/\([\w\s,]*\)/g,""));for(const Tt of _e.uniforms.keys())bt.add(Tt);bt.delete("while"),bt.delete("for"),bt.delete("if"),_e.uniforms.forEach((Tt,St)=>tt.uniforms.set(et+St.charAt(0).toUpperCase()+St.slice(1),Tt)),_e.defines.forEach((Tt,St)=>tt.defines.set(et+St.charAt(0).toUpperCase()+St.slice(1),Tt));const At=new Map([["fragment",at],["vertex",lt]]);prefixSubstrings(et,bt,tt.defines),prefixSubstrings(et,bt,At),at=At.get("fragment"),lt=At.get("vertex");const Mt=_e.blendMode;if(tt.blendModes.set(Mt.blendFunction,Mt),ct){_e.inputColorSpace!==null&&_e.inputColorSpace!==tt.colorSpace&&(dt+=_e.inputColorSpace===sRGBEncoding?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),_e.outputColorSpace!==null?tt.colorSpace=_e.outputColorSpace:_e.inputColorSpace!==null&&(tt.colorSpace=_e.inputColorSpace);const Tt=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;dt+=`${et}MainImage(color0, UV, `,(tt.attributes&EffectAttribute.DEPTH)!==0&&Tt.test(at)&&(dt+="depth, ",tt.readDepth=!0),dt+=`color1);
	`;const St=et+"BlendOpacity";tt.uniforms.set(St,Mt.opacity),dt+=`color0 = blend${Mt.blendFunction}(color0, color1, ${St});

	`,pt+=`uniform float ${St};

`}if(pt+=at+`
`,lt!==null&&(vt+=lt+`
`),ht.set(EffectShaderSection.FRAGMENT_HEAD,pt),ht.set(EffectShaderSection.FRAGMENT_MAIN_UV,gt),ht.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,dt),ht.set(EffectShaderSection.VERTEX_HEAD,vt),ht.set(EffectShaderSection.VERTEX_MAIN_SUPPORT,xt),_e.extensions!==null)for(const Tt of _e.extensions)tt.extensions.add(Tt)}}var EffectPass=class extends Pass{constructor(et,..._e){super("EffectPass"),this.fullscreenMaterial=new EffectMaterial(null,null,null,et),this.listener=tt=>this.handleEvent(tt),this.effects=[],this.setEffects(_e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(et){this.fullscreenMaterial.encodeOutput=et}get dithering(){return this.fullscreenMaterial.dithering}set dithering(et){const _e=this.fullscreenMaterial;_e.dithering=et,_e.needsUpdate=!0}setEffects(et){for(const _e of this.effects)_e.removeEventListener("change",this.listener);this.effects=et.sort((_e,tt)=>tt.attributes-_e.attributes);for(const _e of this.effects)_e.addEventListener("change",this.listener)}updateMaterial(){const et=new EffectShaderData;let _e=0;for(const st of this.effects)if(st.blendMode.blendFunction===BlendFunction.DST)et.attributes|=st.getAttributes()&EffectAttribute.DEPTH;else{if((et.attributes&st.getAttributes()&EffectAttribute.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${st.name})`);integrateEffect("e"+_e++,st,et)}let tt=et.shaderParts.get(EffectShaderSection.FRAGMENT_HEAD),nt=et.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE),rt=et.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_UV);const it=/\bblend\b/g;for(const st of et.blendModes.values())tt+=st.getShaderCode().replace(it,`blend${st.blendFunction}`)+`
`;(et.attributes&EffectAttribute.DEPTH)!==0?(et.readDepth&&(nt=`float depth = readDepth(UV);

	`+nt),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,et.colorSpace===sRGBEncoding&&(nt+=`color0 = sRGBToLinear(color0);
	`),et.uvTransformation?(rt=`vec2 transformedUv = vUv;
`+rt,et.defines.set("UV","transformedUv")):et.defines.set("UV","vUv"),et.shaderParts.set(EffectShaderSection.FRAGMENT_HEAD,tt),et.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,nt),et.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_UV,rt),et.shaderParts.forEach((st,ot,at)=>at.set(ot,st==null?void 0:st.trim().replace(/^#/,`
#`))),this.skipRendering=_e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(et)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(et,_e=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=et,this.fullscreenMaterial.depthPacking=_e;for(const tt of this.effects)tt.setDepthTexture(et,_e)}render(et,_e,tt,nt,rt){for(const it of this.effects)it.update(et,_e,nt);if(!this.skipRendering||this.renderToScreen){const it=this.fullscreenMaterial;it.inputBuffer=_e.texture,it.time+=nt,et.setRenderTarget(this.renderToScreen?null:tt),et.render(this.scene,this.camera)}}setSize(et,_e){this.fullscreenMaterial.setSize(et,_e);for(const tt of this.effects)tt.setSize(et,_e)}initialize(et,_e,tt){this.renderer=et;for(const nt of this.effects)nt.initialize(et,_e,tt);this.updateMaterial(),tt!==void 0&&tt!==UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const et of this.effects)et.removeEventListener("change",this.listener),et.dispose()}handleEvent(et){switch(et.type){case"change":this.recompile();break}}},KawaseBlurPass=class extends Pass{constructor({kernelSize:et=KernelSize.MEDIUM,resolutionScale:_e=.5,width:tt=Resolution.AUTO_SIZE,height:nt=Resolution.AUTO_SIZE,resolutionX:rt=tt,resolutionY:it=nt}={}){super("KawaseBlurPass"),this.renderTargetA=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const st=this.resolution=new Resolution(this,rt,it,_e);st.addEventListener("change",ot=>this.setSize(st.baseWidth,st.baseHeight)),this.blurMaterial=new KawaseBlurMaterial,this.copyMaterial=new CopyMaterial}getResolution(){return this.resolution}get dithering(){return this.copyMaterial.dithering}set dithering(et){this.copyMaterial.dithering=et}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(et){this.blurMaterial.kernelSize=et}get width(){return this.resolution.width}set width(et){this.resolution.preferredWidth=et}get height(){return this.resolution.height}set height(et){this.resolution.preferredHeight=et}get scale(){return this.blurMaterial.scale}set scale(et){this.blurMaterial.scale=et}getScale(){return this.blurMaterial.scale}setScale(et){this.blurMaterial.scale=et}getKernelSize(){return this.kernelSize}setKernelSize(et){this.kernelSize=et}getResolutionScale(){return this.resolution.scale}setResolutionScale(et){this.resolution.scale=et}render(et,_e,tt,nt,rt){const it=this.scene,st=this.camera,ot=this.renderTargetA,at=this.renderTargetB,lt=this.blurMaterial,ct=lt.kernelSequence;let ut=_e;this.fullscreenMaterial=lt;for(let ft=0,ht=ct.length;ft<ht;++ft){const pt=(ft&1)===0?ot:at;lt.kernel=ct[ft],lt.inputBuffer=ut.texture,et.setRenderTarget(pt),et.render(it,st),ut=pt}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=ut.texture,et.setRenderTarget(this.renderToScreen?null:tt),et.render(it,st)}setSize(et,_e){const tt=this.resolution;tt.setBaseSize(et,_e);const nt=tt.width,rt=tt.height;this.renderTargetA.setSize(nt,rt),this.renderTargetB.setSize(nt,rt),this.blurMaterial.setSize(et,_e)}initialize(et,_e,tt){tt!==void 0&&(this.renderTargetA.texture.type=tt,this.renderTargetB.texture.type=tt,tt!==UnsignedByteType?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):et.outputEncoding===sRGBEncoding&&(this.renderTargetA.texture.encoding=sRGBEncoding,this.renderTargetB.texture.encoding=sRGBEncoding))}static get AUTO_SIZE(){return Resolution.AUTO_SIZE}},LuminancePass=class extends Pass{constructor({renderTarget:et,luminanceRange:_e,colorOutput:tt,resolutionScale:nt=1,width:rt=Resolution.AUTO_SIZE,height:it=Resolution.AUTO_SIZE,resolutionX:st=rt,resolutionY:ot=it}={}){super("LuminancePass"),this.fullscreenMaterial=new LuminanceMaterial(tt,_e),this.needsSwap=!1,this.renderTarget=et,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const at=this.resolution=new Resolution(this,st,ot,nt);at.addEventListener("change",lt=>this.setSize(at.baseWidth,at.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(et,_e,tt,nt,rt){const it=this.fullscreenMaterial;it.inputBuffer=_e.texture,et.setRenderTarget(this.renderToScreen?null:this.renderTarget),et.render(this.scene,this.camera)}setSize(et,_e){const tt=this.resolution;tt.setBaseSize(et,_e),this.renderTarget.setSize(tt.width,tt.height)}initialize(et,_e,tt){tt!==void 0&&tt!==UnsignedByteType&&(this.renderTarget.texture.type=tt,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},MaskPass=class extends Pass{constructor(et,_e){super("MaskPass",et,_e),this.needsSwap=!1,this.clearPass=new ClearPass(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(et){this.inverse=et}get clear(){return this.clearPass.enabled}set clear(et){this.clearPass.enabled=et}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(et){this.inverted=et}render(et,_e,tt,nt,rt){const it=et.getContext(),st=et.state.buffers,ot=this.scene,at=this.camera,lt=this.clearPass,ct=this.inverted?0:1,ut=1-ct;st.color.setMask(!1),st.depth.setMask(!1),st.color.setLocked(!0),st.depth.setLocked(!0),st.stencil.setTest(!0),st.stencil.setOp(it.REPLACE,it.REPLACE,it.REPLACE),st.stencil.setFunc(it.ALWAYS,ct,4294967295),st.stencil.setClear(ut),st.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?lt.render(et,null):(lt.render(et,_e),lt.render(et,tt))),this.renderToScreen?(et.setRenderTarget(null),et.render(ot,at)):(et.setRenderTarget(_e),et.render(ot,at),et.setRenderTarget(tt),et.render(ot,at)),st.color.setLocked(!1),st.depth.setLocked(!1),st.stencil.setLocked(!1),st.stencil.setFunc(it.EQUAL,1,4294967295),st.stencil.setOp(it.KEEP,it.KEEP,it.KEEP),st.stencil.setLocked(!0)}},MipmapBlurPass=class extends Pass{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new DownsamplingMaterial,this.upsamplingMaterial=new UpsamplingMaterial,this.resolution=new Vector2}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(et){if(this.levels!==et){const _e=this.renderTarget;this.dispose();for(let tt=0;tt<et;++tt){const nt=_e.clone();nt.texture.name="Downsampling.Mipmap"+tt,this.downsamplingMipmaps.push(nt)}this.upsamplingMipmaps.push(_e);for(let tt=1,nt=et-1;tt<nt;++tt){const rt=_e.clone();rt.texture.name="Upsampling.Mipmap"+tt,this.upsamplingMipmaps.push(rt)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(et){this.upsamplingMaterial.radius=et}render(et,_e,tt,nt,rt){const{scene:it,camera:st}=this,{downsamplingMaterial:ot,upsamplingMaterial:at}=this,{downsamplingMipmaps:lt,upsamplingMipmaps:ct}=this;let ut=_e;this.fullscreenMaterial=ot;for(let ft=0,ht=lt.length;ft<ht;++ft){const pt=lt[ft];ot.setSize(ut.width,ut.height),ot.inputBuffer=ut.texture,et.setRenderTarget(pt),et.render(it,st),ut=pt}this.fullscreenMaterial=at;for(let ft=ct.length-1;ft>=0;--ft){const ht=ct[ft];at.setSize(ut.width,ut.height),at.inputBuffer=ut.texture,at.supportBuffer=lt[ft].texture,et.setRenderTarget(ht),et.render(it,st),ut=ht}}setSize(et,_e){const tt=this.resolution;tt.set(et,_e);let nt=tt.width,rt=tt.height;for(let it=0,st=this.downsamplingMipmaps.length;it<st;++it)nt=Math.round(nt*.5),rt=Math.round(rt*.5),this.downsamplingMipmaps[it].setSize(nt,rt),it<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[it].setSize(nt,rt)}initialize(et,_e,tt){if(tt!==void 0){const nt=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const rt of nt)rt.texture.type=tt;if(tt!==UnsignedByteType)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(et.outputEncoding===sRGBEncoding)for(const rt of nt)rt.texture.encoding=sRGBEncoding}}dispose(){super.dispose();for(const et of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))et.dispose()}},NormalPass=class extends Pass{constructor(et,_e,{renderTarget:tt,resolutionScale:nt=1,width:rt=Resolution.AUTO_SIZE,height:it=Resolution.AUTO_SIZE,resolutionX:st=rt,resolutionY:ot=it}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new RenderPass(et,_e,new MeshNormalMaterial);const at=this.renderPass;at.setBackgroundDisabled(!0),at.setShadowMapDisabled(!0);const lt=at.getClearPass();lt.setOverrideClearColor(new Color$2(7829503)),lt.setOverrideClearAlpha(1),this.renderTarget=tt,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter}),this.renderTarget.texture.name="NormalPass.Target");const ct=this.resolution=new Resolution(this,st,ot,nt);ct.addEventListener("change",ut=>this.setSize(ct.baseWidth,ct.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(et){this.resolution.scale=et}render(et,_e,tt,nt,rt){const it=this.renderToScreen?null:this.renderTarget;this.renderPass.render(et,it,it)}setSize(et,_e){const tt=this.resolution;tt.setBaseSize(et,_e),this.renderTarget.setSize(tt.width,tt.height)}},MILLISECONDS_TO_SECONDS=1/1e3,SECONDS_TO_MILLISECONDS=1e3,Timer=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(et){return this.fixedDeltaEnabled=et,this}isAutoResetEnabled(et){return this.autoReset}setAutoResetEnabled(et){return typeof document<"u"&&document.hidden!==void 0&&(et?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=et),this}getDelta(){return this.delta*MILLISECONDS_TO_SECONDS}getFixedDelta(){return this.fixedDelta*MILLISECONDS_TO_SECONDS}setFixedDelta(et){return this.fixedDelta=et*SECONDS_TO_MILLISECONDS,this}getElapsed(){return this.elapsed*MILLISECONDS_TO_SECONDS}getTimescale(){return this.timescale}setTimescale(et){return this.timescale=et,this}update(et){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=et!==void 0?et:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(et){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},EffectComposer$1=class{constructor(et=null,{depthBuffer:_e=!0,stencilBuffer:tt=!1,multisampling:nt=0,frameBufferType:rt}={}){this.renderer=null,this.inputBuffer=this.createBuffer(_e,tt,rt,nt),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new CopyPass,this.depthTexture=null,this.passes=[],this.timer=new Timer,this.autoRenderToScreen=!0,this.setRenderer(et)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(et){const _e=this.inputBuffer,tt=this.multisampling;tt>0&&et>0?(this.inputBuffer.samples=et,this.outputBuffer.samples=et,this.inputBuffer.dispose(),this.outputBuffer.dispose()):tt!==et&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(_e.depthBuffer,_e.stencilBuffer,_e.texture.type,et),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(et){if(this.renderer=et,et!==null){const _e=et.getSize(new Vector2),tt=et.getContext().getContextAttributes().alpha,nt=this.inputBuffer.texture.type;nt===UnsignedByteType&&et.outputEncoding===sRGBEncoding&&(this.inputBuffer.texture.encoding=sRGBEncoding,this.outputBuffer.texture.encoding=sRGBEncoding,this.inputBuffer.dispose(),this.outputBuffer.dispose()),et.autoClear=!1,this.setSize(_e.width,_e.height);for(const rt of this.passes)rt.initialize(et,tt,nt)}}replaceRenderer(et,_e=!0){const tt=this.renderer,nt=tt.domElement.parentNode;return this.setRenderer(et),_e&&nt!==null&&(nt.removeChild(tt.domElement),nt.appendChild(et.domElement)),tt}createDepthTexture(){const et=this.depthTexture=new DepthTexture;return this.inputBuffer.depthTexture=et,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(et.format=DepthStencilFormat,et.type=UnsignedInt248Type):et.type=UnsignedIntType,et}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const et of this.passes)et.setDepthTexture(null)}}createBuffer(et,_e,tt,nt){const rt=this.renderer,it=rt===null?new Vector2:rt.getDrawingBufferSize(new Vector2),st={minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:_e,depthBuffer:et,type:tt};let ot;return nt>0?(ot=Number(REVISION.replace(/\D+/g,""))<138?new WebGLMultisampleRenderTarget(it.width,it.height,st):new WebGLRenderTarget(it.width,it.height,st),ot.ignoreDepthForMultisampleCopy=!1,ot.samples=nt):ot=new WebGLRenderTarget(it.width,it.height,st),tt===UnsignedByteType&&rt!==null&&rt.outputEncoding===sRGBEncoding&&(ot.texture.encoding=sRGBEncoding),ot.texture.name="EffectComposer.Buffer",ot.texture.generateMipmaps=!1,ot}addPass(et,_e){const tt=this.passes,nt=this.renderer,rt=nt.getDrawingBufferSize(new Vector2),it=nt.getContext().getContextAttributes().alpha,st=this.inputBuffer.texture.type;if(et.setRenderer(nt),et.setSize(rt.width,rt.height),et.initialize(nt,it,st),this.autoRenderToScreen&&(tt.length>0&&(tt[tt.length-1].renderToScreen=!1),et.renderToScreen&&(this.autoRenderToScreen=!1)),_e!==void 0?tt.splice(_e,0,et):tt.push(et),this.autoRenderToScreen&&(tt[tt.length-1].renderToScreen=!0),et.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const ot=this.createDepthTexture();for(et of tt)et.setDepthTexture(ot)}else et.setDepthTexture(this.depthTexture)}removePass(et){const _e=this.passes,tt=_e.indexOf(et);if(tt!==-1&&_e.splice(tt,1).length>0){if(this.depthTexture!==null){const it=(ot,at)=>ot||at.needsDepthTexture;_e.reduce(it,!1)||(et.getDepthTexture()===this.depthTexture&&et.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&tt===_e.length&&(et.renderToScreen=!1,_e.length>0&&(_e[_e.length-1].renderToScreen=!0))}}removeAllPasses(){const et=this.passes;this.deleteDepthTexture(),et.length>0&&(this.autoRenderToScreen&&(et[et.length-1].renderToScreen=!1),this.passes=[])}render(et){const _e=this.renderer,tt=this.copyPass;let nt=this.inputBuffer,rt=this.outputBuffer,it=!1,st,ot,at;et===void 0&&(et=this.timer.update().getDelta());for(const lt of this.passes)lt.enabled&&(lt.render(_e,nt,rt,et,it),lt.needsSwap&&(it&&(tt.renderToScreen=lt.renderToScreen,st=_e.getContext(),ot=_e.state.buffers.stencil,ot.setFunc(st.NOTEQUAL,1,4294967295),tt.render(_e,nt,rt,et,it),ot.setFunc(st.EQUAL,1,4294967295)),at=nt,nt=rt,rt=at),lt instanceof MaskPass?it=!0:lt instanceof ClearMaskPass&&(it=!1))}setSize(et,_e,tt){const nt=this.renderer;if(et===void 0||_e===void 0){const it=nt.getSize(new Vector2);et=it.width,_e=it.height}nt.setSize(et,_e,tt);const rt=nt.getDrawingBufferSize(new Vector2);this.inputBuffer.setSize(rt.width,rt.height),this.outputBuffer.setSize(rt.width,rt.height);for(const it of this.passes)it.setSize(rt.width,rt.height)}reset(){const et=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(et)}dispose(){for(const et of this.passes)et.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},EffectShaderData=class{constructor(){this.shaderParts=new Map([[EffectShaderSection.FRAGMENT_HEAD,null],[EffectShaderSection.FRAGMENT_MAIN_UV,null],[EffectShaderSection.FRAGMENT_MAIN_IMAGE,null],[EffectShaderSection.VERTEX_HEAD,null],[EffectShaderSection.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=EffectAttribute.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=LinearEncoding}},add_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",alpha_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",average_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",color_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",color_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",color_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",darken_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",difference_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",divide_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",exclusion_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",hard_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",hard_mix_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",hue_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",invert_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",invert_rgb_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",lighten_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",linear_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",linear_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",linear_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",luminosity_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",multiply_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",negation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",normal_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",overlay_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",pin_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",reflect_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",saturation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",screen_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",soft_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",src_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",subtract_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",vivid_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",blendFunctions=new Map([[BlendFunction.ADD,add_default],[BlendFunction.ALPHA,alpha_default],[BlendFunction.AVERAGE,average_default],[BlendFunction.COLOR,color_default],[BlendFunction.COLOR_BURN,color_burn_default],[BlendFunction.COLOR_DODGE,color_dodge_default],[BlendFunction.DARKEN,darken_default],[BlendFunction.DIFFERENCE,difference_default],[BlendFunction.DIVIDE,divide_default],[BlendFunction.DST,null],[BlendFunction.EXCLUSION,exclusion_default],[BlendFunction.HARD_LIGHT,hard_light_default],[BlendFunction.HARD_MIX,hard_mix_default],[BlendFunction.HUE,hue_default],[BlendFunction.INVERT,invert_default],[BlendFunction.INVERT_RGB,invert_rgb_default],[BlendFunction.LIGHTEN,lighten_default],[BlendFunction.LINEAR_BURN,linear_burn_default],[BlendFunction.LINEAR_DODGE,linear_dodge_default],[BlendFunction.LINEAR_LIGHT,linear_light_default],[BlendFunction.LUMINOSITY,luminosity_default],[BlendFunction.MULTIPLY,multiply_default],[BlendFunction.NEGATION,negation_default],[BlendFunction.NORMAL,normal_default],[BlendFunction.OVERLAY,overlay_default],[BlendFunction.PIN_LIGHT,pin_light_default],[BlendFunction.REFLECT,reflect_default],[BlendFunction.SATURATION,saturation_default],[BlendFunction.SCREEN,screen_default],[BlendFunction.SOFT_LIGHT,soft_light_default],[BlendFunction.SRC,src_default],[BlendFunction.SUBTRACT,subtract_default],[BlendFunction.VIVID_LIGHT,vivid_light_default]]),BlendMode=class extends EventDispatcher{constructor(et,_e=1){super(),this._blendFunction=et,this.opacity=new Uniform(_e)}getOpacity(){return this.opacity.value}setOpacity(et){this.opacity.value=et}get blendFunction(){return this._blendFunction}set blendFunction(et){this._blendFunction=et,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(et){this.blendFunction=et}getShaderCode(){return blendFunctions.get(this.blendFunction)}},Effect=class extends EventDispatcher{constructor(et,_e,{attributes:tt=EffectAttribute.NONE,blendFunction:nt=BlendFunction.NORMAL,defines:rt=new Map,uniforms:it=new Map,extensions:st=null,vertexShader:ot=null}={}){super(),this.name=et,this.renderer=null,this.attributes=tt,this.fragmentShader=_e,this.vertexShader=ot,this.defines=rt,this.uniforms=it,this.extensions=st,this.blendMode=new BlendMode(nt),this.blendMode.addEventListener("change",at=>this.setChanged()),this._inputColorSpace=LinearEncoding,this._outputColorSpace=null}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(et){this._inputColorSpace=et,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(et){this._outputColorSpace=et,this.setChanged()}getName(){return this.name}setRenderer(et){this.renderer=et}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(et){this.attributes=et,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(et){this.fragmentShader=et,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(et){this.vertexShader=et,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(et,_e=BasicDepthPacking){}update(et,_e,tt){}setSize(et,_e){}initialize(et,_e,tt){}dispose(){for(const et of Object.keys(this)){const _e=this[et];(_e instanceof WebGLRenderTarget||_e instanceof Material||_e instanceof Texture||_e instanceof Pass)&&this[et].dispose()}}},bloom_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,BloomEffect=class extends Effect{constructor({blendFunction:et=BlendFunction.SCREEN,luminanceThreshold:_e=.9,luminanceSmoothing:tt=.025,mipmapBlur:nt=!1,intensity:rt=1,radius:it=.85,levels:st=8,kernelSize:ot=KernelSize.LARGE,resolutionScale:at=.5,width:lt=Resolution.AUTO_SIZE,height:ct=Resolution.AUTO_SIZE,resolutionX:ut=lt,resolutionY:ft=ct}={}){super("BloomEffect",bloom_default,{blendFunction:et,uniforms:new Map([["map",new Uniform(null)],["intensity",new Uniform(rt)]])}),this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new KawaseBlurPass({kernelSize:ot}),this.luminancePass=new LuminancePass({colorOutput:!0}),this.luminanceMaterial.threshold=_e,this.luminanceMaterial.smoothing=tt,this.mipmapBlurPass=new MipmapBlurPass,this.mipmapBlurPass.enabled=nt,this.mipmapBlurPass.radius=it,this.mipmapBlurPass.levels=st,this.uniforms.get("map").value=nt?this.mipmapBlurPass.texture:this.renderTarget.texture;const ht=this.resolution=new Resolution(this,ut,ft,at);ht.addEventListener("change",pt=>this.setSize(ht.baseWidth,ht.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(et){this.resolution.preferredWidth=et}get height(){return this.resolution.height}set height(et){this.resolution.preferredHeight=et}get dithering(){return this.blurPass.dithering}set dithering(et){this.blurPass.dithering=et}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(et){this.blurPass.kernelSize=et}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(et){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(et){this.uniforms.get("intensity").value=et}getIntensity(){return this.intensity}setIntensity(et){this.intensity=et}getResolutionScale(){return this.resolution.scale}setResolutionScale(et){this.resolution.scale=et}update(et,_e,tt){const nt=this.renderTarget,rt=this.luminancePass;rt.enabled?(rt.render(et,_e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(et,rt.renderTarget):this.blurPass.render(et,rt.renderTarget,nt)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(et,_e):this.blurPass.render(et,_e,nt)}setSize(et,_e){const tt=this.resolution;tt.setBaseSize(et,_e),this.renderTarget.setSize(tt.width,tt.height),this.blurPass.resolution.copy(tt),this.luminancePass.setSize(et,_e),this.mipmapBlurPass.setSize(et,_e)}initialize(et,_e,tt){this.blurPass.initialize(et,_e,tt),this.luminancePass.initialize(et,_e,tt),this.mipmapBlurPass.initialize(et,_e,tt),tt!==void 0&&(this.renderTarget.texture.type=tt,et.outputEncoding===sRGBEncoding&&(this.renderTarget.texture.encoding=sRGBEncoding))}},brightness_contrast_default="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",BrightnessContrastEffect=class extends Effect{constructor({blendFunction:et=BlendFunction.SRC,brightness:_e=0,contrast:tt=0}={}){super("BrightnessContrastEffect",brightness_contrast_default,{blendFunction:et,uniforms:new Map([["brightness",new Uniform(_e)],["contrast",new Uniform(tt)]])}),this.inputColorSpace=sRGBEncoding}get brightness(){return this.uniforms.get("brightness").value}set brightness(et){this.uniforms.get("brightness").value=et}getBrightness(et){return this.brightness}setBrightness(et){this.brightness=et}get contrast(){return this.uniforms.get("contrast").value}set contrast(et){this.uniforms.get("contrast").value=et}getContrast(et){return this.contrast}setContrast(et){this.contrast=et}},color_depth_default="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",ColorDepthEffect=class extends Effect{constructor({blendFunction:et,bits:_e=16}={}){super("ColorDepthEffect",color_depth_default,{blendFunction:et,uniforms:new Map([["factor",new Uniform(1)]])}),this.bits=0,this.bitDepth=_e}get bitDepth(){return this.bits}set bitDepth(et){this.bits=et,this.uniforms.get("factor").value=Math.pow(2,et/3)}getBitDepth(){return this.bitDepth}setBitDepth(et){this.bitDepth=et}},depth_default=`void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){
#ifdef INVERTED
vec3 color=vec3(1.0-depth);
#else
vec3 color=vec3(depth);
#endif
outputColor=vec4(color,inputColor.a);}`,DepthEffect=class extends Effect{constructor({blendFunction:et=BlendFunction.SRC,inverted:_e=!1}={}){super("DepthEffect",depth_default,{blendFunction:et,attributes:EffectAttribute.DEPTH}),this.inverted=_e}get inverted(){return this.defines.has("INVERTED")}set inverted(et){this.inverted!==et&&(et?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}isInverted(){return this.inverted}setInverted(et){this.inverted=et}},dot_screen_default="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",DotScreenEffect=class extends Effect{constructor({blendFunction:et,angle:_e=Math.PI*.5,scale:tt=1}={}){super("DotScreenEffect",dot_screen_default,{blendFunction:et,uniforms:new Map([["angle",new Uniform(new Vector2)],["scale",new Uniform(tt)]])}),this.angle=_e}get angle(){return Math.acos(this.uniforms.get("angle").value.y)}set angle(et){this.uniforms.get("angle").value.set(Math.sin(et),Math.cos(et))}getAngle(){return this.angle}setAngle(et){this.angle=et}get scale(){return this.uniforms.get("scale").value}set scale(et){this.uniforms.get("scale").value=et}};new Vector3;new Matrix4;var hue_saturation_default="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",HueSaturationEffect=class extends Effect{constructor({blendFunction:et=BlendFunction.SRC,hue:_e=0,saturation:tt=0}={}){super("HueSaturationEffect",hue_saturation_default,{blendFunction:et,uniforms:new Map([["hue",new Uniform(new Vector3)],["saturation",new Uniform(tt)]])}),this.hue=_e}get saturation(){return this.uniforms.get("saturation").value}set saturation(et){this.uniforms.get("saturation").value=et}getSaturation(){return this.saturation}setSaturation(et){this.saturation=et}get hue(){const et=this.uniforms.get("hue").value;return Math.acos((et.x*3-1)/2)}set hue(et){const _e=Math.sin(et),tt=Math.cos(et);this.uniforms.get("hue").value.set((2*tt+1)/3,(-Math.sqrt(3)*_e-tt+1)/3,(Math.sqrt(3)*_e-tt+1)/3)}getHue(){return this.hue}setHue(et){this.hue=et}};new Color$2;var noise_default=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,NoiseEffect=class extends Effect{constructor({blendFunction:et=BlendFunction.SCREEN,premultiply:_e=!1}={}){super("NoiseEffect",noise_default,{blendFunction:et}),this.premultiply=_e}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(et){this.premultiply!==et&&(et?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(et){this.premultiply=et}},scanlines_default=`uniform float count;
#ifdef SCROLL
uniform float scrollSpeed;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;
#ifdef SCROLL
y+=time*scrollSpeed;
#endif
vec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}`,ScanlineEffect=class extends Effect{constructor({blendFunction:et=BlendFunction.OVERLAY,density:_e=1.25,scrollSpeed:tt=0}={}){super("ScanlineEffect",scanlines_default,{blendFunction:et,uniforms:new Map([["count",new Uniform(0)],["scrollSpeed",new Uniform(0)]])}),this.resolution=new Vector2,this.d=_e,this.scrollSpeed=tt}get density(){return this.d}set density(et){this.d=et,this.setSize(this.resolution.width,this.resolution.height)}getDensity(){return this.density}setDensity(et){this.density=et}get scrollSpeed(){return this.uniforms.get("scrollSpeed").value}set scrollSpeed(et){this.uniforms.get("scrollSpeed").value=et,et===0?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}setSize(et,_e){this.resolution.set(et,_e),this.uniforms.get("count").value=Math.round(_e*this.density)}},shock_wave_default="uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",shock_wave_default2="uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",HALF_PI=Math.PI*.5,v2=new Vector3,ab=new Vector3,ShockWaveEffect=class extends Effect{constructor(et,_e=new Vector3,{speed:tt=2,maxRadius:nt=1,waveSize:rt=.2,amplitude:it=.05}={}){super("ShockWaveEffect",shock_wave_default,{vertexShader:shock_wave_default2,uniforms:new Map([["active",new Uniform(!1)],["center",new Uniform(new Vector2(.5,.5))],["cameraDistance",new Uniform(1)],["size",new Uniform(1)],["radius",new Uniform(-rt)],["maxRadius",new Uniform(nt)],["waveSize",new Uniform(rt)],["amplitude",new Uniform(it)]])}),this.position=_e,this.speed=tt,this.camera=et,this.screenPosition=this.uniforms.get("center").value,this.time=0,this.active=!1}get amplitude(){return this.uniforms.get("amplitude").value}set amplitude(et){this.uniforms.get("amplitude").value=et}get waveSize(){return this.uniforms.get("waveSize").value}set waveSize(et){this.uniforms.get("waveSize").value=et}get maxRadius(){return this.uniforms.get("maxRadius").value}set maxRadius(et){this.uniforms.get("maxRadius").value=et}get epicenter(){return this.position}set epicenter(et){this.position=et}getPosition(){return this.position}setPosition(et){this.position=et}getSpeed(){return this.speed}setSpeed(et){this.speed=et}explode(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}update(et,_e,tt){const nt=this.position,rt=this.camera,it=this.uniforms,st=it.get("active");if(this.active){const ot=it.get("waveSize").value;rt.getWorldDirection(v2),ab.copy(rt.position).sub(nt),st.value=v2.angleTo(ab)>HALF_PI,st.value&&(it.get("cameraDistance").value=rt.position.distanceTo(nt),v2.copy(nt).project(rt),this.screenPosition.set((v2.x+1)*.5,(v2.y+1)*.5)),this.time+=tt*this.speed;const at=this.time-ot;it.get("radius").value=at,at>=(it.get("maxRadius").value+ot)*2&&(this.active=!1,st.value=!1)}}},sepia_default="uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",SepiaEffect=class extends Effect{constructor({blendFunction:et,intensity:_e=1}={}){super("SepiaEffect",sepia_default,{blendFunction:et,uniforms:new Map([["weightsR",new Uniform(new Vector3(.393,.769,.189))],["weightsG",new Uniform(new Vector3(.349,.686,.168))],["weightsB",new Uniform(new Vector3(.272,.534,.131))]])})}get intensity(){return this.blendMode.opacity.value}set intensity(et){this.blendMode.opacity.value=et}getIntensity(){return this.intensity}setIntensity(et){this.intensity=et}get weightsR(){return this.uniforms.get("weightsR").value}get weightsG(){return this.uniforms.get("weightsG").value}get weightsB(){return this.uniforms.get("weightsB").value}},tone_mapping_default=`#include <tonemapping_pars_fragment>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
uniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;
#if TONE_MAPPING_MODE != 2
uniform float averageLuminance;
#endif
vec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);
#if TONE_MAPPING_MODE == 2
float lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));
#else
float lumAvg=averageLuminance;
#endif
float lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2
outputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);
#else
outputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);
#endif
}`,ToneMappingEffect=class extends Effect{constructor({blendFunction:et=BlendFunction.SRC,adaptive:_e=!0,mode:tt=_e?ToneMappingMode.REINHARD2_ADAPTIVE:ToneMappingMode.REINHARD2,resolution:nt=256,maxLuminance:rt=16,whitePoint:it=rt,middleGrey:st=.6,minLuminance:ot=.01,averageLuminance:at=1,adaptationRate:lt=1}={}){super("ToneMappingEffect",tone_mapping_default,{blendFunction:et,uniforms:new Map([["luminanceBuffer",new Uniform(null)],["maxLuminance",new Uniform(rt)],["whitePoint",new Uniform(it)],["middleGrey",new Uniform(st)],["averageLuminance",new Uniform(at)]])}),this.renderTargetLuminance=new WebGLRenderTarget(1,1,{minFilter:LinearMipmapLinearFilter,depthBuffer:!1}),this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetLuminance.texture.name="Luminance",this.luminancePass=new LuminancePass({renderTarget:this.renderTargetLuminance}),this.adaptiveLuminancePass=new AdaptiveLuminancePass(this.luminancePass.texture,{minLuminance:ot,adaptationRate:lt}),this.uniforms.get("luminanceBuffer").value=this.adaptiveLuminancePass.texture,this.resolution=nt,this.mode=tt}get mode(){return Number(this.defines.get("TONE_MAPPING_MODE"))}set mode(et){if(this.mode!==et){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",et.toFixed(0)),et){case ToneMappingMode.REINHARD:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case ToneMappingMode.OPTIMIZED_CINEON:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case ToneMappingMode.ACES_FILMIC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel");break}this.adaptiveLuminancePass.enabled=et===ToneMappingMode.REINHARD2_ADAPTIVE,this.setChanged()}}getMode(){return this.mode}setMode(et){this.mode=et}get whitePoint(){return this.uniforms.get("whitePoint").value}set whitePoint(et){this.uniforms.get("whitePoint").value=et}get middleGrey(){return this.uniforms.get("middleGrey").value}set middleGrey(et){this.uniforms.get("middleGrey").value=et}get averageLuminance(){return this.uniforms.get("averageLuminance").value}set averageLuminance(et){this.uniforms.get("averageLuminance").value=et}get adaptiveLuminanceMaterial(){return this.adaptiveLuminancePass.fullscreenMaterial}getAdaptiveLuminanceMaterial(){return this.adaptiveLuminanceMaterial}get resolution(){return this.luminancePass.resolution.width}set resolution(et){const _e=Math.max(0,Math.ceil(Math.log2(et))),tt=Math.pow(2,_e);this.luminancePass.resolution.setPreferredSize(tt,tt),this.adaptiveLuminanceMaterial.mipLevel1x1=_e}getResolution(){return this.resolution}setResolution(et){this.resolution=et}get adaptive(){return this.mode===ToneMappingMode.REINHARD2_ADAPTIVE}set adaptive(et){this.mode=et?ToneMappingMode.REINHARD2_ADAPTIVE:ToneMappingMode.REINHARD2}get adaptationRate(){return this.adaptiveLuminanceMaterial.adaptationRate}set adaptationRate(et){this.adaptiveLuminanceMaterial.adaptationRate=et}get distinction(){return console.warn(this.name,"distinction was removed."),1}set distinction(et){console.warn(this.name,"distinction was removed.")}update(et,_e,tt){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(et,_e),this.adaptiveLuminancePass.render(et,null,null,tt))}initialize(et,_e,tt){this.adaptiveLuminancePass.initialize(et,_e,tt)}},vignette_default=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,VignetteEffect=class extends Effect{constructor({blendFunction:et,technique:_e=VignetteTechnique.DEFAULT,eskil:tt=!1,offset:nt=.5,darkness:rt=.5}={}){super("VignetteEffect",vignette_default,{blendFunction:et,defines:new Map([["VIGNETTE_TECHNIQUE",_e.toFixed(0)]]),uniforms:new Map([["offset",new Uniform(nt)],["darkness",new Uniform(rt)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(et){this.technique!==et&&(this.defines.set("VIGNETTE_TECHNIQUE",et.toFixed(0)),this.setChanged())}get eskil(){return this.technique===VignetteTechnique.ESKIL}set eskil(et){this.technique=et?VignetteTechnique.ESKIL:VignetteTechnique.DEFAULT}getTechnique(){return this.technique}setTechnique(et){this.technique=et}get offset(){return this.uniforms.get("offset").value}set offset(et){this.uniforms.get("offset").value=et}getOffset(){return this.offset}setOffset(et){this.offset=et}get darkness(){return this.uniforms.get("darkness").value}set darkness(et){this.uniforms.get("darkness").value=et}getDarkness(){return this.darkness}setDarkness(et){this.darkness=et}};const wrapEffect=function(et,_e){return _e===void 0&&(_e=BlendFunction.NORMAL),react.exports.forwardRef(function(nt,rt){let{blendFunction:it,opacity:st,...ot}=nt;const at=useThree(ct=>ct.invalidate),lt=react.exports.useMemo(()=>new et(ot),[ot]);return react.exports.useLayoutEffect(()=>{lt.blendMode.blendFunction=!it&&it!==0?_e:it,st!==void 0&&(lt.blendMode.opacity.value=st),at()},[it,lt.blendMode,st]),jsx("primitive",{ref:rt,object:lt,dispose:null})})},Bloom=wrapEffect(BloomEffect,BlendFunction.ADD);wrapEffect(BrightnessContrastEffect);wrapEffect(ColorDepthEffect);wrapEffect(DepthEffect);const EffectComposerContext=react.exports.createContext(null),EffectComposer=React.memo(react.exports.forwardRef((et,_e)=>{let{children:tt,camera:nt,scene:rt,resolutionScale:it,enabled:st=!0,renderPriority:ot=1,autoClear:at=!0,depthBuffer:lt,disableNormalPass:ct,stencilBuffer:ut,multisampling:ft=8,frameBufferType:ht=HalfFloatType}=et;const{gl:pt,scene:gt,camera:dt,size:vt}=useThree();rt=rt||gt,nt=nt||dt;const[xt,_t,bt]=react.exports.useMemo(()=>{const Tt=isWebGL2Available(),St=new EffectComposer$1(pt,{depthBuffer:lt,stencilBuffer:ut,multisampling:ft>0&&Tt?ft:0,frameBufferType:ht});St.addPass(new RenderPass(rt,nt));let Ct=null,Et=null;return ct||(Et=new NormalPass(rt,nt),Et.enabled=!1,St.addPass(Et),it!==void 0&&Tt&&(Ct=new DepthDownsamplingPass({normalBuffer:Et.texture,resolutionScale:it}),Ct.enabled=!1,St.addPass(Ct))),[St,Et,Ct]},[nt,pt,lt,ut,ft,ht,rt,ct,it]);react.exports.useEffect(()=>xt==null?void 0:xt.setSize(vt.width,vt.height),[xt,vt]),useFrame((Tt,St)=>{st&&(pt.autoClear=at,xt.render(St))},st?ot:0);const At=react.exports.useRef(null);react.exports.useLayoutEffect(()=>{let Tt;return At.current&&At.current.__r3f&&xt&&(Tt=new EffectPass(nt,...At.current.__r3f.objects),Tt.renderToScreen=!0,xt.addPass(Tt),_t&&(_t.enabled=!0),bt&&(bt.enabled=!0)),()=>{Tt&&(xt==null||xt.removePass(Tt)),_t&&(_t.enabled=!1),bt&&(bt.enabled=!1)}},[xt,tt,nt,_t,bt]);const Mt=react.exports.useMemo(()=>({composer:xt,normalPass:_t,downSamplingPass:bt,resolutionScale:it,camera:nt,scene:rt}),[xt,_t,bt,it,nt,rt]);return react.exports.useImperativeHandle(_e,()=>xt,[xt]),jsx(EffectComposerContext.Provider,{value:Mt,children:jsx("group",{ref:At,children:tt})})}));wrapEffect(DotScreenEffect);wrapEffect(HueSaturationEffect);wrapEffect(NoiseEffect,BlendFunction.COLOR_DODGE);wrapEffect(ScanlineEffect,BlendFunction.OVERLAY);wrapEffect(SepiaEffect);wrapEffect(ToneMappingEffect);wrapEffect(VignetteEffect);wrapEffect(ShockWaveEffect);function Effects(){const et=reactResponsive.exports.useMediaQuery({query:"(min-width: 976px)"});return jsx(Fragment,{children:jsx(EffectComposer,{disableNormalPass:!0,children:et&&jsx(Bloom,{luminanceThreshold:.1,mipmapBlur:!0,luminanceSmoothing:0,intensity:1,blendFunction:0})})})}function _defineProperty(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function ownKeys(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);_e&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(et,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread2(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(tt),!0).forEach(function(nt){_defineProperty(et,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return et}new Vector2;new Vector2;function _classCallCheck(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}var Grad=function et(_e,tt,nt){var rt=this;_classCallCheck(this,et),_defineProperty(this,"dot2",function(it,st){return rt.x*it+rt.y*st}),_defineProperty(this,"dot3",function(it,st,ot){return rt.x*it+rt.y*st+rt.z*ot}),this.x=_e,this.y=tt,this.z=nt},grad3=[new Grad(1,1,0),new Grad(-1,1,0),new Grad(1,-1,0),new Grad(-1,-1,0),new Grad(1,0,1),new Grad(-1,0,1),new Grad(1,0,-1),new Grad(-1,0,-1),new Grad(0,1,1),new Grad(0,-1,1),new Grad(0,1,-1),new Grad(0,-1,-1)],p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],perm=new Array(512),gradP=new Array(512),seed=function et(_e){_e>0&&_e<1&&(_e*=65536),_e=Math.floor(_e),_e<256&&(_e|=_e<<8);for(var tt=0;tt<256;tt++){var nt;tt&1?nt=p[tt]^_e&255:nt=p[tt]^_e>>8&255,perm[tt]=perm[tt+256]=nt,gradP[tt]=gradP[tt+256]=grad3[nt%12]}};seed(0);function normalizeSeed(et){if(typeof et=="number")et=Math.abs(et);else if(typeof et=="string"){var _e=et;et=0;for(var tt=0;tt<_e.length;tt++)et=(et+(tt+1)*(_e.charCodeAt(tt)%96))%2147483647}return et===0&&(et=311),et}function lcgRandom(et){var _e=normalizeSeed(et);return function(){var tt=_e*48271%2147483647;return _e=tt,tt/2147483647}}var Generator=function et(_e){var tt=this;_classCallCheck(this,et),_defineProperty(this,"seed",0),_defineProperty(this,"init",function(nt){tt.seed=nt,tt.value=lcgRandom(nt)}),_defineProperty(this,"value",lcgRandom(this.seed)),this.init(_e)},defaultGen=new Generator(Math.random()),defaultSphere={radius:1,center:[0,0,0]};function inSphere(et,_e){for(var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultGen,nt=_objectSpread2(_objectSpread2({},defaultSphere),_e),rt=nt.radius,it=nt.center,st=0;st<et.length;st+=3){var ot=Math.pow(tt.value(),.3333333333333333),at=tt.value()*2-1,lt=tt.value()*2-1,ct=tt.value()*2-1,ut=Math.sqrt(at*at+lt*lt+ct*ct);at=ot*at/ut,lt=ot*lt/ut,ct=ot*ct/ut,et[st]=at*rt+it[0],et[st+1]=lt*rt+it[1],et[st+2]=ct*rt+it[2]}return et}const Alpha="/assets/Alpha2.828d0965.png";function Stars(et){const _e=react.exports.useRef(),[tt]=useLoader(TextureLoader,[Alpha]),nt=react.exports.useRef(),[rt]=react.exports.useState(()=>inSphere(new Float32Array(4e4),{radius:43}));return useFrame((it,st)=>{nt.current.rotation.x-=st/72,nt.current.rotation.y-=st/108}),jsx("group",{rotation:[0,0,Math.PI/4],position:[0,-10,100],children:jsx(Points,{ref:nt,positions:rt,stride:3,frustumCulled:!1,...et,children:jsx(PointMaterial,{transparent:!0,color:"#87defa",size:.2,sizeAttenuation:!0,depthWrite:!1,ref:_e,map:tt,blending:2})})})}function TextDW(et){const _e=react.exports.useRef(),tt=.2;return useFrame(nt=>{const rt=Math.cos(nt.clock.elapsedTime)*20,it=Math.sin(nt.clock.elapsedTime)*20;_e.current.layers[0].origin.set(rt/2,0,0),_e.current.layers[1].origin.set(rt,it,rt),_e.current.layers[2].origin.set(it,rt,it)}),jsx("group",{...et,dispose:null,scale:1,children:jsxs(Text,{font:"Mysteria.otf",fontSize:10,position:[0,15,0],children:["Dreamwalker",jsxs(LayerMaterial,{ref:_e,toneMapped:!1,children:[jsx(Depth,{colorA:"#ff0080",colorB:"black",alpha:1,mode:"normal",near:4*3.5*tt,far:4*3.5,origin:[0,0,0]}),jsx(Depth,{colorA:"blue",colorB:"#f7b955",alpha:1,mode:"add",near:4*14*tt,far:4*14,origin:[0,1,1]}),jsx(Depth,{colorA:"green",colorB:"#f7b955",alpha:1,mode:"add",near:4*21*tt,far:4*21,origin:[0,1,-1]}),jsx(Fresnel,{mode:"add",color:"white",intensity:.5,power:1.5,bias:.05})]})]})})}useGLTF.preload("/Moon.gltf");var THREE_MeshLine$1={exports:{}};const require$$0=getAugmentedNamespace(three_module);(function(et,_e){(function(){var tt=this,nt=typeof commonjsRequire<"u",rt=tt.THREE||nt&&require$$0;if(!rt)throw new Error("MeshLine requires three.js");class it extends rt.BufferGeometry{constructor(){super(),this.isMeshLine=!0,this.type="MeshLine",this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new rt.Matrix4,Object.defineProperties(this,{geometry:{enumerable:!0,get:function(){return this}},geom:{enumerable:!0,get:function(){return this._geom},set:function(ct){this.setGeometry(ct,this.widthCallback)}},points:{enumerable:!0,get:function(){return this._points},set:function(ct){this.setPoints(ct,this.widthCallback)}}})}}it.prototype.setMatrixWorld=function(lt){this.matrixWorld=lt},it.prototype.setGeometry=function(lt,ct){this._geometry=lt,this.setPoints(lt.getAttribute("position").array,ct)},it.prototype.setPoints=function(lt,ct){if(!(lt instanceof Float32Array)&&!(lt instanceof Array)){console.error("ERROR: The BufferArray of points is not instancied correctly.");return}if(this._points=lt,this.widthCallback=ct,this.positions=[],this.counters=[],lt.length&&lt[0]instanceof rt.Vector3)for(var ut=0;ut<lt.length;ut++){var ft=lt[ut],ht=ut/lt.length;this.positions.push(ft.x,ft.y,ft.z),this.positions.push(ft.x,ft.y,ft.z),this.counters.push(ht),this.counters.push(ht)}else for(var ut=0;ut<lt.length;ut+=3){var ht=ut/lt.length;this.positions.push(lt[ut],lt[ut+1],lt[ut+2]),this.positions.push(lt[ut],lt[ut+1],lt[ut+2]),this.counters.push(ht),this.counters.push(ht)}this.process()};function st(lt,ct){var ut=new rt.Matrix4,ft=new rt.Ray,ht=new rt.Sphere,pt=new rt.Vector3,gt=this.geometry;if(gt.boundingSphere||gt.computeBoundingSphere(),ht.copy(gt.boundingSphere),ht.applyMatrix4(this.matrixWorld),lt.ray.intersectSphere(ht,pt)!==!1){ut.copy(this.matrixWorld).invert(),ft.copy(lt.ray).applyMatrix4(ut);var dt=new rt.Vector3,vt=new rt.Vector3,xt=new rt.Vector3,_t=this instanceof rt.LineSegments?2:1,bt=gt.index,At=gt.attributes;if(bt!==null)for(var Mt=bt.array,Tt=At.position.array,St=At.width.array,Ct=0,Et=Mt.length-1;Ct<Et;Ct+=_t){var Rt=Mt[Ct],It=Mt[Ct+1];dt.fromArray(Tt,Rt*3),vt.fromArray(Tt,It*3);var Ot=St[Math.floor(Ct/3)]!==void 0?St[Math.floor(Ct/3)]:1,kt=lt.params.Line.threshold+this.material.lineWidth*Ot/2,$t=kt*kt,jt=ft.distanceSqToSegment(dt,vt,pt,xt);if(!(jt>$t)){pt.applyMatrix4(this.matrixWorld);var Ht=lt.ray.origin.distanceTo(pt);Ht<lt.near||Ht>lt.far||(ct.push({distance:Ht,point:xt.clone().applyMatrix4(this.matrixWorld),index:Ct,face:null,faceIndex:null,object:this}),Ct=Et)}}}}it.prototype.raycast=st,it.prototype.compareV3=function(lt,ct){var ut=lt*6,ft=ct*6;return this.positions[ut]===this.positions[ft]&&this.positions[ut+1]===this.positions[ft+1]&&this.positions[ut+2]===this.positions[ft+2]},it.prototype.copyV3=function(lt){var ct=lt*6;return[this.positions[ct],this.positions[ct+1],this.positions[ct+2]]},it.prototype.process=function(){var lt=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];var ct,ut;this.compareV3(0,lt-1)?ut=this.copyV3(lt-2):ut=this.copyV3(0),this.previous.push(ut[0],ut[1],ut[2]),this.previous.push(ut[0],ut[1],ut[2]);for(var ft=0;ft<lt;ft++){if(this.side.push(1),this.side.push(-1),this.widthCallback?ct=this.widthCallback(ft/(lt-1)):ct=1,this.width.push(ct),this.width.push(ct),this.uvs.push(ft/(lt-1),0),this.uvs.push(ft/(lt-1),1),ft<lt-1){ut=this.copyV3(ft),this.previous.push(ut[0],ut[1],ut[2]),this.previous.push(ut[0],ut[1],ut[2]);var ht=ft*2;this.indices_array.push(ht,ht+1,ht+2),this.indices_array.push(ht+2,ht+1,ht+3)}ft>0&&(ut=this.copyV3(ft),this.next.push(ut[0],ut[1],ut[2]),this.next.push(ut[0],ut[1],ut[2]))}this.compareV3(lt-1,0)?ut=this.copyV3(1):ut=this.copyV3(lt-1),this.next.push(ut[0],ut[1],ut[2]),this.next.push(ut[0],ut[1],ut[2]),!this._attributes||this._attributes.position.count!==this.positions.length?this._attributes={position:new rt.BufferAttribute(new Float32Array(this.positions),3),previous:new rt.BufferAttribute(new Float32Array(this.previous),3),next:new rt.BufferAttribute(new Float32Array(this.next),3),side:new rt.BufferAttribute(new Float32Array(this.side),1),width:new rt.BufferAttribute(new Float32Array(this.width),1),uv:new rt.BufferAttribute(new Float32Array(this.uvs),2),index:new rt.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new rt.BufferAttribute(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()};function ot(lt,ct,ut,ft,ht){var pt;if(lt=lt.subarray||lt.slice?lt:lt.buffer,ut=ut.subarray||ut.slice?ut:ut.buffer,lt=ct?lt.subarray?lt.subarray(ct,ht&&ct+ht):lt.slice(ct,ht&&ct+ht):lt,ut.set)ut.set(lt,ft);else for(pt=0;pt<lt.length;pt++)ut[pt+ft]=lt[pt];return ut}it.prototype.advance=function(lt){var ct=this._attributes.position.array,ut=this._attributes.previous.array,ft=this._attributes.next.array,ht=ct.length;ot(ct,0,ut,0,ht),ot(ct,6,ct,0,ht-6),ct[ht-6]=lt.x,ct[ht-5]=lt.y,ct[ht-4]=lt.z,ct[ht-3]=lt.x,ct[ht-2]=lt.y,ct[ht-1]=lt.z,ot(ct,6,ft,0,ht-6),ft[ht-6]=lt.x,ft[ht-5]=lt.y,ft[ht-4]=lt.z,ft[ht-3]=lt.x,ft[ht-2]=lt.y,ft[ht-1]=lt.z,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0},rt.ShaderChunk.meshline_vert=["",rt.ShaderChunk.logdepthbuf_pars_vertex,rt.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","	 vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",rt.ShaderChunk.logdepthbuf_vertex,rt.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",rt.ShaderChunk.fog_vertex,"}"].join(`
`),rt.ShaderChunk.meshline_frag=["",rt.ShaderChunk.fog_pars_fragment,rt.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",rt.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",rt.ShaderChunk.fog_fragment,"}"].join(`
`);class at extends rt.ShaderMaterial{constructor(ct){super({uniforms:Object.assign({},rt.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new rt.Color(16777215)},opacity:{value:1},resolution:{value:new rt.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new rt.Vector2(1,1)}}),vertexShader:rt.ShaderChunk.meshline_vert,fragmentShader:rt.ShaderChunk.meshline_frag}),this.isMeshLineMaterial=!0,this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(ut){this.uniforms.lineWidth.value=ut}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(ut){this.uniforms.map.value=ut}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(ut){this.uniforms.useMap.value=ut}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(ut){this.uniforms.alphaMap.value=ut}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(ut){this.uniforms.useAlphaMap.value=ut}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(ut){this.uniforms.color.value=ut}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(ut){this.uniforms.opacity.value=ut}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(ut){this.uniforms.resolution.value.copy(ut)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(ut){this.uniforms.sizeAttenuation.value=ut}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(ut){this.uniforms.dashArray.value=ut,this.useDash=ut!==0?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(ut){this.uniforms.dashOffset.value=ut}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(ut){this.uniforms.dashRatio.value=ut}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(ut){this.uniforms.useDash.value=ut}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(ut){this.uniforms.visibility.value=ut}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(ut){this.uniforms.alphaTest.value=ut}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(ut){this.uniforms.repeat.value.copy(ut)}}}),this.setValues(ct)}}at.prototype.copy=function(lt){return rt.ShaderMaterial.prototype.copy.call(this,lt),this.lineWidth=lt.lineWidth,this.map=lt.map,this.useMap=lt.useMap,this.alphaMap=lt.alphaMap,this.useAlphaMap=lt.useAlphaMap,this.color.copy(lt.color),this.opacity=lt.opacity,this.resolution.copy(lt.resolution),this.sizeAttenuation=lt.sizeAttenuation,this.dashArray.copy(lt.dashArray),this.dashOffset.copy(lt.dashOffset),this.dashRatio.copy(lt.dashRatio),this.useDash=lt.useDash,this.visibility=lt.visibility,this.alphaTest=lt.alphaTest,this.repeat.copy(lt.repeat),this},et.exports&&(_e=et.exports={MeshLine:it,MeshLineMaterial:at,MeshLineRaycast:st}),_e.MeshLine=it,_e.MeshLineMaterial=at,_e.MeshLineRaycast=st}).call(commonjsGlobal)})(THREE_MeshLine$1,THREE_MeshLine$1.exports);const THREE_MeshLine=THREE_MeshLine$1.exports,meshline=_mergeNamespaces({__proto__:null,default:THREE_MeshLine},[THREE_MeshLine$1.exports]),MoonAlpha="/assets/Alpha.3e3d496f.png";function Trailer(){extend$2(meshline);const[et]=useLoader(TextureLoader,[MoonAlpha]),_e=react.exports.useRef(),tt=react.exports.useRef();useFrame(({mouse:rt})=>{const it=rt.x*window.innerWidth/13.6,st=rt.y*window.innerHeight/13.6-22;_e.current.position.set(it,st,5),_e.current.rotation.set(-st,it,5)});const nt=react.exports.useRef();return jsx(Fragment,{children:jsx("group",{ref:nt,children:jsxs(Trail,{width:0,color:"hotpink",length:20,decay:2,local:!1,stride:0,interval:1,target:_e,attenuation:rt=>rt,children:[jsx(Sphere,{args:[1,16],ref:_e,children:jsx("meshStandardMaterial",{})}),jsx("meshLineMaterial",{ref:tt,lineWidth:5,color:"lightblue",useMap:!0,map:et,blending:5})]})})})}const MoonLoading="/assets/MoonLoading.96e8c19e.png";function Page1(){const et=useNavigate();function _e(){const rt=react.exports.useRef(),it=.7;return useFrame(st=>{const ot=Math.cos(st.clock.elapsedTime)*95,at=Math.sin(st.clock.elapsedTime)*95;rt.current.layers[0].origin.set(ot/2,0,0),rt.current.layers[1].origin.set(ot,at,ot),rt.current.layers[2].origin.set(at,ot,at),rt.current.layers[3].origin.set(ot,at,ot)}),jsx(Environment,{background:"only",frames:1/0,children:jsxs("mesh",{scale:1e3,children:[jsx("sphereGeometry",{args:[1,64,64]}),jsxs(LayerMaterial,{ref:rt,toneMapped:!1,color:"gray",side:BackSide,children:[jsx(Depth,{colorA:"#ff0090",colorB:"black",alpha:1,mode:"normal",near:95*3.5*it,far:95*3.5,origin:[0,0,0]}),jsx(Depth,{colorA:"blue",colorB:"#568ded",alpha:1,mode:"add",near:87*14*it,far:87*14,origin:[0,1,1]}),jsx(Depth,{colorA:"blue",colorB:"#aa30d6",alpha:1,mode:"add",near:87*21*it,far:87*21,origin:[0,1,-1]}),jsx(Depth,{colorA:"white",colorB:"red",alpha:1,mode:"overlay",near:10*8*it,far:10*8,origin:[1,-1,-1]}),jsx(Fresnel,{mode:"add",color:"white",intensity:.1,power:.7,bias:.05})]})]})})}function tt(rt){const it=react.exports.useRef();return jsx(PerspectiveCamera,{...rt,ref:it,fov:60,near:1,far:1e3,makeDefault:!0,position:[0,-22.5,125]})}function nt(){const{active:rt,progress:it,errors:st,item:ot,loaded:at,total:lt}=useProgress(),[ct,ut]=react.exports.useState(!1);return useFrame(ft=>{ft.clock.elapsedTime>5&&ut(!0)}),jsx(Html,{center:!0,children:jsx("div",{className:"font-Dreamscape relative flex h-[100vh] w-[100vw] flex-col items-center justify-center bg-black  text-center text-4xl text-white",children:jsxs("div",{className:"relative bottom-[5vw]",children:[jsx("img",{src:MoonLoading}),ct?jsx("p",{children:"Loading failed - Please refresh the browser"}):jsxs("p",{children:[Math.floor(it)," % loaded"]})]})})})}return jsx("div",{className:"absolute h-full w-full ",children:jsx(Canvas$1,{children:jsxs(react.exports.Suspense,{fallback:jsx(nt,{}),children:[jsx(tt,{}),jsx("ambientLight",{}),jsx(Stars,{}),jsxs("group",{children:[jsx(Float,{speed:1,rotationIntensity:0,floatIntensity:1,floatingRange:[1,6],children:jsx(Cloud,{speed:-.01,segments:80,width:20,depth:1,position:[10,-25,0]})}),jsx(Float,{speed:1,rotationIntensity:0,floatIntensity:1,floatingRange:[1,6],children:jsx(Cloud,{speed:-.01,segments:80,width:20,depth:1,position:[-10,-25,0]})})]}),jsx(Trailer,{}),jsx(Moon,{}),jsx(Effects,{}),jsx(Text,{font:"Mysteria.otf",fontSize:6.180469715698393,position:[-133,40,0],onClick:()=>et("/"),children:"EXIT"}),jsx(Text,{font:"Namita.otf",fontSize:6.180469715698393,position:[0,-45,0],children:"by Joshua Lim"}),jsx(TextDW,{}),jsx(_e,{})]})})})}client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(BrowserRouter,{children:jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(App,{})}),jsx(Route,{path:"gallery",element:jsx(Part3,{})}),jsx(Route,{path:"moon",element:jsx(Page1,{})}),jsx(Route,{path:"*",element:jsx("main",{style:{padding:"1rem"},children:jsx("p",{children:"There's nothing here!"})})})]})})}));
